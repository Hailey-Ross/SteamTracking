/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkappmgmt_storeadmin =
  self.webpackChunkappmgmt_storeadmin || []).push([
  [8644],
  {
    16091: (e) => {
      e.exports = {
        SnoozeContainer: "_3EzTyjJx_tZUEIHygPwAeC",
        SnoozeZ: "_1DArl3Gs9lXPcZdmCIlDJa",
        none: "_2k961y27AKXbskWyA2zQaU",
        Medium: "_3Gk3l3Mqo0jqDRvFGfTPAc",
        Large: "dTohLgV0utdpWZ84eh3FP",
        Dim: "_2TzRZ3Ygn6XEn8aKf7CqWB",
        Z1: "_1OyrTEYQD775VOOVC9yYrB",
        Z2: "_1mx4kcxNcUvaiFLQiW1XVR",
        Z3: "_1ltvK3RJFhtrbr2a5xlAR4",
        hoverParent: "_3ID9ReYE8luRukPMTP-Whi",
        animating: "_3CzX57jufuQpN4Qbp5pgJx",
        Snoring: "YuCwjyOZanmNiMAZTC3PY",
      };
    },
    32633: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        statusAndName: "_3n8q82Bm3oNKRPFbrZOlo8",
        threeLines: "_3ms2PyGmolbJQnm8GTFdFu",
        blocked: "_3_oRkgqe1Y70ZF2-ZfcuwG",
        richPresenceLabel: "_1k82NiWym4STegDGxRBHz2",
        playerName: "r62qzcdJQ0qezZglOtiUX",
        playerNickname: "_3T-9PkwXmTHyFu3b1pAn2O",
        playerNicknameBracket: "_2aXevHqPLXEAmOJUXiYYUT",
        richPresenceContainer: "_2nrSdZqzl3e01VZleoVaWp",
        gameName: "_2wpaptjZY-3Gn1HOPlL85O",
        NoMask: "_2J0ISrAA2GKgQuiyzzV10X",
        twoLine: "_27M2GicEvwcoEI5R0FSKi9",
        DNDContainer: "_12iWKn1QT-c-GZZ135BQJd",
        partyBeaconJoin: "_1K_OItH1ngVtuSuY6GVsE7",
        hidePersona: "_3meBuXhr41q7X3dEQZ1qqM",
        compactView: "_34CCBJ8pGM-KGInRNV98M-",
        noContextMenu: "_2317WeOq8zJVeOi6ILQbF8",
        gameIsPrivateIcon: "_1FPaN3pRLeYmPBLJgQxunA",
        PendingPersona: "ifetnZHsAIzsfvMphG0oC",
      };
    },
    26358: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        PersonaStatusIcon: "_1YsWjZbxFewllb2PX6ZhNm",
        MobilePhoneIcon: "_3pGV8dWHnZMYHcytHxo6pw",
      };
    },
    5167: (e) => {
      e.exports = {
        avatarHolder: "_1YGAHSfGavQI6MODJq-pJB",
        avatarStatus: "_1yIzy56YfJIliF6ykwhP2r",
        avatar: "_1p_QrI3ixF-RAwnxad9pEm",
        avatarFrame: "_3atbNcPD1_nRVTjOvryjWe",
        avatarFrameImg: "_338kJp62vHY5iDbsraaiKD",
      };
    },
    99970: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Picker: "_3acyH_WQ_vSWurNYLR84lI",
        Tabs: "_3DjoXcx0aMRDIV1BxLzlzU",
        Tab: "_1F8BhKKWf_XhG9QsmY_4lp",
        Focus: "_3GiAck-LzSOtfHEzFFPIIf",
        TabContent: "_2MluNdiOiHT-XKPQfFiIax",
        Active: "_2bg1wWoNj7Bs0BSiao9e9x",
        Content: "_1c-qebyqfejBT8hBvbUY7p",
        ItemList: "_2tnPHy-nozONfkJPqkZciP",
        Item: "_3zgndNTKG2ncwQVa-HXHBQ",
        SectionedPageTitle: "_1rBPdXFPZ9z7qEz2BZBhYQ",
        SectionTitle: "_3ff2fpyHtj6qUHH3pPpjyw",
        FilterInputContainer: "vzSOldNc6qJmpXlLVoi8i",
        FilterInput: "_18mhxKaUFfaWL6pJANncsS",
        AddonPickerMessage: "LGYf8sHBX6opSMqckeeCz",
      };
    },
    31819: (e) => {
      e.exports = {
        DragTarget: "_2Mg-bStVUsV3zkJRNUaZjq",
        DragOnTopOfMe: "_3-WTTPMPX4GxufqSR04Gkg",
        DescriptionCtn: "_3uiaPGqLBYMlnX-So8Uuft",
        EventEditorLinkInput: "_2tulFiDhA-iah2LXZZ1GlF",
        DefaultEditor: "_36qAa6zCOyemL0DiCxLwGA",
        ImportHTMLCtn: "_3uM5YAQEY1LveAKfkgM7j5",
        ImportHTMLTextArea: "_2NOGRpNcJQWs8pCpFFoCwR",
        ImportHTMLConvertButtons: "_1nQUAcA5S3aqDJRNQz5oLT",
        ImportHTMLCheckBoxLine: "_20sWotWCucYxN6u3F0-jTs",
        OptionRow: "_14XQ_WWE2YD8z5dypSR9Y7",
        TextEditorToolBarContainer: "_2aKjHRSTLCmwXOd6NKVUA",
        EmoteOuter: "_1DZyiih48mIow54yGR6XXu",
        YouTubeInput: "_20wVySXop7eQDzQRcOwNn5",
        YouTubePreviewInsertOption: "_2yhslIk48Qdy9SMc7DC6eo",
        DropDownScroll: "_3bxkyg2GKqazMOxFWXhI7",
        InsertSpeakerCtn: "DC83jus0EoZz3ysXK6MD3",
        TitleGroup: "_2VErp5BSy8ab7JNAzRyPt0",
        AssociateRowCtn: "_2uHPnpXfEI1SkSgP7vwDxQ",
        PhotoCtn: "_1B9kWqKujUOyzB_bAo8Di-",
        AboutCtn: "_3GgiFgSwzssreJ-RDYroNU",
        PreviewCtn: "_3C8BW9XDySkwXVtTi_hFRC",
        BBCodeEditorInputStyles: "_1Fpu1ewXNW_aRfdxkZsv_N",
      };
    },
    3593: (e) => {
      e.exports = {
        BBCode_Toggle: "_1MrSRudf_tohjAmkW_HA6_",
        Active: "_3tFqQiugHt6eFSbZv08D7g",
        BBCode: "_2DSQuZPlJBUMP3vM0Vwyi_",
      };
    },
    54798: (e) => {
      e.exports = { Image: "_2W_GzO_T6R6BQ4RrxOgElP" };
    },
    14411: (e) => {
      e.exports = {
        DynamicLinkBox: "_5Ycv2OaAUmMPwHk7QzlSa",
        DynamicLink_Preview: "_1SXvQfZ4FnIfvHD9QNJEj_",
        DynamicLink_Author: "_3_zLBASSeSDYtGm8VbxfqV",
        DynamicLink_Description: "_2LLBoIbsppmXCLYT1V1xiz",
        DynamicLink_Content: "_30q6o7ABM8oebSYDqW-fdt",
        DynamicLink_Name: "_22TUb91M9xP9epr90oX22b",
        DynamicLink_YoutubeViews: "_3wb0Belyk95x5pZXDxcq2G",
        Dynamiclink_Content: "_91C09eHmNrdly4cszBLRg",
        DynamicLink_URL: "_2wwThqrNwECQoWwRHmA4W2",
        DynamicLink_AuthorName: "_1ThflZ3oh90bOSwWck2uvJ",
        DynamicLink_Date: "_3MAjBa32AkuNxxJpgc9-QS",
        PreviewYouTubeVideo: "_2ydks0zXuSegy8SWijqkmu",
        sizeThumb: "kQ_wgWcGNL07sIwGVIJ5Z",
        sizeFull: "_2GDYxwH7GMXLMG3s5EEMy9",
        PlaceholderImg: "_2ql2qj2wtenENb-L4JoYdk",
        floatLeft: "_3ZwVB7qRUAXZBDGNNQwx3R",
        floatRight: "_1VimJ875doFZeJ1P97oNv7",
      };
    },
    87368: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        chatEntryControls: "_2gP0DqVyb1aEACymAe6if3",
        chatTextarea: "pewyBQoFSgFWo_Ms99aRm",
        chatEntryActionsGroup: "_3grea2u6WuuGLHj9gJFmzY",
        chatEntryActionsContainer: "_1X1-nhi0oX1Wy7y1mEIc1o",
        minHeightZero: "_1IsiNJFc7Y3ljzNu9insUW",
        chatSubmitButton: "_1IEiKQnjHpIv-m601y6hvP",
        EmbedButton: "_24xNxnnkSf6A1WY3MnCCeg",
        EmoticonPickerButton: "K-lPMiafCuZRqjfXykujt",
        disabled: "_2GM2kkVRqL-SdkG4oQjUzY",
        Inactive: "_34suBAZJZUCwMaOS-weV5a",
        AudioLines: "_1Hw30vL4sz7I8R99URDEft",
        Active: "_2gzj2y-ACf52YhRSlDMH4Q",
      };
    },
    56365: (e) => {
      e.exports = { Ctn: "MKp7iKIWfTMI5IdZDli5H" };
    },
    42742: (e) => {
      e.exports = {
        UploadPreviewContainer: "_2IhGMeK6GGuXbjQ48MOjR7",
        SVGIcon_Video: "_2TqYKiOB8bnnGRJruGNws9",
        UploadPreview: "_120QuIOG80zJaKXk5SF_1x",
        FileUploadFileName: "_2bbAVkB6PCkEQVXNXniigL",
        FileUploadCancel: "_2MPbUvUK6kHP88NzQ_8hT9",
        SVGIcon_X_Line: "_3ad65vz1XLF30QtU8LM8iz",
        FileUploadBtn: "_3gPV-KhPF344Rvr9YOL9zY",
        FileUploadProgressContainer: "ZZt3EWr-5pONQ4hVHf7UX",
        FileUploadProgressBarContainer: "_1J8k7HpptgVQvEYz7_gtl7",
        FileUploadProgressName: "_1c12oEN9a08yftLsKCAUjH",
      };
    },
    33431: (e) => {
      e.exports = {
        ArtPreview: "_2V4yU656RPmLOdVgyglB17",
        ArtNoArt: "_2_3rgZQxwdv6K3mkBzG54j",
      };
    },
    44652: (e) => {
      e.exports = {
        NewEmoticonIndicator: "_3B1SUx7hDHl_0zpJXbJMcC",
        NewEmoticonCircle: "_2ZOluvz9PNJJ_h5yPgdIGP",
        EmoticonSelector: "_3vBZ2psGCVrcbEVoBQUFUF",
        emoticon: "_316r8gf6PZbv2JR4fpKVey",
        large: "_2mWtZB9gvYuhLMQ5xsKs4_",
        EmoticonSelector_Emoticons: "_36jkpL_twKbqyzED6J7Wne",
        EmoticonSelector_Separator: "_2rHxROFxWkZaLXjZSiY_Hq",
        EmoticonSelector_SeparatorBackground: "_2VvGxXs4cHlRanfWIJJhoi",
        EmoticonSelector_Controls: "_2YkoXHMCezYfhh1lLCmgxb",
        EmoticonSelector_Item: "_3y7iJNKSXyBcN6xn9yYRHg",
        EmoticonSelector_Item_New: "gW-jgM1W9E29Jh50AV8zA",
        EffectHeading: "_1Lw2ADgIGwYLaQ5n1LgCpk",
        StickerHeading: "_1wzP2nxZlDU3pcN1Gouwu_",
        GetFestive: "fSRfSjZqDRKeYHrwRy6rO",
        TopDivider: "_1p-3szRH7xh_z2qWKwbsP6",
        BottomDivider: "_1dr6qhp_frbAw_Pkbfe6R4",
        StickerButton: "sJoLlh6QDjMbw_XRF-XQ",
        EffectButton: "_1RT9pH039kN6zvj_i8rx41",
        EmoticonHover: "_1GtsZWvAAnnuk-EjFP3su2",
        Info: "_1umzUN5_r4wX3cMjqcmR8o",
        Name: "_1rQ1eQ0H286uwxD4INOGCJ",
        AppName: "_1V_rH1P9mziCMvWLcZyS_m",
        StickerHoverSticker: "_3Cz-2frqABdb8gh63o0fQe",
        EffectHoverEffect: "_2s5VJya6OWxkqVplE0RfS0",
        PickerTab: "Qpqjxuir3kRqmuYohMcn3",
        Clock: "_2a7aO1BUm6NlQvhmkPue0m",
        EmoticonItem: "OfLMJLDRhpO6zuPdJSvku",
      };
    },
    3216: (e) => {
      e.exports = {
        Emoticon_Toggle: "_3XueYl9k__3VGLZQiibD_p",
        Active: "_2JoNKnXnpzEThiO1LP6oUj",
        Emoticon: "_3dAJwpMySCT4S71NZjocLV",
      };
    },
    28913: (e) => {
      e.exports = {
        ImagesOuterContainer: "seVYsqsBvNIhNdgm5lMX0",
        Hilight: "_1bs5jkswXKf2Nt741_B2WY",
        ImageContainer: "dkWWhWksETsEWR7ER3ri2",
        Image: "_2M4oAbXLW6w3weUH-YwytV",
        ImageFilename: "EazUbHW9el5tD37Rk-3p6",
      };
    },
    11448: (e) => {
      e.exports = {
        Header1: "_15FlIKB5sgBYLNjlnRazPY",
        Header2: "_1SWg2pG7YTaeugpLj3fW6k",
        Header3: "AX80F1i_ZmgUMWmsPWvNo",
        Link: "_3I3zkiwF6M2eVvWVHFacVj",
        LinkHost: "_3jOM4pyq2SdE_uRHvaRWPh",
        LinkButton: "_1PfAd0M_-Vrh9tOgXAisUm",
        UnorderedList: "_3sYJ7Td1e0G0Wslszv77S3",
        OrderedList: "_60l9YrodqVdHUXulDkdza",
        StoreWidget: "_3TYlQSP6hFhtuGEUbVM8KQ",
        MedalTVWidget: "_1Ysh110NzMKk_VgBtLkcd6",
        LoyaltyRewardCtn: "_2SGkeXedJcRZTSAzgtuA53",
        SaleSectionCtn: "_2Xrw_l-7ig2ztToSrh5Dpb",
        SaleTextCtn: "_2Z1dCNac3o26fLDA1IeFx-",
        ReminderCtn: "_1dtL2knihYWvV4T2avy9Wr",
        BlockQuote: "_2mfpGJGvlWF8ZHL_-MOJMM",
        SocialLink: "wn4FwMgAW1QzIStxhbCXt",
        SocialIcon: "_1wyn6hzKt_9ml_Crze-Ekm",
        LocalizeBlock: "hXuYi4usRGV_tb773Dc8X",
        CheckMark: "_1nwMVXwAnZD8l5cPLpvEo4",
        ScreenshotCarousel: "_3LgCSz07DP0VrGWLVlMSw5",
      };
    },
    64245: (e) => {
      e.exports = {
        sketchfab_play_overlay_image: "_3MwaEKJNu58I1KvIwJdAeD",
        sketchfabmodelembedded: "_2_Smm7QLZAZ8WW5CSW4vm9",
        dynamiclink_box: "_2-x_dOmS_2AwMXkbN7B-DC",
        dynamiclink_preview: "_3d1cc1MvsrwyqcpLVwS7QJ",
        dynamiclink_content: "_1HFFKy5SzlSdUqOeCydL6L",
        dynamiclink_name: "_2NgPQ0qVrod36jjY-_55o2",
        dynamiclink_type: "t-mzcLzTXIdeQQKC3UCeJ",
        dynamiclink_author: "e66Ttq_U2ApfaDbVb35RW",
      };
    },
    96008: (e) => {
      e.exports = { AppSummaryWidgetCtn: "_2WIqqLhxKCuXeK2LP_vP3M" };
    },
    38752: (e) => {
      e.exports = {
        FlexColumnContainer: "_1WvmGVRGgm5MFoTJsW3DAd",
        FullStartTime: "_1gZlxw3A6tqOUTbS7rsxNS",
        ReminderDialog: "_2S_bdWpSsv8t-xMXaatDRe",
        ReminderOptions: "P5dFjlcjntYO3MBpmnNTd",
        ReminderBackground: "GDF1pg6I2-fsJV9Ib75Ck",
        ReminderExpandsLeft: "_3RoUkcTDQEFcGwt-60ImT4",
        ReminderOption: "RNhWc6nCCuA65ebI2JVBQ",
        Unverified: "PNHvXs5BEqjMtw455tRLN",
        CheckboxWrapper: "_1g3ts8QBkEXEOw7NqaUwVQ",
        ReminderCheckBox: "_2bkmL-aJMfmBcfOPrx_RI6",
        IconMode: "_3L1VNojLrUQI_IpdJl124d",
        RemindBell: "_1MZ5h-VlF9vjDbILr_EMkh",
        RemindCheck: "_30e1oS1m2ZDesM7BW5QBqf",
        ReminderDefault: "_10z6nw8LJ533MfTzPVG6Ur",
        TextMode: "_2CgU9j3YQzsDZzM7X3dJMf",
        ReminderCheck: "FpEF0_tiY6AQyRiXKP1QJ",
        ReminderOpennedOptions: "_1Zj38ZBfmguhOgKFwnVOEv",
        ReminderOptionsHeader: "_1GBAq-spv5RQWCkLE-Nbcn",
        ReminderCalendarOptions: "_1GxfZUDhGN1Vux4nZu-X9n",
        ReminderSettings: "L3OIhrkTO8eeYH7y5A31k",
        ReminderNotes: "_1l8Na1zftWH86Bax-NewDi",
        RpcThrobber: "_2f9gFS-c1eYLNtoSj2_oXc",
      };
    },
    6582: (e) => {
      e.exports = {
        SearchResults: "_1tDREkmh35Cx8fnS3wzu-m",
        SmallText: "_2gsewqRaJ89nLEseKX8gRk",
      };
    },
    87676: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        strWidescreenWidth: "1420px",
        strPhoneWidth: "768px",
        FacetedBrowseInnerCtn: "hWbTIbfDv_T6qCKW7NQHG",
        FacetedBrowseControls: "_3fHFfh8udAeXDJOaEEEAX_",
        FacetMenuTitle: "_3K6UugTnxIu7Hi7pQ2uIYB",
        FacetedBrowseMatchCount: "_3jXlHobjqHjN2NMYLU0Ffx",
        FacetedBrowseReset: "CtoEOttT8oIQU61v1ElmF",
        Facet: "_2i4LTFpt5L1G9jhdRQiatY",
        FacetTitleCtn: "_3W_uVnD1PY3oxK4Z_3SFsb",
        FacetTitle: "_3L67OJmzdGjQ4fcAzZ2JvY",
        FacetValue: "Qu-ZCE2EM66oWdyl74Lzy",
        FacetValueEnabled: "_2kNesC2aPXsgepJodSCLei",
        FacetValueDeactivated: "_1J6AZHMH9HP_FQnXsPToHY",
        FacetValueName: "_3WMvo5MdrS9WFngIIdcTlU",
        FacetValueDescription: "_1Su6QbAk5GrkuZKaFPf3-x",
        FacetValueShowMore: "_230Th4e9r1WxI5YyW6Q8IA",
        FacetedBrowseItems: "NO-IPpXzHDNjw_TLDlIo7",
        FacetedBrowsePopupCtn: "Vyowzpcg7R39NHR8GlfWH",
        FacetedBrowsePopupLabel: "_1voIofEj5EuyghtjF0GDFu",
        FacetedBrowsePopup: "_35kqoHO3h-YeRdNU-PQ3vQ",
        FacetedBrowseFeedbackLink: "_3B2jYYB15017jfw_aJgCJl",
        FacetValuePriceSlider: "h8tqfyXMQ_FUI7RBTxcpV",
        SelectedFacetValuesTitle: "_1rCTF2jYTDoj9fDPHvDtKT",
        SelectedFacetValuesList: "_17tCWROexZRnRS-hxmKv4X",
        SelectedFacetValueCtn: "_1whZiFD2uNMQ5tOzC1WW_B",
        FacetValueSearch: "_1nSEf1AgnNzhW0QR6W-HaR",
      };
    },
    88436: (e) => {
      e.exports = {
        HorizontalScrollInDragForceCursor: "_1uftHLLCau5qwEX7iPmGOV",
      };
    },
    34216: (e) => {
      e.exports = {
        ArtworkDimensionTooSmall: "_8JWUNs4beh8JKImTVfd0O",
        UploadPreviewCtn: "ei0wWR3mb0L5b1FaTv6a9",
        UploadPreviewButtonsCtn: "_26B6AoCiKBGzwcWkCb3WC7",
        UploadPreviewDelete: "_341V_BWctUFnfZYSzx2ccV",
        UploadPreviewButton: "_2cbB1cqD4vHVmzfKIVfbxR",
        UploadPreviewError: "_2v0gpsyKTsA_DH1EOfSvWy",
        UploadPreviewWarning: "_3AsIIDTjjALqv1bpFhFYqA",
        UploadPreview: "_3pASZrqpJGF66HhDmaOZQ0",
        PreviewImgCtn: "_3cUm3eIHePztTha25LhC4_",
        PreviewImgInfo: "_3Iv_ta0j1KkrQSANN9Uelw",
      };
    },
    23188: (e) => {
      e.exports = {
        DragAndDropContainer: "_1BEPNI1VRg_n1yO7i-sYnG",
        DragAndDropContainerDragging: "_2pUkOvmrrCo5acF6P3gjVE",
        ImageUploadBar: "_3qMiPN9GMj5LzmUzsBvbkM",
        SelectImageButton: "_39lgcR-zD4iH4gArdGptkZ",
      };
    },
    60537: (e) => {
      e.exports = { Ctn: "_2di0mIGB91omFhL19a_fGT" };
    },
    16003: (e) => {
      e.exports = {
        SpeakerOuter: "_3KAg2UX08HxGfXZZAOrPAq",
        Speaker: "_2B3rVhLXsaPqHpT8uz1O9O",
        SpeakerPopup: "ntY3GKFRrX48t1GxnoRIN",
        SpeakerInfoOuter: "_20Ye7P_nY8rBWkSMkR8Dp-",
        SpeakerInfoInner: "_2ZeoLVWGb9YeVI2SAyhpaN",
        SpeakerTitle: "_29hmW7NAiYaImNa5h68YIM",
        SpeakerBio: "_1YoXPxN_WOyWKhelspz3Ub",
        SpeakerHover: "_1ctFcHjb_pwGqAc3mV4MOw",
      };
    },
    27599: (e) => {
      e.exports = {
        ApprovalRequiredCtn: "_800dAgI8q1JkibyWlzpPh",
        PendingApproval: "_3T81cImltETkWTzAoMxH9o",
        Approved: "_3oDUHCGsGm1rdMXgr-XPDS",
        Right: "_184CyOkdpt-vu_VTGEY7HF",
        Title: "_1TI4bt9ksj9wFD2mGAtA6O",
        RequireText: "rZkfYSxp7n03F7ByUknxL",
      };
    },
    3669: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        SaleItemBrowserContainer: "_2wLns48qa0uwOUf7ktqdsC",
        SaleItemBrowserHeaderContainer: "_MBp9iiFVfou4P_KdiF9c",
        SaleItemBrowserHeader: "_26iQ9YIsbJ729wLbuJgM9h",
        FlavorLabel: "Dhg57Pg1m91mAChUNE5_V",
        SelectedFlavor: "_3HhxiFyD3z9B-_UQP-oV9q",
        SuggestContainer: "_1jJg_V55YFWjEkI7F4JNw9",
        Debug: "BVxr5vTeyKyA8iLzaQiPe",
        EmptyResults: "_3_IxAJI78pkmDi2ujTaYgX",
        ShowContentsContainer: "_3IRkbvGD9KD6DdmHo16WAl",
        Loading: "_3rBnIcJ8z15r8hZq9fQ5lC",
        ShowContentsButton: "_3d9cKhzXJMPBYzFkB_IaRp",
        ResetItemsCtn: "_1XX4LznuQJhEe9mFuweU3-",
        ResetItems: "_1Yy62N2BhJzNak9SJEHV2l",
        SaleItemBrowserDebug: "_13HjZvbVKPiKmekX89NnR-",
        ShowHideLink: "_30XOgbs88SrdwcZ7XyR8tw",
        QueryTerm: "_12POAIjkSjfGJqTltHqu9w",
        Name: "_1wMufszavYvnVbk5mzCd_3",
        WGTesterLink: "_2UmRvWnSyWzANb64xXBKx7",
      };
    },
    9921: (e) => {
      e.exports = {
        CheckMark: "_3HeHPkhxLDKHDLqQp_XLag",
        DialogCtn: "ltlR6rptTQRn244cGfVi2",
        EquipCtn: "_2_8bZosfvse-eYrdsJpW2C",
      };
    },
    63493: (e) => {
      e.exports = { ErrorDiv: "_1Vj6Hkb34jRtoyYwl_5F13" };
    },
    37082: (e) => {
      e.exports = {
        GhostCtn: "_3gdzTxzNCX_Gc-8X5pQgs_",
        PlaceholderCap: "_2BOsP_g5aUUBYVezxCRa_J",
        GhostShine: "_3xEY-bCBTG6vnpuolzTDoB",
        CapsuleRow3: "_1sahv16V5tHT8PRTqVwzz6",
        CapsuleRow4: "_9DKx_1d2txBOQvDwNm-zZ",
        CapsuleRowSuperCapsule: "FmEG_up3yCbWvzMRJv_N4",
        ItemBrowserCapsule: "_29R4yo3Zgu0Dygp5L5xW8M",
        CapsuleRow23: "_1HLLGrDTk3E36kNusWeEoD",
        CapRow: "_3z4uumeai1p8JSr62VT_Ab",
        Caps2: "_2MWEjNa_nX248d_gcp6Zbc",
        Caps3: "_4y3JlrIe3uPgra_7v9cw5",
        CapsuleRow234: "_3U-4-sh_cWTmVcWntK6qOM",
        Caps4: "_1yJZ-dQrVmgdnCfnc8yO-H",
        SpotlightsRow: "bAHMzUqNAy2Xq1ePrFuQt",
        DailyDealsColumn: "_3S6lYTUXJqPhaF4posmbzW",
        MainCapRow: "_1pIEEUZQvRoNZf0Pwe9gG4",
        DetailsPlaceholder: "pZw5nvk2J3fGFkhu1ugLv",
        PlaceholderTitle: "_2DDPjfQVsmJ5EnpDjtGB6o",
        PlaceholderSubtitle: "kWEVIVlNmSi4yw2wD68J7",
        PlaceholderRelease: "_2JQKTyJBdOoh8Hmuq_e3AY",
        PlaceholderReviews: "_2BGG8HSp5ZJcCz6xUymgz_",
        PlaceholderTags: "gvNj1RK3sGxmLJn5FerDz",
      };
    },
    53343: (e) => {
      e.exports = {
        SectionLabelCtn: "_17xMeky_kZ43WbpZl9vxOD",
        SectionLabelRight: "_3B4IcBz_g9Smz-ZhZqs9Yu",
        SectionLabelLinkButton: "_1bw3D1_Tk_RQE5noTnFX8e",
        SectionTitleInnerCtn: "_2R3H5d67MhYF74HmKPYs4V",
      };
    },
    43589: (e) => {
      e.exports = {
        Ctn: "_1SGWR5axBUG592hu6GJWRM",
        DetailText: "aLmWPgO7PhOr5ioL0cVS5",
        RewardText: "_38NeVmLbHncBbSKN30g3qS",
        PostText: "_24LOxaKf5Hjcb733iGZrEV",
        ImgFullBagde: "_2Sm--8e22Dm4MdIs9dJLka",
      };
    },
    22945: (e) => {
      e.exports = { BroadcastCtn: "_3YzMiN4Ox4KCuthTY94uR0" };
    },
    13116: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Heading: "_1lIY_WGg-62UIbryS5WfiP",
        Body: "_1JDe7oZTCa7k1hylvgWQU1",
        HeaderBlock: "_3n-KUi74Nvym37yTD-ZsSx",
        Background: "OtPIjFzvgvhgBbFjn7amO",
        DimBackground: "_2kSJmpYyTj2gAEH1ZBffgE",
        Input: "BRkPzPAMsrHQSOzSTANuI",
        CopyContainer: "_2r_KSHMwd00BTU5-zhKPQA",
        Text: "_3NGNCHKvU_MuIpOPqB32yz",
        Link: "_3RoxODZBFEObZn4kKK7M_J",
        Button: "_1ARlQegyaQ1xENYcvSXm10",
        GenerateLinkButton: "_1TX0dzrWsVzzA7xx6gO-LJ",
        ProfileCard: "_2a7rsdJGZQpDQ6MyKqiYii",
        UserContainer: "vSokQZiyW2uoJ4XQ13If",
        Image: "vQTKBkWkaPy5_Jz4Xho8A",
        ProfileContent: "_29EO2NiT6EwmtrmnZ8acvQ",
        ProfileLink: "_14jbpUFs9QSgr8Iy_vP3gw",
        Failure: "_30nEPnTnnWdyYZykhZnojB",
        Success: "_1NPlBX3In8Dz7lxnySxuy4",
        FriendCodeSelector: "_35N5FeLM1pdhtNpkUkBHTB",
        SendInviteButton: "_3Izq1wTe9iIDhovEOVfYji",
      };
    },
    4656: (e) => {
      e.exports = {
        LinkRegionDragBox: "_3riG1T-WoOrvk6gHxsk5G8",
        EdgeDown: "x0k8JyUvHv3XknFgKSHxI",
        LinkRegionGridBox: "WNpt6CD1IUzZUrek8iEJb",
        LinkRegionEdge: "Cl8g8dzXIrBUPu0HGf0A7",
        TopLeft: "_3Or-wGV-vxenHgRL6Bf7Mq",
        Top: "_3FlcsTiQY6aXd3_mpvjZV-",
        TopRight: "_3nljJQ-kRTsD8vfs81gLNc",
        Left: "_2P2d4Fq25-kSlwOEImyi65",
        Middle: "_2HdpbjLDtrSvL8SMUzp3CZ",
        LinkRegionDelete: "_1MGOziYhPHUT4uX5LWLp0C",
        LinkRegionSettings: "_1Ko6IdN6EfeSpH9c2_HLrR",
        Right: "_1F5bNY0AiKk_BV55IsiVg4",
        BottomLeft: "lZCSb15ta1T3DxdoRNKZd",
        Bottom: "_1SsR1WRqAt6Q0y21FDraVL",
        BottomRight: "_234XsJ1EmRfigumGhIZwmG",
        topleft: "_2M_mJJpsF2GncVagKbNpR5",
        top: "_3ILUb_QE32LMbK_Po4M08I",
        topright: "e-0z6N58nqEZp8iBaIG3d",
        left: "_2heDAnrrVB0jNnMrzdUKyb",
        right: "_3zE2wK7XRKhNnxreUzaDR",
        bottomleft: "bKyXtwB0axV5V62lPP6Ft",
        bottom: "_wmyVys3fhLnGyLc088GB",
        bottomright: "_2SGw-eYOBGj6abOPT2Gajk",
        middle: "AlgGpSUP6HaxOsbjnDkXZ",
        LinkRegionButtonContainer: "_3a5LlIFNyILbT6a83q2q4K",
        DialogButton: "_3c_7tSvSVtdl-xyf0WsIqX",
        LinkRegionInfo: "_5q1DzV_IMrRtlvSpic141",
        LinkText: "_27FTjuQN7raGbztCJZm_RA",
      };
    },
    81602: (e) => {
      e.exports = {
        DateAndTime: "_1miMhQTx-6BvBZ1LsOjdgc",
        DateAndTimeInline: "_1jG_-tTU53X85RGx_FABL2",
        At: "_3D4jIToP-g1jxP4iLT74dh",
        ActiveEvent: "_2ZcVE43ISqOFTj9Zbw3msS",
        ActiveEventCallOut: "_y2DQDJ5toIRanQZFjDCx",
        RightSideTitles: "_3sPONDb9e2ctNJ23X97Rxx",
        DateToolTip: "_3zhjahHCGX4slI7ziVhROt",
        ShortDateAndTime: "_4K3Bl-RZYjH0IHfPO10FC",
        ShortDateRange: "_3sqcQTW9oCh_HBrotB1Dkw",
      };
    },
    49975: (e) => {
      e.exports = {
        Label: "RRbwyjtu6DDWq368gIMpp",
        ImportLocSampleButtonCtn: "_2LkAYVUsMXalhO677MqBVu",
        SampleTitle: "BnzCuGgCC4d99OApbmASf",
        ImportButton: "_3JC9N1mzXnjQw04LjPcXJZ",
      };
    },
    65534: (e) => {
      e.exports = { SearchResults: "_3ao90VJXRm_s7dNasLNd3I" };
    },
    79883: (e) => {
      e.exports = {
        AppCarouselTrailerCtn: "_3hJp_KxGfvcuBqWfaf-SG-",
        AutoplayCheckbox: "_36Ep17J5IbAH9RqeTWa3Do",
        AppVideo: "_2ykD7mgR5-KRsYdM3I-JX9",
        AppMainCap: "_2SJkcB2oxKVh5rSLllpCrB",
        PlayButton: "_2b7SFRnkwN997n8tmPQbqF",
      };
    },
    98866: (e) => {
      e.exports = {
        DiscoveryQueueWidgetCtn: "_1iOb7kxX4jlNjMFUt2RDOv",
        WidgetHeaderCtn: "_3u5R_qAzkfFc5FGMLl6oLQ",
        LaunchAction: "_1V7hoEWilfQFVdckmWMUQw",
        AppCarouselPosition: "_3bu52tsbUAHzNsGN-Xz9MR",
        Initialized: "DcGKBYENMbkm9PKsLVYCk",
        Spinner: "_3Pisp7jliQhnQ_Nnibmcnl",
        AppCarouselCtn: "_29s_cOjpA88IjrKyupRQOV",
        FadeIn: "_2Y2J0MqeRm1ZXGDH5xgWZb",
        WidgetHeaderText: "uUpemdkkWLSqt3nki_Hy3",
        AppCapsuleCtn: "_2dIBNAQQotoW3RfQxPx_vm",
        LibraryImage: "_2C3wbFIb3MoPIF-NXlWS8z",
        AppName: "_2t1rRlxJCQFLGaY-qjJFpm",
        LoginButton: "_24bCZFPgDZ_eHGtJC8dxYz",
        Placeholder: "_3rUZ-JhiTP2nj6JtsbJw-M",
      };
    },
    44910: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        DiscoveryQueueCarouselCtn: "_1GFC6TjYjXSR-MxCQkocw",
        TextLink: "_1hQVCEKKm0686F2TQ5jKqZ",
        DiscoveryQueueCarousel: "_2swWHiHYqMtbnwdXp4A-wT",
        DiscoveryQueueApp: "_2o_YH7iQcoTiVzhbh6shv6",
        Focused: "_2Xpm2jluqpPhvZkt4qV2la",
        DiscoveryQueueWrapper: "_1s3BJHclED7lkUNMZsGt50",
        revealDiscoveryQueueWrapper: "_308QKMPfcc661MUswJKlCt",
        AppVideoCtn: "_2XCS5oeY4-ddcFgh5cOruf",
        WishlistBadge: "_2vb6rnNxdzE01NeBM5YdEi",
        Active: "_2EDE0vOBIh9RPCPHvbgs_n",
        DeckVerifiedLogo: "_2mYU2X9tzK4C92Xu5L72wF",
        AppDetailsCtn: "_2E1O4WYjWuzY7dNtYgcgO4",
        AppDetailsCtnTop: "_3LnWP6csXkd0C81SKVx1z6",
        AppDetailsHeader: "_1Qn-xpwWsz9uDh7keTa5_e",
        AppLibraryHero: "_1TDRhABqDQLl136zPciHCp",
        RightColumn: "_35mWvKHX_Weq1W6CNnB-qW",
        AppName: "_3KC4Wk41W4rHQrtLDPRWaW",
        AppTagsCtn: "_1t4JVhBNqhvqwALl67ZbJ4",
        TagEntry: "UNDKTpLih2ZEzV2uoExnM",
        AppReviews: "_2lVXSaQlYWCt5Qiljpw2LG",
        RelevantCtn: "FGuCnuJCMLeJqxHKPRzPh",
        RelevantColumn: "_1HcOXSc7ZslGPDMKsqeBKz",
        RelevantItem: "_3I77jXI6J1pDAIej5-hW9Y",
        RelevantCheck: "qKF9PlhJmugxbs5G5Riyo",
        IgnoreLink: "_2OinPLGN1p5S6s1Xe7f-VZ",
        AppActionButtonsCtn: "_2bIsfpoa-eV0PgvvU5OZ4h",
        AppActionJustButtonsCtn: "_10l0MHL_aG0U61HtflsHNz",
        QueueButton: "_19cHbMq9PdFCW_3QFPwc9b",
        ButtonsRowWrap: "_1XcPEQrnVxyreWHDFGh6Z9",
        MainCapBlur: "_2TOx2eR7ThuU0OEKVeK9Nx",
        DiscoveryQueuePlaceholder: "_3ZUUI1o3Fji-5Qrb9UW659",
        IgnoredCtn: "_2e3_oKhctL2kiv8plDyrEy",
        IgnoredInfo: "_130E6kcqrzNENM_e5lXWGn",
        IgnoredTitle: "_1QXC5CNnvMV-AjMX17LEZd",
        IgnoredDescription: "_3RVP5s8xFVx-TdiJVcjwpH",
        UndoIgnoreButton: "wC564vWsox_ycv5ypDufV",
        AppDesc: "_3bAqJJ-foVitSEpb9xFPYK",
        YGlyph: "_1SpsGsdAn1eZ-3UlS2Ae5Y",
        SummaryContentCtn: "M522oEeyn-bo6wj_JyDQ3",
        SummaryTitle: "W4ekXIN9jxzThHQkPOuiC",
        YourStats: "_8PO3T1uPD2sskE7fyj_bP",
        SummaryGrid: "_1b0jZ4K0RB0I0ENvYTlHty",
        GridItem: "_12SabxrAEFweNs36zYUA0G",
        GridTitle: "_1vnt8x0_S3ZYgCDxhwk9Zu",
        GridNumber: "-Q4Axz0-oCVdqx-HyClje",
        GridSubTitle: "_1FQzN1EB30CmChaOQl4FJ3",
        SummaryActionButtonsCtn: "_1hRNcV1b-eZd3lNr6oI9VV",
        TopBarCtn: "_24gmm3gM0Km6XYQtbgKs8g",
        revealTopBarCtn: "_2Gt6GkC0b34_LEEd95aMXd",
        TopMargin: "_2xo1mKKqIA_FTpvTu9-bhE",
        BotomBarCtn: "YW9PrtoZAcR2gHNWf3_rG",
        LearnMoreLink: "_3bCDZVQlDJ8YnLQLC-CzwC",
        ControlsCtn: "_3UbRlxSTJEmIefFmWrlqoB",
        Disabled: "_1yh4oNhQcC0bRP3IZCPkPb",
        Primary: "_1ZYKEu44O80nIIoL2UpqY6",
        Launch: "uZjq4gPY7W1sLpncBvF_S",
        Wide: "SD-xULu43Og64mhCqi-hh",
        QueueNavArrow: "_1kgdoykEjmj1HD-vK-Ljp5",
        Enable: "_1hqwMmNNA3kIQjARtartBc",
        RightArrow: "_1ZHCC8f9izvSQQmPp_Eypj",
        LeftArrow: "_3BctdD5E_AKBT6H4LnamxK",
        ReleventSimilarAppsCtn: "_3wqiWOivjfAAvQoxlfz8a8",
        RecommendingCuratorsCtn: "II031elGhwJaddnX6q1XI",
        WhyRelevant: "WBWfZf2g2j5nsEYOaj6wC",
        SimilarAppCtn: "_2oeoSHx3W89cVkmrwtH9Nx",
        SimilarAppImg: "_2eNyYCFzBoljqX6LsIkF9s",
        SimilarAppText: "_3MS2G4FwHHBpQbqdIL8iHk",
        FriendAvatarsCtn: "kOfo-820yKLRs2Pus89kJ",
        RelevantTextBold: "_2FiP4-8V1dSUc9PgRos4Lb",
        AppDescription: "Kzj5Imp3SCGHJSD-O5VVr",
        TradingCardCtn: "_36Qbj4GIdrhv2f_uX7vsLZ",
        TradingCardImage: "_3wa0dk07B7jK4ewgy8yxJu",
        Bold: "_1SxI5ayhi5f2b4w_SthlVG",
        FriendBlockCtn: "_2a8FgCmh-veVpUTOZeCtd6",
        PersonaStatus: "_3HMhzN_MiPPWODIFbdnJUO",
        ProgressCtn: "_1IvtAxW82ld9UeJbL3ZsOi",
        ProgressDot: "_2f92W7wZ-CFPAcp8T5RURM",
        ProgressDotActive: "_2oIovOj2h79JrSKRJENJ7H",
        ProgressDotHidden: "n2UAYkLpCKtsqZYHTKWn_",
        DiscoveryQueueName: "_1hDU6OrNPboWPC_QOXnFAn",
      };
    },
    6791: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        mentionDialogPosition: "_1bkURvo-kTAM9QVTbhu8KU",
        mentionDialog: "_3cYwTZottPHUZlRdtGxHI0",
        mentionSearchText: "_3YEqWFipelXM8TorxOM0-B",
        suggestOption: "_2vKzaUZjsSot6P6v7AhDga",
        mentionSearchOption: "_3KZn9I8f0AHvfTeoLhMm7N",
        manyMatches: "_3Y9oJ0AX3ad0QANwRsEBeh",
        selected: "vuyQsbjGz1XyM66XierTV",
        nickname: "_35J9NdmaC1T1fSafK7Hr6F",
        mentionSearchMatch: "mBrO4h40KOM8bo3anCsrz",
      };
    },
    97342: (e) => {
      e.exports = {
        GraphicalAssetsTabs: "_36r8gl5xbOCl3auJ3n_QlS",
        GraphicalAssetsTab: "K1_TpPRugybUSZ7-2Q6Lz",
        Active: "_37f6MbKHjwO1qFFuks0sTJ",
        GraphicalAssetStatus: "ojMj8nqJL_5W-K7A_IEob",
        VOWarning: "_21XR-ix3BTEJLybcEZ5WLH",
        StatusSuccess: "_1HWSee7PsxQ5iVbJM0p5-9",
        StatusDanger: "_2jgbNWld-7Gtf6BxRwKF8n",
        StatusCaution: "_31Lxus7enF5o2STla_4chs",
      };
    },
    46351: (e) => {
      e.exports = {
        CropImage: "_3Mto69pCMQlEfShymcHW9I",
        CropPreviewGroup: "_1d4RWFvC7b8KzmlbvM3AHL",
        CropPreviewLabel: "_3gxY-pqVJpQ7dlEObcF4LR",
      };
    },
    60285: (e) => {
      e.exports = {
        ReleaseDateText: "_2GEfYJTcLo5vBafPciEQQt",
        Large: "_2iZ5Ywtplltt46RqW2G9kb",
      };
    },
    91743: (e) => {
      e.exports = {
        CreateCustomDiscountCtn: "_2T8DyF_QPmBfwHdjQByUkw",
        TimezoneNotice: "_3b_Fw9HRyniOqpKjCVbJ_W",
        Section: "_1LCTirlb4CZV9rVWaTGzaC",
        InstructionsCtn: "FnFwdZ7IvBGGnBEW81xgv",
        Warning: "_2RAeXWxmz-7eErRQYQkKAL",
        RequiredFieldWarning: "_1JnjbiJK8-S_Ya75S7AU5L",
        CooldownWarning: "_1LzOxkCM8rqX0LzwRnOUVw",
        CustomInstructionsCtn: "_2tqOEqpmWsMuxNeKGDW0db",
        DiscountCtn: "_1fE6JV_C3li52QMjcFFp4P",
        DiscountHelperCtn: "_3B4DZI92_MgAH2lFBqLT2e",
        HistoryLine: "ZmVYLu1ME_gfz4YM-CqDw",
        AvailableRange: "trSI7N_YmfiTjB6_fZqCl",
        DiscountedRange: "_2ysY6eQ8VtwC_Coxlloy5r",
        Dates: "_6Z2m03wBi10Igmh1Z5OR0",
        SelectedEvent: "_13wZta-VC2vD-qiWs80UCA",
        DiscountName: "_3UxnEIfBIeRKlxkpVOySxB",
        DiscountPercentage: "IAC4vBBcGaruTisdh19cS",
        DiscountRange: "mddbOKO0RIOIQeJ-h7eI9",
        AvailableText: "_1METezLK8YEbSMQkhZhC8X",
        DiscountEventSelectDropDown: "_1TuVi1JR-0DBYY4TZIszqX",
        DiscountPctHistory: "PO8Y8S9HEomMJUP-qXPvH",
        DropDownScroll: "_3jSyZs1wgd5ouPf8uJViw7",
        DateCtn: "_3ylapx07wP2ox2t3Lyvms3",
        DatePicker: "_2n6EdGGO1j6FYfzT96LBG2",
        SelectedPackage: "_3BWNETam2oBjvwOILDcLuL",
        OnePackageResult: "_1HqM33jwjHjyFrCKKvAcs_",
        PackageName: "_3xE_QwJ0Eme9shoT2g-5-3",
        ClearSelectedPackage: "_27zzrFCxyekWP38JCQNZJX",
        SearchResults: "_2m4PZ8dsvzkVgbli4GQMFc",
        SummaryLine: "_1XXEb28Oa0RFnF31Aji2RG",
        PackageList: "vwVXi8gp1fIkw6_n6be6w",
        PackageHeaderImage: "_2eRO8Z0INkSMTBIoL4V8j-",
        DiscountLengthCtn: "U9VTONZz_t3ROedWvMDYW",
        DiscountPercentCtn: "_2YPdFQCJjv9rNcNL2wEu4x",
      };
    },
    63226: (e) => {
      e.exports = {
        DiscountGridCtn: "_3THzepUIt_9YaOf4KmNcW4",
        Title: "ieZ0La3YWoVXTqHlUonFW",
        DiscountsFilterBar: "_1Rr15kfbsKhzqpYqu2mJ25",
        DiscountSelectDropDown: "_1vpeLno-fxLiEr36lSvB9_",
        DiscountFilterCheckbox: "_2K2RilMOnElfQZ1WRNhQfo",
        UpdatingMessage: "_13PLUpybO095PSWN2KtKcP",
        DiscountGridWrapper: "_6SeSQKhdlkGydbt8O0I-E",
        DiscountGrid: "_39Ize8dokzZuzGXAaSq_NF",
        DataCell: "_3V8Jbtexw6tKPwushv5utD",
        DiscountInput: "_2bWSQewEdMrW-n5hoKq7IF",
        HasDiscount: "_16Z51dJHAoSqaIqUudtaBV",
        LiveEvent: "MJbOkh8JnJKSOBUlou2j8",
        DiscountValueCtn: "At0eU37TeAd2RakZ3xCuN",
        ConflictWarning: "_3ypGB4aVOIjKy5eaTZaY5K",
        NeedsOptIn: "Wp6D3m2s9U42GDdQiMSLK",
        RegistrationLink: "_2pjYaTAJ1gBsQUkNnAG9pq",
        TheLinkItself: "_3ku7CZTyNt80HY8kHW7EDm",
        CellPct: "xbyPggdhYH7OS4g4gtPFt",
        TextCell: "_30Pxi4p4svYvt0gjfdB8rT",
        ResetButton: "_1lJpMiF_7fipvb0Fwh_1PG",
        ResetButtonCtn: "_2fvdeP5_XBAt2WV5YkcI2N",
        IneligibleNoApp: "UrglOIGSdnO0bq19ifw8o",
        ChangedLocally: "zv4kmAcn11HUsn_OigMkH",
        DiscountTooHigh: "GACCxLawf-htg_I_hyr99",
        DiscountTooLow: "_17g5ZLhE1nEbEYZnYJzWwI",
        DiscountRangeWarning: "_2_w-XxxXsbLKX5IjHmLHlu",
        ButtonCell: "_1J2q2UgCROhFPlR2jeLxNf",
        ConflictToolTip: "_1nSci9H6aORL_nK4W3NdVq",
        ConflictText: "_28b0Ons-qKNOCnUgkJARYg",
        ConflictExplanationText: "nBw6vaeW3Y5aeU2Kzy_ww",
        ConflictDetailText: "_2OS_FekIbxHHjhBFIKrbDg",
        EventTitle: "_3FDJP270FRoqT7SCREV69P",
        EventDates: "vmimx_P47BOqySGTak1qU",
      };
    },
    50943: (e) => {
      e.exports = {
        Instructions: "_3XzkBlyUR_vmsn2EDyreD7",
        ChoiceSeparator: "_2MThyT40jgg809DPoGd2Th",
        ButtonRows: "_36Y-tQTxf6Q7eVYJ8dsm57",
        Button: "how9a_zLR8wIRdY6qCPZM",
        ImportButtonLabel: "MoV1bhGNY2U3wBSmL1g5I",
        OptionCtn: "_18v_k_3u5eP4ud4nBFpQw_",
        OptionDesc: "_307U-wkGDV7Rp-CbxfGoTk",
        ParseResultCount: "_3wac_Ag4DVs05RgbOnxdGW",
        ErrorHeader: "bh1JBOaVT2SApZdmePrlA",
        ParseErrors: "_2sHaVV6XPXAK57t39EPPpR",
      };
    },
    58515: (e) => {
      e.exports = {
        ToolbarInfo: "_5a6kgT5Y9TDy2b7eW_KGb",
        Visible: "_3O9re6ObDKYKNDbkugM8t3",
        ChangeCount: "zPEyHrOK71yme5oSTHoqs",
        Buttons: "_2u2UgY7HvrcpTSce9VuRWj",
        Button: "_1ko4cBGJhFKlTf-K8HMzPV",
        SaveButton: "_1HBCAeWNjehnpwICaZps3m",
        NavigationWarning: "_123Gvg6G-1VBFkqx0r6xCj",
        DiscountTooLowWarning: "_3ACuuXOw_8ik-3V74Os1yK",
        DiscountTooHighWarning: "_3qgy8-d30t__WppzYOZX-V",
        DiscountStartImmediately: "_1kasl81eekO2b8WGK1w_uE",
        DiscountTooLow: "_3bgrT6c4dmSsWjVXE4L9hF",
        DiscountTooHigh: "_3rdrEk85aE5dbEZsOG2_4i",
        NewDiscount: "_2cO2zi69E45eP1ae-1X94d",
        SeeDetailsSection: "_2vKJryGsl1bEmuZcTaasqb",
        SeeDetailsButton: "_1dqW3d22SxJOW3DwjP4XSb",
        DiscountSummaryList: "_2jhyJdq3fZNF0R1L6220kv",
        DiscountSummary: "_1bNwvTe_FC6VCflEc6i76b",
        PackageName: "_10l8zc4ATLVmZiqw-_icR5",
        DiscountDelta: "FrNhSyXIj7OrB1NjUhYdF",
        DiscountEventName: "_2a8myoM3qLyg2Sklv-KvZ",
        PreviousDiscount: "dyifEykVRBd1P5M-GEZgQ",
        MaxDiscount: "_3eLo5y4jBcfwMUQz6wIJcZ",
        DiscountArrow: "_2r8Z6uh8eZWaxAHSNPVyLf",
        ProgressIcon: "_24b4eETIBbBqER57VPOLIw",
        ProgressIconBlank: "_3QeQi7qY62dgzhzFmTiAfY",
        ProgressIconCheck: "_32a73ITGryHUmU_4fy9qfu",
        ProgressIconWarning: "_3eTMDy78PGwHNBByPUeT6F",
        ProgressIconError: "_3xfYZDycu8V06FgfJm7hS8",
        ProgressIconThrobber: "_1h_MOw7uv5uO-3NjB_353L",
        HoverToolTip: "gba9ORrJbj5gmNm9W6UUS",
      };
    },
    51761: (e) => {
      e.exports = {
        SingleEventDetailsCtn: "_381ib_jM3s2g_OfVNoF_z8",
        Visible: "_1qjHyeKYpcv1IFmVZmsTkw",
        Section: "qWsOGf_bOUdbKU6uOeO2n",
        SectionLabel: "_1RuFOVUpm-iPdK4RVFwAgy",
        SectionDate: "_3DpTZY_dQeqBm1zvnOz_P4",
        ViewSummary: "_1asTwqP_rc_HISLHpeRWhr",
        SectionText: "_2oFM4IWyacTftKyLkKR78J",
        WarningText: "_3Uyj_XkyWMBNercoo6EQut",
        helpCtn: "_2MBA-YyJVi9vhm412-C7Mw",
        BatchDiscountLine: "YW4tzX6XiA_e0OZzHp6Je",
        Disabled: "_3ndVfu44OeiWUEpu1jN17M",
        BatchDiscountInput: "_2Vsri9hvhsazGcnli6kEO2",
        CellPct: "_1NHr4HifCXmG6CqMXqZ8dj",
        BatchDiscountButton: "_2SPUS5dAdQ_7Mpjv5FWc81",
      };
    },
    59850: (e) => {
      e.exports = { AppImgCtn: "_2ZE7VRLkz02vD4UGS2B_dH" };
    },
    84531: (e) => {
      e.exports = {
        Header: "_1DEtCuEDdbBHu0qZxRB-qN",
        AddSectionCtn: "QTymRMXMzqdXjCMeoeS28",
        optionList: "_2QQ6j9BXjsTZlfwG2LOf08",
      };
    },
    4176: (e) => {
      e.exports = {
        MainBody: "_3QmglPlogoZ2FVr8KIwxsh",
        MainCol: "_1PltsWB_h5qdWiJCgWaAsG",
        RightCol: "_1hPMJK0FN7yP_UmuRcHYi",
        FlexRowWrapFlexStartContainer: "_2DAMJDwsdG6OiQ2EQRqoIy",
        InviteButtonRow: "z70Aa-I0xJwrObXVHmGKg",
        ShowAllInvitedRow: "YH0Zz5E1DHq7us-SwmbDp",
        NarrowInputField: "_3s6tXeknaUMhhIR8NoWYzc",
        TopBarContainer: "aeUyk7rI8mC9mKtPjTda5",
        BottomBar: "_1JwCyoaoU2Q139AWQrCTMw",
        EligibleGames: "_1rysVF7go2J-8hHPBWpEnh",
        BasicButtonSize: "_29w-Z1ugZoBYArwA1_X2jk",
        EditorInputPaneContents: "_1EuN8ny5rxP3EIKLSEqX3q",
        Section: "_2yL7JZ7leAVvBHmRcwl_mJ",
        SectionDesc: "_33_oCFON1JVNDNRKc_w7NY",
        ManageTable: "_2afWvUbg3NpgntTDylEHBc",
        EventBBCodeEditor: "_3UtWXZ3dOC0Y-WnrNRdrpP",
        IndentedSubSection: "_3zYTcSYSIq81s0lGtYvnN2",
        Disabled: "_2rKAB-m6OrWzD-xqx4yzCY",
        RightSection: "_3NiRTjeodCFztYzNC8PO1K",
        InvitedAppHistoryDialog: "_1OeP6U95st3jcjePzzhsdN",
        InvitedAppHistoryTable: "Lp1p-Wyni2VEi_4YUkfrC",
        InvitedAppRow: "_2tiXsmYQ1DliDpAzYq_aAV",
        StatsCtn: "_3R21MZG-g_yM1S23hdLsKh",
        NoEligibleCtn: "_3LgwOe6mZR78-w_PoXGKmt",
        EligibleGamesTable: "_3sBXwILYFyzoFqxMG_Q5yE",
      };
    },
    72460: (e) => {
      e.exports = {
        EmailTypesCtn: "_4xCByWOsTQR3UlA-qAYZg",
        EmailAdmin: "_2PhkO_dMhvxvHLtf91ZDy1",
        CreationRow: "_3Uphn_PISbN2EZ1xbTnj8v",
        EmailsCtn: "_30DZ2NcLbYfFjTHJzTiBac",
        NoWrap: "_3yOHONtUJGaZTXYXI8xZ04",
        TileContainer: "_2dKmv1jSlutTWJ9-4dshpw",
        EmailType: "_2JiccDDBQPFLlvI05Iomjs",
        EmailDesc: "_1CE8Cn60dhsKJ-R3uqEyNW",
        EmailStatusTodo: "_3bvmesOZFGCGwyytDy6Z-u",
        EmailTitle: "ZubnXh2yMM06gevGzvi3b",
        Selected: "UaNa5L5y0mtCFnTnZnBSy",
      };
    },
    87717: (e) => {
      e.exports = {
        CenterAlign: "_30g6tWWHgBw_8SX_hJ8U5t",
        EmailEditorContent: "BLEK0pedAqsKYDawmnv9h",
        Columns: "_3dWS09psnWrOzi7c7myD5-",
        LeftCol: "_3v4VetEtviCcmeiKYvUKYi",
        RightCol: "_2XdISc3FSMCH1bO8cVsUtF",
        Sticky: "_1JpQaxv-Ejzz-lwL7uUSJb",
        ConfTitle: "_1034qJDouTHTOcIQP1xNFY",
        EmailSubjectCtn: "Ky6vQs2Ff2w0K67ooIoKZ",
        EmailCustomSubject: "_1BjnJC7P1VkfmFwiPHduyZ",
        EmailTemplate: "_4QEkYlTQNaQDQjH9CwFaj",
        RightAlign: "jGzd4tFA2syd_rWwhw7xW",
        DevEmailTemplate: "_1MnomTjg9dKzkkTceWmJmo",
        SubjectPickerRow: "_1wigN3ltmqJaCMIzoYAZvz",
        DevEmail_Content: "_3Ot-a9W-cxpbwB97depPQi",
        DevEmail_Headline1: "_3dKOmPkNgctPd6TxRIBfsT",
        DevEmail_TopLogo: "_1cVtvIqv0kQbbVcALjnwSv",
        DevEmail_TopHeader: "I1TnLYJOHefid6PAZREDa",
        DevEmail_Headline2: "_2Jqt0syOIpdsBdBwdlRgPP",
        EventCtn: "_3LekGE1v2xAROh0oX3SJvn",
        EventTitle: "Zmpp3Dg6kH7F_7gVJYEP8",
        EventDates: "_300LPGAM_T9NVX9L7Y5kVi",
        DevEmail_SignOff_Img: "_3O708NIAr2kE7qJL0iPTtc",
        DevEmail_Signoff: "_3AVDIuXuULcVJ38zufLL4y",
        DevEmail_Footer_Ctn: "FpCTMgwkfdUEyaglt79Zo",
        DevEmail_Footer_Reason: "oQkDs7urXux0dzQnlpOTf",
        DevEmail_Footer_SubSection: "_2fxkCYuOyk3rNlI7Hc6aw-",
        DevEmail_Footer_Bold: "_3dqocAJCi7TXQfEiEIT0fb",
        DevEmail_Footer_Regular: "pleWjzitxj88gkyATUDsX",
        DevEmail_Follow: "_1i4xtAqK-MmJukSuvOzVcw",
        DevEmail_RecipientTable: "wkKazMbkWdz1ISc8-ltsD",
        MetaDataCtn: "_1-s0hDk-6Hv4PON2lW2Tm-",
        MetaDataSummary: "_22Gai8csqtEIw7WpP_FtWH",
        MetaDataRow: "_1Pb5P3hiyBkfMoKp0wE-Td",
        MetaDataRowTitle: "_393GuAv7eI_UjVXM0Zg8hj",
        MaxEventCount: "_1E7zP_XHgZbkli43aR1oT3",
        SectionCtn: "_2LeZ2BB6PDd0SHAzDKx5MD",
        SectionTitle: "Ypz5SaiL7Gw5Fgczbidwz",
        SectionEntryTitle: "ScsuEfNm-mzBJEIwSsKUi",
        SectionBody: "_2JTPYfVtEKGXsiFzIHLijp",
        ChangeBtnCtn: "_1LZ2L7xIYRJKUnBED4wve_",
        AddSectionCtn: "_2H_OOx4aDIy0iCtasclvcc",
        StatCtn: "_3lCM2FmZgnNED5RX_EeYAL",
        StatNumber: "_3gAEw18835AkUiGnrWZcTM",
        BigButton: "_2d5qKzWR6OBkrN8cW00C3x",
        appItem: "_32UiY6_GcRmqCR9wca4CDO",
      };
    },
    28593: (e) => {
      e.exports = { Preview: "_3fMhGOYMLcdHpgtk6eZULh" };
    },
    68390: (e) => {
      e.exports = {
        DownloadRow: "_3Bo6GQIrwXOnaUmy0lXrzx",
        ManageCallout: "_24SeyqOaBpKgA27KCtkRRF",
      };
    },
    70185: (e) => {
      e.exports = {
        StatsCtn: "JtiCebOxXMutVCivZa-pf",
        Warning: "_3cDtwWqZjnSppII202KeYN",
      };
    },
    23528: (e) => {
      e.exports = {
        Ctn: "Ldxf5Gy_0pgDODbg67v_v",
        ColorOverrideCtn: "_3yejm9xBOxeSK-OFACuXPS",
        BackgroundColorBtn: "j53NLlhPJNNtYoeAZ64YD",
      };
    },
    35480: (e) => {
      e.exports = { ResultsTable: "_3Slb68JYoGIPgg8618iXCJ" };
    },
    35181: (e) => {
      e.exports = {
        SectionTitle: "VM14UGwmk4Ng_GDgIOldV",
        Row: "_2db7mqsWVB9uITzObYYyl_",
        Pruned: "_2-QYplON9ZYDL8F7UCPKkn",
        CapsuleImg: "_8kkOBQP9vZs4Sc5e-D6Nx",
        Column: "_1r2iOIGkkE_H-dtyZl9UIA",
        TopSection: "_2nKNyFzGZRK6V4byOFHBxY",
        ActionsCtn: "_2jqGLvwK_rnnuqv5Bhw7D4",
        AppealWordsCtn: "_3B_85IU-BWQ7IsZ1IvtON4",
        GameInfo: "_3FTQ3un50thBT-7xji_vdf",
        Title: "_1Y3gQeVyRPx26BMlVqCC90",
        Desc: "_1ICOQoKc9Yus7L-CxMdL5i",
        StoreTags: "_3eS-zxfXPqFdoQWy6KV0Yl",
        RowNumber: "_1HUphXBGHaXuM6Vt-_xH_j",
        FilterTagCnt: "-HWZKyvQQSbeyYiwDC76A",
        TagFilterBar: "sNv3-Ibnicq6cU_RV724_",
      };
    },
    25232: (e) => {
      e.exports = { CollapseableTitle: "vvz0tBhHiq7j1fc3fJoWO" };
    },
    25507: (e) => {
      e.exports = {
        SurveyQuestionCtn: "WJ6651pdkwt3xs2P1zXz",
        ResponseRow: "_3PBKjnguWO7v1w7vcI7RZd",
        ResponseText: "_2WcRLDkkh3XxZF9k_6L5xW",
        FollowUpText: "_2ZClDe6jwX1LpjtkXIHeuj",
        FollowUpTextInput: "FsvRlmH1G7iZ1hJ5hfxJB",
        SubmitSurveyCtn: "_2ZWGaGFrBSVaWky4aM0Ijn",
      };
    },
    79397: (e) => {
      e.exports = {
        Dummy: "XMLkPKDQ1MgeD1j32O-v1",
        ButtonCtn: "_3QVsdxhgU_YPPHTyMJDHz5",
        AppealResults: "_3RoeYJNaQv8Eequ7cx1f6",
        Submitted: "Z3TjVBwrSm9asHXEYxaqB",
        Declined: "_3fgI817EeORmHp2YcnBcp5",
        AppealSummaryCtn: "_2NYKMnhLa6yG5AlbFm40Js",
        CapsuleImg: "_3bewl5JFFO1zc4y4rC4huS",
        AppealTitle: "X7wqWSp1svujzBKi9j7xG",
        AppealsEntryPointCtn: "o0-VKT1E9Pv5FCfCBgLY-",
        AppealSelectedApp: "_2JcBfbFeA2I-s9d5g-fi56",
        SelectedApp: "DZyHhYnXa8tbad1X4kSEU",
      };
    },
    3897: (e) => {
      e.exports = {
        Dummy: "_2ezUjTi6bzTmNav917dO6L",
        AppealTextInput: "_2g-Q7ER64YspNvgCAS5tWf",
        AppealsEntryForm: "_1G49-MEvbF_vCnZ5dlq813",
      };
    },
    60749: (e) => {
      e.exports = {
        DynamicSection: "-H4oQP3-YUTtFxAZNJJr",
        ListContainer: "b77rlI7RrSK9bq-bvYrpa",
        ListTitle: "_1vaSC4WyVJM_jE6lbzCtUA",
        Column: "_1nquN8bkqq0c_NmRzPjGbP",
        VisibilityTable: "_2Doz0vGfyLG0tj2WIjqBOk",
        TextArea: "_2GJyIfe_RhVk4YI9MOZFl2",
      };
    },
    79569: (e) => {
      e.exports = {
        ChartContainer: "_38gl3E5j4bYagIMSd9MXCf",
        Chart: "_3hXybphdl7Tr8Q7-L69uTA",
      };
    },
    46750: (e) => {
      e.exports = {
        WithBox: "Y8Nm1z765AoqpdvMSwdWk",
        SideBySide: "_1J1S1afbY87Eh4tId7j3sx",
        GraphCtn: "_1LaTKzVsF3Fn7X15owSSUq",
        PromoDetails: "_2ExrE_Vps40qyzUQXhbiQ1",
      };
    },
    35019: (e) => {
      e.exports = {
        PromoHover: "_1zQUa5y25NlPl9OWzoUiK3",
        ToolTipImage: "_1e4y4PWj84_CTnXHrvFAVs",
        PromoInfo: "_2IU5pgqJCU7UbbWe-bxpTI",
      };
    },
    18133: (e) => {
      e.exports = {
        Dummy: "ldc1aCofZ6R39NNGJqZXP",
        AssetSection: "_2Sa_-7AiJ8CoQDFcgkkcxY",
        SectionCtn: "PHCQrEzsz9s8AEnGFpm9S",
        AssetSpecs: "_25TK9ZxS-kHvNff-Rn5l0n",
        LinkRow: "ADaiGJVuZzoGI1bmkrL5r",
        AssetUploadPreviewCtn: "_2kDp_nyn7miLTeZK-BaTn0",
        AssetUploadPreview: "_3qbEjMrc3bDcRT1FeyzFzU",
        UploadPreviewCtn: "_1X0nVrj2AZjOA0qruGw7ke",
        TitleBar: "_3sj9kku46IOP4MYpSduqzY",
        AssetTypeCtn: "_37aDawTGN37t4eWf964BpZ",
        AssetTitle: "_3Te6XB_WKYUrHzGMEMSbAZ",
        SetupRow: "Bif2RRtzHC64Rl0ScjJ3Z",
        TypeNotLinked: "kk2lJWuYWdrboMcV2u3md",
        AssetNeedsColumn: "xo-7hAtZSSEdQilGkznF4",
        InstructionCtn: "_18kCx3860VHk-nq8dV_ZRt",
        PartnerIdRow: "_2BgYYSCUIvB8klcoIM2KlE",
        PartnerLink: "_2pxTG67Y35OVRuoeXS2b2e",
        SetObviousPartner: "_1hUvZZdsXPzTmMecE4wj8K",
        SpotlightPreviewCtn: "GrCIp45m5QpIwycVAC7rw",
        Content: "JPDZnP55tUl6QqfpQP-ES",
        Title: "_2fVP65kYiChekv9kTztQ6D",
        Subtitle: "_3Ar6JPkjNYdym7w5t92Uqk",
        PartnerSettingCtn: "_11g8jk2YKBFhioXqGKrW03",
        AltAssetCtn: "_3GijVLoinPhCGGQ8SaqqYS",
        EmailHistory: "_2h2QbH-XdrlfTP-p7hq90-",
        SendOptionsRow: "_15BGaYMjv6fgOxglZDH0Ad",
        EmailButtonsCtn: "_3_6R_B--O6IpytQEot_SpA",
        AssetRequestPreviewCtn: "_1H2Hz37JljOjFhW2m__9en",
        PromoDetailsCtn: "_3GPlR7608JOYPoWgsBou2X",
        FeaturedApp: "_35RvmGDJKKWMbBdc0XD1tF",
        PromoText: "_3grp6zvawf2-myfONdhi9E",
        ArtTaskCtn: "_8a8hIuBZZ6K788L_qCzqC",
        Icon: "_2A8k7-_Fo6_ufXVRe3WDdk",
        Asset: "wLZ--JfeYIRMVdNYM_o9S",
        Deadline: "LiOZUtVRwcRzYVm8YmxqK",
        CustomMessage: "_1GbC2xgFQmWT5i-ZjY1z-z",
        ChecklistTitleCtn: "_2at5P6b_uN8GXPKkNX0-PC",
        ChecklistTitle: "_1dnpjLV_MWr7i8W5iTlqUY",
        Required: "_28FR7Dlej-1JMcWXCRAKaa",
        Optional: "_24ZWqTDTI_Dh-S4NM5C-Na",
        Completed: "_32heBTmctlIP57GpmXGOPM",
        ChecklistDescription: "_1hBXnQ2KH1N571c49o1a-e",
        InstructionsTextInput: "_33qrxIXyEBGd_4SYlgINpa",
        OptionalToggle: "_35eGeoERKBtEL_ZdR4svDf",
        SubmitButton: "_1SeDTJwMXlTMLLf2zBlrG0",
        DateCustomizeCtn: "_1ImfNLIp32O3EJGx-srAoU",
        AssetRequestDoneCtn: "_29h_jamNbiaQL9G2Bq8bRp",
        CheckMark: "_3ZLM-e-m2UMcugiJIRtrT0",
        Body: "_1ZWLuWmtp7SB0uQ6-o-Oni",
        DiscountReminderCtn: "NKqq6YyRNhnjtZaG0ETYr",
        ReviewSubmissionDetailsCtn: "_1eh8pTGJV7jJG2LjkNByjL",
        Warning: "_239HdXXNkq4JegSY78C-b0",
        EditDueDateContainer: "PGvY_orr9RXv8qRv9VkFN",
        ButtonDueDateASAP: "rK5tvKNZuJzDgQs6AV2cB",
      };
    },
    61178: (e) => {
      e.exports = {
        DealCapImg: "_29Nw3v_On6G8g7PkKFM5zA",
        DealCapCtn: "_3n8tu8rebxD3XxtBpskJIN",
        DealNameCtn: "_3z8vIbjBQF-s8njTMlu8be",
        DealName: "_2Ruo9Xp2tSmNlQX4hU59Q5",
        DiscountLiveWarning: "_28bhaUQESheuS3GNb80RGU",
        DiscountCtn: "LUWYnNPcztnXITSyIiTre",
        DiscountInputCtn: "_2DTJtoMcvmuGE-wHqACKzt",
        PackageSelectCtn: "_2ytWmFDgESBRLmQT8cfnYU",
        FeatureSelectCtn: "RhuUZWbgwchYHb99KX6-B",
        AssociatedPartnerCtn: "_1wLwcoaYTeoAqxWF-spV-D",
        GameName: "_3wpQYlFP8UOTbvIO2LB-Th",
        SelectInvitedAppRow: "SxB7vUwzczv-iehhlfgiP",
        DiscountPreviewCtn: "_1QLwjmShDbrMFj3Pz_4f6M",
        DiscountPreview: "gapSJpEsuDSIz78z29zwf",
        Percentage: "_2OoUsH0AJNhzrEmd5Ftvt8",
        DiscountPrices: "_1suUWv3bU82uCh4JodRz-e",
        NormalPrice: "_3WNQa4WYdyOpVjVsrq2j_U",
        CreationDialogueBody: "_1Bifj0Y3ZZu2y11_5rOUKS",
        DiscountLimited: "_5k1WugaKTRIv2ulG9kNHQ",
        CurrentPrice: "_3UShm-Rtpl6xK1WV_k7nfD",
        Accept_StartDate: "_1HZxHzVccnQkP1rChOXyfK",
      };
    },
    97266: (e) => {
      e.exports = {
        SearchCtn: "_1xsEIvq8iqksfjKSLLafR8",
        ResultRow: "ddpG1ydr9ymgHWvqUjzc2",
      };
    },
    72226: (e) => {
      e.exports = {
        CalendarGridCtn: "_2smJ3vdxZvzZsAWT_t5n2S",
        NavBar: "_3h36HYj-GO1-9nGhSGJ12F",
        NavButton: "TRinQTYT25nphy5QeuA6J",
        CalendarGrid: "_1dtYbTQSXksSUbS-qX0LMn",
        CalendarRow: "_3eajthRtVx2daqBzOFqsb-",
        CalendarDate: "_1dm0xlBBCWUYPTWwtITpVr",
        DealSection: "jxKWo02frPnb03gS_1m4b",
        DayOfTheWeek: "_1gW_Biq16hTFJW3V5oZmHs",
        DailyDealCtn: "_2XgAJynX1USZ9KmmD1G5b1",
        Available: "qoXiK_Fw2W1wu-PAZrOlG",
        Taken: "uhJP7qvCldW_7SRMrEXGc",
        InviteTaken: "_3muZeZee4ojPSeQmC5rvr1",
        Reserved: "s-YTZFiyQgv96FJrE6ril",
        DailyDealImage: "_1HprjQjHahXV_FRl2OVc-w",
        DailyDealImageFallback: "_8wyyUKBL6O03xGaNC6L6I",
        NotesIcon: "_1t0Rh9X2gMS3aKD-BkQ1A6",
        Pct: "_1mEh6gD9LbWGWMBqdIOUvP",
        DayName: "_3-2CuMZn3S9A_yO3SzwJYI",
        PastEntry: "_3E1Fg8YKQMnSpNhbA6RXyq",
        TodayEntry: "lafVMk3zuOVpvAORYDwEN",
        FutureEntry: "_15wQf1-68hUcsVHd1tZxr9",
        Blocked: "E1Gpso-IzSuq4gHYyN5Aw",
        ConflictWarning: "rvzQPIivrcgYrlc4RBY81",
        ExistingDiscountCtn: "_1fkh2kmMs4n2zmKc-E0kps",
        Title: "_2NIvxQkl1ZvsIgfpZM0gx3",
        MajorSaleDropdown: "_7ElvMWR0RMkZJLVsaelRf",
      };
    },
    34748: (e) => {
      e.exports = {
        HoverObject: "_2x-6cuvBy6bHEXSnLoKlYi",
        HoverCtn: "_3cendz6YnUqe2R83Chs2gx",
        DiscountEventName: "_2H6CRLiBfLkBqmR7A0OJHF",
        DiscountDates: "_3fhuWwxllZeIUzUVgLNUuT",
        DiscountedPackageList: "_2ixiPkFgc7D1ONn_NWYv0s",
        DiscountedPackage: "zxSzygpswf9DGwWdZuMBX",
        MissingDiscount: "_1gz3FosupwRbd6_gzC60t4",
        LastDiscount: "_2gbaQeuRkGJvjsUcjQhETJ",
        RecentDiscount: "W5lwNOMjuAj4ckoZKzoUP",
        ActiveDiscount: "_2VxE0jalycwNuxuzh0A7vn",
        Inline: "_2HIMHiGs8T7KdeDTQTfzpJ",
        CooldownActive: "_1KlTDoZ-hgxTzNT2E9dPyl",
      };
    },
    66370: (e) => {
      e.exports = {
        PromoTitle: "_1rgqMzhBHDGXlWOBS3iyqD",
        DiscountEventLinks: "_1LKk1ryDUFIVyeWntAojFX",
        SectionCtn: "_247gAWh8bxMlvcTslWIqgG",
        GroupCtn: "nfAajJChRc-DiNe6oliAA",
        DailyDealAdminNotes: "_nOD91u9wZC0-GgVENvaz",
        OverrideURLCtn: "_2sA84zGSaSp4vS9PyQhycL",
        TestLink: "_1ywZO03-qIcKqpmGBYU3Zv",
        SectionHdr: "_14AcV8LYR7HWoaz07CNhOV",
        CheckBoxSize: "_1wywLnAP5HIsrAj35X9Gyi",
        EditCtn: "_1arRUJ3hNlhRn0Z8E5HpBQ",
        LocationCtn: "_1TvAw0ZfTHpbJLh5WaY8Gl",
        ButtonRow: "_2fO-Cf86lTRa_O2RfWG1Nv",
        DashLink: "_1Xkkbsga46AFHfXQUgHuJK",
        DDAdminColums: "_1KdA5J2sOY9vBEp3bmqeUC",
        Column: "_3tD9K-AjLfb80Z82jHJwPs",
        DiscountEventCtn: "_2Pk6WiXigcuIbRmag2WWFa",
        DeleteDialogBody: "_144lkNgfd9QkSN3SeGb_5p",
      };
    },
    58509: (e) => {
      e.exports = {
        PartnerFooter: "_226LWzhEJAda1tMaDEXOvn",
        InfoRow: "_101h8j_AtS8-UQO_WMFwRt",
        Title: "_2TtasSZS_sr6v0po_6k8sK",
        InfoSection: "hdU6SgTtmyphZnPs4mvRa",
        MoreInfo: "_3DU0H1ySYf6VMVO1ZZZo3B",
        DDVisibilityExample: "_3OAcn32kfenlSWw8zg-pFr",
      };
    },
    14717: (e) => {
      e.exports = {
        Row: "_2fsEu5kwkRDakBWjqJCa9",
        DailyDeal_Container: "_2CWQT4ureadEtWhiffUEih",
        Cancelled: "_1BYSD0-xptNZEzOl8jBh6v",
        AppName: "YQi_MLU615s_i01m9tIhf",
        PartnerDashboard_ScheduledHeader: "UmxF5q5pA9wzOPYICACGe",
        PartnerDashboard_ArchiveHeader: "_3DXdj30OiLnOH858sLua_Z",
        PartnerDashboard_InvitationHeader: "Cqoj5-BiHhV1xIuwJXCLv",
        PartnerDashboard_Incomplete_Description: "_39yxFJeRwIZ4HBStd9pR1O",
        PartnerDashboard_Invite: "_147XKFTvlMnOjyGNEuEcCd",
        PartnerDashboard_NoInvites: "W2HsXPwJTqyiJVrS1D6S4",
        Orange: "_235VrjcHn3AANlpYLXekrL",
        NoScheduledDealsContainer: "_2gv7sh_yeB-IeqSnk99hfG",
        DailyDealStatusContainer: "_3b7O9NNMod3oErBnswOTID",
        Column: "_3GuhUTTDRwDbcLKO4Fnm6v",
        DailyDealCheckbox: "_1WzIioub32L4jccWSuUZEP",
        DailyDealTitle: "yYzcpCNNBj9cdocoRP9IP",
        DailyDealButton: "_1MMGdyBPgmzeWl0xiMJF36",
        InviteBody: "_1rjF1mDeOiypHOaSBz21vx",
        FeaturedDate: "_3aUGm49iKOkkeL7bdfP9hP",
        SalePageBody: "YpcNPxe0kZv5pvfw7WS3W",
        SalePageContainer: "_14q9eJO4Iq17ONG4-Kxsik",
        SalePageDropdown: "_2kzqppJ97cvHf2cf3LA9cb",
        GroupDropdown: "_18yeKZ4XYo5a3Fp-7CnR0n",
        MissingCreatorHome: "_1-IRXSo7I0NrniPLqX06Mo",
        DiscountBody: "_3tOBZX1cWc4ydr-D9vziWW",
        DiscountButtonRow: "_2Qkeo12FKR-U9SHc_Fu6q0",
        DiscountPercentage: "_3yMTPMRaT00YVSwsCprHfI",
        EditDiscounts: "_1uVhkCeM81Z22fEnnKSw74",
        BasicResult: "YsPk0yyZv_JLbAJYgjvSZ",
        CreateSalePageBody: "_1k9-5E9DqeEaTNIomfiFwT",
        CreateSalePageError: "_2pmepTynyxm9GMJXVIkesP",
      };
    },
    75876: (e) => {
      e.exports = {
        Container: "_398qzydemboBN-RxXd6iOo",
        Expander: "_2z_UTMMkqOTxnJ5FzWw9tu",
        Expanded: "_5GSfzusk7YQuZqjmAhBTS",
        ExpanderContainer: "_2L-Rm7GcmqzGcFQYOiIVw1",
        DataMigrationListContainer: "CWGwikY5BW-tPMrAu32lF",
        DataMigrationTextArea: "_1QMUfbjQMQEKCitv7WxPYy",
        DataMigrationButtonContainer: "_26gyMfNhCa93aqqN6uikGL",
        DataMigrationButton: "_1GAtnuc4QwEFLxCavMW-K4",
      };
    },
    98199: (e) => {
      e.exports = {
        CandidateTable: "_2qjp5Djf83SHbsnVQaIn5G",
        CandidateHeader: "_3XLXxzOeIiXll6wfV1ehiv",
        AppCtn: "_38wbGdU5Fr5Lz01OlpO3Vc",
        AppImgCtn: "_1IPZBd7obIzaZvsgbnrB9a",
        AppName: "_2ubxSmr8NAVLZRV_8CPId7",
        Ao: "_2mq4l7kCaBPByavSUM_JaE",
        F2p: "_2ZQqsLk4wtS3_jnwPDBZ0i",
        VrRequired: "rozJXPEjxv1owMix27AZn",
        VrSupported: "_6FqyyzvjzOeCSgXg2ByBw",
        Ea: "_1W10glUMe2iK9o8Cpc88O1",
        CandidateRow: "_1-lXevywfwnvWgq9wWIuU2",
        DiscountPercent: "uq9p7ipLguZ8eIuhQTpYf",
        InviteActions: "_2PnU0BKJqTtUVaAZPnqpQQ",
        RecentPromos: "gUn74c3vh5bpvGU6nx9Zw",
        Promo: "Tk6iBLgHjRHuLoBAj21Ry",
        Recent: "_2O0cufWlwHuuMxjD8nKFkE",
        Upcoming: "_3ruO2Dupvk3EcLFjNxW2mr",
        OpenInvite: "wA4yCJ9cCiNkwZ2w6FFp_",
        SalesRank: "_2KWeGH6NTF15xAqmMWPJF",
        ModifiedRevenue: "_3YCIsa63bL2OlHzbcbKLEc",
        DaysInDiscount: "h2qWtnF-hd6uWITotVTTU",
        PartnerCol: "_2DqGfjdxXIOkOrqs1sblsE",
        PartnerName: "_3Tyh3r8_e2IQfo1jRNCldG",
        BizContactsCtn: "_3670NSTxRoD8AaISIV3gaB",
        BizContact: "_1e7dY3BFOis-DvcPIEVfxq",
        FilterRow: "_3x4uaNOgVnRB2SqTrTmsbH",
        FiltersWrap: "_28sDb-_mVCF1iFI_jWC9oy",
        Filter: "_2h6FvzGNu26XFEz7G3h2ka",
        AppInputCtn: "_1tIVZys0DITEEyIIqsZ997",
        PagingRow: "_3qLRlDyHZJIS4BugMgi7oL",
        Inline: "AzROoeBRhQAuBrZNeDxYZ",
        PageTitle: "gBcUE6x7TiYgRRvXKNJ5e",
        CollectionControlsContainer: "Ze9vpZVnhuM5ixQnBbxt2",
        StoreTagChooser: "_3MXUKUNf99BSPBfv_wRDmI",
        SelectedTags: "G4ZLNqu2ItSLt2a4nyywL",
        ButtonRemove: "_33l2PQpdFV5xTe1VnUD3vr",
        CuratedPromoFinderCtn: "_2I9RguJSPMrFA3BaCYsTDC",
        ModRankHeaderContent: "yvFKrzh7VyheJNXRPEfQZ",
        HeaderDownArrowSVG: "_1M---DuBLBmJ3wziNwQwZK",
        FeaturingFinderDropDown: "_19yKcT-6yXGzPTnwowUH_p",
        FeaturingFinderGOButton: "_8VJYI1VS6M0clgIu1wQbl",
      };
    },
    3928: (e) => {
      e.exports = {
        SelectedAppCtn: "_1kLuQ0dympeLD7amawORSQ",
        SelectedApp: "_3FFreVEzPDa_rvdu8HPvE5",
        AppName: "_1FeTrxGc5i511P7d-rR__G",
        InviteBtnCtn: "_2iMIjz2otOt3jG3-ZTyEj3",
        InvitedAppsCtn: "_3FouwbshakWUdLyH6doqG8",
        InviteTitleCtn: "IO0gUy_Fca5kejHHG2q_P",
        InvitedAppsRowScrollCtn: "uIqPl0eYF-WMwn0uTacc2",
        InvitedAppsRow: "_2GaU2Mre6OUt6H2jqpsWH1",
        InviteItemAdminList: "eCacw4e9u6IAuPO8iaiqm",
        InvitePageHeader: "_1rKT2hfb6Y8UuGr5aD9eWL",
        InviteTitle: "_2k3HTP8DAn8NZy0tx9_q3h",
        InviteTitle_AppName: "GZ2KkMTggYjZPqGqUkwgP",
        InvitedAppCtn: "_14klKDHHyJsENEpVKJ8P3i",
        InvitedAppInfo: "_2h8seOo57-jgqoA4IMn48k",
        InviteAdminButtons: "L4pIQiDLfR5Xci194GhSn",
        InviteResult: "_677sGhoDj769qVXL7av2o",
        InviteNotAvailableContainer: "_3-W-uJBBfzOZAL3cS-PFHR",
        ReturnToDashboard: "DB8o70W9ULuTIKKpQ02zn",
        WhyUnavailable: "_34OckOBiJimqqX_pRaN9ax",
        SearchCtn: "_1GXJazE0CvBxInhgcpRyrH",
        ValveAccountDropdown: "zzVbO1yOKUezUixvIVJVu",
        ValveAdminInvitedBy: "_3_905XTYYKBdTeTIoLfvKh",
      };
    },
    17597: (e) => {
      e.exports = {
        DialogCtn: "_3sIyQ7GZbfZOJl33KaIXz7",
        InviteResult: "Fz3D_Ob1SfsM7NlllVW4Q",
        AdvertisingAppSection: "_15rIZw2NyMBg4Q2ApraIcz",
      };
    },
    38149: (e) => {
      e.exports = {
        MMArtPreview: "uaJWOBcbrszCIM9jPJQ1P",
        MMArtNoArt: "_1oJlfyCX34cNTvLlNJxqAM",
        LegalPreview: "_3UR3Ewy0eOiigTBb1kMIk5",
        legalSectionCtn: "_2Pr-js3Udcl6ijZj_UySRj",
        subSection: "_2W8DuE42O6B1_qpeGV7i9c",
        previewSection: "_18ctSpZDuUziLFqRD5Afxq",
      };
    },
    32088: (e) => {
      e.exports = { DateCtn: "_1mrqJ1WLmobh_wzIY3EVZl" };
    },
    54917: (e) => {
      e.exports = { HeaderButtons: "_1Q4PqR6_dSTkwZLC86uSPL" };
    },
    84106: (e) => {
      e.exports = {
        Dummy: "_3x7rO8JdqsQ3O_kICECOMg",
        MessageCtn: "_18Z_QfJhGZl4XGJKvw0Uzc",
        CountryInOut: "_219uC_2Slgr7kYg7WnWyFv",
        CountryText: "YvodBrJv5G36uXgxsvW4a",
        RemoveLegacyBtn: "_1pvKrK9Ig2mfvdXTTEiIhO",
        MessageImagePreview: "_3vqntF7LN-Xp1OU8dmKvKP",
        ScopeNameGlobal: "_1mF1EOFyE8NI-I2Z91XK78",
        ScopeNameChina: "_2O5jchVFzrdgkZjqNTj35L",
        ApprovedForPublishStatus: "_13Useg3SkW7YczZ_nZ1LNk",
        PartnerPreviewLink: "_3QdBI3rV8HLWt47vhdtUIN",
        SecondaryButton: "_3l4AnY6laFUM4An6S4XtGl",
        hover: "o9oXDiBXfBfOE5I36iOL",
      };
    },
    87935: (e) => {
      e.exports = {
        Dummy: "_3glD2lGMwlZh3hZb4XH6MW",
        ConditionContainer: "_26iQ5cwVaCRdq4kQV-Z3hJ",
        RemoveSelectedProductBtn: "_28FDKm7uc61fzDoE1s4AN1",
        RemoveConditionBtn: "_2I6jnAosElv90qG-NR6CNd",
        RemoveCaseBtn: "jkA0eKrZwNnfQwq6RS_zl",
        AddConditionBtnCtn: "_2jPjOfmBcD9ynwSP3mn457",
        CaseContainer: "S7-lNYeMUcaLTvOgTqZ5u",
        CaseTypeSelectCtn: "_2zuM6HX5WBJ-SZUsTHHl4",
        CaseTypeSelect: "_2c8Z6sbb9fEPPcvQnZ55Rr",
        AddCaseBtnCtn: "_6TrpentH84qKXfi8P2JPL",
        AddProductBtnCtn: "_1cTJt6UOSYAPG75MFKuztF",
        SelectedProductList: "B1AM6vpaWpD3Nk_s6enro",
        ConditionDescription: "_3jCu6xqoXYWOH2SMhFu-8T",
        SelectedProductCtn: "BiBUb4TdnBXELebd08teO",
        SelectedProduct: "_3qEa8uUM5vtMiCckq5qOeU",
        ConditionTitle: "_3b-fObFOXin-XmUDZfacQ5",
        ConditionTitleOr: "_2CvHfdolvQMO4gkMlxjlPh",
        ConditionTitleAnd: "yF0yECe83wdyLwJm21HGH",
        AppSelectCtn: "_2n3Wnr5wfaKGHxxqLbhOEQ",
        ItemToAdd: "_33WvvdTdyUzp71coa4Anc-",
      };
    },
    99892: (e) => {
      e.exports = {
        Throbber: "_38Qg3geqXBWeZCZM-CU2Sq",
        LoadError: "UR7pUCgpM4ljBq9YBzvXH",
        Header: "_2tR6ZBlIJ_Esi9G4Hw6vqK",
        LeftCol: "_9Fx0W92OvqbOXJd9-5Wva",
        Status: "OhXSoUp56RTFd0y-6dMkq",
        Public: "_1my7xZmhFLHsYejQOawojL",
        PublishButton: "_1DqxCoZJrYbuiI8BxucPRC",
        ErrorMessage: "TZupMtL5lHm5jk9lVrnQp",
        RightCol: "_3fklb3q3M0tVhy9J5jgiBk",
        PreviewCtn: "_24mVGQxS0dAHxutWQUN56T",
        PreviewHeader: "_3x7OGhtnLkhY_TuvhSeBeL",
        ArtPreviews: "_2DFLsfb9CkxR3b70L70OaD",
        LanguagePreviewLinks: "_3U7DzUbwntA3Pc5a2NNbCP",
        PreviewButtons: "_21DYWab8qvVyrW7PdtMa1D",
      };
    },
    42960: (e) => {
      e.exports = {
        PreviewRow: "Wog1GBQw7vlXxhbVxHRbn",
        Spacer: "_1rAD1PsCoDy42BnDw6bmio",
      };
    },
    36578: (e) => {
      e.exports = {
        DashStatsContainerPlaceholder: "_2BvHwqhjDNBILY7HxYZ5fA",
        DashStatsContainer: "_2pZUWz9doUUVgJTIiA_5qb",
        Chart: "_2z00NeTIYdtaDdJPVZrLm2",
        Stats: "_2jxzC1AyBA_xxpsnV5l1uW",
        StatsTitle: "UzSNxw8oOZZcgW8SXBp54",
        StatSubtitle: "_24k9yBmCwJ4zrfjtg4_A3D",
        Concurrent: "_3W_8ES3hX7fVooWDlaL9Q-",
        Now: "_2QJ6AbiOJ3XddtA1cOYnCp",
        CurrentStats: "_4ImisFVqyptwO9u0G6-0g",
        TooltipPartnerSummary: "_2WuiD5rL3fQXyAI5CXaOiX",
        LineItemsCtn: "_2Vj424_xUjyMnNmBpDenLi",
        ToolTipTable: "_1CBlLckQLSqavhG2S5qNYb",
        ToolTipTableRow: "_1hcQcqAFKPCYQUGtHIcGn4",
        TotalRow: "_1esRSJn8rPckHux_JS4iQg",
        ToolTipTableCell: "iIyyn73ITYmBOzqghT5NY",
        ModuleCtn: "_2jVePp7nya3Nj-SFteMHaj",
        LeftAlign: "mgkgnb7LlDnVJwX6L29YM",
        ModuleTitle: "_1_qWSYHWj0MC9ivPG5LNEJ",
        ViewDetailLink: "_3LC92YRlgqBty5woF3CakT",
        HeaderCtn: "-BcZBPWZjsiRyi3CtgICp",
        StatGroup: "_2H61dmCW7zg12hj9OKWviV",
        Header: "gpt4bNGeQpWFC9R3TR6gU",
        Numerals: "_1aa9BSk_Qolo1ZpNuEGUqD",
      };
    },
    16783: (e) => {
      e.exports = {
        Container: "_1IVr1rWbkO_nsOEdKNnI7X",
        CalendarCtn: "_3reVPYSvvoiYSRth2QxYjt",
        CreateNewCtn: "OryGTU11g-AQPcVlqKqP4",
        AccountSelectCtn: "_2-rb2C8wjh3CcJ8Qxbk3ZK",
        AccountList: "_1G9ckImPKn5n5DdAZtyGiA",
        filtersCtn: "Epsp1EFTe732X0hSq835Z",
        FilterRow: "_2qhMYoG1U-uRZVJyTBoFuJ",
        VisibilityFilterCtn: "hPops4DbAJCvfMUt2K7tu",
        MarketingMessageSearch: "_36QLW88mlNMDXRwcocgctz",
        OtherLinks: "_1ePXECwiPS_VGuhB4uh4Qy",
        EventContainer: "_2nYdhByvfAdvZPHDFyt_Ku",
        EventNotesTooltipIndicator: "_3Ab46MTXfA0egFEwYoU0Jr",
      };
    },
    82701: (e) => {
      e.exports = {
        RowCtn: "_1Cq0N3-UepmTlAvDH0ElVg",
        Public: "_2p_SNLf4Iy4y6ti82xe-EN",
        Future: "EJs6PDCIY6j02hlmzmFgO",
        Soon: "_3txtb744TErZIjJiafI6eZ",
        Ready: "_1PRvxPXhYGbG_M2kPhOrNJ",
        Approved: "V_M3QNQ4BoCPhcptm3CqU",
        Compact: "_2cprKboJkehwZ_t7Jn2Cst",
        Row: "_2KUhB_BLktT3FQGqB_y54o",
        Primary: "_2tQk8n1YH5C2v8367dhlfX",
        HeaderRow: "MGJxkhOwzywm5cqaty3DR",
        Col: "_2x28WNTnFLN7p5-W6dUFFq",
        ItemName: "K3sWBC1TVzqQqY6olyu0f",
        Type: "_1hntlllJLxrLj22xkPzMXJ",
        Deal: "_1I4-4shtv4hF3PvfsYZTrd",
        Date: "_17dLAP-RyWwuTzck9Gz47f",
        Creator: "_3VjL-JocxpP2ljeZhqUIRk",
        Visibility: "wvE-jG0F6Bz8vnGxKpQQY",
        Revenue: "_2oBY-a9UYtSwgEOESAqMZZ",
        Small: "_18G4aX1ScPJrnNOPWKuI6y",
        CountryList: "_17dzIUq2f_CSOR1Eug7HUe",
        OwnerLimit: "LDwRnmtVW5slGcNhaiHPs",
        CapsulePlatform: "_2OJsE_nWOGFfZwO3NXSNsz",
        ViewsColumn: "_1Wtq4XAKx0_iV8E-jmIMfF",
        ViewsCtn: "qbvhk46RDj72WOCxtxodV",
        WillBecomeVisible: "_26S-q1rh4KBSENR6EI-bTQ",
        MissedRelease: "_1f2UQJ2ioT_SYgxhzez2G4",
        Unset: "mDhm0oiq8R71Z0WQF1mRd",
        NoResults: "_1bOoImFN1WJOMod4hTHJa3",
      };
    },
    78676: (e) => {
      e.exports = {
        DateCtn: "_13RGKmbd0bFVxkQJdMEX0t",
        Vacation: "_1RS5BRUx0pdtR2xvd3P2oQ",
      };
    },
    60688: (e) => {
      e.exports = {
        ButtonRow: "_3KhKTPCE7ypE5LBMu7_ErR",
        ButtonRowSpacer: "AWToJgEIX-j--80870i2d",
        EditCtn: "_1Q3ppPFyL5I-yzdlW6qoc9",
        StatusBtn: "_3btXS661T4IU89cO5eo8XE",
        InputContainer: "JbwjfTH4nnQrsq16Hztqe",
        PreviewLinkCtn: "RacQWVhlOFswJZjjnxkul",
        PromoName: "_2tLRc5NDSTZGzLadmTD8EH",
        TypeCtn: "Lw9EhG5HAG-zXYwNwUdl1",
        EventDetailsCtn: "_1UwWTpxA7qhaSOlJpNgwsR",
        AdminNotesCtn: "_3ZkUKKY3MbHhKyVBav_wtN",
        AdminNotesText: "_2EeD_fx7U_0Bcelj9YqNlw",
        PromotionPlannerText: "_2jOn18K8Q6EDLSqEeNMVfa",
        BroadcastNotes: "_3SotCt7y4bC9UOPX6G0u1E",
        FeatureSelectBtn: "KdmlAN7oziOO8EtO6Ylw6",
        StatusCtn: "_1DrAwPew412VtdD9T9w7vl",
        ReviewState: "_3mtqDIw2XooklHiqKm9ryY",
        Complete: "kpXmMf9brjNOzSKzjkKtb",
        Incomplete: "_2TKFBv2u8j98_U8GUmaer",
        LinksCtn: "_2SJfiT2B5DPTb5uwQKdvQf",
        LinkCtn: "_2s6vNlrXn0j5A3T7_lS0iN",
        PreviewLinksCtn: "_298xIUAc2r1LzqBC6YgpJG",
        FeatureSelectCtn: "FRWr1JG5rEuPeQBbQhIwp",
        CreationDialogCtn: "_2LmdQpQwt7eqXEc22-HE6l",
        LargeSelectorCtn: "iTSaTqNaYWKTbAEYX0oLm",
        LinkMsgModalCtn: "MsxBDbzjGO3rHRhMb7IxC",
        SalePageLinkCtn: "_1L_j6E-j-QzvIZznwAl3cb",
        LinkedFeatureRow: "_1lX6jiEwBT8iN5F9esCSYY",
        FeatureName: "K-HQQVsPByIrqwC65aGu1",
        DiscountEvent: "_2PEK48vlZOAR3u-PynpZiU",
        OwnerRow: "dmR1Kff7LaguFmLQ4oZPL",
        ActionBtnCtn: "N28BLqQg-mt8IMXUsv-40",
        UserCtn: "_20WlQ3dvb9vmh_mZiSYMf0",
        AssetField: "kOPbypW632DCsWzrd9DG8",
        OwnerCtn: "_3kmgLamQZRx5tIIb0YaWSo",
        AssetNotes: "VaLwylBilZSHWeTdxBQQC",
        TargetGamePlaceholder: "QQLfNfmbpzk36zioE_X76",
        StatusRow: "DF-Ee8IlwQoq0lur2i5DQ",
        Status: "_1x31t73u4DQOWgUUcdwzcW",
        StatusAlert: "JoaDoHqXEaQDzfPXkWyyy",
        OwnersRowCtn: "_2Um8WPyOYefW7coiDEOzDw",
        OwnerColCtn: "_21K5eiT5agJhoaa8OTh7E_",
        CalDownload: "Y4ZfntBhYMVNYQ0chXUGY",
        AssetTimelineCtn: "_2StVtbEDNO5xhWjjAuvXBT",
        ActiveState: "_3Slqmy9X_4XKVBaosBcqbG",
        DiscountEventChooser: "_3ZLpLM_zY-MFBGz76igjDJ",
        ModalMax: "_7d8DEH3yYHFSsLvCrrrqN",
      };
    },
    89183: (e) => {
      e.exports = {
        MaxInvites: "_37BtrSI9vJMqi9eqV_c8Ut",
        FullyBooked: "_2q-e6NDU-wz5TzRzQGkSjm",
        TooltipContainer: "_63VWld61ITDexhA9O8sa",
        PromotionPlanningStatsContainer: "_39E0g37VF9zENTy1IM6ffX",
      };
    },
    64578: (e) => {
      e.exports = {
        WarningsContainer: "Jdmsq5MsiHnsvkmShEESN",
        WarningItem: "_1Rz4Zv92hVIueGpZK-vmHO",
      };
    },
    56104: (e) => {
      e.exports = {
        ChartContainer: "_1Aj2OWer0d8RJKWXdK4B_2",
        Chart: "pwfTeHvMQX63C9oIT8-Vi",
      };
    },
    53390: (e) => {
      e.exports = {
        Featuring: "_3T5cuT1JEgQKn-huguKotK",
        FeaturingMissing: "_22uFYnpVb1aMFkIapLvrD1",
        FeaturingActive: "EZKx4ef-OSncbayXhA8KS",
        FeaturingMainCapsule: "_30k7GZ11m1ZneWgkauXIpx",
        FeaturingSpotlight: "_3VVXbA0aZicy103SNOq7W9",
        FeaturingIM: "_3CobVJLHLAAy1ke2nIDBMi",
        FeaturingDailyDeal: "_1aulIHoeZNkLG3UkBJEBM_",
        FeaturingProductBanner: "_17oCe1SdBhTMZh85naWwn7",
        BannerCtn: "_2dqTsf4SXUM871G5SoJlv0",
      };
    },
    35479: (e) => {
      e.exports = {
        SearchResults: "_3j5hsNUpJYgdYJ2gtrXvLh",
        VerifyCtn: "_14bU7K6FT6-zov5bL8cIib",
        VerifyCheck: "QK3cD6xQQrNpL4YU7wepl",
        FailCheck: "_3ZDrmN-fC_RWr28P33s_6r",
        MinWidthCtn: "_3VgMxVNDzd2JISZuxQhi4M",
        DateCtn: "HCvNcHOVeeked_V9t1Z0U",
        BasicInfoCtn: "_1_-Y4ce-DafmjZHzwF7m8T",
        StepOneTitle: "_21SRBhOPkZKtZKQAbyO9W_",
      };
    },
    68542: (e) => {
      e.exports = {
        SectionContainer: "DPwXXwSbN_Xjxca7pl0o_",
        SaleSectionTitle: "jRz_cEMetJtN1JKpVSrv_",
        SaleSectionResizeButton: "J8r3M8lX-hMDrD_jApe1T",
        SaleSectionDesc: "_3LwmLWHA2YGDzLMQXwo9i",
        TileContainer: "_3miRjDumYLGynv1Nn7lkUt",
        ListEventEventSection: "_2uxMxaptnpEk3KLUw-4471",
        EventNameCtn: "YXjI3tITvCCJIT10CzKwy",
        EventName: "_1MeeJWoN5-iX-QlFD_3KAf",
        DatesCtn: "_1r5csMq9mLC5MbaBQCRO4E",
        EventDetailsCtn: "iajpgf9lb468JAuTxHZwj",
        CapsuleImg: "jrn9lDAVT6ncc1SvDWr1C",
        ClanInfoCtn: "_3ZTR5jpNLJETTCCnt8fbPR",
        ClanInfoName: "QkmRbAOW1L6s_UOle6SU6",
        HoverCtn: "_1euONV-EbqzG6lUSSYkFvE",
        Avatar: "_1KgRK5gf5C3aAUqZ428Xap",
        TopStatsCtn: "_1mhrsl5i4BKJcswusNF-Ub",
        FeaturedApps: "OfWnMzBeP0_WEadkOKes1",
        EventStats: "E5F7A-Sl_JZoQW8YbCktt",
        SaleDetails: "_1TNA21Q8xGpOoRqDgI_-VS",
        BasicStatsCtn: "_2pNPEeF24ujyIwQvfkeL2F",
        LinkCtn: "y7fEJKGaE_U-aFvfQKZZg",
        Spacer: "ST3282nIwiZE_98ZnMt69",
        WhyTooltip: "_3QkT85mhs0U06Ta4LSQmGm",
        BrowseLink: "_3isng9wpgfuQQEvHWp39UB",
      };
    },
    80310: (e) => {
      e.exports = {
        DetailedStats: "z2xIGpuWDXocYIrl4KJx3",
        DetailedStatsTopBar: "_3YStRmsQI809qGUWQ0WdOK",
        DetailedStatsTimestamp: "_1RMEXqkGu2vdlJNeCDatV5",
        TopBarSection: "_3cLfEQ35BtiOLMfSiWonTO",
        TopBarSectionName: "_3kYTwWKqpjb14PaU5AQPNN",
        TopBarSubSections: "_3h_MdEGT5GIQutARI687j7",
        TopBarSubSection: "_3i-Zjuwv2xzdXB6PrSctwE",
        SubSectionName: "C227Qf2CL8CDq3K2eFM3c",
        SubSectionValue: "_1zwRaVLume4l4uXoHCbC47",
        DetailedStatsSectionHeader: "_2ViSjwyjZNy2uhztuidBiX",
        SectionHeaderName: "_2mE1giK4Mr25lW9_es9nK0",
        SectionHeaderDescription: "_38FIWdYl_SzB2LoyHLd6GB",
        DetailedStatsRow: "_2Ca6mZIpcDr12junhfjewq",
        DetailedStatsRowHeader: "_3NUuyhO9pWNVO1B1ULUhc7",
        DetailedStatShort: "_2cAR33W4iUYYsH4274EzsD",
        DetailedStatLong: "_1WWxK1YXXOJIuEjSRYkzXx",
        DetailedStatsButton: "_2F8AJNrC1ZugSr712_iXUl",
      };
    },
    16450: (e) => {
      e.exports = {
        AccessLog: "_3H6ey4oPTTSFT9R457CJ6E",
        AccessLogHeader: "_1qWNlN_Q4AbQPpTke3lX6E",
        AccessLogEntry: "_2e3poRbNgHtigt9E_3gXho",
        Name: "_2qrNOSYgExrgouavGekMlJ",
        Timestamp: "_3EUlYyC8kTjMybmlhNkNs8",
      };
    },
    40810: (e) => {
      e.exports = { SearchResults: "_3MD3z-ZmuI3BKmLDDS67RG" };
    },
    48674: (e) => {
      e.exports = {
        Results: "_3mK1PrFPrbrn2M-BbAWsmL",
        ResultRow: "_1QyQulOsH0dGeFUVgSa9ki",
        GameName: "_353QhAGCSYbIguu7o4DJgs",
        Label: "_3MUfh3QKRNr6qY0vEz3p04",
        AvatarImageCtn: "_3h9l9X-3dBSAhMflfovg2K",
        AvatarImage: "PBBKP18ULuCWFwYcEIOdW",
        AppSearchInputContainer: "oxxmBMFO82IJEm1H341Wd",
        AppSearchDLCCheckbox: "_1aduni8VCqZVqqDxyXb-pY",
      };
    },
    29525: (e, t, a) => {
      "use strict";
      a.d(t, {
        BB: () => N,
        Be: () => I,
        GS: () => L,
        HC: () => B,
        LW: () => A,
        MJ: () => M,
        R6: () => P,
        YC: () => H,
        aV: () => x,
        im: () => k,
        jj: () => F,
        pu: () => G,
        qy: () => U,
        vZ: () => C,
        zV: () => T,
      });
      var n = a(47427),
        i = a(77936),
        r = a(82493),
        l = a(91618),
        s = a(31421),
        o = a(19399),
        c = a(62698),
        m = a(45010),
        d = a(14411),
        u = a(26293),
        p = a(84478),
        _ = a(62613),
        h = a(25006),
        g = a(13129),
        E = a(31846),
        S = a(13499),
        v = a(37563),
        D = a(42090),
        f = a.n(D),
        y = a(43090),
        b = a(77115);
      const I = new Map([
        [
          "b",
          {
            Constructor: function (e) {
              return n.createElement(
                "div",
                { className: f().Bold },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "i",
          {
            Constructor: function (e) {
              return n.createElement(
                "div",
                { className: (0, g.Z)(f().Italic, "BB_Italic") },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        ["h1", { Constructor: P, autocloses: !1, skipFollowingNewline: !0 }],
        ["h2", { Constructor: T, autocloses: !1, skipFollowingNewline: !0 }],
        ["h3", { Constructor: N, autocloses: !1, skipFollowingNewline: !0 }],
        [
          "h4",
          {
            Constructor: function (e) {
              return w(e, (0, g.Z)(f().Header4, "BB_Header4"));
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
        [
          "h5",
          {
            Constructor: function (e) {
              return w(e, (0, g.Z)(f().Header5, "BB_Header5"));
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
        [
          "center",
          {
            Constructor: function (e) {
              let t = k(e.args, "id");
              t &&
                "string" == typeof t &&
                t.length > 0 &&
                "#" === t[0] &&
                (t = t.substring(1));
              return n.createElement(
                "span",
                {
                  id: t || void 0,
                  className: (0, g.Z)(f().CenterSpan, "BB_Center"),
                },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "smalltext",
          {
            Constructor: function (e) {
              return w(e, (0, g.Z)(f().SmallText, "BB_SmallText"));
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
        [
          "u",
          {
            Constructor: function (e) {
              return n.createElement(
                "div",
                { className: f().Underline },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "strike",
          {
            Constructor: function (e) {
              return n.createElement(
                "div",
                { className: f().Strike },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "spoiler",
          {
            Constructor: function (e) {
              let [t, a] = n.useState(!1),
                i = n.useCallback(() => {
                  a(!t);
                }, [t]);
              return n.createElement(
                l.s,
                {
                  className: (0, g.Z)(f().Spoiler, t && f().Revealed),
                  focusable: !0,
                  onActivate: i,
                  onOKActionDescription: (0, E.Xx)(
                    t ? "#Bbcode_Spoiler_Hide" : "#Bbcode_Spoiler_Show",
                  ),
                },
                n.createElement(
                  "span",
                  { className: f().SpoilerText },
                  e.children,
                ),
              );
            },
            autocloses: !1,
          },
        ],
        [
          "hr",
          {
            Constructor: function (e) {
              return n.createElement("div", { className: f().HR });
            },
            autocloses: !1,
          },
        ],
        [
          "noparse",
          {
            Constructor: function (e) {
              return e.children;
            },
            autocloses: !1,
          },
        ],
        [
          "url",
          {
            Constructor: function (e) {
              let t = k(e.args);
              if (!t) {
                const a = e.children;
                "string" == typeof a &&
                  (a.startsWith("http://") || a.startsWith("https://")) &&
                  (t = a);
              }
              const a = "button" == k(e.args, "style") ? f().LinkButton : null;
              let i = k(e.args, "id");
              i &&
                "string" == typeof i &&
                i.length > 0 &&
                "#" === i[0] &&
                (i = i.substring(1));
              if (void 0 === t && !i) return e.children || "";
              if (
                void 0 === t ||
                ("string" == typeof t && t.length > 0 && "#" == t[0])
              )
                return n.createElement(
                  "a",
                  { href: t ?? null, id: i },
                  e.children,
                );
              return n.createElement(
                R,
                { className: a, href: t, id: i },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        ["quote", { Constructor: G, autocloses: !1 }],
        [
          "pullquote",
          {
            Constructor: function (e) {
              return n.createElement(
                "div",
                { className: f().PullQuote },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "code",
          {
            Constructor: function (e) {
              return n.createElement(
                "div",
                { className: f().CodeBlock },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "c",
          {
            Constructor: function (e) {
              return n.createElement(
                "code",
                { className: f().Code },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        ["list", { Constructor: x, autocloses: !1, skipInternalNewline: !0 }],
        ["olist", { Constructor: L, autocloses: !1, skipInternalNewline: !0 }],
        ["*", { Constructor: B, autocloses: !0, skipInternalNewline: !0 }],
        [
          "table",
          {
            Constructor: function (e) {
              const t = k(e.args, "noborder"),
                a = k(e.args, "equalcells");
              return n.createElement(
                "div",
                {
                  className: (0, g.Z)(
                    f().Table,
                    "BB_Table",
                    t && f().NoBorder,
                    a && f().EqualCells,
                  ),
                },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
          },
        ],
        [
          "tr",
          {
            Constructor: function (e) {
              return n.createElement(
                "div",
                { className: (0, g.Z)(f().TableRow, "BB_TableRow") },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            skipFollowingNewline: !0,
          },
        ],
        [
          "th",
          {
            Constructor: function (e) {
              return n.createElement(
                "div",
                { className: f().TableHeader },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            skipFollowingNewline: !0,
          },
        ],
        [
          "td",
          {
            Constructor: function (e) {
              const t = k(e.args, "width");
              return n.createElement(
                "div",
                {
                  className: (0, g.Z)(f().TableData, "BB_TableData"),
                  style: t && { width: t },
                },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            skipFollowingNewline: !0,
          },
        ],
        [
          "expand",
          {
            Constructor: function (e) {
              const t = Boolean(k(e.args, "expanded")),
                [a, i] = n.useState(t),
                r = (function (e, t) {
                  switch (e) {
                    case "details":
                      return {
                        collapsed: "#Bbcode_Expand_Details_Collapsed",
                        expanded: "#Bbcode_Expand_Details_Expanded",
                        style: f().ExpandSection_Details,
                      };
                    case "spoiler":
                      return {
                        collapsed: "#Bbcode_Expand_Spoiler_Collapsed",
                        expanded: "#Bbcode_Expand_Spoiler_Expanded",
                        style: f().ExpandSection_Spoiler,
                      };
                    case "title":
                      return {
                        collapsed: t || "#Bbcode_Expand_ShowMore_Collapsed",
                        expanded: t || "#Bbcode_Expand_ShowMore_Expanded",
                        style: f().ExpandSection_WithTitle,
                      };
                    default:
                      return {
                        collapsed: "#Bbcode_Expand_ShowMore_Collapsed",
                        expanded: "#Bbcode_Expand_ShowMore_Expanded",
                        style: f().ExpandSection_ShowMore,
                      };
                  }
                })(k(e.args, "type"), k(e.args, "title"));
              return n.createElement(
                "div",
                {
                  className: (0, g.Z)(
                    f().ExpandSectionBlock,
                    r.style,
                    a ? f().ExpandSectionExpanded : f().ExpandSectionCollapsed,
                  ),
                },
                n.createElement(
                  "div",
                  { className: f().ExpandSectionHeader, onClick: () => i(!a) },
                  (0, E.Xx)(a ? r.expanded : r.collapsed),
                  n.createElement(
                    "div",
                    { className: f().EmbedArrow },
                    n.createElement(_.ret, { angle: a ? 180 : 0 }),
                  ),
                ),
                a &&
                  n.createElement(
                    "div",
                    { className: f().ExpandSectionBody },
                    e.children,
                  ),
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            allowWrapTextForCopying: !0,
          },
        ],
        [
          "remindme",
          {
            Constructor: function (e) {
              const { event: t, showErrorInfo: a } = e.context,
                r = k(e.args);
              if (r)
                return n.createElement(u.C, { eventGID: r, bPreviewMode: a });
              if (t) {
                const e = (0, i.jM)(v.De.LANGUAGE);
                return n.createElement(u.m, { eventModel: t, lang: e });
              }
              return null;
            },
            autocloses: !1,
          },
        ],
        [
          "doclink",
          {
            Constructor: function (e) {
              const t = k(e.args),
                a = "button" == k(e.args, "style") ? f().LinkButton : null;
              return n.createElement(
                R,
                { className: a, href: `${v.De.PARTNER_BASE_URL}doc/${t}` },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "color",
          {
            Constructor: function (e) {
              const t = k(e.args);
              return n.createElement(
                "span",
                { style: { color: t } },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "p",
          {
            Constructor: function (e) {
              return n.createElement(
                "p",
                { className: f().Paragraph },
                e.children,
                n.createElement("wbr", null),
              );
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
      ]);
      new Map([
        ["looping_media", { Constructor: F, autocloses: !1 }],
        ["video", { Constructor: U, autocloses: !1 }],
        ["youtubeorvideo", { Constructor: H, autocloses: !1 }],
        ["previewyoutube", { Constructor: M, autocloses: !1 }],
      ]);
      function C(e, t, a = 0) {
        if (e?.startsWith(b.A)) return (0, o.pd)(e);
        if (e?.startsWith(b.U)) {
          const n = new Array(),
            r = (0, o.OL)(),
            l = e.substring(b.U.length + 1),
            s = c.aN.GetHashFromHashAndExt(l),
            m = c.aN.GetExtensionStringFromHashAndExt(l);
          if (null != t) {
            let e = (0, i.j_)(t);
            n.push(r + s + "/" + e + m + "?t=" + a),
              4 == t &&
                ((e = (0, i.eV)((0, i.j_)(t))),
                n.push(r + s + "/" + e + m + "?t=" + a));
          }
          return n.push(r + l), n;
        }
        return e;
      }
      function k(e, t) {
        return void 0 === t ? e[""] : e[t];
      }
      function A(e, t) {
        return (a) => e({ ...a, className: (0, g.Z)(a.className, t) });
      }
      function w(e, t) {
        let a = k(e.args, "id");
        return (
          a || (a = k(e.args)),
          a &&
            "string" == typeof a &&
            a.length > 0 &&
            "#" === a[0] &&
            (a = a.substring(1)),
          n.createElement(
            "div",
            { id: a || void 0, className: (0, g.Z)(t, e.className) },
            e.children,
          )
        );
      }
      function P(e) {
        return w(e, (0, g.Z)(f().Header1, "BB_Header1"));
      }
      function T(e) {
        return w(e, (0, g.Z)(f().Header2, "BB_Header2"));
      }
      function N(e) {
        return w(e, (0, g.Z)(f().Header3, "BB_Header3"));
      }
      const R = (e) => {
        const { href: t, ...a } = e,
          i = (0, h.bJ)();
        let l,
          o = (0, s.B1)(t, i);
        (0, y.A)(o)
          ? ((o =
              (v.De.IN_CLIENT ? "steam://openurl_external/" : "") +
              (0, y.d)(o)),
            (l = "noopener nofollow"))
          : (o = (0, S.bk)(o));
        const c =
          "string" == typeof e.children &&
          e.children.length > 0 &&
          t &&
          !t.startsWith("steam://")
            ? (0, S.XW)(t)
            : void 0;
        return n.createElement(
          r.IS,
          { ...a, href: o, rel: l },
          n.createElement("span", { "data-tooltip-text": c }, e.children),
        );
      };
      function G(e) {
        const t = k(e.args, "author");
        return n.createElement(
          "blockquote",
          { className: (0, g.Z)(f().BlockQuote, e.className) },
          !!t &&
            n.createElement(
              "div",
              { className: f().QuoteAuthor },
              (0, E.Xx)("#Bbcode_Originally_Posted_By") + " ",
              " ",
              n.createElement("b", null, t + ":"),
            ),
          e.children,
        );
      }
      function x(e) {
        return n.createElement(
          "ul",
          { className: (0, g.Z)(f().List, "bullets") },
          e.children,
        );
      }
      function L(e) {
        return n.createElement(
          "ol",
          { className: f().OrderedList },
          e.children,
        );
      }
      function B(e) {
        let t = k(e.args, "id");
        return (
          t &&
            "string" == typeof t &&
            t.length > 0 &&
            "#" === t[0] &&
            (t = t.substring(1)),
          n.createElement(
            "li",
            { className: f().ListItem, id: t || void 0 },
            e.children,
          )
        );
      }
      function M(e) {
        if ((0, v.h4)()) return null;
        let t = k(e.args);
        if (t) {
          let e = t.split(";");
          if (2 == e.length) {
            let t = e[0],
              a = e[1].toLocaleLowerCase(),
              i = "full" == a ? d.sizeFull : d.sizeThumb,
              r =
                "full" == a
                  ? ""
                  : "leftthumb" == a
                    ? d.floatLeft
                    : d.floatRight;
            return n.createElement(m.O, {
              videoID: t,
              classNameAlign: r,
              classNameSize: i,
              bShowVideoImmediately: !0,
            });
          }
        }
        return n.createElement(n.Fragment, null);
      }
      function O(e) {
        let t = k(e.args, "poster");
        t && (t = (0, S.et)(t));
        const a = new Array();
        {
          const t = k(e.args, "mp4");
          t && a.push({ sURL: (0, S.et)(t), sFormat: "video/mp4" });
          const n = k(e.args, "webm");
          n && a.push({ sURL: (0, S.et)(n), sFormat: "video/webm" });
        }
        const n = (0, i.jM)(v.De.LANGUAGE),
          r = 0 != n,
          l = new Array();
        for (let t = 0; t < 31; t++) {
          const a = k(e.args, "sub_" + (0, i.dt)(t));
          a &&
            l.push({
              sURL: (0, S.et)(a),
              eLanguage: t,
              sKind: "subtitles",
              bDefault: r && t == n,
            });
          const s = k(e.args, "cap_" + (0, i.dt)(t));
          s &&
            l.push({
              sURL: (0, S.et)(s),
              eLanguage: t,
              sKind: "captions",
              bDefault: r && t == n,
            });
        }
        return { sPoster: t, rgVideoSources: a, rgVideoTracks: l };
      }
      function F(e) {
        const t = O(e);
        return n.createElement(p.Y, {
          video: t,
          bAutoPlay: !0,
          bControls: !1,
          bLoop: !0,
        });
      }
      function U(e) {
        const t = O(e),
          a = e.children ? e.children.toString() : void 0;
        a &&
          a.startsWith("http") &&
          t.rgVideoSources.push({ sURL: (0, S.et)(a), sFormat: "video/webm" });
        const i = k(e.args, "autoplay"),
          r = "0" !== i && "off" !== i && "false" !== i,
          l = k(e.args, "controls"),
          s = "0" !== l && "off" !== l && "false" !== l,
          o = k(e.args, "loop"),
          c = "0" !== l && "off" !== l && "false" !== l;
        return n.createElement(p.Y, {
          video: t,
          bAutoPlay: r,
          bControls: s,
          bLoop: o ? c : r,
        });
      }
      function H(e) {
        if ((0, v.h4)() || "CN" == v.De.COUNTRY.toLocaleUpperCase())
          return U(e);
        const t = k(e.args, "youtubeid"),
          a = k(e.args, "size"),
          i = k(e.args, "seconds");
        let r = "full" == a ? d.sizeFull : d.sizeThumb,
          l = "full" == a ? "" : "leftthumb" == a ? d.floatLeft : d.floatRight;
        return n.createElement(m.O, {
          videoID: t,
          nStartSeconds: i ? Number.parseInt(i) : void 0,
          classNameAlign: l,
          classNameSize: r,
          bShowVideoImmediately: !0,
        });
      }
    },
    26918: (e, t, a) => {
      "use strict";
      a.d(t, { _: () => s });
      var n = a(47427),
        i = a(45492),
        r = a(20417);
      const l = (e) => null != e;
      function s(e, t) {
        const [a, i] = n.useState(window.localStorage.getItem(e)),
          s = n.useRef(e);
        n.useEffect(() => {
          e != s.current &&
            (i(window.localStorage.getItem(e)), (s.current = e));
        }, [e]);
        const c = e == s.current ? a : window.localStorage.getItem(e);
        let m = t;
        return (
          l(c) &&
            (m = l(t)
              ? "boolean" == typeof t
                ? t.constructor("false" !== c)
                : t.constructor(c)
              : c),
          (0, r.Qg)(o.Get().GetLocalStoreChangeCallback(e), i),
          [
            m,
            (t) => {
              const a = l(t) ? String(t) : null;
              window.localStorage.setItem(e, a),
                i(a),
                o.Get().GetLocalStoreChangeCallback(e).Dispatch(a);
            },
          ]
        );
      }
      class o {
        m_mapChangeCallback = new Map();
        GetLocalStoreChangeCallback(e) {
          return (
            this.m_mapChangeCallback.has(e) ||
              this.m_mapChangeCallback.set(e, new i.pB()),
            this.m_mapChangeCallback.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return o.s_Singleton || (o.s_Singleton = new o()), o.s_Singleton;
        }
      }
    },
    89e3: (e, t, a) => {
      "use strict";
      a.d(t, { S6: () => m });
      const n = 20,
        i = /^.*youtube[^v]+v=(.{11}).*/,
        r = /^.*youtu\.be\/(.{11}).*/,
        l = /^.*youtube.*\/embed\/(.{11}).*/,
        s = /^.*[?&]t=([^&]+)(?:&|$)/,
        o = /^(?:(?:([\d]+)h)?(?:([\d]+)m)?(?:([\d]+)s)?|([\d]+))$/;
      function c(e) {
        const t = e?.length < n ? void 0 : i.exec(e) || r.exec(e) || l.exec(e);
        return t?.[1];
      }
      function m(e) {
        const t = c(e);
        if (!t) return;
        const a = (function (e) {
            const t = s.exec(e);
            return t?.[1];
          })(e),
          n = a
            ? (function (e) {
                const t = o.exec(e);
                if (!(t?.[1] || t?.[2] || t?.[3] || t?.[4])) return;
                if (t?.[4]) return parseInt(t?.[4]);
                let a = 0;
                return (
                  t?.[1] && (a += 3600 * parseInt(t[1])),
                  t?.[2] && (a += 60 * parseInt(t[2])),
                  t?.[3] && (a += parseInt(t[3])),
                  a
                );
              })(a)
            : void 0;
        return { strVideoID: t, nStartSeconds: n };
      }
    },
    2026: (e, t, a) => {
      "use strict";
      a.d(t, { Y8: () => i, eJ: () => r, rP: () => l });
      var n = a(77936);
      function i(e, t) {
        const a = (0, n.j_)(t);
        return e ? e[a] : "";
      }
      function r(e, t, a) {
        const i = (0, n.j_)(t);
        return e[i] != a && ((e[i] = a), !0);
      }
      function l(e) {
        if (!e) return 0;
        let t = 0;
        for (let a = 0; a < 31; ++a) {
          e[(0, n.j_)(a)] && (t += 1);
        }
        return t;
      }
    },
    29292: (e, t, a) => {
      "use strict";
      a.d(t, { Mx: () => o, XC: () => s });
      var n = a(47427),
        i = a(44174),
        r = a(29480),
        l = a(35427);
      a(37563), a(22520);
      function s(e) {
        const [t, a] = (0, n.useState)(i.j1.GetClanEventModel(e)),
          l = (0, r.T)("usePartnerEventByEventGID");
        return (
          (0, n.useEffect)(() => {
            t?.GID != e &&
              (i.j1.Init(),
              i.j1
                .LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs([e], [], l)
                .then((t) => {
                  1 != t?.length || t[0].GID != e || l.token.reason || a(t[0]);
                }));
          }, [e, t, l]),
          t
        );
      }
      function o(e, t, a) {
        const [s, o] = (0, n.useState)(i.j1.GetClanEventModel(t)),
          [c, m] = (0, n.useState)(!!e && !!t),
          [d, u] = (0, n.useState)(),
          p = (0, r.T)("usePartnerEventByClanAccountAndEventGID");
        return (
          (0, n.useEffect)(() => {
            (async () => {
              try {
                if (s?.GID != t) {
                  i.j1.Init();
                  const n = l.K.InitFromClanID(e);
                  let r;
                  try {
                    r =
                      await i.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                        n,
                        t,
                        0,
                        a,
                      );
                  } catch (e) {
                    u(e?.response?.data?.err_msg);
                  }
                  p.token.reason || o(r);
                }
              } finally {
                m(!1);
              }
            })();
          }, [e, t, s, a, p]),
          { eventModel: s, bLoading: c, sErrorMessage: d }
        );
      }
    },
    97087: (e, t, a) => {
      "use strict";
      a.d(t, { H_: () => i, Zh: () => r });
      a(51688);
      var n = a(47427);
      const i = 940;
      function r(e = i) {
        return (
          (function () {
            const [e, t] = (0, n.useState)(window.innerWidth);
            return (
              (0, n.useEffect)(() => {
                const e = () => {
                  t(window.innerWidth);
                };
                return (
                  window.addEventListener("resize", e),
                  () => window.removeEventListener("resize", e)
                );
              }, []),
              e
            );
          })() >= e
        );
      }
    },
    90286: (e, t, a) => {
      "use strict";
      a.d(t, { A: () => c });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(54842),
        s = a(37563);
      class o {
        constructor() {
          (0, l.rC)(this);
        }
        m_mapYouTubeVideo = new Map();
        m_mapSharedFile = new Map();
        async LoadYouTubeDynamicData(e, t) {
          let a = new Array(),
            n = "";
          if (
            (e.forEach((e, t) => {
              this.m_mapYouTubeVideo.has(e)
                ? a.push(this.m_mapYouTubeVideo.get(e))
                : (n.length > 0 && (n += ","), (n += e));
            }),
            0 == n.length)
          )
            return a;
          let i = { youtubevideoids: n },
            o = null;
          return (
            (o = await r().get(
              s.De.STORE_BASE_URL + "/events/ajaxgetdynamiceventmetadata",
              { params: i, cancelToken: t.token },
            )),
            o &&
              o.data &&
              o.data.youtube &&
              (0, l.z)(() => {
                o.data.youtube.forEach((e, t) => {
                  this.m_mapYouTubeVideo.set(e.videoid, e), a.push(e);
                });
              }),
            a
          );
        }
        async LoadSharedFileDynamicData(e, t) {
          let a = new Array(),
            n = "";
          if (
            (e.forEach((e, t) => {
              this.m_mapSharedFile.has(e)
                ? a.push(this.m_mapSharedFile.get(e))
                : (n.length > 0 && (n += ","), (n += e));
            }),
            0 == n.length)
          )
            return a;
          let i = { sharedfileids: n },
            o = null;
          return (
            (o = await r().get(
              s.De.STORE_BASE_URL + "/events/ajaxgetdynamiceventmetadata",
              { params: i, cancelToken: t.token },
            )),
            o &&
              o.data &&
              o.data.sharedfiles &&
              (0, l.z)(() => {
                o.data.sharedfiles.forEach((e, t) => {
                  this.m_mapSharedFile.set(e.sharedfileid, e), a.push(e);
                });
              }),
            a
          );
        }
      }
      (0, n.gn)([l.LO], o.prototype, "m_mapYouTubeVideo", void 0),
        (0, n.gn)([l.LO], o.prototype, "m_mapSharedFile", void 0);
      const c = new o();
    },
    65650: (e, t, a) => {
      "use strict";
      a.d(t, { U: () => m, h: () => d });
      var n = a(85556),
        i = a(54842),
        r = a(30750),
        l = a(77936),
        s = a(87225),
        o = a(16997),
        c = a(37563);
      class m {
        m_eCurLang = (0, l.jM)(c.De.LANGUAGE);
        m_rgHasData = (0, s.LG)([], 31, !1);
        m_bHasLocalizationContext = !1;
        GetCurEditLanguage() {
          return this.m_eCurLang;
        }
        SetCurEditLanguage(e) {
          return this.m_eCurLang != e && ((this.m_eCurLang = e), !0);
        }
        SetHasLanguage(e) {
          e.forEach((e, t) => {
            this.m_rgHasData[t] != e && (this.m_rgHasData[t] = e);
          });
        }
        BHasLanguageData(e) {
          return this.m_rgHasData[e];
        }
        GetHasLocalizationContext() {
          return this.m_bHasLocalizationContext;
        }
        SetHasLocalizationContext(e) {
          e != this.m_bHasLocalizationContext &&
            (this.m_bHasLocalizationContext = e);
        }
        static s_globalSingletonStore;
        static Get() {
          return (
            m.s_globalSingletonStore ||
              ((m.s_globalSingletonStore = new m()),
              "dev" == c.De.WEB_UNIVERSE &&
                (window.DUS = m.s_globalSingletonStore)),
            m.s_globalSingletonStore
          );
        }
        constructor() {
          (0, i.rC)(this);
        }
      }
      function d() {
        return (0, r.SZ)(() => m.Get().GetCurEditLanguage());
      }
      (0, n.gn)([i.LO], m.prototype, "m_eCurLang", void 0),
        (0, n.gn)([i.LO], m.prototype, "m_rgHasData", void 0),
        (0, n.gn)([i.LO], m.prototype, "m_bHasLocalizationContext", void 0),
        (0, n.gn)([o.a], m.prototype, "GetCurEditLanguage", null),
        (0, n.gn)([o.a], m.prototype, "SetCurEditLanguage", null),
        (0, n.gn)([i.aD.bound], m.prototype, "SetHasLanguage", null),
        (0, n.gn)([o.a], m.prototype, "BHasLanguageData", null);
    },
    60646: (e, t, a) => {
      "use strict";
      a.d(t, { $: () => s });
      var n = a(37563),
        i = a(54842),
        r = a(80751),
        l = a.n(r);
      const s = new (class {
        m_mapEmoticonHovers = i.LO.map();
        m_inflightRequests = {};
        Get(e) {
          return this.m_mapEmoticonHovers.has(e) || this.m_inflightRequests[e]
            ? this.m_mapEmoticonHovers.get(e)
            : (this.Load(e), null);
        }
        BLoaded(e) {
          return !!this.m_mapEmoticonHovers.get(e);
        }
        async Load(e) {
          const t = `${n.De.COMMUNITY_CDN_URL}economy/emoticonhoverjson/${encodeURIComponent(e)}?l=${encodeURIComponent(n.De.LANGUAGE)}&origin=${(0, n.Kc)()}`;
          this.m_inflightRequests[e] = !0;
          try {
            const { data: a } = await l().get(t);
            !(function (e) {
              return (
                e &&
                "object" == typeof e &&
                "number" == typeof e.appid &&
                "string" == typeof e.app_name
              );
            })(a)
              ? this.m_mapEmoticonHovers.set(e, null)
              : this.m_mapEmoticonHovers.set(e, a);
          } catch (t) {
            this.m_mapEmoticonHovers.set(e, null);
          } finally {
            this.m_inflightRequests[e] = !1;
          }
        }
      })();
    },
    88619: (e, t, a) => {
      "use strict";
      a.d(t, { co: () => c });
      var n = a(53923),
        i = a(40057),
        r = a(42718),
        l = a(79545),
        s = a(35427),
        o = a(3172);
      a(82182), a(51915);
      function c() {
        const e = (0, i.bY)(),
          t = (0, n.M)();
        return (0, r.useQuery)(m(e, t));
      }
      function m(e, t) {
        return {
          queryKey: ["GetFriendsList", t],
          queryFn: async () => {
            const t = l.gA.Init(o.Fi),
              a = await o.qW.GetFriendsList(e, t);
            return a
              .Body()
              .friendslist()
              ?.friends()
              ?.filter((e) => {
                const t = new s.K(e.ulfriendid());
                return (
                  (3 == e.efriendrelationship() ||
                    6 == e.efriendrelationship()) &&
                  t.BIsIndividualAccount()
                );
              })
              .map((e) => e.ulfriendid());
          },
        };
      }
    },
    53545: (e, t, a) => {
      "use strict";
      a.d(t, { Eg: () => _, r8: () => p, wM: () => E });
      var n = a(85556),
        i = (a(42718), a(47427), a(77936)),
        r = a(79545),
        l = a(44237),
        s = a(37563),
        o = a(80998),
        c = a(13370),
        m = a(62210),
        d = a(54842);
      class u {
        m_SteamInterface;
        m_SteamInterfacePromotions;
        m_setMessagesSeen = new Set();
        static sm_DefaultDataRequest = {
          include_release: !0,
          include_assets: !0,
        };
        constructor(e) {
          this.m_SteamInterface = e;
        }
        static sm_Instance;
        static Init(e) {
          u.sm_Instance = new u(e);
        }
        SetSteamInterfacePromotions(e) {
          this.m_SteamInterfacePromotions = e;
        }
        static Get() {
          return (
            (0, m.X)(u.sm_Instance, "MarketingMessages store not initialized"),
            u.sm_Instance
          );
        }
        async GetMessageList(e, t = !1) {
          if (!s.L7.logged_in) return [];
          const a = r.gA.Init(l.Pe);
          a.Body().set_country_code(s.De.COUNTRY),
            a.Body().set_elanguage((0, i.jM)(s.De.LANGUAGE)),
            a.Body().set_client_package_version(e.nClientPackageVersion),
            a.Body().set_operating_system(e.eOSType),
            t && a.Body().set_include_seen_messages(!0),
            (0, o.pA)(a),
            (0, o.De)(a, u.sm_DefaultDataRequest);
          const n = await l.Bn.GetMarketingMessagesForUser(
            this.m_SteamInterface.GetServiceTransport(),
            a,
          );
          if (1 != n.GetEResult())
            throw `Error loading marketing messages: ${n.GetEResult()}`;
          if (t)
            for (const e of n.Body().messages())
              e.already_seen() && this.m_setMessagesSeen.add(e.message().gid());
          return n.Body().messages();
        }
        async GetSingleMessage(e, t) {
          const a = r.gA.Init(l.F5);
          let n;
          if (
            (a.Body().set_gid(e),
            (0, o.pA)(a),
            (0, o.De)(a, u.sm_DefaultDataRequest),
            (n =
              t || s.L7.logged_in
                ? await l.Bn.GetDisplayMarketingMessageForUser(
                    this.m_SteamInterface.GetServiceTransport(),
                    a,
                  )
                : await l.Bn.GetDisplayMarketingMessage(
                    this.m_SteamInterface.GetAnonymousServiceTransport(),
                    a,
                  )),
            1 != n.GetEResult())
          )
            throw `Error loading marketing messages: ${n.GetEResult()}`;
          return n.Body().message();
        }
        MarkMessageSeen(e, t, a) {
          if (this.m_setMessagesSeen.has(e)) return;
          const n = r.gA.Init(l.UD);
          n.Body().set_gid(e),
            n.Body().set_display_index(t),
            n.Body().set_template_type(a),
            l.Bn.MarkMessageSeen(
              this.m_SteamInterface.GetServiceTransport(),
              n,
            ),
            this.m_setMessagesSeen.add(e);
        }
        BIsMessageSeen(e) {
          return this.m_setMessagesSeen.has(e);
        }
      }
      function p(e) {
        if (!e) return null;
        try {
          const t = JSON.parse(e);
          return (
            t.use_additional_fields &&
              (t.use_additional_fields =
                "true" === t.use_additional_fields ||
                1 === t.use_additional_fields),
            t.use_custom_legal_text &&
              (t.use_custom_legal_text =
                "true" === t.use_custom_legal_text ||
                1 === t.use_custom_legal_text),
            t.last_asset_mtime &&
              (t.last_asset_mtime = parseInt(t.last_asset_mtime)),
            (t.ll_image = t.ll_image || {}),
            t
          );
        } catch (e) {
          "dev" == s.De.WEB_UNIVERSE &&
            console.error(
              "MarketingMessageReadAndParseTemplateVars: Failed to prase",
              e,
            );
        }
        return null;
      }
      function _(e) {
        return `© ${new Date().getFullYear()} Valve Corporation${e ? " and " + e : ""}. <br/>All trademarks are property of their respective owners in the US and other countries.`;
      }
      class h {
        m_message;
        m_templateVars = void 0;
        m_item;
        constructor(e) {
          (0, d.rC)(this),
            (this.m_message = e),
            e.associated_item() &&
              (this.m_item = new c.Z(
                e.associated_item(),
                u.sm_DefaultDataRequest,
              )),
            (this.m_templateVars = p(e.template_vars_json()));
        }
        get id() {
          return this.m_message.gid();
        }
        GetType() {
          return this.m_message.type();
        }
        GetTemplateType() {
          return this.m_message.template_type();
        }
        GetTemplateTypeForReporting() {
          switch (this.GetTemplateVars().custom_display) {
            case "replay2022":
              return 5;
            case "dlc_override":
              return 4;
          }
          return 1;
        }
        GetTemplateVars() {
          return this.m_templateVars;
        }
        GetTemplateImage() {
          let e = this.m_templateVars.ll_image[s.De.LANGUAGE],
            t = (0, i.jM)(s.De.LANGUAGE);
          return (
            e ||
              s.De.LANGUAGE != (0, i.j_)(27) ||
              ((e = this.m_templateVars.ll_image.LATAM), (t = 27)),
            e || ((e = this.m_templateVars.ll_image.english), (t = 0)),
            [e?.path, t]
          );
        }
        GetTemplateBackgroundImage() {
          let e = this.m_templateVars.background[s.De.LANGUAGE],
            t = (0, i.jM)(s.De.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.background.english), (t = 0)),
            [e?.path, t]
          );
        }
        GetFeaturedVideoMP4URL() {
          return this.m_templateVars.featured_video_mp4;
        }
        GetFeaturedVideoWebMURL() {
          return this.m_templateVars.featured_video_webm;
        }
        GetPosterImage() {
          let e = this.m_templateVars.poster[s.De.LANGUAGE],
            t = (0, i.jM)(s.De.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.poster.english), (t = 0)),
            [e?.path, t]
          );
        }
        GetSubtitleObj() {
          return this.m_templateVars.subtitles;
        }
        GetDLCAppIDs() {
          return this.m_templateVars.additional_featuring
            .filter((e) => Boolean(e.appid))
            .map((e) => e.appid);
        }
        SetDLCAppIDOverride(e) {
          (this.m_templateVars.additional_featuring = e.map((e) => ({
            appid: e,
          }))),
            (this.m_templateVars.custom_display = "dlc_override");
        }
        OverrideCustomText(e) {
          this.m_templateVars.button_text_custom = e;
        }
        OverrideURL(e) {
          this.m_templateVars.linkurl = e;
        }
        BHasTemplateAnimatedAssets() {
          return this.m_templateVars.has_animated_assets;
        }
        BHasTemplateAnimatedAssetForLanguage(e) {
          const t = (0, i.j_)(e);
          return Boolean(this.m_templateVars.mp4[t]);
        }
        GetTemplateWebM(e) {
          const t = (0, i.j_)(e);
          return this.m_templateVars.webm[t]?.path;
        }
        GetTemplateMP4(e) {
          const t = (0, i.j_)(e);
          return this.m_templateVars.mp4[t]?.path;
        }
        GetLegalHTML() {
          return this.GetTemplateVars().use_custom_legal_text
            ? this.GetTemplateVars().custom_legal_text
            : _(this.GetTemplateVars().partner);
        }
        get associated_item() {
          return this.m_item;
        }
      }
      (0, n.gn)([d.LO], h.prototype, "m_templateVars", void 0);
      const g = "^(replay)([0-9]{4})";
      function E(e) {
        const t = e.match(g);
        return t?.[2];
      }
    },
    46475: (e, t, a) => {
      "use strict";
      a.d(t, { AL: () => E });
      var n = a(80751),
        i = a.n(n),
        r = a(47427),
        l = a(77936),
        s = a(79545),
        o = (a(51688), a(77581)),
        c = a(22520),
        m = a(80002),
        d = a(75375),
        u = a(16649),
        p = a(37563),
        _ = a(77151),
        h = a(64936);
      class g {
        m_serviceTransport;
        m_anonymousServiceTransport;
        m_mapPlaytime;
        m_playtimePromise;
        m_mapOwnedApps = new Map();
        m_mapOwnedAppsPromise = new Map();
        m_mapDLC = new Map();
        m_mapDLCPromise = new Map();
        m_mapDLCForApp = new Map();
        m_mapDLCForAppPromise = new Map();
        m_mapPopularDLCByApp = new Map();
        m_mapPopularDLCByAppPromise = new Map();
        m_dlcStats;
        m_dlcStatsPromise;
        static s_singleton;
        BIsPlaytimeLoaded() {
          return Boolean(this.m_mapPlaytime);
        }
        GetPlaytime() {
          return this.m_mapPlaytime;
        }
        async LoadPlaytime() {
          return (
            this.m_playtimePromise ||
              (this.m_playtimePromise = this.InternalLoadPlaytime()),
            this.m_playtimePromise
          );
        }
        async InternalLoadPlaytime() {
          const e = new Map();
          let t = null;
          try {
            const a = `${p.De.STORE_BASE_URL}contenthub/ajaxgetdlcforyouplaytime`,
              n = {
                origin: self.origin,
                forsteamid: (0, p.kQ)(
                  "dlcforyou_forsteamid",
                  "application_config",
                ),
              },
              r = await i().get(a, { params: n, withCredentials: !0 });
            if (200 === r.status && 1 === r.data.success) {
              if (r.data.playtime)
                for (const t of r.data.playtime)
                  e.set(t.appid, {
                    playtime: t.playtime,
                    last_played: t.last_played,
                  });
            } else t = (0, u.l)(r);
          } catch (e) {
            t = (0, u.l)(e);
          }
          (this.m_mapPlaytime = e),
            t &&
              console.error(
                "CDLCForYouStore.LoadPlaytime failed: " + t.strErrorMsg,
                t,
              );
        }
        GetSortKey(e, t, a) {
          return `${e}_${t || "*"}_${a || "*"}`;
        }
        BIsOwnedAppsLoaded(e, t, a) {
          return this.m_mapOwnedApps.has(this.GetSortKey(e, t, a));
        }
        GetOwnedApps(e, t, a) {
          return this.m_mapOwnedApps.get(this.GetSortKey(e, t, a));
        }
        async LoadOwnedApps(e, t, a) {
          const n = this.GetSortKey(e, t, a);
          return (
            this.m_mapOwnedAppsPromise.has(n) ||
              this.m_mapOwnedAppsPromise.set(
                n,
                this.InternalLoadOwnedApps(e, t, a),
              ),
            this.m_mapOwnedAppsPromise.get(n)
          );
        }
        async InternalLoadOwnedApps(e, t, a) {
          let n = [],
            i = null;
          try {
            await Promise.all([this.LoadPlaytime(), _.jg.Get().HintLoad()]),
              (n = Array.from(this.m_mapPlaytime.keys())),
              (n = n.filter((e) => _.jg.Get().BIsGameOwned(e)));
            let i = [],
              r = [];
            t &&
              ((i = n.filter(
                (e) => this.m_mapPlaytime.get(e).playtime < 60 * t,
              )),
              (n = n.filter(
                (e) => this.m_mapPlaytime.get(e).playtime >= 60 * t,
              ))),
              a &&
                ((r = n.filter(
                  (e) =>
                    this.m_mapPlaytime.get(e).last_played <
                    (0, h.kl)() - 31 * a * 24 * 60 * 60,
                )),
                (n = n.filter(
                  (e) =>
                    this.m_mapPlaytime.get(e).last_played >=
                    (0, h.kl)() - 31 * a * 24 * 60 * 60,
                ))),
              "playtime" === e
                ? (r.sort(
                    (e, t) =>
                      this.m_mapPlaytime.get(t).playtime -
                      this.m_mapPlaytime.get(e).playtime,
                  ),
                  i.sort(
                    (e, t) =>
                      this.m_mapPlaytime.get(t).playtime -
                      this.m_mapPlaytime.get(e).playtime,
                  ),
                  n.sort(
                    (e, t) =>
                      this.m_mapPlaytime.get(t).playtime -
                      this.m_mapPlaytime.get(e).playtime,
                  ))
                : "last_played" === e &&
                  (r.sort(
                    (e, t) =>
                      this.m_mapPlaytime.get(t).last_played -
                      this.m_mapPlaytime.get(e).last_played,
                  ),
                  i.sort(
                    (e, t) =>
                      this.m_mapPlaytime.get(t).last_played -
                      this.m_mapPlaytime.get(e).last_played,
                  ),
                  n.sort(
                    (e, t) =>
                      this.m_mapPlaytime.get(t).last_played -
                      this.m_mapPlaytime.get(e).last_played,
                  )),
              (n = n.concat(r).concat(i));
          } catch (e) {
            i = (0, u.l)(e);
          }
          this.m_mapOwnedApps.set(this.GetSortKey(e, t, a), n),
            i &&
              console.error(
                "CDLCForYouStore.InternalLoadOwnedApps failed: " +
                  i.strErrorMsg,
                i,
              );
        }
        BIsDLCLoaded(e) {
          return this.m_mapDLC.has(JSON.stringify(e));
        }
        GetDLC(e) {
          return this.m_mapDLC.get(JSON.stringify(e));
        }
        async LoadDLC(e) {
          const t = JSON.stringify(e);
          return (
            this.m_mapDLCPromise.has(t) ||
              this.m_mapDLCPromise.set(t, this.InternalLoadDLC(e)),
            this.m_mapDLCPromise.get(t)
          );
        }
        async InternalLoadDLC(e) {
          if (
            ("popular" === e.strFlavor || "discounted" === e.strFlavor) &&
            !Boolean((0, p.kQ)("dlcforyou_forsteamid", "application_config"))
          )
            return this.InternalLoadDLCFromDiscoveryQueue(e);
          let t = [],
            a = null;
          try {
            await _.jg.Get().HintLoad();
            const n = `${p.De.STORE_BASE_URL}contenthub/ajaxgetdlcforyoupopular`,
              r = {
                origin: self.origin,
                flavor: e.strFlavor || "popular",
                count: e.nCount || 50,
                hubtype: e.strHubType,
                category: e.strCategory,
                tagid: e.nTagID,
                tabid: e.nTabID,
                tabfilter: e.strTabFilter,
                sectionid: e.nSectionID,
                sectionfilter: e.strSectionFilter,
                facetcount: e.nFacetCount,
                facetkey: e.strFacetURLParam,
                facetfilter: e.strFacetFilter,
                forsteamid: (0, p.kQ)(
                  "dlcforyou_forsteamid",
                  "application_config",
                ),
              },
              l = await i().get(n, { params: r, withCredentials: !0 });
            if (200 === l.status && 1 === l.data.success) {
              if (l.data.dlc_appids)
                for (const e of l.data.dlc_appids)
                  _.jg.Get().BOwnsApp(e) || t.push(Number(e));
            } else a = (0, u.l)(l);
          } catch (e) {
            a = (0, u.l)(e);
          }
          this.m_mapDLC.set(JSON.stringify(e), t),
            a &&
              console.error(
                "CDLCForYouStore.InternalLoadDLC failed: " + a.strErrorMsg,
                a,
              );
        }
        async InternalLoadDLCFromDiscoveryQueue(e) {
          let t = [],
            a = null;
          try {
            await _.jg.Get().HintLoad();
            const n = s.gA.Init(d.cJ);
            if (
              (n.Body().set_queue_type("discounted" === e.strFlavor ? 8 : 7),
              n.Body().set_country_code(p.De.COUNTRY || "US"),
              n.Body().set_rebuild_queue_if_stale(!0),
              e.strHubType)
            ) {
              if (
                (n
                  .Body()
                  .store_page_filter()
                  .content_hub_filter()
                  .set_hub_type(e.strHubType),
                n
                  .Body()
                  .store_page_filter()
                  .content_hub_filter()
                  .set_hub_category(e.strCategory),
                n
                  .Body()
                  .store_page_filter()
                  .content_hub_filter()
                  .set_hub_tagid(e.nTagID),
                e.nTabID && e.strTabFilter)
              ) {
                const t = n.Body().store_page_filter().add_store_filters();
                t.set_filter_json(e.strTabFilter),
                  t.set_cache_key(e.nTabID.toString());
              }
              if (e.nSectionID && e.strSectionFilter) {
                const t = n.Body().store_page_filter().add_store_filters();
                t.set_filter_json(e.strSectionFilter),
                  t.set_cache_key(e.nSectionID.toString());
              }
              if (e.nFacetCount && e.strFacetURLParam && e.strFacetFilter) {
                const t = n.Body().store_page_filter().add_store_filters();
                t.set_filter_json(e.strFacetFilter),
                  t.set_cache_key(e.strFacetURLParam);
              }
            } else
              e.nSaleTagID &&
                n
                  .Body()
                  .store_page_filter()
                  .sale_filter()
                  .set_sale_tagid(e.nSaleTagID);
            const i = await d.d6.GetDiscoveryQueue(this.m_serviceTransport, n);
            if (1 === i.GetEResult()) {
              if (i.Body().appids()?.length > 0)
                for (const e of i.Body().appids())
                  _.jg.Get().BOwnsApp(e) || t.push(e);
            } else a = (0, u.l)(i);
          } catch (e) {
            a = (0, u.l)(e);
          }
          this.m_mapDLC.set(JSON.stringify(e), t),
            a &&
              console.error(
                "CDLCForYouStore.InternalLoadDLC failed: " + a.strErrorMsg,
                a,
              );
        }
        GetAppKey(e, t) {
          return JSON.stringify(e) + "_" + t;
        }
        BIsDLCForAppsLoaded(e, t) {
          for (const a of e) {
            const e = this.GetAppKey(t, a);
            if (!this.m_mapDLCForApp.has(e)) return !1;
          }
          return !0;
        }
        GetDLCForApps(e, t) {
          const a = new Map();
          for (const n of e) {
            const e = this.GetAppKey(t, n),
              i = this.m_mapDLCForApp.get(e);
            i && a.set(n, i);
          }
          return a;
        }
        async LoadDLCForApps(e, t) {
          const a = e.filter(
            (e) => !this.m_mapDLCForAppPromise.has(this.GetAppKey(t, e)),
          );
          if (a.length > 0) {
            const e = this.InternalLoadDLCForApps(a, t);
            for (const n of a)
              this.m_mapDLCForAppPromise.set(this.GetAppKey(t, n), e);
          }
          await Promise.all(
            e.map((e) => this.m_mapDLCForAppPromise.get(this.GetAppKey(t, e))),
          );
        }
        async InternalLoadDLCForApps(e, t) {
          const a = new Map();
          for (const t of e) a.set(t, []);
          let n = null;
          try {
            await _.jg.Get().HintLoad();
            const i = s.gA.Init(m._A);
            i.Body().context().set_language(p.De.LANGUAGE),
              i
                .Body()
                .context()
                .set_elanguage((0, l.jM)(p.De.LANGUAGE)),
              i.Body().context().set_country_code(p.De.COUNTRY),
              i.Body().context().set_steam_realm(p.De.EREALM);
            for (const t of e) i.Body().add_appids(t);
            if (
              (i.Body().set_flavor(t.strFlavor || "popular"),
              i.Body().set_count(t.nCount || 20),
              t.strHubType)
            ) {
              if (
                (i
                  .Body()
                  .store_page_filter()
                  .content_hub_filter()
                  .set_hub_type(t.strHubType),
                i
                  .Body()
                  .store_page_filter()
                  .content_hub_filter()
                  .set_hub_category(t.strCategory),
                i
                  .Body()
                  .store_page_filter()
                  .content_hub_filter()
                  .set_hub_tagid(t.nTagID),
                t.nTabID && t.strTabFilter)
              ) {
                const e = i.Body().store_page_filter().add_store_filters();
                e.set_filter_json(t.strTabFilter),
                  e.set_cache_key(t.nTabID.toString());
              }
              if (t.nSectionID && t.strSectionFilter) {
                const e = i.Body().store_page_filter().add_store_filters();
                e.set_filter_json(t.strSectionFilter),
                  e.set_cache_key(t.nSectionID.toString());
              }
              if (t.nFacetCount && t.strFacetURLParam && t.strFacetFilter) {
                const e = i.Body().store_page_filter().add_store_filters();
                e.set_filter_json(t.strFacetFilter),
                  e.set_cache_key(t.strFacetURLParam);
              }
            }
            const r = await m.VJ.GetDLCForAppsSolr(
              this.m_anonymousServiceTransport,
              i,
            );
            if (1 === r.GetEResult()) {
              if (r.Body().dlc_lists().length > 0)
                for (const e of r.Body().dlc_lists()) {
                  const t = e.parent_appid();
                  for (const n of e.dlc_appids())
                    _.jg.Get().BOwnsApp(n) || a.get(t).push(n);
                }
            } else n = (0, u.l)(r);
          } catch (e) {
            n = (0, u.l)(e);
          }
          for (const n of e)
            this.m_mapDLCForApp.set(this.GetAppKey(t, n), a.get(n));
          n &&
            console.error(
              "CDLCForYouStore.InternalLoadDLCForApps failed: " + n.strErrorMsg,
              n,
            );
        }
        async LoadDLCForAppsFiltered(e, t, a) {
          await this.LoadOwnedApps(
            t.parent_app_sort,
            t.min_playtime,
            t.max_last_played,
          );
          const n = this.GetOwnedApps(
            t.parent_app_sort,
            t.min_playtime,
            t.max_last_played,
          );
          let i = [],
            r = !1;
          for (let t = 0; t < n.length; ++t) {
            t % 10 == 0 && (await this.LoadDLCForApps(n.slice(t, t + 10), e));
            const l = this.GetAppKey(e, n[t]);
            if (
              (this.m_mapDLCForApp.get(l)?.length > 0 &&
                i.push(this.m_mapDLCForApp.get(l)),
              i.length === a)
            ) {
              t < n.length - 1 && (r = !0);
              break;
            }
          }
          return { rgDLC: i, bMoreAvailable: r };
        }
        BIsPopularDLCByAppLoaded(e) {
          return this.m_mapPopularDLCByApp.has(JSON.stringify(e));
        }
        GetPopularDLCByApp(e) {
          return this.m_mapPopularDLCByApp.get(JSON.stringify(e));
        }
        async LoadPopularDLCByApp(e, t, a) {
          const n = JSON.stringify(e);
          return (
            this.m_mapPopularDLCByAppPromise.has(n) ||
              this.m_mapPopularDLCByAppPromise.set(
                n,
                this.InternalLoadPopularDLCByApp(e, t, a),
              ),
            this.m_mapPopularDLCByAppPromise.get(n)
          );
        }
        async InternalLoadPopularDLCByApp(e, t, a) {
          let n = [],
            r = null;
          try {
            await _.jg.Get().HintLoad();
            const e = `${p.De.STORE_BASE_URL}contenthub/ajaxgetdlcforyoumaincapsule`,
              t = {
                origin: self.origin,
                count: 5e3,
                forsteamid: (0, p.kQ)(
                  "dlcforyou_forsteamid",
                  "application_config",
                ),
              },
              a = await i().get(e, { params: t, withCredentials: !0 });
            if (200 === a.status && 1 === a.data.success) {
              if (a.data.dlc_appids && a.data.parent_appids)
                for (const e of a.data.parent_appids) {
                  const t = Number(e);
                  _.jg.Get().BIsGameOwned(t) &&
                    n.push(a.data.dlc_appids[t].map((e) => Number(e)));
                }
            } else r = (0, u.l)(a);
          } catch (e) {
            r = (0, u.l)(e);
          }
          this.m_mapPopularDLCByApp.set(JSON.stringify(e), n),
            r &&
              console.error(
                "CDLCForYouStore.InternalLoadPopularDLCByApp failed: " +
                  r.strErrorMsg,
                r,
              );
        }
        BIsDLCStatsLoaded() {
          return Boolean(this.m_dlcStats);
        }
        GetDLCStats() {
          return this.m_dlcStats;
        }
        async LoadDLCStats() {
          return (
            this.m_dlcStatsPromise ||
              (this.m_dlcStatsPromise = this.InternalLoadDLCStats()),
            this.m_dlcStatsPromise
          );
        }
        async InternalLoadDLCStats() {
          const e = {};
          let t = null;
          try {
            const a = `${p.De.STORE_BASE_URL}contenthub/ajaxgetdlcstatsforuser`,
              n = {
                origin: self.origin,
                forsteamid: (0, p.kQ)(
                  "dlcforyou_forsteamid",
                  "application_config",
                ),
              },
              r = await i().get(a, { params: n, withCredentials: !0 });
            200 === r.status && 1 === r.data.success
              ? ((e.nGamesOwned = Number(r.data.games_owned)),
                (e.nDLCOwned = Number(r.data.dlc_owned)),
                (e.nDLCNotOwned = Number(r.data.dlc_not_owned)))
              : (t = (0, u.l)(r));
          } catch (e) {
            t = (0, u.l)(e);
          }
          (this.m_dlcStats = e),
            t &&
              console.error(
                "CDLCForYouStore.LoadDLCStats failed: " + t.strErrorMsg,
                t,
              );
        }
        constructor() {
          if (!this.m_serviceTransport) {
            const e = (0, p.kQ)("loyalty_webapi_token", "application_config"),
              t = new o.J(p.De.WEBAPI_BASE_URL, e || void 0);
            (this.m_serviceTransport = t.GetServiceTransport()),
              (this.m_anonymousServiceTransport =
                t.GetAnonymousServiceTransport());
          }
          "dev" === p.De.WEB_UNIVERSE && (window.g_dlcForYouStore = this);
        }
        static Get() {
          return g.s_singleton || (g.s_singleton = new g()), g.s_singleton;
        }
      }
      function E(e, t = 20) {
        const [a, n] = (0, r.useState)(null);
        return (
          (0, r.useEffect)(() => {
            if (e && e != c.kI)
              if ("dev" == p.De.WEB_UNIVERSE && 782330 == e)
                n([1749103, 1749101, 1749102, 1098300]);
              else {
                const a = { nCount: t, strFlavor: "popular" };
                g.Get()
                  .LoadDLCForApps([e], a)
                  .then(() => {
                    const t = g.Get().GetDLCForApps([e], a);
                    n(t.get(e));
                  });
              }
          }, [e, t]),
          a
        );
      }
    },
    72728: (e, t, a) => {
      "use strict";
      a.d(t, { v: () => p, x: () => u });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(47427),
        s = a(16649),
        o = a(45492),
        c = a(20417),
        m = a(37563);
      class d {
        m_mapRegistrations = new Map();
        m_mapLoadPromises = new Map();
        m_mapCreatePromises = new Map();
        m_listChangeCallback = new Map();
        GetRegistration(e) {
          return this.m_mapRegistrations.get(e);
        }
        GetRegistrationChangeCallback(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new o.pB()),
            this.m_listChangeCallback.get(e)
          );
        }
        async LoadRegistration(e) {
          return (
            this.m_mapLoadPromises.has(e) ||
              this.m_mapLoadPromises.set(e, this.InternalLoadRegistration(e)),
            this.m_mapLoadPromises.get(e)
          );
        }
        async InternalLoadRegistration(e) {
          let t = null;
          try {
            const a =
                m.De.STORE_BASE_URL +
                "saleaction/ajaxgetusergiveawayregistration",
              n = { giveaway_name: e, sessionid: m.De.SESSIONID },
              i = await r().get(a, { params: n, withCredentials: !0 });
            if (
              200 == i?.status &&
              1 == i?.data?.success &&
              i?.data?.registration
            )
              return (
                this.m_mapRegistrations.set(e, i?.data?.registration),
                this.GetRegistrationChangeCallback(e).Dispatch(
                  i?.data?.registration,
                ),
                i?.data?.registration
              );
            t = (0, s.l)(i);
          } catch (e) {
            t = (0, s.l)(e);
          }
          return (
            console.error(
              "CGiveawayRegistrationStore.InternalLoadRegistration failed: on giveawayName " +
                e +
                " error: " +
                t?.strErrorMsg,
              t,
            ),
            { registered: !1 }
          );
        }
        CreateRegistration(e) {
          return (
            this.m_mapCreatePromises.has(e) ||
              this.m_mapCreatePromises.set(
                e,
                this.InternalCreateRegistration(e),
              ),
            this.m_mapCreatePromises.get(e)
          );
        }
        async InternalCreateRegistration(e) {
          let t = null;
          try {
            const a =
                m.De.STORE_BASE_URL +
                "saleaction/ajaxupdateusergiveawayregistration",
              n = { giveaway_name: e, sessionid: m.De.SESSIONID },
              i = await r().get(a, { params: n, withCredentials: !0 });
            if (
              200 == i?.status &&
              1 == i?.data?.success &&
              i?.data?.registration
            )
              return (
                this.m_mapRegistrations.set(e, i?.data?.registration),
                this.GetRegistrationChangeCallback(e).Dispatch(
                  i?.data?.registration,
                ),
                i?.data?.registration
              );
            t = (0, s.l)(i);
          } catch (e) {
            t = (0, s.l)(e);
          }
          return (
            console.error(
              "CGiveawayRegistrationStore.InternalCreateRegistration failed: on giveawayName " +
                e +
                " error: " +
                t?.strErrorMsg,
              t,
            ),
            { registered: !1 }
          );
        }
        static s_Singleton;
        static Get() {
          return (
            d.s_Singleton ||
              ((d.s_Singleton = new d()),
              d.s_Singleton.Init(),
              "dev" == m.De.WEB_UNIVERSE &&
                (window.g_SaleMiniGameItemDefStore = d.s_Singleton)),
            d.s_Singleton
          );
        }
        constructor() {}
        Init() {}
      }
      function u(e) {
        const [t, a] = (0, l.useState)(d.Get().GetRegistration(e));
        return (
          (0, l.useEffect)(() => {
            void 0 === t && d.Get().LoadRegistration(e).then(a);
          }, [e, t]),
          (0, c.Qg)(d.Get().GetRegistrationChangeCallback(e), a),
          t
        );
      }
      function p() {
        return { fnCreateRegistration: d.Get().CreateRegistration };
      }
      (0, n.gn)([c.ak], d.prototype, "CreateRegistration", null);
    },
    92280: (e, t, a) => {
      "use strict";
      a.d(t, { $: () => d, NL: () => p, TW: () => _ });
      var n = a(79545),
        i = (a(82182), a(40354)),
        r = a(42718),
        l = a(40057),
        s = a(65255),
        o = a(82756);
      a(77151), a(80751), a(47427), a(13557);
      let c;
      function m() {
        return (
          c || (c = (0, o.ip)("steam_awards_config", "application_config")), c
        );
      }
      function d(e) {
        const t = (0, l.bY)();
        return (0, r.useQuery)(
          `SteamAwardDefs_${e}`,
          async () => {
            const a = n.gA.Init(i.R_);
            a.Body().set_sale_appid(e), a.Body().set_language(s.De.LANGUAGE);
            return (await i.Zq.GetVoteDefinitions(t, a)).Body().toObject();
          },
          { initialData: () => m()?.definitions, enabled: e > 0 },
        );
      }
      function u() {
        const e = (0, l.bY)();
        return (0, r.useQuery)(
          `SteamAwardNominations_${s.L7.accountid}`,
          async () => {
            const t = n.gA.Init(i.Aw),
              a = await i.tQ.GetUserNominations(e, t);
            return a.Body().toObject()?.nominations;
          },
          {
            initialData: () => m()?.user_nominations?.nominations,
            enabled: s.L7.logged_in,
          },
        );
      }
      function p(e) {
        const t = u();
        return t.isLoading
          ? { bLoadingNominationForCategory: !0 }
          : {
              currentNomination: t.data?.find((t) => t.category_id == e),
              bLoadingNominationForCategory: !1,
            };
      }
      function _(e, t, a, o) {
        const c = (0, l.bY)(),
          m = (0, r.useQueryClient)();
        return (0, r.useMutation)(
          async () =>
            await (async function (e, t, a, r) {
              const l = n.gA.Init(i.Fz);
              l.Body().set_category_id(a),
                l.Body().set_source(r),
                l.Body().set_nominated_id(t);
              const s = await i.tQ.Nominate(e, l);
              return (
                s.BSuccess() ||
                  console.warn(`Failed to nominate app: ${s.GetEResult()}`),
                [s.GetEResult(), s.Body().toObject()]
              );
            })(c, e, t, a),
          {
            onSuccess([e, t]) {
              1 == e
                ? (function (e, t) {
                    e.setQueryData(
                      `SteamAwardNominations_${s.L7.accountid}`,
                      t,
                    );
                  })(m, t.nominations)
                : o && o(e);
            },
            onError() {
              o && o();
            },
          },
        );
      }
    },
    71363: (e, t, a) => {
      "use strict";
      a.d(t, { C: () => c, E: () => o });
      var n = a(80751),
        i = a.n(n),
        r = a(42718),
        l = a(16649),
        s = a(65255);
      function o(e) {
        const { data: t, isLoading: a } = (0, r.useQuery)(
          ["PartnerInfoList", e],
          () =>
            (async function (e) {
              const t = { accountid: e, origin: self.origin },
                a = await i().get(
                  `${s.De.COMMUNITY_BASE_URL}actions/ajaxgetuserpartnerinfo`,
                  { params: t, withCredentials: !0 },
                );
              if (
                !a ||
                200 != a.status ||
                1 != a.data?.success ||
                !a.data?.partners
              )
                throw `Load single user partner info failed ${(0, l.l)(a).strErrorMsg}`;
              return a.data.partners;
            })(e),
        );
        return a ? null : t;
      }
      function c(e, t) {
        const a = o(e);
        return a?.find((e) => e.partnerid === t);
      }
    },
    51723: (e, t, a) => {
      "use strict";
      a.d(t, { v: () => l });
      var n = a(47427),
        i = a(71363),
        r = a(1485);
      function l(e) {
        const {
            accountID: t,
            partnerID: a,
            fnSetPartnerID: l,
            strLabel: s,
            strTooltip: o,
          } = e,
          c = (0, i.E)(t),
          m = (0, n.useMemo)(
            () =>
              c?.length > 0
                ? c.map((e) => ({ label: e.partner_name, data: e.partnerid }))
                : null,
            [c],
          );
        return null == m
          ? null
          : n.createElement(r.ry, {
              label: s,
              tooltip: o,
              rgOptions: m,
              selectedOption: a,
              onChange: (e) => l(e.data),
            });
      }
    },
    90604: (e, t, a) => {
      "use strict";
      a.d(t, { R: () => _e });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(27605),
        s = a(47427),
        o = a(19403),
        c = a(95315),
        m = a(89e3),
        d = a(35427),
        u = a(19399),
        p = a(62698),
        _ = a(60646),
        h = a(20417),
        g = a(33682),
        E = a(42287),
        S = a(54842),
        v = a(6791),
        D = a.n(v),
        f = a(13129);
      class y extends s.Component {
        m_strLastSearch;
        m_rgCurrentMatches = [];
        m_mapMatchByKey = new Map();
        constructor(e) {
          super(e),
            (this.m_hMobxSearchDisposer = (0, S.EH)(async () => {
              await this.UpdateSearchResults(this.props.strSearch),
                this.forceUpdate();
            })),
            (this.state = { selectedIndex: void 0 });
        }
        OnKeyDown(e) {
          this.BHandleKeyPress(e.keyCode) && e.preventDefault();
        }
        BHandleKeyPress(e) {
          switch (e) {
            case 38:
              this.SetSelectedIndexDelta(-1);
              break;
            case 40:
              this.SetSelectedIndexDelta(1);
              break;
            case 36:
              this.SetSelectedIndex(0);
              break;
            case 33:
              this.SetSelectedIndexDelta(-this.GetPageSize());
              break;
            case 35:
              this.SetSelectedIndex(-1);
              break;
            case 34:
              this.SetSelectedIndexDelta(this.GetPageSize());
              break;
            case 13:
            case 9:
              if (void 0 === this.state.selectedIndex)
                return (
                  this.props.onSuggestionSelected(this.props.strSearch), !1
                );
              this.ChooseSuggestion(
                this.m_rgCurrentMatches[this.state.selectedIndex],
              );
              break;
            case 27:
              this.props.onSuggestionSelected(this.props.strSearch);
              break;
            default:
              return !1;
          }
          return !0;
        }
        GetPageSize() {
          let e = E.findDOMNode(this),
            t = e && e.firstElementChild,
            a = this.m_rgCurrentMatches.length;
          if (
            (a > this.getMaxMatches() && (a = this.getMaxMatches()), t && a)
          ) {
            let e = t.scrollHeight / a,
              n = t.clientHeight / e;
            return Math.max(1, Math.floor(n));
          }
          return 5;
        }
        ChooseSuggestion(e) {
          this.props.onSuggestionSelected(
            this.props.strSearch,
            e ? this.getSelection(e) : void 0,
          );
        }
        SetSelectedIndexDelta(e) {
          void 0 !== this.state.selectedIndex
            ? this.SetSelectedIndex(this.state.selectedIndex + e)
            : this.SetSelectedIndex(1 === e ? 0 : e);
        }
        SetSelectedIndex(e) {
          if (!this.m_rgCurrentMatches.length) return;
          let t = this.m_rgCurrentMatches.length;
          t > this.getMaxMatches() && (t = this.getMaxMatches()),
            (e %= t) < 0 && (e += t),
            this.setState({ selectedIndex: e });
        }
        FindKeyIndex(e) {
          if (!this.m_mapMatchByKey.size && this.m_rgCurrentMatches.length)
            for (let e = 0; e < this.m_rgCurrentMatches.length; e++)
              this.m_mapMatchByKey.set(
                this.getKey(this.m_rgCurrentMatches[e]),
                e,
              );
          return this.m_mapMatchByKey.get(e);
        }
        OnClickSuggestion(e) {
          let t = this.FindKeyIndex(e);
          void 0 !== t && this.ChooseSuggestion(this.m_rgCurrentMatches[t]);
        }
        OnMouseOverSuggestion(e) {
          let t = this.FindKeyIndex(e);
          void 0 !== t && this.SetSelectedIndex(t);
        }
        BindSelectedElement(e) {
          let t = E.findDOMNode(this),
            a = E.findDOMNode(e),
            n = t && t.firstElementChild;
          a &&
            n &&
            (n.scrollTop + n.clientHeight < a.offsetTop ||
              a.offsetTop < n.scrollTop) &&
            a.scrollIntoView();
        }
        async UpdateSearchResults(e) {
          (this.m_rgCurrentMatches = await this.performSearch(e)),
            (this.m_strLastSearch = e),
            this.m_mapMatchByKey.clear(),
            this.m_rgCurrentMatches.length
              ? this.state && void 0 !== this.state.selectedIndex
                ? this.state.selectedIndex >= this.m_rgCurrentMatches.length &&
                  this.setState({ selectedIndex: 0 })
                : (void 0 ===
                    this.props.nMinimumSearchLengthBeforeAutoSelection ||
                    e.length >=
                      this.props.nMinimumSearchLengthBeforeAutoSelection) &&
                  this.setState({ selectedIndex: 0 })
              : this.state &&
                void 0 !== this.state.selectedIndex &&
                this.setState({ selectedIndex: void 0 });
        }
        m_hMobxSearchDisposer;
        componentWillUnmount() {
          this.m_hMobxSearchDisposer &&
            (this.m_hMobxSearchDisposer(),
            (this.m_hMobxSearchDisposer = void 0));
        }
        async componentDidUpdate(e) {
          this.m_strLastSearch != this.props.strSearch &&
            (await this.UpdateSearchResults(this.props.strSearch),
            this.forceUpdate());
        }
        render() {
          let e = [];
          if (this.m_rgCurrentMatches.length) {
            let t = this.getMaxMatches();
            for (
              let a = 0;
              a < Math.min(t, this.m_rgCurrentMatches.length);
              a++
            ) {
              let t = this.m_rgCurrentMatches[a],
                n = this.getKey(t),
                i = a === this.state.selectedIndex;
              e.push(
                s.createElement(
                  b,
                  {
                    key: n,
                    matchKey: n,
                    fnOnClick: this.OnClickSuggestion,
                    fnOnMouseOver: this.OnMouseOverSuggestion,
                    bIsSelected: i,
                    ref: i ? this.BindSelectedElement : void 0,
                  },
                  this.renderMatch(t),
                ),
              );
            }
            this.m_rgCurrentMatches.length > t &&
              e.push(
                this.renderTooManyMatchesMessage(
                  this.m_rgCurrentMatches.length - t,
                ),
              );
          } else {
            let t = this.renderNoMatchMessage();
            if (!t) return null;
            e.push(t);
          }
          return s.createElement(
            "div",
            { className: D().mentionDialogPosition },
            s.createElement(
              "div",
              {
                className: D().mentionDialog,
                tabIndex: 0,
                onKeyDown: this.OnKeyDown,
              },
              this.renderHeader(),
              e,
            ),
          );
        }
      }
      (0, n.gn)([h.ak], y.prototype, "OnKeyDown", null),
        (0, n.gn)([h.ak], y.prototype, "OnClickSuggestion", null),
        (0, n.gn)([h.ak], y.prototype, "OnMouseOverSuggestion", null),
        (0, n.gn)([h.ak], y.prototype, "BindSelectedElement", null);
      class b extends s.PureComponent {
        OnMouseOver(e) {
          this.props.fnOnMouseOver(this.props.matchKey);
        }
        OnClick(e) {
          this.props.fnOnClick(this.props.matchKey);
        }
        render() {
          return s.createElement(
            "div",
            {
              className: (0, f.Z)(
                D().suggestOption,
                D().mentionSearchOption,
                this.props.bIsSelected ? D().selected : "",
              ),
              onMouseEnter: this.OnMouseOver,
              onClick: this.OnClick,
            },
            this.props.children,
          );
        }
      }
      (0, n.gn)([h.ak], b.prototype, "OnMouseOver", null),
        (0, n.gn)([h.ak], b.prototype, "OnClick", null);
      const I = y;
      var C = a(3216),
        k = a.n(C);
      const A = class extends I {
        performSearch(e) {
          return this.props.emoticonStore.SearchEmoticons(e, 10, !1);
        }
        getSelection(e) {
          return e.name;
        }
        getKey(e) {
          return e.name;
        }
        renderMatch(e) {
          return s.createElement(
            "div",
            {
              className: (0, f.Z)(
                k().EmoticonSuggestion,
                e.recent ? "Recent" : "",
              ),
            },
            s.createElement(
              "div",
              { className: k().Emoticon },
              s.createElement(g.tk, {
                emoticon: e.name,
                emoticonHoverStore: this.props.emoticonHoverStore,
              }),
              e.new && s.createElement(g.D3, null),
            ),
            ":",
            e.name,
            ":",
          );
        }
        renderNoMatchMessage() {
          return null;
        }
        renderTooManyMatchesMessage(e) {
          return null;
        }
        renderHeader() {
          return null;
        }
        getMaxMatches() {
          return Number.MAX_VALUE;
        }
      };
      var w = a(3593),
        P = a.n(w),
        T = a(31846);
      class N extends I {
        performSearch(e) {
          let t = Array();
          return (
            this.props.supportBBCodes.forEach((a) => {
              a.indexOf(e) >= 0 && t.push({ name: a });
            }),
            t
          );
        }
        getSelection(e) {
          return "[" + e.name + "][/" + e.name + "]";
        }
        getKey(e) {
          return e.name;
        }
        renderMatch(e) {
          return s.createElement(
            "div",
            { key: e.name, className: (0, f.Z)(P().BBCodeSuggestion) },
            s.createElement("div", { className: P().BBCode }, e.name),
            "[",
            e.name,
            "]...[/",
            e.name,
            "]",
          );
        }
        renderNoMatchMessage() {
          return s.createElement(
            "div",
            {
              key: "nomatches",
              className: (0, f.Z)(D().mentionSearchOption, D().noMatches),
            },
            (0, T.Xx)("#Bbcode_No_Match"),
          );
        }
        renderTooManyMatchesMessage(e) {
          return null;
        }
        renderHeader() {
          return null;
        }
        getMaxMatches() {
          return Number.MAX_VALUE;
        }
      }
      class R extends s.Component {
        descTextAreaRef = s.createRef();
        m_MentionDialog;
        m_bDisabled = !0;
        m_iMentionSearchStartOffset;
        m_iMentionSearchCancelledOffset;
        constructor(e) {
          super(e),
            (this.state = {
              mentionSearch: void 0,
              activeSuggestSearchType: void 0,
            });
        }
        BindMentionDialog(e) {
          this.m_MentionDialog = e;
        }
        OnKeyDown(e) {
          this.state.activeSuggestSearchType &&
          this.m_MentionDialog &&
          !e.shiftKey &&
          !e.ctrlKey &&
          this.m_MentionDialog.BHandleKeyPress(e.keyCode)
            ? e.preventDefault()
            : (8 != e.keyCode && 46 != e.keyCode) ||
              (this.m_iMentionSearchCancelledOffset = void 0);
        }
        FindMatchOpener(e, t, a) {
          for (let n = a - 1; n >= 0; n--) {
            if (t[n] == e) return n;
            if (" " == t[n] || "\n" == t[n]) break;
          }
        }
        ReplaceSuggestedText(e, t) {
          let a = this.descTextAreaRef.current.selectionStart,
            n = this.descTextAreaRef.current.value,
            i = this.FindMatchOpener(e, n, a);
          if (
            (void 0 === i && "@" == e && (i = this.FindMatchOpener("＠", n, a)),
            void 0 !== i)
          ) {
            let e = n.substr(0, i);
            (e += t), (a >= n.length || " " != n[a]) && (e += " ");
            let r = e.length;
            (e += n.substr(a)),
              (this.descTextAreaRef.current.value = e),
              (this.descTextAreaRef.current.selectionStart =
                this.descTextAreaRef.current.selectionEnd =
                  r),
              this.props.fnSetText(e),
              this.FocusTextInput();
          }
        }
        OnFocus(e) {
          this.UpdateAutoSearchState();
        }
        OnKeyPress(e) {
          this.UpdateAutoSearchState();
        }
        OnClick(e) {
          this.UpdateAutoSearchState();
        }
        ClearMentionSearchState() {
          (this.m_iMentionSearchStartOffset = void 0),
            this.state.activeSuggestSearchType &&
              this.setState({
                activeSuggestSearchType: void 0,
                mentionSearch: void 0,
              });
        }
        OnEmoticonSuggestionSelected(e, t) {
          if (!t)
            return (
              (this.m_iMentionSearchCancelledOffset =
                this.m_iMentionSearchStartOffset),
              void this.ClearMentionSearchState()
            );
          this.ReplaceSuggestedText(":", ":" + t + ":"),
            this.ClearMentionSearchState();
        }
        OnBBCodeSuggestionSelected(e, t) {
          if (!t)
            return (
              (this.m_iMentionSearchCancelledOffset =
                this.m_iMentionSearchStartOffset),
              void this.ClearMentionSearchState()
            );
          this.ReplaceSuggestedText("[", t), this.ClearMentionSearchState();
        }
        FocusTextInput() {
          this.descTextAreaRef.current && this.descTextAreaRef.current.focus();
        }
        UpdateAutoSearchState() {
          let e = this.descTextAreaRef.current;
          if (!e || this.m_bDisabled) return;
          if (e.selectionStart != e.selectionEnd || !e.selectionStart)
            return void this.ClearMentionSearchState();
          let t,
            a,
            n = e.selectionStart,
            i = e.value;
          for (let e = n - 1; e >= 0; e--) {
            let n = e > 0 ? i[e - 1] : void 0;
            if (this.props.emoticonStore && ":" == i[e] && i.length > 2) {
              (n && " " != n && "\n" != n && ":" != n) ||
                ((t = e), (a = "Emoticon"));
              break;
            }
            if ("[" == i[e] && (e + 1 > i.length || "/" != i[e + 1])) {
              (n && " " != n && "\n" != n && "]" != n) ||
                ((t = e), (a = "BBCode"));
              break;
            }
            if (" " == i[e] || "\n" == i[e]) break;
          }
          if (void 0 === t || t === this.m_iMentionSearchCancelledOffset)
            return void this.ClearMentionSearchState();
          let r = i.substr(t + 1, n - t - 1);
          (this.m_iMentionSearchStartOffset = t),
            this.setState({ activeSuggestSearchType: a, mentionSearch: r });
        }
        GetTextAreaRef() {
          return this.descTextAreaRef;
        }
        GetTextAreaCurrent() {
          return this.descTextAreaRef.current;
        }
        render() {
          let e,
            {
              emoticonStore: t,
              supportBBCodes: a,
              fnSetText: n,
              ...i
            } = this.props;
          switch (this.state.activeSuggestSearchType) {
            case "Emoticon":
              e = s.createElement(A, {
                emoticonStore: t,
                emoticonHoverStore: _.$,
                strSearch: this.state.mentionSearch,
                nMinimumSearchLengthBeforeAutoSelection: 2,
                onSuggestionSelected: this.OnEmoticonSuggestionSelected,
                ref: this.BindMentionDialog,
              });
              break;
            case "BBCode":
              e = s.createElement(N, {
                supportBBCodes: a,
                strSearch: this.state.mentionSearch,
                nMinimumSearchLengthBeforeAutoSelection: 2,
                onSuggestionSelected: this.OnBBCodeSuggestionSelected,
                ref: this.BindMentionDialog,
              });
          }
          return s.createElement(
            s.Fragment,
            null,
            e,
            s.createElement("textarea", {
              ...i,
              ref: this.descTextAreaRef,
              onKeyDown: this.OnKeyDown,
              onKeyUp: this.OnKeyPress,
              onFocus: this.OnFocus,
              onClick: this.OnClick,
            }),
          );
        }
      }
      (0, n.gn)([h.ak], R.prototype, "BindMentionDialog", null),
        (0, n.gn)([h.ak], R.prototype, "OnKeyDown", null),
        (0, n.gn)([h.ak], R.prototype, "OnFocus", null),
        (0, n.gn)([h.ak], R.prototype, "OnKeyPress", null),
        (0, n.gn)([h.ak], R.prototype, "OnClick", null),
        (0, n.gn)([h.ak], R.prototype, "OnEmoticonSuggestionSelected", null),
        (0, n.gn)([h.ak], R.prototype, "OnBBCodeSuggestionSelected", null),
        (0, n.gn)([h.ak], R.prototype, "FocusTextInput", null),
        (0, n.gn)([h.ak], R.prototype, "GetTextAreaRef", null),
        (0, n.gn)([h.ak], R.prototype, "GetTextAreaCurrent", null);
      var G = a(1485),
        x = a(63109),
        L = a(71741),
        B = a.n(L),
        M = a(77178),
        O = a(90069),
        F = a(14846),
        U = a.n(F),
        H = a(50423),
        V = a(37563);
      var X = a(88619),
        j = a(51915),
        q = a(22042),
        W = a(58798),
        z = a(46882),
        Z = a(59728),
        K = a(31819),
        Q = a.n(K),
        Y = a(30750),
        J = a(62210),
        $ = a(9075),
        ee = a(10162),
        te = a(28913);
      const ae = (e) => {
          const { clanSteamID: t, fnImageSelectCallBack: a } = e,
            [n, i] = (0, s.useState)(""),
            r = (0, p.Fm)(e.clanSteamID.GetAccountID()),
            l = () => e.closeModal && e.closeModal(),
            o = p.U8.GetFilteredClanImages(t, n),
            c = (e) => {
              a(e), l();
            };
          return s.createElement(
            ee.SV,
            null,
            s.createElement(
              M.e1,
              { onEscKeypress: l },
              s.createElement(
                G.VY,
                null,
                s.createElement(
                  G.h4,
                  null,
                  (0, T.Xx)("#ClanImageChooser_Title"),
                ),
                s.createElement(
                  G.uT,
                  null,
                  s.createElement(
                    G.Ac,
                    null,
                    s.createElement(
                      "p",
                      null,
                      (0, T.Xx)("#ClanImageChooser_Desc"),
                    ),
                    s.createElement(G.II, {
                      placeholder: (0, T.Xx)("#ClanImageChooser_Search"),
                      value: n,
                      onChange: (e) => i(e.currentTarget.value),
                    }),
                    s.createElement(
                      "div",
                      { className: te.ImagesOuterContainer },
                      r
                        ? s.createElement(z.V, {
                            size: "medium",
                            string: (0, T.Xx)("#Loading"),
                          })
                        : Boolean(o.length > 0)
                          ? o.map((e) =>
                              s.createElement(ne, {
                                key: "ci" + e.image_hash,
                                clanImage: e,
                                searchStringHilight: n,
                                fnImageClick: c,
                              }),
                            )
                          : Boolean(0 == n.trim().length)
                            ? s.createElement(
                                "div",
                                null,
                                (0, T.Xx)("#ClanImageChooser_None"),
                              )
                            : s.createElement(
                                "div",
                                null,
                                (0, T.Xx)(
                                  "#EventCalendar_GameSearch_NoneFound",
                                ),
                              ),
                    ),
                  ),
                ),
                s.createElement(
                  G.$_,
                  null,
                  s.createElement(
                    G.zx,
                    { onClick: l },
                    (0, T.Xx)("#Button_Cancel"),
                  ),
                ),
              ),
            ),
          );
        },
        ne = (e) => {
          const { clanImage: t, searchStringHilight: a, fnImageClick: n } = e;
          let i = t.file_name ? t.file_name : "",
            r = (function (e, t, a, n) {
              let i = [];
              if (e.length > 0) {
                let r = t.toLocaleLowerCase();
                for (let l = 0; l < t.length; ) {
                  let o = r.indexOf(e, l);
                  if (o < 0) {
                    i.push(
                      s.createElement(
                        "span",
                        { key: a + "_" + String(l) },
                        t.substring(l),
                      ),
                    );
                    break;
                  }
                  l < o &&
                    i.push(
                      s.createElement(
                        "span",
                        { key: a + "_" + String(l) },
                        t.substring(l, o),
                      ),
                    ),
                    i.push(
                      s.createElement(
                        "span",
                        { key: a + "_" + String(l), className: n },
                        t.substr(o, e.length),
                      ),
                    ),
                    (l = o + e.length);
                }
              } else i.push(s.createElement("span", { key: a + "_null" }, t));
              return i;
            })(a, i, String(t.imageid), te.Hilight);
          return s.createElement(
            "div",
            { className: te.ImageContainer },
            s.createElement("div", {
              className: te.Image,
              style: { backgroundImage: `url( '${t.thumb_url}' )` },
              onDoubleClick: () => n(t),
            }),
            s.createElement(
              "div",
              { className: te.ImageFilename, title: i },
              r,
            ),
          );
        };
      var ie = a(54798),
        re = a(37593),
        le = a(65650),
        se = a(38071);
      const oe = (0, l.Pi)((e) => {
        const {
            clanSteamID: t,
            inputClanImage: a,
            nWidth: n,
            nHeight: i,
            setImage: r,
          } = e,
          l = s.useMemo(() => ["sale_header"], []),
          o = s.useMemo(() => ({ width: n, height: i }), [n, i]),
          [c, m] = s.useState(void 0),
          [_, h] = s.useState(Boolean(a)),
          [g, E] = s.useState(void 0),
          [S, v] = s.useState(!1),
          [D] = (0, Y.SZ)(() => [le.U.Get().GetCurEditLanguage()]),
          f = s.useCallback(
            async (e, t) => {
              if (
                (e.ClearImages(),
                t && (h(!0), await e.AddExistingClanImage(t, 0, l)))
              ) {
                m(t);
                const n = e.GetUploadImages()[0].IsValidAssetType(l, o);
                0 != n.error.length ||
                  n.needsCrop ||
                  (a && a.image_hash == t.image_hash) ||
                  r(t);
              }
              h(!1);
            },
            [a, r, l, o],
          );
        s.useEffect(() => {
          (g &&
            g.GetClanSteamID().ConvertTo64BitString() ==
              t.ConvertTo64BitString()) ||
            E(new re.S(t));
        }, [g, t]),
          s.useEffect(() => {
            f(g, a);
          }, [f, g, a]);
        let y,
          b = "",
          I = !1;
        if (g && g.GetFilesToUpload().length > 0) {
          y = g.GetUploadImages()[0];
          const e = y.IsValidAssetType(l, o);
          (b = e.error), (I = e.needsCrop);
        }
        return s.createElement(
          s.Fragment,
          null,
          _
            ? s.createElement(z.V, {
                size: "medium",
                string: (0, T.Xx)("#Loading"),
              })
            : Boolean(c) &&
                s.createElement("div", {
                  className: ie.Image,
                  style: {
                    backgroundImage: `url( '${y ? y.dataUrl : c.url}' )`,
                    height: `${i}px`,
                    width: `${n}px`,
                  },
                }),
          Boolean(b) && s.createElement("p", null, b),
          I &&
            s.createElement(
              G.zx,
              {
                onClick: (e) => {
                  const t = (0, H.RA)(e);
                  let a = g.GetUploadImages()[0];
                  (0, O.AM)(
                    s.createElement($.e, {
                      ownerWin: t,
                      uploadFile: a,
                      forceResolution: { width: n, height: i },
                      fileType: 3,
                    }),
                    t,
                  );
                },
              },
              (0, T.Xx)("#BBCode_ResizeImage"),
            ),
          Boolean(y && y.bCropped) &&
            s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "div",
                null,
                (0, T.Xx)("#ClanImagePickAndResize_UploadStatus", y.status),
              ),
              S
                ? s.createElement(z.V, {
                    string: (0, T.Xx)("#Uploading"),
                    size: "small",
                  })
                : s.createElement(
                    G.zx,
                    {
                      onClick: async () => {
                        v(!0);
                        try {
                          const e = await g.UploadAllImages(
                              [se.IN.k_ESteamRealmGlobal],
                              D,
                              l,
                              o,
                            ),
                            a = Object.values(e);
                          if (
                            a &&
                            a.length > 0 &&
                            ((0, J.X)(
                              1 == a.length,
                              "ClanImagePickForCertainSize expected size 1, got " +
                                a.length,
                            ),
                            1 == a[0].success)
                          ) {
                            const e = a[0],
                              n = (0, u.OL)() + t.GetAccountID() + "/",
                              i = p.aN.GetExtensionStringForFileType(
                                e.file_type,
                              ),
                              l = n + e.image_hash + i,
                              s = n + e.thumbnail_hash + i,
                              o = {
                                imageid: -11231412,
                                image_hash: e.image_hash,
                                thumbnail_hash: e.thumbnail_hash,
                                file_type: e.file_type,
                                file_name: e.file_name,
                                clanAccountID: t.GetAccountID(),
                                url: l,
                                thumb_url: s,
                                uploaded_time: Date.now() / 1e3,
                                loc_languages: void 0,
                                is_loc_group: !1,
                              };
                            m(o), r(o);
                          }
                        } finally {
                          v(!1);
                        }
                      },
                    },
                    (0, T.Xx)("#ClanImagePickAndResize_UploadImage"),
                  ),
            ),
          s.createElement(
            G.zx,
            {
              onClick: (e) => {
                const t = new d.K(V.JA.CLANSTEAMID);
                (0, O.AM)(
                  s.createElement(ae, {
                    clanSteamID: t,
                    fnImageSelectCallBack: (e) => f(g, e),
                  }),
                  (0, H.RA)(e),
                );
              },
            },
            (0, T.Xx)("#BBCode_ChooseImage", n, i),
          ),
        );
      });
      var ce,
        me = a(16649);
      let de = class extends s.Component {
        static {
          ce = this;
        }
        m_cancelSignal = r().CancelToken.source();
        static s_formattingHelp = new Map();
        constructor(e) {
          super(e),
            (this.state = {
              formattingHelp: {
                __html: ce.s_formattingHelp.has(e.formatType)
                  ? ce.s_formattingHelp.get(e.formatType)
                  : "",
              },
            });
        }
        componentDidMount() {
          this.AjaxGetFormattingHelp().catch((e) => {
            this.setState((0, me.l)(e));
          });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel(
            "FormattingHelpWidget component unmounted",
          );
        }
        static GetHelpURL(e, t) {
          return (
            V.De.COMMUNITY_BASE_URL +
            "comment/" +
            e +
            "/formattinghelp" +
            (t ? "?ajax=1" : "")
          );
        }
        async AjaxGetFormattingHelp() {
          if ("" == this.state.formattingHelp.__html) {
            let e,
              t = { sessionid: V.De.SESSIONID };
            (e = await r().get(ce.GetHelpURL(this.props.formatType, !0), {
              params: t,
              cancelToken: this.m_cancelSignal.token,
            })),
              ce.s_formattingHelp.set(this.props.formatType, e.data),
              this.setState({ formattingHelp: { __html: e.data } });
          }
        }
        render() {
          return this.state.strErrorMsg
            ? s.createElement(
                "div",
                null,
                this.state.strErrorMsg,
                s.createElement("br", null),
                this.state.errorCode,
              )
            : "" == this.state.formattingHelp.__html
              ? s.createElement(z.V, null)
              : s.createElement(
                  M.uH,
                  {
                    strTitle: (0, T.Xx)(
                      "#EventEditor_FormattingHelp_GetHelpLink",
                    ),
                    strDescription: "",
                    closeModal: this.props.closeModal,
                    onOK: this.props.closeModal,
                    onCancel: this.props.closeModal,
                    bAlertDialog: !0,
                    className: "ModernBBStyles",
                  },
                  s.createElement("div", {
                    dangerouslySetInnerHTML: this.state.formattingHelp,
                  }),
                );
        }
      };
      de = ce = (0, n.gn)([l.Pi], de);
      var ue,
        pe = a(77115);
      let _e = class extends s.Component {
        descAutoTextAreaRef = s.createRef();
        constructor(e) {
          super(e), (this.state = { bShowDragTarget: !1 });
        }
        componentDidMount() {
          p.U8.AddClanImageDragListener(this.ClanImageDragListener);
        }
        componentWillUnmount() {
          p.U8.RemoveClanImageDragListener(this.ClanImageDragListener);
        }
        ClanImageDragListener(e, t) {
          this.state.bShowDragTarget != t &&
            this.setState({ bShowDragTarget: t });
        }
        onFocus(e) {
          e && e.target.select();
        }
        InsertText(e) {
          he.replaceSelection(this.GetTextAreaRef().current, e);
        }
        OnTextAreaDropListener(e) {
          if (
            (e.preventDefault(),
            e.stopPropagation(),
            e.dataTransfer.items && e.dataTransfer.items[0])
          ) {
            let t = e.dataTransfer.getData("text");
            if (t && t.length > 0) {
              let e = (0, u.OL)();
              if (t.startsWith(e)) {
                let a = "[img]" + pe.A + "/" + t.substr(e.length) + "[/img]";
                he.replaceSelection(this.GetTextAreaRef().current, a);
              }
            }
          }
        }
        GetTextAreaRef() {
          return this.descAutoTextAreaRef && this.descAutoTextAreaRef.current
            ? this.descAutoTextAreaRef.current.GetTextAreaRef()
            : void 0;
        }
        render() {
          return s.createElement(
            s.Fragment,
            null,
            s.createElement(ge, {
              pathToImages:
                V.De.COMMUNITY_CDN_URL + "public/images/sharedfiles/guides/",
              fnTextareaRef: this.GetTextAreaRef,
              emoticonStore: this.props.emoticonStore,
              supportBBCodes: this.props.limitBBCode
                ? this.props.limitBBCode
                : o.yp,
              bSupportHTMLImport: this.props.bSupportHTMLImport,
              showFormatHelp: this.props.showFormatHelp,
              bEmbeddedInDialog: this.props.bEmbeddedInDialog,
              clanSteamID: this.props.clanSteamID,
            }),
            s.createElement(
              "div",
              {
                className: (0, f.Z)(
                  Q().DescriptionCtn,
                  Q().BBCodeEditorInputStyles,
                  this.state.bShowDragTarget ? Q().DragTarget : "",
                ),
              },
              s.createElement(R, {
                cols: 90,
                rows: this.props.nOverridesRows || 22,
                maxLength: 32e3,
                className: (0, f.Z)(
                  Q().DefaultEditor,
                  this.props.classNameForTextArea
                    ? this.props.classNameForTextArea
                    : "",
                ),
                placeholder: this.props.strPlaceholder,
                ref: this.descAutoTextAreaRef,
                value: this.props.fnGetCurText(),
                onChange: this.props.fnOnTextChange,
                onDrop: this.OnTextAreaDropListener,
                emoticonStore: this.props.emoticonStore,
                fnSetText: this.props.fnSetText,
                supportBBCodes: this.props.limitBBCode
                  ? this.props.limitBBCode
                  : o.yp,
              }),
            ),
          );
        }
      };
      (0, n.gn)([h.ak], _e.prototype, "ClanImageDragListener", null),
        (0, n.gn)([h.ak], _e.prototype, "onFocus", null),
        (0, n.gn)([h.ak], _e.prototype, "OnTextAreaDropListener", null),
        (0, n.gn)([h.ak], _e.prototype, "GetTextAreaRef", null),
        (_e = (0, n.gn)([l.Pi], _e));
      class he {
        static BIsFireFox() {
          return Boolean(
            new RegExp(/Firefox\/([0-9\.]+)(?:\s|$)/i).exec(
              navigator.userAgent,
            ),
          );
        }
        static replaceSelection(e, t) {
          let a = e.selectionStart;
          e.focus(),
            he.InsertTextAtSelect(t, e),
            e.setSelectionRange(a, a + t.length);
        }
        static getSelectedString(e) {
          return e.value.substr(
            e.selectionStart,
            e.selectionEnd - e.selectionStart,
          );
        }
        static wrapBBCode(e, t, a) {
          let n = he.getSelectedString(a),
            i = "";
          (i =
            0 == n.indexOf(e) && n.lastIndexOf(t) == n.length - t.length
              ? n.substr(e.length, n.length - e.length - t.length)
              : e + n + t),
            he.replaceSelection(a, i);
        }
        static append(e, t) {
          t &&
            (t.focus(),
            t.setSelectionRange(t.value.length, t.value.length),
            he.InsertTextAtSelect(e, t));
        }
        static overwrite(e, t) {
          t &&
            (t.focus(),
            document.execCommand("selectAll", !1, e),
            he.BIsFireFox()
              ? (t.value = "")
              : document.execCommand("delete", !1),
            he.InsertTextAtSelect(e, t));
        }
        static InsertTextAtSelect(e, t) {
          he.BIsFireFox() && t.setRangeText
            ? t.setRangeText(e)
            : document.execCommand("insertText", !1, e);
        }
      }
      let ge = class extends s.Component {
        m_linkPopupRef = s.createRef();
        onBold() {
          he.wrapBBCode("[b]", "[/b]", this.props.fnTextareaRef().current);
        }
        onItalics() {
          he.wrapBBCode("[i]", "[/i]", this.props.fnTextareaRef().current);
        }
        onUnderline() {
          he.wrapBBCode("[u]", "[/u]", this.props.fnTextareaRef().current);
        }
        onStrikeThrough() {
          he.wrapBBCode(
            "[strike]",
            "[/strike]",
            this.props.fnTextareaRef().current,
          );
        }
        onHeader() {
          he.wrapBBCode("[h1]", "[/h1]", this.props.fnTextareaRef().current);
        }
        onHeader2() {
          he.wrapBBCode("[h2]", "[/h2]", this.props.fnTextareaRef().current);
        }
        onHeader3() {
          he.wrapBBCode("[h3]", "[/h3]", this.props.fnTextareaRef().current);
        }
        onUnorderedList() {
          this.handleList("list");
        }
        onOrderedList() {
          this.handleList("olist");
        }
        handleList(e) {
          let t = this.props.fnTextareaRef().current,
            a = "[" + e + "]\n",
            n = "[/" + e + "]";
          if (t.selectionStart == t.selectionEnd)
            he.wrapBBCode(a + "[*]", "\n" + n, t);
          else {
            let e =
              a +
              he
                .getSelectedString(t)
                .split("\n")
                .map((e) => (e.match(/\*+\s/) ? "[*]" : "[*] ") + e)
                .join("\n") +
              "\n" +
              n;
            he.replaceSelection(t, e);
          }
        }
        OnAddLink(e) {
          (0, O.BR)(
            s.createElement(ve, { textareaRef: this.props.fnTextareaRef() }),
            (0, H.RA)(e),
          );
        }
        ShowHelpDialog(e) {
          this.props.showFormatHelp &&
            (0, O.BR)(
              s.createElement(de, { formatType: this.props.showFormatHelp }),
              (0, H.RA)(e),
            );
        }
        OnConvertHTMLToBBCodeDialog(e) {
          const t = (0, H.RA)(e);
          (0, O.BR)(
            s.createElement(Ie, {
              ownerWindow: t,
              textareaRef: this.props.fnTextareaRef(),
            }),
            t,
          );
        }
        OnOpenYoutubeDialog(e) {
          let t = V.De.IMG_URL + "applications/community/";
          (0, O.BR)(
            s.createElement(Se, {
              textareaRef: this.props.fnTextareaRef(),
              pathToImages: t,
            }),
            (0, H.RA)(e),
          );
        }
        OnOpenImageDialog(e) {
          (0, O.BR)(
            s.createElement(De, { textareaRef: this.props.fnTextareaRef() }),
            (0, H.RA)(e),
          );
        }
        OnOpenSpeakerDialog(e) {
          (0, O.AM)(
            s.createElement(fe, {
              clanSteamID: this.props.clanSteamID,
              textareaRef: this.props.fnTextareaRef(),
            }),
            (0, H.RA)(e),
          );
        }
        OnEmoticonSelected(e, t = !1) {
          let a = `ː${e}ː`;
          he.replaceSelection(this.props.fnTextareaRef().current, a),
            this.props.fnTextareaRef().current.focus();
        }
        BSupports(e) {
          return this.props.supportBBCodes.findIndex((t) => t == e) >= 0;
        }
        render() {
          const {
            showFormatHelp: e,
            bEmbeddedInDialog: t,
            bSupportHTMLImport: a,
            pathToImages: n,
          } = this.props;
          let i;
          return (
            e &&
              (i = t
                ? s.createElement(
                    "span",
                    {
                      className: (0, f.Z)("ttip", Q().ActionGetHelp),
                      "data-tooltip-text": (0, T.Xx)(
                        "#EventEditor_FormattingHelp_GetHelpLink",
                      ),
                    },
                    s.createElement(
                      "a",
                      {
                        href: de.GetHelpURL(this.props.showFormatHelp, !1),
                        target: V.De.IN_CLIENT ? void 0 : "_blank",
                      },
                      s.createElement("img", { src: n + "/action_help.png" }),
                      " ",
                      (0, T.Xx)("#EventEditor_FormattingHelp_GetHelpLink"),
                    ),
                  )
                : s.createElement(
                    "span",
                    {
                      onClick: this.ShowHelpDialog,
                      className: (0, f.Z)("ttip", Q().ActionGetHelp),
                      "data-tooltip-text": (0, T.Xx)(
                        "#EventEditor_FormattingHelp_GetHelpLink",
                      ),
                    },
                    s.createElement("img", { src: n + "/action_help.png" }),
                    " ",
                    (0, T.Xx)("#EventEditor_FormattingHelp_GetHelpLink"),
                  )),
            s.createElement(
              "div",
              { className: Q().TextEditorToolBarContainer },
              this.BSupports("b") &&
                s.createElement(
                  "span",
                  {
                    onClick: this.onBold,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Bold"),
                  },
                  s.createElement("img", {
                    src: this.props.pathToImages + "/format_bold.png",
                  }),
                ),
              this.BSupports("u") &&
                s.createElement(
                  "span",
                  {
                    onClick: this.onUnderline,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Underline"),
                  },
                  s.createElement("img", {
                    src: this.props.pathToImages + "/format_underline.png",
                  }),
                ),
              this.BSupports("i") &&
                s.createElement(
                  "span",
                  {
                    onClick: this.onItalics,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Italics"),
                  },
                  s.createElement("img", {
                    src: this.props.pathToImages + "/format_italic.png",
                  }),
                ),
              this.BSupports("strike") &&
                s.createElement(
                  "span",
                  {
                    onClick: this.onStrikeThrough,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_StrikeThrough"),
                  },
                  s.createElement("img", {
                    src: this.props.pathToImages + "/format_strike.png",
                  }),
                ),
              Boolean(this.BSupports("url") && !t) &&
                s.createElement(
                  "span",
                  {
                    onClick: this.OnAddLink,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Link"),
                  },
                  s.createElement("img", {
                    src: this.props.pathToImages + "/format_link.png",
                  }),
                ),
              this.BSupports("list") &&
                s.createElement(
                  "span",
                  {
                    onClick: this.onUnorderedList,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Unordered"),
                  },
                  s.createElement("img", {
                    src: this.props.pathToImages + "/format_bullet.png",
                  }),
                ),
              this.BSupports("olist") &&
                s.createElement(
                  "span",
                  {
                    onClick: this.onOrderedList,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Ordered"),
                  },
                  s.createElement("img", {
                    src: this.props.pathToImages + "/format_numbered.png",
                  }),
                ),
              this.BSupports("h1") &&
                s.createElement(
                  "span",
                  {
                    onClick: this.onHeader,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Header"),
                  },
                  s.createElement("img", {
                    src: this.props.pathToImages + "/format_header1.png",
                  }),
                ),
              this.BSupports("h2") &&
                s.createElement(
                  "span",
                  {
                    onClick: this.onHeader2,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Header2"),
                  },
                  s.createElement("img", {
                    src: this.props.pathToImages + "/format_header2.png",
                  }),
                ),
              this.BSupports("h3") &&
                s.createElement(
                  "span",
                  {
                    onClick: this.onHeader3,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Header3"),
                  },
                  s.createElement("img", {
                    src: this.props.pathToImages + "/format_header3.png",
                  }),
                ),
              this.BSupports("previewyoutube") &&
                s.createElement(
                  "span",
                  {
                    onClick: this.OnOpenYoutubeDialog,
                    "data-tooltip-text": (0, T.Xx)(
                      "#EventEditor_InsertYouTube",
                    ),
                  },
                  s.createElement("img", {
                    src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyNjlFOEM1MjJEMzExRTJCNTVBQkZGOUQyOTI0ODU5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyNjlFOEM2MjJEMzExRTJCNTVBQkZGOUQyOTI0ODU5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjI2OUU4QzMyMkQzMTFFMkI1NUFCRkY5RDI5MjQ4NTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjI2OUU4QzQyMkQzMTFFMkI1NUFCRkY5RDI5MjQ4NTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4IrEPeAAABJ0lEQVR42mL8//8/AzmABUScEOZJI1HfLBaoppmk2sh4Ql/r/69HD0jSxCanwMD07eVzhl9ADgz/ZmJikMjOY2CUlEIRR8YgPYzbBLhQQoeJl4/B7uY9hv9//jC8XLWc4UFfD8OPZ08xbGX6CSSQ8XdgKH/79o3h+69fDHwBwQy6ew8ySOYXMfxiZERRx/ILPTqA/K9fv8K5f4EG3Pn5i+EfSB2SWpaf6G6A2vgP6NSrWzYz3J8zk0Hk9SsGVka0ePzLxs7w9ydC+3+gpn29PQzv9uxiEHz7mkEY6ESQPb+QHMbMwcHAwiotw/Dj3h2E6L+/DIyrljKIgCMLGMoMmCmLQ0qagdnh66fn/xgYfP+B9BCJv79/lw5KcrPISKqzGMlN5AABBgBSmY83jVsiQAAAAABJRU5ErkJggg==",
                  }),
                ),
              s.createElement(
                "span",
                {
                  className: "ttip",
                  "data-tooltip-text": (0, T.Xx)("#Editor_Emoticon"),
                },
                this.props.emoticonStore &&
                  s.createElement(x.Z, {
                    title: " ",
                    className: (0, f.Z)(Q().EmoteOuter),
                    disabled: !1,
                    OnEmoticonSelected: this.OnEmoticonSelected,
                    rtLastAckedNewEmoticons: Number.MAX_VALUE,
                    emoticonStore: this.props.emoticonStore,
                    emoticonHoverStore: _.$,
                    useImg: this.props.pathToImages + "/format_emote.png",
                    contextOptions: {
                      bOverlapHorizontal: !0,
                      bDisablePopTop: !0,
                    },
                  }),
              ),
              Boolean(this.BSupports("img") && !t) &&
                s.createElement(
                  "span",
                  {
                    onClick: this.OnOpenImageDialog,
                    "data-tooltip-text": (0, T.Xx)("#EventEditor_InsertImage"),
                  },
                  s.createElement("img", {
                    src: this.props.pathToImages + "/insert_img.png",
                  }),
                ),
              Boolean(
                V.L7.is_support &&
                  this.props.clanSteamID &&
                  this.BSupports("speaker"),
              ) &&
                s.createElement(
                  "span",
                  {
                    onClick: this.OnOpenSpeakerDialog,
                    "data-tooltip-text": (0, T.Xx)("#EventEditor_AddSpeaker"),
                  },
                  s.createElement("img", {
                    src: this.props.pathToImages + "/insert_img.png",
                  }),
                ),
              Boolean(a && !t) &&
                s.createElement(
                  "span",
                  {
                    onClick: this.OnConvertHTMLToBBCodeDialog,
                    className: Q().ActionImportHTML,
                    "data-tooltip-text": (0, T.Xx)(
                      "#EventEditor_ImportFromHTML_ttip",
                    ),
                  },
                  (0, T.Xx)("#EventEditor_ImportHTML"),
                ),
              i,
            )
          );
        }
      };
      var Ee;
      (0, n.gn)([h.ak], ge.prototype, "onBold", null),
        (0, n.gn)([h.ak], ge.prototype, "onItalics", null),
        (0, n.gn)([h.ak], ge.prototype, "onUnderline", null),
        (0, n.gn)([h.ak], ge.prototype, "onStrikeThrough", null),
        (0, n.gn)([h.ak], ge.prototype, "onHeader", null),
        (0, n.gn)([h.ak], ge.prototype, "onHeader2", null),
        (0, n.gn)([h.ak], ge.prototype, "onHeader3", null),
        (0, n.gn)([h.ak], ge.prototype, "onUnorderedList", null),
        (0, n.gn)([h.ak], ge.prototype, "onOrderedList", null),
        (0, n.gn)([h.ak], ge.prototype, "OnAddLink", null),
        (0, n.gn)([h.ak], ge.prototype, "ShowHelpDialog", null),
        (0, n.gn)([h.ak], ge.prototype, "OnConvertHTMLToBBCodeDialog", null),
        (0, n.gn)([h.ak], ge.prototype, "OnOpenYoutubeDialog", null),
        (0, n.gn)([h.ak], ge.prototype, "OnOpenImageDialog", null),
        (0, n.gn)([h.ak], ge.prototype, "OnOpenSpeakerDialog", null),
        (0, n.gn)([h.ak], ge.prototype, "OnEmoticonSelected", null),
        (ge = (0, n.gn)([l.Pi], ge)),
        (function (e) {
          (e.left = "leftthumb"),
            (e.right = "rightthumb"),
            (e.full = "full"),
            (e.summary = "summary");
        })(Ee || (Ee = {}));
      let Se = class extends s.Component {
        state = { youtubeInput: "", alignment: Ee.left };
        OnYoutubeInsertLink() {
          const e =
            this.state.youtubeInput && (0, m.S6)(this.state.youtubeInput);
          if (e) {
            if (this.state.alignment == Ee.summary) {
              const t =
                "https://www.youtube.com/watch?v=" +
                e.strVideoID +
                (e.nStartSeconds ? "&t=" + e.nStartSeconds : "");
              he.wrapBBCode(t, "", this.props.textareaRef.current);
            } else {
              let t =
                "[previewyoutube=" +
                e.strVideoID +
                ";" +
                this.state.alignment +
                "]";
              he.wrapBBCode(
                t,
                "[/previewyoutube]",
                this.props.textareaRef.current,
              );
            }
            this.setState({ youtubeInput: "", alignment: Ee.left });
          } else alert((0, T.Xx)("#EventEditor_InsertYouTube_NoURL"));
        }
        OnUrlChange(e) {
          this.state.youtubeInput != e.target.value &&
            this.setState({ youtubeInput: e.target.value });
        }
        OnLeftSelected() {
          this.setState({ alignment: Ee.left });
        }
        OnRightSelected() {
          this.setState({ alignment: Ee.right });
        }
        OnFullSelected() {
          this.setState({ alignment: Ee.full });
        }
        OnSummarySelected() {
          this.setState({ alignment: Ee.summary });
        }
        OnOuterDivClickPassDown(e) {}
        render() {
          return s.createElement(
            M.uH,
            {
              strTitle: (0, T.Xx)("#EventEditor_InsertYouTube"),
              strDescription: "",
              closeModal: this.props.closeModal,
              onCancel: this.props.closeModal,
              onOK: this.OnYoutubeInsertLink,
              strOKButtonText: (0, T.Xx)("#EventEditor_InsertYouTube"),
              className: Q().BBCodeEditorInputStyles,
            },
            s.createElement(
              "div",
              { className: Q().YouTubeInput },
              s.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                s.createElement(
                  "label",
                  null,
                  s.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, T.Xx)("#EventEditor_InsertYouTube_URL"),
                  ),
                  s.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    s.createElement("input", {
                      className: "DialogInput DialogTextInputBase",
                      ref: (e) => e && e.focus(),
                      type: "text",
                      value: this.state.youtubeInput,
                      onChange: this.OnUrlChange,
                      placeholder: (0, T.Xx)(
                        "#EventEditor_InsertYouTube_Placholder",
                      ),
                    }),
                  ),
                ),
              ),
              s.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                s.createElement(
                  "div",
                  { className: "DialogLabel" },
                  (0, T.Xx)("#EventEditor_InsertYouTube_Position"),
                ),
                s.createElement(
                  "div",
                  {
                    className: Q().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  s.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: Ee.left,
                    value: Ee.left,
                    checked: this.state.alignment == Ee.left,
                    onChange: this.OnLeftSelected,
                  }),
                  s.createElement(
                    "label",
                    { htmlFor: Ee.left },
                    s.createElement(
                      "span",
                      null,
                      (0, T.Xx)("#EventEditor_InsertYouTube_Left"),
                    ),
                  ),
                ),
                s.createElement(
                  "div",
                  {
                    className: Q().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  s.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: Ee.right,
                    value: Ee.right,
                    checked: this.state.alignment == Ee.right,
                    onChange: this.OnRightSelected,
                  }),
                  s.createElement(
                    "label",
                    { htmlFor: Ee.right },
                    s.createElement(
                      "span",
                      null,
                      (0, T.Xx)("#EventEditor_InsertYouTube_Right"),
                    ),
                  ),
                ),
                s.createElement(
                  "div",
                  {
                    className: Q().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  s.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: Ee.full,
                    value: Ee.full,
                    checked: this.state.alignment == Ee.full,
                    onChange: this.OnFullSelected,
                  }),
                  s.createElement(
                    "label",
                    { htmlFor: Ee.full },
                    s.createElement(
                      "span",
                      null,
                      (0, T.Xx)("#EventEditor_InsertYouTube_Full"),
                    ),
                  ),
                ),
                s.createElement(
                  "div",
                  {
                    className: Q().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  s.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: Ee.summary,
                    value: Ee.summary,
                    checked: this.state.alignment == Ee.summary,
                    onChange: this.OnSummarySelected,
                  }),
                  s.createElement(
                    "label",
                    { htmlFor: Ee.summary },
                    s.createElement(
                      "span",
                      null,
                      (0, T.Xx)("#EventEditor_InsertYouTube_Summary"),
                    ),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, n.gn)([h.ak], Se.prototype, "OnYoutubeInsertLink", null),
        (0, n.gn)([h.ak], Se.prototype, "OnUrlChange", null),
        (0, n.gn)([h.ak], Se.prototype, "OnLeftSelected", null),
        (0, n.gn)([h.ak], Se.prototype, "OnRightSelected", null),
        (0, n.gn)([h.ak], Se.prototype, "OnFullSelected", null),
        (0, n.gn)([h.ak], Se.prototype, "OnSummarySelected", null),
        (0, n.gn)([h.ak], Se.prototype, "OnOuterDivClickPassDown", null),
        (Se = (0, n.gn)([l.Pi], Se));
      let ve = class extends s.Component {
        static {
          ue = this;
        }
        state = { textToDisplay: "", strURL: "" };
        static m_regExp = new RegExp(/\[url=([^\]]*)\]([^\[\]]+)\[\/url\]/i);
        LoadFromTextArea() {
          const { textareaRef: e } = this.props;
          if (e && e.current) {
            let t = he.getSelectedString(e.current),
              a = ue.m_regExp.exec(t);
            a
              ? this.setState({ strURL: a[1], textToDisplay: a[2] })
              : this.setState({ textToDisplay: t });
          }
        }
        componentDidMount() {
          this.LoadFromTextArea();
        }
        onLinkTitleUpdate(e) {
          this.setState({ textToDisplay: e.target.value });
        }
        onLinkURLUpdate(e) {
          this.setState({ strURL: e.target.value });
        }
        onInsertLink() {
          const { strURL: e, textToDisplay: t } = this.state;
          let a = "[url=" + e + "]" + t + "[/url]";
          he.replaceSelection(this.props.textareaRef.current, a);
        }
        render() {
          return s.createElement(
            M.uH,
            {
              strTitle: (0, T.Xx)("#Editor_Link"),
              strDescription: "",
              closeModal: this.props.closeModal,
              onOK: this.onInsertLink,
              onCancel: this.props.closeModal,
              strOKButtonText: (0, T.Xx)("#EventEditor_InsertLinkURL"),
              className: Q().BBCodeEditorInputStyles,
            },
            s.createElement(
              "div",
              { className: Q().EventEditorLinkInput },
              s.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                s.createElement(
                  "label",
                  null,
                  s.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, T.Xx)("#EventEditor_LinkDescription"),
                  ),
                  s.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    s.createElement("input", {
                      type: "text",
                      onChange: this.onLinkTitleUpdate,
                      value: this.state.textToDisplay,
                      className: "DialogInput DialogTextInputBase",
                    }),
                  ),
                ),
              ),
              s.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                s.createElement(
                  "label",
                  null,
                  s.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, T.Xx)("#EventEditor_LinkURL"),
                  ),
                  s.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    s.createElement("input", {
                      type: "text",
                      onChange: this.onLinkURLUpdate,
                      value: this.state.strURL,
                      className: "DialogInput DialogTextInputBase",
                    }),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, n.gn)([h.ak], ve.prototype, "onLinkTitleUpdate", null),
        (0, n.gn)([h.ak], ve.prototype, "onLinkURLUpdate", null),
        (0, n.gn)([h.ak], ve.prototype, "onInsertLink", null),
        (ve = ue = (0, n.gn)([l.Pi], ve));
      let De = class extends s.Component {
        refFirstInput;
        state = { imgURL: "", anchorURL: "" };
        componentDidMount() {
          this.refFirstInput && this.refFirstInput.current.focus();
        }
        OnImageInsert() {
          const { anchorURL: e, imgURL: t } = this.state;
          let a = "",
            n = "";
          e && e.length > 0 && ((a += "[url=" + e + "]"), (n = "[/url]" + n)),
            (a += "[img]" + t),
            (n = "[/img]" + n),
            he.wrapBBCode(a, n, this.props.textareaRef.current);
        }
        OnImageURLChange(e) {
          this.state.imgURL != e.target.value &&
            this.setState({ imgURL: e.target.value });
        }
        OnAnchorURLChange(e) {
          this.state.anchorURL != e.target.value &&
            this.setState({ anchorURL: e.target.value });
        }
        render() {
          const { imgURL: e, anchorURL: t } = this.state;
          return s.createElement(
            M.uH,
            {
              strTitle: (0, T.Xx)("#EventEditor_InsertImage_Title"),
              strDescription: "",
              closeModal: this.props.closeModal,
              onCancel: this.props.closeModal,
              onOK: this.OnImageInsert,
              strOKButtonText: (0, T.Xx)("#EventEditor_InsertImage_Title"),
              className: Q().BBCodeEditorInputStyles,
            },
            s.createElement(
              "div",
              { className: Q().EventEditorLinkInput },
              s.createElement(
                "p",
                null,
                (0, T.Xx)("#EventEditor_InsertImage_Desc"),
              ),
              s.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                s.createElement(
                  "label",
                  null,
                  s.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, T.Xx)("#EventEditor_InsertImage_URL"),
                  ),
                  s.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    s.createElement("input", {
                      className: "DialogInput DialogTextInputBase",
                      type: "text",
                      value: e,
                      onChange: this.OnImageURLChange,
                      placeholder: (0, T.Xx)(
                        "#EventEditor_InsertImage_Placeholder",
                      ),
                      ref: this.refFirstInput,
                    }),
                  ),
                ),
              ),
              s.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                s.createElement(
                  "label",
                  null,
                  s.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, T.Xx)("#EventEditor_InsertImage_Anchor"),
                  ),
                  s.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    s.createElement("input", {
                      className: "DialogInput DialogTextInputBase",
                      type: "text",
                      value: t,
                      onChange: this.OnAnchorURLChange,
                      placeholder: (0, T.Xx)(
                        "#EventEditor_InsertImage_Placeholder",
                      ),
                    }),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, n.gn)([h.ak], De.prototype, "OnImageInsert", null),
        (0, n.gn)([h.ak], De.prototype, "OnImageURLChange", null),
        (0, n.gn)([h.ak], De.prototype, "OnAnchorURLChange", null),
        (De = (0, n.gn)([l.Pi], De));
      const fe = (e) => {
        const [t, a] = s.useState(""),
          [n, i] = s.useState(""),
          [r, l] = s.useState(""),
          [o, m] = s.useState(""),
          [u, _] = s.useState(void 0),
          [h, g] = s.useState(void 0),
          { data: E } = (0, X.co)(),
          { isLoading: S, data: v } = (0, j.IE)(h?.GetAccountID()),
          D = 0 != t.trim().length && 0 != o.trim().length;
        return s.createElement(
          M.uH,
          {
            strTitle: (0, T.Xx)("#EventEditor_AddSpeaker"),
            strDescription: (0, T.Xx)("#EventEditor_AddSpeaker_Desc"),
            closeModal: e.closeModal,
            onCancel: e.closeModal,
            bOKDisabled: !D,
            onOK: () => {
              let a = `[speaker name="${t.trim()}"`;
              if (
                (n.trim().length > 0 && (a += ` title="${n}"`),
                r.trim().length > 0 && (a += ` company="${r}"`),
                u)
              ) {
                a += ` photo="${pe.A + "/" + u.clanAccountID + "/" + p.aN.GetHashAndExt(u)}"`;
              }
              h && (a += ` steamid="${h.ConvertTo64BitString()}"`),
                (a += `]${o}[/speaker]`),
                he.replaceSelection(e.textareaRef.current, a);
            },
            className: Q().BBCodeEditorInputStyles,
          },
          s.createElement(
            "div",
            { className: Q().InsertSpeakerCtn },
            s.createElement(G.II, {
              type: "text",
              label: (0, T.Xx)("#EventEditor_AddSpeaker_Name"),
              value: t,
              onChange: (e) => a(e.target.value),
              focusOnMount: !0,
            }),
            s.createElement(
              "div",
              { className: Q().TitleGroup },
              s.createElement(G.II, {
                type: "text",
                label: (0, T.Xx)("#EventEditor_AddSpeaker_Title"),
                value: n,
                onChange: (e) => i(e.target.value),
              }),
              s.createElement(G.II, {
                type: "text",
                label: (0, T.Xx)("#EventEditor_AddSpeaker_Company"),
                value: r,
                onChange: (e) => l(e.target.value),
              }),
            ),
            s.createElement(
              Z.HP,
              {
                toolTipContent: (0, T.Xx)(
                  "#EventEditor_AssociateSteamAccount_ttip",
                ),
              },
              s.createElement(
                "div",
                { className: "DialogLabel" },
                (0, T.Xx)("#EventEditor_AssociateSteamAccount"),
                " (?)",
              ),
            ),
            s.createElement(
              "div",
              null,
              S &&
                s.createElement(z.V, {
                  string: (0, T.Xx)("#Loading"),
                  size: "small",
                }),
              Boolean(v) &&
                s.createElement(
                  "a",
                  {
                    href:
                      V.De.COMMUNITY_BASE_URL +
                      "profiles/" +
                      h.ConvertTo64BitString(),
                    target: "_blank",
                  },
                  v
                    ? s.createElement("img", {
                        style: { marginRight: "8px" },
                        src: v.avatar_url,
                      })
                    : null,
                  v ? v.m_strPlayerName : null,
                ),
              s.createElement(
                "div",
                { className: Q().AssociateRowCtn },
                s.createElement(
                  G.zx,
                  { onClick: () => g(new d.K(V.L7.steamid)) },
                  (0, T.Xx)("#EventEditor_SteamAccount_addme"),
                ),
                s.createElement(
                  G.zx,
                  {
                    onClick: (e) =>
                      (0, c.yV)(
                        s.createElement(ye, { friends: E, setSteamID: g }),
                        e,
                      ),
                  },
                  (0, T.Xx)("#EventEditor_SteamAccount_addfriend"),
                ),
                s.createElement(
                  G.zx,
                  { onClick: () => g(void 0) },
                  (0, T.Xx)("#EventEditor_SteamAccount_clear"),
                ),
              ),
            ),
            s.createElement(
              "div",
              { className: Q().PhotoCtn },
              s.createElement(
                "div",
                { className: "DialogLabel" },
                (0, T.Xx)("#EventEditor_ChoosePhoto"),
              ),
              s.createElement(oe, {
                clanSteamID: e.clanSteamID,
                inputClanImage: u,
                setImage: _,
                nWidth: 184,
                nHeight: 184,
              }),
            ),
            s.createElement(
              "div",
              { className: Q().AboutCtn },
              s.createElement(
                "div",
                { className: "DialogLabel" },
                (0, T.Xx)("#EventEditor_AddSpeaker_About"),
              ),
              s.createElement(G.E0, {
                value: o,
                onChange: (e) => m(e.target.value),
                rows: 8,
                cols: 80,
                nMinHeight: 40,
                placeholder: (0, T.Xx)(
                  "#EventEditor_AddSpeaker_About_Placeholder",
                ),
              }),
            ),
            s.createElement(
              "div",
              { className: Q().PreviewCtn },
              s.createElement(
                "div",
                { className: "DialogLabel" },
                (0, T.Xx)("#Button_Preview"),
              ),
              s.createElement(W.qs, {
                company: r,
                name: t,
                title: n,
                bioString: o,
                photo: u ? u.url : void 0,
              }),
            ),
          ),
        );
      };
      function ye(e) {
        const { friends: t, setSteamID: a } = e;
        return s.createElement(
          "div",
          { className: Q().DropDownScroll },
          t.map((e) =>
            s.createElement(be, { key: e, steamid: e, setSteamID: a }),
          ),
        );
      }
      function be(e) {
        const { steamid: t, setSteamID: a } = e,
          { data: n } = (0, j.IE)(t);
        return s.createElement(
          q.Zo,
          { onSelected: () => a(new d.K(t)) },
          s.createElement(
            "div",
            { style: { display: "flex", alignItems: "center" } },
            n &&
              s.createElement("img", {
                className: U().WhitelistAvatar,
                src: n.avatar_url,
              }),
            n?.m_strPlayerName,
          ),
        );
      }
      let Ie = class extends s.Component {
        m_isMounted = !1;
        m_bAppend = !1;
        constructor(e) {
          super(e), (this.state = { bPreserveNewLines: !1, strHTMLData: "" });
        }
        componentDidMount() {
          this.m_isMounted = !0;
        }
        componentWillUnmount() {
          this.m_isMounted = !1;
        }
        OnConvertAndOverriteHTML() {
          (this.m_bAppend = !1), this.ConvertBBCode();
        }
        OnConvertAndAppendHTML() {
          (this.m_bAppend = !0), this.ConvertBBCode();
        }
        async ConvertHtmlToBBCode(e, t) {
          let a = new URLSearchParams();
          a.append("content", e), a.append("preserve_newlines", t ? "1" : "0");
          let n = null;
          return (
            (n = await r().post(
              V.De.COMMUNITY_BASE_URL + "/actions/ConvertHTMLToBBCode",
              a,
            )),
            n.data.content
          );
        }
        ConvertBBCode() {
          this.setState({ bConverting: !0 }),
            this.ConvertHtmlToBBCode(
              this.state.strHTMLData,
              this.state.bPreserveNewLines,
            )
              .then((e) => {
                this.m_isMounted &&
                  (this.m_bAppend
                    ? he.append(e, this.props.textareaRef.current)
                    : he.overwrite(e, this.props.textareaRef.current),
                  this.setState({ bConverting: !1, bFinishedConverting: !0 }));
              })
              .catch((e) => {
                (0, O.AM)(
                  s.createElement(M.JX, {
                    strTitle: (0, T.Xx)("#EventEditor_ConvertHTML_Error"),
                    strDescription: (0, T.Xx)(
                      "#EventEditor_ConvertHTML_Error_Desc",
                      e.response && e.response.data ? e.response.data.msg : e,
                    ),
                    bAlertDialog: !0,
                    bDestructiveWarning: !0,
                  }),
                  this.props.ownerWindow,
                  { strTitle: (0, T.Xx)("#EventEditor_ConvertHTML_Error") },
                );
              });
        }
        OnCheckboxChange(e) {
          let t = e.target.checked;
          t != this.state.bPreserveNewLines &&
            this.setState({ bPreserveNewLines: t });
        }
        OnTextAreaChange(e) {
          this.setState({ strHTMLData: e.currentTarget.value });
        }
        render() {
          const { closeModal: e } = this.props;
          return this.state.bConverting
            ? s.createElement(
                M.uH,
                {
                  strTitle: (0, T.Xx)("#EventEditor_ImportFromHTML"),
                  strDescription: (0, T.Xx)(
                    "#EventEditor_ImportFromHTML_ConversionInProgress",
                  ),
                  closeModal: e,
                  bAlertDialog: !0,
                  onOK: e,
                  onCancel: e,
                },
                s.createElement(z.V, null),
              )
            : this.state.bFinishedConverting
              ? s.createElement(M.uH, {
                  strTitle: (0, T.Xx)("#EventEditor_ImportFromHTML"),
                  strDescription: (0, T.Xx)(
                    "#EventEditor_ImportFromHTML_ConvertFinished",
                  ),
                  closeModal: e,
                  bAlertDialog: !0,
                  onOK: e,
                  onCancel: e,
                })
              : s.createElement(
                  M.RG,
                  {
                    onOK: this.OnConvertAndOverriteHTML,
                    onCancel: e,
                    className: Q().BBCodeEditorInputStyles,
                  },
                  s.createElement(
                    G.h4,
                    null,
                    " ",
                    (0, T.Xx)("#EventEditor_ImportFromHTML"),
                    " ",
                  ),
                  s.createElement(
                    G.uT,
                    null,
                    s.createElement(
                      G.Ac,
                      null,
                      s.createElement(
                        "div",
                        {
                          className: (0, f.Z)(
                            B().FlexColumnContainer,
                            Q().ImportHTMLCtn,
                          ),
                        },
                        s.createElement(
                          "div",
                          { className: B().FlexColumnContainer },
                          (0, T.kQ)(
                            "#EventEditor_ImportFromHTML_ConvertDescription",
                            s.createElement(
                              "a",
                              {
                                target: V.De.IN_CLIENT ? void 0 : "_blank",
                                href: "https://partner.steamgames.com/doc/marketing/event_tools/import",
                              },
                              (0, T.Xx)(
                                "#EventEditor_ImportFromHTML_ConvertLearn",
                              ),
                            ),
                          ),
                        ),
                        s.createElement("textarea", {
                          value: this.state.strHTMLData,
                          placeholder: (0, T.Xx)(
                            "#EventEditor_ImportFromHTML_Instruction",
                          ),
                          className: Q().ImportHTMLTextArea,
                          onChange: this.OnTextAreaChange,
                          ref: (e) => e && e.focus(),
                        }),
                        s.createElement(
                          "div",
                          { className: Q().ImportHTMLCheckBoxLine },
                          s.createElement("input", {
                            id: "ImportFromHTMLNewLines",
                            type: "checkbox",
                            checked: this.state.bPreserveNewLines,
                            onChange: this.OnCheckboxChange,
                          }),
                          s.createElement(
                            "label",
                            { htmlFor: "ImportFromHTMLNewLines" },
                            (0, T.Xx)(
                              "#EventEditor_ImportFromHTML_PreserveNewlines",
                            ),
                            s.createElement(
                              "span",
                              {
                                className: "ttip",
                                "data-tooltip-text": (0, T.Xx)(
                                  "#EventEditor_ImportFromHTML_PreserveNewlines_Hint",
                                ),
                              },
                              "(?)",
                            ),
                          ),
                        ),
                        s.createElement(
                          "div",
                          null,
                          (0, T.Xx)(
                            "#EventEditor_ImportFromHTML_ConvertToBBCode",
                          ),
                        ),
                      ),
                    ),
                    s.createElement(
                      G.$_,
                      null,
                      s.createElement(G.$0, {
                        onCancel: e,
                        strOKText: (0, T.Xx)("#Button_Overwrite"),
                        onUpdate: this.OnConvertAndAppendHTML,
                        strUpdateText: (0, T.Xx)("#Button_Append"),
                      }),
                    ),
                  ),
                );
        }
      };
      (0, n.gn)([h.ak], Ie.prototype, "OnConvertAndOverriteHTML", null),
        (0, n.gn)([h.ak], Ie.prototype, "OnConvertAndAppendHTML", null),
        (0, n.gn)([h.ak], Ie.prototype, "OnCheckboxChange", null),
        (0, n.gn)([h.ak], Ie.prototype, "OnTextAreaChange", null),
        (Ie = (0, n.gn)([l.Pi], Ie));
    },
    45010: (e, t, a) => {
      "use strict";
      a.d(t, { O: () => I });
      var n,
        i = a(47427),
        r = a(90286),
        l = a(46882),
        s = a(29480),
        o = a(16649),
        c = a(13129),
        m = a(31846),
        d = a(24549),
        u = a(37563),
        p = a(85556),
        _ = a(87225),
        h = a(58112),
        g = a(20417);
      !(function (e) {
        (e[(e.NotLoaded = 0)] = "NotLoaded"),
          (e[(e.Loading = 1)] = "Loading"),
          (e[(e.Loaded = 2)] = "Loaded");
      })(n || (n = {}));
      let E = n.NotLoaded,
        S = [];
      function v(e) {
        if (E == n.Loaded) return void e();
        if (E == n.NotLoaded) {
          let e = document.createElement("script");
          e.src = "https://www.youtube.com/iframe_api";
          let t = document.getElementsByTagName("script")[0];
          t.parentNode.insertBefore(e, t), (window.onYouTubeIframeAPIReady = D);
        }
        S.findIndex((t) => e == t) < 0 && S.push(e);
      }
      function D() {
        E = n.Loaded;
        for (let e of S) e();
        S = [];
      }
      class f extends i.Component {
        m_strPlayerID = "";
        m_player = null;
        m_playerContainer = null;
        m_bPlayerReady = !1;
        static s_nPlayerIndex = 0;
        constructor(e) {
          super(e),
            (this.m_strPlayerID = "YoutubePlayer_" + f.s_nPlayerIndex++),
            (this.state = { bYoutubeLoaded: !1 });
        }
        componentWillUnmount() {
          var e;
          this.DestroyPlayer(), (e = this.OnYoutubeScriptsReady), _.Zf(S, e);
        }
        shouldComponentUpdate(e, t) {
          if (!this.m_player) return !1;
          const a = this.props;
          return a.autoplay != e.autoplay ||
            a.controls != e.controls ||
            a.showInfo != e.showInfo ||
            a.video != e.video
            ? (this.CreatePlayer(e), !1)
            : ((a.width == e.width && a.height == e.height) ||
                (this.m_bPlayerReady &&
                  e.width &&
                  e.height &&
                  this.m_player.setSize(e.width, e.height)),
              a.forcePause != e.forcePause);
        }
        componentDidUpdate(e) {
          e.forcePause != this.props.forcePause &&
            (this.props.forcePause
              ? this.m_player.pauseVideo()
              : this.m_player.playVideo());
        }
        DestroyPlayer() {
          if (this.m_player)
            try {
              this.m_player.stopVideo && this.m_player.stopVideo(),
                this.m_player.destroy && this.m_player.destroy();
            } catch (e) {
            } finally {
              this.m_player = null;
            }
        }
        BindPlayerContainer(e) {
          this.m_playerContainer != e &&
            ((this.m_playerContainer = e),
            this.DestroyPlayer(),
            this.m_playerContainer && v(this.OnYoutubeScriptsReady));
        }
        OnYoutubeScriptsReady() {
          this.CreatePlayer(this.props);
        }
        CreatePlayer(e) {
          if ((this.DestroyPlayer(), !this.m_playerContainer)) return;
          const t = !1 === e.autoplay ? 0 : 1,
            a = !0 === e.showInfo ? 1 : 0,
            n = !0 === e.controls ? 1 : 0,
            i = !0 === e.showFullscreenBtn ? 1 : 0,
            r = !0 === e.playsInline ? 1 : 0;
          let l = {
              width: void 0 !== e.width ? String(e.width) : void 0,
              height: void 0 !== e.height ? String(e.height) : void 0,
              videoId: e.video,
              playerVars: {
                autoplay: t,
                showinfo: a,
                autohide: 1,
                fs: i,
                modestbranding: 1,
                rel: 0,
                playsinline: r,
                iv_load_policy: 3,
                controls: n,
                start: e.startSeconds,
              },
              events: {
                onReady: this.OnPlayerReady,
                onStateChange: this.OnPlayerStateChange,
                onError: this.OnError,
              },
            },
            s = this.m_playerContainer.firstElementChild;
          (this.m_bPlayerReady = !1), (this.m_player = new YT.Player(s, l));
        }
        OnPlayerReady(e) {
          if (((this.m_bPlayerReady = !0), this.props.onVideoInfoChanged)) {
            let e = this.m_player.getVideoData(),
              t = { strAuthor: "", strTitle: "", strVideoID: "" };
            e.author && (t.strAuthor = e.author),
              e.title && (t.strTitle = e.title),
              e.video_id && (t.strVideoID = e.video_id),
              this.props.onVideoInfoChanged(t);
          }
          this.props.width &&
            this.props.height &&
            this.m_player.setSize(this.props.width, this.props.height),
            this.props.autoplay && this.m_player.playVideo(),
            this.props.onPlayerReady && this.props.onPlayerReady();
        }
        OnPlayerStateChange(e) {
          switch (e.data) {
            case YT.PlayerState.UNSTARTED:
              break;
            case YT.PlayerState.BUFFERING:
              this.props.onBuffering && this.props.onBuffering();
              break;
            case YT.PlayerState.PLAYING:
              this.props.onPlaying && this.props.onPlaying();
              break;
            case YT.PlayerState.PAUSED:
              this.props.onPaused && this.props.onPaused();
              break;
            case YT.PlayerState.ENDED:
              this.props.onMovieEnd && this.props.onMovieEnd();
          }
        }
        OnError(e) {
          console.log("Youtube: Playback failed", e),
            this.props.onError && this.props.onError(e);
        }
        OnPlayerLeftView() {
          this.props.autopause &&
            this.m_player &&
            this.m_bPlayerReady &&
            this.m_player.pauseVideo();
        }
        PlayVideo(e) {
          this.m_player &&
            this.m_bPlayerReady &&
            (e && this.m_player.seekTo(0, !0), this.m_player.playVideo());
        }
        render() {
          const e = i.createElement(
            "div",
            {
              key: this.m_strPlayerID,
              ref: this.BindPlayerContainer,
              className: (0, c.Z)("YoutubePlayer", this.props.classnames),
            },
            i.createElement(l.V, { className: "YoutubePlayerThrobber" }),
          );
          return this.props.autopause
            ? i.createElement(h.h, { onLeave: this.OnPlayerLeftView }, e)
            : e;
        }
      }
      (0, p.gn)([g.ak], f.prototype, "BindPlayerContainer", null),
        (0, p.gn)([g.ak], f.prototype, "OnYoutubeScriptsReady", null),
        (0, p.gn)([g.ak], f.prototype, "CreatePlayer", null),
        (0, p.gn)([g.ak], f.prototype, "OnPlayerReady", null),
        (0, p.gn)([g.ak], f.prototype, "OnPlayerStateChange", null),
        (0, p.gn)([g.ak], f.prototype, "OnError", null),
        (0, p.gn)([g.ak], f.prototype, "OnPlayerLeftView", null),
        (0, p.gn)([g.ak], f.prototype, "PlayVideo", null);
      var y = a(14411),
        b = a.n(y);
      function I(e) {
        const {
            videoID: t,
            bShowVideoImmediately: a,
            bAutoPlay: n,
            nStartSeconds: p,
            classNameSize: _,
            classNameAlign: h,
          } = e,
          [g, E] = (0, i.useState)(!a),
          [S, D] = (0, i.useState)(!1),
          y = (0, s.T)("YouTubeInlineSnippet"),
          [I, C] = (0, i.useState)({
            title: (0, m.Xx)("#Loading"),
            description: "",
            videoid: t,
            views: "0",
          });
        (0, i.useEffect)(() => {
          g &&
            r.A.LoadYouTubeDynamicData([t], y)
              .then((e) => {
                !y.token.reason && e.length > 0 && (C(e[0]), D(!0));
              })
              .catch((e) =>
                console.error(
                  "YouTubeInlineSnippet: " + (0, o.l)(e).strErrorMsg,
                ),
              );
        }, [g, y, t]);
        const k = !1;
        if (
          (i.useEffect(() => {
            a && v(() => {});
          }, [a, k]),
          g)
        ) {
          const e = I.title,
            a = I.views,
            n = I.description;
          return i.createElement(
            "div",
            { className: b().DynamicLinkBox, onClick: () => E(!1) },
            i.createElement("img", {
              className: b().DynamicLink_Preview,
              src: "https://img.youtube.com/vi/" + t + "/0.jpg",
            }),
            i.createElement(
              "div",
              { className: b().DynamicLink_Content },
              i.createElement(
                "div",
                { className: b().DynamicLink_Name },
                (0, m.Xx)("#EventEditor_YouTubeVideoTitle", e),
              ),
              i.createElement(
                "div",
                { className: b().DynamicLink_YoutubeViews },
                (0, m.Xx)(
                  "#EventEditor_YouTubeVideoViews",
                  (0, d.AV)(Number(a)),
                ),
              ),
              i.createElement(
                "div",
                { className: b().Dynamiclink_Content },
                S && n,
                !S && i.createElement(l.V, { size: "medium" }),
              ),
            ),
          );
        }
        return i.createElement(
          "div",
          { className: (0, c.Z)(b().PreviewYouTubeVideo, _, h), id: t },
          i.createElement("img", {
            className: b().PlaceholderImg,
            src:
              u.De.COMMUNITY_CDN_URL +
              "public/shared/images/responsive/youtube_16x9_placeholder.gif",
          }),
          i.createElement(f, {
            video: t,
            autoplay: n ?? !1,
            startSeconds: p,
            controls: !0,
            playsInline: !0,
            autopause: !0,
            showFullscreenBtn: !0,
          }),
        );
      }
    },
    9466: (e, t, a) => {
      "use strict";
      a.d(t, { j: () => O });
      var n = a(47427),
        i = a(30750),
        r = a(27605),
        l = a(77936),
        s = a(38071),
        o = a(27174),
        c = a(12055),
        m = a(20029),
        d = a(65650),
        u = a(1485),
        p = a(31846),
        _ = a(13129),
        h = a(23188),
        g = a.n(h);
      let E = 1;
      function S(e) {
        const {
            onDropFiles: t,
            renderDesciption: a,
            elAdditonalButtons: i,
            strOverrideDragAndDropText: r,
          } = e,
          [l] = (0, n.useState)(++E),
          s = (0, n.useRef)(),
          [o, c] = (0, n.useState)(!1),
          m = (0, n.useRef)(0),
          d = (0, n.useCallback)((e) => {
            e.preventDefault(), e.stopPropagation();
          }, []),
          u = (0, n.useCallback)(
            (e) => {
              let a = e.target.files;
              a && a.length > 0 && a[0] && t(a),
                s.current && s.current.value && (s.current.value = null);
            },
            [t],
          );
        return n.createElement(
          "div",
          {
            className: (0, _.Z)(
              o ? g().DragAndDropContainerDragging : g().DragAndDropContainer,
              "DragAndDropContainer",
            ),
            onDrag: d,
            onDragStart: d,
            onDragEnd: d,
            onDragOver: d,
            onDragEnter: (e) => {
              e.preventDefault(),
                e.stopPropagation(),
                (m.current += 1),
                ((e.dataTransfer.files && e.dataTransfer.files[0]) ||
                  (e.dataTransfer.types &&
                    "Files" === e.dataTransfer.types[0])) &&
                  (o || c(!0));
            },
            onDragLeave: (e) => {
              e.preventDefault(),
                e.stopPropagation(),
                (m.current -= 1),
                0 === m.current && o && c(!1);
            },
            onDrop: (e) => {
              e.preventDefault(), e.stopPropagation(), (m.current = 0), c(!1);
              const a = e.dataTransfer.files;
              a && a.length > 0 && a[0] && t(a);
            },
          },
          Boolean(a) && a(),
          n.createElement(
            "div",
            null,
            r || (0, p.Xx)("#ImagePicker_DragAndDrop"),
          ),
          n.createElement(
            "div",
            { className: g().ImageUploadBar },
            n.createElement(
              "label",
              { htmlFor: "imagepickerfilechoice" + l },
              n.createElement(
                "span",
                null,
                (0, p.Xx)("#ImagePicker_OrBrowse"),
                " ",
              ),
              n.createElement(
                "span",
                { className: g().SelectImageButton },
                (0, p.Xx)("#selectimage_select_file"),
              ),
            ),
            n.createElement("input", {
              ref: s,
              style: { display: "none" },
              id: "imagepickerfilechoice" + l,
              type: "file",
              onSubmit: u,
              onChange: u,
              multiple: !0,
              accept: "image/png, image/jpeg, image/gif, image/webp",
            }),
          ),
          i,
          e.children,
        );
      }
      var v = a(71741),
        D = a.n(v),
        f = a(77178),
        y = a(90069),
        b = a(7765),
        I = a.n(b),
        C = a(62613),
        k = a(46882),
        A = a(16649),
        w = a(50423),
        P = a(9075),
        T = a(34216),
        N = a.n(T);
      function R(e) {
        const {
            imageUploader: t,
            rgSupportArtwork: a,
            strOverrideDragAndDropText: r,
            forceResolution: l,
            localizedPrimaryImage: s,
            elAdditonalButtons: o,
            rgRealmList: c,
          } = e,
          [u, _] = (0, i.SZ)(() => [
            t.GetUploadImages(),
            d.U.Get().GetCurEditLanguage(),
          ]),
          h = n.useCallback(
            async (e) => {
              let i = Array.from(e),
                r = !0;
              for (let l = 0; l < i.length; l++) {
                const i = e.item(l),
                  o = (0, m.Z)(i.name, _);
                try {
                  const e = (0, m.C)(o, _, c);
                  (r = await t.AddImageForLanguage(i, e, a, s)),
                    r ||
                      (console.error(
                        "ArtworkUploader.OnDropFiles: failed on i=" +
                          l +
                          " file=" +
                          i.name,
                      ),
                      (0, y.AM)(
                        n.createElement(f.JX, {
                          strDescription: (0, p.Xx)(
                            "#ImagePicker_Error",
                            i.name,
                          ),
                        }),
                        window,
                      ));
                } catch (e) {
                  let t = (0, A.l)(e);
                  console.error(
                    "ArtworkUploader.OnDropFiles: " + t.strErrorMsg,
                    t,
                  ),
                    (0, y.AM)(
                      n.createElement(f.JX, {
                        strDescription: (0, p.Xx)(
                          "#EventError_Code",
                          t.strErrorMsg,
                        ),
                      }),
                      window,
                    );
                }
              }
              return r;
            },
            [_, t, s, c, a],
          );
        return n.createElement(
          S,
          {
            onDropFiles: h,
            elAdditonalButtons: o,
            strOverrideDragAndDropText: r,
          },
          n.createElement(
            n.Fragment,
            null,
            n.createElement(
              "div",
              { className: N().UploadPreviewCtn },
              u.map((e) =>
                n.createElement(x, {
                  key: "arttabupload_" + e.file + "_" + e.uploadTime,
                  asset: e,
                  supported: a,
                  forceResolution: l,
                  forceFileType: s && s.file_type,
                  fnOnRemove: () => t.DeleteUploadImage(e),
                  languageRealms: c,
                }),
              ),
            ),
          ),
          n.createElement(G, {
            imageUploader: t,
            fnOnUploadImageRequested: async () => {
              await t.UploadAllImages(c, _, a, l, s && s.file_type);
            },
          }),
        );
      }
      function G(e) {
        const { imageUploader: t, fnOnUploadImageRequested: a } = e,
          [r] = (0, i.SZ)(() => [t.GetUploadImages()]);
        return n.createElement(
          "div",
          {
            style: { display: "flex" },
            className: N().UploadPreviewButtonsCtn,
          },
          Boolean(r.length) &&
            n.createElement(
              u.zx,
              { style: { margin: "8px" }, onClick: a },
              (0, p.Xx)("#ImageUpload_Upload"),
            ),
          Boolean(r.length) &&
            n.createElement(
              u.zx,
              { style: { margin: "8px" }, onClick: t.ClearImages },
              (0, p.Xx)("#ImageUpload_Clear"),
            ),
        );
      }
      const x = (0, r.Pi)((e) => {
        const { asset: t, fnOnRemove: a, supported: i, languageRealms: r } = e,
          m = i.map((e) => {
            let a = (0, p.Xx)("#EventEditor_ArtworkType_" + e);
            "spotlight" == e &&
              (a = (0, p.Xx)("#EventEditor_ArtworkType_store_spotlight"));
            const n = o.h1[e];
            let i;
            n &&
              !n.bDisableEnforceDimensions &&
              (a += ` - ${n.width}x${n.height}`),
              (t.BIsOriginalMinimumDimensions(e) && (0, o.W4)(t.fileType, e)) ||
                (i = N().ArtworkDimensionTooSmall);
            return { label: a, data: e, strOptionClass: i };
          }),
          d = {
            pending: (0, p.Xx)("#ImageUpload_Pending"),
            uploading: (0, p.Xx)("#ImageUpload_Uploading"),
            success: (0, p.Xx)("#ImageUpload_SuccessCard"),
            failed: (0, p.Xx)("#ImageUpload_Failed"),
          },
          h = new Array(),
          g = p.LJ.GetLanguageListForRealms(r || [s.IN.k_ESteamRealmGlobal]);
        for (const e of g) {
          const t = (0, p.Xx)("#Language_" + (0, l.j_)(e));
          h.push({ label: t, data: e });
        }
        h.sort((e, t) => e.label.localeCompare(t.label));
        const E = [];
        h.forEach((e) => E.push({ label: e.label, data: e.data }));
        const S = t.IsValidAssetType(
            e.supported,
            e.forceResolution,
            e.forceFileType,
          ),
          v = S.needsCrop
            ? (0, p.Xx)("#ImageUpload_NeedsCrop")
            : S.error
              ? (0, p.Xx)("#ImageUpload_Invalid")
              : d[t.status];
        return n.createElement(
          "div",
          { className: N().UploadPreview },
          n.createElement(
            "div",
            { className: N().UploadPreviewDelete, onClick: () => a(t) },
            n.createElement(C.pVO, null),
          ),
          n.createElement(L, { asset: t }),
          n.createElement(u.ry, {
            strDropDownClassName: D().DropDownScroll,
            rgOptions: E,
            selectedOption: t.language,
            onChange: (e) => (t.language = e.data),
          }),
          Boolean(m.length > 1) &&
            n.createElement(u.ry, {
              rgOptions: m.filter((e) => "hero" !== e.data),
              selectedOption: t.type || m[0].data,
              onChange: (e) => (t.type = e.data),
            }),
          n.createElement(
            "div",
            { className: (0, _.Z)(D().FlexColumnContainer) },
            v,
            Boolean("uploading" == v) &&
              n.createElement(
                "div",
                { className: I().FlexCenter },
                n.createElement(k.V, { size: "small" }),
              ),
          ),
          n.createElement(
            "div",
            { className: N().UploadPreviewError },
            t.message,
          ),
          S.error &&
            n.createElement(
              "div",
              { className: N().UploadPreviewError },
              S.error,
            ),
          S.needsCrop &&
            n.createElement(
              n.Fragment,
              null,
              n.createElement(
                u.KM,
                {
                  onClick: () =>
                    ((t) => {
                      if (t instanceof c.Mr) {
                        t.ResetImage();
                        const a = window,
                          i = n.createElement(P.e, {
                            ownerWin: a,
                            uploadFile: t,
                            forceResolution: e.forceResolution,
                            fileType: e.forceFileType || 3,
                          });
                        (0, y.BR)(i, a, "CropModal", {
                          strTitle: (0, p.Xx)("#ImageUpload_CropModalTitle"),
                        });
                      }
                      console.log(
                        "ArtworkUploadEmbeddedDialog trying to crop non image",
                        t.fileType,
                        t.type,
                      );
                    })(t),
                },
                (0, p.Xx)("#ImageUpload_OpenEditor"),
              ),
            ),
        );
      });
      function L(e) {
        const { asset: t } = e;
        return o.D_.includes(t.fileType)
          ? n.createElement(
              "div",
              {
                className: N().PreviewImgCtn,
                onClick: (e) =>
                  (0, y.AM)(n.createElement(B, { asset: t }), (0, w.RA)(e)),
              },
              n.createElement(
                "span",
                { className: N().PreviewImgInfo },
                t.width,
                " x ",
                t.height,
              ),
              n.createElement(
                "video",
                {
                  height: 120,
                  controls: !1,
                  autoPlay: !0,
                  loop: !0,
                  muted: !0,
                },
                n.createElement("source", { src: t.dataUrl }),
              ),
            )
          : n.createElement(
              "div",
              {
                className: N().PreviewImgCtn,
                style: { backgroundImage: `url(${t.dataUrl})` },
              },
              n.createElement(
                "span",
                { className: N().PreviewImgInfo },
                t.width,
                " x ",
                t.height,
              ),
            );
      }
      function B(e) {
        const { asset: t, closeModal: a } = e;
        return n.createElement(
          f.uH,
          { bAlertDialog: !0, closeModal: a },
          n.createElement(
            "video",
            { controls: !0, autoPlay: !0, loop: !0, muted: !0 },
            n.createElement("source", { src: t.dataUrl }),
          ),
        );
      }
      var M = a(98330);
      function O(e) {
        const { strUploadAjaxURL: t, fnOnUploadSuccess: a } = e,
          [i] = (0, n.useState)(new M._3(t, a));
        return (
          (0, n.useEffect)(() => {
            i.GetFnOnUploadSuccess() != a && i.SetFnOnUploadSuccess(a),
              i.GetUploadPath() != t && i.SetUploadPath(t);
          }, [i, a, t]),
          n.createElement(R, { ...e, imageUploader: i })
        );
      }
    },
    8897: (e, t, a) => {
      "use strict";
      a.d(t, { V: () => g });
      var n = a(80751),
        i = a.n(n),
        r = a(47427),
        l = a(77936),
        s = a(27174),
        o = a(908),
        c = a(65650),
        m = a(77681),
        d = a.n(m),
        u = a(62613),
        p = a(31846),
        _ = a(33431),
        h = a.n(_);
      function g(e) {
        const {
            rgAssetLangs: t,
            fnGetAssetUrl: a,
            fnDeletAssetLang: n,
            imageClassname: i,
            fnDeleteAllAssets: s,
          } = e,
          [o, m] = (0, r.useState)(c.U.Get().GetCurEditLanguage()),
          [_, h] = (0, r.useState)(a(o));
        return (
          (0, r.useEffect)(() => {
            const e = a(o);
            e ? h(e) : t.length > 0 ? m(t[0]) : h(null);
          }, [o, a, t]),
          r.createElement(
            "div",
            { className: d().UploadedImageDisplayCtn },
            r.createElement(
              "div",
              { className: d().UploaderLeftCol },
              r.createElement(E, { curAssetURL: _, imageClassname: i }),
            ),
            r.createElement(
              "div",
              { className: d().UploaderRightCol },
              r.createElement(
                "div",
                { className: d().SectionCtn },
                r.createElement(
                  "div",
                  { className: d().LangCountTitle },
                  t.length,
                  " Localized Assets",
                ),
                r.createElement(
                  "div",
                  { className: d().LangSelectCtn },
                  t.map((e) => {
                    const t = (0, l.j_)(e);
                    return r.createElement(
                      "div",
                      { className: d().UploaderImgLang, key: "image" + t },
                      r.createElement(
                        "a",
                        {
                          href: "#",
                          onClick: (t) => {
                            t.preventDefault(), m(e), h(a(e));
                          },
                        },
                        Boolean(e === o)
                          ? r.createElement(
                              "span",
                              { className: d().LangSelected },
                              "" + t,
                            )
                          : r.createElement("span", null, "" + t),
                      ),
                      r.createElement(
                        "a",
                        {
                          href: "#",
                          onClick: (t) => {
                            t.preventDefault(), n(e);
                          },
                        },
                        r.createElement(u.X, null),
                      ),
                    );
                  }),
                ),
                Boolean(t.length) &&
                  r.createElement(
                    "a",
                    {
                      href: "#",
                      className: d().DeleteAll,
                      onClick: (e) => {
                        s ? s() : t.forEach((e) => n(e));
                      },
                    },
                    (0, p.Xx)("#Button_DeleteAll"),
                  ),
              ),
            ),
          )
        );
      }
      function E(e) {
        const { curAssetURL: t, imageClassname: a } = e;
        if (!t)
          return r.createElement(
            "div",
            { className: h().ArtNoArt },
            (0, p.Xx)("#ImageDisplay_NoAssetUploaded"),
          );
        const n = (0, o.qn)(t);
        return s.D_.includes(n)
          ? r.createElement(S, { ...e })
          : s.f7.includes(n)
            ? r.createElement(v, {
                className: a || h().ArtPreview,
                strTextURL: t,
              })
            : r.createElement("img", {
                className: a || h().ArtPreview,
                src: t,
              });
      }
      function S(e) {
        const { curAssetURL: t, imageClassname: a } = e,
          n = (0, r.useRef)();
        return (
          (0, r.useEffect)(() => {
            n.current && (n.current.load(), n.current.play());
          }, [t]),
          r.createElement(
            "video",
            {
              ref: n,
              className: a || h().ArtPreview,
              autoPlay: !0,
              loop: !0,
              controls: !0,
              muted: !0,
            },
            r.createElement("source", { src: t }),
          )
        );
      }
      function v(e) {
        const { strTextURL: t, className: a } = e,
          [n, l] = (0, r.useState)("");
        return (
          (0, r.useEffect)(() => {
            i()
              .get(t)
              .then((e) => {
                l(e.data);
              })
              .catch((e) => {
                console.error(e);
              });
          }, [t]),
          r.createElement("textarea", {
            className: a,
            value: n,
            readOnly: !0,
            rows: 20,
          })
        );
      }
    },
    36194: (e, t, a) => {
      "use strict";
      a.d(t, { z: () => s });
      var n = a(85556),
        i = a(47427),
        r = a(77266),
        l = a(20417);
      class s extends i.Component {
        state = { color: this.props.color || "rgba(1.0,1.0,1.0,1.0)" };
        static GetColorString(e) {
          return `rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`;
        }
        OnColorChange(e) {
          const t = s.GetColorString(e);
          this.setState({ color: t }), this.props.onChange(t);
        }
        render() {
          return i.createElement(r.AI, {
            onChange: this.OnColorChange,
            color: this.state.color,
          });
        }
      }
      (0, n.gn)([l.ak], s.prototype, "OnColorChange", null);
    },
    33682: (e, t, a) => {
      "use strict";
      a.d(t, {
        hp: () => H,
        tk: () => L,
        ag: () => X,
        uC: () => j,
        D3: () => ne,
      });
      var n = a(85556),
        i = a(54842),
        r = a(27605),
        l = a(47427),
        s = a(42287),
        o = a(37265),
        c = a(48371),
        m = a(80886);
      class d extends l.Component {
        constructor(e) {
          super(e);
        }
        static defaultProps = { text: "" };
        render() {
          if (null == this.props.text)
            return l.createElement(l.Fragment, null, this.props.children);
          let e;
          if (
            ((e =
              this.props.text instanceof Array
                ? this.props.text
                    .map((e) => (e ? e.toString() : ""))
                    .filter((e) => e.length > 0)
                    .join("\n")
                : this.props.text.toString()),
            1 == l.Children.count(this.props.children))
          ) {
            let t = l.Children.only(this.props.children);
            return l.cloneElement(t, {
              "data-copystyle": this.props.style,
              "data-copytext": e,
            });
          }
          return (
            console.log(
              `Error: CopyableText must be the parent of exactly one child:\n\tcopystyle=${this.props.style} copytext=${e}`,
            ),
            l.createElement(l.Fragment, null, this.props.children)
          );
        }
      }
      var u = a(22042),
        p = a(13129),
        _ = a(31846),
        h = a(20417);
      function g(e, t) {
        return e + "economy/sticker/" + encodeURIComponent(t);
      }
      var E = a(37563),
        S = a(1485),
        v = a(91618),
        D = a(15633),
        f = a(99970);
      class y extends l.Component {
        constructor(e) {
          super(e), (this.state = { activeIndex: e.initialActiveIndex || 0 });
        }
        render() {
          const { config: e } = this.props,
            { activeIndex: t } = this.state,
            a = e[t] && e[t].renderContent ? e[t].renderContent() : null,
            n = e.length > 1,
            i = n
              ? ({ detail: { button: t } }) => {
                  t === D.eV.BUMPER_LEFT
                    ? this.setState({
                        activeIndex: Math.max(0, this.state.activeIndex - 1),
                      })
                    : t === D.eV.BUMPER_RIGHT &&
                      this.setState({
                        activeIndex: Math.min(
                          e.length - 1,
                          this.state.activeIndex + 1,
                        ),
                      });
                }
              : void 0;
          return l.createElement(
            v.s,
            { className: f.Picker, onButtonDown: i },
            n && l.createElement(b, null, this.RenderTabs()),
            a,
          );
        }
        RenderTabs() {
          return this.props.config.map(({ renderTab: e }, t) => {
            const a = this.state.activeIndex === t;
            return l.createElement(
              C,
              {
                key: t,
                active: a,
                onClick: () => this.setState({ activeIndex: t }),
              },
              e(a),
            );
          });
        }
      }
      function b(e) {
        return l.createElement(
          v.s,
          { className: f.Tabs, "flow-children": "row" },
          e.children,
        );
      }
      function I(e) {
        return l.createElement("div", { className: f.Content }, e.children);
      }
      function C(e) {
        const { active: t, children: a, onClick: n } = e;
        return l.createElement(
          v.s,
          {
            className: (0, p.Z)(f.Tab, t && f.Active),
            focusClassName: f.Focus,
            onActivate: n,
          },
          l.createElement(
            "div",
            { className: (0, p.Z)(f.TabContent, t && f.Active) },
            a,
          ),
        );
      }
      function k(e) {
        const {
          items: t,
          renderItem: a,
          onItemSelect: n,
          keyExtractor: i,
          renderEmpty: r,
        } = e;
        let s = t.map((e, r) =>
          l.createElement(
            v.s,
            {
              key: i(e),
              className: f.Item,
              onActivate: () => n(t[r]),
              autoFocus: 0 === r,
              focusClassName: f.Focus,
            },
            a(t[r]),
          ),
        );
        return (
          0 === t.length && r && (s = r()),
          l.createElement(
            v.s,
            { "flow-children": "grid", className: f.ItemList },
            s,
          )
        );
      }
      function A(e) {
        const { title: t, onFilterChange: a, filter: n, onSubmit: i, ...r } = e;
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            I,
            null,
            l.createElement(P, { title: t }, l.createElement(k, { ...r })),
          ),
          l.createElement(T, { value: n, onChange: a, onSubmit: i }),
        );
      }
      function w(e) {
        const { onFilterChange: t, filter: a, sections: n, title: i } = e;
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            I,
            null,
            i && l.createElement("div", { className: f.SectionedPageTitle }, i),
            n.map(({ title: e, ...t }) =>
              l.createElement(
                P,
                { title: e, key: e },
                l.createElement(k, { ...t }),
              ),
            ),
          ),
          l.createElement(T, { value: a, onChange: t }),
        );
      }
      function P(e) {
        return l.createElement(
          "div",
          { className: f.Section },
          l.createElement("div", { className: f.SectionTitle }, e.title),
          l.createElement("div", { className: f.SectionContent }, e.children),
        );
      }
      function T(e) {
        const { value: t, onChange: a, onSubmit: n } = e;
        return l.createElement(
          "div",
          { className: f.FilterInputContainer },
          l.createElement(S.II, {
            type: "text",
            placeholder: "Search...",
            className: f.FilterInput,
            value: t,
            onChange: (e) => a(e.target.value),
            onSubmit: n,
          }),
        );
      }
      function N(e) {
        const { className: t, ...a } = e;
        return l.createElement("div", {
          className: (0, p.Z)(t, f.AddonPickerMessage),
          ...a,
        });
      }
      var R = a(44652),
        G = a.n(R),
        x = a(14609);
      class L extends l.PureComponent {
        state = { showHover: !1 };
        m_ref = l.createRef();
        OnMouseEnter(e) {
          this.setState({ showHover: !0 });
        }
        OnMouseLeave(e) {
          this.setState({ showHover: !1 });
        }
        render() {
          const { emoticon: e, large: t, emoticonHoverStore: a } = this.props,
            n = `:${e}:`,
            i = t && a.BLoaded(e) ? a.Get(e).url : c.u.GetEmoticonURL(e, t);
          return l.createElement(
            l.Fragment,
            null,
            l.createElement(
              d,
              { text: n, style: "merge-adjacent" },
              l.createElement("img", {
                src: i,
                className: (0, p.Z)(G().emoticon, t ? G().large : void 0),
                "data-emoticon": e,
                onMouseEnter: this.OnMouseEnter,
                onMouseLeave: this.OnMouseLeave,
                ref: this.m_ref,
              }),
            ),
            this.state.showHover &&
              l.createElement(B, {
                target: this.m_ref.current,
                store: a,
                emoticon: e,
              }),
          );
        }
      }
      (0, n.gn)([h.ak], L.prototype, "OnMouseEnter", null),
        (0, n.gn)([h.ak], L.prototype, "OnMouseLeave", null);
      const B = (0, r.Pi)((e) => {
          const { target: t, store: a, emoticon: n } = e,
            i = a.Get(n);
          return l.createElement(
            M,
            {
              target: t,
              title: `:${n}:`,
              subtitle: i && i.app_name ? i.app_name : void 0,
            },
            l.createElement(L, {
              emoticon: n,
              emoticonHoverStore: a,
              large: !0,
            }),
          );
        }),
        M = ({ target: e, title: t, subtitle: a, children: n }) =>
          l.createElement(
            o.T,
            {
              target: e,
              style: { zIndex: 1700 },
              className: G().EmoticonHover,
            },
            n,
            l.createElement(
              "div",
              { className: G().Info },
              l.createElement(
                "div",
                { className: G().Name },
                t || l.createElement("span", null, " "),
              ),
              l.createElement(
                "div",
                { className: G().AppName },
                a || l.createElement("span", null, " "),
              ),
            ),
          );
      function O(e) {
        return e.recent_emoticons;
      }
      function F(e) {
        return e.recent_stickers;
      }
      function U(e) {
        return O(e).length + F(e).length > 0;
      }
      const H = (0, r.Pi)((e) => {
        const {
          emoticonStore: t,
          emoticonHoverStore: a,
          roomEffectSettings: n,
          strFlairGroupID: r,
          onEmoticonSelected: s,
          onRoomEffectSelected: o,
          onStickerSelected: c,
        } = e;
        !(function (e) {
          const [t, a] = (0, l.useState)(e.is_initialized);
          (0, l.useEffect)(() => {
            if (!e.is_initialized) {
              e.UpdateEmoticonList();
              const t = (0, i.gx)(
                () => e.is_initialized,
                () => a(e.is_initialized),
              );
              return () => t();
            }
            return () => {};
          }, [e]);
        })(t);
        const m = [];
        return (
          U(t) &&
            m.push({
              renderTab: (e) =>
                l.createElement(
                  "span",
                  {
                    title: (0, _.Xx)("#AddonPicker_RecentlyUsed"),
                    className: (0, p.Z)(
                      G().PickerTab,
                      G().Clock,
                      e && G().ActiveTab,
                    ),
                  },
                  l.createElement(oe, null),
                ),
              renderContent: () =>
                l.createElement(q, {
                  store: t,
                  hoverStore: a,
                  onEmoticonSelect: (e) => s(e.name),
                  onStickerSelect: (e) => c(e.name),
                  flairGroupID: r,
                }),
            }),
          l.createElement(
            u.xV,
            null,
            l.createElement(y, {
              config: [
                ...m,
                {
                  renderTab: (e) =>
                    l.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_Emoticons"),
                        className: (0, p.Z)(G().PickerTab, e && G().ActiveTab),
                      },
                      l.createElement(le, null),
                    ),
                  renderContent: () =>
                    l.createElement(W, {
                      store: t,
                      hoverStore: a,
                      onItemSelect: (e) => s(e.name),
                      flairGroupID: r,
                    }),
                },
                {
                  renderTab: (e) =>
                    l.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_Stickers"),
                        className: (0, p.Z)(G().PickerTab, e && G().ActiveTab),
                      },
                      l.createElement(re, null),
                    ),
                  renderContent: () =>
                    l.createElement(Z, {
                      store: t,
                      onItemSelect: (e) => c(e.name),
                    }),
                },
                {
                  renderTab: (e) =>
                    l.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_RoomEffects"),
                        className: (0, p.Z)(G().PickerTab, e && G().ActiveTab),
                      },
                      l.createElement(se, null),
                    ),
                  renderContent: () =>
                    l.createElement(K, {
                      store: t,
                      effectSettings: n,
                      onItemSelect: (e) => o(e.name),
                    }),
                },
              ],
            }),
          )
        );
      });
      let V = class extends l.Component {
        m_disposeEmoticonStore;
        constructor(e) {
          super(e), (this.state = { strSearchText: "" });
          let t = this.props.emoticonStore;
          t.is_initialized ||
            (t.UpdateEmoticonList(),
            (this.m_disposeEmoticonStore = (0, i.gx)(
              () => t.is_initialized,
              () => this.forceUpdate(),
            )));
        }
        componentWillUnmount() {
          this.m_disposeEmoticonStore && this.m_disposeEmoticonStore();
        }
        render() {
          const {
              emoticonStore: e,
              emoticonHoverStore: t,
              onEmoticonSelected: a,
              onStickerSelected: n,
              strFlairGroupID: i,
            } = this.props,
            r = [];
          return (
            U(e) &&
              r.push({
                renderTab: (e) =>
                  l.createElement(
                    "span",
                    {
                      title: (0, _.Xx)("#AddonPicker_RecentlyUsed"),
                      className: (0, p.Z)(
                        G().PickerTab,
                        G().Clock,
                        e && G().ActiveTab,
                      ),
                    },
                    l.createElement(oe, null),
                  ),
                renderContent: () =>
                  l.createElement(q, {
                    store: e,
                    hoverStore: t,
                    onEmoticonSelect: (e) => a(e.name),
                    onStickerSelect: (e) => n(e.name),
                    flairGroupID: i,
                  }),
              }),
            l.createElement(
              u.xV,
              null,
              l.createElement(y, {
                config: [
                  ...r,
                  {
                    renderTab: (e) =>
                      l.createElement(
                        "span",
                        {
                          title: (0, _.Xx)("#AddonPicker_Emoticons"),
                          className: (0, p.Z)(
                            G().PickerTab,
                            e && G().ActiveTab,
                          ),
                        },
                        l.createElement(le, null),
                      ),
                    renderContent: () =>
                      l.createElement(W, {
                        store: e,
                        hoverStore: t,
                        onItemSelect: (e) => a(e.name),
                        flairGroupID: i,
                      }),
                  },
                  {
                    renderTab: (e) =>
                      l.createElement(
                        "span",
                        {
                          title: (0, _.Xx)("#AddonPicker_Stickers"),
                          className: (0, p.Z)(
                            G().PickerTab,
                            e && G().ActiveTab,
                          ),
                        },
                        l.createElement(re, null),
                      ),
                    renderContent: () =>
                      l.createElement(Z, {
                        store: e,
                        onItemSelect: (e) => n(e.name),
                      }),
                  },
                ],
              }),
            )
          );
        }
      };
      V = (0, n.gn)([r.Pi], V);
      class X extends l.Component {
        m_disposeEmoticonStore;
        constructor(e) {
          super(e), (this.state = { strSearchText: "" });
          let t = this.props.emoticonStore;
          t.is_initialized ||
            (t.UpdateEmoticonList(),
            (this.m_disposeEmoticonStore = (0, i.gx)(
              () => t.is_initialized,
              () => this.forceUpdate(),
            )));
        }
        componentWillUnmount() {
          this.m_disposeEmoticonStore && this.m_disposeEmoticonStore();
        }
        render() {
          return l.createElement(
            u.xV,
            null,
            l.createElement(y, {
              config: [
                {
                  renderTab: () =>
                    l.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_Emoticons"),
                        className: G().PickerTab,
                      },
                      l.createElement(le, null),
                    ),
                  renderContent: () =>
                    l.createElement(Q, {
                      store: this.props.emoticonStore,
                      hoverStore: this.props.emoticonHoverStore,
                      onItemSelect: (e) => this.props.OnSelected(e.name, !1),
                      flairGroupID: this.props.strFlairGroupID,
                    }),
                },
              ],
            }),
          );
        }
      }
      class j extends l.Component {
        m_disposeEmoticonStore;
        constructor(e) {
          super(e), (this.state = { strSearchText: "" });
          let t = this.props.emoticonStore;
          t.is_initialized ||
            (t.UpdateEmoticonList(),
            (this.m_disposeEmoticonStore = (0, i.gx)(
              () => t.is_initialized,
              () => this.forceUpdate(),
            )));
        }
        componentWillUnmount() {
          this.m_disposeEmoticonStore && this.m_disposeEmoticonStore();
        }
        render() {
          return l.createElement(
            u.xV,
            null,
            l.createElement(y, {
              config: [
                {
                  renderTab: () =>
                    l.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_Emoticons"),
                        className: G().PickerTab,
                      },
                      l.createElement(le, null),
                    ),
                  renderContent: () =>
                    l.createElement(Y, {
                      store: this.props.emoticonStore,
                      hoverStore: this.props.emoticonHoverStore,
                      onItemSelect: (e) => this.props.OnSelected(e.name, !1),
                      flairGroupID: this.props.strFlairGroupID,
                    }),
                },
              ],
            }),
          );
        }
      }
      class q extends l.Component {
        state = { filter: "" };
        render() {
          const {
              store: e,
              hoverStore: t,
              onEmoticonSelect: a,
              onStickerSelect: n,
            } = this.props,
            { filter: i } = this.state,
            r = [];
          return (
            O(e) &&
              r.push({
                title: (0, _.Xx)("#AddonPicker_RecentEmoticons"),
                items: c.u.FilterEmoticons(O(e), i),
                onItemSelect: a,
                renderItem: (e) =>
                  l.createElement(J, { emoticon: e, emoticonHoverStore: t }),
                keyExtractor: (e) => e.name,
                renderEmpty: () =>
                  l.createElement(
                    N,
                    null,
                    i
                      ? (0, _.Xx)("#AddonPicker_NoResults")
                      : (0, _.Xx)(
                          "#AddonPicker_NoRecent",
                          (0, _.Xx)("#AddonPicker_Emoticons"),
                        ),
                  ),
              }),
            F(e).length &&
              r.push({
                title: (0, _.Xx)("#AddonPicker_RecentStickers"),
                items: c.u.FilterStickers(F(e), i),
                onItemSelect: n,
                renderItem: (e) => l.createElement($, { sticker: e }),
                keyExtractor: ({ name: e }) => e,
                renderEmpty: () =>
                  l.createElement(
                    N,
                    null,
                    i
                      ? (0, _.Xx)("#AddonPicker_NoResults")
                      : (0, _.Xx)(
                          "#AddonPicker_NoRecent",
                          (0, _.Xx)("#AddonPicker_Stickers"),
                        ),
                  ),
              }),
            l.createElement(w, {
              onFilterChange: (e) => this.setState({ filter: e }),
              filter: i,
              sections: r,
            })
          );
        }
      }
      class W extends l.Component {
        state = { filter: "" };
        render() {
          const {
              store: e,
              hoverStore: t,
              onItemSelect: a,
              flairGroupID: n,
            } = this.props,
            { filter: i } = this.state,
            r = !i && n ? e.GetFlairListByGroupID(n) : e.emoticon_list,
            s = c.u.FilterEmoticons(r, i).slice(0, 1e3);
          return l.createElement(A, {
            title: (0, _.Xx)("#AddonPicker_Emoticons"),
            items: s,
            onItemSelect: a,
            renderItem: (e) =>
              l.createElement(J, { emoticon: e, emoticonHoverStore: t }),
            keyExtractor: (e) => e.name,
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: i,
            onSubmit: () => a(s[0]),
            renderEmpty: () =>
              i
                ? l.createElement(N, null, (0, _.Xx)("#AddonPicker_NoResults"))
                : l.createElement(z, null),
          });
        }
      }
      function z() {
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            N,
            null,
            (0, _.Xx)(
              "#AddonPicker_NoneOwned",
              (0, _.Xx)("#AddonPicker_Emoticons"),
            ),
          ),
          l.createElement(
            N,
            null,
            (0, _.kQ)(
              "#AddonPicker_AcquireAtPointsShopOrMarket",
              l.createElement(
                x.ns,
                { href: `${E.De.STORE_BASE_URL}points/shop/c/emoticons` },
                (0, _.Xx)("#AddonPicker_AcquireAtPointsShop_Link"),
              ),
              l.createElement(
                x.ns,
                { href: `${E.De.COMMUNITY_BASE_URL}market` },
                (0, _.Xx)("#AddonPicker_AcquireAtPointsShopOrMarket_Link"),
              ),
            ),
          ),
        );
      }
      class Z extends l.Component {
        state = { filter: "" };
        render() {
          const { store: e, onItemSelect: t } = this.props,
            { filter: a } = this.state,
            n = c.u.FilterStickers(e.GetStickerList(), a);
          return l.createElement(A, {
            title: (0, _.Xx)("#EmoticonPicker_StickerHeading"),
            items: n,
            onItemSelect: t,
            renderItem: (e) => l.createElement($, { sticker: e }),
            keyExtractor: ({ name: e }) => e,
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: a,
            onSubmit: () => t(n[0]),
            renderEmpty: () =>
              a
                ? l.createElement(N, null, (0, _.Xx)("#AddonPicker_NoResults"))
                : l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(
                      N,
                      null,
                      (0, _.Xx)(
                        "#AddonPicker_NoneOwned",
                        (0, _.Xx)("#AddonPicker_Stickers"),
                      ),
                    ),
                    l.createElement(
                      N,
                      null,
                      (0, _.kQ)(
                        "#AddonPicker_AcquireAtPointsShop",
                        l.createElement(
                          x.ns,
                          {
                            href: `${E.De.STORE_BASE_URL}points/shop/c/stickers`,
                          },
                          (0, _.Xx)("#AddonPicker_AcquireAtPointsShop_Link"),
                        ),
                      ),
                    ),
                  ),
          });
        }
      }
      class K extends l.Component {
        state = { filter: "" };
        render() {
          const { store: e, effectSettings: t, onItemSelect: a } = this.props,
            { filter: n } = this.state,
            i = e.GetEffectList().filter(({ name: e }) => e.indexOf(n) > -1);
          return l.createElement(A, {
            title: (0, _.Xx)("#EmoticonPicker_EffectHeading"),
            items: i,
            onItemSelect: a,
            renderItem: (e) =>
              l.createElement(te, { effect: e, roomEffectSettings: t }),
            keyExtractor: ({ name: e }) => e,
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: n,
            onSubmit: () => a(i[0]),
            renderEmpty: () =>
              n
                ? l.createElement(N, null, (0, _.Xx)("#AddonPicker_NoResults"))
                : l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(
                      N,
                      null,
                      (0, _.Xx)(
                        "#AddonPicker_NoneOwned",
                        (0, _.Xx)("#AddonPicker_RoomEffects"),
                      ),
                    ),
                    l.createElement(
                      N,
                      null,
                      (0, _.kQ)(
                        "#AddonPicker_AcquireAtPointsShop",
                        l.createElement(
                          x.ns,
                          {
                            href: `${E.De.STORE_BASE_URL}points/shop/c/chateffects`,
                          },
                          (0, _.Xx)("#AddonPicker_AcquireAtPointsShop_Link"),
                        ),
                      ),
                    ),
                  ),
          });
        }
      }
      let Q = class extends l.Component {
        state = { filter: "" };
        render() {
          const {
              store: e,
              hoverStore: t,
              onItemSelect: a,
              flairGroupID: n,
            } = this.props,
            { filter: i } = this.state,
            r = [];
          return (
            O(e).length &&
              r.push({
                title: (0, _.Xx)("#AddonPicker_RecentEmoticons"),
                items: c.u.FilterEmoticons(O(e), i),
                onItemSelect: a,
                renderItem: (e) =>
                  l.createElement(J, { emoticon: e, emoticonHoverStore: t }),
                keyExtractor: (e) => e.name,
                renderEmpty: () =>
                  l.createElement(
                    N,
                    null,
                    i
                      ? (0, _.Xx)("#AddonPicker_NoResults")
                      : (0, _.Xx)(
                          "#AddonPicker_NoRecent",
                          (0, _.Xx)("#AddonPicker_Emoticons"),
                        ),
                  ),
              }),
            l.createElement(w, {
              onFilterChange: (e) => this.setState({ filter: e }),
              filter: i,
              sections: [
                ...r,
                {
                  title: (0, _.Xx)("#AddonPicker_AllEmoticons"),
                  items: c.u.FilterStickers(e.emoticon_list, i).slice(0, 1e3),
                  onItemSelect: a,
                  renderItem: (e) =>
                    l.createElement(J, { emoticon: e, emoticonHoverStore: t }),
                  keyExtractor: (e) => e.name,
                  renderEmpty: () =>
                    i
                      ? l.createElement(
                          N,
                          null,
                          (0, _.Xx)("#AddonPicker_NoResults"),
                        )
                      : l.createElement(z, null),
                },
              ],
            })
          );
        }
      };
      Q = (0, n.gn)([r.Pi], Q);
      let Y = class extends l.Component {
        state = { filter: "" };
        render() {
          const {
              store: e,
              hoverStore: t,
              onItemSelect: a,
              flairGroupID: n,
            } = this.props,
            { filter: i } = this.state;
          return l.createElement(w, {
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: i,
            sections: [
              {
                title: (0, _.Xx)("#ChatEntryButton_Flair"),
                items: c.u.FilterStickers(e.GetFlairListByGroupID(n), i),
                onItemSelect: a,
                renderItem: (e) =>
                  l.createElement(J, { emoticon: e, emoticonHoverStore: t }),
                keyExtractor: (e) => e.name,
                renderEmpty: () =>
                  i
                    ? l.createElement(
                        N,
                        null,
                        (0, _.Xx)("#AddonPicker_NoResults"),
                      )
                    : l.createElement(z, null),
              },
            ],
          });
        }
      };
      Y = (0, n.gn)([r.Pi], Y);
      const J = (e) => {
        const { emoticon: t, emoticonHoverStore: a, large: n } = e,
          i = !t.last_used && t.time_received;
        return l.createElement(
          "div",
          { className: G().EmoticonItem },
          l.createElement(L, {
            emoticon: t.name,
            emoticonHoverStore: a,
            large: n,
          }),
          i && l.createElement(ne, null),
        );
      };
      class $ extends l.Component {
        state = { showHover: !1 };
        m_ref = l.createRef();
        render() {
          const { sticker: e, className: t, ...a } = this.props,
            n = g(E.De.COMMUNITY_CDN_URL, e.name);
          return l.createElement(
            "div",
            {
              ref: this.m_ref,
              className: (0, p.Z)(t, G().StickerButton),
              onMouseOver: () => this.setState({ showHover: !0 }),
              onFocus: () => this.setState({ showHover: !0 }),
              onMouseLeave: () => this.setState({ showHover: !1 }),
              onBlur: () => this.setState({ showHover: !1 }),
              ...a,
            },
            l.createElement("img", { style: { width: "100%" }, src: n }),
            this.state.showHover &&
              l.createElement(ee, { target: this.m_ref.current, sticker: e }),
          );
        }
      }
      const ee = (0, r.Pi)((e) => {
        const {
            target: t,
            sticker: { name: a, appid: n },
          } = e,
          [i] = (0, m.vs)(n, {});
        return l.createElement(
          M,
          { target: t, title: a, subtitle: i?.GetName() },
          l.createElement("img", {
            src: g(E.De.COMMUNITY_CDN_URL, a),
            className: G().StickerHoverSticker,
          }),
        );
      });
      class te extends l.Component {
        state = { showHover: !1 };
        m_ref = l.createRef();
        render() {
          const {
              effect: e,
              roomEffectSettings: t,
              className: a,
              ...n
            } = this.props,
            i = t[e.name];
          return l.createElement(
            "div",
            {
              ref: this.m_ref,
              onMouseOver: () => this.setState({ showHover: !0 }),
              onFocus: () => this.setState({ showHover: !0 }),
              onMouseLeave: () => this.setState({ showHover: !1 }),
              onBlur: () => this.setState({ showHover: !1 }),
              className: (0, p.Z)(a, G().EffectButton),
              ...n,
            },
            i.renderEffectIcon(),
            this.state.showHover &&
              l.createElement(ae, {
                target: this.m_ref.current,
                effect: e,
                roomEffectSettings: t,
              }),
          );
        }
      }
      const ae = (0, r.Pi)((e) => {
        const {
            target: t,
            effect: { name: a, appid: n },
            roomEffectSettings: i,
          } = e,
          r = i[a],
          [s] = (0, m.vs)(n, {});
        return l.createElement(
          M,
          { target: t, title: a, subtitle: s?.GetName() },
          l.createElement(
            "div",
            { className: G().EffectHoverEffect },
            r.renderEffectIcon(),
          ),
        );
      });
      function ne() {
        return l.createElement(
          "div",
          { className: G().NewEmoticonIndicator },
          l.createElement("div", { className: G().NewEmoticonCircle }),
        );
      }
      class ie extends l.Component {
        constructor(e) {
          super(e), (this.state = { visible: !1 });
        }
        SetVisible(e) {
          e && !this.state.visible && this.setState({ visible: !0 });
        }
        componentDidMount() {
          this.props.coordinator.RegisterChild(
            s.findDOMNode(this),
            this.SetVisible,
          );
        }
        componentWillUnmount() {
          this.props.coordinator.UnregisterChild(s.findDOMNode(this));
        }
        render() {
          let e = this.props.emoticon,
            t = [G().EmoticonSelector_Item],
            a = !1;
          return (
            !e.last_used &&
              e.time_received &&
              (t.push(G().EmoticonSelector_Item_New), (a = !0)),
            l.createElement(
              "div",
              {
                className: (0, p.Z)(...t),
                "data-emoticon": e.name,
                onClick: this.props.onClick,
              },
              this.state.visible &&
                l.createElement(L, {
                  emoticonHoverStore: this.props.emoticonHoverStore,
                  emoticon: e.name,
                  large: !0,
                }),
              a && l.createElement(ne, null),
            )
          );
        }
      }
      function re(e) {
        return l.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 36 36",
            fill: "none",
            ...e,
          },
          l.createElement("path", {
            fill: "currentColor",
            d: "M8 4C5.79086 4 4 5.79086 4 8V27C4 29.2091 5.79086 31 8 31H13V20C13 16.134 16.134 13 20 13H31V8C31 5.79086 29.2091 4 27 4H8Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M16 20C16 17.7909 17.7909 16 20 16H31L16 31V20Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M29 24.0625V25C29 25.2671 28.9738 25.5282 28.9239 25.7806L30.8858 26.1688C30.9609 25.7892 31 25.3982 31 25V24.0625H29Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M28.3263 27.2225C28.0342 27.6587 27.6587 28.0342 27.2225 28.3263L28.3351 29.9882C28.9885 29.5507 29.5507 28.9885 29.9882 28.3351L28.3263 27.2225Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M21 29H22.1875V31H19L21 29Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M24.0625 29H25C25.2671 29 25.5282 28.9738 25.7806 28.9239L26.1688 30.8858C25.7892 30.9609 25.3982 31 25 31H24.0625V29Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M29 22.1875V21L31 19V22.1875H29Z",
          }),
        );
      }
      function le(e) {
        return l.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 36 36",
            fill: "none",
            ...e,
          },
          l.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M18 3C15.0333 3 12.1332 3.87973 9.66645 5.52796C7.19972 7.17618 5.27713 9.51886 4.14181 12.2597C3.0065 15.0006 2.70945 18.0166 3.28823 20.9264C3.86701 23.8361 5.29562 26.5088 7.3934 28.6066C9.49119 30.7044 12.1639 32.133 15.0737 32.7118C17.9834 33.2906 20.9994 32.9935 23.7403 31.8582C26.4811 30.7229 28.8238 28.8003 30.472 26.3336C32.1203 23.8668 33 20.9667 33 18C33 16.0302 32.612 14.0796 31.8582 12.2597C31.1044 10.4399 29.9995 8.78628 28.6066 7.3934C27.2137 6.00052 25.5601 4.89563 23.7403 4.14181C21.9204 3.38799 19.9698 3 18 3ZM9.00001 15C9.00001 14.4067 9.17595 13.8266 9.5056 13.3333C9.83524 12.8399 10.3038 12.4554 10.852 12.2284C11.4001 12.0013 12.0033 11.9419 12.5853 12.0576C13.1672 12.1734 13.7018 12.4591 14.1213 12.8787C14.5409 13.2982 14.8266 13.8328 14.9424 14.4147C15.0581 14.9967 14.9987 15.5999 14.7716 16.1481C14.5446 16.6962 14.1601 17.1648 13.6667 17.4944C13.1734 17.8241 12.5934 18 12 18C11.2044 18 10.4413 17.6839 9.87869 17.1213C9.31608 16.5587 9.00001 15.7956 9.00001 15ZM24 18C23.4067 18 22.8266 17.8241 22.3333 17.4944C21.8399 17.1648 21.4554 16.6962 21.2284 16.1481C21.0013 15.5999 20.9419 14.9967 21.0576 14.4147C21.1734 13.8328 21.4591 13.2982 21.8787 12.8787C22.2982 12.4591 22.8328 12.1734 23.4147 12.0576C23.9967 11.9419 24.5999 12.0013 25.1481 12.2284C25.6962 12.4554 26.1648 12.8399 26.4944 13.3333C26.8241 13.8266 27 14.4067 27 15C27 15.7956 26.6839 16.5587 26.1213 17.1213C25.5587 17.6839 24.7957 18 24 18ZM26.3149 23.6788C26.7672 22.8295 27 21.9193 27 21H18H9C9 21.9193 9.23279 22.8295 9.68508 23.6788C10.1374 24.5281 10.8003 25.2997 11.636 25.9497C12.4718 26.5998 13.4639 27.1154 14.5558 27.4672C15.6478 27.8189 16.8181 28 18 28C19.1819 28 20.3522 27.8189 21.4442 27.4672C22.5361 27.1154 23.5282 26.5998 24.364 25.9497C25.1997 25.2997 25.8626 24.5281 26.3149 23.6788Z",
          }),
        );
      }
      function se(e) {
        return l.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 36 36",
            fill: "none",
            ...e,
          },
          l.createElement("path", {
            fill: "currentColor",
            d: "M14.7163 7.6875L17.2476 15.5344C17.564 16.6102 18.4499 17.4328 19.5257 17.8125L27.3726 20.3438L19.5257 22.875C18.4499 23.1914 17.6273 24.0773 17.2476 25.1531L14.7163 33L12.1851 25.1531C11.8687 24.0773 10.9827 23.2547 9.90696 22.875L2.06009 20.3438L9.90696 17.8125C10.9827 17.4961 11.8054 16.6102 12.1851 15.5344L14.7163 7.6875Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M24.488 3L25.7861 7.06499C25.9591 7.63321 26.3918 8.07031 26.9543 8.24514L30.9784 9.55643L26.9543 10.8677C26.3918 11.0426 25.9591 11.4796 25.7861 12.0479L24.488 16.1129L23.1899 12.0479C23.0168 11.4796 22.5841 11.0426 22.0216 10.8677L17.9976 9.55643L22.0216 8.24514C22.5841 8.07031 23.0168 7.63321 23.1899 7.06499L24.488 3Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M8.11778 3.9375L8.76682 5.99185C8.85336 6.25411 9.0697 6.47265 9.32932 6.56007L11.363 7.21571L9.32932 7.87136C9.0697 7.95878 8.85336 8.17732 8.76682 8.43958L8.11778 10.4939L7.46874 8.43958C7.3822 8.17732 7.16586 7.95878 6.90624 7.87136L4.87259 7.21571L6.90624 6.56007C7.16586 6.47265 7.3822 6.25411 7.46874 5.99185L8.11778 3.9375Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M30.6178 12.375L31.2668 14.4293C31.3534 14.6916 31.5697 14.9102 31.8293 14.9976L33.863 15.6532L31.8293 16.3089C31.5697 16.3963 31.3534 16.6148 31.2668 16.8771L30.6178 18.9314L29.9687 16.8771C29.8822 16.6148 29.6659 16.3963 29.4062 16.3089L27.3726 15.6532L29.4062 14.9976C29.6659 14.9102 29.8822 14.6916 29.9687 14.4293L30.6178 12.375Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M25.9303 24.5625L26.5793 26.6168C26.6659 26.8791 26.8822 27.0977 27.1418 27.1851L29.1755 27.8407L27.1418 28.4964C26.8822 28.5838 26.6659 28.8023 26.5793 29.0646L25.9303 31.1189L25.2812 29.0646C25.1947 28.8023 24.9784 28.5838 24.7187 28.4964L22.6851 27.8407L24.7187 27.1851C24.9784 27.0977 25.1947 26.8791 25.2812 26.6168L25.9303 24.5625Z",
          }),
        );
      }
      function oe(e) {
        const { className: t, ...a } = e;
        return l.createElement(
          "svg",
          {
            className: (0, p.Z)("SVGIcon_Button SVGIcon_Clock", t),
            version: "1.1",
            x: "0px",
            y: "0px",
            width: "20px",
            height: "20px",
            viewBox: "0 0 24 24",
            ...a,
          },
          l.createElement("path", {
            d: "M15.999 15c-.15 0-.303-.034-.446-.105l-4-2A1.001 1.001 0 0111 12V5a1 1 0 012 0v6.382l3.447 1.724A1 1 0 0115.999 15zM12 24C5.383 24 0 18.617 0 12S5.383 0 12 0s12 5.383 12 12-5.383 12-12 12zm0-22C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2z",
          }),
        );
      }
      (0, n.gn)([h.ak], ie.prototype, "SetVisible", null);
    },
    63109: (e, t, a) => {
      "use strict";
      a.d(t, { Z: () => S });
      var n = a(85556),
        i = a(47427),
        r = a(27605),
        l = a(20417),
        s = a(82493),
        o = a(91618),
        c = a(95315),
        m = a(33682),
        d = a(31846),
        u = a(13129),
        p = a(87368),
        _ = a.n(p),
        h = a(7686);
      const g = 1576780700;
      let E = class extends i.Component {
        OnEmoticonClick(e) {
          const {
            emoticonStore: t,
            strFlairGroupID: a,
            SetUIDisplayPref: n,
            contextOptions: r,
            bShowChatAddons: l,
          } = this.props;
          let s = null;
          if (
            ((s = l
              ? i.createElement(m.hp, {
                  emoticonStore: this.props.emoticonStore,
                  emoticonHoverStore: this.props.emoticonHoverStore,
                  strFlairGroupID: this.props.strFlairGroupID,
                  onEmoticonSelected: (e) =>
                    this.props.OnEmoticonSelected(e, !1),
                  roomEffectSettings: this.props.roomEffectSettings,
                  onRoomEffectSelected: this.props.onRoomEffectSelected,
                  onStickerSelected: this.props.onStickerSelected,
                })
              : a && t.flair_list && t.GetFlairListByGroupID(a)?.length > 0
                ? i.createElement(m.uC, {
                    emoticonStore: this.props.emoticonStore,
                    emoticonHoverStore: this.props.emoticonHoverStore,
                    strFlairGroupID: this.props.strFlairGroupID,
                    OnSelected: this.props.OnEmoticonSelected,
                  })
                : i.createElement(m.ag, {
                    emoticonStore: this.props.emoticonStore,
                    emoticonHoverStore: this.props.emoticonHoverStore,
                    strFlairGroupID: this.props.strFlairGroupID,
                    OnSelected: this.props.OnEmoticonSelected,
                  })),
            (0, c.yV)(
              s,
              e,
              r || {
                bOverlapHorizontal: !0,
                bPreferPopLeft: !0,
                bPreferPopTop: !0,
              },
            ),
            this.BHaveUnseenEmoticons() && n)
          ) {
            let e = this.GetNewestIndicatorTime();
            (!e || e < g) && (e = g), n("rtLastAckedNewEmoticons", e);
          }
        }
        GetNewestIndicatorTime() {
          let e = this.props.emoticonStore,
            t = Number.MIN_SAFE_INTEGER,
            a = e.GetTimeReceivedNewestEmoticon();
          a && (t = a);
          let n = e.GetTimeReceivedForStickerOrEffect();
          return (t = Math.max(n, t)), t > Number.MIN_SAFE_INTEGER ? t : void 0;
        }
        BHaveUnseenEmoticons() {
          const { rtLastAckedNewEmoticons: e } = this.props;
          let t = this.GetNewestIndicatorTime();
          return !e || e < g || (t && (!e || e < t));
        }
        render() {
          const { disabled: e, className: t, ttip: a, useImg: n } = this.props;
          let r = [t],
            l = !1;
          return (
            e ? r.push("disabled") : this.BHaveUnseenEmoticons() && (l = !0),
            a && r.push("ttip"),
            n
              ? i.createElement(
                  o.s,
                  {
                    onClick: this.OnEmoticonClick,
                    onOKActionDescription: (0, d.Xx)(
                      "#ChatEntryButton_Emoticon",
                    ),
                    focusable: !0,
                  },
                  i.createElement("img", {
                    src: this.props.useImg,
                    className: (0, u.Z)(...r),
                    title:
                      this.props.title ||
                      (0, d.Xx)("#ChatEntryButton_Emoticon"),
                    "data-tooltip-text": a,
                  }),
                )
              : (r.push(_().chatSubmitButton, _().EmoticonPickerButton),
                i.createElement(
                  s.wl,
                  {
                    className: (0, u.Z)(...r),
                    onOKActionDescription: (0, d.Xx)(
                      "#ChatEntryButton_Emoticon",
                    ),
                    type: "button",
                    onClick: this.OnEmoticonClick,
                    title:
                      this.props.title ||
                      (0, d.Xx)("#ChatEntryButton_Emoticon"),
                    disabled: e,
                    "data-tooltip-text": a,
                  },
                  this.props.buttonIcon || i.createElement(h.tk, null),
                  l && i.createElement(m.D3, null),
                ))
          );
        }
      };
      (0, n.gn)([l.ak], E.prototype, "OnEmoticonClick", null),
        (E = (0, n.gn)([r.Pi], E));
      const S = E;
    },
    93803: (e, t, a) => {
      "use strict";
      a.d(t, { d: () => Kt });
      var n = a(85556),
        i = a(47427),
        r = a(31932),
        l = a(20142),
        s = a(29525),
        o = a(60646),
        c = a(33682),
        m = a(13499),
        d = a(23231);
      class u extends l.DX {
        m_LinkFilter = m.H7;
        m_parentNode = void 0;
        m_mapHostToComponent;
        m_globalStoreLink;
        constructor(e, t, a, n) {
          super(e),
            (this.m_parentNode = t),
            (this.m_mapHostToComponent = a),
            (this.m_globalStoreLink = n);
        }
        AppendText(e, t = !1) {
          let a = e;
          if (
            t &&
            (null == this.m_parentNode || "img" != this.m_parentNode.tag)
          ) {
            let e = this.m_LinkFilter.exec(a);
            for (; e; ) {
              if (e.index > 0) {
                let a = e.input.substr(0, e.index);
                super.AppendText(a, t);
              }
              let n = e[0],
                i = !1;
              if (this.m_mapHostToComponent)
                for (let e = 0; e < this.m_mapHostToComponent.length; ++e)
                  if (this.m_mapHostToComponent[e].urlRegExp.exec(n)) {
                    (i = !0),
                      super.AppendNode(
                        this.m_mapHostToComponent[e].fnBBComponent(
                          n,
                          this.m_globalStoreLink,
                        ),
                      );
                    break;
                  }
              i || super.AppendNode((0, d.hF)(n)),
                (a = e.input.substr(e.index + n.length)),
                (e = this.m_LinkFilter.exec(a));
            }
          }
          a.length > 0 && super.AppendText(a, t);
        }
      }
      class p extends l.DX {
        m_EmoteRegex = new RegExp("[ː:]([a-zA-Z0-9_]+)[ː:]");
        AppendText(e, t = !1) {
          let a = e;
          if (e.length >= 3) {
            let e = this.m_EmoteRegex.exec(a);
            for (; e; ) {
              if (e.index > 0) {
                let a = e.input.substr(0, e.index);
                super.AppendText(a, t);
              }
              let n = e[1];
              super.AppendNode(
                i.createElement(
                  c.tk,
                  { emoticonHoverStore: o.$, emoticon: n },
                  [],
                ),
              ),
                (a = e.input.substr(e.index + n.length + 2)),
                (e = this.m_EmoteRegex.exec(a));
            }
          }
          a.length > 0 && super.AppendText(a, t);
        }
      }
      class _ extends l.DX {
        m_parentNode = void 0;
        constructor(e, t) {
          super(e), (this.m_parentNode = t);
        }
        AppendText(e, t = !1) {
          let a = e;
          this.m_parentNode &&
            "img" == this.m_parentNode.tag &&
            (a = (0, m.et)(a)),
            super.AppendText(a, t);
        }
      }
      var h = a(20417),
        g = a(89e3),
        E = a(35427),
        S = a(45010),
        v = a(14411),
        D = a.n(v),
        f = a(90286),
        y = a(29480),
        b = a(16649),
        I = a(31846),
        C = a(37563);
      const k = (e) => /^\d+$/.test(e);
      function A(e) {
        const { sharedFileID: t } = e,
          a = (0, y.T)("SharedFileSnippet"),
          [n, r] = (0, i.useState)(!1),
          [l, s] = (0, i.useState)(() => ({
            sharedfileid: t,
            title: (0, I.Xx)("#Loading"),
            description: "",
            type: "",
            previewurl: "",
            appid: 0,
            url: C.De.COMMUNITY_BASE_URL + "sharedfiles/filedetails/?id=" + t,
          }));
        (0, i.useEffect)(() => {
          (async () => {
            try {
              const e = await f.A.LoadSharedFileDynamicData([t], a);
              if (!a.token.reason && e.length > 0) {
                const t = e[0];
                k(t.url) &&
                  (t.url =
                    C.De.COMMUNITY_BASE_URL +
                    "sharedfiles/filedetails/?id=" +
                    t.url),
                  s(t),
                  console.log(e[0]),
                  r(!0);
              }
            } catch (e) {
              const t = (0, b.l)(e);
              console.error("SharedFileSnippet: " + t.strErrorMsg, t);
            }
          })();
        }, [a, t]);
        let o = void 0 !== l.personnaname && l.personnaname.length > 0;
        return i.createElement(
          "a",
          {
            href: l.url,
            className: D().DynamicLinkBox,
            "data-modal-content-sizetofit": !!l.bSizeToFit,
            "data-appid": l.appid,
            "data-publishedfileid": t,
          },
          i.createElement("img", {
            className: D().DynamicLink_Preview,
            src: l.previewurl,
          }),
          i.createElement(
            "div",
            { className: D().DynamicLink_Content },
            i.createElement(
              "div",
              { className: D().DynamicLink_Name },
              l.title,
            ),
            i.createElement(
              "div",
              null,
              i.createElement(
                "span",
                { className: D().DynamicLink_Type },
                l.type,
              ),
            ),
            o &&
              i.createElement(
                "div",
                { className: D().DynamicLink_Author },
                (0, I.kQ)(
                  "#EventEditor_Author",
                  i.createElement(
                    "span",
                    { className: D().DynamicLink_AuthorName },
                    l.personnaname,
                  ),
                ),
              ),
            i.createElement(
              "div",
              { className: D().DynamicLink_Description },
              l.description,
            ),
          ),
        );
      }
      var w = a(62613),
        P = a(13129),
        T = a(80751),
        N = a.n(T),
        R = a(27605),
        G = a(77936),
        x = a(62698),
        L = a(93243),
        B = a(44174),
        M = a(15690),
        O = a(46882),
        F = a(28918),
        U = a(81913);
      let H = class extends i.Component {
        state = {
          bLoading: this.props.announcementGID
            ? !B.j1.BHasClanAnnouncementGID(this.props.announcementGID)
            : !B.j1.BHasClanAnnouncementGID(this.props.eventGID),
          bFailedLoad: !1,
        };
        m_cancelSignal = N().CancelToken.source();
        componentDidMount() {
          this.HandleLoadEventInfo();
        }
        async HandleLoadEventInfo() {
          const {
            appid: e,
            strVanity: t,
            announcementGID: a,
            eventGID: n,
            strGroupVanity: i,
          } = this.props;
          let r = this.props.clanSteamID;
          try {
            if (this.state.bLoading) {
              if (void 0 !== t) {
                r = (await L.sV.LoadOGGClanInfoForIdentifier(t)).clanSteamID;
              } else if (void 0 !== i) {
                r = (await L.sV.LoadOGGClanInfoForGroupVanity(i)).clanSteamID;
              }
              const l = B.j1.LoadPartnerEventGeneric(r, e, n, a, 0);
              let s = await l;
              await Promise.all([
                M.Z.Get().QueueAppRequest(s.appid, {
                  include_assets: !0,
                  include_basic_info: !0,
                  include_release: !0,
                }),
              ]),
                this.setState({ bFailedLoad: !1, bLoading: !1 });
            }
          } catch (e) {
            this.HandleError(e);
          }
        }
        HandleError(e) {
          let t = (0, b.l)(e);
          const {
            eventGID: a,
            announcementGID: n,
            strGroupVanity: i,
            strVanity: r,
          } = this.props;
          console.error(
            "EventSnippet hit error on announceGID " +
              n +
              " eventGID " +
              a +
              " strVanity " +
              r +
              " strGroupVanity " +
              i +
              " error: " +
              t.strErrorMsg,
          ),
            this.setState({ bFailedLoad: !0 });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("component unmounted");
        }
        render() {
          const {
            appid: e,
            announcementGID: t,
            eventGID: a,
            strURL: n,
            fnFilterImageURLsForKnownFailures: r,
            fnImageFailureCallback: l,
          } = this.props;
          if (this.state.bFailedLoad) return (0, d.hF)(n);
          if (this.state.bLoading) return i.createElement(O.V, null);
          let s =
            void 0 !== t
              ? B.j1.GetClanEventFromAnnouncementGID(t)
              : B.j1.GetClanEventModel(a);
          if (null == s) return (0, d.hF)(n);
          let o = (0, G.jM)(C.De.LANGUAGE),
            c = s.GetImageForSizeAsArrayWithFallback(
              "capsule",
              o,
              x.FN.capsule_main,
            );
          r && (c = r(c));
          let m = s.GetNameWithFallback(o),
            u = s.GetSubTitleWithSummaryFallback(o),
            p = M.Z.Get().GetApp(e)?.GetName(),
            _ = (0, I.$1)(s.GetStartTimeAndDateUnixSeconds());
          return i.createElement(
            U.JW,
            {
              eventModel: s,
              route: U.Ue.k_eView,
              className: D().DynamicLinkBox,
              "data-modal-content-sizetofit": !0,
              "data-appid": e,
            },
            i.createElement(F.j, {
              className: D().DynamicLink_Preview,
              rgSources: c,
              onIncrementalError: (e, t, a) => l && l(t),
            }),
            i.createElement(
              "div",
              { className: D().DynamicLink_Content },
              i.createElement(
                "div",
                { className: D().DynamicLink_Author },
                (0, I.Xx)(
                  28 == s.type
                    ? "#EventDisplay_Share_Announcement"
                    : "#EventDisplay_Share_Event",
                  p,
                ),
                i.createElement("span", { className: D().DynamicLink_Date }, _),
              ),
              i.createElement(
                "div",
                { className: D().DynamicLink_Name },
                i.createElement("div", { className: D().DynamicLink_Type }, m),
              ),
              i.createElement(
                "div",
                { className: D().DynamicLink_Description },
                u,
              ),
            ),
          );
        }
      };
      H = (0, n.gn)([R.Pi], H);
      var V = a(11448),
        X = a.n(V),
        j = a(64245),
        q = a.n(j);
      let W = class extends i.Component {
        state = { bSummaryMode: !0, bLoadedMetaData: !1 };
        async componentDidMount() {
          let e =
            "https://sketchfab.com/oembed?url=https://sketchfab.com/models/" +
            this.props.modelID;
          try {
            let t = await N().get(e);
            this.setState({ bLoadedMetaData: !0, data: t.data });
          } catch (e) {
            this.setState({ bError: !0 }),
              console.error(
                "SketchFabEmbed failed to load: " + (0, b.l)(e).strErrorMsg,
              );
          }
        }
        OnSketchFabClick() {
          this.state.bLoadedMetaData && this.setState({ bSummaryMode: !1 });
        }
        render() {
          const { modelID: e } = this.props;
          return this.state.bError
            ? i.createElement(
                "div",
                {
                  className: q().dynamiclink_box,
                  onClick: this.OnSketchFabClick,
                },
                i.createElement("span", null, e),
                i.createElement(
                  "span",
                  null,
                  (0, I.Xx)("#EventDisplay_SketchFab_Error_Network"),
                ),
              )
            : this.state.bSummaryMode
              ? i.createElement(
                  "div",
                  {
                    className: q().dynamiclink_box,
                    onClick: this.OnSketchFabClick,
                  },
                  Boolean(this.state.bLoadedMetaData)
                    ? i.createElement(
                        i.Fragment,
                        null,
                        i.createElement("img", {
                          className: q().dynamiclink_preview,
                          src: this.state.data.thumbnail_url,
                        }),
                        i.createElement("img", {
                          className: q().sketchfab_play_overlay_image,
                        }),
                        i.createElement(
                          "div",
                          { className: q().dynamiclink_content },
                          i.createElement(
                            "div",
                            { className: q().dynamiclink_name },
                            i.createElement(
                              "span",
                              { className: q().dynamiclink_type },
                              (0, I.Xx)("#EventDisplay_Sketchfab"),
                            ),
                            i.createElement(
                              "div",
                              null,
                              this.state.data.title,
                              " ",
                            ),
                          ),
                          i.createElement(
                            "div",
                            { className: q().dynamiclink_author },
                            this.state.data.author_name,
                          ),
                        ),
                      )
                    : i.createElement(O.V, { size: "medium" }),
                )
              : i.createElement(
                  "div",
                  { className: q().sketchfabmodelembedded },
                  i.createElement("iframe", {
                    className: q().sketchfabmodelembedded,
                    src:
                      "https://sketchfab.com/models/" +
                      this.props.modelID +
                      "/embed?autostart=1",
                    frameBorder: 0,
                    allowFullScreen: !0,
                  }),
                );
        }
      };
      (0, n.gn)([h.ak], W.prototype, "OnSketchFabClick", null),
        (W = (0, n.gn)([R.Pi], W));
      var z = a(54842),
        Z = a(79545),
        K = a(77581),
        Q = a(88016),
        Y = a(62210),
        J = a(45492);
      class $ {
        m_mapDefIDtoDefinition = new Map();
        m_mapDefIDToPromise = new Map();
        m_defChangeCallback = new Map();
        m_mapCategoryAndClassToItems = new Map();
        m_mapCategoryAndClassToPromise = new Map();
        m_defCategoryAndClassToChangeCallback = new Map();
        m_SteamInterface = null;
        GetItem(e) {
          return this.m_mapDefIDtoDefinition.get(e);
        }
        GetItemChangeCallback(e) {
          return (
            this.m_defChangeCallback.has(e) ||
              this.m_defChangeCallback.set(e, new J.pB()),
            this.m_defChangeCallback.get(e)
          );
        }
        GetKeyCategoryAndClass(e, t) {
          return e + "_" + t;
        }
        GetItemsByCategoryAndClass(e, t) {
          const a = this.GetKeyCategoryAndClass(e, t);
          return this.m_mapCategoryAndClassToItems.get(a);
        }
        GetItemsByCategoryAndClassCallback(e, t) {
          const a = this.GetKeyCategoryAndClass(e, t);
          return (
            this.m_defCategoryAndClassToChangeCallback.has(a) ||
              this.m_defCategoryAndClassToChangeCallback.set(a, new J.pB()),
            this.m_defCategoryAndClassToChangeCallback.get(a)
          );
        }
        async LoadRewardDefinition(e) {
          return (
            this.m_mapDefIDToPromise.has(e) ||
              this.m_mapDefIDToPromise.set(
                e,
                this.InternalLoadRewardDefinition(e),
              ),
            this.m_mapDefIDToPromise.get(e)
          );
        }
        async InternalLoadRewardDefinition(e) {
          if (this.m_mapDefIDtoDefinition.has(e))
            return this.m_mapDefIDtoDefinition.get(e);
          const t = Z.gA.Init(Q.eQ);
          t.Body().set_definitionids([e]);
          let a = null;
          try {
            const n = await Q.pQ.QueryRewardItems(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            if (1 == n.GetEResult() && n.Body().definitions()?.length > 0) {
              (0, Y.X)(
                1 == n.Body().definitions()?.length,
                `Requested definition ID ${e} and receive # ${n.Body().definitions()?.length}, expecting exactly one.`,
              );
              const t = n.Body().definitions()[0].toObject();
              return (
                this.m_mapDefIDtoDefinition.set(e, t),
                this.GetItemChangeCallback(e).Dispatch(t),
                t
              );
            }
            a = (0, b.l)(n);
          } catch (e) {
            a = (0, b.l)(e);
          }
          return (
            console.error(
              "CLoyaltyRewardDefinitionStore.LoadRewardDefinition failed: " +
                a?.strErrorMsg,
              a,
            ),
            null
          );
        }
        async LoadRewardDefinitionByCategoryAndClass(e, t) {
          const a = this.GetKeyCategoryAndClass(e, t);
          return (
            this.m_mapCategoryAndClassToPromise.has(a) ||
              this.m_mapCategoryAndClassToPromise.set(
                a,
                this.InternalLoadRewardDefinitionByCategoryAndClass(e, t),
              ),
            this.m_mapCategoryAndClassToPromise.get(a)
          );
        }
        async InternalLoadRewardDefinitionByCategoryAndClass(e, t) {
          const a = this.GetKeyCategoryAndClass(e, t);
          if (this.m_mapCategoryAndClassToItems.has(a))
            return this.m_mapCategoryAndClassToItems.get(a);
          const n = Z.gA.Init(Q.eQ);
          n.Body().set_community_item_classes([t]),
            n.Body().set_filter_match_any_category_tags([e]);
          let i = null;
          try {
            const r = await Q.pQ.QueryRewardItems(
              this.m_SteamInterface.GetServiceTransport(),
              n,
            );
            if (1 == r.GetEResult() && r.Body().definitions()?.length > 0) {
              const n = r
                .Body()
                .definitions()
                .map((e) => e.toObject());
              return (
                n.forEach((e) => {
                  this.m_mapDefIDtoDefinition.has(e.defid) ||
                    (this.m_mapDefIDtoDefinition.set(e.defid, e),
                    this.GetItemChangeCallback(e.defid).Dispatch(e));
                }),
                this.m_mapCategoryAndClassToItems.set(a, n),
                this.GetItemsByCategoryAndClassCallback(e, t).Dispatch(n),
                ("dev" != C.De.WEB_UNIVERSE && "beta" != C.De.WEB_UNIVERSE) ||
                  console.log(
                    "CLoyaltyRewardDefinitionStore.LoadRewardDefinitionByCategoryAndClass loaded " +
                      n.length,
                  ),
                n
              );
            }
            i = (0, b.l)(r);
          } catch (e) {
            i = (0, b.l)(e);
          }
          return (
            console.error(
              "CLoyaltyRewardDefinitionStore.LoadRewardDefinitionByCategoryAndClass failed: " +
                i?.strErrorMsg,
              i,
            ),
            null
          );
        }
        static s_Singleton;
        static Get() {
          return (
            $.s_Singleton ||
              (($.s_Singleton = new $()),
              $.s_Singleton.Init(),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_LoyaltyRewardDefinitionStore = $.s_Singleton)),
            $.s_Singleton
          );
        }
        constructor() {}
        Init() {
          this.m_SteamInterface = new K.J(C.De.WEBAPI_BASE_URL);
        }
      }
      var ee = a(59728),
        te = a(60537),
        ae = a.n(te);
      function ne(e) {
        const { defid: t, url: a } = e,
          n = (function (e) {
            const [t, a] = (0, i.useState)($.Get().GetItem(e));
            return (
              (0, i.useEffect)(() => {
                t || $.Get().LoadRewardDefinition(e);
              }, [e, t]),
              (0, h.Qg)($.Get().GetItemChangeCallback(e), a),
              t
            );
          })(t);
        if (!n || !n.community_item_data) return null;
        const r = n.appid,
          l = n.community_item_data.item_image_large,
          s = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${r}/${l}`;
        return (
          "dev" == C.De.WEB_UNIVERSE &&
            console.log("reward itemdef", (0, z.ZN)(n)),
          i.createElement(
            "div",
            { className: ae().Ctn },
            i.createElement(
              ee.HP,
              { toolTipContent: n.community_item_data.item_description },
              i.createElement("img", {
                src: s,
                alt: n.community_item_data.item_title,
              }),
            ),
          )
        );
      }
      var ie = a(55999),
        re = a(96008),
        le = a(80886),
        se = a(86437);
      function oe(e) {
        const { inputType: t, id: a } = e,
          [n] = (0, le.jk)(a, (0, se.TM)(t), {});
        let r = "bundle" == t ? "bundle" : "sub" == t ? "sub" : "game";
        return i.createElement(
          "div",
          {
            className: (0, P.Z)(re.AppSummaryWidgetCtn, "AppSummaryWidgetCtn"),
          },
          i.createElement(ie.ju, {
            id: a,
            type: r,
            bShowDemoButton: 1 == n?.GetAppType(),
            bAllowTwoLinesForHeader: !0,
          }),
        );
      }
      const ce =
          /(?:steampowered\.com|valve\.org\/store|store\.\S+\.steam\.dev|store\.steamchina\.com)\/(app|bundle|sub)\/(\d+)/i,
        me =
          /(?:steamcommunity\.com|valve\.org\/community|steam\.dev\/community|community\.\S+\.steam\.dev|my\.steamchina\.com)\/(games|app|ogg|gid|groups)\/(\w+)\/(?:announcements\/detail|partnerevents\/view_old_announcement)\/(\d+)/i,
        de =
          /(?:steamcommunity\.com|valve\.org\/community|community\.\S+\.steam\.dev|steam\.dev\/community)\/(games|app|ogg|gid|groups)\/(\w+)\/partnerevents\/view\/(\d+)/i,
        ue =
          /(?:steampowered\.com|valve\.org\/store|store\.\S+\.steam\.dev|steam\.dev\/store|store\.steamchina\.com)\/(?:news|newshub)\/(group|app)\/(\w+)\/view\/(\d+)/i,
        pe = /:\/\/medal.tv\/(?:clip|clips)\/([a-z0-9]+)/i,
        _e = /sketchfab.com\/(?:models\/(?:[^\/\s]+-)?)([a-z0-9]{32})/i,
        he = /twitter\.com\/(\w+)(\/?)$/i,
        ge = /twitter\.com\/hashtag\/(\w+)(\/?)$/i,
        Ee = /twitch\.tv\/(\w+)(\/?)$/i,
        Se =
          /(?:steamcommunity\.com|valve\.org\/community|steam\.dev\/community|community\.\S+\.steam\.dev|my\.steamchina\.com)\/id\/(\w+)(\/?)$/i,
        ve =
          /(?:steampowered\.com|valve\.org\/store|steam\.dev\/store|store\.steamchina\.com)\/points\/shop\/.*reward\/(\d+)$/i;
      let De = null;
      function fe(e, t) {
        if ((0, C.h4)()) return null;
        const a = (0, g.S6)(e);
        return void 0 !== a?.strVideoID
          ? i.createElement(S.O, {
              videoID: a.strVideoID,
              nStartSeconds: a.nStartSeconds,
              classNameAlign: "",
              classNameSize: D().sizeFull,
              bShowVideoImmediately: !1,
            })
          : (0, d.hF)(e, t?.event);
      }
      function ye(e, t) {
        if ((0, C.h4)()) return null;
        const a = new RegExp(pe).exec(e);
        if (a && a.length > 1) {
          const e = a[1];
          if (e?.length > 0) {
            let a =
              "https://medal.tv/clip/" +
              e +
              "/?autoplay=0&donate=0" +
              (t && t.event ? "&steamappid=" + t.event.appid : "");
            return i.createElement("iframe", {
              className: V.MedalTVWidget,
              src: a,
              frameBorder: 0,
              allow: "autoplay",
            });
          }
        }
        return (0, d.hF)(e, t?.event);
      }
      function be(e, t) {
        let a = new RegExp(_e).exec(e);
        if (a && a.length > 1) {
          let e = a[1];
          if (e && e.length > 1) return i.createElement(W, { modelID: e });
        }
        return (0, d.hF)(e, t?.event);
      }
      function Ie(e, t) {
        const a = e.split("?");
        let n;
        if (2 == a.length) {
          const e = new URLSearchParams(a[1]);
          e.has("id") && (n = e.get("id"));
        }
        return void 0 !== n
          ? i.createElement(A, { sharedFileID: n })
          : (0, d.hF)(e, t?.event);
      }
      function Ce(e) {
        let t = (0, m.FM)(e).toLocaleLowerCase(),
          a = (0, m.FM)(C.De.STORE_BASE_URL),
          n = (0, m.FM)(C.De.COMMUNITY_BASE_URL);
        const i =
          "dev" === C.De.WEB_UNIVERSE ||
          (0, m.FM)(C.De.STORE_BASE_URL).endsWith(".steam.dev");
        return (
          t == a ||
          t == n ||
          (i &&
            (t.includes("steampowered.com") ||
              t.includes("steamcommunity.com") ||
              t.includes("steamchina.com")))
        );
      }
      function ke(e, t) {
        if (Ce(e)) {
          let t = new RegExp(ce).exec(e);
          if (t && t.length > 2) {
            let e = t[1],
              a = Number(t[2]);
            if (a > 0) return i.createElement(oe, { id: a, inputType: e });
          }
        }
        return (0, d.hF)(e, t?.event);
      }
      function Ae(e, t) {
        if (Ce(e)) {
          const t = new RegExp(ve).exec(e);
          if (t && t.length > 1) {
            const a = Number(t[1]);
            if (a > 0)
              return i.createElement(
                "div",
                { className: (0, P.Z)(V.LoyaltyRewardCtn) },
                i.createElement(ne, { defid: a, url: e }),
              );
          }
        }
        return (0, d.hF)(e, t?.event);
      }
      function we(e, t) {
        if (Ce(e)) {
          let t = new RegExp(me).exec(e);
          if (t && t.length > 2) {
            let a, n, r, l;
            "gid" == t[1]
              ? (n = new E.K(t[2]))
              : "groups" == t[1]
                ? (l = t[2])
                : isNaN(+t[2])
                  ? (r = t[2])
                  : (a = Number(t[2]));
            let s = t[3];
            if (
              ((void 0 !== a && a > 0) ||
                void 0 !== r ||
                void 0 !== l ||
                void 0 !== n) &&
              null != s &&
              s.length > 0
            )
              return i.createElement(H, {
                appid: a,
                clanSteamID: n,
                strVanity: r,
                strGroupVanity: l,
                announcementGID: s,
                strURL: e,
              });
          }
        }
        return (0, d.hF)(e, t?.event);
      }
      function Pe(e, t) {
        return Be(ue, e, t);
      }
      function Te(e, t) {
        return Be(de, e, t);
      }
      function Ne(e, t) {
        return (0, C.h4)() ? null : Le(e, i.createElement(w.tLe, null), "@", t);
      }
      function Re(e, t) {
        return (0, C.h4)() ? null : Le(e, i.createElement(w.tLe, null), "#", t);
      }
      function Ge(e, t) {
        return (0, C.h4)()
          ? null
          : Le(e, i.createElement(w.Lk$, null), void 0, t);
      }
      function xe(e, t) {
        return Le(e, i.createElement(w.ui7, null), void 0, t);
      }
      function Le(e, t, a, n) {
        let r;
        const l = e.endsWith("/") ? e.length - 1 : e.length,
          s = e.lastIndexOf("/", l - 1);
        -1 != s && s + 1 < e.length && (r = e.substring(s + 1, l)),
          a && r && (r = a + r);
        const o = (0, d.hF)(e, n?.event, r ?? e);
        return i.createElement(
          "div",
          { className: V.SocialLink },
          i.createElement("div", { className: V.SocialIcon }, t),
          o,
        );
      }
      function Be(e, t, a) {
        if (Ce(t)) {
          let a = new RegExp(e).exec(t);
          if (a && a.length > 2) {
            let e, n, r, l;
            "gid" == a[1]
              ? (n = new E.K(a[2]))
              : "group" == a[1]
                ? (n = E.K.InitFromClanID(Number.parseInt(a[2])))
                : "groups" == a[1]
                  ? (l = a[2])
                  : isNaN(+a[2])
                    ? (r = a[2])
                    : (e = Number(a[2]));
            const s = a[3];
            if (
              ((void 0 !== e && e > 0) ||
                void 0 !== r ||
                void 0 !== l ||
                void 0 !== n) &&
              null != s &&
              s.length > 0
            )
              return i.createElement(H, {
                appid: e,
                clanSteamID: n,
                strVanity: r,
                strGroupVanity: l,
                eventGID: s,
                strURL: t,
              });
          }
        }
        return (0, d.hF)(t, a?.event);
      }
      var Me = a(51688);
      class Oe {
        constructor() {
          (0, z.rC)(this);
        }
        exportFn = void 0;
        file = void 0;
        dataURL = void 0;
        uploadFileName;
        displayFileName;
        sha1;
        hmac;
        timestamp = 0;
        imageWidth = 0;
        imageHeight = 0;
        fileInfo;
        uploadInfo;
        eUploadState = 0;
        uploadProgress = 0;
        strErrorDescription = void 0;
      }
      (0, n.gn)([z.LO], Oe.prototype, "file", void 0),
        (0, n.gn)([z.LO], Oe.prototype, "dataURL", void 0),
        (0, n.gn)([z.LO], Oe.prototype, "imageWidth", void 0),
        (0, n.gn)([z.LO], Oe.prototype, "imageHeight", void 0),
        (0, n.gn)([z.LO], Oe.prototype, "eUploadState", void 0),
        (0, n.gn)([z.LO], Oe.prototype, "uploadProgress", void 0),
        (0, n.gn)([z.LO], Oe.prototype, "strErrorDescription", void 0);
      class Fe {
        m_Callbacks;
        m_fileUploadProps = new Oe();
        m_onComplete;
        constructor(e) {
          (0, z.rC)(this), (this.m_Callbacks = e);
        }
        get file_upload_props() {
          return this.m_fileUploadProps;
        }
        get file_upload_data_url() {
          return this.m_fileUploadProps.dataURL;
        }
        get file() {
          return this.m_fileUploadProps.file;
        }
        LogFileUploadMessage(e) {
          this.m_Callbacks.LogFileUploadMessage &&
            this.m_Callbacks.LogFileUploadMessage(e);
        }
        SetUploadFileError(e, t) {
          (this.m_fileUploadProps.eUploadState = e),
            (this.m_fileUploadProps.strErrorDescription = t),
            (this.m_fileUploadProps.displayFileName = null);
        }
        async StartFileExportToUpload(e, t = {}) {
          const { displayFilename: a, info: n, onComplete: i } = t;
          (this.m_fileUploadProps.eUploadState = 7),
            (this.m_fileUploadProps.uploadProgress = 0),
            (this.m_onComplete = i),
            (this.m_fileUploadProps.fileInfo = n),
            this.SetFileToUpload(e),
            (this.m_fileUploadProps.displayFileName = a);
        }
        async SetImageFileToUpload(e, t = {}) {
          const { processor: a = Ue, info: n } = t;
          if (!e) return void this.SetFileToUpload(null);
          this.m_fileUploadProps.fileInfo = n;
          const i = this.m_Callbacks.GetFileNameOverride?.() ?? e.name;
          if (e.size > 1024 * this.m_Callbacks.GetMaxFileSizeMB() * 1024)
            return void this.SetUploadFileError(
              4,
              (0, I.Xx)(
                "#Chat_Settings_Error_ChatFileTooLarge_dynamic",
                i,
                this.m_Callbacks.GetMaxFileSizeMB(),
              ),
            );
          let r = e.name.split(".").pop().toLowerCase();
          if (
            -1 ==
            [
              "jpg",
              "jpeg",
              "png",
              "gif",
              "webm",
              "mpg",
              "mp4",
              "mpeg",
              "ogv",
            ].indexOf(r)
          )
            return void this.SetUploadFileError(
              5,
              (0, I.Xx)("#Chat_Settings_Error_ChatFileTypeNotSupported", i),
            );
          const l = await a(e);
          this.SetFileToUpload(l.file),
            (this.m_fileUploadProps.imageHeight = l.height),
            (this.m_fileUploadProps.imageWidth = l.width);
        }
        async SetOtherFileToUpload(e, t = {}) {
          if (!e) return void this.SetFileToUpload(null);
          this.m_fileUploadProps.fileInfo = t.info;
          const a = this.m_Callbacks.GetFileNameOverride?.() ?? e.name;
          if (e.size > 1024 * this.m_Callbacks.GetMaxFileSizeMB() * 1024)
            return void this.SetUploadFileError(
              4,
              (0, I.Xx)(
                "#Chat_Settings_Error_ChatFileTooLarge_dynamic",
                a,
                this.m_Callbacks.GetMaxFileSizeMB(),
              ),
            );
          let n = e.name.split(".").pop().toLowerCase();
          -1 != ["zip"].indexOf(n)
            ? this.SetFileToUpload(e)
            : this.SetUploadFileError(
                5,
                (0, I.Xx)("#Chat_Settings_Error_ChatFileTypeNotSupported", a),
              );
        }
        SetFileToUpload(e) {
          if (
            ((this.m_fileUploadProps.file = null),
            (this.m_fileUploadProps.dataURL = null),
            (this.m_fileUploadProps.hmac = null),
            (this.m_fileUploadProps.sha1 = null),
            (this.m_fileUploadProps.imageWidth = 0),
            (this.m_fileUploadProps.imageHeight = 0),
            (this.m_fileUploadProps.displayFileName = null),
            !e)
          )
            return void (this.m_fileUploadProps.eUploadState = 0);
          let t = "";
          if ("function" == typeof e)
            (this.m_fileUploadProps.file = null),
              (this.m_fileUploadProps.exportFn = e);
          else {
            (this.m_fileUploadProps.file = e),
              (this.m_fileUploadProps.exportFn = null);
            try {
              t = URL.createObjectURL(e);
            } catch (e) {
              console.error(`Failed to created object URL from file: ${e}`);
            }
            (this.m_fileUploadProps.displayFileName =
              this.m_fileUploadProps.file.name),
              (this.m_fileUploadProps.uploadFileName =
                window.performance.now() +
                "_" +
                this.m_fileUploadProps.file.name);
          }
          this.m_fileUploadProps.eUploadState = 1;
          let a = "";
          for (; a.length < 40; )
            a += Math.floor(16 * Math.random()).toString(16);
          (this.m_fileUploadProps.dataURL = t),
            (this.m_fileUploadProps.sha1 = a),
            (this.m_fileUploadProps.hmac = ""),
            (this.m_fileUploadProps.timestamp = 0);
        }
        async RetryFileUpload() {
          return this.BeginFileUpload();
        }
        async BeginFileUpload(e) {
          if (
            ((this.m_fileUploadProps.uploadProgress = 0),
            this.m_fileUploadProps.exportFn)
          ) {
            this.m_fileUploadProps.eUploadState = 7;
            const { eResult: e, file: t } =
              await this.m_fileUploadProps.exportFn((e) => {
                (0, z.z)(() => {
                  this.m_fileUploadProps.uploadProgress = 0.5 * e;
                });
              });
            if (1 != e || !t)
              return (
                this.SetUploadFileError(
                  3,
                  (0, I.Xx)("#Chat_Settings_Error_ExportFailed"),
                ),
                new Response()
              );
            (this.m_fileUploadProps.file = t),
              (this.m_fileUploadProps.uploadFileName =
                window.performance.now() + "_" + t.name);
          }
          let t = this.m_fileUploadProps.file;
          if (!t)
            throw (
              ((0, Y.X)(
                !1,
                "Must SetImageFileToUpload before calling BeginFileUpload",
              ),
              new Error("Invalid State"))
            );
          (this.m_fileUploadProps.eUploadState = 2),
            (this.m_fileUploadProps.uploadInfo = e);
          let a = new FormData();
          a.append("sessionid", C.De.SESSIONID),
            a.append("l", C.De.LANGUAGE),
            a.append("file_size", t.size.toString()),
            a.append("file_name", this.m_fileUploadProps.uploadFileName),
            a.append("file_sha", this.m_fileUploadProps.sha1),
            a.append(
              "file_image_width",
              this.m_fileUploadProps.imageWidth.toString(),
            ),
            a.append(
              "file_image_height",
              this.m_fileUploadProps.imageHeight.toString(),
            ),
            a.append("file_type", t.type),
            this.m_Callbacks.PopulateBeginFileUploadFormData &&
              this.m_Callbacks.PopulateBeginFileUploadFormData(
                a,
                this.file_upload_props.uploadInfo,
                this.file_upload_props.fileInfo,
              );
          try {
            let e,
              t = await fetch(
                this.m_Callbacks.GetBeginFileUploadURL() +
                  `?l=${C.De.LANGUAGE}`,
                { method: "POST", body: a, credentials: "include" },
              );
            try {
              e = await t.json();
            } catch (e) {}
            if (!e || !e.result) throw new Error();
            if (!t.ok) {
              let a = null;
              throw (
                ((0, z.z)(() => {
                  (this.m_fileUploadProps.eUploadState = 3),
                    this.LogFileUploadMessage(t),
                    (a = e?.message
                      ? e?.message
                      : (0, I.Xx)("#Chat_Settings_Error_ServerError")),
                    (this.m_fileUploadProps.strErrorDescription = (0, I.Xx)(
                      "#Chat_Upload_ErrorStart",
                      a,
                    ));
                }),
                a)
              );
            }
            return (
              (this.m_fileUploadProps.timestamp = e.timestamp),
              (this.m_fileUploadProps.hmac = e.hmac),
              this.DoFileUpload(e.result)
            );
          } catch (e) {
            let t = e || (0, I.Xx)("#ConnectionTrouble_FailedToConnect");
            throw (
              ((0, z.z)(() => {
                (this.m_fileUploadProps.eUploadState = 3),
                  (this.m_fileUploadProps.strErrorDescription = (0, I.Xx)(
                    "#Chat_Upload_ErrorStart",
                    t,
                  ));
              }),
              t)
            );
          }
        }
        async DoFileUpload(e) {
          let t = this.m_fileUploadProps.file,
            a = e.use_https ? "https://" : "http://";
          a += e.url_host + e.url_path;
          let n = {
            onUploadProgress: (e) => {
              const t = !!this.m_fileUploadProps.exportFn,
                a = t ? 50 : 100,
                n = (t ? 50 : 0) + (e.loaded / e.total) * a;
              n > this.m_fileUploadProps.uploadProgress &&
                (0, z.z)(() => {
                  this.m_fileUploadProps.uploadProgress = n;
                });
            },
            headers: {},
            transformRequest: [(e) => e],
          };
          for (let t = 0; t < e.request_headers.length; ++t) {
            let a = e.request_headers[t];
            "Content-Length" != a.name &&
              "Host" != a.name &&
              (n.headers[a.name] = a.value);
          }
          try {
            return await N().put(a, t, n), this.CommitFileUpload(!0, e.ugcid);
          } catch (t) {
            throw (
              (this.LogFileUploadMessage(t.response),
              (0, z.z)(() => {
                (this.m_fileUploadProps.strErrorDescription = (0, I.Xx)(
                  "#Chat_Upload_ErrorCloud",
                )),
                  (this.m_fileUploadProps.eUploadState = 3),
                  (this.m_fileUploadProps.uploadProgress = 0);
              }),
              this.CommitFileUpload(!1, e.ugcid),
              this.m_fileUploadProps.strErrorDescription)
            );
          }
        }
        async CommitFileUpload(e, t) {
          let a = this.m_fileUploadProps.file,
            n = this.m_fileUploadProps.sha1,
            i = new FormData();
          i.append("sessionid", C.De.SESSIONID),
            i.append("l", C.De.LANGUAGE),
            i.append("file_name", this.m_fileUploadProps.uploadFileName),
            i.append("file_sha", n),
            i.append("success", e ? "1" : "0"),
            i.append("ugcid", t),
            i.append("file_type", a.type),
            i.append(
              "file_image_width",
              this.m_fileUploadProps.imageWidth.toString(),
            ),
            i.append(
              "file_image_height",
              this.m_fileUploadProps.imageHeight.toString(),
            ),
            i.append("timestamp", this.m_fileUploadProps.timestamp.toString()),
            i.append("hmac", this.m_fileUploadProps.hmac),
            this.m_Callbacks.PopulateCommitFileUploadFormData(
              i,
              this.file_upload_props.uploadInfo,
              this.file_upload_props.fileInfo,
            );
          try {
            let t = await fetch(this.m_Callbacks.GetCommitFileUploadURL(), {
              method: "POST",
              body: i,
            });
            return (
              e
                ? ((this.m_fileUploadProps.uploadProgress = 0),
                  (this.m_fileUploadProps.eUploadState = 6),
                  this.m_onComplete && this.m_onComplete(1, a.size))
                : ((this.m_fileUploadProps.eUploadState = 3),
                  this.m_onComplete && this.m_onComplete(2, a.size)),
              t
            );
          } catch (t) {
            if (!e) return null;
            let n = null;
            throw (
              ((0, z.z)(() => {
                if (
                  (this.LogFileUploadMessage(t),
                  (this.m_fileUploadProps.uploadProgress = 0),
                  (this.m_fileUploadProps.eUploadState = 3),
                  t.response)
                ) {
                  let e = t.response.data;
                  t.response.status, e && e.success;
                  n = e.message
                    ? e.message
                    : (0, I.Xx)("#Chat_Settings_Error_ServerError");
                } else n = (0, I.Xx)("#ConnectionTrouble_FailedToConnect");
                (this.m_fileUploadProps.strErrorDescription = `Failed to commit upload: ${n}`),
                  this.m_onComplete && this.m_onComplete(2, a.size);
              }),
              n)
            );
          }
        }
        ClearFileUploadError() {
          (3 != this.m_fileUploadProps.eUploadState &&
            4 != this.m_fileUploadProps.eUploadState &&
            5 != this.m_fileUploadProps.eUploadState) ||
            this.Reset();
        }
        Reset() {
          this.SetFileToUpload(null);
        }
      }
      function Ue(e) {
        return new Promise((t) => {
          let a = new FileReader();
          (a.onload = () => {
            let n = e,
              i = (function (e) {
                let t = new DataView(e),
                  a = 0,
                  n = 0,
                  i = [],
                  r = 0;
                if (65496 == t.getUint16(a)) {
                  a += 2;
                  let l = t.getUint16(a);
                  for (a += 2; a < t.byteLength && a < 131072; ) {
                    if (65505 == l)
                      (i[r] = { recess: n, offset: a - 2 }),
                        (n = a + t.getUint16(a)),
                        r++;
                    else if (65498 == l) break;
                    (a += t.getUint16(a)), (l = t.getUint16(a)), (a += 2);
                  }
                  let s = e.byteLength - n;
                  if (
                    (i.forEach((e) => {
                      s += e.offset - e.recess;
                    }),
                    s === e.byteLength)
                  )
                    return e;
                  const o = new Uint8Array(s);
                  if (i.length > 0) {
                    let t = 0;
                    i.forEach((a) => {
                      let n = a.offset - a.recess;
                      o.set(new Uint8Array(e.slice(a.recess, a.offset)), t),
                        (t += n);
                    }),
                      o.set(new Uint8Array(e.slice(n)), t);
                  }
                  return o.buffer;
                }
                return e;
              })(a.result),
              r = new Blob([i], { type: e.type });
            if (r) {
              let t = r;
              (t.lastModifiedDate = new Date(e.lastModified)),
                (t.name = e.name),
                (n = t);
            }
            if (0 == e.type.indexOf("image")) {
              let a = new Image();
              (a.src = URL.createObjectURL(e)),
                (a.onload = (e) => {
                  t({ file: n, width: a.width, height: a.height });
                });
            } else t({ file: n, width: 0, height: 0 });
          }),
            a.readAsArrayBuffer(e);
        });
      }
      (0, n.gn)([z.aD], Fe.prototype, "SetUploadFileError", null),
        (0, n.gn)([z.aD], Fe.prototype, "StartFileExportToUpload", null),
        (0, n.gn)([z.aD], Fe.prototype, "SetImageFileToUpload", null),
        (0, n.gn)([z.aD], Fe.prototype, "SetOtherFileToUpload", null),
        (0, n.gn)([z.aD], Fe.prototype, "SetFileToUpload", null),
        (0, n.gn)([z.aD], Fe.prototype, "RetryFileUpload", null),
        (0, n.gn)([z.aD], Fe.prototype, "BeginFileUpload", null),
        (0, n.gn)([z.aD], Fe.prototype, "DoFileUpload", null),
        (0, n.gn)([z.aD], Fe.prototype, "CommitFileUpload", null),
        (0, n.gn)([z.aD], Fe.prototype, "ClearFileUploadError", null),
        (0, n.gn)([z.aD], Fe.prototype, "Reset", null);
      var He = a(72728),
        Ve = a(1485),
        Xe = a(58798),
        je = a(84478),
        qe = a(45418),
        We = a.n(qe);
      const ze = (e) => {
        const [t, a] = (0, i.useState)(!0),
          [n, r] = (0, i.useState)(null);
        if (
          ((0, i.useEffect)(() => {
            if (0 == e.appid || 0 == e.trailerBaseID)
              return void r((0, I.Xx)("#TrailerPlayer_ID_NotProvided"));
            (async () => {
              if (
                (await M.Z.Get().QueueAppRequest(e.appid, {
                  include_trailers: !0,
                }),
                M.Z.Get().BHasApp(e.appid))
              ) {
                M.Z.Get()
                  .GetApp(e.appid)
                  .GetAllTrailers()
                  .GetTrailerByID(e.trailerBaseID) ||
                  (console.error(
                    "Trailer " +
                      e.trailerBaseID +
                      " doesn't existed within appid " +
                      e.appid,
                  ),
                  r(
                    (0, I.Xx)(
                      "#TrailerPlayer_CouldNotLoad",
                      e.appid,
                      e.trailerBaseID,
                    ),
                  )),
                  a(!1);
              } else
                r(
                  (0, I.Xx)(
                    "#TrailerPlayer_CouldNotLoad",
                    e.appid,
                    e.trailerBaseID,
                  ),
                );
            })();
          }, [e.appid, e.trailerBaseID]),
          n)
        )
          return e.bIsPreviewMode
            ? i.createElement("div", { className: We().ErrorDiv }, n)
            : null;
        if (t)
          return i.createElement(O.V, {
            string: (0, I.Xx)("#Loading"),
            size: "small",
          });
        const l = M.Z.Get()
            .GetApp(e.appid)
            .GetAllTrailers()
            .GetTrailerByID(e.trailerBaseID),
          s = l.GetTrailerMax(),
          o = {
            sPoster: l.GetScreenshot(),
            rgVideoSources: [
              { sURL: s.strWebMURL, sFormat: "video/webm" },
              { sURL: s.strMP4URL, sFormat: "video/mp4" },
            ],
          };
        return i.createElement(je.Y, {
          bControls: !0,
          bAutoPlay: !1,
          bLoop: !1,
          video: o,
        });
      };
      var Ze = a(22945),
        Ke = a(81851),
        Qe = a(10162);
      const Ye = i.lazy(() =>
          Promise.all([a.e(2706), a.e(4601)]).then(a.bind(a, 65682)),
        ),
        Je = (e) => {
          const t = (0, i.useRef)(null),
            [a, n] = (0, i.useState)(Ke.D.Get().GetVODForAppID(e.appid)),
            [r, l] = (0, i.useState)(
              !Boolean(Ke.D.Get().GetVODForAppID(e.appid)),
            );
          return (
            (0, i.useEffect)(
              () => () => t.current && t.current("VODPlayer: unmounting"),
            ),
            (0, i.useEffect)(() => {
              let i = a;
              if (
                (a &&
                  a.appid != e.appid &&
                  (i = Ke.D.Get().GetVODForAppID(e.appid)),
                !i)
              ) {
                const a = async () => {
                  t.current && t.current();
                  const a = N().CancelToken.source();
                  (t.current = a.cancel),
                    (i = await Ke.D.Get().LoadVODForAppID(e.appid)),
                    a.token.reason || n(i),
                    l(!1);
                };
                l(!0), a();
              }
              a != i && n(i);
            }, [e.appid, a]),
            !a && e.bPreviewMode
              ? i.createElement(
                  "div",
                  null,
                  (0, I.Xx)(
                    r ? "#VODPlayer_Loading" : "#VODPlayer_ErrorLoading",
                    e.appid,
                  ),
                )
              : i.createElement(
                  "div",
                  { className: Ze.BroadcastCtn },
                  i.createElement(
                    Qe.SV,
                    null,
                    i.createElement(
                      i.Suspense,
                      { fallback: null },
                      i.createElement(Ye, {
                        nAppIDVOD: e.appid,
                        watchLocation: 9,
                        bStartPaused: !0,
                      }),
                    ),
                  ),
                )
          );
        };
      var $e = a(31659),
        et = a(14609),
        tt = a(50423),
        at = a(97087),
        nt = a(13896);
      function it(e) {
        const t = (0, C.id)(),
          a = (0, at.Zh)(at.H_),
          n = "true" === String((0, s.im)(e.args, "autoadvance")).toLowerCase();
        return i.createElement(
          nt.l,
          {
            hideArrows: !a,
            hidePips: t,
            visibleElements: 1,
            useTestScrollbar: !1,
            bLazyRenderChildren: !0,
            screenIsWide: a,
            bAutoAdvance: n,
            className: X().ScreenshotCarousel,
          },
          e.children,
        );
      }
      var rt = a(82493),
        lt = a(56365);
      function st(e) {
        const { fileUploadManager: t } = e,
          a = (0, i.useRef)();
        return i.createElement(
          "div",
          { className: lt.Ctn },
          i.createElement("input", {
            type: "file",
            accept: ".jpg,.jpeg,.png,.gif,.webm,.mpg,.mpeg,.ogv,.mp4",
            style: { display: "none" },
            name: "fileupload",
            ref: a,
            onChange: (e) => {
              e.currentTarget?.files?.length > 0 &&
                (t.SetImageFileToUpload(e.currentTarget.files[0]),
                (e.currentTarget.value = ""));
            },
          }),
          i.createElement(
            rt.wl,
            {
              type: "button",
              title: (0, I.Xx)("#Button_Upload"),
              onOKActionDescription: (0, I.Xx)("#Button_Upload"),
              onClick: () => a.current.click(),
            },
            i.createElement(w.pkz, null),
          ),
        );
      }
      var ot = a(30750),
        ct = a(42742);
      function mt(e) {
        const { fileUploadManager: t } = e,
          a = (0, ot.SZ)(() => t.file_upload_props.eUploadState);
        return 1 == a
          ? i.createElement(dt, { fileUploadManager: t })
          : 3 == a || 5 == a || 4 == a
            ? i.createElement(pt, { fileUploadManager: t })
            : 0 != a
              ? i.createElement(ut, { fileUploadManager: t })
              : null;
      }
      function dt(e) {
        const { fileUploadManager: t } = e,
          a = t.file;
        return i.createElement(
          "div",
          { className: ct.UploadPreviewContainer },
          Boolean(-1 != a.type.indexOf("image")) &&
            i.createElement("img", {
              className: ct.UploadPreview,
              src: t.file_upload_data_url,
            }),
          Boolean(-1 != a.type.indexOf("video")) &&
            i.createElement(w.nkn, null),
          i.createElement(
            "div",
            { className: ct.FileUploadFileName },
            "'",
            a.name,
            "'",
          ),
          i.createElement(
            "div",
            { className: ct.FileUploadCancel, onClick: () => t.Reset() },
            i.createElement(w.pVO, null),
          ),
          i.createElement(
            Ve.KM,
            {
              className: ct.FileUploadBtn,
              onClick: async () => {
                await t.BeginFileUpload(), t.Reset();
              },
            },
            (0, I.Xx)("#Button_Upload"),
          ),
        );
      }
      function ut(e) {
        const { fileUploadManager: t } = e,
          [a, n, r] = (0, ot.SZ)(() => [
            t.file_upload_props.file,
            t.file_upload_props.displayFileName,
            t.file_upload_props.uploadProgress,
          ]),
          l = a ? (0, I.Xx)("#Uploading_Item", n) : "",
          s = { width: r + "%" };
        return i.createElement(
          "div",
          { className: ct.FileUploadProgressContainer },
          i.createElement("div", { className: ct.FileUploadProgressName }, l),
          i.createElement(
            "div",
            {
              className: (0, P.Z)(
                ct.FileUploadProgressBarContainer,
                "DialogProgressBar_ProgressBarContainer",
              ),
            },
            i.createElement("div", {
              className: "DialogProgressBar_Value",
              style: s,
            }),
          ),
        );
      }
      function pt(e) {
        const { fileUploadManager: t } = e,
          [a, n, r] = (0, ot.SZ)(() => [
            t.file_upload_props.strErrorDescription,
            t.file_upload_props.displayFileName,
            t.file_upload_props.eUploadState,
          ]),
          l = n ? (0, I.Xx)("#Uploading_Item", n) : "",
          s = a || (0, I.Xx)("#Chat_Upload_ErrorCloud");
        return i.createElement(
          "div",
          { className: ct.FileUploadProgressContainer },
          i.createElement("div", { className: ct.FileUploadProgressName }, l),
          i.createElement(
            "div",
            { className: ct.FileUploadErrorDescription },
            s,
          ),
          i.createElement(
            "div",
            { className: ct.FileUploadActions },
            i.createElement(
              Ve.Uq,
              { className: "DialogLayout_NoMinWidth" },
              Boolean(3 == r) &&
                i.createElement(
                  Ve.KM,
                  {
                    onClick: async () => {
                      await t.RetryFileUpload(), t.Reset();
                    },
                  },
                  (0, I.Xx)("#Chat_Upload_ErrorAction_Retry"),
                ),
              i.createElement(
                Ve.zx,
                { onClick: () => t.ClearFileUploadError() },
                (0, I.Xx)("#Chat_Upload_ErrorAction_Close"),
              ),
            ),
          ),
        );
      }
      var _t = a(77178),
        ht = a(90069),
        gt = a(80212),
        Et = a(13557);
      class St {
        m_mapInventoryByApp = new Map();
        m_mapPromises = new Map();
        m_listChangeCallback = new Map();
        m_SteamInterface = null;
        GetInventoryForApp(e) {
          return this.m_mapInventoryByApp.get(e);
        }
        GetItemDefsChangeForAppID(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new J.pB()),
            this.m_listChangeCallback.get(e)
          );
        }
        BHasLoadedDef(e) {
          return this.m_mapPromises.has(e);
        }
        SetTestAppCommunityItems(e, t) {
          this.m_mapInventoryByApp.set(e, t),
            this.GetItemDefsChangeForAppID(e).Dispatch(t),
            this.m_mapPromises.set(e, Promise.resolve(1));
        }
        async LoadCommunityInventory(e) {
          return e
            ? (this.m_mapPromises.has(e) ||
                this.m_mapPromises.set(
                  e,
                  this.InternalLoadCommunityInventory(e),
                ),
              this.m_mapPromises.get(e))
            : 2;
        }
        async InternalLoadCommunityInventory(e) {
          const t = Z.gA.Init(Et.o0);
          t.Body().set_filter_appids([e]);
          let a = null;
          try {
            const n = await Et.Ts.GetCommunityInventory(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            if (1 == n.GetEResult()) {
              const t = new Array();
              return (
                n
                  .Body()
                  .items()
                  .forEach((e) => t.push(e.toObject())),
                this.m_mapInventoryByApp.set(e, t),
                this.GetItemDefsChangeForAppID(e).Dispatch(t),
                1
              );
            }
            a = (0, b.l)(n);
          } catch (e) {
            a = (0, b.l)(e);
          }
          return (
            console.error(
              "CQuestCommunityInventoryStore.InternalLoadCommunityInventory failed: on appid " +
                e +
                " error: " +
                a?.strErrorMsg,
              a,
            ),
            2
          );
        }
        static s_Singleton;
        static Get() {
          return (
            St.s_Singleton ||
              ((St.s_Singleton = new St()),
              St.s_Singleton.Init(),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_QuestCommunityInventoryStore = St.s_Singleton)),
            St.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, C.kQ)("read_inventory_token", "application_config");
          (0, Y.X)(
            e,
            "CQuestCommunityInventoryStore: missing read_inventory:steam oauth permission",
          ),
            (this.m_SteamInterface = new K.J(C.De.WEBAPI_BASE_URL, e));
        }
      }
      function vt(e) {
        const [t, a] = (0, i.useState)(St.Get().GetInventoryForApp(e));
        return (
          (0, i.useEffect)(() => {
            e &&
              !St.Get().BHasLoadedDef(e) &&
              St.Get().LoadCommunityInventory(e);
          }, [e]),
          (0, h.Qg)(St.Get().GetItemDefsChangeForAppID(e), a),
          t
        );
      }
      (0, n.gn)([h.ak], St.prototype, "SetTestAppCommunityItems", null);
      class Dt {
        m_claimState = { bCanClaimNewItem: !1, bAlreadyClaimedCurrentItem: !1 };
        m_claimedFreeItemDef;
        m_rtNextClaimTime;
        m_claimTimer;
        m_SteamInterface = null;
        m_canClaimPromise = null;
        m_claimPromise = null;
        m_claimStateChangeCallback = new J.pB();
        m_testNextClaimFakeResponse = null;
        m_bInTestMode = !1;
        GetClaimItemState() {
          return this.m_claimState;
        }
        GetClaimStateChangeCallback() {
          return this.m_claimStateChangeCallback;
        }
        GetClaimedSaleRewardItemDef() {
          return this.m_claimedFreeItemDef;
        }
        GetNextClaimTime() {
          if (!this.m_rtNextClaimTime) return null;
          return new Date(1e3 * this.m_rtNextClaimTime);
        }
        TEST_OverrideClaimState(e) {
          (this.m_bInTestMode = !0),
            (this.m_canClaimPromise = null),
            (this.m_claimPromise = null),
            e.bCanClaimNewItem
              ? (this.m_testNextClaimFakeResponse = {
                  bAlreadyClaimedCurrentItem: !0,
                  bCanClaimNewItem: !1,
                  rtNextClaimTime: Math.floor(Date.now() / 1e3) + 3600,
                  appid: 2243810,
                  community_item_type: 2,
                  community_item_class: 11,
                })
              : (this.m_testNextClaimFakeResponse = null),
            (this.m_claimState = e),
            this.GetClaimStateChangeCallback().Dispatch(this.m_claimState);
        }
        async ActivateProfileModifier(e) {
          const t = Z.gA.Init(Et.yg);
          t.Body().set_communityitemid(e.communityitemid),
            t.Body().set_appid(e.appid),
            t.Body().set_activate(!0);
          const a = await Et.Ts.ActivateProfileModifierItem(
            this.m_SteamInterface.GetServiceTransport(),
            t,
          );
          return (
            1 != a.GetEResult() &&
              console.error(
                `Error when calling QuestService.ActivateProfileModifierItem: EResult=${a.GetEResult()}`,
              ),
            a.GetEResult()
          );
        }
        async LoadCanUserClaimItem() {
          return this.m_bInTestMode
            ? this.m_claimState
            : (this.m_canClaimPromise ||
                (this.m_canClaimPromise = this.InternalLoadCanUserClaimItem()),
              this.m_canClaimPromise);
        }
        async InternalLoadCanUserClaimItem() {
          (0, Y.X)(
            C.L7.logged_in,
            "User must be logged to use CSaleItemClaimableRewardsStore",
          );
          const e = Z.gA.Init(Q.FE);
          e.Body().set_language(C.De.LANGUAGE);
          let t = null;
          try {
            const a = await Q.tE.CanClaimItem(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            );
            if (1 == a.GetEResult())
              return (
                (this.m_claimedFreeItemDef = Boolean(
                  a.Body().reward_item()?.defid(),
                )
                  ? a.Body().reward_item().toObject()
                  : null),
                (this.m_claimState = {
                  bCanClaimNewItem: a.Body().can_claim(),
                  bAlreadyClaimedCurrentItem: Boolean(
                    this.m_claimedFreeItemDef,
                  ),
                  appid: this.m_claimedFreeItemDef?.appid,
                  community_item_type:
                    this.m_claimedFreeItemDef?.community_item_type,
                  community_item_class:
                    this.m_claimedFreeItemDef?.community_item_class,
                  rtNextClaimTime:
                    a.Body().next_claim_time() > 0
                      ? a.Body().next_claim_time()
                      : void 0,
                }),
                (this.m_rtNextClaimTime = a.Body().next_claim_time()),
                this.SetClaimTimer(),
                this.GetClaimStateChangeCallback().Dispatch(this.m_claimState),
                this.m_claimState
              );
            t = (0, b.l)(a);
          } catch (e) {
            t = (0, b.l)(e);
          }
          return (
            console.error(
              "CSaleItemClaimableRewardsStore.InternalLoadCanUserClaimItem failed: error: " +
                t?.strErrorMsg,
              t,
            ),
            { bCanClaimNewItem: !1, bAlreadyClaimedCurrentItem: !1 }
          );
        }
        async UserClaimItem() {
          return (
            this.m_testNextClaimFakeResponse &&
              (console.log(
                "CSaleItemClaimableRewardsStore - testing, pretending claim action succeeded",
                (0, z.ZN)(this.m_testNextClaimFakeResponse),
              ),
              (this.m_claimState = this.m_testNextClaimFakeResponse),
              this.GetClaimStateChangeCallback().Dispatch(this.m_claimState),
              (this.m_rtNextClaimTime = this.m_claimState.rtNextClaimTime),
              this.SetClaimTimer(),
              (this.m_testNextClaimFakeResponse = null)),
            this.m_bInTestMode
              ? this.m_claimState
              : (this.m_claimPromise ||
                  (this.m_claimPromise = this.InternalUserClaimItem()),
                this.m_claimPromise)
          );
        }
        async InternalUserClaimItem() {
          (0, Y.X)(
            C.L7.logged_in,
            "User must be logged to use CSaleItemClaimableRewardsStore",
          ),
            (0, Y.X)(
              this.m_claimState.bCanClaimNewItem,
              "Only should be called when we previously verified you can claim something. ",
            );
          const e = Z.gA.Init(Q.xs);
          e.Body().set_language(C.De.LANGUAGE);
          let t = null;
          try {
            const a = await Q.tE.ClaimItem(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            );
            if (1 == a.GetEResult())
              return (
                (this.m_claimedFreeItemDef = a.Body().reward_item().toObject()),
                (this.m_claimState = {
                  bCanClaimNewItem: !1,
                  bAlreadyClaimedCurrentItem: Boolean(
                    this.m_claimedFreeItemDef,
                  ),
                  appid: this.m_claimedFreeItemDef.appid,
                  community_item_type:
                    this.m_claimedFreeItemDef.community_item_type,
                  community_item_class:
                    this.m_claimedFreeItemDef.community_item_class,
                  rtNextClaimTime:
                    a.Body().next_claim_time() > 0
                      ? a.Body().next_claim_time()
                      : void 0,
                }),
                this.GetClaimStateChangeCallback().Dispatch(this.m_claimState),
                (this.m_rtNextClaimTime = a.Body().next_claim_time()),
                this.SetClaimTimer(),
                this.m_claimState
              );
            if (29 == a.GetEResult())
              return (
                (this.m_canClaimPromise = this.InternalLoadCanUserClaimItem()),
                this.m_canClaimPromise
              );
            t = (0, b.l)(a);
          } catch (e) {
            t = (0, b.l)(e);
          }
          return (
            console.error(
              "CSaleItemClaimableRewardsStore.InternalUserClaimItem failed: error: " +
                t?.strErrorMsg,
              t,
            ),
            { bCanClaimNewItem: !1, bAlreadyClaimedCurrentItem: !1 }
          );
        }
        SetClaimTimer() {
          if (this.m_claimTimer) return;
          if (!this.m_rtNextClaimTime) return;
          const e = Date.now();
          let t = new Date(1e3 * this.m_rtNextClaimTime);
          const a = Math.max(0, Math.min(1, t.getTime() - e));
          this.m_claimTimer = window.setTimeout(
            () => {
              (this.m_claimTimer = void 0),
                Date.now() > t.getTime()
                  ? ((this.m_canClaimPromise = null),
                    (this.m_claimPromise = null),
                    (this.m_claimedFreeItemDef = null),
                    (this.m_claimState = {
                      bCanClaimNewItem: !0,
                      bAlreadyClaimedCurrentItem: !1,
                      rtNextClaimTime: void 0,
                    }),
                    this.GetClaimStateChangeCallback().Dispatch(
                      this.m_claimState,
                    ))
                  : this.SetClaimTimer();
            },
            a > 3e5 ? a / 2 : a,
          );
        }
        static s_Singleton;
        static Get() {
          return (
            Dt.s_Singleton ||
              ((Dt.s_Singleton = new Dt()),
              Dt.s_Singleton.Init(),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_SaleItemClaimableRewardsStore = Dt.s_Singleton)),
            Dt.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, C.kQ)("loyalty_webapi_token", "application_config");
          (0, Y.X)(
            e,
            "CQuestCommunityInventoryStore: missing loyalty_webapi_token oauth permission",
          ),
            (this.m_SteamInterface = new K.J(C.De.WEBAPI_BASE_URL, e));
        }
      }
      (0, n.gn)([h.ak], Dt.prototype, "TEST_OverrideClaimState", null),
        (0, n.gn)([h.ak], Dt.prototype, "UserClaimItem", null);
      var ft = a(83743),
        yt = a(9921);
      class bt {
        m_mapAppToDefs = new Map();
        m_mapPromises = new Map();
        m_listChangeCallback = new Map();
        GetItemDefForAppID(e) {
          return this.m_mapAppToDefs.get(e);
        }
        GetItemDefsChangeForEventID(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new J.pB()),
            this.m_listChangeCallback.get(e)
          );
        }
        BHasLoadedDef(e) {
          return this.m_mapPromises.has(e);
        }
        SetTestItemDefs(e, t) {
          this.m_mapAppToDefs.set(e, t),
            this.GetItemDefsChangeForEventID(e).Dispatch(t),
            this.m_mapPromises.set(e, Promise.resolve(1));
        }
        async LoadAppCommunityItems(e, t) {
          return e
            ? (this.m_mapPromises.has(e) ||
                this.m_mapPromises.set(
                  e,
                  this.InternalLoadAppCommunityItems(e, t),
                ),
              this.m_mapPromises.get(e))
            : 2;
        }
        async InternalLoadAppCommunityItems(e, t) {
          let a = null;
          try {
            const n =
                C.De.COMMUNITY_BASE_URL +
                (t
                  ? "minigame/ajaxgetgameitemdefsforeditor"
                  : "minigame/ajaxgetgameitemdefs"),
              i = {
                appid: e,
                origin: self.origin,
                l: C.De.LANGUAGE,
                sessionid: t ? C.De.SESSIONID : void 0,
              },
              r = await N().get(n, { params: i, withCredentials: t });
            if (
              200 == r?.status &&
              1 == r?.data?.success &&
              r?.data?.item_definitions
            )
              return (
                this.m_mapAppToDefs.set(e, r.data.item_definitions),
                this.GetItemDefsChangeForEventID(e).Dispatch(
                  r.data.item_definitions,
                ),
                1
              );
            a = (0, b.l)(r);
          } catch (e) {
            a = (0, b.l)(e);
          }
          return (
            console.error(
              "CSaleMiniGameItemDefStore.InternalLoadAppCommunityItems failed: on appid " +
                e +
                " edit? " +
                t +
                " error: " +
                a?.strErrorMsg,
              a,
            ),
            2
          );
        }
        static s_Singleton;
        static Get() {
          return (
            bt.s_Singleton ||
              ((bt.s_Singleton = new bt()),
              bt.s_Singleton.Init(),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_SaleMiniGameItemDefStore = bt.s_Singleton)),
            bt.s_Singleton
          );
        }
        constructor() {}
        Init() {}
      }
      function It(e, t, a) {
        const n = (function (e, t) {
            const [a, n] = (0, i.useState)(bt.Get().GetItemDefForAppID(e));
            return (
              (0, i.useEffect)(() => {
                e &&
                  !bt.Get().BHasLoadedDef(e) &&
                  bt.Get().LoadAppCommunityItems(e, t);
              }, [e, t]),
              (0, h.Qg)(bt.Get().GetItemDefsChangeForEventID(e), n),
              a
            );
          })(e, a),
          [r, l] = (0, i.useState)(null);
        return (
          (0, i.useEffect)(() => {
            if (e && n && null == r) {
              const i = n.find(
                (n) => (a || n.active) && n.appid == e && n.item_type == t,
              );
              i && l(i);
            }
          }, [r, n, e, t, a]),
          r
        );
      }
      var Ct = a(72297);
      function kt(e) {
        const { appid: t, community_item_type: a, bForEdit: n } = e,
          r = It(t, a, n),
          l =
            r && !r.active
              ? i.createElement(
                  "div",
                  { className: Ct.WarningStylesBackground },
                  (0, I.Xx)("#Sale_Section_RewardShelf_ItemInActiveWarning"),
                )
              : void 0;
        if (r?.item_movie_mp4 && r?.item_movie_webm) {
          const e = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${r?.item_image_large}`,
            a = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${r?.item_movie_webm}`,
            n = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${r?.item_movie_mp4}`;
          return i.createElement(
            i.Fragment,
            null,
            i.createElement(
              "video",
              { muted: !0, controls: !1, autoPlay: !0, loop: !0, poster: e },
              i.createElement("source", { src: a, type: "video/webm" }),
              Boolean(!C.De.IN_CLIENT) &&
                i.createElement("source", { src: n, type: "video/mp4" }),
            ),
            l,
          );
        }
        if (r) {
          const a = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${r?.item_image_small || r?.item_image_large}`;
          return i.createElement(
            i.Fragment,
            null,
            i.createElement("img", {
              className: e.className,
              src: a,
              alt: r?.item_name,
            }),
            l,
          );
        }
        return i.createElement(O.V, {
          size: "small",
          string: (0, I.Xx)("#Loading"),
        });
      }
      function At(e) {
        const t = (function () {
            const [e, t] = (0, i.useState)(Dt.Get().GetClaimItemState()),
              [a, n] = (0, i.useState)(!0);
            return (
              (0, i.useEffect)(() => {
                Dt.Get()
                  .LoadCanUserClaimItem()
                  .then(t)
                  .finally(() => n(!1));
              }, []),
              (0, h.Qg)(Dt.Get().GetClaimStateChangeCallback(), t),
              { ...e, bLoading: a }
            );
          })(),
          { bLoading: a } = t,
          { className: n, bPreviewMode: r, rewardType: l } = e;
        return i.createElement(
          Ve.zx,
          {
            className: (0, P.Z)("CSSClaimItemButton", n),
            onClick: (e) => {
              t.bCanClaimNewItem
                ? (0, ht.AM)(
                    i.createElement(Pt, { rewardType: l }),
                    (0, tt.RA)(e),
                  )
                : ("dev" == C.De.WEB_UNIVERSE ||
                    "beta" == C.De.WEB_UNIVERSE ||
                    r) &&
                  ((0, ht.AM)(
                    i.createElement(Pt, { rewardType: l }),
                    (0, tt.RA)(e),
                  ),
                  console.log(
                    "Show dialog for debugging, since already claimed: ",
                    (0, z.ZN)(t),
                  ));
            },
            disabled: a,
          },
          Boolean(a)
            ? i.createElement(O.V, {
                string: (0, I.Xx)("#Loading"),
                size: "small",
              })
            : i.createElement(wt, { claimState: t }),
        );
      }
      function wt(e) {
        const { claimState: t, strButtonOverride: a, rewardType: n } = e;
        if (t.bAlreadyClaimedCurrentItem)
          return i.createElement(
            "div",
            { className: (0, P.Z)(yt.CheckMark, "CSSClaimedState") },
            i.createElement(w.JrY, null),
            i.createElement(
              "span",
              null,
              " ",
              a?.length > 0
                ? a
                : (0, I.Xx)("#Sale_ClaimableReward_AlreadyClaimed"),
            ),
          );
        let r = (0, I.Xx)("#Sale_ClaimableReward_generic");
        switch (t?.community_item_class || n) {
          case 11:
            r = (0, I.Xx)("#Sale_ClaimableReward_sticker");
            break;
          case 8:
            r = (0, I.Xx)("#Sale_ClaimableReward_profilemodifier");
            break;
          case 15:
            r = (0, I.Xx)("#Sale_ClaimableReward_animatedavatar");
        }
        return i.createElement("span", { className: "CSSUnclaimedState" }, r);
      }
      function Pt(e) {
        const { closeModal: t, rewardType: a } = e,
          { fnClaimItem: n } = { fnClaimItem: Dt.Get().UserClaimItem },
          r = (0, ft.tx)(),
          [l, s] = i.useState(null);
        i.useEffect(() => {
          r.bLoading ||
            (r.fnSetLoading(!0),
            n()
              .then((e) => {
                if (
                  (s(e), console.log("claim response", (0, z.ZN)(e)), e.appid)
                ) {
                  let t = (0, I.Xx)("#Sale_ClaimableReward_completed_generic");
                  const n = l?.community_item_class || a;
                  switch (n) {
                    case 11:
                      t = (0, I.Xx)("#Sale_ClaimableReward_completed_sticker");
                      break;
                    case 8:
                      t = (0, I.Xx)(
                        "#Sale_ClaimableReward_completed_profilemodifier",
                      );
                      break;
                    case 15:
                      t = (0, I.Xx)(
                        "#Sale_ClaimableReward_completed_animatedavatar",
                      );
                  }
                  r.fnSetStrSuccess("   "),
                    r.fnSetElSuccess(
                      i.createElement(
                        "div",
                        { className: yt.DialogCtn },
                        i.createElement("span", null, t),
                        i.createElement(Tt, {
                          appid: e.appid,
                          community_item_type: e.community_item_type,
                          rewardType: n,
                        }),
                      ),
                    );
                } else r.fnSetStrError((0, I.Xx)("#Sale_ClaimableReward_Busy"));
              })
              .catch((e) =>
                r.fnSetStrError((0, I.Xx)("#Sale_ClaimableReward_Busy")),
              ));
        }, [l?.community_item_class, r, n, a]);
        let o = (0, I.Xx)("#Sale_ClaimableReward_generic");
        switch (l?.community_item_class || a) {
          case 11:
            o = (0, I.Xx)("#Sale_ClaimableReward_sticker");
            break;
          case 8:
            o = (0, I.Xx)("#Sale_ClaimableReward_profilemodifier");
            break;
          case 15:
            o = (0, I.Xx)("#Sale_ClaimableReward_animatedavatar");
        }
        return i.createElement(ft.NT, {
          state: r,
          strDialogTitle: o,
          closeModal: t,
        });
      }
      function Tt(e) {
        const { appid: t, community_item_type: a, rewardType: n } = e;
        return t && a
          ? i.createElement(
              i.Fragment,
              null,
              i.createElement(kt, { appid: t, community_item_type: a }),
              Boolean(8 == n) &&
                i.createElement(Nt, { appid: t, community_item_type: a }),
            )
          : null;
      }
      function Nt(e) {
        const { appid: t, community_item_type: a } = e,
          n = vt(t),
          [r, l] = i.useState(!1);
        if (!n) return null;
        const s = n.find((e) => e.item_type == a);
        return s
          ? i.createElement(
              "div",
              { className: yt.EquipCtn },
              Boolean(r)
                ? i.createElement(
                    "div",
                    null,
                    (0, I.Xx)(
                      "#Sale_ClaimableReward_profilemodifier_apply_success",
                    ),
                  )
                : i.createElement(
                    Ve.zx,
                    {
                      onClick: (e) => {
                        (async function (e) {
                          return Dt.Get().ActivateProfileModifier(e);
                        })(s).then((e) => {
                          1 == e && l(!0);
                        });
                      },
                    },
                    (0, I.Xx)("#Sale_ClaimableReward_profilemodifier_apply"),
                  ),
              i.createElement(
                rt.IS,
                { href: `${C.De.COMMUNITY_BASE_URL}profiles/${C.L7.steamid}` },
                (0, I.Xx)("#Sale_ClaimableReward_profilemodifier_view"),
              ),
            )
          : i.createElement(
              "div",
              null,
              i.createElement(
                rt.IS,
                {
                  href: `${C.De.COMMUNITY_BASE_URL}profiles/${C.L7.steamid}/edit/goldenprofile`,
                },
                (0, I.Xx)("#Sale_ClaimableReward_profilemodifier_choose"),
              ),
              i.createElement(
                rt.IS,
                { href: `${C.De.COMMUNITY_BASE_URL}profiles/${C.L7.steamid}` },
                (0, I.Xx)("#Sale_ClaimableReward_profilemodifier_view"),
              ),
            );
      }
      var Rt = a(2284);
      let Gt = null;
      function xt() {
        return (
          null == Gt &&
            (Gt = new Map([
              ["url", { Constructor: Lt, autocloses: !1 }],
              [
                "h1",
                {
                  Constructor: s.LW(s.R6, V.Header1),
                  autocloses: !1,
                  skipFollowingNewline: !0,
                },
              ],
              [
                "h2",
                {
                  Constructor: s.LW(s.zV, V.Header2),
                  autocloses: !1,
                  skipFollowingNewline: !0,
                },
              ],
              [
                "h3",
                {
                  Constructor: s.LW(s.BB, V.Header3),
                  autocloses: !1,
                  skipFollowingNewline: !0,
                },
              ],
              [
                "quote",
                { Constructor: s.LW(s.pu, V.BlockQuote), autocloses: !1 },
              ],
              [
                "list",
                {
                  Constructor: s.LW(s.aV, V.UnorderedList),
                  autocloses: !1,
                  skipInternalNewline: !0,
                },
              ],
              [
                "olist",
                {
                  Constructor: s.LW(s.GS, V.OrderedList),
                  autocloses: !1,
                  skipInternalNewline: !0,
                },
              ],
              [
                "*",
                { Constructor: s.HC, autocloses: !0, skipInternalNewline: !0 },
              ],
              ["img", { Constructor: Bt, autocloses: !1 }],
              ["previewyoutube", { Constructor: s.MJ, autocloses: !1 }],
              ["looping_media", { Constructor: s.jj, autocloses: !1 }],
              ["video", { Constructor: s.qy, autocloses: !1 }],
              ["youtubeorvideo", { Constructor: s.YC, autocloses: !1 }],
              ["trailer", { Constructor: Ot, autocloses: !0 }],
              ["vod", { Constructor: Ft, autocloses: !1 }],
              [
                "speaker",
                {
                  Constructor: Ut,
                  autocloses: !1,
                  skipInternalNewline: !0,
                  allowWrapTextForCopying: !0,
                },
              ],
              ["giveawayeligible", { Constructor: Vt, autocloses: !1 }],
              ["claimitem", { Constructor: Xt, autocloses: !0 }],
              ["packagepurchaseable", { Constructor: jt, autocloses: !1 }],
              ["actiondialog", { Constructor: Wt, autocloses: !1 }],
              ["uploadfilebutton", { Constructor: Zt, autocloses: !0 }],
              ["docimg", { Constructor: Mt, autocloses: !1 }],
              ["carousel", { Constructor: it, autocloses: !1 }],
            ])),
          Gt
        );
      }
      function Lt(e) {
        let t = (0, s.im)(e.args);
        const a = (0, s.im)(e.args, "style"),
          n = (0, s.im)(e.args, "id"),
          r = (function (e) {
            return "button" === e
              ? (0, P.Z)(V.LinkButton, "LinkButton")
              : (0, P.Z)(V.Link, "Link");
          })(a);
        e.context.event;
        if (void 0 === t) return e.children || "";
        if ("string" == typeof t && t.length > 0) {
          const a = s.vZ(t, e.language, e.context.event?.rtime32_last_modified);
          t = "string" == typeof a ? a : a[1];
        }
        return (
          "dev" == C.De.WEB_UNIVERSE &&
            "store" == (0, C.Zv)() &&
            "store.steampowered.com" == (0, m.FM)(t) &&
            (t = t.replace(
              "https://store.steampowered.com/",
              C.De.STORE_BASE_URL,
            )),
          "string" == typeof t && t.length > 0 && "#" == t[0]
            ? i.createElement("a", { className: r, href: t }, e.children)
            : "steam://settings/account" == t
              ? i.createElement(
                  et.ns,
                  { className: r, href: "steam://settings/account" },
                  e.children,
                )
              : i.createElement(
                  d.z,
                  { className: r, url: t, event: e.context.event, id: n },
                  e.children,
                )
        );
      }
      function Bt(e) {
        const { showErrorInfo: t, event: a } = e.context;
        let n = e && e.children && e.children.toString();
        if (
          (null == n || null == n || 0 == n.length) &&
          ((n = e && e.args && e.args[""]),
          null == n || null == n || 0 == n.length)
        )
          return i.createElement(i.Fragment, null);
        const r = s.vZ(n, e.language, a?.rtime32_last_modified);
        if ("string" == typeof r) {
          let e;
          return (
            (n = r),
            (e = (!a || !a.BHasTag("auto_rssfeed")) && !(0, m.dK)(n)),
            t || (n = (0, m.et)(n)),
            t
              ? i.createElement($e.e, {
                  src: n,
                  crossOrigin: e ? "anonymous" : void 0,
                })
              : i.createElement(Rt.l, {
                  src: n,
                  crossOrigin: e ? "anonymous" : void 0,
                })
          );
        }
        return i.createElement(F.j, { rgSources: r });
      }
      function Mt(e) {
        const t = (0, s.im)(e.args);
        if (null == t || null == t || 0 == t.length) return "";
        const a = e && e.children && e.children.toString(),
          n = new Array();
        return (
          n.push(
            `${C.De.MEDIA_CDN_COMMUNITY_URL}images/steamworks_docs/${C.De.LANGUAGE}/${t}`,
          ),
          "english" != C.De.LANGUAGE &&
            n.push(
              `${C.De.MEDIA_CDN_COMMUNITY_URL}images/steamworks_docs/english/${t}`,
            ),
          i.createElement(F.j, { rgSources: n, alt: a })
        );
      }
      function Ot(e) {
        const t = Ht(
            e.args,
            "appid",
            e.context.event.appid ? e.context.event.appid : 0,
          ),
          a = Ht(e.args, "trailerid", 0);
        return i.createElement(ze, {
          appid: t,
          trailerBaseID: a,
          bIsPreviewMode: e.context.showErrorInfo,
        });
      }
      function Ft(e) {
        const t = Ht(e.args, "appid", 0);
        return i.createElement(Je, {
          appid: t,
          bPreviewMode: e.context.showErrorInfo,
        });
      }
      function Ut(e) {
        const t = (0, s.im)(e.args, "name"),
          a = (0, s.im)(e.args, "title"),
          n = (0, s.im)(e.args, "company"),
          r = (0, s.im)(e.args, "photo");
        return e.context.bShowShortSpeakerInfo
          ? i.createElement(Xe.G$, {
              name: t,
              title: a,
              company: n,
              photo: r,
              bio: e.children,
            })
          : i.createElement(Xe.qs, {
              name: t,
              title: a,
              company: n,
              photo: r,
              bio: e.children,
            });
      }
      function Ht(e, t, a) {
        const n = (0, s.im)(e, t);
        return void 0 === n || null == n ? a : Number.parseInt(n);
      }
      function Vt(e) {
        const t = (0, s.im)(e.args, "name"),
          a =
            "true" === ((0, s.im)(e.args, "visible") || "false").toLowerCase(),
          n = (0, He.x)(t);
        if (!t) {
          return e.context.showErrorInfo
            ? i.createElement("div", null, "Failed to provide giveaway name")
            : null;
        }
        return n && n.registered && ((n.eligible && a) || (!n.eligible && !a))
          ? e.children
          : null;
      }
      function Xt(e) {
        const t = e.context.showErrorInfo;
        if (!C.L7.logged_in)
          return i.createElement(
            Ve.zx,
            { onClick: gt.Xt, className: "CSSClaimItemLoginButton" },
            (0, I.Xx)("#Sale_ClaimableReward_Login"),
          );
        const a = (0, s.im)(e.args, "type");
        let n;
        if (a)
          switch (a) {
            case "profilemodifier":
              n = 8;
              break;
            case "sticker":
              n = 11;
          }
        return i.createElement(At, { bPreviewMode: t, rewardType: n });
      }
      function jt(e) {
        const t = Number.parseInt((0, s.im)(e.args, "id")) || 0,
          a =
            "true" === ((0, s.im)(e.args, "visible") || "false").toLowerCase(),
          n = e.context.showErrorInfo,
          [r, l] = (0, le.ie)(t, {});
        if (!t || 1 == l)
          return !t && n
            ? i.createElement("div", null, "Error: PackageID Not Set")
            : null;
        let o = !1;
        return (
          (o = M.Z.Get().BHasStoreItem(t, 1)
            ? Boolean(r.GetBestPurchaseOption())
            : !M.Z.Get().BIsPackageUnavailableDueToCountryRestriction(t)),
          (!o && !a) || (o && a) ? e.children : null
        );
      }
      function qt(e) {
        if ("GameAwardDrop2022" === e) {
          const t = (0, He.x)(e),
            a = (0, He.v)();
          return t
            ? t.registered
              ? {
                  bInitialState: !1,
                  bSuccessState: t.eligible,
                  bFailedState: !t.eligible,
                  fnAction: t.eligible
                    ? void 0
                    : async () => {
                        await a.fnCreateRegistration(e);
                      },
                }
              : {
                  bInitialState: !0,
                  fnAction: async () => {
                    await a.fnCreateRegistration(e);
                  },
                }
            : { bInitialState: !0 };
        }
        return { bInitialState: !0 };
      }
      function Wt(e) {
        const t = (0, s.im)(e.args, "action"),
          a = (0, s.im)(e.args, "initialToken"),
          n = (0, s.im)(e.args, "successToken"),
          r = (0, s.im)(e.args, "failToken"),
          l = qt(t);
        if (!(t && a && n && r)) {
          return e.context.showErrorInfo
            ? i.createElement(
                "div",
                null,
                "Failed to provide all tokens. Dialog will not appear",
              )
            : null;
        }
        return C.L7.logged_in || "test" == t || "nologinrequired" == t
          ? i.createElement(
              Ve.zx,
              {
                className: "CSSActionDialogButton",
                onClick: (l) => {
                  (0, ht.AM)(
                    i.createElement(
                      zt,
                      {
                        strAction: t,
                        strInitialToken: a,
                        strSuccessToken: n,
                        strFailToken: r,
                      },
                      e.children,
                    ),
                    (0, tt.RA)(l),
                  );
                },
              },
              Boolean(l.bInitialState) && (0, I.Xx)(a),
              Boolean(l.bSuccessState) && (0, I.Xx)(n),
              Boolean(l.bFailedState) && (0, I.Xx)(r),
            )
          : i.createElement(
              Ve.zx,
              { className: "CSSActionDialogButton", onClick: gt.Xt },
              (0, I.Xx)("#Login_SignIn"),
            );
      }
      function zt(e) {
        const {
            strAction: t,
            children: a,
            closeModal: n,
            strInitialToken: r,
            strSuccessToken: l,
            strFailToken: s,
          } = e,
          o = qt(t),
          [c, m] = i.useState(Boolean(o.fnAction));
        return (
          i.useEffect(() => {
            o.fnAction && (m(!0), o.fnAction().finally(() => m(!1)));
          }, [o]),
          i.createElement(
            _t.RG,
            {
              bDisableBackgroundDismiss: !0,
              closeModal: n,
              onCancel: n,
              className: "CSSActionDialogDialog",
            },
            i.createElement(
              Ve.h4,
              null,
              Boolean(o.bInitialState) && (0, I.Xx)(r),
              Boolean(o.bSuccessState) && (0, I.Xx)(l),
              Boolean(o.bFailedState) && (0, I.Xx)(s),
            ),
            i.createElement(
              Ve.uT,
              null,
              i.createElement(
                Ve.Ac,
                null,
                c
                  ? i.createElement(O.V, {
                      size: "medium",
                      position: "center",
                      string: (0, I.Xx)("#Loading"),
                    })
                  : a,
              ),
            ),
          )
        );
      }
      function Zt(e) {
        const { showErrorInfo: t, event: a } = e.context,
          n = a.clanSteamID.GetAccountID(),
          [r] = i.useState(
            new Fe(
              (function (e) {
                const t = {
                  PopulateBeginFileUploadFormData: (t) => {
                    t.append("clan_account_id", "" + e);
                  },
                  PopulateCommitFileUploadFormData: (t) => {
                    t.append("clan_account_id", "" + e);
                  },
                  GetBeginFileUploadURL: () =>
                    C.De.STORE_BASE_URL + "saleaction/ajaxbeginfileupload",
                  GetCommitFileUploadURL: () =>
                    C.De.STORE_BASE_URL + "saleaction/ajaxcommitfileupload",
                  LogFileUploadMessage: (e) => {
                    console.log("UploadFileButton: ", e);
                  },
                  GetMaxFileSizeMB: () => 100,
                };
                return t;
              })(n),
            ),
          );
        return n == Me.sq ||
          n == Me.RQ ||
          (2 == C.De.EUNIVERSE && n == Me.$Y) ||
          (1 == C.De.EUNIVERSE && n == Me._L)
          ? i.createElement(
              "div",
              null,
              i.createElement(st, { fileUploadManager: r }),
              i.createElement(mt, { fileUploadManager: r }),
            )
          : t
            ? i.createElement("div", null, (0, I.Xx)("#CloudUpload_NotSupport"))
            : null;
      }
      class Kt extends i.Component {
        m_parser;
        constructor(e) {
          super(e),
            (this.m_parser = new r.Z(
              Kt.sm_BBCodeDictionary,
              this.ElementAccumulator,
              e.languageOverride,
            ));
        }
        ElementAccumulator(e) {
          return new _(
            new p(
              new u(
                new l.So(new l.LT(), 0),
                e,
                (null == De &&
                  (De = (0, C.h4)()
                    ? [
                        { urlRegExp: new RegExp(ce), fnBBComponent: ke },
                        { urlRegExp: new RegExp(de), fnBBComponent: Te },
                        { urlRegExp: new RegExp(ue), fnBBComponent: Pe },
                        { urlRegExp: new RegExp(me), fnBBComponent: we },
                        { urlRegExp: new RegExp(Se), fnBBComponent: xe },
                      ]
                    : [
                        {
                          urlRegExp: new RegExp(/youtu.be|youtube.com/i),
                          fnBBComponent: fe,
                        },
                        {
                          urlRegExp: new RegExp(
                            /community.+sharedfiles\/filedetails\/\?id=\d+/i,
                          ),
                          fnBBComponent: Ie,
                        },
                        { urlRegExp: new RegExp(ce), fnBBComponent: ke },
                        { urlRegExp: new RegExp(de), fnBBComponent: Te },
                        { urlRegExp: new RegExp(ue), fnBBComponent: Pe },
                        { urlRegExp: new RegExp(me), fnBBComponent: we },
                        { urlRegExp: new RegExp(pe), fnBBComponent: ye },
                        { urlRegExp: new RegExp(_e), fnBBComponent: be },
                        { urlRegExp: new RegExp(he), fnBBComponent: Ne },
                        { urlRegExp: new RegExp(ge), fnBBComponent: Re },
                        { urlRegExp: new RegExp(Ee), fnBBComponent: Ge },
                        { urlRegExp: new RegExp(Se), fnBBComponent: xe },
                        { urlRegExp: new RegExp(ve), fnBBComponent: Ae },
                      ]),
                De),
                {
                  partnerEventStore: this.props.partnerEventStore,
                  event: this.props.event,
                },
              ),
            ),
            e,
          );
        }
        static sm_BBCodeDictionary = new Map([
          ...Array.from(s.Be.entries()),
          ...Array.from(xt().entries()),
        ]);
        static AddDictionary(e) {
          Kt.sm_BBCodeDictionary = new Map([
            ...Array.from(Kt.sm_BBCodeDictionary.entries()),
            ...Array.from(e.entries()),
          ]);
        }
        render() {
          return (
            this.m_parser.UpdateOverrideLanguage(this.props.languageOverride),
            this.m_parser.ParseBBCode(this.props.text, {
              showErrorInfo: this.props.showErrorInfo,
              event: this.props.event,
              bShowShortSpeakerInfo: this.props.bShowShortSpeakerInfo,
            })
          );
        }
      }
      (0, n.gn)([h.ak], Kt.prototype, "ElementAccumulator", null);
    },
    26293: (e, t, a) => {
      "use strict";
      a.d(t, { C: () => X, m: () => V });
      var n = a(85556),
        i = a(27605),
        r = a(37485),
        l = a(47427),
        s = a(77936),
        o = a(95315),
        c = a(70924),
        m = a(29292),
        d = a(93243),
        u = a(73229),
        p = a(64936),
        _ = a(42855),
        h = a(54842),
        g = a(37563),
        E = a(80751),
        S = a.n(E);
      class v {
        constructor() {
          (0, h.rC)(this);
        }
        m_bValidatedEmail = !1;
        m_nMobileDeviceCount = 0;
        m_bIsLoaded = !1;
        m_promise;
        m_bLoadedFromConfig = !1;
        LazyInit() {
          if (!this.m_bLoadedFromConfig) {
            let e = (0, g.ip)("notificationstore", "application_config");
            this.ValidateStoreDefault(e) &&
              (0, h.z)(() => {
                (this.m_bIsLoaded = !0),
                  (this.m_bValidatedEmail = e.email_validated),
                  (this.m_nMobileDeviceCount = e.mobile_device_count);
              }),
              (this.m_bLoadedFromConfig = !0);
          }
        }
        ValidateStoreDefault(e) {
          return (
            e &&
            "object" == typeof e &&
            "number" == typeof e.mobile_device_count
          );
        }
        BIsLoaded() {
          return this.m_bIsLoaded;
        }
        BHasValidatedEmail() {
          return this.m_bValidatedEmail;
        }
        BHasPushNotification() {
          return this.m_nMobileDeviceCount > 0;
        }
        async HintLoad() {
          return (
            this.LazyInit(),
            this.m_bIsLoaded
              ? 1
              : g.L7.logged_in
                ? (this.m_promise || (this.m_promise = this.InternalLoad()),
                  this.m_promise)
                : 1
          );
        }
        async InternalLoad() {
          const e = g.De.STORE_BASE_URL + "notification/ajaxusersettings",
            t = await S().get(e, { withCredentials: !0 });
          return (
            1 == t.data.success &&
              (0, h.z)(() => {
                (this.m_bIsLoaded = !0),
                  (this.m_bValidatedEmail = t.data.email_validated),
                  (this.m_nMobileDeviceCount = t.data.mobile_device_count);
              }),
            t.data.success
          );
        }
      }
      (0, n.gn)([h.LO], v.prototype, "m_bValidatedEmail", void 0),
        (0, n.gn)([h.LO], v.prototype, "m_nMobileDeviceCount", void 0);
      let D = new v();
      var f = a(27241),
        y = a(1485),
        b = a(24827),
        I = a(77178),
        C = a(90069),
        k = a(62613),
        A = a(46882),
        w = a(59728),
        P = a(16649),
        T = a(13129),
        N = a(31846),
        R = a(20417),
        G = a(46984),
        x = a(13499),
        L = a(11448),
        B = a.n(L),
        M = a(81913),
        O = a(38752),
        F = a(71741),
        U = a(80212),
        H = a(63493);
      let V = class extends l.Component {
        m_iMenuInstance;
        m_elDropDownRef = l.createRef();
        m_bLoadWasCancelled = !1;
        state = { bIsOpen: !1, bIsLoadingNotificationSettings: !D.BIsLoaded() };
        componentDidMount() {
          this.state.bIsLoadingNotificationSettings &&
            D.HintLoad()
              .catch(
                (e) => (
                  console.error(
                    "EventReminderWidget load fail: " + (0, P.l)(e).strErrorMsg,
                  ),
                  2
                ),
              )
              .then((e) => {
                1 != e ||
                  this.m_bLoadWasCancelled ||
                  this.setState({ bIsLoadingNotificationSettings: !1 });
              }),
            !this.props.eventModel.appid &&
              this.props.eventModel.clanSteamID &&
              d.sV.LoadClanInfoForClanSteamID(
                this.props.eventModel.clanSteamID,
              );
        }
        componentWillUnmount() {
          this.m_bLoadWasCancelled = !0;
        }
        ToggleMenu(e) {
          const t = _.cb.Get().BIsUserLoggedIn();
          t || g.De.IN_CLIENT
            ? (!t &&
                g.De.IN_CLIENT &&
                console.log(
                  "EventReminderWidget: In Client: Cannot use login widget. We expect to be already logged in.",
                ),
              this.state.bIsOpen ? this.HideMenu() : this.ShowMenu(),
              e.stopPropagation(),
              e.preventDefault())
            : (0, C.AM)(
                l.createElement(I.uH, {
                  strTitle: (0, N.Xx)("#EventDisplay_Share_NotLoggedIn"),
                  strDescription: (0, N.Xx)(
                    "#EventDisplay_Share_NotLoggedIn_Description",
                  ),
                  strOKButtonText: (0, N.Xx)("#MobileLogin_SignIn"),
                  onOK: () => (0, U.Xt)(),
                }),
                window,
              );
        }
        ShowMenu() {
          let e = l.createElement(q, {
              ...this.props,
              fnHasReminderSet: (e) => this.BHasSomeNotificationSetting(e),
              fnHidePanel: this.HideMenu,
            }),
            t = {
              bOverlapHorizontal: !0,
              bOverlapVertical: !0,
              bDisablePopTop: !0,
              bMatchWidth: !0,
              strClassName: (0, T.Z)(
                O.ReminderDialog,
                O.ReminderOptions,
                f.contextMenu,
              ),
            };
          (this.m_iMenuInstance = (0, o.yV)(
            e,
            this.m_elDropDownRef.current,
            t,
          )),
            this.m_iMenuInstance.SetOnHideCallback(this.HideMenu),
            this.setState({ bIsOpen: !0 }),
            u.Y.RecordAppInteractionEvent(
              this.props.eventModel.appid,
              u.g.k_eReminder_Opened,
            );
        }
        HideMenu() {
          this.m_iMenuInstance && this.m_iMenuInstance.Hide(),
            this.setState({ bIsOpen: !1 });
        }
        BHasSomeNotificationSetting(e) {
          const t = e.GID;
          return (
            (D.BHasValidatedEmail() &&
              _.cb
                .Get()
                .BFollowsEventAndNotifiedBy(
                  e.clanSteamID,
                  t,
                  _.rE.k_ENotifyFlagByEmail,
                )) ||
            (D.BHasPushNotification() &&
              _.cb
                .Get()
                .BFollowsEventAndNotifiedBy(
                  e.clanSteamID,
                  t,
                  _.rE.k_ENotifyFlagByPush,
                ))
          );
        }
        render() {
          const e = this.props.bOnlyShowIcon && !this.state.bIsOpen,
            t = this.BHasSomeNotificationSetting(this.props.eventModel),
            a = (0, p.kl)();
          return this.props.eventModel.startTime < a
            ? null
            : l.createElement(
                "div",
                {
                  className: (0, T.Z)({
                    [O.ReminderCheckBox]: !0,
                    [B().ReminderCtn]: !0,
                    [O.IconMode]: e,
                    [O.TextMode]: !e,
                    ReminderSet: t,
                    RemindMeWidget: !0,
                  }),
                  onClick: this.ToggleMenu,
                  ref: this.m_elDropDownRef,
                },
                t &&
                  l.createElement(
                    "div",
                    { className: O.RemindCheck },
                    l.createElement(k.JrY, null),
                  ),
                e &&
                  l.createElement(
                    "div",
                    { className: O.RemindBell },
                    l.createElement(k.Uos, null),
                  ),
                l.createElement(
                  "div",
                  { className: O.ReminderDefault },
                  (0, N.Xx)("#EventDisplay_Reminder_SetReminder"),
                ),
                l.createElement("div", { className: O.ReminderOptions }),
              );
        }
      };
      function X(e) {
        const { bPreviewMode: t, eventGID: a, ...n } = e,
          i = (0, m.XC)(a);
        if (!i)
          return t
            ? l.createElement(
                "div",
                { className: H.ErrorDiv },
                (0, N.Xx)("#EventDidplay_Reminder_EventNotVisible", a),
              )
            : null;
        const r = (0, s.jM)(g.De.LANGUAGE);
        return l.createElement(V, { lang: r, ...n, eventModel: i });
      }
      function j(e) {
        return r.unix(e).utc().format("YYYYMMDD[T]HHmmss[Z]");
      }
      (0, n.gn)([R.ak], V.prototype, "ToggleMenu", null),
        (0, n.gn)([R.ak], V.prototype, "ShowMenu", null),
        (0, n.gn)([R.ak], V.prototype, "HideMenu", null),
        (V = (0, n.gn)([i.Pi], V));
      let q = class extends l.Component {
        state = { bIsRequestInFlight: !1 };
        async OnChangeFollowOrIgnore(e, t, a) {
          const { eventModel: n } = this.props,
            i = n?.GID;
          if (i && i != s.Z3) {
            this.setState({ bIsRequestInFlight: !0 });
            try {
              await _.cb
                .Get()
                .SetFollowOrUnfollowEvent(!e, t, n.clanSteamID, i, a),
                e &&
                  (a === _.rE.k_ENotifyFlagByEmail
                    ? this.TrackEventAction(u.g.k_eReminder_Email)
                    : a === _.rE.k_ENotifyFlagByPush &&
                      this.TrackEventAction(u.g.k_eReminder_MobilePush));
            } catch (e) {
              (0, C.BR)(
                l.createElement(
                  I.JX,
                  {
                    strTitle: (0, N.Xx)(
                      t
                        ? "#EventDisplay_Reminder_IgnoreEvent_Error"
                        : "#EventDisplay_Reminder_FollowEvent_Error",
                    ),
                    strDescription: (0, N.Xx)(
                      t
                        ? "#EventDisplay_Reminder_IgnoreEvent_ErrorDesc"
                        : "#EventDisplay_Reminder_FollowEvent_ErrorDesc",
                    ),
                  },
                  (0, P.l)(e).strErrorMsg,
                ),
                window,
              );
            }
            this.setState({ bIsRequestInFlight: !1 });
          }
        }
        OnChangeFollowByEmail(e) {
          this.OnChangeFollowOrIgnore(e, !1, _.rE.k_ENotifyFlagByEmail);
        }
        OnChangeFollowByPush(e) {
          this.OnChangeFollowOrIgnore(e, !1, _.rE.k_ENotifyFlagByPush);
        }
        GetExternalCalendarEventTitle() {
          const { eventModel: e, lang: t } = this.props,
            a = e.GetNameWithFallback(t);
          if (c.xM.BHasEntityNameForID(e.appid, e.clanSteamID.GetAccountID())) {
            return `${c.xM.GetEntityNameForID(e.appid, e.clanSteamID.GetAccountID())}: ${a}`;
          }
          return a;
        }
        TrackEventAction(e) {
          const { eventModel: t } = this.props;
          u.Y.RecordAppInteractionEvent(t.appid, e);
        }
        GetExternalCalendarEventBody() {
          const { eventModel: e, lang: t } = this.props;
          let a = e.GetSubTitleWithLanguageFallback(t);
          a = a ? `${a}\n\n\n` : "";
          const n = e.GetSummaryWithFallback(t),
            i = e.jsondata.bSaleEnabled
              ? M.Ue.k_eStoreSalePage
              : M.Ue.k_eStoreView;
          return `${a}${n}\n\n${(0, M.q)(e, i, "forceAbsolute")}`;
        }
        GetGoogleCalendarLink() {
          const { eventModel: e } = this.props,
            t = encodeURIComponent(this.GetExternalCalendarEventTitle()),
            a = encodeURIComponent(this.GetExternalCalendarEventBody()),
            n = e.GetStartTimeAndDateUnixSeconds(),
            i = j(n),
            r = j(e.GetEndTimeAndDateUnixSeconds() || n + G._H.PerHour),
            l =
              (g.De.IN_CLIENT ? "steam://openurl_external/" : "") +
              `https://calendar.google.com/calendar/r/eventedit?text=${t}&details=${a}&dates=${i}/${r}`;
          return (0, x.OL)(l);
        }
        GetICSDownloadLink(e) {
          const { eventModel: t, lang: a } = this.props,
            n = t.appid
              ? "app/" + t.appid
              : "group/" + t.clanSteamID.GetAccountID(),
            i = "l=" + (0, s.j_)(a);
          return `${g.De.STORE_BASE_URL}${(0, M.x3)()}/download/${n}/${e}/${t.GID}?${i}`;
        }
        render() {
          const {
              eventModel: e,
              bShowStartTime: t,
              bExpandLeft: a,
              bOnlyShowIcon: n,
              fnHasReminderSet: i,
              fnHidePanel: r,
            } = this.props,
            s = D.BHasValidatedEmail(),
            o = D.BHasPushNotification(),
            c = t && e.GetStartTimeAndDateUnixSeconds();
          return l.createElement(
            "div",
            null,
            l.createElement(
              "div",
              {
                className: (0, T.Z)(
                  O.ReminderCheckBox,
                  n ? O.IconMode : O.TextMode,
                  "RemindMeWidget",
                ),
                onClick: r,
              },
              i(this.props.eventModel) &&
                l.createElement(
                  "div",
                  { className: O.RemindCheck },
                  l.createElement(k.JrY, null),
                ),
              n &&
                l.createElement(
                  "div",
                  { className: O.RemindBell },
                  l.createElement(k.Uos, null),
                ),
              l.createElement(
                "div",
                { className: O.ReminderDefault },
                (0, N.Xx)("#EventDisplay_Reminder_SetReminder"),
              ),
              l.createElement("div", { className: O.ReminderOpennedOptions }),
            ),
            l.createElement(
              "div",
              {
                className: (0, T.Z)(
                  O.FlexColumnContainer,
                  O.ReminderBackground,
                  a && O.ReminderExpandsLeft,
                ),
              },
              this.state.bIsRequestInFlight &&
                l.createElement(A.V, {
                  className: O.RpcThrobber,
                  size: "xlarge",
                  position: "center",
                }),
              c &&
                l.createElement(
                  "div",
                  { className: O.FullStartTime },
                  (0, N.kQ)(
                    "#EventDisplay_EventUpcoming_WithDateAndTime",
                    (0, N.$1)(
                      c,
                      (0, G.U8)(
                        new Date(1e3 * c),
                        p.JW.GetTimeNowWithOverrideAsDate(),
                      ),
                    ),
                    (0, b.w$)(c, !0),
                  ),
                ),
              l.createElement(
                "div",
                { className: O.ReminderOptionsHeader },
                (0, N.Xx)("#EventDisplay_Reminder_GetNotification_Via"),
              ),
              l.createElement(
                "div",
                { className: (0, T.Z)(O.ReminderOption, !s && O.Unverified) },
                l.createElement(
                  w.HP,
                  {
                    className: O.CheckboxWrapper,
                    bTopmost: !0,
                    toolTipContent: (0, N.Xx)(
                      s
                        ? "#EventReminder_NotifyByEmail_ttip"
                        : "#EventReminder_NotifyByEmail_Missing",
                    ),
                  },
                  l.createElement(y.ji, {
                    label: (0, N.Xx)("#EventDisplay_Reminder_ViaEmail"),
                    disabled: !s,
                    checked: _.cb
                      .Get()
                      .BFollowsEventAndNotifiedBy(
                        e.clanSteamID,
                        e.GID,
                        _.rE.k_ENotifyFlagByEmail,
                      ),
                    onChange: this.OnChangeFollowByEmail,
                  }),
                ),
                !s &&
                  l.createElement(
                    "div",
                    { className: F.FlexColumnContainer },
                    l.createElement(
                      "a",
                      {
                        href: g.De.STORE_BASE_URL + "account/",
                        target: g.De.IN_CLIENT ? void 0 : "_blank",
                        onClick: () =>
                          this.TrackEventAction(
                            u.g.k_eReminder_EmailUnverified,
                          ),
                      },
                      (0, N.Xx)("#EventReminder_NotifyByEmail_Missing_Add"),
                    ),
                  ),
              ),
              l.createElement(
                "div",
                { className: (0, T.Z)(O.ReminderOption, !o && O.Unverified) },
                l.createElement(
                  w.HP,
                  {
                    className: O.CheckboxWrapper,
                    bTopmost: !0,
                    toolTipContent: (0, N.Xx)(
                      o
                        ? "#EventReminder_NotifyByMobile_ttip"
                        : "#EventReminder_NotifyByMobile_Missing",
                    ),
                  },
                  l.createElement(y.ji, {
                    label: (0, N.Xx)("#EventDisplay_Reminder_ViaMobileApp"),
                    disabled: !o,
                    checked: _.cb
                      .Get()
                      .BFollowsEventAndNotifiedBy(
                        e.clanSteamID,
                        e.GID,
                        _.rE.k_ENotifyFlagByPush,
                      ),
                    onChange: this.OnChangeFollowByPush,
                  }),
                ),
                !o &&
                  l.createElement(
                    "div",
                    { className: F.FlexColumnContainer },
                    l.createElement(
                      "a",
                      {
                        href: g.De.STORE_BASE_URL + "mobile/?show=steamapp",
                        target: g.De.IN_CLIENT ? void 0 : "_blank",
                        onClick: () =>
                          this.TrackEventAction(
                            u.g.k_eReminder_MobilePushMissing,
                          ),
                      },
                      (0, N.Xx)("#EventReminder_NotifyByMobile_Install"),
                    ),
                  ),
              ),
              l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  { className: O.ReminderOptionsHeader },
                  (0, N.Xx)("#EventDisplay_Reminder_AddToCalendar"),
                ),
                l.createElement(
                  "div",
                  { className: O.ReminderCalendarOptions },
                  l.createElement(
                    "a",
                    {
                      className: O.ReminderOption,
                      href: this.GetICSDownloadLink("ics"),
                      onClick: () =>
                        this.TrackEventAction(u.g.k_eReminder_CalendarApple),
                    },
                    (0, N.Xx)("#EventDisplay_Reminder_AppleCalendar_Short"),
                  ),
                  l.createElement(
                    "a",
                    {
                      className: O.ReminderOption,
                      target: g.De.IN_CLIENT ? void 0 : "_blank",
                      href: this.GetGoogleCalendarLink(),
                      onClick: () =>
                        this.TrackEventAction(u.g.k_eReminder_CalendarGoogle),
                    },
                    (0, N.Xx)("#EventDisplay_Reminder_GoogleCalendar_Short"),
                  ),
                  l.createElement(
                    "a",
                    {
                      className: O.ReminderOption,
                      href: this.GetICSDownloadLink("outlook"),
                      onClick: () =>
                        this.TrackEventAction(u.g.k_eReminder_CalendarOutlook),
                    },
                    (0, N.Xx)("#EventDisplay_Reminder_OutlookCalendar_Short"),
                  ),
                ),
              ),
              !1,
            ),
          );
        }
      };
      (0, n.gn)([R.ak], q.prototype, "OnChangeFollowByEmail", null),
        (0, n.gn)([R.ak], q.prototype, "OnChangeFollowByPush", null),
        (0, n.gn)([R.ak], q.prototype, "TrackEventAction", null),
        (q = (0, n.gn)([i.Pi], q));
    },
    27910: (e, t, a) => {
      "use strict";
      a.d(t, { Pi: () => S, ko: () => v, uW: () => E });
      var n = a(85556),
        i = a(27605),
        r = a(30750),
        l = a(47427),
        s = a(77936),
        o = a(38071),
        c = a(65650),
        m = a(71741),
        d = a.n(m),
        u = a(13129),
        p = a(31846),
        _ = a(12251),
        h = a(20417),
        g = a(59728);
      let E = class extends l.Component {
        GenerateLanguageOptions() {
          let e = [];
          const {
            fnFilterLanguage: t,
            fnLangHasData: a,
            fnLastUpdateRTime: n,
            fnIsLangSupported: i,
          } = this.props;
          this.props.bAllowUnsetOption &&
            e.push(
              l.createElement(
                "option",
                { key: "langpicker_unset", value: -1 },
                (0, p.Xx)("#language_selection_none"),
              ),
            );
          let r = new Array();
          const c = this.props.realms || [o.IN.k_ESteamRealmGlobal];
          for (const e of p.LJ.GetLanguageListForRealms(c)) {
            if (t && !t(e)) continue;
            const a = (0, s.j_)(e),
              n = (0, p.Xx)("#Language_" + a),
              l = Boolean(i) && i(e);
            r.push({ eLang: e, sLocName: n, bSupported: l });
          }
          r.sort((e, t) =>
            e.bSupported != t.bSupported
              ? e.bSupported
                ? -1
                : 1
              : e.sLocName.localeCompare(t.sLocName),
          );
          let m = !1;
          for (const t of r) {
            t.bSupported != m &&
              (e.push(
                l.createElement(
                  "option",
                  {
                    key: t.bSupported ? "SupportedGroup" : "UnsupportedGroup",
                    className: d().SupportedGroupLabel,
                    disabled: !0,
                  },
                  (0, p.Xx)(
                    t.bSupported
                      ? "#LanguageGroup_Supported"
                      : "#LanguageGroup_Unsupported",
                  ),
                ),
              ),
              (m = t.bSupported));
            const i = a && a(t.eLang),
              r = n && n(t.eLang);
            let s = t.sLocName;
            r &&
              0 !== r &&
              ((s += " "),
              (s += (0, p.Xx)(
                "#Language_Last_Update",
                (0, p.vX)(r) + " @ " + (0, _.Sc)(r, { bForce24HourClock: !1 }),
              ))),
              e.push(
                l.createElement(
                  "option",
                  {
                    key: "langpicker" + t.eLang + (i ? "_hasdata" : ""),
                    value: t.eLang,
                    className: (0, u.Z)(
                      { [d().LanguageWithContent]: i },
                      t.bSupported
                        ? d().SupportedLanguage
                        : d().UnsupportedLanguage,
                    ),
                  },
                  s,
                ),
              );
          }
          return e;
        }
        OnLanguageChange(e) {
          const { fnOnLanguageChanged: t, selectedLang: a } = this.props;
          let n = Number.parseInt(e.currentTarget.value);
          n != a && t && t(n);
        }
        render() {
          const { selectedLang: e, bDisabled: t, strTooltip: a } = this.props;
          let n = this.GenerateLanguageOptions();
          return l.createElement(
            g.HP,
            { toolTipContent: a },
            l.createElement(
              "select",
              { value: e, onChange: this.OnLanguageChange, disabled: t },
              n,
            ),
          );
        }
      };
      function S(e) {
        const [t, a] = (0, r.SZ)(() => [
          c.U.Get().GetHasLocalizationContext(),
          c.U.Get().GetCurEditLanguage(),
        ]);
        return l.createElement(E, {
          selectedLang: a,
          fnLangHasData: c.U.Get().BHasLanguageData,
          fnOnLanguageChanged: c.U.Get().SetCurEditLanguage,
          bDisabled: !t,
          strTooltip: t ? void 0 : (0, p.Xx)("#Localization_EditorNotInFocus"),
        });
      }
      function v(e) {
        const { fnLangHasData: t } = e;
        l.useEffect(
          () => (
            c.U.Get().SetHasLocalizationContext(!0),
            () => c.U.Get().SetHasLocalizationContext(!1)
          ),
          [],
        );
        const a = (0, r.SZ)(() => {
          const e = [];
          for (let a = 0; a < 31; ++a) e[a] = t(a);
          return e;
        });
        return (
          l.useEffect(() => c.U.Get().SetHasLanguage(a), [a]),
          l.createElement(l.Fragment, null)
        );
      }
      (0, n.gn)([h.ak], E.prototype, "OnLanguageChange", null),
        (E = (0, n.gn)([i.Pi], E));
    },
    82093: (e, t, a) => {
      "use strict";
      a.d(t, { DF: () => r, QI: () => l, SY: () => s });
      var n = a(47427);
      const i = { eLocation: 0 },
        r = n.createContext(i);
      function l(e) {
        const { children: t, location: a } = e;
        return n.createElement(
          r.Provider,
          { value: { ...i, eLocation: a } },
          t,
        );
      }
      function s() {
        return n.useContext(r);
      }
    },
    58798: (e, t, a) => {
      "use strict";
      a.d(t, { qs: () => S, pj: () => v, G$: () => D });
      var n = a(85556),
        i = a(27605),
        r = a(47427),
        l = a(29525),
        s = a(77936),
        o = a(83654),
        c = a(37265),
        m = (a(59728), a(20417)),
        d = a(37563),
        u = a(31932),
        p = a(20142);
      function _(e) {
        return new p.So(new p.LT(), 0);
      }
      function h(e) {
        const { text: t, languageOverride: a } = e,
          [n] = (0, r.useState)(
            new u.Z(new Map([...Array.from(l.Be.entries())]), _, a),
          );
        return r.createElement(r.Fragment, null, n.ParseBBCode(t, {}));
      }
      var g = a(16003),
        E = a.n(g);
      const S = (0, i.Pi)((e) => {
        const t = e.photo ? (0, l.vZ)(e.photo, (0, s.jM)(d.De.LANGUAGE)) : null,
          a = e.photo ? ("string" == typeof t ? t : t[1]) : null,
          n = Boolean(e.title),
          i = Boolean(e.company);
        return r.createElement(
          "div",
          { className: E().SpeakerPopup, onMouseLeave: e.fnClose },
          r.createElement(
            "div",
            { className: E().SpeakerInfoOuter },
            e.photo && r.createElement("img", { src: a }),
            r.createElement(
              "div",
              { className: E().SpeakerInfoInner },
              r.createElement("div", null, e.name),
              (n || i) &&
                r.createElement(
                  "div",
                  null,
                  n &&
                    r.createElement(
                      "span",
                      { className: E().SpeakerTitle },
                      e.title,
                    ),
                  n && i && r.createElement("span", null, ", "),
                  i && r.createElement("span", null, e.company),
                ),
            ),
          ),
          e.bio &&
            r.createElement(
              "div",
              { className: E().SpeakerBio },
              e.bio,
              e.bioString && r.createElement(h, { text: e.bioString }),
            ),
        );
      });
      class v extends r.Component {
        static sm_embeddedElements = new o.AN(
          "presenter-hover-source-elements",
        );
        m_refAnchor = r.createRef();
        m_fnHidePopup;
        m_nScrollPosAtHoverStart;
        ClosePopup() {
          this.m_fnHidePopup &&
            (this.m_fnHidePopup(),
            (this.m_fnHidePopup = null),
            window.removeEventListener("scroll", this.OnScroll));
        }
        componentWillUnmount() {
          this.ClosePopup();
        }
        OnScroll() {
          Math.abs(window.scrollY - this.m_nScrollPosAtHoverStart) > 50 &&
            this.ClosePopup();
        }
        OnHover(e) {
          const t = this.m_refAnchor.current;
          if (!t) return;
          const a = {
              direction: "right",
              bEnablePointerEvents: !0,
              style: { maxWidth: 640, minHeight: t.clientHeight },
              target: t,
            },
            n = "presenter-hover-" + Math.floor(1e8 * Math.random());
          (this.m_fnHidePopup = () =>
            v.sm_embeddedElements.HideElement(t.ownerDocument, n)),
            window.addEventListener("scroll", this.OnScroll),
            (this.m_nScrollPosAtHoverStart = window.scrollY);
          v.sm_embeddedElements.ShowElementDelayed(
            t.ownerDocument,
            150,
            r.createElement(
              c.T,
              { ...a },
              r.createElement(S, { ...this.props, fnClose: this.OnLeave }),
            ),
            n,
          );
        }
        OnLeave(e) {
          this.ClosePopup();
        }
        render() {
          return r.createElement(
            "div",
            {
              className: E().SpeakerHover,
              ref: this.m_refAnchor,
              onMouseEnter: this.OnHover,
              onFocus: this.OnHover,
              onMouseLeave: this.OnLeave,
              onBlur: this.OnLeave,
            },
            this.props.children,
          );
        }
      }
      (0, n.gn)([m.ak], v.prototype, "ClosePopup", null),
        (0, n.gn)([m.ak], v.prototype, "OnScroll", null),
        (0, n.gn)([m.ak], v.prototype, "OnHover", null),
        (0, n.gn)([m.ak], v.prototype, "OnLeave", null);
      class D extends r.Component {
        render() {
          const e = this.props.photo
              ? (0, l.vZ)(this.props.photo, (0, s.jM)(d.De.LANGUAGE))
              : null,
            t =
              this.props.photo && !this.props.hidePhotoInCompactView
                ? "string" == typeof e
                  ? e
                  : e[1]
                : null,
            a = Boolean(this.props.title),
            n = Boolean(this.props.company);
          return r.createElement(
            "div",
            { className: E().SpeakerOuter },
            r.createElement(
              v,
              { ...this.props },
              r.createElement(
                "div",
                { className: E().Speaker },
                r.createElement(
                  "div",
                  { className: E().SpeakerInfoOuter },
                  !!t && r.createElement("img", { src: t }),
                  r.createElement(
                    "div",
                    { className: E().SpeakerInfoInner },
                    r.createElement("div", null, this.props.name),
                    (a || n) &&
                      r.createElement(
                        "div",
                        null,
                        a &&
                          r.createElement(
                            "span",
                            { className: E().SpeakerTitle },
                            this.props.title,
                          ),
                        a && n && r.createElement("span", null, ", "),
                        n && r.createElement("span", null, this.props.company),
                      ),
                  ),
                ),
              ),
            ),
          );
        }
      }
    },
    92936: (e, t, a) => {
      "use strict";
      a.d(t, { _U: () => Ee, YK: () => ge, AO: () => ve });
      var n = a(27605),
        i = a(47427),
        r = a(35427),
        l = a(19399),
        s = a(58670),
        o = a(85556),
        c = a(79545),
        m = a(44922),
        d = a(54842),
        u = a(51688),
        p = a(77581),
        _ = (a(97087), a(38079)),
        h = a(75375),
        g = a(45492),
        E = a(20417),
        S = a(37563);
      function v(e, t) {
        const a = t?.nSaleTagID,
          n = t?.strContentHubType,
          i = t?.strContentHubCategory,
          r = t?.nContentHubTagID,
          l = t?.bDiscountsOnly,
          s = t?.bPrioritizeDiscounts,
          o = t?.strOptInName,
          c = t?.nOptInTagID,
          m = t?.nPruneTagID;
        let d = e.toString();
        return (
          a
            ? (d += "_" + a)
            : n &&
              ((d += "_" + n),
              "category" === n && i
                ? (d += "_" + i)
                : "tags" === n && r && (d += "_" + r),
              l ? (d += "_d") : s && (d += "_p"),
              o && c && m && (d += "_" + o)),
          d
        );
      }
      function D(e) {
        const t = e?.nSaleTagID,
          a = e?.strContentHubType,
          n = e?.strContentHubCategory,
          i = e?.nContentHubTagID,
          r = e?.bDiscountsOnly,
          l = e?.bPrioritizeDiscounts,
          s = e?.strOptInName,
          o = e?.nOptInTagID,
          c = e?.nPruneTagID,
          m = e?.bOptInOnly,
          d = new _._v();
        if (t) {
          const e = new _.KQ();
          e.set_sale_tagid(t), d.set_sale_filter(e);
        } else if (a) {
          const e = new _.AY();
          if (
            (e.set_hub_type(a),
            "category" === a
              ? e.set_hub_category(n)
              : "tags" === a && e.set_hub_tagid(i),
            r ? e.set_discount_filter(1) : l && e.set_discount_filter(2),
            s)
          ) {
            const t = new _.q8();
            t.set_name(s),
              t.set_optin_tagid(o),
              t.set_prune_tagid(c),
              t.set_optin_only(m),
              e.set_optin(t);
          }
          d.set_content_hub_filter(e);
        }
        return d;
      }
      class f {
        m_transport;
        m_mapDiscoveryQueues = new Map();
        m_mapSkippedApps = new Map();
        m_mapSkippedAppCount = new Map();
        m_mapInClientCompleted = new Map();
        m_mapInClientCompletedCallback = new Map();
        m_setExhuasted = new Set();
        m_mapExhuastedCallback = new Map();
        GetTotalSkippedAppsForDiscoveryQueue(e, t) {
          const a = v(e, t);
          return this.m_mapDiscoveryQueues.get(a).skipped;
        }
        GetNumAppsSeenForDiscoveryQueue(e, t) {
          const a = v(e, t);
          return this.m_mapSkippedAppCount.get(a) || 0;
        }
        GetSkippedAppKey(e, t, a) {
          return `${e}_${v(t, a)}`;
        }
        GetInClientCompletedQueues(e, t) {
          const a = v(e, t);
          return this.m_mapInClientCompleted.get(a) || 0;
        }
        GetInClientCompletedQueuesCallback(e, t) {
          const a = v(e, t);
          return (
            this.m_mapInClientCompletedCallback.has(a) ||
              this.m_mapInClientCompletedCallback.set(a, new g.pB()),
            this.m_mapInClientCompletedCallback.get(a)
          );
        }
        GetExhaustedCallback(e, t) {
          const a = v(e, t);
          return (
            this.m_mapExhuastedCallback.has(a) ||
              this.m_mapExhuastedCallback.set(a, new g.pB()),
            this.m_mapExhuastedCallback.get(a)
          );
        }
        BIsExhausted(e, t) {
          const a = v(e, t);
          return this.m_setExhuasted.has(a);
        }
        async LoadDiscoveryQueue(e, t, a) {
          const n = v(e, a),
            i = c.gA.Init(h.cJ);
          i.Body().set_queue_type(e),
            i.Body().set_country_code(S.De.COUNTRY || "US"),
            i.Body().set_rebuild_queue(t),
            i.Body().set_rebuild_queue_if_stale(!0),
            (1 !== e && 9 !== e) ||
              i.Body().settings().set_include_coming_soon(!0),
            (Boolean(a?.nSaleTagID) || Boolean(a?.strContentHubType)) &&
              i.Body().set_store_page_filter(D(a));
          const r = await h.d6.GetDiscoveryQueue(this.m_transport, i),
            l = r.GetEResult();
          if (1 == l) {
            const t = r.Body().toObject();
            this.m_mapDiscoveryQueues.set(n, t),
              t.exhausted
                ? this.m_setExhuasted.has(n) ||
                  (this.m_setExhuasted.add(n),
                  this.GetExhaustedCallback(e, a).Dispatch(!0))
                : this.m_setExhuasted.has(n) &&
                  (this.m_setExhuasted.delete(n),
                  this.GetExhaustedCallback(e, a).Dispatch(!1)),
              this.m_mapSkippedAppCount.set(n, t.skipped || 0);
          } else
            console.warn(
              "Error",
              l,
              "failed to get discovery queue type",
              e,
              "key",
              n,
            );
          return l;
        }
        async GetDiscoveryQueueAppsOfType(e, t, a) {
          const n = v(e, a);
          return (
            (!t && this.m_mapDiscoveryQueues.has(n)) ||
              (await this.LoadDiscoveryQueue(e, t, a)),
            {
              appids: this.m_mapDiscoveryQueues.get(n).appids,
              exhausted: this.m_mapDiscoveryQueues.get(n).exhausted,
            }
          );
        }
        async SkipDiscoveryQueueItem(e, t, a) {
          v(t, a);
          const n = this.GetSkippedAppKey(e, t, a);
          if (!this.m_mapSkippedApps.has(n)) {
            const i = v(t, a),
              r = this.m_mapDiscoveryQueues.get(i).appids,
              l = r[r.length - 1] == e;
            this.m_mapSkippedApps.set(n, !0),
              this.m_mapSkippedAppCount.set(
                i,
                (this.m_mapSkippedAppCount.get(i) || 0) + 1,
              );
            const s = c.gA.Init(h.Ew);
            s.Body().set_appid(e),
              s.Body().set_queue_type(t),
              (Boolean(a?.nSaleTagID) || Boolean(a?.strContentHubType)) &&
                s.Body().set_store_page_filter(D(a));
            const o = (
              await h.d6.SkipDiscoveryQueueItem(this.m_transport, s)
            ).GetEResult();
            1 != o && 29 != o
              ? (console.warn("Error", o, "failed to skip appid ", e),
                this.m_mapSkippedApps.delete(n))
              : l && this.MarkDiscoveryQueueCompleted(t, a);
          }
        }
        MarkDiscoveryQueueCompleted(e, t) {
          const a = v(e, t);
          if (this.m_mapInClientCompleted.has(a)) {
            const n = this.m_mapInClientCompleted.get(a) + 1;
            this.m_mapInClientCompleted.set(a, n),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(n);
          } else
            this.m_mapInClientCompleted.set(a, 0),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(0);
        }
        async LoadSkippedApps(e, t) {
          v(e, t);
          const a = c.gA.Init(h.iM);
          a.Body().set_steamid(S.L7.steamid),
            a.Body().set_queue_type(e),
            (Boolean(t?.nSaleTagID) || Boolean(t?.strContentHubType)) &&
              a.Body().set_store_page_filter(D(t));
          const n = await h.d6.GetDiscoveryQueueSkippedApps(
            this.m_transport,
            a,
          );
          return 1 === n.GetEResult()
            ? n.Body().appids() || []
            : (console.warn(
                "Failed to retrieve skipped apps for discovery queue.",
                e,
                t,
                n.GetEResult(),
              ),
              []);
        }
        static s_DiscoveryQueueStore = null;
        static Init(e) {
          f.Get().m_transport = e;
        }
        static BHasTransport() {
          return Boolean(f.Get().m_transport);
        }
        static Get() {
          return (
            this.s_DiscoveryQueueStore ||
              (this.s_DiscoveryQueueStore = new f()),
            this.s_DiscoveryQueueStore
          );
        }
        constructor() {
          (0, d.rC)(this);
        }
      }
      (0, o.gn)([d.LO], f.prototype, "m_mapDiscoveryQueues", void 0);
      a(47242), a(11448), a(11578);
      var y = a(91618),
        b = (a(77151), a(15690), a(80886), a(42718), a(80998));
      a(40057);
      i.createContext({});
      var I = a(62613),
        C = a(82493);
      a(4030), a(84686), a(3783), a(4654), a(31421), a(84270), a(13557);
      a(86437), a(74031), a(85305), a(11619), a(46157);
      var k = a(42287),
        A = a(45651),
        w = a(60616),
        P = a(59794),
        T = a(15633),
        N = a(48766),
        R = a(68785),
        G = a(56617);
      const x = new R.sO("VirtualizedBoxCarousel").Debug;
      i.forwardRef(function (e, t) {
        const { name: a, initialColumn: n } = e,
          [r, l] = (0, G.i4)("VBC_" + a, n || 0),
          s = (0, S.id)();
        return i.createElement(L, {
          ...e,
          ref: t,
          focusedColumn: r,
          setFocusedColumn: l,
          autoHeight: !s,
        });
      });
      class L extends i.PureComponent {
        static defaultProps = {
          nIndexLeftmost: 0,
          scrollDuration: 100,
          scrollTiming: "sine",
          enableBumperPaging: !1,
          initialColumn: 0,
          bPlaySoundOnFailedScroll: !0,
        };
        state = { nContainerWidth: 0, nRightPadding: 0 };
        m_refContainer = i.createRef();
        m_refGrid = void 0;
        m_refGridElement = void 0;
        m_resizeObserver;
        m_scrollAnimation = null;
        m_mapRefs = new Map();
        m_iStart = 0;
        m_iEnd = 0;
        m_activeScrollTo = null;
        StartScrollAnimation(e, t, a, n, i) {
          let r = this.m_refGrid;
          if (r)
            if (i) {
              const r = this.m_refGridElement;
              x("StartScrollAnimation", a, n, i);
              let l = {
                msDuration: i,
                timing: this.props.scrollTiming,
                onComplete: () => this.OnAnimationScrollComplete(e, t, a, n),
              };
              this.m_scrollAnimation && this.m_scrollAnimation.End(),
                (this.m_scrollAnimation = new N.jg(r, { scrollLeft: n }, l)),
                this.m_scrollAnimation.Start();
            } else
              r.scrollToPosition({ scrollLeft: n, scrollTop: 0 }),
                this.OnAnimationScrollComplete(e, t, a, n);
        }
        RestoreScrollPosition(e) {
          this.StartScrollAnimation(
            T.eV.INVALID,
            0,
            "RestoreScrollPosition",
            e,
            0,
          );
        }
        m_timeout = void 0;
        SendScrollNotification(e) {
          this.m_timeout && window.clearTimeout(this.m_timeout);
          const t = this.props.fnOnScroll;
          this.m_timeout = window.setTimeout(() => {
            t && t(e), (this.m_timeout = void 0);
          }, 250);
        }
        OnAnimationScrollComplete(e, t, a, n) {
          k.unstable_batchedUpdates(() => {
            x("OnAnimationScrollComplete", a, n),
              this.SendScrollNotification(n);
            const i = this.m_mapRefs.get(a);
            i &&
              i.current &&
              (x("Sending focus to", a), i.current.TakeFocus(e)),
              this.props.setFocusedColumn(t),
              (this.m_scrollAnimation = null),
              (this.m_activeScrollTo = null);
          });
        }
        m_nTouchStartClientX = void 0;
        OnTouchStart(e) {
          1 == e.touches.length &&
            (this.m_nTouchStartClientX = e.touches[0].clientX);
        }
        OnTouchEnd(e) {
          this.m_nTouchStartClientX = void 0;
        }
        OnTouchMove(e) {
          if (!this.m_refGrid || 0 == e.touches.length) return;
          const t = this.m_nTouchStartClientX - e.touches[0].clientX;
          this.BlockMovementLeftPastFirstElement(e, t);
        }
        m_bMouseDown = !1;
        OnMouseDown(e) {
          this.m_bMouseDown = !0;
        }
        OnMouseUp(e) {
          this.m_bMouseDown = !1;
        }
        BlockMovementLeftPastFirstElement(e, t) {
          const a = this.m_refGrid.getOffsetForCell({
            alignment: this.props.scrollToAlignment,
            columnIndex: this.props.nIndexLeftmost,
          });
          this.m_refGridElement.scrollLeft - a.scrollLeft + t < 0 &&
            e.cancelable &&
            (console.warn("Blocking touch scroll out of bounds"),
            e.cancelable && e.preventDefault());
        }
        SnapBackToFirstElement(e) {
          console.warn("Carousel out of bounds, scrolling back to", e),
            this.RestoreScrollPosition(e);
        }
        OnScroll(e) {
          const t = this.m_refGrid?.getOffsetForCell({
            alignment: this.props.scrollToAlignment,
            columnIndex: this.props.nIndexLeftmost,
          });
          this.SendScrollNotification(e.scrollLeft),
            e.scrollLeft < Math.floor(t?.scrollLeft) &&
              this.SnapBackToFirstElement(t.scrollLeft),
            this.UpdateScrollArrows();
        }
        GetCellColumnWidth(e) {
          let { fnGetColumnWidth: t } = this.props,
            a = t(e.index) + this.props.nItemMarginX;
          return (
            e.index == this.props.nNumItems - 1 &&
              (a += this.state.nRightPadding),
            a
          );
        }
        OnItemFocused(e, t) {
          this.m_bMouseDown ||
            this.ScrollToItem(
              T.eV.INVALID,
              t,
              this.props.scrollToAlignment || "auto",
              void 0,
              0,
            );
        }
        CellRenderer(e) {
          const {
              fnGetColumnWidth: t,
              fnGetId: a,
              fnItemRenderer: n,
              nItemHeight: r,
              autoFocus: l,
            } = this.props,
            { key: s, columnIndex: o, style: c } = e,
            m = t(o),
            d = parseInt(c.left.toString()),
            u = a(o),
            p = !this.m_mapRefs.has(u),
            _ = this.m_mapRefs.get(u) || (0, C.Hy)();
          return (
            this.m_mapRefs.set(u, _),
            i.createElement(
              y.s,
              {
                key: s,
                navKey: s,
                navRef: _,
                focusable: !1,
                onGamepadDirection: this.OnGamepadDirection,
                autoFocus: l && o == this.props.focusedColumn && p,
                "data-id": u,
                onFocus: (e) => this.OnItemFocused(e, o),
                style: c,
              },
              n(o, m, r, d),
            )
          );
        }
        OnSectionRendered(e) {
          (this.m_iStart = e.columnStartIndex),
            (this.m_iEnd = e.columnStopIndex),
            x("Section rendered", this.m_iStart, this.m_iEnd),
            this.UpdateScrollArrows();
        }
        get alignment() {
          return this.props.scrollToAlignment || "start";
        }
        GetLastFocusableColumn() {
          let e = this.props.nNumItems - 1;
          if (this.props.fnDoesItemTakeFocus)
            for (
              ;
              !this.props.fnDoesItemTakeFocus(e) &&
              e > this.props.nIndexLeftmost;

            )
              e--;
          return x("LastFocusableColumn: ", e), e;
        }
        UpdateScrollArrows() {
          if (this.props.fnUpdateArrows) {
            const e = this.m_refGrid?.getOffsetForCell({
                alignment: this.props.scrollToAlignment,
                columnIndex: this.props.nIndexLeftmost,
              }),
              t = this.m_refGrid?.getOffsetForCell({
                alignment: this.props.scrollToAlignment,
                columnIndex: this.GetLastFocusableColumn(),
              }),
              a = Math.round(this.m_refGridElement?.scrollLeft),
              n =
                a != Math.floor(e?.scrollLeft) &&
                a != Math.round(e?.scrollLeft),
              i =
                a != Math.floor(t?.scrollLeft) &&
                a != Math.round(t?.scrollLeft);
            x(
              "ShowLeftArrow: ",
              n,
              e,
              " ShowRightArrow: ",
              i,
              t,
              " ScrollPos: ",
              a,
            ),
              this.props.fnUpdateArrows(n, i);
          }
        }
        BindGridObject(e) {
          if (
            (this.m_refGridElement &&
              (this.m_refGridElement.removeEventListener(
                "touchstart",
                this.OnTouchStart,
              ),
              this.m_refGridElement.removeEventListener(
                "touchend",
                this.OnTouchEnd,
              ),
              this.m_refGridElement.removeEventListener(
                "touchmove",
                this.OnTouchMove,
              ),
              this.m_refGridElement.removeEventListener(
                "mousedown",
                this.OnMouseDown,
              ),
              this.m_refGridElement.removeEventListener(
                "mouseup",
                this.OnMouseUp,
              )),
            (this.m_refGrid = e),
            (this.m_refGridElement = void 0),
            this.m_refGrid)
          ) {
            const e = k.findDOMNode(this.m_refGrid);
            (this.m_refGridElement = e),
              e?.addEventListener("touchstart", this.OnTouchStart),
              e?.addEventListener("touchend", this.OnTouchEnd),
              e?.addEventListener("touchmove", this.OnTouchMove, {
                passive: !1,
              }),
              e?.addEventListener("mousedown", this.OnMouseDown),
              e?.addEventListener("mouseup", this.OnMouseUp);
            const t = window.getComputedStyle(e),
              a = parseInt(t.getPropertyValue("padding-right")) || 0,
              n = parseInt(t.getPropertyValue("scroll-padding-right")) || 0,
              i = Math.max(a, n);
            i != this.state.nRightPadding &&
              (x("Computed", i, "additional right padding"),
              this.setState({ nRightPadding: i }, () => {
                this.m_refGrid.recomputeGridSize({
                  columnIndex: this.props.nNumItems - 1,
                });
              }));
          }
        }
        componentDidMount() {
          this.m_refContainer.current &&
            ((this.m_resizeObserver = (0, E.it)(
              this.m_refContainer.current,
              this.OnResize,
            )),
            x(
              "componentDidMount Setting width to",
              this.m_refContainer.current.clientWidth,
            ),
            this.setState({
              nContainerWidth: this.m_refContainer.current.clientWidth,
            }));
        }
        componentDidUpdate(e) {
          this.props.fnGetColumnWidth != e.fnGetColumnWidth &&
            (x("Column width function changes, recalculating sizes"),
            this.m_refGrid?.recomputeGridSize());
        }
        componentWillUnmount() {
          this.m_resizeObserver?.disconnect();
        }
        OnResize() {
          const e = this.m_refContainer.current.clientWidth;
          e != this.state.nContainerWidth &&
            (x(
              "OnResize Setting width to",
              this.m_refContainer.current.clientWidth,
            ),
            this.setState({ nContainerWidth: e })),
            this.UpdateScrollArrows();
        }
        ScrollLeft(e) {
          const t = this.m_iEnd - this.m_iStart,
            a = (0, A.Lh)(
              this.props.focusedColumn - t,
              this.props.nIndexLeftmost,
              this.props.nNumItems - 1,
            ),
            n = this.alignment;
          return this.ScrollToItem(T.eV.INVALID, a, n, e);
        }
        ScrollRight(e) {
          const t = this.m_iEnd - this.m_iStart,
            a = (0, A.Lh)(
              this.props.focusedColumn + t,
              this.props.nIndexLeftmost,
              this.props.nNumItems - 1,
            ),
            n = this.alignment;
          return this.ScrollToItem(T.eV.INVALID, a, n, e);
        }
        ScrollToFirstChild() {
          return this.ScrollToItem(
            T.eV.INVALID,
            this.props.nIndexLeftmost,
            "auto",
          );
        }
        MoveLeft(e) {
          x("MoveLeft from", this.props.focusedColumn);
          let t = this.props.focusedColumn - 1;
          for (
            ;
            t != this.props.nIndexLeftmost - 1 &&
            this.props.fnDoesItemTakeFocus &&
            !this.props.fnDoesItemTakeFocus(t);

          )
            t--;
          return t == this.props.nIndexLeftmost - 1
            ? (x("At left edge, not handling left gamepad"), !1)
            : (x("MoveLeft to", t),
              this.ScrollToItem(
                e ? e.detail.button : T.eV.INVALID,
                t,
                this.props.scrollToAlignment || "auto",
                e,
              ));
        }
        MoveRight(e) {
          x("MoveRight from", this.props.focusedColumn);
          let t = this.props.focusedColumn + 1;
          for (
            ;
            t != this.props.nNumItems &&
            this.props.fnDoesItemTakeFocus &&
            !this.props.fnDoesItemTakeFocus(t);

          )
            t++;
          return t == this.props.nNumItems
            ? (x("At right edge, not handling right gamepad"), !1)
            : (x("MoveRight to", t),
              this.ScrollToItem(
                e ? e.detail.button : T.eV.INVALID,
                t,
                this.props.scrollToAlignment || "auto",
                e,
              ));
        }
        ScrollToItem(e, t, a, n, i) {
          if (
            this.m_activeScrollTo &&
            this.m_activeScrollTo.alignment === a &&
            this.m_activeScrollTo.iNewFocus === t
          )
            return !0;
          if (
            (x("ScrollToItem", t, a, n, i),
            t != this.props.focusedColumn &&
              this.m_refGrid &&
              (!this.props.fnDoesItemTakeFocus ||
                this.props.fnDoesItemTakeFocus(t)))
          ) {
            const r = this.m_refGrid.getOffsetForCell({
                alignment: a,
                columnIndex: t,
                rowIndex: 0,
              }),
              l = this.props.fnGetId(t);
            return (
              x("Scrolling to item", t, l, a, r.scrollLeft, i),
              (this.m_activeScrollTo = { iNewFocus: t, alignment: a }),
              this.props.fnOnFocusedColumnChange &&
                this.props.fnOnFocusedColumnChange(this.props.focusedColumn, t),
              this.StartScrollAnimation(
                e,
                t,
                l,
                r.scrollLeft,
                i ?? this.props.scrollDuration,
              ),
              n?.stopPropagation(),
              n?.preventDefault(),
              !0
            );
          }
          return !1;
        }
        OnGamepadButtonDown(e) {
          switch ((x("OnGamepadButtonDown", e.detail), e.detail.button)) {
            case T.eV.BUMPER_LEFT:
              return !!this.props.enableBumperPaging && this.ScrollLeft(e);
            case T.eV.BUMPER_RIGHT:
              return !!this.props.enableBumperPaging && this.ScrollRight(e);
          }
          return !1;
        }
        OnGamepadDirection(e) {
          switch ((x("OnGamepadDirection", e.detail), e.detail.button)) {
            case T.eV.DIR_LEFT:
              return this.MoveLeft(e);
            case T.eV.DIR_RIGHT:
              return this.MoveRight(e);
          }
          return !1;
        }
        render() {
          const {
              className: e,
              nNumItems: t,
              nIndexLeftmost: a,
              nHeight: n,
              nItemHeight: r,
              overscan: l = 3,
              scrollToAlignment: s,
              focusedColumn: o,
              autoHeight: c,
            } = this.props,
            m = this.state.nContainerWidth;
          return (
            x("Inner render", this.props.name, this.props.nNumItems, m, a, o),
            i.createElement(
              y.s,
              {
                ref: this.m_refContainer,
                "flow-children": "row",
                onButtonDown: this.OnGamepadButtonDown,
                focusable: !1,
              },
              m &&
                i.createElement(P.rj, {
                  ref: this.BindGridObject,
                  className: e,
                  cellRenderer: this.CellRenderer,
                  onScroll: this.OnScroll,
                  onSectionRendered: this.OnSectionRendered,
                  columnCount: t,
                  columnWidth: this.GetCellColumnWidth,
                  overscanColumnCount: l,
                  overscanIndicesGetter: ({
                    cellCount: e,
                    overscanCellsCount: t,
                    startIndex: a,
                    stopIndex: n,
                  }) => ({
                    overscanStartIndex: Math.max(0, a - t),
                    overscanStopIndex: Math.min(e - 1, n + t),
                  }),
                  rowCount: 1,
                  rowHeight: r,
                  height: n,
                  width: m,
                  containerStyle: { overflow: "visible" },
                  scrollToAlignment: this.alignment,
                  scrollToColumn: o,
                  tabIndex: null,
                  autoHeight: c,
                }),
            )
          );
        }
      }
      (0, o.gn)([E.ak], L.prototype, "RestoreScrollPosition", null),
        (0, o.gn)([E.ak], L.prototype, "OnAnimationScrollComplete", null),
        (0, o.gn)([E.ak], L.prototype, "OnTouchStart", null),
        (0, o.gn)([E.ak], L.prototype, "OnTouchEnd", null),
        (0, o.gn)([E.ak], L.prototype, "OnTouchMove", null),
        (0, o.gn)([E.ak], L.prototype, "OnMouseDown", null),
        (0, o.gn)([E.ak], L.prototype, "OnMouseUp", null),
        (0, o.gn)(
          [E.ak, (0, w.D)(250)],
          L.prototype,
          "SnapBackToFirstElement",
          null,
        ),
        (0, o.gn)([E.ak], L.prototype, "OnScroll", null),
        (0, o.gn)([E.ak], L.prototype, "GetCellColumnWidth", null),
        (0, o.gn)([E.ak], L.prototype, "OnItemFocused", null),
        (0, o.gn)([E.ak], L.prototype, "CellRenderer", null),
        (0, o.gn)([E.ak], L.prototype, "OnSectionRendered", null),
        (0, o.gn)(
          [E.ak, (0, w.D)(250)],
          L.prototype,
          "UpdateScrollArrows",
          null,
        ),
        (0, o.gn)([E.ak], L.prototype, "BindGridObject", null),
        (0, o.gn)([E.ak], L.prototype, "OnResize", null),
        (0, o.gn)([E.ak], L.prototype, "ScrollLeft", null),
        (0, o.gn)([E.ak], L.prototype, "ScrollRight", null),
        (0, o.gn)([E.ak], L.prototype, "ScrollToFirstChild", null),
        (0, o.gn)([E.ak], L.prototype, "MoveLeft", null),
        (0, o.gn)([E.ak], L.prototype, "MoveRight", null),
        (0, o.gn)([E.ak], L.prototype, "OnGamepadButtonDown", null),
        (0, o.gn)([E.ak], L.prototype, "OnGamepadDirection", null);
      a(77178), a(79883);
      var B = a(31846);
      a(1485), a(26918);
      a(25006), a(29480), a(93334), a(81874), a(99823);
      var M = a(42411),
        O = a(13129),
        F = a(28918);
      const U =
          "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gODAK/9sAQwAGBAUGBQQGBgUGBwcGCAoQCgoJCQoUDg8MEBcUGBgXFBYWGh0lHxobIxwWFiAsICMmJykqKRkfLTAtKDAlKCko/9sAQwEHBwcKCAoTCgoTKBoWGigoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgo/8AAEQgAQABAAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8Inmk8+T94/3j/EfWmedJ/z0f/vo0T/6+T/eP86ZQA/zpP8Ano//AH0aPOk/56P/AN9GmVo6Loeq65M0Wj6ddXrr94QRF9v1I6fjQBR86T/no/8A30aPOk/56P8A99GtHW/Dus6GV/tjS7yyD8K00RVW+h6GsugB/nSf89H/AO+jT4JpPPj/AHj/AHh/EfWoafB/r4/94fzoAJ/9fJ/vH+dMp8/+vk/3j/OmUAXdE099W1mw06Jgsl3PHApPYswUH9a+qPF3iHSPhF4S0+003TxK0hMcEAbZvIA3SO2OvIz6k18nW88ttcRz28jxTRMHSRGKsrA5BBHQg1b1TWdT1fy/7V1G8vfLzs+0TNJtz1xknHQUAfUXw+8c6Z8UdN1HS9V0xIpUTM1s7eYkiE43KcAgg/lxg180+NtEHhzxZqmkqxdLWcojHqUPK598EV9CfBbwpF4G8J3fiLxA4trm5hEsnmceRCOQD/tHqR9B1r568a63/wAJH4r1TVghRLqYuinqE6KD74AoAxafB/r4/wDeH86ZT4P9fH/vD+dABP8A6+T/AHj/ADplPn/18n+8f50ygArt/gtpltq/xK0e2vYxJArPMUYZDFEZhn2yBXEV0/w203VNX8YWdloOoHTtQkWQx3IZl2gISeV55AI/GgD1H9pvxPdi/s/DcDGOz8pbqfHWRizBQfYbc/U+1eD12PxW0fWtE8Tpa+I9UOqXpt0cTl2bCEthctz1B/OuOoAKfB/r4/8AeH86ZT4P9fH/ALw/nQAT/wCvk/3j/OmVNPDJ58n7t/vH+E+tM8mT/nm//fJoAZV7Q9Xv9C1KLUNJuGtryMEJIoBIyCD1BHQmqnkyf883/wC+TR5Mn/PN/wDvk0AaHiHXtT8RX4vdau2u7oIIxIygHaCSBwB6msyn+TJ/zzf/AL5NHkyf883/AO+TQAynwf6+P/eH86PJk/55v/3yafBDJ58f7t/vD+E+tAH/2Q==",
        H =
          a.p +
          "images/applications/appmgmt/avatar_default_full.jpg?v=valveisgoodatcaching";
      var V = a(5167),
        X = a.n(V),
        j = a(20020);
      const q = i.memo(function (e) {
        const {
            strAvatarURL: t,
            size: a = "Medium",
            className: n,
            statusStyle: r,
            statusPosition: l,
            children: s,
            ...o
          } = e,
          c = i.useMemo(() => {
            const e = [];
            return (
              t && e.push(t),
              e.push(
                (function (e) {
                  switch (e) {
                    case "X-Small":
                    case "Small":
                      return "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A/P4mW5nmllmeSR3LMzMSSc1a07R73V72KzsILi9u5TiOC2RpJHPoFGSarQ/ef6n+de4fAn9oaL4D+DfGX9i6Uf8AhO9XSKDT9eZY3WxiDZcBGByTkn0JCZBxQB41qeiX+iXslnqNtdWF3H9+3uo2jkX6q2CKpgy208MsUzxyI4ZWViCDmvsr9rrUdT1j9nb4T6h8RBbH4qXUs0zMsSxXJ04hivnKoAU5MPGBg7uM7q+NpvvJ9R/OgAh+8/1P867T4POI/iz4Mc6U+u7NZtG/suPbuu8TKfKG4hct93njnmuKIltp5opYXjkRyrKykEHNWbDVbvSr63vbKaezvLeRZYbi3ZkkidTlWVhyCCMgjpQB6l+1F411nx58dPFWpa5a3mnXaXP2ZNOvXVpLKNBhYflJUY5PB5JJ6k15LN95PqP51a1PWr7WtQnvtRuLm/vrhzJNc3TtJLIx6lmbJJ9zVQCW5nhiiheSR3CqqqSSc0Af/9k=";
                    case "Medium":
                    case "MediumLarge":
                      return U;
                    case "Large":
                    case "X-Large":
                    case "FillArea":
                      return H;
                    default:
                      return (0, j.Z)(e, `Unhandled size ${e}`), U;
                  }
                })(a),
              ),
              e
            );
          }, [t, a]);
        return i.createElement(
          "div",
          {
            className: (0, O.Z)(
              X().avatarHolder,
              "avatarHolder",
              "no-drag",
              a,
              n,
            ),
            ...o,
          },
          i.createElement("div", {
            className: (0, O.Z)(X().avatarStatus, "avatarStatus", l),
            style: r,
          }),
          i.createElement(F.j, {
            className: (0, O.Z)(X().avatar, "avatar"),
            rgSources: c,
            draggable: !1,
          }),
          s,
        );
      });
      let W = class extends i.Component {
        render() {
          const {
            persona: e,
            size: t = "Medium",
            animatedAvatar: a,
            className: n,
            ...r
          } = this.props;
          let l = "";
          return (
            a && a.image_small && 0 != a.image_small.length
              ? (l = S.De.MEDIA_CDN_COMMUNITY_URL + "images/" + a.image_small)
              : e &&
                ((l = e.avatar_url_medium),
                "Small" == t || "X-Small" == t
                  ? (l = e.avatar_url)
                  : ("Large" != t && "X-Large" != t && "FillArea" != t) ||
                    (l = e.avatar_url_full)),
            i.createElement(q, {
              strAvatarURL: l,
              size: t,
              className: (0, O.Z)((0, M.sB)(e), n),
              ...r,
            })
          );
        }
      };
      W = (0, o.gn)([n.Pi], W);
      const z = (0, n.Pi)((e) => {
        const { profileItem: t, className: a, bDisableAnimation: n, ...r } = e;
        if (!t || !t.image_small || 0 == t.image_small.length) return null;
        let l = n ? t.image_large : t.image_small;
        return (
          l || (l = t.image_small),
          l.startsWith("https://") ||
            (l = S.De.MEDIA_CDN_COMMUNITY_URL + "images/" + l),
          i.createElement(
            "div",
            { className: (0, O.Z)(X().avatarFrame, a, "avatarFrame"), ...r },
            i.createElement("img", { className: X().avatarFrameImg, src: l }),
          )
        );
      });
      let Z = class extends i.Component {
        m_timer;
        constructor(e) {
          super(e),
            (this.state = { bAnimate: "None" != this.props.loopDuration }),
            (this.m_timer = 0);
        }
        componentDidMount() {
          this.props.bParentHovered || this.SetupAnimationTimer();
        }
        SetupAnimationTimer() {
          let e = 0;
          switch (this.props.loopDuration) {
            case "Short":
              e = 2500;
              break;
            case "Medium":
              e = 5e3;
              break;
            case "Long":
              e = 1e4;
          }
          0 != e &&
            (this.setState({ bAnimate: "None" != this.props.loopDuration }),
            (this.m_timer = window.setTimeout(
              () => this.setState({ bAnimate: !1 }),
              e,
            )));
        }
        StopAnimationTimer() {
          this.m_timer &&
            (window.clearTimeout(this.m_timer), (this.m_timer = 0));
        }
        onHover() {
          this.SetupAnimationTimer();
        }
        componentWillUnmount() {
          this.StopAnimationTimer();
        }
        componentDidUpdate(e) {
          this.props.loopDuration != e.loopDuration &&
            ("None" == this.props.loopDuration
              ? (this.setState({ bAnimate: !1 }), this.StopAnimationTimer())
              : "Infinite" == this.props.loopDuration
                ? (this.setState({ bAnimate: !0 }), this.StopAnimationTimer())
                : (this.setState({ bAnimate: !0 }),
                  this.SetupAnimationTimer())),
            this.props.bParentHovered != e.bParentHovered &&
              (this.props.bParentHovered &&
              "None" != this.props.loopDuration &&
              "Infinite" != this.props.loopDuration
                ? (this.setState({ bAnimate: !0 }), this.StopAnimationTimer())
                : this.state.bAnimate && this.SetupAnimationTimer());
        }
        render() {
          let {
            loopDuration: e,
            animatedAvatar: t,
            avatarFrame: a,
            children: n,
            style: r,
            bLimitProfileFrameAnimationTime: l,
            bParentHovered: s,
            ...o
          } = this.props;
          return (
            o.onClick && (r = { ...r, cursor: "pointer" }),
            this.state.bAnimate || (t = null),
            i.createElement(
              "div",
              {
                onMouseEnter: () =>
                  this.setState({
                    bAnimate: "None" != this.props.loopDuration,
                  }),
                onMouseLeave: () => this.SetupAnimationTimer(),
              },
              i.createElement(
                W,
                { animatedAvatar: t, ...o },
                n,
                i.createElement(z, {
                  profileItem: a,
                  bDisableAnimation: l && !this.state.bAnimate,
                }),
              ),
            )
          );
        }
      };
      Z = (0, o.gn)([n.Pi], Z);
      var K = a(77936),
        Q = a(16091),
        Y = a.n(Q);
      let J = class extends i.Component {
        static get hoverClass() {
          return Y().hoverParent;
        }
        render() {
          const {
            persona: e,
            animating: t,
            className: a,
            size: n,
            dim: r,
            ...l
          } = this.props;
          let s = "";
          return (
            "medium" == n ? (s = Y().Medium) : "large" == n && (s = Y().Large),
            i.createElement(
              "div",
              {
                className: (0, O.Z)(
                  Y().SnoozeContainer,
                  e.online_state,
                  a,
                  t && Y().animating,
                  s,
                  r && Y().Dim,
                ),
                ...l,
              },
              i.createElement(
                "div",
                { "data-text": "Z", className: (0, O.Z)(Y().SnoozeZ, Y().Z1) },
                "Z",
              ),
              i.createElement(
                "div",
                { "data-text": "Z", className: (0, O.Z)(Y().SnoozeZ, Y().Z2) },
                "Z",
              ),
              i.createElement(
                "div",
                { "data-text": "Z", className: (0, O.Z)(Y().SnoozeZ, Y().Z3) },
                "Z",
              ),
            )
          );
        }
      };
      J = (0, o.gn)([n.Pi], J);
      var $ = a(26358),
        ee = a.n($),
        te = a(7686);
      const ae = (0, n.Pi)((e) => {
        const { persona: t, className: a, ...n } = e;
        if (!t) return null;
        if (!t.is_online) return null;
        const r = t.HasStateFlag(512),
          l = t.HasStateFlag(2048),
          s = !l && t.HasStateFlag(1024);
        return i.createElement(
          i.Fragment,
          null,
          r &&
            i.createElement(
              "div",
              {
                className: (0, O.Z)(
                  a,
                  ee().PersonaStatusIcon,
                  ee().MobilePhoneIcon,
                  (0, M.sB)(t),
                ),
                title: (0, B.Xx)("#Platform_Hint_Mobile"),
                ...n,
              },
              i.createElement(te.Mr, null),
            ),
          l &&
            i.createElement(
              "div",
              {
                className: (0, O.Z)(
                  a,
                  ee().PersonaStatusIcon,
                  ee().VRIcon,
                  (0, M.sB)(t),
                ),
                title: (0, B.Xx)("#Platform_Hint_VR"),
                ...n,
              },
              i.createElement(I.VR, null),
            ),
          s &&
            i.createElement(
              "div",
              {
                className: (0, O.Z)(
                  a,
                  ee().PersonaStatusIcon,
                  ee().BigPictureIcon,
                  (0, M.sB)(t),
                ),
                title: (0, B.Xx)("#Platform_Hint_BigPicture"),
                ...n,
              },
              i.createElement(I.Ucz, null),
            ),
        );
      });
      var ne = a(32633),
        ie = a.n(ne);
      function re(e) {
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            "span",
            { className: ie().partyBeaconJoin },
            (0, B.Xx)("#User_WantsToPlay"),
          ),
          " – ",
          e.persona.GetCurrentGameName(),
        );
      }
      let le = class extends i.Component {
        render() {
          const {
            className: e,
            onContextMenu: t,
            persona: a,
            eFriendRelationship: n,
            bIsSelf: r,
            bParenthesizeNicknames: l,
            strNickname: s,
            bCompactView: o,
            bHideGameName: c,
            bHideEnhancedRichPresenceLabel: m,
            bHideSnooze: d,
            bHideStatus: u,
            renderStatus: p,
            renderRichPresence: _,
            bHidePersona: h,
            bDNDSet: g,
            bHasPartyBeacon: E,
            bHasGamePrivacy: v,
            bNoMask: D,
            ...f
          } = this.props;
          let y = null,
            b = null,
            C = null,
            k = [
              e,
              ie().personaNameAndStatusLabel,
              (0, M.sB)(a),
              o && ie().compactView,
              D && ie().NoMask,
            ];
          E || a.has_public_party_beacon
            ? (b = i.createElement(re, { persona: a }))
            : (0, K.fk)(n)
              ? ((b = (0, B.Xx)("#PersonaStateBlocked")), k.push(ie().blocked))
              : a.is_ingame
                ? ((b =
                    !a.is_in_nonsteam_game || r || (0, K.my)(n)
                      ? a.GetCurrentGameName()
                      : (0, B.Xx)("#PersonaStateInNonSteamGame")),
                  r || h
                    ? r &&
                      a.is_awayOrSnooze &&
                      (C = (0, B.Xx)("#PersonaStateAway"))
                    : (C = a.GetCurrentGameRichPresence()))
                : a.m_broadcastAccountId &&
                  (b = (0, B.Xx)("#PersonaStateWatchingBroadcast")),
            b || (b = a.GetLocalizedOnlineStatus()),
            p && (b = p());
          let A = !h && !d;
          !1 === d && (A = !0),
            a.is_awayOrSnooze && A && (y = i.createElement(J, { persona: a }));
          let w = null;
          t
            ? (w = i.createElement(
                "div",
                { className: "ContextMenuButton", onClick: t },
                i.createElement(I.$gZ, null),
              ))
            : k.push(ie().noContextMenu),
            h && k.push(ie().hidePersona),
            _ && (C = _()),
            (!c && C) || k.push(ie().twoLine);
          const P = !a.is_ingame && !u,
            T = !m && C,
            N = b && (!c || !T),
            R = (0, K.hz)(S.De.LAUNCHER_TYPE);
          let G = s && !l,
            x = G ? s : a.m_strPlayerName,
            L = !h && (N || P) && T;
          return i.createElement(
            "div",
            { ...f, className: (0, O.Z)(...k), onContextMenu: t },
            i.createElement(
              "div",
              { className: (0, O.Z)(ie().statusAndName, L && ie().threeLines) },
              i.createElement(
                "div",
                { className: ie().playerName },
                x || " ",
                l &&
                  s &&
                  i.createElement(
                    "span",
                    { className: ie().playerNickname },
                    "(",
                    s,
                    ")",
                  ),
              ),
              g &&
                i.createElement(
                  "div",
                  {
                    className: ie().DNDContainer,
                    title: (0, B.Xx)("#User_ToggleDoNotDisturb"),
                  },
                  i.createElement(I.YVR, null),
                ),
              G &&
                i.createElement(
                  "span",
                  {
                    className: ie().playerNicknameBracket,
                    title: (0, B.Xx)("#isNickname"),
                  },
                  " *",
                ),
              i.createElement(ae, { persona: a }),
              y,
              (a.m_bPlayerNamePending || a.m_bAvatarPending) &&
                R &&
                i.createElement(
                  "div",
                  {
                    className: ie().PendingPersona,
                    title: (0, B.Xx)("#SteamChina_PendingPersonaName"),
                  },
                  i.createElement(I.SUY, null),
                ),
              w,
            ),
            !h &&
              i.createElement(
                "div",
                { className: ie().richPresenceContainer },
                (N || P) &&
                  i.createElement(
                    "div",
                    {
                      className: (0, O.Z)(
                        ie().gameName,
                        L && ie().threeLines,
                        ie().richPresenceLabel,
                        "no-drag",
                      ),
                    },
                    v &&
                      i.createElement(
                        "div",
                        {
                          className: ie().gameIsPrivateIcon,
                          title: (0, B.Xx)("#User_GameInfoHidden"),
                        },
                        i.createElement(I._GE, null),
                      ),
                    b,
                  ),
                T &&
                  i.createElement(
                    "div",
                    { className: (0, O.Z)(ie().richPresenceLabel, "no-drag") },
                    C,
                    " ",
                  ),
              ),
          );
        }
      };
      le = (0, o.gn)([n.Pi], le);
      (0, n.Pi)((e) => {
        const {
          persona: t,
          bParenthesizeNicknames: a,
          strNickname: n,
          bIgnorePersonaStatus: r,
          className: l,
          ...s
        } = e;
        let o = n && !a ? n : t.m_strPlayerName;
        return i.createElement(
          "span",
          { ...s, className: (0, O.Z)(l, !r && (0, M.sB)(t)) },
          i.createElement(
            "span",
            { className: ie().playerName },
            o || " ",
            a &&
              n &&
              i.createElement(
                "span",
                { className: ie().playerNickname },
                "(",
                n,
                ")",
              ),
          ),
        );
      });
      a(93243), a(54879), a(80751);
      a(46882), a(44910), a(51915), a(88619);
      new R.sO("AppRelevance").Debug;
      a(10095), a(13499), a(95082);
      new R.sO("DiscoveryQueueWizard").Debug;
      a(65255);
      a(44500), a(98866), a(58538);
      var se = a(15980);
      a(16649);
      a(83059);
      function oe(e, t) {
        return {
          nSaleTagID: !e.BUsesContentHubForItemSource() && e.featured_app_tagid,
          strContentHubType: e.GetContentHubType(),
          strContentHubCategory: e.GetContentHubCategory(),
          nContentHubTagID: e.GetContentHubTag(),
          bDiscountsOnly: e.BContentHubDiscountedOnly(),
          bPrioritizeDiscounts: t || !1,
          strOptInName: e.jsondata.prune_list_optin_name,
          nOptInTagID: e.jsondata.optin_tagid,
          nPruneTagID: e.jsondata.optin_prune_tagid,
          bOptInOnly: e.jsondata.optin_only,
        };
      }
      class ce {
        m_serviceTransport;
        m_loadPromise = new Map();
        m_mapLoadedData = new Map();
        constructor() {
          (0, d.rC)(this);
          const e = (0, S.kQ)("loyalty_webapi_token", "application_config"),
            t = new p.J(S.De.WEBAPI_BASE_URL, e || void 0);
          this.m_serviceTransport = t.GetServiceTransport();
        }
        static GetRelevantSections(e) {
          return e
            .GetSaleSections()
            .filter(
              (e) =>
                "items" == e.section_type &&
                "personalized_carousel" == e.smart_section_type,
            );
        }
        static GetSectionIndex(e, t) {
          return ce
            .GetRelevantSections(t)
            .findIndex((t) => t.unique_id == e.unique_id);
        }
        GetTagNameForSaleSection(e, t) {
          const a = ce.GetSectionIndex(e, t),
            n = this.m_mapLoadedData.get(t.GID);
          return n
            ? n[a]?.sTagName
            : (this.GetCapsulesForSaleSection(e, t), null);
        }
        async GetCapsulesForSaleSection(e, t) {
          const a = ce.GetSectionIndex(e, t);
          if (this.m_loadPromise.has(t.GID)) {
            return (await this.m_loadPromise.get(t.GID))[a];
          }
          const n = this.LoadData(t);
          this.m_loadPromise.set(t.GID, n);
          const i = await n;
          return this.m_mapLoadedData.set(t.GID, i), i[a];
        }
        async LoadData(e) {
          const t = c.gA.Init(m.JJ),
            a = ce.GetRelevantSections(e);
          for (const e of a) {
            const a = t.Body().add_sections();
            a.set_sort(e.smart_section_personalized_carousel_sort ?? 13),
              a.set_min_items(
                e.smart_section_personalized_carousel_min_items ?? 4,
              ),
              a.set_randomize(e.smart_section_personalized_carousel_randomize);
          }
          const n = oe(e, Boolean(a[0].prioritize_discounts));
          if (
            (t.Body().set_context((0, b.Fq)(!1)),
            t.Body().set_filters(D(n)),
            a[0].store_filter)
          ) {
            const e = t.Body().filters().add_store_filters();
            e.set_filter_json((0, u.B3)(a[0])),
              e.set_cache_key(a[0].unique_id.toString());
          }
          const i = await m.Ax.GetItemsByUserRecommendedTags(
            this.m_serviceTransport,
            t,
          );
          if (1 != i.GetEResult())
            return (
              console.error(
                "GetItemsByUserRecommendedTags failed with error" +
                  i.GetEResult(),
              ),
              null
            );
          return i
            .Body()
            .sections()
            .map((e) => ({
              sTagName: e.tag_name(),
              rgCapsules: e.store_item_ids().flatMap((e) => {
                const t = ce.ConvertStoreItemIDToAppType(e);
                return t ? [t] : [];
              }),
            }));
        }
        static ConvertStoreItemIDToAppType(e) {
          return e.appid()
            ? { id: e.appid(), type: "game" }
            : e.bundleid()
              ? { id: e.bundleid(), type: "bundle" }
              : e.packageid()
                ? { id: e.tagid(), type: "sub" }
                : void 0;
        }
        async LoadTestData() {
          await new Promise((e) => setTimeout(e, 3e3));
          const e = [];
          return (
            e.push({
              sTagName: "Foo",
              rgCapsules: [
                { type: "game", id: 1817230 },
                { type: "game", id: 977950 },
                { type: "game", id: 1585220 },
                { type: "game", id: 1122720 },
              ],
            }),
            e.push({
              sTagName: "Bar",
              rgCapsules: [
                { type: "game", id: 268910 },
                { type: "game", id: 2321470 },
              ],
            }),
            e.push(void 0),
            e.push({
              sTagName: "Baz",
              rgCapsules: [
                { type: "game", id: 2066020 },
                { type: "game", id: 1778820 },
                { type: "game", id: 2138710 },
                { type: "game", id: 502500 },
                { type: "game", id: 630 },
                { type: "game", id: 692890 },
                { type: "game", id: 394510 },
                { type: "game", id: 1971870 },
                { type: "game", id: 1384160 },
              ],
            }),
            e
          );
        }
        static s_Singleton;
        static Get() {
          return (
            ce.s_Singleton ||
              ((ce.s_Singleton = new ce()),
              ("dev" != S.De.WEB_UNIVERSE && "beta" != S.De.WEB_UNIVERSE) ||
                (window.g_PersonalizedCarouselStore = ce.s_Singleton)),
            ce.s_Singleton
          );
        }
      }
      (0, o.gn)([d.LO], ce.prototype, "m_mapLoadedData", void 0);
      var me = a(82093),
        de = a(71741),
        ue = a.n(de),
        pe = a(43301),
        _e = a(59728),
        he = a(53343);
      function ge(e, t) {
        return (
          B.LZ.GetWithFallback(e.localized_label, t) ||
          ("#Sale_default_label" === e.default_label
            ? ""
            : (0, B.Xx)(e.default_label))
        );
      }
      function Ee(e, t, a, n, o, c) {
        if (!e) return "";
        const m = (function (e, t, a) {
          if ("items" === e.section_type)
            switch (e.smart_section_type) {
              case "wishlist":
                return "#Sale_default_label_OnYourWishlist";
              case "interactive_recommender":
              case "tag_recommender":
                return "#Sale_default_label_RecommendedForYou";
              case "personalized_carousel":
                if (a) {
                  const { nSectionIndex: a, nNumSections: n } = (function (
                    e,
                    t,
                  ) {
                    const a = t
                      .GetSaleSections()
                      .filter(
                        (e) =>
                          "items" == e.section_type &&
                          "personalized_carousel" == e.smart_section_type,
                      );
                    if (!a || 0 == a.length)
                      return { nNumSections: 0, nSectionIndex: -1 };
                    const n = a.findIndex((t) => t.unique_id == e.unique_id);
                    return { nNumSections: a.length, nSectionIndex: n };
                  })(e, t);
                  return (0, B.Xx)(
                    "#Sale_PersonalizedCarousel_Section_Editor_title",
                    a + 1,
                    n,
                  );
                }
                const n = ce.Get().GetTagNameForSaleSection(e, t);
                return n
                  ? (0, B.Xx)("#Sale_PersonalizedCarousel_Section_title", n)
                  : null;
            }
          if ("tabs" === e.section_type) return "";
          if ("curator" === e.section_type) {
            if (e.curator_clan_id) {
              let t = r.K.InitFromClanID(e.curator_clan_id),
                a = s.bq.GetCreatorHome(t);
              if (a) return (0, B.Xx)("#Sale_CuratorSection_Name", a.GetName());
            }
            return "#Sale_CuratorSection";
          }
          return "event_schedule" === e.section_type
            ? "#Sale_EventSchedule"
            : "curator_recommendation" === e.section_type
              ? "#Sale_CuratorRecommendation_title"
              : "discoveryqueue" === e.section_type
                ? "#DiscoveryQueue_Title"
                : "sale_events" === e.section_type
                  ? "#Sale_SaleEvent_Section"
                  : null;
        })(e, t, 1 == o);
        if (null !== m) return m && m.startsWith("#") ? (0, B.Xx)(m) : m;
        const d =
            B.LZ.GetWithFallback(e.localized_label, a) ||
            ("#Sale_default_label" === e.default_label
              ? ""
              : (0, B.Xx)(e.default_label)),
          u = B.LZ.GetWithFallback(e.localized_label_image, a);
        if (!c && u) {
          const e = `${(0, l.OL)()}${n}/${u}`;
          return i.createElement("img", { loading: "lazy", src: e, alt: d });
        }
        return d;
      }
      function Se(e, t, a) {
        const n = (function (e, t) {
          if (
            "items" === e.section_type &&
            "personalized_carousel" == e.smart_section_type
          ) {
            const a = ce.Get().GetTagNameForSaleSection(e, t);
            return a
              ? (0, B.Xx)("#Sale_PersonalizedCarousel_Section_subtitle", a)
              : null;
          }
          return null;
        })(e, t);
        if (null !== n) return n && n.startsWith("#") ? (0, B.Xx)(n) : n;
        return (
          B.LZ.GetWithFallback(e.localized_subtitle, a) ||
          (e.default_subtitle && "#Sale_default_subtitle" !== e.default_subtitle
            ? (0, B.Xx)(e.default_subtitle)
            : "")
        );
      }
      const ve = (0, n.Pi)((e) => {
        const {
            section: t,
            event: a,
            language: n,
            nHiddenCapsules: r,
            title: l,
            subtitle: s,
          } = e,
          o = (0, me.SY)(),
          c = l || Ee(t, a, n, a.clanSteamID.GetAccountID(), o.eLocation);
        if (!c) return null;
        const m = s || Se(t, a, n);
        let d = i.createElement(
            "div",
            {
              className: (0, O.Z)(ue().SaleSectionHeader, "SaleSectionHeader"),
              style: De(t, a, n),
            },
            c,
          ),
          u = i.createElement(
            "div",
            {
              className: (0, O.Z)(
                ue().SaleSectionHeader,
                ue().SaleSectionSubtitle,
                "SaleSectionSubtitle",
              ),
              style: fe(t, a, n),
            },
            m,
          );
        const p = e.link || t.label_link;
        let _ = null;
        if (
          p &&
          ((d = i.createElement(pe.K, { url: p }, d)),
          "browseall" === t.label_link_style)
        ) {
          const e = (0, B.Xx)("#Sale_SectionLink_BrowseAll");
          _ = i.createElement(
            pe.K,
            {
              className: (0, O.Z)(
                he.SectionLabelLinkButton,
                "SaleSectionLabelLinkButton",
              ),
              url: t.label_link,
            },
            e,
          );
        }
        return i.createElement(
          "div",
          { className: (0, O.Z)(he.SectionLabelCtn, "SaleSectionLabelCtn") },
          i.createElement(
            "div",
            { className: he.SectionTitleInnerCtn },
            d,
            Boolean(m) && u,
          ),
          i.createElement(
            "div",
            { className: he.SectionLabelRight },
            !!r &&
              i.createElement(
                _e.HP,
                {
                  className: se.SaleSectionSubtext,
                  toolTipContent: "#Sale_HiddenItem_Tooltip",
                },
                i.createElement(
                  "a",
                  { href: S.De.STORE_BASE_URL + "account/preferences" },
                  (0, B.kQ)(
                    1 == r
                      ? "#Sale_HiddenItem_Single_Short"
                      : "#Sale_HiddenItems_Short",
                    r,
                  ),
                ),
              ),
            _,
          ),
        );
      });
      function De(e, t, a) {
        return {
          fontFamily: ye(t.jsondata.sale_font, a),
          fontWeight: t.jsondata.sale_font_weight,
          fontSize: `${t.jsondata.sale_section_font_size}px`,
          textTransform: t.jsondata.sale_section_disable_capitalize
            ? "initial"
            : null,
          color: e.label_color,
        };
      }
      function fe(e, t, a) {
        return {
          fontFamily: ye(t.jsondata.sale_font, a),
          fontWeight: 300,
          fontSize: `${t.jsondata.sale_section_font_size && t.jsondata.sale_section_font_size - 3}px`,
          letterSpacing: 0,
          lineHeight: `${t.jsondata.sale_section_font_size}px`,
          textTransform: t.jsondata.sale_section_disable_capitalize
            ? "initial"
            : null,
          color: e.label_color,
          opacity: "50%",
        };
      }
      function ye(e, t) {
        return (
          (e = e || ""),
          12 === t
            ? e.replace("Jolly Lodger", "New Rocker")
            : 23 === t ||
                19 === t ||
                24 === t ||
                18 === t ||
                8 === t ||
                26 === t
              ? e.replace("Sigmar One", "Play")
              : 6 === t
                ? e.replace("Sigmar One", "Noto Serif SC")
                : 7 === t
                  ? e.replace("Sigmar One", "Noto Serif TC")
                  : 10 === t
                    ? e.replace("Sigmar One", "M PLUS Rounded 1c")
                    : 4 === t
                      ? e.replace("Sigmar One", "Black Han Sans")
                      : 9 === t
                        ? e.replace("Sigmar One", "Prompt")
                        : e
        );
      }
    },
    11578: (e, t, a) => {
      "use strict";
      a.d(t, { V: () => i });
      var n = a(62698);
      function i(e, t, a) {
        if (e.disable_background && !a)
          return { paddingLeft: 0, paddingRight: 0 };
        let i = "";
        if (e.background_image) {
          i += `,url(${n.aN.GenerateArtworkURLFromHashAndExtensions(t.clanSteamID, e.background_image)})`;
        }
        return {
          background:
            `linear-gradient(0deg, ${e.background_gradient_bottom || "transparent"} 0%, ${e.background_gradient_top || "transparent"} 100%)` +
            i,
          backgroundRepeat: e.background_repeat,
          borderStyle: e.border_color && e.border_width ? "solid" : void 0,
          borderColor: e.border_color,
          borderWidth: e.border_width ? `${e.border_width}px` : void 0,
        };
      }
    },
    84478: (e, t, a) => {
      "use strict";
      a.d(t, { Y: () => u });
      var n = a(85556),
        i = a(47427),
        r = a(77936),
        l = a(38071),
        s = a(31846),
        o = a(13499),
        c = a(37563),
        m = a(20417);
      class d {
        m_bUserHasVolumePreference = !1;
        m_flVolumePreference = 0;
        BUserHasVolumePreference() {
          return this.m_bUserHasVolumePreference;
        }
        SetVolumePreference(e) {
          (this.m_flVolumePreference = e),
            (this.m_bUserHasVolumePreference = !0);
        }
        GetVolumePreference() {
          return this.m_flVolumePreference;
        }
        BVolumePreferenceMuted() {
          return this.m_flVolumePreference < 0.001;
        }
        static s_Singleton;
        static Get() {
          return d.s_Singleton || (d.s_Singleton = new d()), d.s_Singleton;
        }
      }
      (0, n.gn)([m.ak], d.prototype, "BUserHasVolumePreference", null),
        (0, n.gn)([m.ak], d.prototype, "SetVolumePreference", null);
      const u = (0, i.forwardRef)(function (e, t) {
        const { video: a, bAutoPlay: n, bControls: m, bLoop: u, bMuted: p } = e,
          _ = (0, i.useMemo)(
            () =>
              Boolean(
                a.rgVideoTracks?.some(
                  (e) => "subtitles" == e.sKind || "captions" == e.sKind,
                ),
              ),
            [a.rgVideoTracks],
          ),
          [h, g] = i.useState(!1);
        if (!a.rgVideoSources || !a.rgVideoSources.length) return null;
        const E = (e) => {
            const t = new URL(e);
            return (
              (t.search =
                (t.search ? t.search + "&" : "?") + "origin=" + (0, c.Kc)()),
              t.toString()
            );
          },
          S = a.rgVideoSources
            .filter((e) => Boolean(e.sURL))
            .map((e) =>
              i.createElement("source", {
                key: e.sURL,
                src: E(e.sURL),
                type: e.sFormat,
              }),
            ),
          v = a.rgVideoTracks
            ? a.rgVideoTracks.map((e) => {
                let t = e.eLanguage;
                if ((0, c.h4)())
                  if (s.LJ.IsELanguageValidInRealm(t, l.IN.k_ESteamRealmChina))
                    t = s.LJ.GetELanguageFallback(t);
                  else {
                    if (6 !== t) return null;
                    if (
                      a.rgVideoTracks.find(
                        (e) => s.LJ.GetELanguageFallback(e.eLanguage) === t,
                      )
                    )
                      return null;
                  }
                else if (
                  !s.LJ.IsELanguageValidInRealm(t, l.IN.k_ESteamRealmGlobal)
                )
                  return null;
                return i.createElement("track", {
                  key: e.sURL + t,
                  src: E(e.sURL),
                  kind: e.sKind,
                  default: e.bDefault,
                  srcLang: (0, r.dt)(t),
                  label: (0, s.Xx)("#language_selection_" + (0, r.j_)(t)),
                });
              })
            : null,
          D = (function (e) {
            return !(
              !(0, o.dK)(e.sPoster) ||
              (e.rgVideoSources &&
                e.rgVideoSources.some((e) => !(0, o.dK)(e.sURL))) ||
              (e.rgVideoTracks &&
                e.rgVideoTracks.some((e) => !(0, o.dK)(e.sURL)))
            );
          })(a);
        let f;
        (!D || (_ && "public" == c.De.WEB_UNIVERSE)) && (f = "anonymous");
        const y = p || (n && d.Get().BVolumePreferenceMuted()),
          b = a.sPoster ? E(a.sPoster) : "";
        return i.createElement(
          "video",
          {
            width: "100%",
            height: "auto",
            autoPlay: n,
            muted: y,
            playsInline: !0,
            controls: m,
            poster: b,
            loop: u,
            crossOrigin: f,
            onVolumeChange: (e) => {
              const t = e.target,
                a = t.muted ? 0 : t.volume;
              h && d.Get().SetVolumePreference(a);
            },
            onPlay: (e) => {
              const t = e.target,
                a = 0 == t.currentTime,
                i = d.Get().BUserHasVolumePreference();
              if ((g(!0), a))
                if (i || n)
                  i &&
                    ((t.volume = d.Get().GetVolumePreference()),
                    (t.muted = d.Get().BVolumePreferenceMuted()));
                else {
                  const e = t.muted ? 0 : t.volume;
                  d.Get().SetVolumePreference(e);
                }
            },
            ref: t,
          },
          S,
          v,
        );
      });
    },
    7686: (e, t, a) => {
      "use strict";
      a.d(t, { Mr: () => s, tk: () => o });
      var n = a(47427),
        i = a(62613),
        r = a(58538),
        l = a(37563);
      function s() {
        return n.createElement(i.MrB, null);
      }
      function o() {
        return (0, l.id)()
          ? n.createElement(r.tkI, null)
          : n.createElement(i.j5H, null);
      }
    },
    77671: (e, t, a) => {
      "use strict";
      a.d(t, { i: () => i });
      var n = a(65255);
      function i(e, t, a, i) {
        if (!i || !i.path) return null;
        const r = a ? "?t=" + a : "";
        return i.path.startsWith("images")
          ? `${n.De.MEDIA_CDN_URL}steam/marketing/${e}/${i.path}${r}`
          : `${n.De.BASE_URL_SHARED_CDN}store_item_assets/mm/${e}/${t}/${i.path}${r}`;
      }
    },
    50727: (e, t, a) => {
      "use strict";
      a.d(t, { l: () => h });
      var n,
        i = a(85556),
        r = a(47427),
        l = a(20417),
        s = a(27605),
        o = a(45492),
        c = a(31846),
        m = a(1485),
        d = a(62613),
        u = a(4656),
        p = a.n(u),
        _ = a(45651);
      !(function (e) {
        (e.topleft = "topleft"),
          (e.top = "top"),
          (e.topright = "topright"),
          (e.left = "left"),
          (e.middle = "middle"),
          (e.right = "right"),
          (e.bottomleft = "bottomleft"),
          (e.bottom = "bottom"),
          (e.bottomright = "bottomright");
      })(n || (n = {}));
      let h = class extends r.Component {
        m_rectLinkRegion;
        m_elLinkRegionBox;
        m_nLocalOffsetXPct;
        m_nLocalOffsetYPct;
        m_fnMouseUp = null;
        m_fnMouseMove = null;
        m_listeners = new o.G_();
        m_strDescription = "";
        m_aspectRatio = 1;
        componentWillUnmount() {
          this.m_listeners.Unregister();
        }
        constructor(e) {
          super(e),
            (this.state = {
              curLeftPosPct: this.props.xPosPct,
              curTopPosPct: this.props.yPosPct,
              curRightPosPct: 100 - (this.props.widthPct + this.props.xPosPct),
              curBottomPosPct:
                100 - (this.props.yPosPct + this.props.heightPct),
              curWidthPct: this.props.widthPct,
              curHeightPct: this.props.heightPct,
              EdgeDown: null,
              text_link_url: this.props.link_url,
              text_link_description: this.props.link_description,
              bEditingLink: !1,
              valid_link: this.validateUrl(this.props.link_url),
            }),
            (this.m_strDescription = this.props.link_description),
            (this.m_aspectRatio =
              this.props.heightPct > 0 && this.props.widthPct > 0
                ? this.props.widthPct / this.props.heightPct
                : 1);
        }
        LinkRegionBoxRef(e) {
          this.m_elLinkRegionBox = e;
        }
        OnMouseDown(e, t) {
          (this.m_fnMouseUp = (e) => {
            this.OnMouseUp(e, t);
          }),
            (this.m_fnMouseMove = (e) => {
              this.OnMouseMove(e, t);
            }),
            this.setState({ EdgeDown: t }),
            (this.m_rectLinkRegion =
              this.m_elLinkRegionBox.parentElement.getBoundingClientRect()),
            (this.m_nLocalOffsetXPct =
              ((e.clientX - this.m_rectLinkRegion.left) /
                (this.m_rectLinkRegion.right - this.m_rectLinkRegion.left)) *
                100 -
              this.state.curLeftPosPct),
            (this.m_nLocalOffsetYPct =
              ((e.clientY - this.m_rectLinkRegion.top) /
                (this.m_rectLinkRegion.bottom - this.m_rectLinkRegion.top)) *
                100 -
              this.state.curTopPosPct),
            this.m_listeners.AddEventListener(
              this.m_elLinkRegionBox.ownerDocument.defaultView,
              "mousemove",
              this.m_fnMouseMove,
            ),
            this.m_listeners.AddEventListener(
              this.m_elLinkRegionBox.ownerDocument.defaultView,
              "mouseup",
              this.m_fnMouseUp,
            ),
            e.preventDefault(),
            e.stopPropagation();
        }
        OnMouseMove(e, t) {
          if (void 0 !== this.state.EdgeDown) {
            switch ((e.shiftKey && this.m_fnMouseUp(), t)) {
              case n.left:
                this.UpdateState({
                  curLeftPosPct: this.CalcLeftEdge(e.clientX),
                });
                break;
              case n.right:
                this.UpdateState({
                  curRightPosPct: this.CalcRightEdge(e.clientX),
                });
                break;
              case n.top:
                this.UpdateState({ curTopPosPct: this.CalcTopEdge(e.clientY) });
                break;
              case n.bottom:
                this.UpdateState({
                  curBottomPosPct: this.CalcBottomEdge(e.clientY),
                });
                break;
              case n.topleft:
                this.UpdateState({
                  curTopPosPct: this.CalcBottomEdge(e.clientY),
                  curLeftPosPct: this.CalcLeftEdge(e.clientX),
                });
                break;
              case n.topright:
                this.UpdateState({
                  curTopPosPct: this.CalcTopEdge(e.clientY),
                  curRightPosPct: this.CalcRightEdge(e.clientX),
                });
                break;
              case n.bottomleft:
                this.UpdateState({
                  curLeftPosPct: this.CalcLeftEdge(e.clientX),
                  curBottomPosPct: this.CalcBottomEdge(e.clientY),
                });
                break;
              case n.bottomright:
                this.UpdateState({
                  curRightPosPct: this.CalcRightEdge(e.clientX),
                  curBottomPosPct: this.CalcBottomEdge(e.clientY),
                });
                break;
              case n.middle: {
                const t = (0, _.Lh)(
                    this.CalcLeftEdge(e.clientX),
                    0,
                    100 - this.state.curWidthPct,
                  ),
                  a = 100 - (t + this.state.curWidthPct),
                  n = (0, _.Lh)(
                    this.CalcTopEdge(e.clientY),
                    0,
                    100 - this.state.curHeightPct,
                  ),
                  i = {
                    curLeftPosPct: t,
                    curRightPosPct: a,
                    curTopPosPct: n,
                    curBottomPosPct: 100 - (n + this.state.curHeightPct),
                  };
                this.setState(i);
                break;
              }
            }
            e.preventDefault(), e.stopPropagation();
          }
        }
        IsValidPct(e) {
          return e >= 0 && e <= 100;
        }
        UpdateState(e) {
          let t =
              void 0 !== e.curTopPosPct
                ? e.curTopPosPct
                : this.state.curTopPosPct,
            a =
              void 0 !== e.curBottomPosPct
                ? e.curBottomPosPct
                : this.state.curBottomPosPct,
            n =
              void 0 !== e.curLeftPosPct
                ? e.curLeftPosPct
                : this.state.curLeftPosPct,
            i =
              void 0 !== e.curRightPosPct
                ? e.curRightPosPct
                : this.state.curRightPosPct,
            r = (0, _.Lh)(
              100 - i - n,
              this.props.widthMinPct || 0,
              this.props.widthMaxPct || 100,
            ),
            l = (0, _.Lh)(
              100 - a - t,
              this.props.heightMinPct || 0,
              this.props.heightMaxPct || 100,
            );
          this.props.bLockAspectRatio &&
            (void 0 !== e.curLeftPosPct || void 0 !== e.curRightPosPct
              ? (l = r / this.m_aspectRatio)
              : (r = l * this.m_aspectRatio)),
            void 0 !== e.curLeftPosPct
              ? (n = 100 - i - r)
              : (i = 100 - (n + r)),
            void 0 !== e.curTopPosPct ? (t = 100 - a - l) : (a = 100 - (t + l));
          const s = 100 - i - n,
            o = 100 - a - t;
          this.IsValidPct(n) &&
            this.IsValidPct(i) &&
            this.IsValidPct(t) &&
            this.IsValidPct(a) &&
            this.IsValidPct(s) &&
            this.IsValidPct(o) &&
            this.setState({
              curLeftPosPct: n,
              curRightPosPct: i,
              curTopPosPct: t,
              curBottomPosPct: a,
            });
        }
        GetXPercent(e) {
          return (
            ((e - this.m_rectLinkRegion.left) /
              (this.m_rectLinkRegion.right - this.m_rectLinkRegion.left)) *
              100 -
            this.m_nLocalOffsetXPct
          );
        }
        GetYPercent(e) {
          return (
            ((e - this.m_rectLinkRegion.top) /
              (this.m_rectLinkRegion.bottom - this.m_rectLinkRegion.top)) *
              100 -
            this.m_nLocalOffsetYPct
          );
        }
        CalcLeftEdge(e) {
          return (0, _.Lh)(this.GetXPercent(e), 0, 100);
        }
        CalcRightEdge(e) {
          return (0, _.Lh)(
            100 - (this.GetXPercent(e) + this.state.curWidthPct),
            0,
            100,
          );
        }
        CalcTopEdge(e) {
          return (0, _.Lh)(this.GetYPercent(e), 0, 100);
        }
        CalcBottomEdge(e) {
          return (0, _.Lh)(
            100 - (this.GetYPercent(e) + this.state.curHeightPct),
            0,
            100,
          );
        }
        OnMouseUp(e, t) {
          this.setState({
            curWidthPct:
              100 - this.state.curRightPosPct - this.state.curLeftPosPct,
          }),
            this.setState({
              curHeightPct:
                100 - this.state.curBottomPosPct - this.state.curTopPosPct,
            }),
            this.setState({ EdgeDown: void 0 }),
            this.props.updateFn(this.props.index, {
              xPosPct: this.state.curLeftPosPct,
              yPosPct: this.state.curTopPosPct,
              widthPct: this.state.curWidthPct,
              heightPct: this.state.curHeightPct,
              link_url: this.state.text_link_url,
              link_description: this.state.text_link_description,
            }),
            this.m_listeners.Unregister();
        }
        async HandleDelete() {
          this.props.deleteFn && this.props.deleteFn(this.props.index);
        }
        OnSetLinkURLChange(e) {
          this.setState({
            text_link_url: e.target.value,
            valid_link: this.validateUrl(e.target.value),
          });
        }
        OnSetLinkDescriptionChange(e) {
          this.setState({ text_link_description: e.target.value });
        }
        validateUrl(e) {
          return /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/i.test(
            e,
          );
        }
        OnSaveLink() {
          (this.m_strDescription = this.state.text_link_description),
            this.setState({ bEditingLink: !this.state.bEditingLink }),
            this.props.updateFn(this.props.index, {
              xPosPct: this.state.curLeftPosPct,
              yPosPct: this.state.curTopPosPct,
              widthPct: this.state.curWidthPct,
              heightPct: this.state.curHeightPct,
              link_url: this.state.text_link_url,
              link_description: this.state.text_link_description,
            });
        }
        OnEditLink() {
          this.setState({ bEditingLink: !this.state.bEditingLink });
        }
        render() {
          let e = {
              left: this.state.curLeftPosPct + "%",
              top: this.state.curTopPosPct + "%",
              right: this.state.curRightPosPct + "%",
              bottom: this.state.curBottomPosPct + "%",
            },
            t = p().LinkRegionDragBox;
          return (
            null !== this.state.EdgeDown &&
              (t += ` ${p().EdgeDown} ` + p()[this.state.EdgeDown]),
            r.createElement(
              "div",
              {
                className: t,
                style: e,
                ref: this.LinkRegionBoxRef,
                draggable: !1,
              },
              r.createElement(
                "div",
                { className: p().LinkRegionGridBox },
                r.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().TopLeft}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.topleft);
                  },
                  draggable: !1,
                }),
                r.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().Top}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.top);
                  },
                }),
                r.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().TopRight}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.topright);
                  },
                  draggable: !1,
                }),
                r.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().Left}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.left);
                  },
                  draggable: !1,
                }),
                r.createElement(
                  "div",
                  {
                    className: `${p().LinkRegionEdge} ${p().Middle}`,
                    onMouseDown: (e) => {
                      this.OnMouseDown(e, n.middle);
                    },
                    draggable: !1,
                  },
                  this.props.deleteFn &&
                    r.createElement(
                      "div",
                      {
                        className: p().LinkRegionDelete,
                        onClick: this.HandleDelete,
                      },
                      r.createElement(d.pVO, null),
                    ),
                  !this.props.bDisableLink &&
                    r.createElement(
                      "div",
                      {
                        className: p().LinkRegionSettings,
                        onClick: this.OnEditLink,
                      },
                      r.createElement(d.pkz, null),
                    ),
                  r.createElement(
                    "div",
                    { className: p().LinkText },
                    " ",
                    this.m_strDescription,
                    " ",
                  ),
                ),
                r.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().Right}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.right);
                  },
                  draggable: !1,
                }),
                r.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().BottomLeft}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.bottomleft);
                  },
                  draggable: !1,
                }),
                r.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().Bottom}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.bottom);
                  },
                  draggable: !1,
                }),
                r.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().BottomRight}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.bottomright);
                  },
                  draggable: !1,
                }),
              ),
              this.state.bEditingLink &&
                r.createElement(
                  "div",
                  { className: p().LinkRegionInfo },
                  r.createElement(m.II, {
                    className: p().LinkRegionInput,
                    type: "text",
                    name: "link_url",
                    value: this.state.text_link_url,
                    label: (0, c.Xx)("#SteamTV_LinkURL"),
                    placeholder: "https://www.example.com",
                    onChange: this.OnSetLinkURLChange,
                    mustBeURL: !0,
                  }),
                  r.createElement(m.II, {
                    className: p().LinkRegionInput,
                    type: "text",
                    name: "link_description",
                    value: this.state.text_link_description,
                    label: (0, c.Xx)("#SteamTV_LinkDescription"),
                    placeholder: (0, c.Xx)(
                      "#SteamTV_LinkDescription_Placeholder",
                    ),
                    onChange: this.OnSetLinkDescriptionChange,
                  }),
                  r.createElement(
                    "div",
                    { className: p().LinkRegionButtonContainer },
                    r.createElement(
                      m.zx,
                      {
                        disabled: !this.state.valid_link,
                        onClick: this.OnSaveLink,
                      },
                      " ",
                      (0, c.Xx)("#Button_OK"),
                      " ",
                    ),
                    r.createElement(
                      m.zx,
                      { onClick: this.OnEditLink },
                      " ",
                      (0, c.Xx)("#Button_Cancel"),
                    ),
                  ),
                ),
            )
          );
        }
      };
      (0, i.gn)([l.ak], h.prototype, "LinkRegionBoxRef", null),
        (0, i.gn)([l.ak], h.prototype, "OnMouseDown", null),
        (0, i.gn)([l.ak], h.prototype, "OnMouseMove", null),
        (0, i.gn)([l.ak], h.prototype, "OnMouseUp", null),
        (0, i.gn)([l.ak], h.prototype, "HandleDelete", null),
        (0, i.gn)([l.ak], h.prototype, "OnSetLinkURLChange", null),
        (0, i.gn)([l.ak], h.prototype, "OnSetLinkDescriptionChange", null),
        (0, i.gn)([l.ak], h.prototype, "OnSaveLink", null),
        (0, i.gn)([l.ak], h.prototype, "OnEditLink", null),
        (h = (0, i.gn)([s.Pi], h));
    },
    24827: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ai: () => S,
        H6: () => g,
        Kj: () => _,
        Sw: () => f,
        Uy: () => D,
        Zg: () => E,
        uv: () => v,
        w$: () => h,
      });
      var n = a(85556),
        i = a(47427),
        r = a(59728),
        l = a(31846),
        s = a(27605),
        o = a(13129),
        c = a(46984),
        m = a(81602),
        d = a.n(m),
        u = a(64936);
      const p = a(98973);
      function _(e) {
        const t = p.tz.guess(),
          a = p.unix(e).tz(t),
          n = (0, l.CE)();
        return n && a.locale(n), a.format("LT");
      }
      function h(e, t) {
        const a = p.tz.guess(),
          n = p.unix(e).tz(a),
          r = (0, l.CE)();
        return (
          r && n.locale(r),
          i.createElement(
            i.Fragment,
            null,
            n.format("LT"),
            t
              ? i.createElement(
                  "span",
                  { "data-tooltip-text": n.format("Z") + ", " + a },
                  " ",
                  n.zoneAbbr(),
                )
              : null,
          )
        );
      }
      const g = (0, s.Pi)((e) => {
          const {
              dateAndTime: t,
              bSingleLine: a,
              bOnlyTime: n,
              bOnlyDate: r,
            } = e,
            s = !n && Boolean(t),
            o = !r && Boolean(t),
            c = s && (0, l.$1)(t),
            m = e.stylesmodule ? { ...d(), ...e.stylesmodule } : d();
          return a
            ? i.createElement(
                "span",
                { className: n || r ? m.DateAndTimeInline : m.DateAndTime },
                s && c,
                s && o ? i.createElement("span", null, " ") : void 0,
                Boolean(t && o) && h(t, o),
              )
            : i.createElement(
                "div",
                { className: m.DateAndTime },
                s &&
                  i.createElement(
                    i.Fragment,
                    null,
                    i.createElement("div", { className: m.LocalizedDate }, c),
                    " ",
                    i.createElement("span", { className: m.At }, "@"),
                  ),
                i.createElement(
                  "div",
                  { className: m.LocalizedTime },
                  Boolean(t && o) && h(t, o),
                ),
              );
        }),
        E = (e) => {
          const t = i.createElement(
            "div",
            { className: e.stylesmodule.DateToolTip },
            i.createElement(g, {
              dateAndTime: e.rtFullDate,
              bSingleLine: !0,
              stylesmodule: e.stylesmodule,
            }),
          );
          return i.createElement(
            r.HP,
            {
              toolTipContent: t,
              direction: "top",
              className: e.className,
              bTopmost: !0,
            },
            e.children,
          );
        };
      let S = class extends i.Component {
        render() {
          const { startDateAndTime: e, endDateAndTime: t } = this.props,
            a = this.props.stylesmodule
              ? { ...d(), ...this.props.stylesmodule }
              : d();
          let n =
            this.props.bHideEndTime ||
            null == this.props.endDateAndTime ||
            this.props.endDateAndTime < 1;
          if (null == e || 0 == e)
            return i.createElement(
              "div",
              { className: a.DateAndTime },
              i.createElement(
                "span",
                { className: a.RightSideTitles },
                (0, l.Xx)("#EventDisplay_TimeRange"),
              ),
              (0, l.Xx)("#EventDisplay_TimeDisplayNone"),
            );
          let r = u.JW.GetTimeNowWithOverride();
          if (n)
            return i.createElement(
              "div",
              { className: a.StartDate },
              i.createElement(
                "div",
                { className: a.RightSideTitles },
                (0, l.Xx)(
                  e < r
                    ? "#EventDisplay_TimeInPast"
                    : "#EventDisplay_TimeUpcoming",
                ),
                " ",
              ),
              i.createElement(g, { stylesmodule: a, dateAndTime: e }),
            );
          let s = e <= r && r <= t;
          const m = (0, c.yK)(new Date(1e3 * e), new Date(1e3 * t));
          return i.createElement(
            "div",
            { className: a.MultiDateAndTime },
            i.createElement(
              "div",
              { className: a.StartDate },
              i.createElement(
                "span",
                { className: a.RightSideTitles },
                (0, l.Xx)(
                  e >= r
                    ? "#EventDisplay_TimeBeginsOn"
                    : t >= r
                      ? "#EventDisplay_TimeBeginsOn_Past"
                      : "#EventDisplay_TimeBeginsOn_StartAndEnd_Past",
                ),
              ),
              i.createElement(g, {
                stylesmodule: a,
                bSingleLine: !0,
                dateAndTime: e,
              }),
            ),
            i.createElement(
              "div",
              { className: a.EndDate },
              i.createElement(
                "span",
                { className: a.RightSideTitles },
                (0, l.Xx)(
                  t < r
                    ? "#EventDisplay_TimeEndsOn_Past"
                    : "#EventDisplay_TimeEndsOn",
                ),
              ),
              i.createElement(g, {
                stylesmodule: a,
                bSingleLine: !0,
                bOnlyTime: m,
                dateAndTime: t,
              }),
            ),
            s &&
              i.createElement(
                "span",
                { className: a.ActiveEvent },
                i.createElement(
                  "span",
                  {
                    className: (0, o.Z)(
                      a.RightSideTitles,
                      a.ActiveEventCallOut,
                    ),
                  },
                  (0, l.Xx)("#Time_Now"),
                ),
              ),
          );
        }
      };
      S = (0, n.gn)([s.Pi], S);
      let v = class extends i.Component {
        render() {
          const {
              startDateAndTime: e,
              endDateAndTime: t,
              bHideEndTime: a,
            } = this.props,
            n = this.props.stylesmodule
              ? { ...d(), ...this.props.stylesmodule }
              : d();
          if (null == e || 0 == e)
            return i.createElement(
              "div",
              { className: n.DateAndTime },
              i.createElement(
                "span",
                { className: n.RightSideTitles },
                (0, l.Xx)("#EventDisplay_TimeRange"),
              ),
              (0, l.Xx)("#EventDisplay_TimeDisplayNone"),
            );
          const r = u.JW.GetTimeNowWithOverrideAsDate(),
            s = u.JW.GetTimeNowWithOverride(),
            o = (0, c.U8)(new Date(1e3 * e), r),
            m = i.createElement(
              "div",
              { className: n.ShortDateAndTime },
              (0, l.$1)(e, o),
            );
          let p = i.createElement(
            E,
            { rtFullDate: e, stylesmodule: n },
            i.createElement(
              "div",
              { className: n.RightSideTitles },
              (0, l.Xx)(
                e < s
                  ? "#EventDisplay_TimeInPast"
                  : "#EventDisplay_TimeUpcoming",
              ),
            ),
            m,
          );
          if (
            (s < e &&
              e < s + c._H.PerWeek &&
              (p = i.createElement(
                E,
                { rtFullDate: e, stylesmodule: n },
                i.createElement(
                  "div",
                  { className: n.RightSideTitles },
                  (0, l.kQ)(
                    "#EventDisplay_EventUpcoming_WithDateAndTime",
                    m,
                    i.createElement(
                      "div",
                      { className: n.ShortDateAndTime },
                      h(e),
                      " ",
                    ),
                  ),
                ),
              )),
            a || null == t || t < 1)
          )
            return p;
          const _ = e <= s && s <= t;
          _ &&
            (p = i.createElement(
              E,
              { rtFullDate: e, className: n.ActiveEvent, stylesmodule: n },
              i.createElement(
                "span",
                { className: n.ActiveEventCallOut },
                (0, l.Xx)("#Time_Now"),
              ),
            ));
          let g = null;
          const S = _ ? t - s : t - e;
          if (S <= c._H.PerDay) {
            const e = i.createElement(
              "div",
              { className: n.ShortDateAndTime },
              (0, l.yW)(S, !0),
            );
            g =
              t < s
                ? i.createElement(
                    "div",
                    { className: n.RightSideTitles },
                    (0, l.Xx)("#EventDisplay_TimeEndsOn_Ran"),
                    e,
                  )
                : i.createElement(
                    "div",
                    { className: n.RightSideTitles },
                    (0, l.kQ)(
                      _
                        ? "#EventDisplay_TimeLeft"
                        : "#EventDisplay_RunsForDuration",
                      e,
                    ),
                  );
          } else {
            const e = r.getFullYear() == new Date(1e3 * t).getFullYear();
            g = i.createElement(
              i.Fragment,
              null,
              i.createElement(
                "div",
                { className: n.RightSideTitles },
                (0, l.Xx)(
                  t < s
                    ? "#EventDisplay_TimeEndsOn_Past"
                    : "#EventDisplay_TimeEndsOn",
                ),
              ),
              i.createElement(
                "div",
                { className: n.ShortDateAndTime },
                (0, l.$1)(t, e),
              ),
            );
          }
          const v = i.createElement(E, { rtFullDate: t, stylesmodule: n }, g);
          return i.createElement("div", { className: n.ShortDateRange }, p, v);
        }
      };
      function D(e, t, a) {
        const n = u.JW.GetTimeNowWithOverrideAsDate(),
          i = new Date(1e3 * e),
          r = new Date(1e3 * t),
          s = n.getFullYear() == i.getFullYear(),
          o = n.getFullYear() == r.getFullYear(),
          c = i.getFullYear() == r.getFullYear(),
          m = c && i.getMonth() == r.getMonth(),
          d = m && i.getDate() == r.getDate(),
          p = {
            day: "numeric",
            month: a ?? "long",
            year: s ? void 0 : "numeric",
          },
          _ = i.toLocaleDateString(l.Yt.GetPreferredLocales(), p);
        if (d) return _;
        {
          const e = {
            day: "numeric",
            month: m && o ? void 0 : a ?? "long",
            year: c ? void 0 : "numeric",
          };
          return (
            _ + " - " + r.toLocaleDateString(l.Yt.GetPreferredLocales(), e)
          );
        }
      }
      function f(e) {
        const {
          rtStartDate: t,
          rtEndDate: a,
          strMonthFormat: n,
          className: r,
        } = e;
        return i.createElement("div", { className: r }, D(t, a, n), " ");
      }
      v = (0, n.gn)([s.Pi], v);
    },
    84996: (e, t, a) => {
      "use strict";
      a.d(t, { Gp: () => D, Q0: () => f, ko: () => y });
      var n = a(25307),
        i = a.n(n),
        r = a(47427),
        l = a(77936),
        s = a(38071),
        o = a(20029),
        c = a(1485),
        m = a(71741),
        d = a(77178),
        u = a(90069),
        p = a(46882),
        _ = a(16649),
        h = a(13129),
        g = a(31846),
        E = a(45070),
        S = a(59728),
        v = a(49975);
      const D = (e) => {
          const t = (t, a) => {
            t.preventDefault();
            const {
                fnGetLocData: n,
                closeModal: i,
                strFileNamePrefix: r,
                lang: s,
              } = e,
              o = n(),
              c = new E.i();
            let m = r ? r + "_localization" : "localization";
            switch (a) {
              case "csv_row":
                c.WriteLocalizationData_CSV_LanguageRows(o, m + ".csv");
                break;
              case "csv_column":
                c.WriteLocalizationData_CSV_LanguageColumns(o, m + ".csv");
                break;
              case "csv_token":
                c.WriteLocalizationData_CSV_TokenAndLanguageColumns(
                  o,
                  m + ".csv",
                );
                break;
              case "xml":
                c.WriteLocalizationData_XML_SingleLanguage(
                  o,
                  s,
                  m + "_" + (0, l.eV)((0, l.j_)(s)) + ".xml",
                );
            }
            i && i();
          };
          return r.createElement(
            r.Fragment,
            null,
            Boolean(e.bShowCSV) &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  c.KM,
                  { onClick: (e) => t(e, "csv_row") },
                  (0, g.Xx)("#Localization_Export_Btn_RowLanguages"),
                ),
                r.createElement(
                  c.KM,
                  { onClick: (e) => t(e, "csv_column") },
                  (0, g.Xx)("#Localization_Export_Btn_ColumnLanguages"),
                ),
                r.createElement(
                  c.KM,
                  { onClick: (e) => t(e, "csv_token") },
                  (0, g.Xx)("#Localization_Export_Btn_TokenLanguages"),
                ),
              ),
            Boolean(e.bShowXML) &&
              r.createElement(
                c.KM,
                { onClick: (e) => t(e, "xml") },
                (0, g.Xx)("#Localization_Export_Btn_XML"),
              ),
          );
        },
        f = (e) => {
          const [t, a] = (0, r.useState)(!1),
            n = (e, t) => {
              a(!1),
                console.log(
                  "ImportLocalizationAction: On Handle Parse error: " +
                    e.message,
                  e,
                ),
                (0, u.AM)(
                  r.createElement(
                    d.JX,
                    null,
                    r.createElement(
                      "div",
                      null,
                      r.createElement(
                        "p",
                        null,
                        (0, g.Xx)("#Localization_Error_Input"),
                      ),
                      r.createElement("p", null, e.message),
                    ),
                  ),
                  window,
                );
            },
            c = (e) => {
              a(!1);
              let t = "";
              e.forEach((e) => {
                t.length > 0 && (t += ", "),
                  (t += (0, g.Xx)("#Language_" + (0, l.j_)(e)));
              }),
                (0, u.AM)(
                  r.createElement(
                    d.uH,
                    {
                      strTitle: (0, g.Xx)("#EventDisplay_Share_Success"),
                      bAlertDialog: !0,
                    },
                    r.createElement(
                      "div",
                      null,
                      0 == t.length
                        ? (0, g.Xx)(
                            "#Localization_Success_ImportComplete_NoChange",
                          )
                        : (0, g.Xx)("#Localization_Success_ImportComplete", t),
                    ),
                  ),
                  window,
                );
            },
            D = async (t) => {
              let r = t.target.files;
              if (r && r.length > 0) {
                a(!0);
                let t = new Array(),
                  l = new E.i();
                for (let a = 0; a < r.length; ++a)
                  if (r[a]) {
                    if (r[a].name.toLocaleLowerCase().endsWith(".csv"))
                      return void i().parse(r[0], {
                        header: !0,
                        complete: (t) => {
                          let a = new E.i().DetectAndFormatCSV(t);
                          if (!a)
                            return void n({
                              code: "",
                              message: "",
                              row: 0,
                              type: "filenameerror",
                            });
                          const i = g.LJ.GetLanguageListForRealms([
                              s.IN.k_ESteamRealmGlobal,
                            ]),
                            r = e.fnOnImportLocData(a, i);
                          c(r);
                        },
                        error: n,
                      });
                    if (r[a].name.toLocaleLowerCase().endsWith(".xml")) {
                      let i = (0, o.Z)(r[a].name, -1);
                      if (null == i || -1 == i)
                        return void n({
                          code: "",
                          message: (0, g.Xx)(
                            "#Localization_Error_FileLangauage",
                            r[a].name,
                          ),
                          row: 0,
                          type: "filenameerror",
                        });
                      try {
                        const n =
                          await l.ReadLocalizationData_XML_SingleLanguage(
                            r[a],
                            i,
                          );
                        e.fnOnImportLocData(n, [i]).map((e) => {
                          -1 == t.indexOf(e) && t.push(e);
                        });
                      } catch (e) {
                        let t = (0, _.l)(e);
                        return void n({
                          code: "",
                          message: (0, g.Xx)(
                            "#Localization_Error_XMLParseError",
                            t.strErrorMsg,
                          ),
                          row: 0,
                          type: "parseerror",
                        });
                      }
                    } else
                      n({
                        code: "",
                        message: (0, g.Xx)(
                          "#Localization_Error_FileExtention",
                          r[a].name,
                        ),
                        row: 0,
                        type: "filenameerror",
                      });
                  }
                c(t);
              }
            };
          return r.createElement(
            S.HP,
            {
              className: (0, h.Z)(
                e.className ? e.className : m.EditPreviewButton,
              ),
              toolTipContent: e.strToolTip,
            },
            r.createElement(
              "label",
              { className: v.ImportButton, htmlFor: "importlocalization" },
              t && r.createElement(p.V, { size: "small" }),
              r.createElement(
                "div",
                { className: v.Label },
                (0, g.Xx)(e.strLabel ? e.strLabel : "#Localization_Import_Btn"),
              ),
              r.createElement("input", {
                id: "importlocalization",
                className: v.ImportButton,
                style: { display: "none" },
                type: "file",
                onSubmit: D,
                onChange: D,
                multiple: !0,
              }),
            ),
          );
        },
        y = (e) => {
          const {
              fnOnImportLocData: t,
              closeModal: a,
              sampleLocData: n,
              sampleFilename: i,
            } = e,
            l = new E.i();
          return r.createElement(
            d.RG,
            { onCancel: a, closeModal: a },
            r.createElement(c.h4, null, (0, g.Xx)("#ImportLoc_Title")),
            r.createElement(
              c.uT,
              null,
              r.createElement("div", null, (0, g.Xx)("#ImportLoc_Description")),
              r.createElement(
                "div",
                { className: v.ImportLocSampleButtonCtn },
                r.createElement(
                  "div",
                  { className: v.SampleTitle },
                  (0, g.Xx)("#ImportLoc_SampleTitle"),
                ),
                r.createElement(
                  c.zx,
                  {
                    onClick: () =>
                      l.WriteLocalizationData_CSV_LanguageRows(
                        n,
                        i + "_row.csv",
                      ),
                  },
                  (0, g.Xx)("#ImportLoc_CSVLangPerRow"),
                ),
                r.createElement(
                  c.zx,
                  {
                    onClick: () =>
                      l.WriteLocalizationData_CSV_LanguageColumns(
                        n,
                        i + "_col.csv",
                      ),
                  },
                  (0, g.Xx)("#ImportLoc_CSVLangPerCol"),
                ),
                r.createElement(
                  c.zx,
                  {
                    onClick: () =>
                      l.WriteLocalizationData_CSV_TokenAndLanguageColumns(
                        n,
                        i + "_token.csv",
                      ),
                  },
                  (0, g.Xx)("#ImportLoc_CSVTokenLang"),
                ),
                r.createElement(
                  c.zx,
                  {
                    onClick: () =>
                      l.WriteLocalizationData_XML_SingleLanguage(
                        n,
                        0,
                        i + "xml",
                      ),
                  },
                  (0, g.Xx)("#ImportLoc_XML"),
                ),
              ),
            ),
            r.createElement(
              c.$_,
              null,
              r.createElement(f, {
                strLabel: (0, g.Xx)("#BuildNotes_ImportLocalization"),
                fnOnImportLocData: (e, n) => {
                  const i = t(e, n);
                  return a(), i;
                },
              }),
            ),
          );
        };
    },
    28918: (e, t, a) => {
      "use strict";
      a.d(t, { j: () => l });
      var n = a(85556),
        i = a(47427),
        r = a(20417);
      class l extends i.Component {
        m_refImage = i.createRef();
        constructor(e) {
          super(e), (this.state = { nImage: 0 });
        }
        componentDidUpdate(e) {
          JSON.stringify(this.props.rgSources) != JSON.stringify(e.rgSources) &&
            this.setState({ nImage: 0 });
        }
        get src() {
          let e = "";
          return (
            this.props.rgSources &&
              this.props.rgSources.length > this.state.nImage &&
              (e = this.props.rgSources[this.state.nImage]),
            e ||
              (console.warn(
                "MultiSourceImage created with no image src",
                this.props,
                this.state.nImage,
              ),
              (e =
                "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=")),
            e
          );
        }
        get imgRef() {
          return this.m_refImage;
        }
        OnImageError(e) {
          this.props.onIncrementalError &&
            this.props.onIncrementalError(
              e,
              this.props.rgSources[this.state.nImage],
              this.state.nImage,
            );
          let t = this.state.nImage + 1;
          t >= this.props.rgSources.length &&
            this.props.onError &&
            this.props.onError(e),
            t < this.props.rgSources.length && this.setState({ nImage: t });
        }
        render() {
          const {
              rgSources: e,
              onIncrementalError: t,
              onError: a,
              ...n
            } = this.props,
            r = this.src;
          return i.createElement("img", {
            ref: this.m_refImage,
            ...n,
            src: r,
            onError: this.OnImageError,
          });
        }
      }
      (0, n.gn)([r.ak], l.prototype, "OnImageError", null);
    },
    23665: (e, t, a) => {
      "use strict";
      a.d(t, { n: () => _ });
      var n = a(47427),
        i = a(8285),
        r = a(13129),
        l = a(31846),
        s = a(71472),
        o = a(97342),
        c = a.n(o),
        m = a(59728),
        d = a(14609),
        u = a(91618);
      class p extends n.Component {
        state = { activeTab: "" };
        componentDidMount() {
          this.props.startingTab
            ? this.setState({ activeTab: this.props.startingTab })
            : !this.props.bDisableRouting &&
              this.props.location &&
              this.setState({
                activeTab: (0, s.ks)(this.props.location, "tab"),
              });
        }
        componentDidUpdate(e) {
          !this.props.bDisableRouting &&
            this.props.location &&
            this.props.location.key !== e.location.key &&
            this.setState({ activeTab: (0, s.ks)(this.props.location, "tab") });
        }
        OnTabClick(e) {
          this.setState({ activeTab: e.key }),
            !this.props.bDisableRouting &&
              this.props.history &&
              (0, s.i9)(this.props.history, "tab", e.key),
            e.onClick && e.onClick(e);
        }
        render() {
          const e =
            this.props.tabs.find((e) => e.key === this.state.activeTab) ||
            this.props.tabs[0];
          return n.createElement(
            n.Fragment,
            null,
            n.createElement(
              u.s,
              {
                className: (0, r.Z)(
                  c().GraphicalAssetsTabs,
                  this.props.classNameCtn,
                ),
              },
              this.props.tabs.map((t) => {
                if (!t.hidden) {
                  let a = "";
                  return (
                    "success" === t.statusType
                      ? (a = c().StatusSuccess)
                      : "danger" === t.statusType
                        ? (a = c().StatusDanger)
                        : "caution" === t.statusType && (a = c().StatusCaution),
                    n.createElement(
                      d.M2,
                      {
                        key: t.key,
                        condition: Boolean(t.statusToolTip || t.tooltip),
                        wrap: (e) =>
                          n.createElement(
                            m.HP,
                            { toolTipContent: t.statusToolTip || t.tooltip },
                            e,
                          ),
                      },
                      n.createElement(
                        u.s,
                        {
                          key: t.key,
                          className: (0, r.Z)(
                            `${c().GraphicalAssetsTab} ${t.key === e.key ? (0, r.Z)(c().Active, "ActiveTab") : ""}`,
                            this.props.classNameTab,
                          ),
                          onActivate: () => this.OnTabClick(t),
                        },
                        Boolean(t.vo_warning) &&
                          n.createElement(
                            m.HP,
                            { toolTipContent: t.vo_warning },
                            n.createElement(
                              "div",
                              { className: c().VOWarning },
                              (0, l.Xx)("#EventEditor_VOWarning"),
                            ),
                          ),
                        Boolean(t.status) &&
                          n.createElement(
                            "div",
                            {
                              className: (0, r.Z)(c().GraphicalAssetStatus, a),
                            },
                            t.status,
                          ),
                        t.name,
                      ),
                    )
                  );
                }
                return null;
              }),
            ),
            n.createElement(
              u.s,
              null,
              e && n.createElement(u.s, null, e.contents),
            ),
          );
        }
      }
      const _ = (0, i.EN)(p);
    },
    9075: (e, t, a) => {
      "use strict";
      a.d(t, { e: () => p });
      var n = a(85556),
        i = a(47427),
        r = a(27174),
        l = a(1485),
        s = a(50727),
        o = a(77178),
        c = a(13129),
        m = a(31846),
        d = a(20417),
        u = a(46351);
      class p extends i.Component {
        state = {
          region: {
            xPosPct: 0,
            yPosPct: 0,
            widthPct: (this.GetDestWidth() / this.props.uploadFile.width) * 100,
            heightPct:
              (this.GetDestHeight() / this.props.uploadFile.height) * 100,
          },
        };
        async OnCrop() {
          await this.props.uploadFile.CropImage(
            (this.state.region.xPosPct / 100) * this.props.uploadFile.width,
            (this.state.region.yPosPct / 100) * this.props.uploadFile.height,
            (this.state.region.widthPct / 100) * this.props.uploadFile.width,
            (this.state.region.heightPct / 100) * this.props.uploadFile.height,
            this.GetDestWidth(),
            this.GetDestHeight(),
            this.props.fileType,
          ),
            this.props.closeModal();
        }
        UpdateCrop(e, t) {
          this.setState({ region: t });
        }
        GetDestWidth() {
          const { uploadFile: e, forceResolution: t } = this.props;
          return t ? t.width : r.h1[e.type].width;
        }
        GetDestHeight() {
          const { uploadFile: e, forceResolution: t } = this.props;
          return t ? t.height : r.h1[e.type].height;
        }
        GetLargestBoxThatFits(e, t, a, n) {
          let i = a,
            r = (i * t) / Math.max(e, 1);
          return (
            r > n && ((r = n), (i = (r * e) / Math.max(t, 1))),
            { width: i, height: r }
          );
        }
        GetPreviewWindowStyle() {
          const { region: e } = this.state,
            t = this.GetLargestBoxThatFits(
              this.GetDestWidth(),
              this.GetDestHeight(),
              500,
              150,
            ),
            a = t.width,
            n = t.height,
            i = 1 / Math.max(e.widthPct / 100, 1e-4),
            r = 1 / Math.max(e.heightPct / 100, 1e-4),
            l = (this.props.uploadFile.width * e.xPosPct) / 100,
            s = (this.props.uploadFile.height * e.yPosPct) / 100;
          return {
            width: a,
            height: n,
            backgroundPosition: `${-l * ((a * i) / this.props.uploadFile.width)}px ${-s * ((n * r) / this.props.uploadFile.height)}px`,
            backgroundSize: `${100 * i}% ${100 * r}%`,
            backgroundImage: `url(${this.props.uploadFile.dataUrl})`,
          };
        }
        render() {
          const e = (this.GetDestWidth() / this.props.uploadFile.width) * 100,
            t = (this.GetDestHeight() / this.props.uploadFile.height) * 100,
            a = this.GetLargestBoxThatFits(
              this.props.uploadFile.width,
              this.props.uploadFile.height,
              800,
              500,
            );
          return i.createElement(
            o.e1,
            {
              onEscKeypress: this.props.closeModal,
              bDisableBackgroundDismiss: !0,
            },
            i.createElement(
              "div",
              {
                className: (0, c.Z)("DialogContent", "_DialogCenterVertically"),
              },
              i.createElement(
                l.bU,
                null,
                (0, m.Xx)(
                  "#ImageUpload_CropModalTitleDims",
                  this.GetDestWidth(),
                  this.GetDestHeight(),
                ),
              ),
              i.createElement(
                "div",
                { className: (0, c.Z)("DialogBodyText") },
                (0, m.Xx)("#ImageUpload_CropModalDescription"),
              ),
              i.createElement(
                "div",
                {
                  className: u.CropImage,
                  style: { width: a.width, height: a.height },
                },
                i.createElement("img", {
                  style: {
                    maxWidth: "100%",
                    maxHeight: "100%",
                    objectFit: "contain",
                  },
                  src: this.props.uploadFile.dataUrl,
                }),
                i.createElement(s.l, {
                  bLockAspectRatio: !0,
                  bDisableLink: !0,
                  index: 0,
                  updateFn: this.UpdateCrop,
                  xPosPct: 0,
                  yPosPct: 0,
                  widthMinPct: e,
                  heightMinPct: t,
                  widthPct: e,
                  heightPct: t,
                }),
              ),
              i.createElement(
                "div",
                { className: u.CropPreviewGroup },
                i.createElement(
                  "div",
                  { className: u.CropPreviewLabel },
                  (0, m.Xx)("#ImageUpload_CropPreview"),
                ),
                i.createElement("div", { style: this.GetPreviewWindowStyle() }),
              ),
              i.createElement(
                l.KM,
                { onClick: this.OnCrop },
                (0, m.Xx)("#ImageUpload_CropAndContinue"),
              ),
            ),
          );
        }
      }
      (0, n.gn)([d.ak], p.prototype, "OnCrop", null),
        (0, n.gn)([d.ak], p.prototype, "UpdateCrop", null);
    },
    45070: (e, t, a) => {
      "use strict";
      a.d(t, { C: () => o, i: () => c });
      var n = a(77936),
        i = a(38071),
        r = a(87225),
        l = a(88408),
        s = a(31846);
      class o {
        m_mapTokens = new Map();
        GetLocalization(e, t) {
          const a = this.m_mapTokens.get(e);
          if (a && a[t]) return a[t];
        }
        SetLocalization(e, t, a) {
          let n = this.m_mapTokens.get(e);
          n || ((n = (0, r.LG)([], 31, null)), this.m_mapTokens.set(e, n)),
            (n[t] = a);
        }
        GetSortedTokenList() {
          let e = [];
          return (
            this.m_mapTokens.forEach((t, a) => e.push(a)),
            e.sort((e, t) => e.localeCompare(t)),
            e
          );
        }
        GetLanguagesWithTokens() {
          let e = new Map();
          this.m_mapTokens.forEach((t) => {
            for (let a = 0; a < t.length; ++a)
              !e.has(a) &&
                null !== t[a] &&
                void 0 !== t[a] &&
                t[a].trim().length > 0 &&
                e.set(a, !0);
          });
          let t = new Array();
          return (
            e.forEach((e, a) => {
              e && t.push(a);
            }),
            t
          );
        }
        ClearLanguagesTokens(e) {
          e.forEach((e) => {
            this.m_mapTokens.forEach((t, a) => {
              e < t.length && null !== t[e] && (t[e] = null);
            });
          });
        }
        DebugPrintData() {
          const e = new Array();
          return (
            this.m_mapTokens.forEach((t, a) => e.push(`${a}=${t.join(",")}`)),
            e.join("\n")
          );
        }
      }
      class c {
        DetectAndFormatCSV(e) {
          let t = null;
          return (
            e?.meta?.fields?.length >= 3 &&
            "field" === e.meta.fields[0] &&
            "language" === e.meta.fields[1] &&
            "value" === e.meta.fields[2]
              ? (t = this.ReadLocalizationData_CSV_TokenLanguageList(e))
              : e?.meta?.fields?.length >= 2 &&
                  "field" === e.meta.fields[0] &&
                  -1 != (0, n.jM)(e.meta.fields[1], -1)
                ? (t = this.ReadLocalizationData_CSV_LanguageColumns(e))
                : e?.meta?.fields?.length >= 2 &&
                  "language" === e.meta.fields[0] &&
                  (t = this.ReadLocalizationData_CSV_LanguageRows(e)),
            t
          );
        }
        async ReadLocalizationData_XML_SingleLanguage(e, t) {
          let a = new o(),
            n = new DOMParser(),
            i = await l.K.ReadFile(e),
            r = n.parseFromString(i.toString(), "application/xml");
          for (let e = 0; e < r.documentElement.children.length; ++e) {
            const n = r.documentElement.children.item(e),
              i = n.getAttribute("id").toLocaleLowerCase(),
              l = n.textContent;
            a.SetLocalization(i, t, l);
          }
          return a;
        }
        ReadLocalizationData_CSV_TokenLanguageList(e) {
          const t = new o();
          return (
            e.data.forEach((e) => {
              const a = e.field,
                i = (0, n.jM)(e.language);
              t.SetLocalization(a, i, e.value);
            }),
            t
          );
        }
        ReadLocalizationData_CSV_LanguageColumns(e) {
          const t = new o();
          return (
            e.data.forEach((e) => {
              const a = e.field;
              for (let i = 0; i < 31; ++i) {
                const r = (0, n.eV)((0, n.j_)(i));
                t.SetLocalization(a, i, e[r]);
              }
            }),
            t
          );
        }
        ReadLocalizationData_CSV_LanguageRows(e) {
          const t = new o();
          return (
            e.data.forEach((e) => {
              const a = (0, n.jM)(e.language, 31);
              if (31 !== a)
                for (const [n, i] of Object.entries(e))
                  "language" !== n &&
                    "string" == typeof i &&
                    t.SetLocalization(n, a, i);
            }),
            t
          );
        }
        GetExportLanguages() {
          return s.LJ.GetLanguageListForRealms([i.IN.k_ESteamRealmGlobal]);
        }
        WriteLocalizationData_CSV_TokenAndLanguageColumns(e, t) {
          let a = new Array();
          e.GetSortedTokenList().forEach((t) => {
            for (const i of this.GetExportLanguages()) {
              let r = { field: t };
              (r.language = (0, n.eV)((0, n.j_)(i))),
                (r.value = e.GetLocalization(t, i)),
                a.push(r);
            }
          }),
            l.K.WriteCSVToFile(a, t);
        }
        WriteLocalizationData_CSV_LanguageColumns(e, t) {
          let a = new Array();
          e.GetSortedTokenList().forEach((t) => {
            let i = { field: t };
            for (const a of this.GetExportLanguages())
              i[(0, n.eV)((0, n.j_)(a))] = e.GetLocalization(t, a);
            a.push(i);
          }),
            l.K.WriteCSVToFile(a, t);
        }
        WriteLocalizationData_CSV_LanguageRows(e, t) {
          let a = new Array();
          for (const e of this.GetExportLanguages())
            a.length <= e - 1 && a.push({ language: "" }),
              a.push({ language: (0, n.eV)((0, n.j_)(e)) });
          e.GetSortedTokenList().forEach((t) => {
            for (const n of this.GetExportLanguages()) {
              const i = e.GetLocalization(t, n);
              a[n][t] = i;
            }
          }),
            l.K.WriteCSVToFile(a, t);
        }
        WriteLocalizationData_XML_SingleLanguage(e, t, a) {
          let n = document.implementation.createDocument(null, "content", null);
          e.GetSortedTokenList().forEach((a) => {
            let i = n.createElement("string");
            i.setAttribute("id", a),
              i.appendChild(n.createTextNode(e.GetLocalization(a, t) || "")),
              n.documentElement.append(i);
          }),
            l.K.WriteXMLToFile(n, a);
        }
      }
    },
    76330: (e, t, a) => {
      "use strict";
      a.d(t, { J: () => n });
      const n = [
        { id: 303520413, displayName: "Adam" },
        { id: 388445686, displayName: "Adil" },
        { id: 85411739, displayName: "Alden" },
        { id: 1685193861, displayName: "Anna" },
        { id: 1153232713, displayName: "Augusta" },
        { id: 1016413309, displayName: "Brock" },
        { id: 55551709, displayName: "Connor" },
        { id: 1153054355, displayName: "DJ" },
        { id: 328711801, displayName: "Erik" },
        { id: 72848153, displayName: "Izumi" },
        { id: 76493708, displayName: "Jason" },
        { id: 1620810191, displayName: "Javier" },
        { id: 100402330, displayName: "Kassidy" },
        { id: 1561376890, displayName: "Kevin" },
        { id: 1553660262, displayName: "Lyria" },
        { id: 1297385845, displayName: "Marc" },
        { id: 1184183308, displayName: "Miranda" },
        { id: 1152779073, displayName: "Nathaniel" },
        { id: 1258631037, displayName: "Odin" },
        { id: 1211448543, displayName: "Ria" },
        { id: 1538854785, displayName: "Sam" },
        { id: 1289103430, displayName: "Steve" },
        { id: 122962881, displayName: "TomG" },
      ];
    },
    4618: (e, t, a) => {
      "use strict";
      var n;
      function i(e) {
        switch (e) {
          case n.k_ConfigPage_Takeover:
            return "frontpage";
          case n.k_ConfigPage_Takeunder:
            return "takeunder";
          case n.k_ConfigPage_TakeoverSteamChina:
            return "frontpage_china";
          case n.k_ConfigPage_Spotlight:
            return "spotlights";
          case n.k_ConfigPage_EarlyAccess_Takeover:
            return "content_hub_earlyaccess";
          case n.k_ConfigPage_FreeToPlay_Takeover:
            return "content_hub_freetoplay";
          case n.k_ConfigPage_GreatOnDeck_Takeover:
            return "content_hub_greatondeck";
          case n.k_ConfigPage_Category_Action_Takeover:
            return "content_hub_category_action";
          case n.k_ConfigPage_Category_Multiplayer_Takeover:
            return "content_hub_category_multiplayer";
          case n.k_ConfigPage_Demo_Hub_Takeover:
            return "content_hub_demos";
          case n.k_ConfigPage_RPG_Tag_Hub_Takeover:
            return "content_hub_tags_122";
          case n.k_ConfigPage_Racing_Tag_Hub_Takeover:
            return "content_hub_tags_699";
          case n.k_ConfigPage_VR_Hub_Takeover:
            return "content_hub_vr";
          case n.k_ConfigPage_Casual_Tag_Hub_Takeover:
            return "content_hub_tags_599";
        }
      }
      function r(e) {
        switch (e) {
          case n.k_ConfigPage_Takeover:
            return "Front Page Takeover";
          case n.k_ConfigPage_Takeunder:
            return "Takeunder";
          case n.k_ConfigPage_TakeoverSteamChina:
            return "Steam China Frontpage Takeover";
          case n.k_ConfigPage_Spotlight:
            return "Front Page Spotlight";
          case n.k_ConfigPage_EarlyAccess_Takeover:
            return "Early Access Content Hub Takeover";
          case n.k_ConfigPage_FreeToPlay_Takeover:
            return "Free to Play Content Hub Takeover";
          case n.k_ConfigPage_GreatOnDeck_Takeover:
            return "Great on Deck Hub Takeover";
          case n.k_ConfigPage_Category_Action_Takeover:
            return "Category Action Hub Takeover";
          case n.k_ConfigPage_Category_Multiplayer_Takeover:
            return "Category Multiplayer Hub Takeover";
          case n.k_ConfigPage_Demo_Hub_Takeover:
            return "Demo Hub Takeover";
          case n.k_ConfigPage_RPG_Tag_Hub_Takeover:
            return "RPG Tag Hub Takeover";
          case n.k_ConfigPage_Racing_Tag_Hub_Takeover:
            return "Racing Tag Hub Takeover";
          case n.k_ConfigPage_VR_Hub_Takeover:
            return "VR Content Hub Takeover";
          case n.k_ConfigPage_Casual_Tag_Hub_Takeover:
            return "Casual Tag Hub Takeover";
        }
      }
      function l(e) {
        switch (e) {
          case n.k_ConfigPage_Takeover:
            return "defcon1";
          case n.k_ConfigPage_Takeunder:
            return "takeunder";
          case n.k_ConfigPage_TakeoverSteamChina:
            return "defcon1_china";
          case n.k_ConfigPage_Spotlight:
            return null;
          case n.k_ConfigPage_EarlyAccess_Takeover:
          case n.k_ConfigPage_FreeToPlay_Takeover:
          case n.k_ConfigPage_GreatOnDeck_Takeover:
          case n.k_ConfigPage_Category_Action_Takeover:
          case n.k_ConfigPage_Category_Multiplayer_Takeover:
          case n.k_ConfigPage_Demo_Hub_Takeover:
          case n.k_ConfigPage_RPG_Tag_Hub_Takeover:
          case n.k_ConfigPage_Racing_Tag_Hub_Takeover:
          case n.k_ConfigPage_VR_Hub_Takeover:
          case n.k_ConfigPage_Casual_Tag_Hub_Takeover:
            return "content_hub";
        }
        return null;
      }
      function s(e) {
        return `/admin/store/pageclusteredit/${i(e)}/<grab this ID>`;
      }
      a.d(t, {
        D9: () => i,
        He: () => l,
        II: () => r,
        R6: () => n,
        bG: () => s,
      }),
        (function (e) {
          (e[(e.k_ConfigPage_Takeover = 1)] = "k_ConfigPage_Takeover"),
            (e[(e.k_ConfigPage_Takeunder = 2)] = "k_ConfigPage_Takeunder"),
            (e[(e.k_ConfigPage_TakeoverSteamChina = 3)] =
              "k_ConfigPage_TakeoverSteamChina"),
            (e[(e.k_ConfigPage_Spotlight = 4)] = "k_ConfigPage_Spotlight"),
            (e[(e.k_ConfigPage_EarlyAccess_Takeover = 5)] =
              "k_ConfigPage_EarlyAccess_Takeover"),
            (e[(e.k_ConfigPage_FreeToPlay_Takeover = 6)] =
              "k_ConfigPage_FreeToPlay_Takeover"),
            (e[(e.k_ConfigPage_GreatOnDeck_Takeover = 7)] =
              "k_ConfigPage_GreatOnDeck_Takeover"),
            (e[(e.k_ConfigPage_Category_Action_Takeover = 8)] =
              "k_ConfigPage_Category_Action_Takeover"),
            (e[(e.k_ConfigPage_Category_Multiplayer_Takeover = 9)] =
              "k_ConfigPage_Category_Multiplayer_Takeover"),
            (e[(e.k_ConfigPage_Demo_Hub_Takeover = 10)] =
              "k_ConfigPage_Demo_Hub_Takeover"),
            (e[(e.k_ConfigPage_RPG_Tag_Hub_Takeover = 11)] =
              "k_ConfigPage_RPG_Tag_Hub_Takeover"),
            (e[(e.k_ConfigPage_Racing_Tag_Hub_Takeover = 12)] =
              "k_ConfigPage_Racing_Tag_Hub_Takeover"),
            (e[(e.k_ConfigPage_VR_Hub_Takeover = 13)] =
              "k_ConfigPage_VR_Hub_Takeover"),
            (e[(e.k_ConfigPage_Casual_Tag_Hub_Takeover = 14)] =
              "k_ConfigPage_Casual_Tag_Hub_Takeover");
        })(n || (n = {}));
    },
    12439: (e, t, a) => {
      "use strict";
      a.d(t, { l: () => d });
      var n = a(85556),
        i = a(54842),
        r = a(86437),
        l = a(45492),
        s = a(20417),
        o = a(46984),
        c = a(35427),
        m = a(65255);
      class d {
        m_oDailyDeal = null;
        m_originalDailyDeal = null;
        m_bDirty = !1;
        m_callback = new l.pB();
        m_storeItemKey = null;
        m_jsonTemplate;
        m_jsonInternal;
        m_jsonPartner;
        m_nCreatorID;
        constructor(e) {
          (0, i.rC)(this), this.Reset(e);
        }
        CalculateStoreItemKey() {
          switch (this.m_oDailyDeal.store_item_type) {
            case 1:
              return (0, r.Bl)(void 0, this.m_oDailyDeal.store_item_id);
            case 2:
              return (0, r.Bl)(void 0, void 0, this.m_oDailyDeal.store_item_id);
            default:
              return (0, r.Bl)(this.m_oDailyDeal.store_item_id);
          }
        }
        Reset(e) {
          (this.m_originalDailyDeal = JSON.parse(JSON.stringify(e))),
            (this.m_oDailyDeal = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1),
            (this.m_storeItemKey = this.CalculateStoreItemKey()),
            (this.m_jsonTemplate = e.template_json
              ? JSON.parse(e.template_json)
              : {}),
            (this.m_jsonInternal = e.internal_json
              ? JSON.parse(e.internal_json)
              : {}),
            (this.m_jsonPartner = e.partner_jsondata
              ? JSON.parse(e.partner_jsondata)
              : {}),
            (this.m_nCreatorID = e.creator_id);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        BIsCancelled() {
          return Boolean(this.m_oDailyDeal.cancelled);
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oDailyDeal;
        }
        GetStoreItemKey() {
          return this.m_storeItemKey;
        }
        GetCreatorID() {
          return this.m_nCreatorID;
        }
        BHasPromotionPlanAssetRequest() {
          return Boolean(this.m_jsonInternal.promotion_plan_asset_request);
        }
        GetPromotionPlanAssetRequestID() {
          return this.m_jsonInternal.promotion_plan_asset_request;
        }
        BHidePrices() {
          return (
            !!this.m_jsonTemplate.hasOwnProperty("hide_price") &&
            this.m_jsonTemplate.hide_price
          );
        }
        GetStartDateRTime() {
          return this.m_oDailyDeal.rtime32_start_time;
        }
        GetEndDateRTime() {
          return this.m_oDailyDeal.rtime32_start_time + o._H.PerDay;
        }
        BHasHubTarget(e) {
          return (
            !(
              !this.m_jsonTemplate.hasOwnProperty("location") ||
              !this.m_jsonTemplate.location.hasOwnProperty("hubTargets")
            ) && this.m_jsonTemplate.location.hubTargets?.includes(e)
          );
        }
        GetHubTargets() {
          return this.m_jsonTemplate.hasOwnProperty("location") &&
            this.m_jsonTemplate.location.hasOwnProperty("hubTargets")
            ? this.m_jsonTemplate.location.hubTargets
            : [];
        }
        GetDealID() {
          return this.m_oDailyDeal.gid;
        }
        GetNotes() {
          return this.m_jsonInternal?.notes;
        }
        GetDiscountEventID() {
          return this.m_oDailyDeal.discount_event_id.toString() ?? "";
        }
        BHasDiscountEventID() {
          return (
            !!this.m_oDailyDeal.discount_event_id &&
            this.m_oDailyDeal.discount_event_id > 0
          );
        }
        GetOverrideURL() {
          return this.m_jsonTemplate.hasOwnProperty("override_url")
            ? this.m_jsonTemplate.override_url
            : "";
        }
        BHasOverrideURL() {
          return (
            this.m_jsonTemplate?.hasOwnProperty("override_url") &&
            this.m_jsonTemplate.override_url.trim().length > 0
          );
        }
        GetInvitationAccountID() {
          return this.m_jsonInternal?.invite_account_id;
        }
        SetVisiblity(e) {
          (this.m_jsonTemplate.hasOwnProperty("hide_price") &&
            this.m_jsonTemplate.hide_price == e) ||
            ((this.m_jsonTemplate.hide_price = e ? 1 : 0),
            (this.m_oDailyDeal.template_json = JSON.stringify(
              this.m_jsonTemplate,
            )),
            this.Dispatch());
        }
        AddRemoveHubTarget(e, t) {
          const a = this.GetHubTargets();
          if (e && !a?.includes(t))
            this.m_jsonTemplate.hasOwnProperty("location") ||
              (this.m_jsonTemplate.location = []),
              this.m_jsonTemplate.location.hasOwnProperty("hubTargets") ||
                (this.m_jsonTemplate.hubTargets = []),
              this.m_jsonTemplate.location.hubTargets.push(t),
              (this.m_oDailyDeal.template_json = JSON.stringify(
                this.m_jsonTemplate,
              )),
              this.Dispatch();
          else if (!e && a?.includes(t)) {
            const e = a.indexOf(t);
            e >= 0 &&
              (this.m_jsonTemplate.location.hubTargets.splice(e, 1),
              (this.m_oDailyDeal.template_json = JSON.stringify(
                this.m_jsonTemplate,
              )),
              this.Dispatch());
          }
        }
        RevertChanges() {
          this.Reset(this.m_originalDailyDeal),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        SetNotes(e) {
          this.m_jsonInternal?.notes != e &&
            ((this.m_jsonInternal.notes = e),
            (this.m_oDailyDeal.internal_json = JSON.stringify(
              this.m_jsonInternal,
            )),
            this.Dispatch());
        }
        SetPromotionPlanAssetRequestID(e) {
          this.m_jsonInternal?.promotion_plan_asset_request != e &&
            ((this.m_jsonInternal.promotion_plan_asset_request = e),
            (this.m_oDailyDeal.internal_json = JSON.stringify(
              this.m_jsonInternal,
            )));
        }
        SetDiscountEventID(e) {
          this.m_oDailyDeal.discount_event_id.toString() != e &&
            ((this.m_oDailyDeal.discount_event_id = parseInt(e)),
            this.Dispatch());
        }
        SetOverrideURL(e) {
          (this.m_jsonTemplate.hasOwnProperty("override_url") &&
            this.m_jsonTemplate.override_url == e) ||
            ((this.m_jsonTemplate.override_url = e),
            (this.m_oDailyDeal.template_json = JSON.stringify(
              this.m_jsonTemplate,
            )),
            this.Dispatch());
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        BHasGenreTarget(e) {
          return !1;
        }
        BHasCategoryTarget(e) {
          return !1;
        }
        GetSaleClanAccountID() {
          return this.m_jsonPartner.sale_clan_account;
        }
        GetSaleClanEventGID() {
          return this.m_jsonPartner.sale_clan_event_gid;
        }
        BHasAssociatedSaleEvent() {
          return Boolean(this.m_jsonPartner.sale_clan_event_gid);
        }
        GetSaleEditEventURL() {
          if (this.BHasAssociatedSaleEvent()) {
            const e = c.K.InitFromClanID(this.m_jsonPartner.sale_clan_account);
            return (
              m.De.COMMUNITY_BASE_URL +
              "gid/" +
              e.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              this.m_jsonPartner.sale_clan_event_gid +
              "?tab=sale"
            );
          }
          return "";
        }
        SetSaleEvent(e, t) {
          (this.m_jsonPartner.sale_clan_account == t &&
            this.m_jsonPartner.sale_clan_event_gid == e) ||
            ((this.m_jsonPartner.sale_clan_account = t),
            (this.m_jsonPartner.sale_clan_event_gid = e),
            (this.m_oDailyDeal.partner_jsondata = JSON.stringify(
              this.m_jsonPartner,
            )),
            this.Dispatch());
        }
        ClearSalePage() {
          (this.m_jsonPartner.sale_clan_account = void 0),
            (this.m_jsonPartner.sale_clan_event_gid = void 0),
            (this.m_oDailyDeal.partner_jsondata = JSON.stringify(
              this.m_jsonPartner,
            )),
            this.Dispatch();
        }
        BRequiresSalePage() {
          return this.m_jsonPartner.require_sale_page;
        }
        SetRequiresSalePage(e) {
          this.m_jsonPartner.require_sale_page != e &&
            ((this.m_jsonPartner.require_sale_page_type = e ? 1 : 0),
            (this.m_jsonPartner.require_sale_page = e),
            (this.m_oDailyDeal.partner_jsondata = JSON.stringify(
              this.m_jsonPartner,
            )),
            this.Dispatch());
        }
        GetRequiresSalePageType() {
          return this.m_jsonPartner.require_sale_page_type;
        }
        SetRequiresSalePageType(e) {
          this.m_jsonPartner.require_sale_page_type != e &&
            ((this.m_jsonPartner.require_sale_page_type = e),
            (this.m_oDailyDeal.partner_jsondata = JSON.stringify(
              this.m_jsonPartner,
            )),
            this.Dispatch());
        }
        AddRemoveGenreTarget(e, t) {}
        AddRemoveCategoryTarget(e, t) {}
      }
      (0, n.gn)([i.LO], d.prototype, "m_bDirty", void 0),
        (0, n.gn)([s.ak], d.prototype, "SetVisiblity", null),
        (0, n.gn)([s.ak], d.prototype, "RevertChanges", null),
        (0, n.gn)([s.ak], d.prototype, "SetSaleEvent", null),
        (0, n.gn)([s.ak], d.prototype, "ClearSalePage", null),
        (0, n.gn)([s.ak], d.prototype, "SetRequiresSalePage", null),
        (0, n.gn)([s.ak], d.prototype, "SetRequiresSalePageType", null);
    },
    256: (e, t, a) => {
      "use strict";
      a.d(t, {
        $p: () => o,
        Hq: () => l,
        IN: () => d,
        JZ: () => n,
        KZ: () => c,
        Rt: () => s,
        W_: () => r,
        X3: () => i,
        j: () => m,
      });
      const n = [1, 2, 11, 12, 3, 4, 6, 7, 9, 5, 8, 10, 0],
        i = [
          "#msg_action_details",
          "#msg_preload_now",
          "#msg_preload_now_for_free",
          "#msg_prepurchase_now",
          "#msg_play_now",
          "#msg_play_it_now",
          "#msg_weekend_play_free",
          "#msg_action_buy",
          "#msg_action_info",
        ];
      function r(e) {
        switch (e) {
          case 1:
            return "Now Available";
          case 2:
            return "Weekend Deal";
          case 3:
            return "Pre-Purchase";
          case 4:
            return "Play Now";
          case 6:
            return "General";
          case 7:
            return "on Demo Quit";
          case 9:
            return "EJ's Korner";
          case 5:
            return "Pre-Load Now";
          case 8:
            return "Gifting Message";
          case 10:
            return "Major Update";
          case 11:
            return "Midweek Deal";
          case 12:
            return "Daily Deal";
          default:
            return "--------------------";
        }
      }
      const l = [1, 2, 3, 4, 5, 6, 8, 7, 9, 10];
      function s(e) {
        switch (e) {
          case 0:
            return "Invalid type";
          case 1:
            return "Owns apps";
          case 2:
            return "Does not own apps";
          case 3:
            return "Owns packages";
          case 4:
            return "Does not own packages";
          case 5:
            return "Wishlists apps";
          case 6:
            return "Follows apps";
          case 8:
            return "Launched apps";
          case 7:
            return "Played apps a lot";
          case 9:
            return "Recently played apps";
          case 10:
            return "Lapsed players for apps";
        }
        return "Unknown Type";
      }
      function o(e) {
        switch (e) {
          case 8:
            return "Just launched the app just once";
          case 7:
            return "Minimum of 4 hours of playtime";
          case 9:
            return "Played the app within the last year";
          case 10:
            return "Played the app within the last year but not in the last three months";
        }
      }
      function c(e) {
        switch (e) {
          case 3:
          case 4:
            return !0;
        }
        return !1;
      }
      var m;
      function d(e, t) {
        let a = !0;
        return (
          1 == e
            ? (a = t?.startsWith("https://store.steamchina.com/"))
            : 2 == e && (a = t?.startsWith("https://store.steampowered.com/")),
          a
        );
      }
      !(function (e) {
        (e[(e.k_EMarketingMessageFlagsNone = 0)] =
          "k_EMarketingMessageFlagsNone"),
          (e[(e.k_EMarketingMessageFlagsHighPriority = 1)] =
            "k_EMarketingMessageFlagsHighPriority"),
          (e[(e.k_EMarketingMessageFlagsPlatformWindows = 2)] =
            "k_EMarketingMessageFlagsPlatformWindows"),
          (e[(e.k_EMarketingMessageFlagsPlatformMac = 4)] =
            "k_EMarketingMessageFlagsPlatformMac"),
          (e[(e.k_EMarketingMessageFlagsPlatformLinux = 8)] =
            "k_EMarketingMessageFlagsPlatformLinux"),
          (e[(e.k_EMarketingMessageFlagsPlatformRestrictions = 14)] =
            "k_EMarketingMessageFlagsPlatformRestrictions");
      })(m || (m = {}));
    },
    17160: (e, t, a) => {
      "use strict";
      a.d(t, { Kq: () => v, VM: () => E, bZ: () => D, kK: () => S });
      var n = a(85556),
        i = a(54842),
        r = a(38071),
        l = a(77936),
        s = a(53545),
        o = a(86437),
        c = a(62210),
        m = a(16997),
        d = a(45492),
        u = a(37563),
        p = a(256),
        _ = a(13913),
        h = a(35427);
      function g(e, t) {
        if (
          ((t.temp_id =
            ("clause" in t ? t.clause + "_" : "filter_") +
            ++D.sm_nTempIDCounter),
          "children" in t)
        )
          Array.isArray(t.children)
            ? t.children.forEach((t) => g(e, t))
            : (console.error(
                `marketing message ${e}:  clause error, clearing its setting so we can continue in the editor. `,
                (0, i.ZN)(t),
              ),
              (t.children = []));
        else {
          const e = t;
          (e.filter_type = parseInt("" + e.filter_type)),
            Array.isArray(e.id_list)
              ? (e.id_list = e.id_list.map((e) => parseInt("" + e)))
              : (e.id_list = []);
        }
      }
      function E(e, t) {
        if (!e || !t) return null;
        const a = JSON.parse(t) || {};
        return (
          a.valid_realms && (a.valid_realms = parseInt(a.valid_realms)),
          a.must_have_market_transactions &&
            (a.must_have_market_transactions =
              "true" === a.must_have_market_transactions),
          a.interactive_recommender_rank &&
            (a.interactive_recommender_rank = parseInt(
              a.interactive_recommender_rank,
            )),
          a.experiment_control_group &&
            (a.experiment_control_group = parseInt(a.experiment_control_group)),
          a.user_filters &&
            ((a.no_filters_required = !1), g(e, a.user_filters)),
          a
        );
      }
      function S(e, t) {
        switch (e) {
          case 1:
            return (0, o.Bl)(t);
          case 2:
            return (0, o.Bl)(null, t);
          case 5:
            return (0, o.Bl)(null, null, t);
        }
        return null;
      }
      function v(e) {
        if (e?.user_filters?.children?.length > 0) {
          let t = 0;
          return (
            e.user_filters.children
              .map((e) => e.children.length)
              .forEach((e) => (t += e)),
            t
          );
        }
        return 0;
      }
      class D {
        m_oMessage = null;
        m_originalMessage = null;
        m_oTemplateVars = null;
        m_oAdditionalRestrictions = null;
        m_bDirty = !1;
        m_callback = new d.pB();
        m_storeItemKey = null;
        m_storeItemID = null;
        m_eSteamRealms = null;
        k_DefaultFilterClause = { clause: "and", children: [] };
        static sm_nTempIDCounter = 1;
        constructor(e) {
          (0, i.rC)(this), this.Reset(e);
        }
        Reset(e) {
          switch (
            ((this.m_originalMessage = JSON.parse(JSON.stringify(e))),
            (this.m_oMessage = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1),
            this.GetRealm())
          ) {
            case 0:
              this.m_eSteamRealms = [r.IN.k_ESteamRealmGlobal];
              break;
            case 1:
              this.m_eSteamRealms = [r.IN.k_ESteamRealmChina];
              break;
            case 2:
              this.m_eSteamRealms = [
                r.IN.k_ESteamRealmGlobal,
                r.IN.k_ESteamRealmChina,
              ];
          }
          (this.m_oTemplateVars = (0, s.r8)(e.template_vars_json) || {}),
            (this.m_oAdditionalRestrictions = E(
              e.gid,
              e.additional_restrictions_json,
            )),
            "featured_video" === this.m_oTemplateVars.custom_display &&
              (this.m_oTemplateVars.background ||
                (this.m_oTemplateVars.background = {})),
            this.SetupStoreItemKey();
        }
        RecursivelyCleanupTempIDForSerialized(e) {
          (e.temp_id = void 0),
            "children" in e &&
              e.children.forEach((e) =>
                this.RecursivelyCleanupTempIDForSerialized(e),
              );
        }
        PrepareMessageModelForUpdate() {
          const e = JSON.parse(JSON.stringify(this.m_oMessage)),
            t = JSON.parse(
              JSON.stringify(this.m_oAdditionalRestrictions || {}),
            );
          return (
            t.user_filters &&
              this.RecursivelyCleanupTempIDForSerialized(t.user_filters),
            (e.template_vars_json = JSON.stringify(this.m_oTemplateVars || {})),
            (e.additional_restrictions_json = JSON.stringify(t || {})),
            e
          );
        }
        SetupStoreItemKey() {
          (this.m_storeItemKey = S(
            this.m_oMessage.association_type,
            this.m_oMessage.associated_id,
          )),
            (this.m_storeItemID = (0, o.Xm)(this.m_storeItemKey));
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        BHasAnimatedAssets() {
          return Boolean(this.m_oTemplateVars.has_animated_assets);
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oMessage;
        }
        GetTemplateVarsModel() {
          return this.m_oTemplateVars;
        }
        GetAdditionalRestrictionModel() {
          return this.m_oAdditionalRestrictions;
        }
        GetStoreItemKey() {
          return this.m_storeItemKey;
        }
        GetStoreItemID() {
          return this.m_storeItemID;
        }
        GetGID() {
          return this.m_oMessage.gid;
        }
        GetName() {
          return this.m_oMessage.title;
        }
        GetType() {
          return this.m_oMessage.type;
        }
        GetVisibilty() {
          return this.m_oMessage.visibility;
        }
        GetPriority() {
          return this.m_oMessage.priority;
        }
        GetCreatorName() {
          return this.m_oMessage.creator_name;
        }
        GetStartRTime() {
          return this.m_oMessage.start_date;
        }
        GetEndRTime() {
          return this.m_oMessage.end_date;
        }
        GetCountryAllow() {
          return this.m_oMessage.country_allow;
        }
        GetCountryAllowList() {
          return (this.m_oMessage.country_allow || "").split(",");
        }
        GetCountryDeny() {
          return this.m_oMessage.country_deny;
        }
        GetCountryDenyList() {
          return (this.m_oMessage.country_deny || "").split(",");
        }
        GetCustomTemplate() {
          return this.m_oTemplateVars.custom_display || void 0;
        }
        GetFeaturedVideoMP4Url() {
          return this.m_oTemplateVars.featured_video_mp4;
        }
        GetFeaturedVideoWebMUrl() {
          return this.m_oTemplateVars.featured_video_webm;
        }
        GetMustOwnAppID() {
          return this.m_oMessage.must_own_appid;
        }
        GetMustNotOwnAppID() {
          return this.m_oMessage.must_not_own_appid;
        }
        GetMustOwnPackageID() {
          return this.m_oMessage.must_own_packageid;
        }
        GetMustNotOwnPackageID() {
          return this.m_oMessage.must_not_own_packageid;
        }
        GetMustHaveLaunchedAppID() {
          return this.m_oMessage.must_have_launched_appid;
        }
        GetPreviewURL(e = "US", t = "english", a = !1, n = !1, i = []) {
          return `${u.De.PARTNER_BASE_URL}marketingmessages/messagepreview/${this.m_oMessage.gid}/?cc=${e}&l=${t}&bForceSteamChina=${a}&low_bandwidth=${n}&dlc_override=${i ? i.join(",") : ""}`;
        }
        GetSteamRealmsForLanguage() {
          return this.m_eSteamRealms || [r.IN.k_ESteamRealmGlobal];
        }
        GetUserMessageFilters() {
          return (
            this.m_oAdditionalRestrictions?.user_filters ||
            this.k_DefaultFilterClause
          );
        }
        GetInternalAssetURL() {
          return this.m_oAdditionalRestrictions.internal_asset_url;
        }
        BHasPlatformWindows() {
          return Boolean(
            this.m_oMessage.flags & p.j.k_EMarketingMessageFlagsPlatformWindows,
          );
        }
        BHasPlatformMac() {
          return Boolean(
            this.m_oMessage.flags & p.j.k_EMarketingMessageFlagsPlatformMac,
          );
        }
        BHasPlatformLinux() {
          return Boolean(
            this.m_oMessage.flags & p.j.k_EMarketingMessageFlagsPlatformLinux,
          );
        }
        BHasFeaturedStoreItem() {
          return Boolean(this.m_storeItemKey);
        }
        BHasAssociatedItem() {
          return Boolean(this.m_storeItemID);
        }
        BHasAssociatedItemReleaseState() {
          return Boolean(
            null !=
              this.m_oAdditionalRestrictions.associated_item_release_state &&
              null !=
                this.m_oAdditionalRestrictions.associated_item_release_state &&
              this.m_oAdditionalRestrictions.associated_item_release_state !=
                _.j6.k_StoreInvalidState &&
              this.m_oAdditionalRestrictions.associated_item_release_state !=
                _.j6.k_StoreUnavailable,
          );
        }
        GetAssociatedItemReleaseState() {
          return (
            this.m_oAdditionalRestrictions.associated_item_release_state ||
            _.j6.k_StoreInvalidState
          );
        }
        BIsCountryShow() {
          return (
            !this.m_oMessage.country_deny ||
            0 == this.m_oMessage.country_deny.trim().length
          );
        }
        BOwnershipRestrictionOverride() {
          return this.m_oMessage.ownership_restrictions_overridden;
        }
        BHasLegacyRestrictions() {
          return Boolean(
            this.m_oMessage.ownership_restrictions_overridden ||
              this.m_oMessage.must_own_appid ||
              this.m_oMessage.must_not_own_appid ||
              this.m_oMessage.must_own_packageid ||
              this.m_oMessage.must_not_own_packageid ||
              this.m_oMessage.must_have_launched_appid,
          );
        }
        BExplicitNoAssociationItem() {
          return this.m_oAdditionalRestrictions.explicit_no_associated_item;
        }
        BExplicitNoLegalPartnerNeeded() {
          return this.m_oAdditionalRestrictions.explicit_no_partner_name_needed;
        }
        GetLinkURL() {
          return this.m_oTemplateVars.linkurl || "";
        }
        GetButtonToken() {
          return this.m_oTemplateVars.button_text;
        }
        GetLegalTextPartnerName() {
          return this.m_oTemplateVars.partner;
        }
        BHasLegalLinePartner() {
          return Boolean(this.m_oTemplateVars.partner?.trim().length);
        }
        BHidePriceOnMessage() {
          return this.m_oTemplateVars.hide_price;
        }
        GetAssetsObject(e) {
          return this.m_oTemplateVars[e];
        }
        GetAssetsModifyTime() {
          return this.m_oTemplateVars.last_asset_mtime;
        }
        BIsNoFilterRequired() {
          return this.m_oAdditionalRestrictions.no_filters_required;
        }
        GetWatchList() {
          return this.m_oAdditionalRestrictions.watchlist || [];
        }
        BIsAccountInWatchList(e) {
          return this.m_oAdditionalRestrictions?.watchlist?.includes(e);
        }
        BHasDynamicFilterForApp(e, t) {
          if (
            !this.m_oAdditionalRestrictions.user_filters ||
            0 == this.m_oAdditionalRestrictions.user_filters.children.length
          )
            return !1;
          let a = this.m_oAdditionalRestrictions.user_filters.children;
          for (let n = 0; n < a.length; ++n) {
            const i = a[n];
            if (this.BRecursiveHasDynamicFilterForApp(i, e, t)) return !0;
          }
          return !1;
        }
        BRecursiveHasDynamicFilterForApp(e, t, a) {
          if ("children" in e) {
            for (let n = 0; n < e.children.length; ++n) {
              const i = e.children[n];
              if (this.BRecursiveHasDynamicFilterForApp(i, t, a)) return !0;
            }
            return !1;
          }
          return (
            "filter_type" in e && e.filter_type == t && e.id_list.includes(a)
          );
        }
        GetRealm() {
          return this.m_oAdditionalRestrictions?.valid_realms || 0;
        }
        GetAdminNotes() {
          return this.m_oAdditionalRestrictions.admin_notes || "";
        }
        GetMustUseClientLanguage() {
          return this.m_oAdditionalRestrictions.must_use_client_language || "";
        }
        GetMustHaveClientPackageGTE() {
          return this.m_oAdditionalRestrictions?.must_have_client_package_gte;
        }
        GetMustHaveClientPackageLTE() {
          return this.m_oAdditionalRestrictions?.must_have_client_package_lte;
        }
        GetUserMessageFilterCount() {
          return v(this.m_oAdditionalRestrictions);
        }
        GetCustomLegalText() {
          return this.m_oTemplateVars.custom_legal_text || "";
        }
        BUseCustomLegalText() {
          return this.m_oTemplateVars.use_custom_legal_text;
        }
        GetSaleClanEventGID() {
          return this.m_oAdditionalRestrictions.sale_clan_event_gid;
        }
        GetSaleClanAccountID() {
          return this.m_oAdditionalRestrictions.sale_clan_account;
        }
        BHasAssociatedSaleEvent() {
          return this.m_oAdditionalRestrictions.sale_clan_account > 0;
        }
        GetSaleEditEventURL() {
          if (this.BHasAssociatedSaleEvent()) {
            const e = h.K.InitFromClanID(
              this.m_oAdditionalRestrictions.sale_clan_account,
            );
            return (
              u.De.COMMUNITY_BASE_URL +
              "gid/" +
              e.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              this.m_oAdditionalRestrictions.sale_clan_event_gid +
              "?tab=sale"
            );
          }
          return "";
        }
        BRequiresSalePage() {
          return this.m_oAdditionalRestrictions.requires_sale_page;
        }
        GetRequiresSalePageType() {
          return 0;
        }
        BHasPlanAssetRequestGID() {
          return Boolean(this.m_oAdditionalRestrictions.plan_asset_request_gid);
        }
        GetPlanAssetRequestGID() {
          return this.m_oAdditionalRestrictions.plan_asset_request_gid;
        }
        SaveSuccessClearDirty() {
          (this.m_originalMessage = JSON.parse(
            JSON.stringify(this.m_oMessage),
          )),
            (this.m_bDirty = !1);
        }
        ClearAllLegacyRestrictions() {
          (this.m_oMessage.must_own_appid = 0),
            (this.m_oMessage.must_not_own_appid = 0),
            (this.m_oMessage.must_own_packageid = 0),
            (this.m_oMessage.must_not_own_packageid = 0),
            (this.m_oMessage.must_have_launched_appid = 0),
            (this.m_oMessage.ownership_restrictions_overridden = !1),
            this.Dispatch();
        }
        SetExplicitNoLegalPartnerNeeded(e) {
          this.m_oAdditionalRestrictions.explicit_no_partner_name_needed !==
            e &&
            (e && (this.m_oTemplateVars.partner = void 0),
            (this.m_oAdditionalRestrictions.explicit_no_partner_name_needed =
              e),
            this.Dispatch());
        }
        SetAdminNote(e) {
          this.m_oAdditionalRestrictions.admin_notes != e &&
            ((this.m_oAdditionalRestrictions.admin_notes = e), this.Dispatch());
        }
        SetName(e) {
          this.m_oMessage.title !== e &&
            ((this.m_oMessage.title = e), this.Dispatch());
        }
        SetType(e) {
          this.m_oMessage.type !== e &&
            ((this.m_oMessage.type = e), this.Dispatch());
        }
        SetVisibility(e) {
          this.m_oMessage.visibility !== e &&
            ((this.m_oMessage.visibility = e), this.Dispatch());
        }
        SetAssociation(e, t) {
          if (
            this.m_oMessage.association_type != e ||
            this.m_oMessage.associated_id != t
          )
            switch (e) {
              case 1:
              case 5:
              case 2:
              case 0:
                (this.m_oMessage.association_type = e),
                  (this.m_oMessage.associated_id = t),
                  (this.m_oMessage.associated_name = ""),
                  this.SetupStoreItemKey(),
                  this.Dispatch();
                break;
              case 4:
              case 3:
                this.m_oMessage.associated_name = "" + t;
              default:
                throw new Error(
                  "Unexpected Marketing Message Association Type: " + e,
                );
            }
        }
        ClearAssociation() {
          (this.m_storeItemID = null),
            (this.m_storeItemKey = null),
            (this.m_oMessage.association_type = void 0),
            (this.m_oMessage.associated_id = void 0),
            (this.m_oMessage.associated_name = ""),
            this.Dispatch();
        }
        SetMessageTime(e, t) {
          (this.m_oMessage.start_date === e &&
            this.m_oMessage.end_date === t) ||
            ((this.m_oMessage.start_date = e),
            (this.m_oMessage.end_date = t),
            this.Dispatch());
        }
        SetMessageStartTime(e) {
          this.m_oMessage.start_date !== e &&
            ((this.m_oMessage.start_date = e), this.Dispatch());
        }
        SetMessageEndTime(e) {
          this.m_oMessage.end_date !== e &&
            ((this.m_oMessage.end_date = e), this.Dispatch());
        }
        SetCountryAllow(e) {
          this.m_oMessage.country_allow !== e &&
            ((this.m_oMessage.country_allow = e), this.Dispatch());
        }
        SetCountryDeny(e) {
          this.m_oMessage.country_deny !== e &&
            ((this.m_oMessage.country_deny = e), this.Dispatch());
        }
        ClearCountryRestrictions() {
          (this.m_oMessage.country_allow = void 0),
            (this.m_oMessage.country_deny = void 0),
            this.Dispatch();
        }
        SetAndConvertURL(e, t) {
          this.m_oTemplateVars.linkurl &&
            ((this.m_oTemplateVars.linkurl =
              this.m_oTemplateVars.linkurl.replace(e, t)),
            this.Dispatch());
        }
        SetMustOwnAppID(e) {
          this.m_oMessage.must_own_appid !== e &&
            ((this.m_oMessage.must_own_appid = e), this.Dispatch());
        }
        SetMustNotOwnAppID(e) {
          this.m_oMessage.must_not_own_appid !== e &&
            ((this.m_oMessage.must_not_own_appid = e), this.Dispatch());
        }
        SetMustOwnPackageID(e) {
          this.m_oMessage.must_own_packageid !== e &&
            ((this.m_oMessage.must_own_packageid = e), this.Dispatch());
        }
        SetMustNotOwnPackageID(e) {
          this.m_oMessage.must_not_own_packageid !== e &&
            ((this.m_oMessage.must_not_own_packageid = e), this.Dispatch());
        }
        SetMustHaveLaunchedAppID(e) {
          this.m_oMessage.must_have_launched_appid !== e &&
            ((this.m_oMessage.must_have_launched_appid = e), this.Dispatch());
        }
        SetLinkURL(e) {
          this.m_oTemplateVars.linkurl !== e &&
            ((this.m_oTemplateVars.linkurl = e), this.Dispatch());
        }
        SetRealm(e) {
          if (this.m_oAdditionalRestrictions.valid_realms !== e) {
            switch (
              ((this.m_oAdditionalRestrictions.valid_realms = e),
              this.m_oAdditionalRestrictions.valid_realms)
            ) {
              default:
              case 0:
                this.m_eSteamRealms = [r.IN.k_ESteamRealmGlobal];
                break;
              case 1:
                this.m_eSteamRealms = [r.IN.k_ESteamRealmChina];
                break;
              case 2:
                this.m_eSteamRealms = [
                  r.IN.k_ESteamRealmGlobal,
                  r.IN.k_ESteamRealmChina,
                ];
            }
            this.Dispatch();
          }
        }
        SetMustUseClientLanguage(e) {
          this.m_oAdditionalRestrictions.must_use_client_language != e &&
            ((this.m_oAdditionalRestrictions.must_use_client_language = e),
            this.Dispatch());
        }
        SetMustHaveClientPackageGTE(e) {
          this.m_oAdditionalRestrictions.must_have_client_package_gte != e &&
            ((this.m_oAdditionalRestrictions.must_have_client_package_gte = e),
            this.Dispatch());
        }
        SetMustHaveClientPackageLTE(e) {
          this.m_oAdditionalRestrictions.must_have_client_package_lte != e &&
            ((this.m_oAdditionalRestrictions.must_have_client_package_lte = e),
            this.Dispatch());
        }
        SetPlatformWindows(e) {
          this.SetFlag(p.j.k_EMarketingMessageFlagsPlatformWindows, e);
        }
        SetPlatformMac(e) {
          this.SetFlag(p.j.k_EMarketingMessageFlagsPlatformMac, e);
        }
        SetPlatformLinux(e) {
          this.SetFlag(p.j.k_EMarketingMessageFlagsPlatformLinux, e);
        }
        SetFlag(e, t) {
          t && !Boolean(this.m_oMessage.flags & e)
            ? ((this.m_oMessage.flags |= e), this.Dispatch())
            : !t &&
              Boolean(this.m_oMessage.flags & e) &&
              ((this.m_oMessage.flags &= ~e), this.Dispatch());
        }
        SetNoFiltersRequired(e) {
          this.m_oAdditionalRestrictions.no_filters_required != e &&
            ((this.m_oAdditionalRestrictions.no_filters_required = e),
            this.Dispatch());
        }
        AddToWatchList(e) {
          this.m_oAdditionalRestrictions.watchlist ||
            (this.m_oAdditionalRestrictions.watchlist = []),
            this.m_oAdditionalRestrictions.watchlist.includes(e) ||
              (this.m_oAdditionalRestrictions.watchlist.push(e),
              this.Dispatch());
        }
        ClearWatchList(e) {
          (this.m_oAdditionalRestrictions.watchlist = void 0), this.Dispatch();
        }
        RemoveFromWatchList(e) {
          if (
            this.m_oAdditionalRestrictions.watchlist &&
            this.m_oAdditionalRestrictions.watchlist.includes(e)
          ) {
            const t = this.m_oAdditionalRestrictions.watchlist.findIndex(
              (t) => t === e,
            );
            t >= 0 &&
              (this.m_oAdditionalRestrictions.watchlist.splice(t, 1),
              this.Dispatch());
          }
        }
        ClearUserDynamicFilter() {
          (this.m_oAdditionalRestrictions.user_filters = void 0),
            (this.m_oAdditionalRestrictions.no_filters_required = !1),
            this.Dispatch();
        }
        ReplaceUserFilter(e) {
          (this.m_oAdditionalRestrictions.no_filters_required = !1),
            (this.m_oAdditionalRestrictions.user_filters = e),
            g(this.GetGID(), this.m_oAdditionalRestrictions.user_filters),
            this.Dispatch();
        }
        AddNewAndUserFilter(e = { filter_type: 1, id_list: [] }) {
          this.m_oAdditionalRestrictions ||
            (this.m_oAdditionalRestrictions = {}),
            this.m_oAdditionalRestrictions.user_filters ||
              (this.m_oAdditionalRestrictions.user_filters = {
                clause: "and",
                children: [],
                temp_id: "and_" + ++D.sm_nTempIDCounter,
              }),
            (e.temp_id = "filter_" + ++D.sm_nTempIDCounter);
          const t = {
            clause: "or",
            children: [e],
            temp_id: "or_" + ++D.sm_nTempIDCounter,
          };
          this.m_oAdditionalRestrictions.user_filters.children.push(t),
            this.Dispatch();
        }
        RemoveAndUserFilter(e) {
          this.m_oAdditionalRestrictions.user_filters.children.splice(e, 1),
            0 == this.m_oAdditionalRestrictions.user_filters.children.length &&
              (this.m_oAdditionalRestrictions.user_filters = void 0),
            this.Dispatch();
        }
        BHasSomeIDForAndUserFilter(e) {
          return (
            (this.m_oAdditionalRestrictions.user_filters.children?.[e])
              .children?.[0]?.id_list?.length > 0
          );
        }
        AddNewOrUserFilter(e, t = { filter_type: 1, id_list: [] }) {
          const a = this.m_oAdditionalRestrictions.user_filters;
          (0, c.X)("children" in a.children[e], "or clauses broken"),
            "children" in a.children[e] &&
              ((t.temp_id = "filter_" + ++D.sm_nTempIDCounter),
              a.children[e].children.push(t),
              this.Dispatch());
        }
        RemoveOrUserFilterAt(e, t) {
          this.m_oAdditionalRestrictions.user_filters.children[
            e
          ].children.splice(t, 1),
            0 ==
            this.m_oAdditionalRestrictions.user_filters.children[e].children
              .length
              ? this.RemoveAndUserFilter(e)
              : this.Dispatch();
        }
        UpdateUserFilter(e, t, a) {
          const n = this.m_oAdditionalRestrictions.user_filters;
          (0, c.X)("children" in n.children[t], "or clauses broken"),
            "children" in n.children[t] &&
              JSON.stringify(n.children[t].children[a]) != JSON.stringify(e) &&
              ((e.temp_id = "filter_" + ++D.sm_nTempIDCounter),
              (n.children[t].children[a] = e),
              this.Dispatch());
        }
        SetButtonToken(e) {
          this.m_oTemplateVars.button_text != e &&
            ((this.m_oTemplateVars.button_text = e), this.Dispatch());
        }
        SetLegalTextPartnerName(e) {
          this.m_oTemplateVars.partner != e &&
            ((this.m_oTemplateVars.partner = e), this.Dispatch());
        }
        SetHidePriceOnMessage(e) {
          this.m_oTemplateVars.hide_price != e &&
            ((this.m_oTemplateVars.hide_price = e), this.Dispatch());
        }
        SetTemplateAssetImagePath(e, t, a) {
          const n = (0, l.j_)(a);
          this.m_oTemplateVars[t]?.[n]?.path !== e &&
            ((this.m_oTemplateVars[t][n] = { type: "file", path: e }),
            (this.m_oTemplateVars.last_asset_mtime = Math.floor(
              Date.now() / 1e3,
            )),
            this.Dispatch());
        }
        ClearAllAssetObjects(e) {
          (this.m_oTemplateVars[e] = {}), this.Dispatch();
        }
        DeleteAssetObjectLang(e, t) {
          const a = (0, l.j_)(t);
          this.m_oTemplateVars[e]?.[a] &&
            (delete this.m_oTemplateVars[e][a], this.Dispatch());
        }
        ClearUserFilters() {
          (this.m_oAdditionalRestrictions.user_filters = void 0),
            this.Dispatch();
        }
        SetInternalAssetURL(e) {
          this.m_oAdditionalRestrictions.internal_asset_url !== e &&
            ((this.m_oAdditionalRestrictions.internal_asset_url = e),
            this.Dispatch());
        }
        SetCustomLegalText(e) {
          this.m_oTemplateVars.custom_legal_text != e &&
            ((this.m_oTemplateVars.custom_legal_text = e), this.Dispatch());
        }
        SetUseCustomLegalText(e) {
          this.m_oTemplateVars.use_custom_legal_text !== e &&
            ((this.m_oTemplateVars.use_custom_legal_text = e),
            e &&
              !this.m_oTemplateVars.custom_legal_text &&
              (this.m_oTemplateVars.custom_legal_text =
                `&copy; ${new Date().getFullYear()} Valve Corporation and ` +
                (this.m_oTemplateVars.partner
                  ? this.m_oTemplateVars.partner
                  : "_______") +
                ".<br />All Trademarks are property of their respective owners in the US and other countries."),
            this.Dispatch());
        }
        SetAnimatedAssetsEnabled(e) {
          this.m_oTemplateVars.has_animated_assets != e &&
            ((this.m_oTemplateVars.has_animated_assets = e),
            e &&
              (this.m_oTemplateVars.mp4 ||
                ((this.m_oTemplateVars.mp4 = {}),
                (this.m_oTemplateVars.webm = {}),
                (this.m_oTemplateVars.poster = void 0),
                (this.m_oTemplateVars.subtitles = void 0),
                (this.m_oTemplateVars.background = void 0))),
            this.Dispatch());
        }
        ClearCustomTemplate() {
          void 0 !== this.m_oTemplateVars.custom_display &&
            ((this.m_oTemplateVars.custom_display = void 0), this.Dispatch());
        }
        SetCustomTemplate(e) {
          if (this.m_oTemplateVars.custom_display !== e) {
            if (
              ((this.m_oTemplateVars.custom_display = e),
              "featured_video" === e)
            )
              (this.m_oTemplateVars.poster = {}),
                (this.m_oTemplateVars.subtitles = {}),
                (this.m_oTemplateVars.background = {}),
                (this.m_oTemplateVars.mp4 = void 0),
                (this.m_oTemplateVars.webm = void 0);
            this.Dispatch();
          }
        }
        SetFeaturedVideoMP4Url(e) {
          this.m_oTemplateVars.featured_video_mp4 != e &&
            ((this.m_oTemplateVars.featured_video_mp4 = e), this.Dispatch());
        }
        SetFeaturedVideoWebMUrl(e) {
          this.m_oTemplateVars.featured_video_webm != e &&
            ((this.m_oTemplateVars.featured_video_webm = e), this.Dispatch());
        }
        SetExplicitNoAssociatedItem(e) {
          this.m_oAdditionalRestrictions.explicit_no_associated_item != e &&
            ((this.m_oAdditionalRestrictions.explicit_no_associated_item = e),
            this.Dispatch());
        }
        SetAssociatedItemReleaseState(e) {
          this.m_oAdditionalRestrictions.associated_item_release_state != e &&
            (e == _.j6.k_StoreInvalidState || e == _.j6.k_StoreUnavailable
              ? (this.m_oAdditionalRestrictions.associated_item_release_state =
                  void 0)
              : (this.m_oAdditionalRestrictions.associated_item_release_state =
                  e),
            this.Dispatch());
        }
        SetSaleEvent(e, t) {
          (this.m_oAdditionalRestrictions.sale_clan_event_gid === e &&
            this.m_oAdditionalRestrictions.sale_clan_account == t) ||
            ((this.m_oAdditionalRestrictions.sale_clan_event_gid = e),
            (this.m_oAdditionalRestrictions.sale_clan_account = t),
            this.Dispatch());
        }
        ClearSalePage() {
          this.m_oAdditionalRestrictions.sale_clan_event_gid &&
            ((this.m_oAdditionalRestrictions.sale_clan_account = void 0),
            (this.m_oAdditionalRestrictions.sale_clan_event_gid = void 0),
            this.Dispatch());
        }
        SetRequiresSalePage(e) {
          this.m_oAdditionalRestrictions.requires_sale_page != e &&
            ((this.m_oAdditionalRestrictions.requires_sale_page = e),
            this.Dispatch());
        }
        SetRequiresSalePageType(e) {}
        SetPlanAssetRequestGID(e) {
          this.m_oAdditionalRestrictions.plan_asset_request_gid != e &&
            ((this.m_oAdditionalRestrictions.plan_asset_request_gid = e),
            this.Dispatch());
        }
        RevertChanges() {
          this.Reset(JSON.parse(JSON.stringify(this.m_originalMessage))),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, n.gn)([i.LO], D.prototype, "m_bDirty", void 0),
        (0, n.gn)([m.a], D.prototype, "ClearAllLegacyRestrictions", null),
        (0, n.gn)([m.a], D.prototype, "SetExplicitNoLegalPartnerNeeded", null),
        (0, n.gn)([m.a], D.prototype, "SetAdminNote", null),
        (0, n.gn)([m.a], D.prototype, "SetName", null),
        (0, n.gn)([m.a], D.prototype, "SetType", null),
        (0, n.gn)([m.a], D.prototype, "SetVisibility", null),
        (0, n.gn)([m.a], D.prototype, "SetAssociation", null),
        (0, n.gn)([m.a], D.prototype, "ClearAssociation", null),
        (0, n.gn)([m.a], D.prototype, "SetMessageTime", null),
        (0, n.gn)([m.a], D.prototype, "SetMessageStartTime", null),
        (0, n.gn)([m.a], D.prototype, "SetMessageEndTime", null),
        (0, n.gn)([m.a], D.prototype, "SetCountryAllow", null),
        (0, n.gn)([m.a], D.prototype, "SetCountryDeny", null),
        (0, n.gn)([m.a], D.prototype, "ClearCountryRestrictions", null),
        (0, n.gn)([m.a], D.prototype, "SetAndConvertURL", null),
        (0, n.gn)([m.a], D.prototype, "SetMustOwnAppID", null),
        (0, n.gn)([m.a], D.prototype, "SetMustNotOwnAppID", null),
        (0, n.gn)([m.a], D.prototype, "SetMustOwnPackageID", null),
        (0, n.gn)([m.a], D.prototype, "SetMustNotOwnPackageID", null),
        (0, n.gn)([m.a], D.prototype, "SetMustHaveLaunchedAppID", null),
        (0, n.gn)([m.a], D.prototype, "SetLinkURL", null),
        (0, n.gn)([m.a], D.prototype, "SetRealm", null),
        (0, n.gn)([m.a], D.prototype, "SetMustUseClientLanguage", null),
        (0, n.gn)([m.a], D.prototype, "SetMustHaveClientPackageGTE", null),
        (0, n.gn)([m.a], D.prototype, "SetMustHaveClientPackageLTE", null),
        (0, n.gn)([m.a], D.prototype, "SetPlatformWindows", null),
        (0, n.gn)([m.a], D.prototype, "SetPlatformMac", null),
        (0, n.gn)([m.a], D.prototype, "SetPlatformLinux", null),
        (0, n.gn)([m.a], D.prototype, "SetNoFiltersRequired", null),
        (0, n.gn)([m.a], D.prototype, "AddToWatchList", null),
        (0, n.gn)([m.a], D.prototype, "ClearWatchList", null),
        (0, n.gn)([m.a], D.prototype, "RemoveFromWatchList", null),
        (0, n.gn)([m.a], D.prototype, "ClearUserDynamicFilter", null),
        (0, n.gn)([m.a], D.prototype, "ReplaceUserFilter", null),
        (0, n.gn)([m.a], D.prototype, "AddNewAndUserFilter", null),
        (0, n.gn)([m.a], D.prototype, "RemoveAndUserFilter", null),
        (0, n.gn)([m.a], D.prototype, "AddNewOrUserFilter", null),
        (0, n.gn)([m.a], D.prototype, "RemoveOrUserFilterAt", null),
        (0, n.gn)([m.a], D.prototype, "UpdateUserFilter", null),
        (0, n.gn)([m.a], D.prototype, "SetButtonToken", null),
        (0, n.gn)([m.a], D.prototype, "SetLegalTextPartnerName", null),
        (0, n.gn)([m.a], D.prototype, "SetHidePriceOnMessage", null),
        (0, n.gn)([m.a], D.prototype, "SetTemplateAssetImagePath", null),
        (0, n.gn)([m.a], D.prototype, "ClearAllAssetObjects", null),
        (0, n.gn)([m.a], D.prototype, "DeleteAssetObjectLang", null),
        (0, n.gn)([m.a], D.prototype, "ClearUserFilters", null),
        (0, n.gn)([m.a], D.prototype, "SetInternalAssetURL", null),
        (0, n.gn)([m.a], D.prototype, "SetCustomLegalText", null),
        (0, n.gn)([m.a], D.prototype, "SetUseCustomLegalText", null),
        (0, n.gn)([m.a], D.prototype, "SetAnimatedAssetsEnabled", null),
        (0, n.gn)([m.a], D.prototype, "SetAssociatedItemReleaseState", null),
        (0, n.gn)([m.a], D.prototype, "SetSaleEvent", null),
        (0, n.gn)([m.a], D.prototype, "ClearSalePage", null),
        (0, n.gn)([m.a], D.prototype, "SetRequiresSalePage", null),
        (0, n.gn)([m.a], D.prototype, "SetRequiresSalePageType", null),
        (0, n.gn)([m.a], D.prototype, "SetPlanAssetRequestGID", null),
        (0, n.gn)([m.a], D.prototype, "RevertChanges", null),
        (0, n.gn)([i.aD.bound], D.prototype, "Dispatch", null);
    },
    4771: (e, t, a) => {
      "use strict";
      a.d(t, {
        B7: () => o,
        JA: () => d,
        MH: () => u,
        Sc: () => n,
        Vs: () => r,
        Xj: () => c,
        nC: () => l,
        pM: () => m,
      });
      var n,
        i,
        r,
        l,
        s = a(77936);
      function o(e, t) {
        if (e) {
          const a =
            e.collect_trailer_permissions ||
            e.collect_demo_permissions ||
            e.collect_game_profile_intent;
          return Boolean(
            e.categories?.enabled ||
              e.artist_statement?.enabled ||
              e.primary_country?.enabled ||
              e.press_contact?.enabled ||
              e.dynamic_sections?.length > 0 ||
              (e.additional_featuring_section_enabled &&
                a &&
                (!t || t.additional_featuring)),
          );
        }
        return !1;
      }
      function c(e, t, a = "") {
        if (e) {
          const n = (0, s.j_)(t);
          return e[n] ? e[n] : e.english ? e.english : a;
        }
        return a;
      }
      function m(e, t, a = "") {
        if (e) {
          const n = (0, s.j_)(t);
          return e[n] ? e[n] : a;
        }
        return a;
      }
      function d(e, t) {
        const a = (0, s.j_)(t);
        return e?.[a]?.length > 0;
      }
      function u(e) {
        e.dynamic_sections?.forEach((e) => {
          e.lists?.forEach((e) => {
            e.options?.forEach((e, t) => {
              p(e.text), p(e.tooltip);
            });
          });
        });
      }
      function p(e) {
        if (e)
          for (let t = 0; t < 31; ++t) {
            const a = (0, s.j_)(t);
            null == e[a] ||
              null == e[a] ||
              Number.isNaN(e[a]) ||
              (e[a] = "" + e[a]);
          }
      }
      !(function (e) {
        (e[(e[""] = 0)] = ""),
          (e[(e["Steam Game Festival"] = 1)] = "Steam Game Festival"),
          (e[(e["Tabletop Festival"] = 2)] = "Tabletop Festival");
      })(n || (n = {})),
        (function (e) {
          (e[(e.k_Optional = 0)] = "k_Optional"),
            (e[(e.k_Suggested = 1)] = "k_Suggested"),
            (e[(e.k_Required = 2)] = "k_Required");
        })(i || (i = {})),
        (function (e) {
          (e[(e.k_EOptInType_EventRegistration = 0)] =
            "k_EOptInType_EventRegistration"),
            (e[(e.k_EOptInType_RecommendedAction = 1)] =
              "k_EOptInType_RecommendedAction");
        })(r || (r = {})),
        (function (e) {
          (e[(e.k_EOptInVisibility_Public = 0)] = "k_EOptInVisibility_Public"),
            (e[(e.k_EOptInVisibility_InviteOnly = 1)] =
              "k_EOptInVisibility_InviteOnly");
        })(l || (l = {}));
    },
    20128: (e, t, a) => {
      "use strict";
      a.d(t, {
        I_: () => f,
        S4: () => D,
        UT: () => S,
        Ys: () => p,
        Zu: () => _,
        mj: () => g,
        n: () => v,
        rN: () => h,
        rg: () => E,
        up: () => d,
      });
      var n = a(85556),
        i = a(77936),
        r = a(4771),
        l = a(86236),
        s = a(54842),
        o = a(65650),
        c = a(62210),
        m = a(20417);
      const d = "email_",
        u = "email_section_";
      var p;
      !(function (e) {
        (e[(e.k_RegistrationConfirmation = 0)] = "k_RegistrationConfirmation"),
          (e[(e.k_Reminder = 1)] = "k_Reminder"),
          (e[(e.k_Invite = 2)] = "k_Invite"),
          (e[(e.k_Followup = 3)] = "k_Followup"),
          (e[(e.k_Starting = 4)] = "k_Starting"),
          (e[(e.k_InviteReminder = 5)] = "k_InviteReminder"),
          (e[(e.k_Update = 6)] = "k_Update"),
          (e[(e.k_PermissionRequest = 7)] = "k_PermissionRequest"),
          (e[(e.k_MediaUsageNotification = 8)] = "k_MediaUsageNotification"),
          (e[(e.k_GeneralCommunication = 9)] = "k_GeneralCommunication"),
          (e[(e.k_SteamAwardFinalists = 10)] = "k_SteamAwardFinalists");
      })(p || (p = {}));
      const _ = [
        p.k_Invite,
        p.k_InviteReminder,
        p.k_RegistrationConfirmation,
        p.k_Update,
        p.k_Reminder,
        p.k_Starting,
        p.k_Followup,
        p.k_PermissionRequest,
        p.k_MediaUsageNotification,
        p.k_GeneralCommunication,
        p.k_SteamAwardFinalists,
      ];
      function h(e) {
        switch (e) {
          case p.k_Invite:
            return "Invitation Email";
          case p.k_InviteReminder:
            return "Invitation Reminder Email";
          case p.k_RegistrationConfirmation:
            return "Registration Success Email";
          case p.k_Update:
            return "General Update";
          case p.k_Reminder:
            return "Reminder Email - Just Days Until It Starts";
          case p.k_Starting:
            return "Event Starts Today Email";
          case p.k_Followup:
            return "Follow-up Email";
          case p.k_PermissionRequest:
            return "Media Permission Request";
          case p.k_MediaUsageNotification:
            return "Media Usage Notification";
          case p.k_GeneralCommunication:
            return "Game Specific General Communication";
          case p.k_SteamAwardFinalists:
            return "Steam Awards Finalists Notification";
        }
        return "unknown";
      }
      function g(e) {
        switch (e) {
          case p.k_Invite:
          case p.k_InviteReminder:
            return "Here's what you need to know and how to get registered:";
          case p.k_RegistrationConfirmation:
          case p.k_Update:
            return "Below are some general things to keep in mind and make use of while you prepare for your participation.";
          case p.k_Reminder:
            return "We're here to help connect you with everything you need to have a successful event.";
          case p.k_Starting:
          case p.k_Followup:
          case p.k_PermissionRequest:
          case p.k_MediaUsageNotification:
          case p.k_GeneralCommunication:
            return null;
          case p.k_SteamAwardFinalists:
            return "Here's how to get the most out of the Steam Awards";
        }
        return "unknown";
      }
      var E;
      !(function (e) {
        (e[(e.k_Custom = 0)] = "k_Custom"),
          (e[(e.k_AssetKit = 1)] = "k_AssetKit"),
          (e[(e.k_DemoPressPreview = 2)] = "k_DemoPressPreview"),
          (e[(e.k_ScheduleLiveStream = 3)] = "k_ScheduleLiveStream"),
          (e[(e.k_CancelSection = 4)] = "k_CancelSection"),
          (e[(e.k_DemoNotReady = 5)] = "k_DemoNotReady"),
          (e[(e.k_ReviewCategorization = 6)] = "k_ReviewCategorization"),
          (e[(e.k_DemoReview = 7)] = "k_DemoReview"),
          (e[(e.k_PressPreviewDetails = 8)] = "k_PressPreviewDetails"),
          (e[(e.k_StatsSummary = 9)] = "k_StatsSummary"),
          (e[(e.k_SurveyButton = 10)] = "k_SurveyButton"),
          (e[(e.k_DemoLaunch = 11)] = "k_DemoLaunch"),
          (e[(e.k_CallForRegistration = 12)] = "k_CallForRegistration"),
          (e[(e.k_EnterDiscount = 13)] = "k_EnterDiscount"),
          (e[(e.k_EnterDiscountReminder = 14)] = "k_EnterDiscountReminder"),
          (e[(e.k_LearnMore = 15)] = "k_LearnMore"),
          (e[(e.k_MediaUsePermission = 16)] = "k_MediaUsePermission"),
          (e[(e.k_MeasureResults = 17)] = "k_MeasureResults"),
          (e[(e.k_TrailerOrDemoPermissions = 18)] =
            "k_TrailerOrDemoPermissions"),
          (e[(e.k_NextFestQASession = 19)] = "k_NextFestQASession"),
          (e[(e.k_NextFestReturns = 20)] = "k_NextFestReturns"),
          (e[(e.k_NextFestWhatNext = 21)] = "k_NextFestWhatNext"),
          (e[(e.k_NextFestTips = 22)] = "k_NextFestTips"),
          (e[(e.k_NextFestStartsNow = 23)] = "k_NextFestStartsNow"),
          (e[(e.k_MeasureResultsFree = 24)] = "k_MeasureResultsFree"),
          (e[(e.k_NextFestThankYou = 25)] = "k_NextFestThankYou"),
          (e[(e.k_MediaPermissionReminder = 26)] = "k_MediaPermissionReminder"),
          (e[(e.k_SaleThankYou = 27)] = "k_SaleThankYou"),
          (e[(e.k_NextFestMediaUsageIntended = 28)] =
            "k_NextFestMediaUsageIntended"),
          (e[(e.k_GenericActionLink = 29)] = "k_GenericActionLink"),
          (e[(e.k_SteamAwardsCategories = 30)] = "k_SteamAwardsCategories"),
          (e[(e.k_NextFestMediaUsageIntendedTrailer = 31)] =
            "k_NextFestMediaUsageIntendedTrailer"),
          (e[(e.k_NextFestMediaUsageIntendedLivestream = 32)] =
            "k_NextFestMediaUsageIntendedLivestream"),
          (e[(e.k_NextFestTopGameWrapUp = 33)] = "k_NextFestTopGameWrapUp"),
          (e[(e.k_ImageBoxSection = 34)] = "k_ImageBoxSection"),
          (e[(e.k_MeasureResultsNextFest = 35)] = "k_MeasureResultsNextFest");
      })(E || (E = {}));
      const S = [
        E.k_Custom,
        E.k_CallForRegistration,
        E.k_AssetKit,
        E.k_DemoPressPreview,
        E.k_DemoReview,
        E.k_DemoLaunch,
        E.k_DemoNotReady,
        E.k_EnterDiscount,
        E.k_EnterDiscountReminder,
        E.k_ScheduleLiveStream,
        E.k_ReviewCategorization,
        E.k_LearnMore,
        E.k_CancelSection,
        E.k_StatsSummary,
        E.k_SurveyButton,
        E.k_MediaUsePermission,
        E.k_TrailerOrDemoPermissions,
        E.k_MeasureResults,
        E.k_MeasureResultsFree,
        E.k_MeasureResultsNextFest,
        E.k_NextFestQASession,
        E.k_PressPreviewDetails,
        E.k_NextFestReturns,
        E.k_NextFestWhatNext,
        E.k_NextFestTips,
        E.k_NextFestStartsNow,
        E.k_NextFestThankYou,
        E.k_NextFestMediaUsageIntended,
        E.k_NextFestMediaUsageIntendedTrailer,
        E.k_NextFestMediaUsageIntendedLivestream,
        E.k_NextFestTopGameWrapUp,
        E.k_MediaPermissionReminder,
        E.k_SaleThankYou,
        E.k_GenericActionLink,
        E.k_SteamAwardsCategories,
        E.k_ImageBoxSection,
      ];
      function v(e) {
        switch (e) {
          case E.k_Custom:
            return "Custom text section";
          case E.k_CallForRegistration:
            return "Register now by dateX";
          case E.k_AssetKit:
            return "Asset kit section";
          case E.k_ScheduleLiveStream:
            return "Livestream, create up to n and see schedule";
          case E.k_CancelSection:
            return "Change of plans? Cancel until x";
          case E.k_DemoNotReady:
            return "Demo: cancel registration by date";
          case E.k_ReviewCategorization:
            return "Review your game's categorization";
          case E.k_DemoReview:
            return "Demo Reminder: Get your demo reviewed";
          case E.k_DemoLaunch:
            return "Demo Reminder: Launch your demo";
          case E.k_DemoPressPreview:
            return "Press Preview, Reminder to register now";
          case E.k_PressPreviewDetails:
            return "Next Fest: Press Preview, details";
          case E.k_EnterDiscount:
            return "Discount, Enter Now";
          case E.k_EnterDiscountReminder:
            return "Discount, Reminder";
          case E.k_SurveyButton:
            return "Survey button";
          case E.k_MeasureResults:
            return "Measuring Your Results (sales, wishlists, demos)";
          case E.k_StatsSummary:
            return "Game Stats; demos, wishlists, views, etc.";
          case E.k_LearnMore:
            return "Learn More Link";
          case E.k_MediaUsePermission:
            return "Permission Request: Media Usage";
          case E.k_TrailerOrDemoPermissions:
            return "Permission Request: Trailer and/or Demo";
          case E.k_MediaPermissionReminder:
            return "Permission Reminder: Trailer and/or Demo";
          case E.k_NextFestReturns:
            return "Next Fest:  Returns on _date_";
          case E.k_NextFestQASession:
            return "Next Fest: Join Us For A Live Q&A Session";
          case E.k_NextFestWhatNext:
            return "Next Fest: What's Next";
          case E.k_NextFestTips:
            return "Next Fest: Tips & Best Practices";
          case E.k_NextFestMediaUsageIntended:
            return "Next Fest: We Intend To Feature Your Game";
          case E.k_NextFestMediaUsageIntendedTrailer:
            return "Next Fest: We Intend To Feature Your Game in Trailer";
          case E.k_NextFestMediaUsageIntendedLivestream:
            return "Next Fest: We Intend To Feature Your Game in Livestream";
          case E.k_NextFestStartsNow:
            return "Next Fest: Starts Today!";
          case E.k_NextFestThankYou:
            return "Next Fest: Concludes. Thank You";
          case E.k_NextFestTopGameWrapUp:
            return "Next Fest: Top Games Of The Fest";
          case E.k_MeasureResultsNextFest:
            return "Next Fest: Measuring Your Results";
          case E.k_SaleThankYou:
            return "Sale Over: Thank You";
          case E.k_GenericActionLink:
            return "Generic Action Link";
          case E.k_SteamAwardsCategories:
            return "Steam Awards Finalist Categories";
          case E.k_ImageBoxSection:
            return "Image Box Section";
          case E.k_MeasureResultsFree:
            return "(Deprecated) Measuring Your Results (wishlists, demos, livestreams)";
        }
        return "unknown";
      }
      class D {
        m_strOptInName;
        m_email = void 0;
        m_bReadOnly = !1;
        m_sections = void 0;
        constructor(e, t) {
          (0, s.rC)(this),
            (this.m_strOptInName = e),
            (this.m_email = t),
            (this.m_sections = this.m_email.sections.map((e) => new f(e))),
            (this.m_email.custom_app_list = (
              this.m_email.custom_app_list || []
            ).map((e) => ("string" == typeof e ? Number.parseInt(e) : e)));
        }
        GetOwningOptInName() {
          return this.m_strOptInName;
        }
        SetReadOnly(e) {
          this.m_bReadOnly != e &&
            ((this.m_bReadOnly = e),
            this.m_sections.forEach((t) => t.SetReadOnly(e)));
        }
        BIsReadOnly() {
          return this.m_bReadOnly;
        }
        BHasLanguageData(e) {
          const t = (0, i.j_)(e);
          return (
            this.m_email.subject?.[t]?.length > 0 ||
            this.m_sections?.some((t) => t.BHasLangData(e))
          );
        }
        BIsDraftEmail() {
          return (
            null === this.m_email.email_def_id ||
            void 0 === this.m_email.email_def_id
          );
        }
        BHasSectionType(e) {
          return this.m_sections.some((t) => t.GetType() == e);
        }
        GetModel() {
          return this.m_email;
        }
        GetUniqueID() {
          return this.m_email.unique_id;
        }
        GetType() {
          return this.m_email.type;
        }
        GetNumberSections() {
          return this.m_sections.length;
        }
        GetEmailTargeting() {
          return this.m_email.targeting || 1;
        }
        GetServerEmailDefID() {
          return this.m_email.email_def_id
            ? "" + this.m_email.email_def_id
            : this.m_email.email_def_id;
        }
        GetInternalName() {
          return this.m_email.internal_name;
        }
        GetAssetKitURL() {
          return this.m_email.asset_kit_url;
        }
        GetWikiDocURL() {
          return this.m_email.wiki_doc_url;
        }
        GetSurveyLinkURL() {
          return this.m_email.survey_link_url;
        }
        GetSalePreviewPage() {
          return this.m_email.sale_preview_page;
        }
        GetScheduleMaxItems() {
          return this.m_email.schedule_max_items || 2;
        }
        GetDemoPressPreviewDate() {
          return this.m_email.demo_press_preview_date;
        }
        GetNextEditionDate() {
          return this.m_email.next_edition_date;
        }
        GetCancelDate() {
          return this.m_email.cancel_date;
        }
        GetPreviewDate() {
          return this.m_email.preview_date;
        }
        GetPermissionDate() {
          return this.m_email.permission_date;
        }
        GetTrailerLaunchDate() {
          return this.m_email.trailer_date;
        }
        GetLivestreamLaunchDate() {
          return this.m_email.livestream_date;
        }
        GetPressPreviewVisibleDate() {
          return this.m_email.press_preview_visible_date;
        }
        GetQASessionDate() {
          return this.m_email.qasession_date;
        }
        GetQASessionLink() {
          return this.m_email.qasession_link;
        }
        GetRecordedQASessionLink() {
          return this.m_email.recorded_qa_session_link;
        }
        GetCustomAppTargetList() {
          return this.m_email.custom_app_list || [];
        }
        BHasCustomAppTargetList() {
          return Boolean(this.m_email.custom_app_list?.length > 0);
        }
        GetTrailerDemoDeadlineDate() {
          return this.m_email.trailer_demo_deadline_date;
        }
        GetDemoTrailerRegLink() {
          return this.m_email.trailer_demo_reg_link;
        }
        GetGenericActionLink() {
          return this.m_email.generic_action_link;
        }
        BHasImageUploaded() {
          return Boolean(
            this.m_email.localized_email_image &&
              "english" in this.m_email.localized_email_image &&
              this.m_email.localized_email_image.english,
          );
        }
        GetEmailImage(e) {
          return this.m_email.localized_email_image?.[(0, i.j_)(e)];
        }
        GetEmailImageCount() {
          let e = 0;
          for (let t in this.m_email.localized_email_image || {})
            t?.length > 0 && (e += 1);
          return e;
        }
        GetAllEmailImages() {
          return this.m_email.localized_email_image || {};
        }
        GetSteamAwardsAdApp() {
          return this.m_email.steam_awards_advertising_app;
        }
        BHasSteamAwardsAdApp() {
          return Boolean(this.GetSteamAwardsAdApp());
        }
        GetSubject(e) {
          return (0, r.pM)(this.m_email.subject, e, "") ?? "";
        }
        GetSubjectWithFallback(e) {
          return (
            (0, r.Xj)(
              this.m_email.subject,
              o.U.Get().GetCurEditLanguage(),
              e,
            ) ?? ""
          );
        }
        GetSubjectToken() {
          return this.m_email.subject_token;
        }
        GetSections() {
          return this.m_sections;
        }
        GetSection(e) {
          return this.m_sections[e];
        }
        GetSectionByID(e) {
          for (let t = 0; t < this.m_sections.length; ++t)
            if (this.m_sections[t].GetUniqueID() == e)
              return this.m_sections[t];
          return null;
        }
        AddSection(e) {
          if (this.m_bReadOnly) return;
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; this.GetSectionByID(u + t); )
            t = Math.floor(1 + 1e5 * Math.random());
          const a = { unique_id: u + t, type: e };
          this.m_email.sections || (this.m_email.sections = []),
            this.m_email.sections.push(a);
          const n = new f(
            this.m_email.sections[this.m_email.sections.length - 1],
          );
          this.m_sections.push(n), l.On.Get().SetDirty(!0);
        }
        SetEmailImage(e, t) {
          this.m_email.localized_email_image ||
            (this.m_email.localized_email_image = {});
          const a = (0, i.j_)(e);
          this.m_email.localized_email_image[a] != t &&
            ((this.m_email.localized_email_image[a] = t),
            l.On.Get().SetDirty(!0));
        }
        SetAllEmailImages(e) {
          (this.m_email.localized_email_image = e), l.On.Get().SetDirty(!0);
        }
        SetServerEmailDefID(e) {
          this.m_email.email_def_id == e ||
            this.m_bReadOnly ||
            ((0, c.X)(
              null == this.m_email.email_def_id ||
                null == this.m_email.email_def_id,
              "Error: Reseting emailed def id from " +
                this.m_email.email_def_id +
                " to " +
                e,
            ),
            (this.m_email.email_def_id = "" + e),
            l.On.Get().SetDirty(!0));
        }
        SetType(e) {
          this.m_email.type == e ||
            this.m_bReadOnly ||
            ((this.m_email.type = e), l.On.Get().SetDirty(!0));
        }
        SetEmailTargeting(e) {
          this.m_email.targeting == e ||
            this.m_bReadOnly ||
            ((this.m_email.targeting = e), l.On.Get().SetDirty(!0));
        }
        SetInternalName(e) {
          this.m_email.internal_name == e ||
            this.m_bReadOnly ||
            ((this.m_email.internal_name = e), l.On.Get().SetDirty(!0));
        }
        SetAssetKitURL(e) {
          this.m_email.asset_kit_url == e ||
            this.m_bReadOnly ||
            ((this.m_email.asset_kit_url = e), l.On.Get().SetDirty(!0));
        }
        SetWikiDocURL(e) {
          this.m_email.wiki_doc_url == e ||
            this.m_bReadOnly ||
            ((this.m_email.wiki_doc_url = e), l.On.Get().SetDirty(!0));
        }
        SetSurveyLinkURL(e) {
          this.m_email.survey_link_url == e ||
            this.m_bReadOnly ||
            ((this.m_email.survey_link_url = e), l.On.Get().SetDirty(!0));
        }
        SetSalePreviewURL(e) {
          this.m_email.sale_preview_page == e ||
            this.m_bReadOnly ||
            ((this.m_email.sale_preview_page = e), l.On.Get().SetDirty(!0));
        }
        SetDemoPreviewDate(e) {
          this.m_email.demo_press_preview_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.demo_press_preview_date = e),
            l.On.Get().SetDirty(!0));
        }
        SetCancelDate(e) {
          this.m_email.cancel_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.cancel_date = e), l.On.Get().SetDirty(!0));
        }
        SetPreviewDate(e) {
          this.m_email.preview_date != e &&
            ((this.m_email.preview_date = e), l.On.Get().SetDirty(!0));
        }
        SetPermissionDate(e) {
          this.m_email.permission_date != e &&
            ((this.m_email.permission_date = e), l.On.Get().SetDirty(!0));
        }
        SetTrailerLaunchDate(e) {
          this.m_email.trailer_date != e &&
            ((this.m_email.trailer_date = e), l.On.Get().SetDirty(!0));
        }
        SetLivestreamLaunchDate(e) {
          this.m_email.livestream_date != e &&
            ((this.m_email.livestream_date = e), l.On.Get().SetDirty(!0));
        }
        SetPressPreviewVisibleDate(e) {
          this.m_email.press_preview_visible_date != e &&
            ((this.m_email.press_preview_visible_date = e),
            l.On.Get().SetDirty(!0));
        }
        SetScheduleMaxItems(e) {
          this.m_email.schedule_max_items == e ||
            this.m_bReadOnly ||
            ((this.m_email.schedule_max_items = e), l.On.Get().SetDirty(!0));
        }
        SetNextEditionDate(e) {
          this.m_email.next_edition_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.next_edition_date = e), l.On.Get().SetDirty(!0));
        }
        SetQASessionDate(e) {
          this.m_email.qasession_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.qasession_date = e), l.On.Get().SetDirty(!0));
        }
        SetTrailerDemoDeadlineDate(e) {
          this.m_email.trailer_demo_deadline_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.trailer_demo_deadline_date = e),
            l.On.Get().SetDirty(!0));
        }
        SetQASessionLink(e) {
          this.m_email.qasession_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.qasession_link = e), l.On.Get().SetDirty(!0));
        }
        SetDemoTrailerRegLink(e) {
          this.m_email.trailer_demo_reg_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.trailer_demo_reg_link = e), l.On.Get().SetDirty(!0));
        }
        SetRecordedQASessionLink(e) {
          this.m_email.recorded_qa_session_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.recorded_qa_session_link = e),
            l.On.Get().SetDirty(!0));
        }
        SetSubject(e, t) {
          if (
            (0, r.pM)(this.m_email.subject, t, void 0) != e &&
            !this.m_bReadOnly
          ) {
            const a = (0, i.j_)(t, "english");
            this.m_email.subject || (this.m_email.subject = {}),
              (this.m_email.subject[a] = e),
              l.On.Get().SetDirty(!0);
          }
        }
        ClearSubjectText() {
          (this.m_email.subject = {}), l.On.Get().SetDirty(!0);
        }
        SetSubjectToken(e) {
          this.m_email.subject_token == e ||
            this.m_bReadOnly ||
            (e && this.m_email.subject && (this.m_email.subject = {}),
            (this.m_email.subject_token = e),
            l.On.Get().SetDirty(!0));
        }
        AddAppToCustomList(e) {
          this.m_email.custom_app_list || (this.m_email.custom_app_list = []),
            this.m_email.custom_app_list.includes(e) ||
              (this.m_email.custom_app_list.push(e), l.On.Get().SetDirty(!0));
        }
        RemoveAppToCustomList(e) {
          if (this.m_email.custom_app_list) {
            const t = this.m_email.custom_app_list.findIndex((t) => e == t);
            if (t >= 0)
              return (
                this.m_email.custom_app_list.splice(t, 1),
                l.On.Get().SetDirty(!0),
                !0
              );
          }
          return !1;
        }
        SetGenericActionLink(e) {
          this.m_email.generic_action_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.generic_action_link = e), l.On.Get().SetDirty(!0));
        }
        SetSteamAwardsAdvertisingApp(e) {
          this.m_email.steam_awards_advertising_app == e ||
            this.m_bReadOnly ||
            ((this.m_email.steam_awards_advertising_app = e),
            l.On.Get().SetDirty(!0));
        }
      }
      (0, n.gn)([s.LO], D.prototype, "m_email", void 0),
        (0, n.gn)([s.LO], D.prototype, "m_sections", void 0),
        (0, n.gn)([m.ak], D.prototype, "BHasLanguageData", null),
        (0, n.gn)([m.ak], D.prototype, "GetSubject", null),
        (0, n.gn)([s.aD.bound], D.prototype, "AddSection", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetEmailImage", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetAllEmailImages", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetServerEmailDefID", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetType", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetEmailTargeting", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetInternalName", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetAssetKitURL", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetWikiDocURL", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetSurveyLinkURL", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetSalePreviewURL", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetDemoPreviewDate", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetCancelDate", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetPreviewDate", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetPermissionDate", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetTrailerLaunchDate", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetLivestreamLaunchDate", null),
        (0, n.gn)(
          [s.aD.bound],
          D.prototype,
          "SetPressPreviewVisibleDate",
          null,
        ),
        (0, n.gn)([s.aD.bound], D.prototype, "SetScheduleMaxItems", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetNextEditionDate", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetQASessionDate", null),
        (0, n.gn)(
          [s.aD.bound],
          D.prototype,
          "SetTrailerDemoDeadlineDate",
          null,
        ),
        (0, n.gn)([s.aD.bound], D.prototype, "SetQASessionLink", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetDemoTrailerRegLink", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetRecordedQASessionLink", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetSubject", null),
        (0, n.gn)([s.aD.bound], D.prototype, "ClearSubjectText", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetSubjectToken", null),
        (0, n.gn)([s.aD.bound], D.prototype, "AddAppToCustomList", null),
        (0, n.gn)([s.aD.bound], D.prototype, "RemoveAppToCustomList", null),
        (0, n.gn)([s.aD.bound], D.prototype, "SetGenericActionLink", null),
        (0, n.gn)(
          [s.aD.bound],
          D.prototype,
          "SetSteamAwardsAdvertisingApp",
          null,
        );
      class f {
        m_section = void 0;
        m_bReadOnly = !1;
        constructor(e) {
          (0, s.rC)(this), (this.m_section = e);
        }
        SetReadOnly(e) {
          this.m_bReadOnly = e;
        }
        BIsReadOnly() {
          return this.m_bReadOnly;
        }
        GetUniqueID() {
          return this.m_section.unique_id;
        }
        GetType() {
          return this.m_section.type;
        }
        GetModel() {
          return this.m_section;
        }
        BHasLangData(e) {
          return (
            (0, r.JA)(this.m_section.title, e) ||
            (0, r.JA)(this.m_section.description, e)
          );
        }
        GetTitle(e) {
          return (0, r.pM)(this.m_section.title, e, "") ?? "";
        }
        GetTitleWithFallback(e) {
          return (
            (0, r.Xj)(
              this.m_section.title,
              o.U.Get().GetCurEditLanguage(),
              e,
            ) ?? ""
          );
        }
        GetDescription(e) {
          return (0, r.pM)(this.m_section.description, e, "") ?? "";
        }
        GetDescriptionWithFallback(e) {
          return (
            (0, r.Xj)(
              this.m_section.description,
              o.U.Get().GetCurEditLanguage(),
              e,
            ) ?? ""
          );
        }
        SetType(e) {
          this.m_section.type == e ||
            this.m_bReadOnly ||
            (this.m_section.type == E.k_Custom &&
              e != E.k_Custom &&
              ((this.m_section.title = {}), (this.m_section.description = {})),
            (this.m_section.type = e),
            l.On.Get().SetDirty(!0));
        }
        SetTitle(e, t) {
          if (
            (0, r.pM)(this.m_section.title, t, void 0) != e &&
            !this.m_bReadOnly
          ) {
            const a = (0, i.j_)(t, "english");
            this.m_section.title || (this.m_section.title = {}),
              (this.m_section.title[a] = e),
              l.On.Get().SetDirty(!0);
          }
        }
        SetDescription(e, t) {
          if (
            (0, r.pM)(this.m_section.description, t, void 0) != e &&
            !this.m_bReadOnly
          ) {
            const a = (0, i.j_)(t, "english");
            this.m_section.description || (this.m_section.description = {}),
              (this.m_section.description[a] = e),
              l.On.Get().SetDirty(!0);
          }
        }
      }
      (0, n.gn)([s.LO], f.prototype, "m_section", void 0),
        (0, n.gn)([m.ak], f.prototype, "GetTitle", null),
        (0, n.gn)([m.ak], f.prototype, "GetDescription", null),
        (0, n.gn)([s.aD.bound], f.prototype, "SetType", null),
        (0, n.gn)([s.aD.bound], f.prototype, "SetTitle", null),
        (0, n.gn)([s.aD.bound], f.prototype, "SetDescription", null);
    },
    1698: (e, t, a) => {
      "use strict";
      a.d(t, {
        FF: () => S,
        Ii: () => C,
        R7: () => D,
        Rg: () => m,
        Vd: () => f,
        _S: () => y,
        b5: () => k,
        ex: () => v,
        gl: () => b,
        hZ: () => u,
        j: () => _,
        kj: () => h,
        l1: () => p,
        nR: () => c,
        oP: () => g,
        pk: () => E,
        tA: () => I,
        ti: () => d,
      });
      var n = a(35427),
        i = a(31846),
        r = a(12251),
        l = a(46984),
        s = a(37563),
        o = a(4618);
      const c = [
          "midweek",
          "weekenddeal",
          "saleevent",
          "themesale",
          "nextfest",
          "seasonalsale",
          "informational",
          "dailydeal",
          "vacation",
          "important",
          "preload",
          "assetrequest",
        ],
        m =
          (new Set(c),
          new Set([
            "midweek",
            "weekenddeal",
            "saleevent",
            "informational",
            "vacation",
            "important",
            "preload",
            "themesale",
            "nextfest",
            "seasonalsale",
          ])),
        d = new Set(["dailydeal", "assetrequest"]),
        u = 604800,
        p = 0,
        _ = new Map();
      _.set("midweek", "Midweek Deal"),
        _.set("weekenddeal", "Weekend Deal"),
        _.set("saleevent", "Sale Event"),
        _.set("themesale", "Theme Sale"),
        _.set("nextfest", "Next Fests"),
        _.set("seasonalsale", "Seasonal Sale"),
        _.set("informational", "Informational"),
        _.set("dailydeal", "Daily Deal"),
        _.set("vacation", "Vacation/PTO"),
        _.set("important", "Takeover / Takeunder"),
        _.set("preload", "Pre-load"),
        _.set("assetrequest", "Asset Request Only");
      const h = new Set();
      h.add("seasonalsale"), h.add("themesale"), h.add("nextfest");
      new Set().add("vacation");
      const g = new Set();
      g.add("important");
      const E = new Map();
      E.set("midweek", "#254069"),
        E.set("weekenddeal", "#254069"),
        E.set("saleevent", "#819c8a"),
        E.set("themesale", "#819c8a"),
        E.set("nextfest", "#819c8a"),
        E.set("seasonalsale", "#819c8a"),
        E.set("informational", "#474747"),
        E.set("dailydeal", "#80275D"),
        E.set("vacation", "#6f7485"),
        E.set("important", "#40ccfd"),
        E.set("preload", "#A47332"),
        E.set("assetrequest", "#80875D");
      const S = new Map();
      S.set("midweek", "#discount_desc_preset_midweek"),
        S.set("weekenddeal", "#discount_desc_preset_weekend"),
        S.set("saleevent", "#discount_desc_preset_special"),
        S.set("themesale", "#discount_desc_preset_special"),
        S.set("nextfest", "#discount_desc_preset_special"),
        S.set("seasonalsale", "#discount_desc_preset_special"),
        S.set("informational", "#discount_desc_limited_time_date"),
        S.set("dailydeal", "#discount_desc_preset_daily"),
        S.set("vacation", "#discount_desc_limited_time_date"),
        S.set("important", "#discount_desc_limited_time_date"),
        S.set("preload", "#discount_desc_limited_time_date");
      const v = new Map();
      v.set("midweek", ["Midweek", "Midweek Deal"]),
        v.set("weekenddeal", ["Weekend", "Weekend Deal"]);
      const D = new Map();
      D.set("none", ""),
        D.set("takeover", "Takeover"),
        D.set("takeunder", "Takeunder"),
        D.set("hub_takeover", "Hub takeover"),
        D.set("steamchina_takeover", "SC Takeover"),
        D.set("steamchina_only", "SC");
      const f = [
          "spotlight_art",
          "marketingmessage_art",
          "marketingmessage_art_2",
          "takeover_art",
          "takeover_mobile_art",
          "takeover_webm_art",
          "takeover_mp4_art",
          "takeover_webm_mobile_art",
          "takeover_mp4_mobile_art",
          "takeunder_art",
          "takeunder_mobile_art",
          "sale_header",
          "sale_logo",
          "capsule",
          "product_banner",
          "product_mobile_banner",
          "localized_title_image",
          "app_header_capsule",
          "app_main_capsule",
        ],
        y = [
          "takeover_webm_art",
          "takeover_mp4_art",
          "takeover_webm_mobile_art",
          "takeover_mp4_mobile_art",
        ];
      function b(e) {
        switch (e) {
          case "marketingmessage_art":
            return "Marketing Message Banner";
          case "marketingmessage_art_2":
            return "Marketing Message Banner 2";
          case "spotlight_art":
            return "Spotlight Banner";
          case "takeover_art":
            return "Takeover Banner";
          case "takeover_webm_art":
            return "Takeover Animated WEBM";
          case "takeover_mp4_art":
            return "Takoever Animated MP4";
          case "takeover_webm_mobile_art":
            return "Takoever Animated Mobile (WEBM)";
          case "takeover_mp4_mobile_art":
            return "Takoever Animated Mobile (MP4)";
          case "takeunder_art":
            return "Takeunder Banner";
          case "takeover_mobile_art":
            return "Takeover Mobile Banner";
          case "takeunder_mobile_art":
            return "Takeunder Mobile Banner";
          case "sale_header":
            return "Sale Page Background";
          case "sale_logo":
            return "Sale Logo Image";
          case "capsule":
            return "Event Cover Image";
          case "product_banner":
            return "Sale's Store Page Banner";
          case "product_mobile_banner":
            return "Sale's Store Page Mobile Banner";
          case "localized_title_image":
            return "Event Header Image";
          case "app_header_capsule":
            return "Advertising App Header Capsule";
          case "app_main_capsule":
            return "Advertising App Main Capsule";
          default:
            return "Unknown Promo Art Request";
        }
      }
      class I {
        static GetSpotlightEditURL(e) {
          return s.De.PARTNER_BASE_URL + "admin/store/spotlight/" + e;
        }
        static GetMarketingMesssageEditURL(e) {
          return (
            s.De.PARTNER_BASE_URL + "promotion/marketingmessages/edit/" + e
          );
        }
        static GetClusterEditURL(e, t) {
          switch (e) {
            case o.R6.k_ConfigPage_Takeover:
              return I.GetTakeoverEditURL(t);
            case o.R6.k_ConfigPage_Takeunder:
              return I.GetTakeunderEditURL(t);
            case o.R6.k_ConfigPage_TakeoverSteamChina:
              return I.GetSteamChinaTakeoverEditURL(t);
            default:
              return I.GetContentHubTakeoverEditURL(e, t);
          }
        }
        static GetTakeoverEditURL(e) {
          return (
            s.De.PARTNER_BASE_URL + "admin/store/pageclusteredit/frontpage/" + e
          );
        }
        static GetContentHubTakeoverEditURL(e, t) {
          return `${s.De.PARTNER_BASE_URL}admin/store/pageclusteredit/${(0, o.D9)(e)}/${t}`;
        }
        static GetTakeunderEditURL(e) {
          return (
            s.De.PARTNER_BASE_URL + "admin/store/pageclusteredit/takeunder/" + e
          );
        }
        static GetMainCapsuleEditURL(e) {
          return (
            s.De.PARTNER_BASE_URL +
            "admin/store/pageclusteredit/frontpage/" +
            e +
            "?activetab=tab_capsules"
          );
        }
        static GetSteamChinaTakeoverEditURL(e) {
          return (
            s.De.PARTNER_BASE_URL +
            "admin/store/pageclusteredit/frontpage_china/" +
            e
          );
        }
        static GetOptInEditURL(e) {
          return s.De.PARTNER_BASE_URL + "optin/admin/edit/" + e;
        }
        static GetGiveawayControlsURL(e) {
          return s.De.PARTNER_BASE_URL + "giveaways/control/" + e;
        }
        static GetDiscountEditURL(e) {
          return s.De.PARTNER_BASE_URL + "admin/editdiscountevent/" + e;
        }
        static GetGiveawayEditURL(e) {
          return s.De.PARTNER_BASE_URL + "giveaways/control/" + e;
        }
        static GetSalePageClanEditURL(e, t) {
          const a = n.K.InitFromClanID(e);
          return (
            s.De.COMMUNITY_BASE_URL +
            "/gid/" +
            a.ConvertTo64BitString() +
            "/partnerevents/edit/" +
            t
          );
        }
        static GetAdvertingAppLandingURL(e) {
          return s.De.PARTNER_BASE_URL + "apps/landing/" + e;
        }
      }
      const C = new Map();
      C.set("midweek", {
        nMaxSlots: 6,
        rtStartModifier: 10 * l._H.PerHour,
        rtEndModifier: 3 * l._H.PerDay + 10 * l._H.PerHour,
        fnRenderWeekDisplayForSelection: (e, t) => {
          const a = new Date(1e3 * (e + 10800));
          a.setHours(10);
          const n = Math.floor(a.getTime() / 1e3),
            l = (0, i.$1)(n);
          (0, r.Sc)(n);
          return l + ": " + t + (1 == t ? " slot" : " slots");
        },
        nDaysDiscountEvent: 7,
        rtDays: 3,
      }),
        C.set("weekenddeal", {
          nMaxSlots: 6,
          rtStartModifier: 3 * l._H.PerDay + 10 * l._H.PerHour,
          rtEndModifier: 7 * l._H.PerDay + 10 * l._H.PerHour,
          fnRenderWeekDisplayForSelection: (e, t) => {
            const a = new Date(1e3 * (e + 259200 + 10800));
            a.setHours(10);
            const n = Math.floor(a.getTime() / 1e3),
              l = (0, i.$1)(n);
            (0, r.Sc)(n);
            return l + ": " + t + (1 == t ? " slot" : " slots");
          },
          nDaysDiscountEvent: 7,
          rtDays: 4,
        });
      const k = ["midweek", "weekenddeal"];
      new Set(k);
    },
    28995: (e, t, a) => {
      "use strict";
      a.d(t, { DU: () => d, Es: () => _, Fm: () => u, if: () => p });
      var n = a(85556),
        i = a(77936),
        r = a(54842),
        l = a(35427),
        s = a(65650),
        o = a(87225),
        c = a(16997),
        m = a(45492);
      const d = [
        "localized_capsule_image",
        "localized_sale_header",
        "localized_sale_logo",
        "localized_sale_product_banner",
        "localized_sale_product_mobile_banner",
        "localized_title_image",
      ];
      function u(e) {
        switch (e) {
          case "localized_capsule_image":
            return "Event Cover Image";
          case "localized_sale_header":
            return "Sales Background Image";
          case "localized_sale_logo":
            return "Sales Logo";
          case "localized_sale_product_banner":
            return "Sale Pages Product Banner";
          case "localized_sale_product_mobile_banner":
            return "Sale Pages Product Banner (mobile)";
          case "localized_title_image":
            return "Event Header Image";
        }
        return "";
      }
      function p(e) {
        switch (e) {
          case "localized_capsule_image":
            return "capsule";
          case "localized_sale_header":
            return "sale_header";
          case "localized_sale_logo":
            return "sale_logo";
          case "localized_sale_product_banner":
            return "product_banner";
          case "localized_sale_product_mobile_banner":
            return "product_mobile_banner";
          case "localized_title_image":
            return "background";
        }
        return null;
      }
      class _ {
        m_oSalePage = null;
        m_originalSalePage = null;
        m_bDirty = !1;
        m_callback = new m.pB();
        constructor(e) {
          (0, r.rC)(this), this.Reset(e);
        }
        Reset(e) {
          (this.m_oSalePage = JSON.parse(JSON.stringify(e))),
            this.m_oSalePage &&
              ((this.m_oSalePage.jsondata.localized_capsule_image = (0, o.LG)(
                this.m_oSalePage.jsondata.localized_capsule_image || [],
                31,
                null,
              )),
              (this.m_oSalePage.jsondata.localized_sale_header = (0, o.LG)(
                this.m_oSalePage.jsondata.localized_sale_header || [],
                31,
                null,
              )),
              (this.m_oSalePage.jsondata.localized_sale_logo = (0, o.LG)(
                this.m_oSalePage.jsondata.localized_sale_logo || [],
                31,
                null,
              )),
              (this.m_oSalePage.jsondata.localized_sale_product_banner = (0,
              o.LG)(
                this.m_oSalePage.jsondata.localized_sale_product_banner || [],
                31,
                null,
              )),
              (this.m_oSalePage.jsondata.localized_sale_product_mobile_banner =
                (0, o.LG)(
                  this.m_oSalePage.jsondata
                    .localized_sale_product_mobile_banner || [],
                  31,
                  null,
                )),
              (this.m_oSalePage.jsondata.localized_title_image = (0, o.LG)(
                this.m_oSalePage.jsondata.localized_title_image || [],
                31,
                null,
              )),
              (this.m_oSalePage.clanSteamID = new l.K(
                this.m_oSalePage.clanSteamID,
              ))),
            (this.m_originalSalePage = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oSalePage;
        }
        GetAssetModel() {
          return {
            localized_capsule_image:
              this.m_oSalePage.jsondata.localized_capsule_image,
            localized_sale_header:
              this.m_oSalePage.jsondata.localized_sale_header,
            localized_sale_logo: this.m_oSalePage.jsondata.localized_sale_logo,
            localized_sale_product_banner:
              this.m_oSalePage.jsondata.localized_sale_product_banner,
            localized_sale_product_mobile_banner:
              this.m_oSalePage.jsondata.localized_sale_product_mobile_banner,
            localized_title_image:
              this.m_oSalePage.jsondata.localized_title_image,
          };
        }
        GetName(e = 0) {
          return this.m_oSalePage.name.get(e);
        }
        GetStartDate() {
          return this.m_oSalePage.startTime || 0;
        }
        GetPromoModifyTime() {
          return this.m_oSalePage.rtime32_last_modified;
        }
        GetAssetUpdateTime() {
          return this.m_oSalePage.rtime32_last_modified;
        }
        GetImage(e, t) {
          return this.m_oSalePage.jsondata[e]?.[t];
        }
        GetCurImage(e) {
          return this.m_oSalePage.jsondata[e];
        }
        GetAssetsObject(e) {
          return this.m_oSalePage.jsondata[e];
        }
        GetClanAccountID() {
          return this.m_oSalePage.clanSteamID.GetAccountID();
        }
        GetClanSteamID() {
          return this.m_oSalePage.clanSteamID;
        }
        GetGID() {
          return this.m_oSalePage.GID;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetCurImage(e, t) {
          this.SetImage(e, s.U.Get().GetCurEditLanguage(), t), this.Dispatch();
        }
        SetImage(e, t, a) {
          (this.m_oSalePage.jsondata[e][t] = a), this.Dispatch();
        }
        ClearAllAssetObjects(e) {
          (this.m_oSalePage.jsondata[e] = (0, o.LG)([], 31, null)),
            this.Dispatch();
        }
        DeleteAssetObjectLang(e, t) {
          (0, i.j_)(t);
          (this.m_oSalePage.jsondata[e][t] = null), this.Dispatch();
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        RevertChanges() {
          this.Reset(this.m_originalSalePage), this.m_callback.Dispatch(this);
        }
      }
      (0, n.gn)([r.LO], _.prototype, "m_bDirty", void 0),
        (0, n.gn)([c.a], _.prototype, "SetCurImage", null),
        (0, n.gn)([r.aD.bound], _.prototype, "SetImage", null),
        (0, n.gn)([c.a], _.prototype, "ClearAllAssetObjects", null),
        (0, n.gn)([c.a], _.prototype, "DeleteAssetObjectLang", null),
        (0, n.gn)([c.a], _.prototype, "RevertChanges", null);
    },
    65311: (e, t, a) => {
      "use strict";
      a.d(t, { P: () => i, y: () => n });
      const n = [
        "webm_page_bg",
        "mp4_page_bg",
        "page_bg",
        "page_bg_mobile",
        "mp4_page_bg_mobile",
        "webm_page_bg_mobile",
      ];
      function i(e) {
        switch (e) {
          case "page_bg":
            return "Takeover Background";
          case "page_bg_mobile":
            return "Takeover Background Mobile";
          case "webm_page_bg":
            return "Takeover Animated (webm)";
          case "mp4_page_bg":
            return "Takeover Animated (mp4)";
          case "webm_page_bg_mobile":
            return "Takeover Animated Mobile (webm)";
          case "mp4_page_bg_mobile":
            return "Takeover Animated Mobile (mp4)";
        }
      }
    },
    28306: (e, t, a) => {
      "use strict";
      a.d(t, { a: () => i, y: () => n });
      const n = ["takeunder_desktop", "takeunder_mobile"];
      function i(e) {
        switch (e) {
          case "takeunder_desktop":
            return "Takeunder Banner";
          case "takeunder_mobile":
            return "Takeunder Bannerr Mobile";
        }
      }
    },
    83179: (e, t, a) => {
      "use strict";
      a.d(t, { w$: () => c, zg: () => m });
      var n,
        i = a(80751),
        r = a.n(i),
        l = a(42718),
        s = a(16649),
        o = a(65255);
      !(function (e) {
        (e.k_AppTypeGame = "Game"),
          (e.k_AppTypeApplication = "Application"),
          (e.k_AppTypeTool = "Tool"),
          (e.k_AppTypeDemo = "Demo"),
          (e.k_AppTypeDlc = "DLC"),
          (e.k_AppTypeMod = "Mod"),
          (e.k_AppTypeGuide = "Guide"),
          (e.k_AppTypeMedia = "Media"),
          (e.k_AppTypeConfig = "Config"),
          (e.k_AppTypeMusicAlbum = "Music"),
          (e.k_AppTypePlugIn = "PlugIn"),
          (e.k_AppTypeHardware = "Hardware"),
          (e.k_AppTypeBeta = "Beta"),
          (e.k_AppTypeMovie = "Movie"),
          (e.k_AppTypeAdvertising = "Advertising");
      })(n || (n = {}));
      const c = 2 == o.De.EUNIVERSE ? 12 : 504;
      function m(e, t = c, a = !0) {
        const i = (0, l.useMutation)(async (e) => {
          const t = `${o.De.PARTNER_BASE_URL}apps/ajaxcreatenewapp/`,
            a = new FormData();
          a.append("sessionid", o.De.SESSIONID),
            a.append("name", e.name),
            a.append("type", e.type),
            a.append("range", "" + (e.range || 10)),
            a.append(
              "add_partner_app_reporting",
              e.add_partner_app_reporting ? "1" : "0",
            ),
            a.append("publisherid", "" + e.publisherid),
            a.append("parentid", "" + (e.parentid || 0)),
            a.append("f2p", e.f2p ? "1" : "0"),
            a.append("f2ptext", e.f2ptext ? "1" : "0"),
            a.append("auto_publish", "" + (e.auto_publish || 0));
          const n = await r().post(t, a);
          if (200 == n?.status && 1 == n.data?.success && n.data.appid)
            return n.data.appid;
          const i = (0, s.l)(n);
          return (
            console.error(
              "useCreateApp failed to create app " + i.strErrorMsg,
              i,
              n,
            ),
            null
          );
        }, {});
        return (0, l.useMutation)(async () => {
          const r = {
            name: e,
            publisherid: t,
            type: n.k_AppTypeAdvertising,
            range: 10,
            add_partner_app_reporting: !1,
            auto_publish: a,
          };
          return await i.mutateAsync(r);
        });
      }
    },
    33687: (e, t, a) => {
      "use strict";
      a.d(t, { HN: () => _, Lr: () => h, o6: () => p, og: () => u });
      var n = a(80751),
        i = a.n(n),
        r = a(42718),
        l = a(31846),
        s = a(37563),
        o = a(47427),
        c = a(73799),
        m = a.n(c),
        d = a(7492);
      function u(e, t) {
        const a = g,
          n = (0, d.Z)(),
          i = o.useMemo(
            () => ({
              bExcludeExpired: t?.bExcludeExpired ?? !0,
              bExcludeCommercial: t?.bExcludeCommercial ?? !0,
              nPartnerID: t?.nPartnerID ?? n,
            }),
            [n, t?.bExcludeExpired, t?.bExcludeCommercial, t?.nPartnerID],
          ),
          l = (0, r.useQueries)(
            e.map((e) =>
              (function (e, t, a) {
                return {
                  queryKey: ["useAppWithDiscounts", t, a],
                  queryFn: () => e.loadAppWithDiscounts(a, t),
                  enabled: !!t,
                };
              })(a, i, e),
            ),
          ),
          s = l.some((e) => e.isLoading);
        return o.useMemo(() => {
          let e = new Map();
          return (
            s ||
              l.forEach((t) => {
                t.isSuccess &&
                  t.data &&
                  e.set(t.data.storeItem, t.data.discountSetting);
              }),
            e
          );
        }, [e, i, s]);
      }
      function p(e, t) {
        const a = E,
          n = (0, d.Z)(),
          i = {
            bExcludeExpired: t?.bExcludeExpired ?? !0,
            nPartnerID: t?.nPartnerID ?? n,
          },
          l = (0, r.useQueries)(
            e.map((e) =>
              (function (e, t, a) {
                return {
                  queryKey: ["useBundleWithDiscounts", t, a],
                  queryFn: () => e.loadBundleWithDiscounts(a, t),
                  enabled: !!t,
                };
              })(a, i, e),
            ),
          ),
          s = l.some((e) => e.isLoading);
        return o.useMemo(() => {
          let e = new Map();
          return (
            s ||
              l.forEach((t) => {
                t.isSuccess &&
                  t.data &&
                  e.set(t.data.storeItem, t.data.discountSetting);
              }),
            e
          );
        }, [e, i, s]);
      }
      function _() {
        return (0, o.useMemo)(
          () =>
            (0, s.kQ)("bundle_discount_conflict_dates", "application_config"),
          [],
        );
      }
      function h(e, t, a, n, i) {
        const r = t?.get(e);
        if (r) {
          if (r.is_coming_soon) return (0, l.Xx)("#DiscountEvent_ComingSoon");
          if (r.is_free) return (0, l.Xx)("#DiscountEvent_Free");
          if (r.discounts?.some((e) => e.discountEventID == i))
            return (0, l.Xx)("#DiscountEvent_Official");
          const e = r.discounts?.filter(
            (e) => e.rtStartDate < n && e.rtEndDate > a,
          );
          if (e?.length > 0)
            return e
              .map(
                (e) =>
                  `${e.nDiscountPct}% - ${(0, l.m9)(e.rtStartDate)} to ${(0, l.m9)(e.rtEndDate)} (package id:${e.packageID})`,
              )
              .join("\n");
        }
        return "";
      }
      const g = {
        loadAppWithDiscounts: async (e, t) =>
          await (function (e) {
            const t = JSON.stringify(e);
            v.get(t) ||
              v.set(
                t,
                new (m())(
                  async (t) => {
                    const a =
                        s.De.PARTNER_BASE_URL +
                        "discounts/ajaxgetdiscountbyapp",
                      n = new Map();
                    if (!t || 0 == t.length) return [];
                    const r = [...t],
                      l = [];
                    for (; r.length > 0; ) {
                      const t = new FormData(),
                        n = r.splice(0, 250);
                      t.append("sessionid", s.De.SESSIONID),
                        t.append("rgAppIDs", n.join(",")),
                        t.append(
                          "bExcludeExpired",
                          e.bExcludeExpired ? "1" : "0",
                        ),
                        t.append(
                          "bExcludeCommercial",
                          e.bExcludeCommercial ? "1" : "0",
                        ),
                        e.nPartnerID &&
                          t.append("publisherid", e.nPartnerID.toString()),
                        l.push(i().post(a, t, { withCredentials: !0 }));
                    }
                    return (
                      (await Promise.all(l)).forEach((e) => {
                        if (
                          200 == e?.status &&
                          1 == e?.data?.success &&
                          e?.data?.map
                        )
                          for (let t in e.data.map) {
                            const a = Number.parseInt(t);
                            a &&
                              n.set(a, {
                                storeItem: a,
                                discountSetting: e.data.map[a],
                              });
                          }
                        else
                          console.log(
                            "Error: Failed on FetchDiscountByApp request " +
                              e?.status +
                              " " +
                              e?.statusText +
                              " " +
                              e?.data?.success,
                          );
                      }),
                      t.map((e) => n.get(e))
                    );
                  },
                  { maxBatchSize: 100 },
                ),
              );
            return v.get(t);
          })(t).load(e),
      };
      const E = {
        loadBundleWithDiscounts: async (e, t) =>
          await (function (e) {
            const t = JSON.stringify(e);
            S.get(t) ||
              S.set(
                t,
                new (m())(
                  async (t) => {
                    const a =
                        s.De.PARTNER_BASE_URL +
                        "discounts/ajaxgetdiscountbybundle",
                      n = new Map();
                    if (!t || 0 == t.length) return [];
                    const r = [...t],
                      l = [];
                    for (; r.length > 0; ) {
                      const t = r.splice(0, 100),
                        n = new FormData();
                      n.append("sessionid", s.De.SESSIONID),
                        n.append("rgBundleIDs", t.join(",")),
                        n.append(
                          "bExcludeExpired",
                          e.bExcludeExpired ? "1" : "0",
                        ),
                        e.nPartnerID &&
                          n.append("publisherid", e.nPartnerID.toString()),
                        l.push(i().post(a, n, { withCredentials: !0 }));
                    }
                    return (
                      (await Promise.all(l)).forEach((e) => {
                        if (
                          200 == e?.status &&
                          1 == e?.data?.success &&
                          e?.data?.map
                        )
                          for (let t in e.data.map) {
                            const a = Number.parseInt(t);
                            a &&
                              n.set(a, {
                                storeItem: a,
                                discountSetting: e.data.map[a],
                              });
                          }
                        else
                          console.log(
                            "Error: Failed on FetchDiscountByBundle request " +
                              e?.status +
                              " " +
                              e?.statusText +
                              " " +
                              e?.data?.success,
                          );
                      }),
                      t.map((e) => n.get(e))
                    );
                  },
                  { maxBatchSize: 100 },
                ),
              );
            return S.get(t);
          })(t).load(e),
      };
      const S = new Map(),
        v = new Map();
    },
    13550: (e, t, a) => {
      "use strict";
      a.d(t, { HI: () => m, h9: () => d });
      var n = a(80751),
        i = a.n(n),
        r = a(73799),
        l = a.n(r),
        s = a(47427),
        o = a(42718),
        c = (a(2041), a(65255));
      function m(e) {
        const t = s.useContext(u),
          a = (0, o.useQuery)(p(t, e));
        return a.isLoading ? null : a.data?.rgPackageSales;
      }
      function d(e) {
        const t = s.useContext(u);
        return (0, o.useQueries)(e.map((e) => p(t, e)));
      }
      const u = s.createContext({
        loadPromotionPlanPackageSales: async (e) =>
          null == e
            ? null
            : await (function () {
                _ ||
                  (_ = new (l())(
                    async (e) => {
                      const t = `${c.De.PARTNER_BASE_URL}promotion/analysis/ajaxgetpromotionplanpackagesales`,
                        a = { rgpromotionplanid: e.join(",") },
                        n = await i().get(t, { params: a });
                      if (!n || 200 != n.status)
                        throw `Failed to promotion package sales details: ${n?.data?.msg || "unknown"}`;
                      const r = new Map();
                      return (
                        e.forEach((e) => {
                          n.data.result_list[e] &&
                            r.set(e, n.data.result_list[e]);
                        }),
                        e.map((e) => ({
                          promoID: e,
                          rgPackageSales: r.get(e) || [],
                        }))
                      );
                    },
                    { maxBatchSize: 10 },
                  ));
                return _;
              })().load(e),
      });
      function p(e, t) {
        return {
          queryKey: ["PromotionPlanPackageSale", t],
          queryFn: () => e.loadPromotionPlanPackageSales(t),
          enabled: !!t,
        };
      }
      let _;
    },
    67675: (e, t, a) => {
      "use strict";
      a.d(t, { G: () => c, X: () => o });
      var n = a(85556),
        i = a(54842),
        r = a(37563);
      const l = new RegExp(
          /(?:steampowered\.com|valve\.org\/store|steam\.dev\/store)\/sale\/([a-zA-Z0-9\-_&]+)/i,
        ),
        s = new RegExp(
          /(?:steampowered\.com|valve\.org\/store|steam\.dev\/store)\/(?:curator|dev|developer|franchise|pub|publisher)\/[a-zA-Z0-9\-_%]+\/sale\/([a-zA-Z0-9\-_&%]+)/i,
        );
      function o(e) {
        let t = null,
          a = l.exec(e);
        a && a.length > 1 && (t = a);
        let n = s.exec(e);
        return n && n.length > 1 && (t = n), t ? t[1].toLowerCase() : null;
      }
      class c {
        constructor() {
          (0, i.rC)(this);
        }
        static s_FeatureStore;
        m_rgMapCluster = new Map();
        m_rgFeatureNames = new Array();
        m_rgActiveFeatureNames = new Array();
        m_rgSpotlights = null;
        m_rgIM = null;
        m_activeDeals = null;
        m_mapSaleVanityTakeover = new Map();
        m_mapSaleVanitySpotlight = new Map();
        m_mapSaleVanityIM = new Map();
        BHasVanityFeaturing(e) {
          return this.m_mapSaleVanityTakeover.has(e.toLowerCase());
        }
        GetVanityFeaturing(e) {
          return this.m_mapSaleVanityTakeover.get(e.toLowerCase()) || [];
        }
        BHasVanitySpotlight(e) {
          return this.m_mapSaleVanitySpotlight.has(e.toLowerCase());
        }
        GetVanitySpotlight(e) {
          return this.m_mapSaleVanitySpotlight.get(e.toLowerCase());
        }
        BHasVanityIM(e) {
          return this.m_mapSaleVanityIM.has(e.toLowerCase());
        }
        GetVanityIM(e) {
          return this.m_mapSaleVanityIM.get(e.toLowerCase());
        }
        static Get() {
          return (
            c.s_FeatureStore ||
              ((c.s_FeatureStore = new c()), c.s_FeatureStore.Init()),
            c.s_FeatureStore
          );
        }
        InsertVanityToForceFeature(e, t, a) {
          e &&
            (this.m_mapSaleVanityTakeover.has(e) ||
              this.m_mapSaleVanityTakeover.set(e, new Array()),
            this.m_mapSaleVanityTakeover
              .get(e)
              .push({ cluster_name: t.cluster_name, clusters: [a] }));
        }
        InsertVanityToSpotlight(e, t) {
          e && this.m_mapSaleVanitySpotlight.set(e, t);
        }
        Init() {
          let e = (0, r.kQ)("steampagefeaturing", "application_config");
          this.ValidateStoreDefault(e) &&
            (e.forEach((e) => {
              this.m_rgMapCluster.set(e.cluster_name, e.clusters),
                this.m_rgFeatureNames.push(e.cluster_name),
                e.clusters &&
                  e.clusters.length > 0 &&
                  this.m_rgActiveFeatureNames.push(e.cluster_name),
                e.clusters.forEach((t) => {
                  t.page_bg_url &&
                    this.InsertVanityToForceFeature(o(t.page_bg_url), e, t),
                    t.expanded_capsules &&
                      t.expanded_capsules.forEach((a) => {
                        a.website &&
                          "Advertising" == a.type &&
                          this.InsertVanityToForceFeature(o(a.website), e, t);
                      });
                });
            }),
            "dev" == r.De.WEB_UNIVERSE &&
              console.log(
                "CForceFeatureStore - Total Active Features: " +
                  this.m_rgActiveFeatureNames.length +
                  " Matching Vanity: " +
                  this.m_mapSaleVanityTakeover.size,
                this.m_mapSaleVanityTakeover.keys(),
              ));
          let t = (0, r.kQ)("spotlightfeaturing", "application_config");
          this.ValidateSpotlightDefault(t) &&
            ((this.m_rgSpotlights = t),
            this.m_rgSpotlights &&
              this.m_rgSpotlights.forEach((e) => {
                e.associated_url &&
                  this.InsertVanityToSpotlight(o(e.associated_url), e),
                  e.associated_app &&
                    "Advertising" == e.associated_app.type &&
                    e.associated_app.website &&
                    this.InsertVanityToSpotlight(
                      o(e.associated_app.website),
                      e,
                    );
              }),
            "dev" == r.De.WEB_UNIVERSE &&
              console.log(
                "CForceFeatureStore - Total Active Spotlight: " +
                  this.m_rgSpotlights.length +
                  " Matchign Vanity: " +
                  this.m_mapSaleVanitySpotlight.size,
                this.m_mapSaleVanitySpotlight.keys(),
              ));
          let a = (0, r.kQ)("marketingmsg", "application_config");
          this.ValidateIMDefault(a) &&
            ((this.m_rgIM = a),
            a.forEach((e) => {
              if (e.template && e.template.linkurl) {
                let t = o(e.template.linkurl);
                this.m_mapSaleVanityIM.set(t, e);
              }
            }),
            "dev" == r.De.WEB_UNIVERSE &&
              console.log(
                "CForceFeatureStore - Total Active Marketing MEssages (IM) : " +
                  this.m_rgIM.length +
                  " Matchign Vanity: " +
                  this.m_mapSaleVanityIM.size,
                this.m_mapSaleVanityIM.keys(),
              ));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].cluster_name &&
            "object" == typeof t[0].clusters
          );
        }
        ValidateSpotlightDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].name &&
            "string" == typeof t[0].id
          );
        }
        ValidateIMDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].gid &&
            "string" == typeof t[0].name
          );
        }
      }
      (0, n.gn)([i.aD], c.prototype, "Init", null);
    },
    64523: (e, t, a) => {
      "use strict";
      a.d(t, { L: () => o, f: () => c });
      var n = a(79545),
        i = a(5697),
        r = a(47427),
        l = a(42718),
        s = a(79270);
      function o(e) {
        const t = (0, s.i)();
        return (0, l.useQuery)(
          `demostats_${e}`,
          async () => {
            const a = n.gA.Init(i.mG);
            a.Body().set_opt_in_name(e);
            const r = (await i.mY.GetOptInDemoStats(t, a)).Body().toObject();
            return {
              stats: r.stats,
              appIdsWithoutPermissions: r.appid_without_permissions,
            };
          },
          { enabled: e && e.startsWith("sale_") },
        );
      }
      function c(e, t) {
        const a = (0, s.i)(),
          o = (0, l.useQuery)(
            `demostats_${e}_${t}`,
            async () => {
              const r = n.gA.Init(i.mG);
              r.Body().set_opt_in_name(e), r.Body().set_partner_id(t);
              const l = (await i.mY.GetOptInDemoStats(a, r)).Body().toObject();
              return {
                stats: l.stats,
                appIdsWithoutPermissions: l.appid_without_permissions,
              };
            },
            { enabled: e && e.startsWith("sale_") },
          );
        return r.useMemo(() => o, [e, t, o.isLoading]);
      }
    },
    86236: (e, t, a) => {
      "use strict";
      a.d(t, {
        Hf: () => y,
        On: () => b,
        cf: () => f,
        tb: () => C,
        y7: () => k,
      });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(4771),
        s = a(20128),
        o = a(54842),
        c = a(47427),
        m = a(77936),
        d = a(65650),
        u = a(87225),
        p = a(16649),
        _ = a(45492),
        h = a(20417),
        g = a(37563),
        E = a(81070),
        S = a(2026),
        v = a(35427);
      const D = "section_",
        f = "list_",
        y = "option_";
      class b {
        static s_Editor;
        m_model = void 0;
        m_bDirty = !1;
        rgActiveStats = void 0;
        m_dynamicSections = void 0;
        m_mapDynamicSection = new Map();
        m_EmailDefinitions = void 0;
        m_mapEmails = new Map();
        static Get() {
          return (
            b.s_Editor ||
              ((b.s_Editor = new b()),
              ("dev" != g.De.WEB_UNIVERSE && "beta" != g.De.WEB_UNIVERSE) ||
                (window.g_OptInAdminEditModel = b.s_Editor)),
            b.s_Editor
          );
        }
        m_activeStatsChange = new _.pB();
        GetActiveStatsChangeCallaback() {
          return this.m_activeStatsChange;
        }
        GetOptInPageID() {
          return this.m_model.pageid;
        }
        GetDynamicOptionByID(e) {
          let t = null;
          return (
            this.GetDynamicSections().forEach((a) => {
              a.unique_id == e.section_id &&
                a.lists.forEach((a) => {
                  a.unique_id == e.list_id &&
                    a.options.forEach((a) => {
                      a.unique_id == e.option_id && (t = a);
                    });
                });
            }),
            t
          );
        }
        BContainDyanmicOptionByIDs(e) {
          return null != this.GetDynamicOptionByID(e);
        }
        GetOptionNameByID(e, t = 0) {
          const a = this.GetDynamicOptionByID(e);
          return a ? this.GetKVLang(a.text, t) : "";
        }
        AddDemoPackage(e) {
          this.m_model.demo_packages || (this.m_model.demo_packages = []),
            this.m_model.demo_packages.push(e),
            this.SetDirty(!0);
        }
        GetDemoPackages() {
          return this.m_model.demo_packages;
        }
        GetName() {
          return this.m_model && this.m_model.pageid
            ? -1 != this.m_model.pageid.indexOf("sale_", 0)
              ? this.m_model.pageid.substring(5)
              : this.m_model.pageid
            : "";
        }
        GetFullName() {
          return this.m_model && this.m_model.pageid ? this.m_model.pageid : "";
        }
        BHasSpecialEventType() {
          return Boolean(this.m_model?.special_event_type);
        }
        GetSpecialEventType() {
          return this.m_model.special_event_type;
        }
        SetSpecialEventType(e) {
          e !== this.m_model.special_event_type &&
            ((this.m_model.special_event_type = e), this.SetDirty(!0));
        }
        GetCurSpecialEventName() {
          return this.GetSpecialEventName(d.U.Get().GetCurEditLanguage());
        }
        GetSpecialEventName(e) {
          return this.GetKVLang(this.m_model.special_event_name, e) ?? "";
        }
        SetCurSpecialEventName(e) {
          this.SetSpecialEventName(d.U.Get().GetCurEditLanguage(), e);
        }
        SetSpecialEventName(e, t) {
          this.SetKVLang(this.m_model.special_event_name, e, t);
        }
        GetCurSpecialEventDescription() {
          return this.GetSpecialEventDescription(
            d.U.Get().GetCurEditLanguage(),
          );
        }
        GetSpecialEventDescription(e) {
          return (
            this.GetKVLang(this.m_model.special_event_description, e) ?? ""
          );
        }
        SetCurSpecialEventDescription(e) {
          this.SetSpecialEventDescription(d.U.Get().GetCurEditLanguage(), e);
        }
        SetSpecialEventDescription(e, t) {
          this.SetKVLang(this.m_model.special_event_description, e, t);
        }
        GetQandA1EventStartTime() {
          return this.m_model.rtime_nextfest_question_and_answer1 || 0;
        }
        SetQandA1EventStartTime(e) {
          e != this.m_model.rtime_nextfest_question_and_answer1 &&
            ((this.m_model.rtime_nextfest_question_and_answer1 = e),
            this.SetDirty(!0));
        }
        GetQandA1URL() {
          return this.m_model.nextfest_question_and_answer_url1 || "";
        }
        SetQandA1URL(e) {
          e != this.m_model.nextfest_question_and_answer_url1 &&
            ((this.m_model.nextfest_question_and_answer_url1 = e),
            this.SetDirty(!0));
        }
        GetQandA2EventStartTime() {
          return this.m_model.rtime_nextfest_question_and_answer2 || 0;
        }
        SetQandA2EventStartTime(e) {
          e != this.m_model.rtime_nextfest_question_and_answer2 &&
            ((this.m_model.rtime_nextfest_question_and_answer2 = e),
            this.SetDirty(!0));
        }
        GetQandA2URL() {
          return this.m_model.nextfest_question_and_answer_url2 || "";
        }
        SetQandA2URL(e) {
          e != this.m_model.nextfest_question_and_answer_url2 &&
            ((this.m_model.nextfest_question_and_answer_url2 = e),
            this.SetDirty(!0));
        }
        GetSpecialEventDocLink() {
          return this.m_model.special_event_doc_link;
        }
        SetSpecialEventDocLink(e) {
          e != this.m_model.special_event_doc_link &&
            ((this.m_model.special_event_doc_link = e), this.SetDirty(!0));
        }
        GetSpecialEventTypeMax() {
          return this.m_model.special_event_type_max || 0;
        }
        SetSpecialEventTypeMax(e) {
          e != this.m_model.special_event_type_max &&
            ((this.m_model.special_event_type_max = e), this.SetDirty(!0));
        }
        GetSpecialEventStartTime() {
          return this.m_model.special_event_rt_start || 0;
        }
        SetSpecialEventStartTime(e) {
          e != this.m_model.special_event_rt_start &&
            ((this.m_model.special_event_rt_start = e), this.SetDirty(!0));
        }
        GetSpecialEventEndTime() {
          return this.m_model.special_event_rt_end || 0;
        }
        SetSpecialEventEndTime(e) {
          e != this.m_model.special_event_rt_end &&
            ((this.m_model.special_event_rt_end = e), this.SetDirty(!0));
        }
        BHasSpecialEventTimeSet() {
          return (
            Boolean(this.m_model.special_event_rt_start) ||
            Boolean(this.m_model.special_event_rt_end)
          );
        }
        NCountSpecialEventBlocks() {
          return this.m_model.special_event_time_blocks?.length || 0;
        }
        AddSpecialEventBlock() {
          this.m_model.special_event_time_blocks ||
            (this.m_model.special_event_time_blocks = []),
            this.m_model.special_event_time_blocks.push({ block_reason: {} }),
            this.SetDirty(!0);
        }
        RemoveSpecialEventBlock(e) {
          return (
            e < this.m_model.special_event_time_blocks?.length &&
            (this.m_model.special_event_time_blocks.splice(e),
            this.SetDirty(!0),
            !0)
          );
        }
        SetSpecialEventBlock(e, t) {
          return (
            e < this.m_model.special_event_time_blocks?.length &&
            ((this.m_model.special_event_time_blocks[e] = t),
            this.SetDirty(!0),
            !0)
          );
        }
        GetAllSpecialEventBlocks() {
          return this.m_model.special_event_time_blocks || [];
        }
        MoveSpecialEventblock(e, t) {
          return (
            e < this.m_model.special_event_time_blocks?.length &&
            t < this.m_model.special_event_time_blocks?.length &&
            e != t &&
            ((0, u.hV)(this.m_model.special_event_time_blocks, e, t),
            this.SetDirty(!0),
            !0)
          );
        }
        BIsInSpecialEventBlockedTime(e) {
          return Boolean(
            e &&
              this.m_model.special_event_time_blocks?.filter(
                (t) => e >= t.block_rt_start && e < t.block_rt_end,
              )?.length > 0,
          );
        }
        BRequiresRemotePlayTogether() {
          return this.m_model.required_app_features.remote_play_together || !1;
        }
        SetRequiresRemotePlayTogether(e) {
          e !==
            (this.m_model.required_app_features.remote_play_together || !1) &&
            ((this.m_model.required_app_features.remote_play_together = e),
            this.SetDirty(!0));
        }
        BRequiresVR() {
          return this.m_model.required_app_features.vr || !1;
        }
        SetRequiresVR(e) {
          e !== (this.m_model.required_app_features.vr || !1) &&
            ((this.m_model.required_app_features.vr = e), this.SetDirty(!0));
        }
        BOptInRegistationOnlyShowSaveButton() {
          return this.m_model.opt_in_registration_only_show_save;
        }
        SetOptInRegistationOnlyShowSaveButton(e) {
          e != this.m_model.opt_in_registration_only_show_save &&
            ((this.m_model.opt_in_registration_only_show_save = e),
            this.SetDirty(!0));
        }
        BIsAdditionalFeaturingSectionEnabled() {
          return this.m_model.additional_featuring_section_enabled;
        }
        SetAdditionalFeaturingSectionEnabled(e) {
          e != this.m_model.additional_featuring_section_enabled &&
            ((this.m_model.additional_featuring_section_enabled = e),
            this.SetDirty(!0));
        }
        BIsCollectTrailerPermissions() {
          return this.m_model.collect_trailer_permissions;
        }
        SetCollectTrailerPermissions(e) {
          e != this.m_model.collect_trailer_permissions &&
            ((this.m_model.collect_trailer_permissions = e), this.SetDirty(!0));
        }
        BIsCollectDemoPermissions() {
          return this.m_model.collect_demo_permissions;
        }
        SetCollectDemoPermissions(e) {
          e != this.m_model.collect_demo_permissions &&
            ((this.m_model.collect_demo_permissions = e), this.SetDirty(!0));
        }
        BIsCollectGameProfileIntent() {
          return this.m_model.collect_game_profile_intent;
        }
        SetCollectGameProfileIntent(e) {
          e != this.m_model.collect_game_profile_intent &&
            ((this.m_model.collect_game_profile_intent = e), this.SetDirty(!0));
        }
        BHasCollectDemoDeadlineDate() {
          return Boolean(this.m_model.collect_demo_deadline);
        }
        GetCollectDemoDeadlineDate() {
          return this.m_model.collect_demo_deadline;
        }
        SetCollectDemoDeadlineDate(e) {
          e != this.m_model.collect_demo_deadline &&
            ((this.m_model.collect_demo_deadline = e), this.SetDirty(!0));
        }
        BHasSurveyEnabled() {
          return Boolean(this.m_model.survey_type_enabled);
        }
        GetSurveyType() {
          return this.m_model.survey_type_enabled;
        }
        SetSurveyType(e) {
          e != this.m_model.survey_type_enabled &&
            ((this.m_model.survey_type_enabled = e), this.SetDirty(!0));
        }
        GetCurEventTitle() {
          return this.GetEventTitle(d.U.Get().GetCurEditLanguage()) ?? "";
        }
        GetEventTitle(e) {
          return this.GetKVLang(this.m_model.event_title, e) ?? "";
        }
        SetCurEventTitle(e) {
          this.SetEventTitle(d.U.Get().GetCurEditLanguage(), e);
        }
        SetEventTitle(e, t) {
          this.SetKVLang(this.m_model.event_title, e, t);
        }
        GetCurEligibilityText() {
          return this.GetEligibilityText(d.U.Get().GetCurEditLanguage()) ?? "";
        }
        GetEligibilityText(e) {
          return this.GetKVLang(this.m_model.eligibility_text, e) ?? "";
        }
        SetCurEligibilityText(e) {
          this.SetEligibilityText(d.U.Get().GetCurEditLanguage(), e);
        }
        SetEligibilityText(e, t) {
          this.SetKVLang(this.m_model.eligibility_text, e, t);
        }
        GetCurOptInRegistrationTitle() {
          return (
            this.GetOptInRegistrationTitle(d.U.Get().GetCurEditLanguage()) ?? ""
          );
        }
        GetOptInRegistrationTitle(e) {
          return (
            this.GetKVLang(this.m_model.opt_in_registration_title, e) ?? ""
          );
        }
        SetCurOptInRegistrationTitle(e) {
          this.SetOptInRegistrationTitle(d.U.Get().GetCurEditLanguage(), e);
        }
        SetOptInRegistrationTitle(e, t) {
          this.m_model.opt_in_registration_title ||
            (this.m_model.opt_in_registration_title = {}),
            this.SetKVLang(this.m_model.opt_in_registration_title, e, t);
        }
        GetCurOptInRegistrationCheckbox() {
          return (
            this.GetOptInRegistrationCheckbox(d.U.Get().GetCurEditLanguage()) ??
            ""
          );
        }
        GetOptInRegistrationCheckbox(e) {
          return (
            this.GetKVLang(this.m_model.opt_in_registration_checkbox, e) ?? ""
          );
        }
        SetCurOptInRegistrationCheckbox(e) {
          this.SetOptInRegistrationCheckbox(d.U.Get().GetCurEditLanguage(), e);
        }
        SetOptInRegistrationCheckbox(e, t) {
          this.m_model.opt_in_registration_checkbox ||
            (this.m_model.opt_in_registration_checkbox = {}),
            this.SetKVLang(this.m_model.opt_in_registration_checkbox, e, t);
        }
        BHasOptInRegistrationTitleOrCheckbox() {
          return (
            Boolean(this.m_model.opt_in_registration_title) ||
            Boolean(this.m_model.opt_in_registration_checkbox)
          );
        }
        BIsOptInEnabled() {
          return this.m_model.sale_optin_enabled;
        }
        SetOptInEnabled(e) {
          e !== this.m_model.sale_optin_enabled &&
            ((this.m_model.sale_optin_enabled = e), this.SetDirty(!0));
        }
        GetOptInType() {
          return this.m_model.optin_type || l.Vs.k_EOptInType_EventRegistration;
        }
        SetOptInType(e) {
          e !== this.m_model.optin_type &&
            ((this.m_model.optin_type = e), this.SetDirty(!0));
        }
        GetPublicEventURL() {
          return this.m_model.public_event_url;
        }
        SetPublicEventURL(e) {
          e != this.m_model.public_event_url &&
            ((this.m_model.public_event_url = e), this.SetDirty(!0));
        }
        GetAssetSetDocFile() {
          return this.m_model.asset_set_doc_file;
        }
        SetAssetSetDocFile(e) {
          e != this.m_model.asset_set_doc_file &&
            ((this.m_model.asset_set_doc_file = e), this.SetDirty(!0));
        }
        GetPublicDocumentationWikiURL() {
          return this.m_model.public_doc_wiki_url;
        }
        SetPublicDocumentationWikiURL(e) {
          e != this.m_model.public_doc_wiki_url &&
            ((this.m_model.public_doc_wiki_url = e), this.SetDirty(!0));
        }
        GetPublicEventID() {
          return this.m_model.public_event_id;
        }
        SetPublicEventID(e) {
          e != this.m_model.public_event_id &&
            ((this.m_model.public_event_id = e), this.SetDirty(!0));
        }
        GetEventStartTime() {
          return this.m_model.event_start_date;
        }
        SetEventStartTime(e) {
          e !== this.m_model.event_start_date &&
            ((this.m_model.event_start_date = e), this.SetDirty(!0));
        }
        GetEventEndTime() {
          return this.m_model.event_end_date;
        }
        SetEventEndTime(e) {
          e !== this.m_model.event_end_date &&
            ((this.m_model.event_end_date = e), this.SetDirty(!0));
        }
        GetEventTrailerDropDate() {
          return this.m_model.trailer_drop_date;
        }
        SetEventTrailerDropDate(e) {
          e !== this.m_model.trailer_drop_date &&
            ((this.m_model.trailer_drop_date = e), this.SetDirty(!0));
        }
        GetOptInDeadlineTime() {
          return this.m_model.optin_deadline_date;
        }
        SetOptInDeadlineTime(e) {
          e !== this.m_model.optin_deadline_date &&
            ((this.m_model.optin_deadline_date = e), this.SetDirty(!0));
        }
        BIsInvitationOnly() {
          return this.m_model.invitation_only;
        }
        SetInvititationOnly(e) {
          e !== this.m_model.invitation_only &&
            ((this.m_model.invitation_only = e), this.SetDirty(!0));
        }
        EVisibility() {
          return this.m_model.visibility;
        }
        SetVisibility(e) {
          e !== this.m_model.visibility &&
            ((this.m_model.visibility = e), this.SetDirty(!0));
        }
        BIsReleaseGamesEligible() {
          return this.m_model.release_date_eligibility.include_released_games;
        }
        SetReleaseGameEligible(e) {
          e !== this.m_model.release_date_eligibility.include_released_games &&
            ((this.m_model.release_date_eligibility.include_released_games = e),
            this.SetDirty(!0));
        }
        BIsUnreleaseGamesEligible() {
          return this.m_model.release_date_eligibility.include_unreleased_games;
        }
        SetUnreleaseGameEligible(e) {
          e !==
            this.m_model.release_date_eligibility.include_unreleased_games &&
            ((this.m_model.release_date_eligibility.include_unreleased_games =
              e),
            this.SetDirty(!0));
        }
        GetEligibleReleaseBeforeDate() {
          return this.m_model.release_date_eligibility.release_before_date;
        }
        SetEligibleReleaseBeforeDate(e) {
          e !== this.m_model.release_date_eligibility.release_before_date &&
            ((this.m_model.release_date_eligibility.release_before_date = e),
            this.SetDirty(!0));
        }
        GetEligibleReleaseAfterDate() {
          return this.m_model.release_date_eligibility.release_after_date;
        }
        SetEligibleReleaseAfterDate(e) {
          e !== this.m_model.release_date_eligibility.release_after_date &&
            ((this.m_model.release_date_eligibility.release_after_date = e),
            this.SetDirty(!0));
        }
        GetCooldownGroupType() {
          return this.m_model.cooldown_group.group_id || 0;
        }
        SetCooldownGroupType(e) {
          (this.m_model.cooldown_group &&
            e === this.m_model.cooldown_group.group_id) ||
            (this.m_model.cooldown_group || (this.m_model.cooldown_group = {}),
            (this.m_model.cooldown_group.group_id = e),
            this.SetDirty(!0));
        }
        GetCooldownRequired() {
          return this.m_model.cooldown_group.cooldown_required || !1;
        }
        SetCooldownRequired(e) {
          (this.m_model.cooldown_group &&
            e === this.m_model.cooldown_group.cooldown_required) ||
            (this.m_model.cooldown_group || (this.m_model.cooldown_group = {}),
            (this.m_model.cooldown_group.cooldown_required = e),
            this.SetDirty(!0));
        }
        GetCooldownDays() {
          return this.m_model.cooldown_group.cooldown_time || 0;
        }
        SetCooldownDays(e) {
          e !== this.m_model.cooldown_group.cooldown_time &&
            ((this.m_model.cooldown_group.cooldown_time = e),
            this.SetDirty(!0));
        }
        GetRequiredTags() {
          let e = [];
          if (this.m_model && this.m_model.required_tags) {
            let t = E.v.Get().GetGameTags();
            Object.keys(this.m_model.required_tags).forEach((a) => {
              const n = t.find((e) => e.value == a);
              n && e.push({ label: n.label, value: n.value });
            });
          }
          return e;
        }
        OnChangeRequiredTags(e) {
          (this.m_model.required_tags = {}),
            e &&
              e.forEach((e) => {
                let t = parseInt(e.value);
                this.m_model.required_tags[t] = !0;
              }),
            this.SetDirty(!0);
        }
        GetAppOfficialWeightedTagRankToInclude() {
          return this.m_model.app_official_weighted_tag_rank_to_include || 20;
        }
        SetAppOfficialWeightedTagRankToInclude(e) {
          e !== this.m_model.app_official_weighted_tag_rank_to_include &&
            ((this.m_model.app_official_weighted_tag_rank_to_include = e),
            this.SetDirty(!0));
        }
        GetModel() {
          return this.m_model;
        }
        GetDynamicSections() {
          return this.m_model.dynamic_sections || [];
        }
        GetEditableDynamicSections() {
          return this.m_dynamicSections || [];
        }
        GetDynamicSectionByID(e) {
          return this.m_mapDynamicSection.get(e);
        }
        GetEmailDefinitionByID(e) {
          return this.m_mapEmails.get(e);
        }
        GetFirstEmail() {
          return this.m_EmailDefinitions?.length > 0
            ? this.m_EmailDefinitions[0]
            : void 0;
        }
        GetEmailDefinitions() {
          return this.m_EmailDefinitions;
        }
        GetCurDescription() {
          return this.GetDescription(d.U.Get().GetCurEditLanguage());
        }
        GetDescription(e) {
          return this.GetKVLang(this.m_model.description, e) ?? "";
        }
        SetCurDescription(e) {
          this.SetDescription(d.U.Get().GetCurEditLanguage(), e);
        }
        SetDescription(e, t) {
          this.SetKVLang(this.m_model.description, e, t);
        }
        GetCurHelpText() {
          return this.GetHelpText(d.U.Get().GetCurEditLanguage());
        }
        GetHelpText(e) {
          return this.GetKVLang(this.m_model.help_text, e) ?? "";
        }
        SetCurHelpText(e) {
          this.SetHelpText(d.U.Get().GetCurEditLanguage(), e);
        }
        SetHelpText(e, t) {
          this.SetKVLang(this.m_model.help_text, e, t);
        }
        GetCurAppealsText() {
          return this.GetAppealsText(d.U.Get().GetCurEditLanguage());
        }
        GetAppealsText(e) {
          return this.GetKVLang(this.m_model.appeals_text, e) ?? "";
        }
        SetCurAppealsText(e) {
          this.SetAppealsText(d.U.Get().GetCurEditLanguage(), e);
        }
        SetAppealsText(e, t) {
          this.SetKVLang(this.m_model.appeals_text, e, t);
        }
        GetCurPruningCriteriaText() {
          return this.GetPruningCriteriaText(d.U.Get().GetCurEditLanguage());
        }
        GetPruningCriteriaText(e) {
          return this.m_model.eligibility_criteria ?? "";
        }
        SetCurPruningCriteriaText(e) {
          this.SetPruningCriteriaText(d.U.Get().GetCurEditLanguage(), e);
        }
        SetPruningCriteriaText(e, t) {
          (this.m_model.eligibility_criteria = t), this.SetDirty(!0);
        }
        GetPointShopPriorityApps() {
          return this.m_model.point_shop_priority_appids;
        }
        SetPointShopPriorityApps(e) {
          (this.m_model.point_shop_priority_appids = e), this.SetDirty(!0);
        }
        GetPointShopIncludedApps() {
          return this.m_model.point_shop_included_appids;
        }
        SetPointShopIncludedApps(e) {
          (this.m_model.point_shop_included_appids = e), this.SetDirty(!0);
        }
        GetPointShopAdvertisingAppID() {
          return this.m_model.point_shop_advertising_appid || 0;
        }
        SetPointShopAdvertisingAppID(e) {
          e != this.m_model.point_shop_advertising_appid &&
            ((this.m_model.point_shop_advertising_appid = e),
            this.SetDirty(!0));
        }
        GetPointShopRadialColorOverride() {
          return this.m_model.point_shop_radial_color_override;
        }
        SetPointShopRadialColorOverride(e) {
          e != this.m_model.point_shop_radial_color_override &&
            ((this.m_model.point_shop_radial_color_override = e),
            this.SetDirty(!0));
        }
        GetPointShopRadialEdgeColorOverride() {
          return this.m_model.point_shop_radial_edge_color_override;
        }
        SetPointShopRadialEdgeColorOverride(e) {
          e != this.m_model.point_shop_radial_edge_color_override &&
            ((this.m_model.point_shop_radial_edge_color_override = e),
            this.SetDirty(!0));
        }
        GetAllLocalizedOptInBanner() {
          return this.m_model.localized_optin_banner ?? {};
        }
        GetLocalizedOptInBanner(e) {
          return this.m_model.localized_optin_banner?.[(0, m.j_)(e)] ?? "";
        }
        SetLocalizedOptInBanner(e, t) {
          (this.m_model.localized_optin_banner &&
            !Array.isArray(this.m_model.localized_optin_banner)) ||
            (this.m_model.localized_optin_banner = {});
          const a = (0, m.j_)(e);
          this.m_model.localized_optin_banner[a] != t &&
            ((this.m_model.localized_optin_banner[a] = t), this.SetDirty(!0));
        }
        DeleteLocalizedOptInBanner(e) {
          const t = (0, m.j_)(e);
          this.m_model.localized_optin_banner?.[t] &&
            (delete this.m_model.localized_optin_banner[t], this.SetDirty(!0));
        }
        BIsCategoriesEnabled() {
          return this.m_model.categories.enabled;
        }
        SetCategoriesEnabled(e) {
          e != this.m_model.categories.enabled &&
            ((this.m_model.categories.enabled = e), this.SetDirty(!0));
        }
        GetCategoriesRequired() {
          return this.m_model.categories.required || 0;
        }
        SetCategoriesRequired(e) {
          e != this.m_model.categories.required &&
            ((this.m_model.categories.required = e), this.SetDirty(!0));
        }
        GetCategoryTags() {
          let e = [];
          if (this.m_model && this.m_model.categories.tags) {
            let t = E.v.Get().GetGameTags();
            Object.keys(this.m_model.categories.tags).forEach((a) => {
              const n = t.find((e) => e.value == a);
              e.push({ label: n.label, value: n.value });
            });
          }
          return e;
        }
        OnChangeCategoryTags(e) {
          (this.m_model.categories.tags = {}),
            e &&
              e.forEach((e) => {
                let t = parseInt(e.value);
                this.m_model.categories.tags[t] = !0;
              }),
            this.SetDirty(!0);
        }
        BIsArtistStatementEnabled() {
          return this.m_model.artist_statement.enabled || !1;
        }
        SetArtistStatementEnabled(e) {
          e !== this.m_model.artist_statement.enabled &&
            ((this.m_model.artist_statement.enabled = e), this.SetDirty(!0));
        }
        GetArtistStatementRequired() {
          return this.m_model.artist_statement.required || 0;
        }
        SetArtistStatementRequired(e) {
          e !== this.m_model.artist_statement.required &&
            ((this.m_model.artist_statement.required = e), this.SetDirty(!0));
        }
        BIsPrimaryCountryEnabled() {
          return this.m_model.primary_country.enabled || !1;
        }
        SetPrimaryCountryEnabled(e) {
          e !== this.m_model.primary_country.enabled &&
            ((this.m_model.primary_country.enabled = e), this.SetDirty(!0));
        }
        GetPrimaryCountryRequired() {
          return this.m_model.primary_country.required || 0;
        }
        SetPrimaryCountryRequired(e) {
          e !== this.m_model.primary_country.required &&
            ((this.m_model.primary_country.required = e), this.SetDirty(!0));
        }
        BIsPressContactEnabled() {
          return this.m_model.press_contact.enabled || !1;
        }
        SetPressContactEnabled(e) {
          e !== this.m_model?.press_contact.enabled &&
            ((this.m_model.press_contact.enabled = e), this.SetDirty(!0));
        }
        GetPressContactRequired() {
          return this.m_model.press_contact.required || 0;
        }
        SetPressContactRequired(e) {
          e !== this.m_model?.press_contact.required &&
            ((this.m_model.press_contact.required = e), this.SetDirty(!0));
        }
        BIsBeforeYouOptInEnabled() {
          return this.m_model.before_you_opt_in || !1;
        }
        SetBeforeYouOptInEnabled(e) {
          e !== this.m_model.before_you_opt_in &&
            ((this.m_model.before_you_opt_in = e), this.SetDirty(!0));
        }
        BIsBuildYourStorePageEnabled() {
          return this.m_model.build_store_page.enabled || !1;
        }
        SetBuildYourStorePageEnabled(e) {
          e !== this.m_model.build_store_page.enabled &&
            ((this.m_model.build_store_page.enabled = e), this.SetDirty(!0));
        }
        GetBuildYourStorePageRequired() {
          return this.m_model.build_store_page.required || 0;
        }
        SetBuildYourStorePageRequired(e) {
          e !== this.m_model.build_store_page.required &&
            ((this.m_model.build_store_page.required = e), this.SetDirty(!0));
        }
        GetStorePageText() {
          return (
            this.GetKVLang(
              this.m_model.build_store_page.description,
              d.U.Get().GetCurEditLanguage(),
            ) ?? ""
          );
        }
        SetStorePageText(e) {
          this.m_model.build_store_page || (this.m_model.build_store_page = {}),
            this.m_model.build_store_page.description ||
              (this.m_model.build_store_page.description = {}),
            this.SetKVLang(
              this.m_model.build_store_page.description,
              d.U.Get().GetCurEditLanguage(),
              e,
            );
        }
        BIsTaggingWizardEnabled() {
          return this.m_model.tagging_wizard || !1;
        }
        SetTaggingWizardEnabled(e) {
          e !== this.m_model.tagging_wizard &&
            ((this.m_model.tagging_wizard = e), this.SetDirty(!0));
        }
        BIsLaunchYourDemoEnabled() {
          return this.m_model.launch_demo.enabled || !1;
        }
        SetLaunchYourDemoEnabled(e) {
          e !== this.m_model.launch_demo.enabled &&
            ((this.m_model.launch_demo.enabled = e), this.SetDirty(!0));
        }
        GetLaunchYourDemoRequired() {
          return this.m_model.launch_demo.required || 0;
        }
        SetLaunchYourDemoRequired(e) {
          e !== this.m_model.launch_demo.required &&
            ((this.m_model.launch_demo.required = e), this.SetDirty(!0));
        }
        GetLaunchYourDemoDueDate() {
          return this.m_model.launch_demo.due_date || 0;
        }
        SetLaunchYourDemoDueDate(e) {
          e !== this.m_model.launch_demo.due_date &&
            ((this.m_model.launch_demo.due_date = e), this.SetDirty(!0));
        }
        BIsDoAnytimeEnabled() {
          return this.m_model.do_anytime.enabled || !1;
        }
        SetDoAnytimeEnabled(e) {
          e !== this.m_model.do_anytime.enabled &&
            ((this.m_model.do_anytime.enabled = e), this.SetDirty(!0));
        }
        BIsLivestreamEnabled() {
          return this.m_model.do_anytime.livestream || !1;
        }
        SetLivestreamEnabled(e) {
          e !== this.m_model.do_anytime.livestream &&
            ((this.m_model.do_anytime.livestream = e), this.SetDirty(!0));
        }
        BIsChatSessionEnabled() {
          return this.m_model.do_anytime.chat_session || !1;
        }
        SetChatSessionEnabled(e) {
          e !== this.m_model.do_anytime.chat_session &&
            ((this.m_model.do_anytime.chat_session = e), this.SetDirty(!0));
        }
        BIsAnytimeTaggingWizardEnabled() {
          return this.m_model.do_anytime.tagging_wizard || !1;
        }
        SetAnytimeTaggingWizardEnabled(e) {
          e !== this.m_model.do_anytime.tagging_wizard &&
            ((this.m_model.do_anytime.tagging_wizard = e), this.SetDirty(!0));
        }
        BIsEnterDiscountsEnabled() {
          return this.m_model.do_anytime.enter_discounts || !1;
        }
        SetEnterDiscountsEnabled(e) {
          e !== this.m_model.do_anytime.enter_discounts &&
            ((this.m_model.do_anytime.enter_discounts = e), this.SetDirty(!0));
        }
        GetDiscountEventID() {
          return this.m_model.do_anytime.discount_event_id || "";
        }
        SetDiscountEventID(e) {
          e !== this.m_model.do_anytime.discount_event_id &&
            ((this.m_model.do_anytime.discount_event_id = e),
            this.SetDirty(!0));
        }
        GetExternalAppReviewers() {
          return this.m_model.external_app_reviewer || [];
        }
        SetExternalAppReviewers(e) {
          JSON.stringify(e) !==
            JSON.stringify(this.m_model.external_app_reviewer) &&
            ((this.m_model.external_app_reviewer = e), this.SetDirty(!0));
        }
        RemoveExternalAppReviewAt(e) {
          e < this.m_model.external_app_reviewer?.length &&
            (this.m_model.external_app_reviewer.splice(e, 1),
            this.SetDirty(!0));
        }
        BAddExternalAppReviewAt(e) {
          this.m_model.external_app_reviewer ||
            (this.m_model.external_app_reviewer = []);
          return (
            -1 == this.m_model.external_app_reviewer.findIndex((t) => t == e) &&
            (this.m_model.external_app_reviewer.push(e), this.SetDirty(!0), !0)
          );
        }
        SetKVLang(e, t, a) {
          (0, S.eJ)(e, t, a) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (0, S.Y8)(e, t);
        }
        AddDynamicSection() {
          this.m_model.dynamic_sections || (this.m_model.dynamic_sections = []),
            this.m_model.dynamic_sections.push(b.CreateDefaultDynamicSection());
          const e = new I(
            this.m_model.dynamic_sections[
              this.m_model.dynamic_sections.length - 1
            ],
          );
          this.m_mapDynamicSection.set(e.GetUniqueID(), e),
            this.m_dynamicSections.push(e),
            this.SetDirty(!0);
        }
        static CreateDefaultDynamicSection() {
          return {
            unique_id: b.Get().GenerateUniqueIDForOptInSection(),
            input_style: "radio",
            columns: 1,
            lists: [
              {
                options: [],
                unique_id: b.GenerateUniqueIDForOptionListSection(),
              },
            ],
          };
        }
        DeleteDynamicSection(e) {
          const t = this.GetDynamicSectionByID(e);
          if (!t) return console.log("Could not find section with ID " + e), !1;
          this.m_mapDynamicSection.delete(t.GetUniqueID());
          let a = this.m_dynamicSections.findIndex((t) => t.GetUniqueID() == e);
          if (-1 === a) throw `dynamic section unique id ${e} missing: editing`;
          if (
            (this.m_dynamicSections.splice(a, 1),
            (a = this.m_model.dynamic_sections.findIndex(
              (t) => t.unique_id === e,
            )),
            -1 === a)
          )
            throw `dynamic section unique id ${e} missing: source model`;
          return (
            this.m_model.dynamic_sections.splice(a, 1), this.SetDirty(!0), !0
          );
        }
        GenerateUniqueIDForOptInSection() {
          let e = Math.floor(1 + 1e5 * Math.random());
          for (; this.GetDynamicSectionByID(D + e); )
            e = Math.floor(1 + 1e5 * Math.random());
          return D + e;
        }
        static GenerateUniqueIDForOptionListSection(e) {
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; e && e.some((e) => e.unique_id === f + t); )
            t = Math.floor(1 + 1e5 * Math.random());
          return f + t;
        }
        static GenerateUniqueIDForListItem(e) {
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; e && e.some((e) => e.unique_id === y + t); )
            t = Math.floor(1 + 1e5 * Math.random());
          return y + t;
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        SetDirty(e) {
          this.m_bDirty != e &&
            ((this.m_bDirty = e),
            E.v.Get().SetUnpublishedChanges(this.GetFullName()));
        }
        async Save(e) {
          let t = g.De.PARTNER_BASE_URL + "optin/ajaxadminupdate";
          const a = new FormData();
          a.append("sessionid", g.De.SESSIONID),
            a.append("pageid", this.m_model.pageid),
            a.append("jsondata", JSON.stringify(this.m_model));
          try {
            let n = await r().post(t, a, {
              withCredentials: !0,
              cancelToken: e,
            });
            if (e.reason)
              return (
                console.log("COptInAdminEditModel.Save Cancelled: " + e.reason),
                null
              );
            if (200 != n.status || !n.data || 1 != n.data.success) {
              let e =
                "Save Error: (" +
                (n.data
                  ? "erseult: " + n.data.success
                  : "status: " + n.status) +
                ")";
              return (
                n.data &&
                  n.data.err_msg &&
                  (e += " Error Message: " + n.data.err_msg),
                console.error("COptInAdminEditModel.Save: " + e),
                e
              );
            }
            E.v.Get().SetOptInDefinition(this.m_model), this.SetDirty(!1);
          } catch (e) {
            let t = (0, p.l)(e);
            return (
              console.error(
                "COptInAdminEditModel save error: " + t.strErrorMsg,
                t,
              ),
              "Save Error: " + e.strErrorMsg
            );
          }
          return null;
        }
        BInitialized() {
          return Boolean(this.m_model);
        }
        BHasLanguageData(e) {
          const t = (0, m.j_)(e);
          return (
            (this.m_model.description &&
              this.m_model.description[t] &&
              this.m_model.description[t].length > 0) ||
            (this.m_model.help_text &&
              this.m_model.help_text[t] &&
              this.m_model.help_text[t].length > 0) ||
            (this.m_model.appeals_text &&
              this.m_model.appeals_text[t] &&
              this.m_model.appeals_text[t].length > 0) ||
            (this.m_model.special_event_name &&
              this.m_model.special_event_name[t] &&
              this.m_model.special_event_name[t].length > 0) ||
            (this.m_model.special_event_description &&
              this.m_model.special_event_description[t] &&
              this.m_model.special_event_description[t].length > 0) ||
            (this.m_model.build_store_page &&
              this.m_model.build_store_page.description &&
              this.m_model.build_store_page.description[t] &&
              this.m_model.build_store_page.description[t].length > 0) ||
            (this.m_model.artist_statement &&
              this.m_model.artist_statement.description &&
              this.m_model.artist_statement.description[t] &&
              this.m_model.artist_statement.description[t].length > 0)
          );
        }
        constructor() {
          (0, o.rC)(this);
        }
        Reset(e, t) {
          if (
            ((this.m_model = e ? JSON.parse(JSON.stringify(e)) : null),
            (this.m_bDirty = !1),
            d.U.Get().SetCurEditLanguage(0),
            this.SetActiveStats(t),
            this.m_model &&
              ((this.m_model.required_tags &&
                !Array.isArray(this.m_model.required_tags)) ||
                (this.m_model.required_tags = {}),
              (this.m_model.categories &&
                !Array.isArray(this.m_model.categories)) ||
                (this.m_model.categories = {}),
              (this.m_model.categories.tags &&
                !Array.isArray(this.m_model.categories.tags)) ||
                (this.m_model.categories.tags = {}),
              (this.m_model.artist_statement &&
                !Array.isArray(this.m_model.artist_statement)) ||
                (this.m_model.artist_statement = {}),
              (this.m_model.primary_country &&
                !Array.isArray(this.m_model.primary_country)) ||
                (this.m_model.primary_country = {}),
              (this.m_model.press_contact &&
                !Array.isArray(this.m_model.press_contact)) ||
                (this.m_model.press_contact = {}),
              (this.m_model.build_store_page &&
                !Array.isArray(this.m_model.build_store_page)) ||
                (this.m_model.build_store_page = {}),
              (this.m_model.launch_demo &&
                !Array.isArray(this.m_model.launch_demo)) ||
                (this.m_model.launch_demo = {}),
              (this.m_model.do_anytime &&
                !Array.isArray(this.m_model.do_anytime)) ||
                (this.m_model.do_anytime = {}),
              (this.m_model.release_date_eligibility &&
                !Array.isArray(this.m_model.release_date_eligibility)) ||
                (this.m_model.release_date_eligibility = {}),
              (this.m_model.cooldown_group &&
                !Array.isArray(this.m_model.cooldown_group)) ||
                (this.m_model.cooldown_group = {}),
              (this.m_model.description &&
                !Array.isArray(this.m_model.description)) ||
                (this.m_model.description = {}),
              (this.m_model.help_text &&
                !Array.isArray(this.m_model.help_text)) ||
                (this.m_model.help_text = {}),
              (this.m_model.appeals_text &&
                !Array.isArray(this.m_model.appeals_text)) ||
                (this.m_model.appeals_text = {}),
              (this.m_model.special_event_description &&
                !Array.isArray(this.m_model.special_event_description)) ||
                (this.m_model.special_event_description = {}),
              (this.m_model.special_event_name &&
                !Array.isArray(this.m_model.special_event_name)) ||
                (this.m_model.special_event_name = {}),
              (this.m_model.event_title &&
                !Array.isArray(this.m_model.event_title)) ||
                (this.m_model.event_title = {}),
              (this.m_model.eligibility_text &&
                !Array.isArray(this.m_model.eligibility_text)) ||
                (this.m_model.eligibility_text = {}),
              (this.m_model.required_app_features &&
                !Array.isArray(this.m_model.required_app_features)) ||
                (this.m_model.required_app_features = {})),
            this.m_model && !this.m_model.event_start_date)
          ) {
            let e = new Date();
            e.setHours(10),
              e.setMinutes(0),
              e.setSeconds(0),
              (this.m_model.event_start_date = Math.floor(e.getTime() / 1e3));
          }
          if (this.m_model && !this.m_model.event_end_date) {
            let e = new Date();
            e.setDate(e.getDate() + 1),
              e.setHours(10),
              e.setMinutes(0),
              e.setSeconds(0),
              (this.m_model.event_end_date = Math.floor(e.getTime() / 1e3));
          }
          (this.m_dynamicSections = []),
            (this.m_mapDynamicSection = new Map()),
            this.m_model &&
              this.m_model.dynamic_sections &&
              this.m_model.dynamic_sections.forEach((e) => {
                let t = new I(e);
                this.m_dynamicSections.push(t),
                  this.m_mapDynamicSection.set(t.GetUniqueID(), t);
              }),
            (this.m_EmailDefinitions = []),
            (this.m_mapEmails = new Map()),
            this.m_model?.emails?.length > 0 &&
              this.m_model.emails.forEach((e) => {
                const t = new s.S4(this.GetFullName(), e);
                this.m_EmailDefinitions.push(t),
                  this.m_mapEmails.set(t.GetUniqueID(), t);
              }),
            this.LoadActiveStatsDetails();
        }
        AddEmailDraft(e) {
          this.m_model.emails || (this.m_model.emails = []),
            this.m_model.emails.push(e);
          const t = new s.S4(
            this.GetFullName(),
            this.m_model.emails[this.m_model.emails.length - 1],
          );
          return (
            this.m_EmailDefinitions.push(t),
            this.m_mapEmails.set(t.GetUniqueID(), t),
            this.SetDirty(!0),
            t
          );
        }
        SetActiveStats(e) {
          (this.rgActiveStats = e),
            this.GetActiveStatsChangeCallaback().Dispatch(e);
        }
        GetActiveStats() {
          return this.rgActiveStats;
        }
        async LoadActiveStatsDetails() {
          if (!this.m_model) return null;
          let e = g.De.PARTNER_BASE_URL + "optin/ajaxgetoptinstats";
          e +=
            "?active=true&pageids=" + encodeURIComponent(this.m_model.pageid);
          try {
            let t = await r().get(e, { withCredentials: !0, timeout: 2e4 });
            if (200 != t.status || !t.data || 1 != t.data.success) {
              return (
                "LoadActiveStatsDetails error: (" +
                (t.data ? "result: " + t.data.success : "status: " + t.status) +
                ")"
              );
            }
            if (t.data.msg) {
              const e = t.data.msg
                ? JSON.parse(JSON.stringify(t.data.msg))
                : null;
              this.SetActiveStats(e ? e[0] : null);
            }
          } catch (e) {
            return "Loading active stats returned " + e.strErrorMsg;
          }
          return null;
        }
        async RefreshActiveStats(e) {
          if (!this.m_model) return null;
          let t = g.De.PARTNER_BASE_URL + "optin/ajaxrefreshoptinstats";
          const a = new FormData();
          a.append("sessionid", g.De.SESSIONID),
            a.append("pageids", this.m_model.pageid);
          try {
            let n = await r().post(t, a, {
              withCredentials: !0,
              cancelToken: e || void 0,
              timeout: 12e4,
            });
            if (e && e.reason)
              return (
                console.log("RefreshingActiveStats Cancelled: " + e.reason),
                null
              );
            if (200 != n.status || !n.data || 1 != n.data.success) {
              let e =
                "Refresh optin stats error: (" +
                (n.data ? "result: " + n.data.success : "status: " + n.status) +
                ")";
              return (
                console.log("COptInAdminEditModel.RefresActiveStats: " + e), e
              );
            }
            if (n.data.msg) {
              let e = n.data.msg
                ? JSON.parse(JSON.stringify(n.data.msg))
                : null;
              this.SetActiveStats(e ? e[0] : null);
            }
          } catch (e) {
            let t = (0, p.l)(e);
            return (
              console.error(
                "COptInAdminEditModel.RefreshActiveStats error: " +
                  t.strErrorMsg,
                t,
              ),
              "Save Error: " + e.strErrorMsg
            );
          }
          return null;
        }
        rgOptionalSuggestedRequired = [];
        GetRequiredOptions() {
          return (
            this.rgOptionalSuggestedRequired.length ||
              (this.rgOptionalSuggestedRequired.push({
                label: "Optional",
                data: 0,
              }),
              this.rgOptionalSuggestedRequired.push({
                label: "Suggested",
                data: 1,
              }),
              this.rgOptionalSuggestedRequired.push({
                label: "Required",
                data: 2,
              })),
            this.rgOptionalSuggestedRequired
          );
        }
        rgEventTypes = [];
        GetCooldownGroupOptions() {
          if (!this.rgEventTypes.length)
            for (let e = 0; null != l.Sc[e]; e++)
              this.rgEventTypes.push({ label: l.Sc[e], data: e });
          return this.rgEventTypes;
        }
        rgGameTokens = [];
        GetGameTagOptions() {
          if (!this.rgGameTokens.length) {
            E.v
              .Get()
              .GetGameTags()
              .forEach((e) => {
                this.rgGameTokens.push({ label: e.label, value: e.value });
              });
          }
          return this.rgGameTokens;
        }
        GetSaleClanEventGID() {
          return this.m_model.sale_clan_event_gid;
        }
        GetSaleClanAccountID() {
          return this.m_model.sale_clan_account;
        }
        BHasAssociatedSaleEvent() {
          return this.m_model.sale_clan_account > 0;
        }
        GetSaleEditEventURL() {
          if (this.BHasAssociatedSaleEvent()) {
            const e = v.K.InitFromClanID(this.m_model.sale_clan_account);
            return (
              g.De.COMMUNITY_BASE_URL +
              "gid/" +
              e.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              this.m_model.sale_clan_event_gid +
              "?tab=sale"
            );
          }
          return "";
        }
        BRequiresSalePage() {
          return !1;
        }
        SetRequiresSalePage(e) {}
        GetRequiresSalePageType() {
          return 0;
        }
        SetRequiresSalePageType(e) {}
        SetSaleEvent(e, t) {
          (this.m_model.sale_clan_account == t &&
            this.m_model.sale_clan_event_gid == e) ||
            ((this.m_model.sale_clan_account = t),
            (this.m_model.sale_clan_event_gid = e),
            this.SetDirty(!0));
        }
        ClearSalePage() {
          (this.m_model.sale_clan_account = void 0),
            (this.m_model.sale_clan_event_gid = void 0),
            this.SetDirty(!0);
        }
      }
      (0, n.gn)([o.LO], b.prototype, "m_model", void 0),
        (0, n.gn)([o.LO], b.prototype, "m_bDirty", void 0),
        (0, n.gn)([o.LO], b.prototype, "rgActiveStats", void 0),
        (0, n.gn)([o.LO], b.prototype, "m_dynamicSections", void 0),
        (0, n.gn)([o.LO], b.prototype, "m_EmailDefinitions", void 0),
        (0, n.gn)([h.ak], b.prototype, "GetSpecialEventType", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetSpecialEventType", null),
        (0, n.gn)([h.ak], b.prototype, "GetCurSpecialEventName", null),
        (0, n.gn)([h.ak], b.prototype, "GetSpecialEventName", null),
        (0, n.gn)([h.ak], b.prototype, "SetCurSpecialEventName", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetSpecialEventName", null),
        (0, n.gn)([h.ak], b.prototype, "GetCurSpecialEventDescription", null),
        (0, n.gn)([h.ak], b.prototype, "GetSpecialEventDescription", null),
        (0, n.gn)([h.ak], b.prototype, "SetCurSpecialEventDescription", null),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetSpecialEventDescription",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "GetQandA1EventStartTime", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetQandA1EventStartTime", null),
        (0, n.gn)([h.ak], b.prototype, "GetQandA1URL", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetQandA1URL", null),
        (0, n.gn)([h.ak], b.prototype, "GetQandA2EventStartTime", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetQandA2EventStartTime", null),
        (0, n.gn)([h.ak], b.prototype, "GetQandA2URL", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetQandA2URL", null),
        (0, n.gn)([h.ak], b.prototype, "GetSpecialEventDocLink", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetSpecialEventDocLink", null),
        (0, n.gn)([h.ak], b.prototype, "GetSpecialEventTypeMax", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetSpecialEventTypeMax", null),
        (0, n.gn)([h.ak], b.prototype, "GetSpecialEventStartTime", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetSpecialEventStartTime", null),
        (0, n.gn)([h.ak], b.prototype, "GetSpecialEventEndTime", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetSpecialEventEndTime", null),
        (0, n.gn)([h.ak], b.prototype, "BHasSpecialEventTimeSet", null),
        (0, n.gn)([h.ak], b.prototype, "NCountSpecialEventBlocks", null),
        (0, n.gn)([o.aD.bound], b.prototype, "AddSpecialEventBlock", null),
        (0, n.gn)([o.aD.bound], b.prototype, "RemoveSpecialEventBlock", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetSpecialEventBlock", null),
        (0, n.gn)([h.ak], b.prototype, "GetAllSpecialEventBlocks", null),
        (0, n.gn)([o.aD.bound], b.prototype, "MoveSpecialEventblock", null),
        (0, n.gn)([h.ak], b.prototype, "BIsInSpecialEventBlockedTime", null),
        (0, n.gn)([h.ak], b.prototype, "BRequiresRemotePlayTogether", null),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetRequiresRemotePlayTogether",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "BRequiresVR", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetRequiresVR", null),
        (0, n.gn)(
          [h.ak],
          b.prototype,
          "BOptInRegistationOnlyShowSaveButton",
          null,
        ),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetOptInRegistationOnlyShowSaveButton",
          null,
        ),
        (0, n.gn)(
          [h.ak],
          b.prototype,
          "BIsAdditionalFeaturingSectionEnabled",
          null,
        ),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetAdditionalFeaturingSectionEnabled",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "BIsCollectTrailerPermissions", null),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetCollectTrailerPermissions",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "BIsCollectDemoPermissions", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetCollectDemoPermissions", null),
        (0, n.gn)([h.ak], b.prototype, "BIsCollectGameProfileIntent", null),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetCollectGameProfileIntent",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "BHasCollectDemoDeadlineDate", null),
        (0, n.gn)([h.ak], b.prototype, "GetCollectDemoDeadlineDate", null),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetCollectDemoDeadlineDate",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "BHasSurveyEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "GetSurveyType", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetSurveyType", null),
        (0, n.gn)([h.ak], b.prototype, "GetCurEventTitle", null),
        (0, n.gn)([h.ak], b.prototype, "GetEventTitle", null),
        (0, n.gn)([h.ak], b.prototype, "SetCurEventTitle", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetEventTitle", null),
        (0, n.gn)([h.ak], b.prototype, "GetCurEligibilityText", null),
        (0, n.gn)([h.ak], b.prototype, "GetEligibilityText", null),
        (0, n.gn)([h.ak], b.prototype, "SetCurEligibilityText", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetEligibilityText", null),
        (0, n.gn)([h.ak], b.prototype, "GetCurOptInRegistrationTitle", null),
        (0, n.gn)([h.ak], b.prototype, "GetOptInRegistrationTitle", null),
        (0, n.gn)([h.ak], b.prototype, "SetCurOptInRegistrationTitle", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetOptInRegistrationTitle", null),
        (0, n.gn)([h.ak], b.prototype, "GetCurOptInRegistrationCheckbox", null),
        (0, n.gn)([h.ak], b.prototype, "GetOptInRegistrationCheckbox", null),
        (0, n.gn)([h.ak], b.prototype, "SetCurOptInRegistrationCheckbox", null),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetOptInRegistrationCheckbox",
          null,
        ),
        (0, n.gn)(
          [h.ak],
          b.prototype,
          "BHasOptInRegistrationTitleOrCheckbox",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "BIsOptInEnabled", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetOptInEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "GetOptInType", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetOptInType", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetPublicEventURL", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetAssetSetDocFile", null),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetPublicDocumentationWikiURL",
          null,
        ),
        (0, n.gn)([o.aD.bound], b.prototype, "SetPublicEventID", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetEventStartTime", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetEventEndTime", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetEventTrailerDropDate", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetOptInDeadlineTime", null),
        (0, n.gn)([h.ak], b.prototype, "BIsInvitationOnly", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetInvititationOnly", null),
        (0, n.gn)([h.ak], b.prototype, "EVisibility", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetVisibility", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetReleaseGameEligible", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetUnreleaseGameEligible", null),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetEligibleReleaseBeforeDate",
          null,
        ),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetEligibleReleaseAfterDate",
          null,
        ),
        (0, n.gn)([o.aD.bound], b.prototype, "SetCooldownGroupType", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetCooldownRequired", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetCooldownDays", null),
        (0, n.gn)([h.ak], b.prototype, "OnChangeRequiredTags", null),
        (0, n.gn)(
          [h.ak],
          b.prototype,
          "GetAppOfficialWeightedTagRankToInclude",
          null,
        ),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetAppOfficialWeightedTagRankToInclude",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "GetCurDescription", null),
        (0, n.gn)([h.ak], b.prototype, "GetDescription", null),
        (0, n.gn)([h.ak], b.prototype, "SetCurDescription", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetDescription", null),
        (0, n.gn)([h.ak], b.prototype, "GetCurHelpText", null),
        (0, n.gn)([h.ak], b.prototype, "GetHelpText", null),
        (0, n.gn)([h.ak], b.prototype, "SetCurHelpText", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetHelpText", null),
        (0, n.gn)([h.ak], b.prototype, "GetCurAppealsText", null),
        (0, n.gn)([h.ak], b.prototype, "GetAppealsText", null),
        (0, n.gn)([h.ak], b.prototype, "SetCurAppealsText", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetAppealsText", null),
        (0, n.gn)([h.ak], b.prototype, "GetCurPruningCriteriaText", null),
        (0, n.gn)([h.ak], b.prototype, "GetPruningCriteriaText", null),
        (0, n.gn)([h.ak], b.prototype, "SetCurPruningCriteriaText", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetPruningCriteriaText", null),
        (0, n.gn)([h.ak], b.prototype, "GetPointShopPriorityApps", null),
        (0, n.gn)([h.ak], b.prototype, "SetPointShopPriorityApps", null),
        (0, n.gn)([h.ak], b.prototype, "GetPointShopIncludedApps", null),
        (0, n.gn)([h.ak], b.prototype, "SetPointShopIncludedApps", null),
        (0, n.gn)([h.ak], b.prototype, "GetPointShopAdvertisingAppID", null),
        (0, n.gn)([h.ak], b.prototype, "SetPointShopAdvertisingAppID", null),
        (0, n.gn)([h.ak], b.prototype, "GetPointShopRadialColorOverride", null),
        (0, n.gn)([h.ak], b.prototype, "SetPointShopRadialColorOverride", null),
        (0, n.gn)(
          [h.ak],
          b.prototype,
          "GetPointShopRadialEdgeColorOverride",
          null,
        ),
        (0, n.gn)(
          [h.ak],
          b.prototype,
          "SetPointShopRadialEdgeColorOverride",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "GetLocalizedOptInBanner", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetLocalizedOptInBanner", null),
        (0, n.gn)([h.ak], b.prototype, "DeleteLocalizedOptInBanner", null),
        (0, n.gn)([h.ak], b.prototype, "BIsCategoriesEnabled", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetCategoriesEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "GetCategoriesRequired", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetCategoriesRequired", null),
        (0, n.gn)([h.ak], b.prototype, "OnChangeCategoryTags", null),
        (0, n.gn)([h.ak], b.prototype, "BIsArtistStatementEnabled", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetArtistStatementEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "GetArtistStatementRequired", null),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetArtistStatementRequired",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "BIsPrimaryCountryEnabled", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetPrimaryCountryEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "GetPrimaryCountryRequired", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetPrimaryCountryRequired", null),
        (0, n.gn)([h.ak], b.prototype, "BIsPressContactEnabled", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetPressContactEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "GetPressContactRequired", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetPressContactRequired", null),
        (0, n.gn)([h.ak], b.prototype, "BIsBeforeYouOptInEnabled", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetBeforeYouOptInEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "BIsBuildYourStorePageEnabled", null),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetBuildYourStorePageEnabled",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "GetBuildYourStorePageRequired", null),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetBuildYourStorePageRequired",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "GetStorePageText", null),
        (0, n.gn)([h.ak], b.prototype, "SetStorePageText", null),
        (0, n.gn)([h.ak], b.prototype, "BIsTaggingWizardEnabled", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetTaggingWizardEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "BIsLaunchYourDemoEnabled", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetLaunchYourDemoEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "GetLaunchYourDemoRequired", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetLaunchYourDemoRequired", null),
        (0, n.gn)([h.ak], b.prototype, "GetLaunchYourDemoDueDate", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetLaunchYourDemoDueDate", null),
        (0, n.gn)([h.ak], b.prototype, "BIsDoAnytimeEnabled", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetDoAnytimeEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "BIsLivestreamEnabled", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetLivestreamEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "BIsChatSessionEnabled", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetChatSessionEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "BIsAnytimeTaggingWizardEnabled", null),
        (0, n.gn)(
          [o.aD.bound],
          b.prototype,
          "SetAnytimeTaggingWizardEnabled",
          null,
        ),
        (0, n.gn)([h.ak], b.prototype, "BIsEnterDiscountsEnabled", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetEnterDiscountsEnabled", null),
        (0, n.gn)([h.ak], b.prototype, "GetDiscountEventID", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetDiscountEventID", null),
        (0, n.gn)([h.ak], b.prototype, "GetExternalAppReviewers", null),
        (0, n.gn)([o.aD.bound], b.prototype, "SetExternalAppReviewers", null),
        (0, n.gn)([o.aD.bound], b.prototype, "RemoveExternalAppReviewAt", null),
        (0, n.gn)([o.aD.bound], b.prototype, "BAddExternalAppReviewAt", null),
        (0, n.gn)([o.aD.bound], b.prototype, "AddDynamicSection", null),
        (0, n.gn)([o.aD.bound], b.prototype, "DeleteDynamicSection", null),
        (0, n.gn)([h.ak], b.prototype, "BHasLanguageData", null),
        (0, n.gn)([o.aD], b.prototype, "Reset", null),
        (0, n.gn)([o.aD.bound], b.prototype, "AddEmailDraft", null),
        (0, n.gn)([h.ak], b.prototype, "GetRequiredOptions", null),
        (0, n.gn)([h.ak], b.prototype, "GetCooldownGroupOptions", null),
        (0, n.gn)([h.ak], b.prototype, "GetGameTagOptions", null),
        (0, n.gn)([h.ak], b.prototype, "SetRequiresSalePage", null),
        (0, n.gn)([h.ak], b.prototype, "SetRequiresSalePageType", null),
        (0, n.gn)([h.ak], b.prototype, "SetSaleEvent", null),
        (0, n.gn)([h.ak], b.prototype, "ClearSalePage", null);
      class I {
        m_section = void 0;
        constructor(e) {
          (0, o.rC)(this), (this.m_section = e);
        }
        GetUniqueID() {
          return this.m_section.unique_id;
        }
        GetName() {
          return (
            (0, l.Xj)(
              this.m_section.name,
              d.U.Get().GetCurEditLanguage(),
              "",
            ) ?? ""
          );
        }
        GetNameWithFallback(e) {
          return (
            (0, l.Xj)(this.m_section.name, d.U.Get().GetCurEditLanguage(), e) ??
            ""
          );
        }
        GetDescription() {
          return (
            (0, l.Xj)(
              this.m_section.description,
              d.U.Get().GetCurEditLanguage(),
              "",
            ) ?? ""
          );
        }
        GetInputStyle() {
          return this.m_section.input_style;
        }
        GetColumnCount() {
          return this.m_section.columns;
        }
        GetLists() {
          return this.m_section.lists;
        }
        GetListTitle(e) {
          return (
            (0, l.Xj)(
              this.m_section.lists[e].option_title,
              d.U.Get().GetCurEditLanguage(),
            ) ?? ""
          );
        }
        GetListByIndex(e) {
          return this.m_section.lists[e];
        }
        GetListByID(e) {
          const t = this.m_section.lists.filter((t) => t.unique_id == e);
          return t.length > 0 ? t[0] : null;
        }
        GetItemAtListAndIndex(e, t) {
          return this.m_section.lists[e].options[t];
        }
        GetModel() {
          return this.m_section;
        }
        GetListCount() {
          return this.m_section.lists ? this.m_section.lists.length : 0;
        }
        BIsValveOnlySection() {
          return this.m_section.valve_only;
        }
        SetName(e, t) {
          if ((0, l.Xj)(this.m_section.name, t) != e) {
            const a = (0, m.j_)(t, "english");
            this.m_section.name || (this.m_section.name = {}),
              (this.m_section.name[a] = e),
              b.Get().SetDirty(!0);
          }
        }
        SetDescription(e, t) {
          if ((0, l.Xj)(this.m_section.description, t) != e) {
            const a = (0, m.j_)(t, "english");
            this.m_section.description || (this.m_section.description = {}),
              (this.m_section.description[a] = e),
              b.Get().SetDirty(!0);
          }
        }
        SetDescriptionWithCurLang(e) {
          this.SetDescription(e, d.U.Get().GetCurEditLanguage());
        }
        SetInputStyle(e) {
          this.m_section.input_style != e &&
            ((this.m_section.input_style = e),
            "text_input" == e &&
              ((this.m_section.lists = this.m_section.lists.splice(
                1,
                this.m_section.lists.length,
              )),
              0 == this.m_section.lists.length && this.AddOptionList()),
            b.Get().SetDirty(!0));
        }
        SetColumnCount(e) {
          this.m_section.columns != e &&
            ((this.m_section.columns = e), b.Get().SetDirty(!0));
        }
        SetValveOnly(e) {
          this.m_section.valve_only != e &&
            ((this.m_section.valve_only = e), b.Get().SetDirty(!0));
        }
        AddItemToList(e, t, a, n) {
          let i = this.m_section.lists.findIndex((t) => t.unique_id === e);
          this.AddItemToListByIndex(i, t, a);
        }
        AddItemToListByIndex(e, t, a, n) {
          if (!(e >= 0 && e <= this.m_section.lists.length))
            throw "Adding item to a list that does not exist: " + e;
          {
            const i = (0, m.j_)(a, "english");
            this.m_section.lists[e].options ||
              (this.m_section.lists[e].options = []);
            const r = {
              text: {},
              unique_id: b.GenerateUniqueIDForListItem(
                this.m_section.lists[e].options,
              ),
            };
            (r.text[i] = t),
              n && ((r.tooltip = {}), (r.tooltip[i] = n)),
              this.m_section.lists[e].options.push(r),
              b.Get().SetDirty(!0);
          }
        }
        RemoveListItemByID(e, t) {
          let a = this.m_section.lists.findIndex((t) => t.unique_id === e);
          -1 !== a &&
            t < this.m_section.lists[a].options.length &&
            (this.m_section.lists[a].options.splice(t, 1),
            b.Get().SetDirty(!0));
        }
        RemoveListItem(e, t) {
          e < this.m_section.lists.length &&
            t < this.m_section.lists[e].options.length &&
            (this.m_section.lists[e].options.splice(t, 1),
            b.Get().SetDirty(!0));
        }
        MoveListItem(e, t, a) {
          e < this.m_section.lists.length &&
            ((0, u.hV)(this.m_section.lists[e].options, t, a),
            b.Get().SetDirty(!0));
        }
        UpdateListItemText(e, t, a, n) {
          let i = this.m_section.lists.findIndex((t) => t.unique_id === e);
          if (
            -1 !== i &&
            t < this.m_section.lists[i].options.length &&
            (0, l.Xj)(this.m_section.lists[i].options[t].text, n) != a
          ) {
            const e = (0, m.j_)(n, "english");
            (this.m_section.lists[i].options[t].text[e] = a),
              b.Get().SetDirty(!0);
          }
        }
        UpdateListItemTooltip(e, t, a, n) {
          let i = this.m_section.lists.findIndex((t) => t.unique_id === e);
          if (
            -1 !== i &&
            t < this.m_section.lists[i].options.length &&
            (0, l.Xj)(this.m_section.lists[i].options[t].tooltip, n) != a
          ) {
            const e = (0, m.j_)(n, "english");
            this.m_section.lists[i].options[t].tooltip ||
              (this.m_section.lists[i].options[t].tooltip = {}),
              (this.m_section.lists[i].options[t].tooltip[e] = a),
              b.Get().SetDirty(!0);
          }
        }
        UpdateListItemTextByKV(e, t, a, n) {
          if (
            e >= 0 &&
            e < this.m_section.lists.length &&
            t >= 0 &&
            t < this.m_section.lists[e].options.length
          ) {
            let i = this.m_section.lists[e].options[t],
              r = !1;
            for (let e = 0; e < 31; ++e) {
              if ((0, l.Xj)(a, e) != (0, l.Xj)(i.text, e)) {
                const t = (0, m.j_)(e);
                (i.text[t] = a[t]), (r = !0);
              }
              if (
                n &&
                (i.tooltip || (i.tooltip = {}),
                (0, l.Xj)(n, e) != (0, l.Xj)(i.tooltip, e))
              ) {
                const t = (0, m.j_)(e);
                (i.tooltip[t] = n[t]), (r = !0);
              }
            }
            r && b.Get().SetDirty(!0);
          }
        }
        AddOptionList() {
          const e = {
            options: [],
            unique_id: b.GenerateUniqueIDForOptionListSection(
              this.m_section.lists,
            ),
          };
          this.m_section.lists.push(e), b.Get().SetDirty(!0);
        }
        DeleteOptionList(e) {
          let t = this.m_section.lists.findIndex((t) => t.unique_id === e);
          t &&
            (this.m_section.lists.splice(t, 1),
            0 == this.m_section.lists.length &&
              (this.m_section.lists = [
                {
                  options: [],
                  unique_id: b.GenerateUniqueIDForOptionListSection(),
                },
              ]),
            b.Get().SetDirty(!0));
        }
        SetListTitle(e, t, a) {
          let n = this.m_section.lists.findIndex((t) => t.unique_id === e);
          this.SetListTitleByListIndex(n, t, a);
        }
        SetListTitleByListIndex(e, t, a) {
          if (
            e >= 0 &&
            e < this.m_section.lists.length &&
            (0, l.Xj)(this.m_section.lists[e].option_title, a) != t
          ) {
            const n = (0, m.j_)(a, "english");
            this.m_section.lists[e].option_title ||
              (this.m_section.lists[e].option_title = {}),
              (this.m_section.lists[e].option_title[n] = t),
              b.Get().SetDirty(!0);
          }
        }
      }
      function C() {
        const [e, t] = (0, c.useState)(b.Get().GetActiveStats());
        return (0, h.Qg)(b.Get().GetActiveStatsChangeCallaback(), t), e;
      }
      function k() {
        const e = C();
        return (0, c.useMemo)(() => {
          const t = JSON.parse(e?.json_eligible || "[]"),
            a = {
              jsonEligible: Array.isArray(t) ? t : [],
              jsonOptedIn: JSON.parse(e?.json_opted_in || "[]"),
              jsonOptedOut: JSON.parse(e?.json_opted_out || "[]"),
              jsonInvited: JSON.parse(e?.json_invited || "[]"),
              jsonPruned: JSON.parse(e?.json_pruned || "[]"),
              jsonFeatured: JSON.parse(e?.json_featured || "[]"),
              jsonPendingReview: JSON.parse(e?.json_pending_review || "[]"),
            };
          return (
            (a.setEligible = new Set(a.jsonEligible.map((e) => e.appid))),
            (a.setOptedIn = new Set(a.jsonOptedIn.map((e) => e.appid))),
            (a.setOptedOut = new Set(a.jsonOptedOut.map((e) => e.appid))),
            (a.setInvited = new Set(a.jsonInvited.map((e) => e.appid))),
            (a.setPruned = new Set(a.jsonPruned.map((e) => e.appid))),
            (a.setFeatured = new Set(a.jsonFeatured.map((e) => e.appid))),
            (a.setPendingReview = new Set(
              a.jsonPendingReview.map((e) => e.appid),
            )),
            a
          );
        }, [e]);
      }
      (0, n.gn)([h.ak], I.prototype, "GetName", null),
        (0, n.gn)([h.ak], I.prototype, "GetDescription", null),
        (0, n.gn)([o.aD.bound], I.prototype, "SetName", null),
        (0, n.gn)([o.aD.bound], I.prototype, "SetDescription", null),
        (0, n.gn)([o.aD.bound], I.prototype, "SetDescriptionWithCurLang", null),
        (0, n.gn)([o.aD.bound], I.prototype, "SetInputStyle", null),
        (0, n.gn)([o.aD.bound], I.prototype, "SetColumnCount", null),
        (0, n.gn)([o.aD.bound], I.prototype, "SetValveOnly", null),
        (0, n.gn)([o.aD.bound], I.prototype, "AddItemToList", null),
        (0, n.gn)([o.aD.bound], I.prototype, "AddItemToListByIndex", null),
        (0, n.gn)([o.aD], I.prototype, "RemoveListItemByID", null),
        (0, n.gn)([o.aD], I.prototype, "RemoveListItem", null),
        (0, n.gn)([o.aD], I.prototype, "MoveListItem", null),
        (0, n.gn)([o.aD], I.prototype, "UpdateListItemText", null),
        (0, n.gn)([o.aD], I.prototype, "UpdateListItemTooltip", null),
        (0, n.gn)([o.aD], I.prototype, "UpdateListItemTextByKV", null),
        (0, n.gn)([o.aD.bound], I.prototype, "AddOptionList", null),
        (0, n.gn)([o.aD], I.prototype, "DeleteOptionList", null),
        (0, n.gn)([o.aD], I.prototype, "SetListTitle", null),
        (0, n.gn)([o.aD], I.prototype, "SetListTitleByListIndex", null);
    },
    81070: (e, t, a) => {
      "use strict";
      a.d(t, { r: () => d, v: () => m });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(4771),
        s = a(54842),
        o = a(16649),
        c = a(37563);
      class m {
        constructor() {
          (0, s.rC)(this);
        }
        static s_OptInAdmin;
        m_optInDef = new Map();
        m_activeOptInDef = new Array();
        m_archivedOptInDef = new Array();
        m_game_tags = [];
        m_optin_stats = {};
        m_appReviewOptInDef = new Array();
        m_appealsReviewOptInDef = new Array();
        m_mapHasUnpublishedChanges = new Map();
        m_mapOptInLoader = new Map();
        GetActiveOptIn() {
          return this.m_activeOptInDef;
        }
        GetArchivedOptIn() {
          return this.m_archivedOptInDef;
        }
        GetAppReviewOptIn() {
          return this.m_appReviewOptInDef;
        }
        GetAppealReviewOptIn() {
          return this.m_appealsReviewOptInDef;
        }
        GetGameTags() {
          return this.m_game_tags;
        }
        GetOptInStats() {
          return this.m_optin_stats;
        }
        BHasUnpublishedChagnes(e) {
          return this.m_mapHasUnpublishedChanges.get(e);
        }
        SetUnpublishedChanges(e) {
          this.m_mapHasUnpublishedChanges.set(e, !0);
        }
        GetDefinition(e) {
          return this.m_optInDef.get(e);
        }
        SetOptInDefinition(e) {
          this.m_optInDef.set(e.pageid, e);
          let t = this.m_activeOptInDef.findIndex((t) => t.pageid == e.pageid);
          -1 != t &&
            (this.m_activeOptInDef.splice(t, 1),
            this.m_activeOptInDef.unshift(e)),
            (t = this.m_archivedOptInDef.findIndex(
              (t) => t.pageid == e.pageid,
            )),
            -1 != t &&
              (this.m_archivedOptInDef.splice(t, 1),
              this.m_archivedOptInDef.unshift(e));
        }
        createdPageId;
        createPageErrMsg;
        GetCreatedPageId() {
          return this.createdPageId;
        }
        GetCreatePageErrMsg() {
          return this.createPageErrMsg;
        }
        async LoadOptInAdminDef(e) {
          return (
            this.m_mapOptInLoader.has(e) ||
              this.m_mapOptInLoader.set(e, this.InternalLoadOptInAdminDef(e)),
            this.m_mapOptInLoader.get(e)
          );
        }
        async InternalLoadOptInAdminDef(e) {
          let t = null;
          try {
            const a = `${c.De.PARTNER_BASE_URL}optin/ajaxadmingetdefandstats`,
              n = { pageid: e, sessionid: c.De.SESSIONID },
              i = await r().get(a, { params: n });
            if (200 == i?.status && i.data?.def && i.data.stats)
              return (
                this.InternalAddOptInDef(i.data.def),
                (this.m_optin_stats[e] = i.data.stats),
                !0
              );
            t = (0, o.l)(i);
          } catch (e) {
            t = (0, o.l)(e);
          }
          return (
            console.error(
              "COptInAdmin::LoadOptInAdminDef failed " + t.strErrorMsg,
              t,
            ),
            !1
          );
        }
        async CreatePage(e, t) {
          (this.createdPageId = ""), (this.createPageErrMsg = "");
          let a = c.De.PARTNER_BASE_URL + "/admin/store/pagecreate";
          const n = new FormData();
          n.append("sessionid", c.De.SESSIONID),
            n.append("action", "createsale"),
            n.append("id", e),
            n.append("is_optin", "true");
          try {
            let e = await r().post(a, n, {
              withCredentials: !0,
              cancelToken: t,
            });
            if (t.reason)
              return (
                console.log(
                  "COptInAdminStore.CreatePage cancelled: " + t.reason,
                ),
                null
              );
            if (200 != e.status || !e.data || 1 != e.data.success) {
              let t =
                "Save Error: (" +
                (e.data ? "result: " + e.data.success : "status: " + e.status) +
                ")";
              return (
                e.data && e.data.msg && (t += " Error Message: " + e.data.msg),
                (this.createPageErrMsg = e.data.msg),
                t
              );
            }
            this.createdPageId = e.data.msg;
          } catch (e) {
            let t = (0, o.l)(e);
            return (
              console.error(
                "OptinAdminStore.CreatePage error: " + t.strErrorMsg,
                t,
              ),
              (this.createPageErrMsg = t.strErrorMsg),
              "Page creation error: " + e.strErrorMsg
            );
          }
          return null;
        }
        static Get() {
          return (
            m.s_OptInAdmin ||
              ((m.s_OptInAdmin = new m()),
              ("dev" != c.De.WEB_UNIVERSE && "beta" != c.De.WEB_UNIVERSE) ||
                (window.g_OptInAdminStore = m.s_OptInAdmin),
              m.s_OptInAdmin.Init()),
            m.s_OptInAdmin
          );
        }
        InternalAddOptInDef(e) {
          this.m_optInDef.set(e.pageid, e);
          const t = Math.floor(Date.now() / 1e3);
          e.event_end_date < t
            ? this.m_archivedOptInDef.push(e)
            : this.m_activeOptInDef.push(e),
            !e.sale_optin_enabled &&
            e.event_start_date &&
            e.event_start_date > t
              ? this.m_appReviewOptInDef.push(e)
              : e.sale_optin_enabled &&
                e.event_end_date > t &&
                this.m_appealsReviewOptInDef.push(e);
        }
        Init() {
          let e = JSON.parse(
            JSON.stringify((0, c.kQ)("optin_game_tags", "application_config")),
          );
          if (e)
            for (let t of Object.keys(e))
              this.m_game_tags.push({ label: e[t], value: t });
          let t = JSON.parse(
            JSON.stringify((0, c.kQ)("optin_page_stats", "application_config")),
          );
          if (t)
            for (let e of Object.keys(t)) {
              let a = t[e].pageid;
              this.m_optin_stats[a] = t[e];
            }
          let a = (0, c.kQ)("optin_admin_pages", "application_config");
          this.ValidateStoreDefault(a)
            ? (a.forEach((e) => {
                (0, l.MH)(e);
              }),
              a.map((e) => {
                this.InternalAddOptInDef(e);
              }),
              "dev" == c.De.WEB_UNIVERSE &&
                console.log(
                  "Loading OptIn Definitions: " + this.m_optInDef.size,
                  this.m_optInDef,
                ))
            : "dev" == c.De.WEB_UNIVERSE &&
              console.error("COptInAdmin.Init: Failed to load defintion", a);
          const n = (0, c.kQ)("optin_has_in_progress", "application_config");
          for (let e in n) this.m_mapHasUnpublishedChanges.set(e, n[e]);
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) && "string" == typeof t[0].pageid
          );
        }
      }
      function d(e) {
        return m.Get().GetDefinition(e);
      }
      (0, n.gn)([s.LO], m.prototype, "m_mapHasUnpublishedChanges", void 0),
        (0, n.gn)([s.aD], m.prototype, "Init", null);
    },
    90960: (e, t, a) => {
      "use strict";
      a.d(t, { eD: () => g, q_: () => _ });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(47427),
        s = a(16649),
        o = a(16997),
        c = a(45492),
        m = a(20417),
        d = a(65255),
        u = a(82756);
      class p {
        m_mapAppToPackages = new Map();
        m_mapAppUpdateCallback = new Map();
        m_mapAppLoadPromise = new Map();
        m_mapPackageToUSCent = new Map();
        m_mapPackageListToPromise = new Map();
        m_mapPackageUpdateCallback = new Map();
        GetAllPackagesForApp(e) {
          return this.m_mapAppToPackages.get(e);
        }
        GetPackageListUpdateCallback(e) {
          return (
            this.m_mapAppUpdateCallback.has(e) ||
              this.m_mapAppUpdateCallback.set(e, new c.pB()),
            this.m_mapAppUpdateCallback.get(e)
          );
        }
        GetSinglePackageUpdateCallback(e) {
          return (
            this.m_mapPackageUpdateCallback.has(e) ||
              this.m_mapPackageUpdateCallback.set(e, new c.pB()),
            this.m_mapPackageUpdateCallback.get(e)
          );
        }
        GetPackageUSCentPrice(e) {
          return this.m_mapPackageToUSCent.get(e) || 0;
        }
        async LoadAppPackages(e) {
          return e
            ? this.m_mapAppToPackages.has(e)
              ? this.m_mapAppToPackages.get(e)
              : (this.m_mapAppLoadPromise.has(e) ||
                  this.m_mapAppLoadPromise.set(
                    e,
                    this.InternalLoadAppPackages(e),
                  ),
                this.m_mapAppLoadPromise.get(e))
            : null;
        }
        async InternalLoadAppPackages(e) {
          const t = `${d.De.PARTNER_BASE_URL}/packages/ajaxgetpackageforapp`;
          let a = null;
          try {
            const n = { appid: e, bExcludeCommercial: !0 },
              i = await r().get(t, { params: n });
            if (1 == i?.data?.success) {
              i.data.packageWithUSCents.forEach((e) => {
                this.m_mapPackageToUSCent.set(e.packageid, e.uscent);
              });
              const t = i.data.packages;
              return (
                this.m_mapAppToPackages.set(e, t),
                this.GetPackageListUpdateCallback(e).Dispatch(t),
                t
              );
            }
            a = { response: i };
          } catch (e) {
            a = e;
          }
          const n = (0, s.l)(a);
          return (
            console.error(
              "CPartnerSitePackageStore Could not load packages for app " + e,
              n.strErrorMsg,
              n,
            ),
            []
          );
        }
        static s_Singleton;
        static Get() {
          return (
            p.s_Singleton ||
              ((p.s_Singleton = new p()),
              p.s_Singleton.Init(),
              "dev" == d.De.WEB_UNIVERSE &&
                (window.g_PartnerSitePackageStore = p.s_Singleton)),
            p.s_Singleton
          );
        }
        Init() {
          const e = (0, u.ip)("app_to_package_lists", "application_config");
          e &&
            Object.keys(e).forEach((t) => {
              const a = Number.parseInt(t);
              this.m_mapAppToPackages.set(a, e[a]);
            });
          const t = (0, u.ip)("package_with_usd_cents", "application_config");
          t &&
            t.forEach((e) => {
              this.m_mapPackageToUSCent.set(e.packageid, e.usd_cents);
            });
        }
      }
      function _(e) {
        const t = (0, m.NW)();
        return (
          (0, l.useEffect)(() => {
            p.Get().LoadAppPackages(e);
          }, [e]),
          (0, m.Qg)(p.Get().GetPackageListUpdateCallback(e), () => t()),
          p.Get().GetAllPackagesForApp(e)
        );
      }
      function h(e) {
        const t = p.Get().GetAllPackagesForApp(e);
        if (t?.length > 0) {
          let e = null;
          return (
            t.forEach((t) => {
              let a = (function (e) {
                return p.Get().GetPackageUSCentPrice(e);
              })(t);
              a && (!e || e > a) && (e = a);
            }),
            e
          );
        }
        return null;
      }
      function g(e) {
        const t = (0, m.NW)();
        return (
          (0, m.Qg)(p.Get().GetPackageListUpdateCallback(e), () => t()), h(e)
        );
      }
      (0, n.gn)([o.a], p.prototype, "LoadAppPackages", null),
        (0, n.gn)([o.a], p.prototype, "InternalLoadAppPackages", null);
    },
    83831: (e, t, a) => {
      "use strict";
      a.d(t, { DV: () => u, Tt: () => m, kr: () => p });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(47427),
        s = a(16649),
        o = a(37563),
        c = a(16997);
      function m() {
        return 2 == o.De.EUNIVERSE ? 12 : 1;
      }
      class d {
        m_mapOptInToPartners = new Map();
        m_mapPromises = new Map();
        GetPartnerInfo(e) {
          return this.m_mapOptInToPartners.get(e);
        }
        BHasPartnerInfoLoad(e) {
          return this.m_mapOptInToPartners.has(e);
        }
        async FindPartnerByName(e) {
          return (
            this.m_mapPromises.has(e) ||
              this.m_mapPromises.set(e, this.InternalFindPartnerByName(e)),
            this.m_mapPromises.get(e)
          );
        }
        async InternalFindPartnerByName(e) {
          const t = new Array();
          try {
            const a = o.De.PARTNER_BASE_URL + "pub/ajaxfindpublishers",
              n = {
                sessionid: o.De.SESSIONID,
                searchtext: e,
                origin: self.origin,
              },
              i = await r().get(a, { params: n });
            200 == i?.status && 1 == i?.data?.success
              ? i.data.publishers.forEach((e) => {
                  const a = {
                    partnerid: e.publisherid,
                    name: e.publishername,
                    partner_url:
                      o.De.PARTNER_BASE_URL + `pub/publisher/${e.publisherid}/`,
                    contacts: e.contacts,
                  };
                  this.m_mapOptInToPartners.set(e.publisherid, a), t.push(a);
                })
              : console.log(
                  `CPartnerInfoStore.FindPartnerByName failed with status ${i?.status} eresult ${i?.data?.success} and msg ${i?.data?.msg}`,
                );
          } catch (e) {
            const t = (0, s.l)(e);
            console.error(
              "CPartnerInfoStore.FindPartnerByName failed add: " +
                t.strErrorMsg,
              t,
            );
          }
          return t;
        }
        async LoadPartnerInfo(e) {
          if (this.m_mapOptInToPartners.has(e))
            return this.m_mapOptInToPartners.get(e);
          await this.FindPartnerByName("" + e);
          return (
            this.BHasPartnerInfoLoad(e) ||
              this.m_mapOptInToPartners.set(e, null),
            this.m_mapOptInToPartners.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return (
            d.s_Singleton ||
              ((d.s_Singleton = new d()),
              ("dev" != o.De.WEB_UNIVERSE && "beta" != o.De.WEB_UNIVERSE) ||
                (window.g_PartnerInfoStore = d.s_Singleton)),
            d.s_Singleton
          );
        }
        constructor() {
          let e = JSON.parse(
            JSON.stringify((0, o.kQ)("partner_info", "application_config")),
          );
          this.ValidateStoreDefault(e) &&
            (e.forEach((e) => this.m_mapOptInToPartners.set(e.partnerid, e)),
            "dev" == o.De.WEB_UNIVERSE &&
              console.log("DEV_DEUBG: CPartnerInfoStore::constructor", e));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].partnerid &&
            "string" == typeof t[0].name
          );
        }
      }
      function u(e) {
        const [t, a] = l.useState(() => d.Get().GetPartnerInfo(e));
        return (
          l.useEffect(() => {
            !d.Get().BHasPartnerInfoLoad(e) && e > 0
              ? d
                  .Get()
                  .LoadPartnerInfo(e)
                  .then((e) => a(e))
              : d.Get().BHasPartnerInfoLoad(e) &&
                t?.partnerid != e &&
                a(d.Get().GetPartnerInfo(e));
          }, [e, t]),
          [t]
        );
      }
      function p() {
        return { fnFindPartnerByName: d.Get().FindPartnerByName };
      }
      (0, n.gn)([c.a], d.prototype, "FindPartnerByName", null);
    },
    2467: (e, t, a) => {
      "use strict";
      a.d(t, { AV: () => g, XB: () => h, cm: () => _ });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(47427),
        s = a(35427),
        o = a(16649),
        c = a(16997),
        m = a(45492),
        d = a(20417),
        u = a(37563);
      class p {
        m_mapUsersBySteamID = new Map();
        m_promiseLoadUsersBySteamID = new Map();
        m_mapUserToCallback = new Map();
        static s_globalSingletonStore;
        static Get() {
          return (
            p.s_globalSingletonStore ||
              ((p.s_globalSingletonStore = new p()),
              p.s_globalSingletonStore.Init()),
            p.s_globalSingletonStore
          );
        }
        Init() {}
        BHasUserInfo(e) {
          return this.m_mapUsersBySteamID.has(e);
        }
        GetUserInfo(e) {
          return this.m_mapUsersBySteamID.get(e);
        }
        GetUserInfoCallbackup(e) {
          return (
            this.m_mapUserToCallback.has(e) ||
              this.m_mapUserToCallback.set(e, new m.pB()),
            this.m_mapUserToCallback.get(e)
          );
        }
        async LoadUserInfo(e) {
          const t = [],
            a = new Array();
          for (const n of e)
            this.m_mapUsersBySteamID.has(n) ||
              (this.m_promiseLoadUsersBySteamID.has(n)
                ? a.push(this.m_promiseLoadUsersBySteamID.get(n))
                : t.push(n));
          if (!t.length) return void (await Promise.all(a));
          const n = this.InternalFetchUserInfo(t);
          t.forEach((e) => this.m_promiseLoadUsersBySteamID.set(e, n));
        }
        async InternalFetchUserInfo(e) {
          const t = { steamids: e.join(",") },
            a = u.De.PARTNER_BASE_URL + "user/ajaxgetusers";
          let n = null;
          try {
            const e = await r().get(a, { params: t, withCredentials: !0 });
            if (1 == e?.data?.success) {
              for (const t of e.data.users)
                this.m_mapUsersBySteamID.set(t.steamid, t),
                  this.GetUserInfoCallbackup(t.steamid).Dispatch(t);
              return;
            }
            n = (0, o.l)(e?.data);
          } catch (e) {
            n = (0, o.l)(e);
          }
          console.warn("ajax request failed with error", n);
        }
      }
      function _(e) {
        return h(s.K.InitFromAccountID(e).ConvertTo64BitString());
      }
      function h(e) {
        const [t, a] = (0, l.useState)(p.Get().GetUserInfo(e));
        return (
          (0, l.useEffect)(() => {
            !e || (t && t?.steamid == e) || p.Get().LoadUserInfo([e]);
          }, [e, t]),
          (0, d.Qg)(p.Get().GetUserInfoCallbackup(e), a),
          t
        );
      }
      function g() {
        return { fnHintLoadPartnerUserInfo: p.Get().LoadUserInfo };
      }
      (0, n.gn)([c.a], p.prototype, "LoadUserInfo", null);
    },
    99125: (e, t, a) => {
      "use strict";
      a.d(t, { Ur: () => S, fL: () => E });
      var n = a(79545),
        i = a(23309),
        r = a(80002),
        l = a(73799),
        s = a.n(l),
        o = a(47427),
        c = a(42718),
        m = a(86437),
        d = a(2041),
        u = a(20020),
        p = a(77581),
        _ = a(65255),
        h = a(82756);
      class g {
        m_steamInterface;
        GetPromotionTransport() {
          return this.m_steamInterface;
        }
        static s_Singleton;
        static Get() {
          return (
            g.s_Singleton || ((g.s_Singleton = new g()), g.s_Singleton.Init()),
            g.s_Singleton
          );
        }
        Init() {
          const e = (0, h.kQ)(
            "partnerbrowse_webapi_token",
            "application_config",
          );
          (0, u.X)(Boolean(e), "require partnerbrowse_webapi_token"),
            (this.m_steamInterface = new p.J(_.De.WEBAPI_BASE_URL, e));
        }
      }
      function E(e) {
        const t = g.Get().GetPromotionTransport().GetServiceTransport(),
          a = o.useContext(v);
        return (0, c.useQuery)(D(a, t, e));
      }
      function S(e) {
        return d.U.getQueryData(["StoreItemCountryRestriction", (0, m.y)(e)]);
      }
      const v = o.createContext({
        loadStoreItemCountryRestriction: async (e, t) =>
          await (function (e) {
            f ||
              (f = new (s())(
                async (t) => {
                  const a = n.gA.Init(i.Ol);
                  a.Body().set_ids(t.map((e) => r.oY.fromObject(e)));
                  const l = await i.n7.GetCountryRestrictions(e, a);
                  if (!l.BSuccess())
                    throw `Failed to call store Item Country Restriction with details: ${l.GetErrorMessage()}`;
                  const s = new Map();
                  return (
                    l
                      .Body()
                      .results()
                      .forEach((e) => {
                        const t = e.toObject();
                        s.set((0, m.y)(t.id), t);
                      }),
                    t.map((e) => s.get((0, m.y)(e)))
                  );
                },
                { maxBatchSize: 100 },
              ));
            return f;
          })(t).load(e),
      });
      function D(e, t, a) {
        return {
          queryKey: ["StoreItemCountryRestriction", (0, m.y)(a)],
          queryFn: () => e.loadStoreItemCountryRestriction(a, t),
          enabled: !!a,
        };
      }
      let f;
    },
    14839: (e, t, a) => {
      "use strict";
      a.d(t, { Gj: () => _, NU: () => h, NW: () => g });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(4618),
        s = a(47427),
        o = a(16649),
        c = a(16997),
        m = a(45492),
        d = a(20417),
        u = a(65255);
      class p {
        m_mapCluster = new Map();
        m_mapChangeCallbacks = new Map();
        m_mapClusterLoaders = new Map();
        GetKey(e, t) {
          return `${e}_${t}`;
        }
        GetClusterByID(e, t) {
          const a = this.GetKey(e, t);
          return this.m_mapCluster.get(a);
        }
        GetCallbackForClusterByID(e, t) {
          this.GetKey(e, t);
          return (
            this.m_mapChangeCallbacks.has(t) ||
              this.m_mapChangeCallbacks.set(t, new m.pB()),
            this.m_mapChangeCallbacks.get(t)
          );
        }
        async LoadCluster(e, t) {
          const a = this.GetKey(e, t);
          return this.m_mapCluster.has(a)
            ? this.m_mapCluster.get(a)
            : (this.m_mapClusterLoaders.has(a) ||
                this.m_mapClusterLoaders.set(a, this.InternalLoadCluster(e, t)),
              this.m_mapClusterLoaders.get(a));
        }
        async InternalLoadCluster(e, t) {
          let a = null;
          try {
            const n = u.De.PARTNER_BASE_URL + "cluster/ajaxloadcluster",
              i = {
                clustertype: (0, l.D9)(e),
                clusterid: t,
                sessionid: u.De.SESSIONID,
              },
              s = await r().get(n, { params: i });
            if (200 == s?.status && 1 == s.data?.success && s.data.cluster)
              return (
                this.InternalAddCluster(e, t, s.data.cluster),
                this.GetCallbackForClusterByID(e, t).Dispatch(s.data.cluster),
                s.data.cluster
              );
            a = (0, o.l)(s?.data);
          } catch (e) {
            a = (0, o.l)(e);
          }
          return (
            console.error(
              "CClusterStore.InternalLoadCluster: ajax request failed with error: " +
                a.strErrorMsg,
              a,
            ),
            null
          );
        }
        async SaveClusterAssets(e, t, a) {
          const n = t.id;
          let i = null;
          try {
            const s = u.De.PARTNER_BASE_URL + "cluster/ajaxsaveclusterassets",
              c = new FormData();
            c.append("clustertype", (0, l.D9)(e)),
              c.append("clusterid", n),
              c.append("clusterdata", JSON.stringify(t)),
              c.append("sessionid", u.De.SESSIONID),
              a && c.append("additional_params", JSON.stringify(a));
            const m = await r().post(s, c);
            if (200 == m?.status && 1 == m.data?.success && m.data.cluster)
              return (
                this.InternalAddCluster(e, n, m.data.cluster),
                this.GetCallbackForClusterByID(e, n).Dispatch(m.data.cluster),
                !0
              );
            i = (0, o.l)(m?.data);
          } catch (e) {
            i = (0, o.l)(e);
          }
          return (
            console.error(
              "CClusterStore.InternalLoadCluster: ajax request failed with error: " +
                i.strErrorMsg,
              i,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            p.s_Singleton ||
              ((p.s_Singleton = new p()),
              p.s_Singleton.Init(),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_ClusterStore = p.s_Singleton)),
            p.s_Singleton
          );
        }
        constructor() {}
        async Init() {}
        InternalAddCluster(e, t, a) {
          const n = this.GetKey(e, t);
          this.m_mapCluster.set(n, a);
        }
      }
      function _(e, t) {
        return p.Get().GetClusterByID(e, t);
      }
      function h(e, t) {
        const [a, n] = (0, s.useState)(() => p.Get().GetClusterByID(e, t));
        return (
          (0, s.useEffect)(() => {
            e && t && a?.id != t && p.Get().LoadCluster(e, t).then(n);
          }, [a, e, t]),
          (0, d.Qg)(p.Get().GetCallbackForClusterByID(e, t), n),
          a
        );
      }
      function g() {
        return { fnSaveClusterAssets: p.Get().SaveClusterAssets };
      }
      (0, n.gn)([c.a], p.prototype, "LoadCluster", null),
        (0, n.gn)([c.a], p.prototype, "SaveClusterAssets", null);
    },
    52077: (e, t, a) => {
      "use strict";
      a.d(t, { KF: () => s, Rx: () => o, wH: () => c });
      var n = a(12439),
        i = a(47427),
        r = a(20417),
        l = a(37563);
      class s {
        m_model = null;
        InitDailyDealToEdit(e, t = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(e),
                t && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new n.l(e)),
            this.m_model
          );
        }
        GetDailyDealToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static s_Singleton;
        static Get() {
          return (
            s.s_Singleton ||
              ((s.s_Singleton = new s()),
              "dev" == l.De.WEB_UNIVERSE &&
                (window.g_DailyDealEditStore = s.s_Singleton)),
            s.s_Singleton
          );
        }
        constructor() {}
      }
      function o() {
        const e = (0, r.NW)(),
          [t, a] = i.useState(s.Get().GetDailyDealToEdit());
        return (
          (0, r.Qg)(t?.GetCallback(), (t) => {
            a(t), e();
          }),
          t
        );
      }
      function c() {
        return [
          i.useCallback(
            () =>
              !!s.Get().GetDailyDealToEdit() &&
              s.Get().GetDailyDealToEdit().BIsDirty(),
            [],
          ),
          i.useCallback(() => {
            s.Get().ClearEditModel();
          }, []),
        ];
      }
    },
    59350: (e, t, a) => {
      "use strict";
      a.d(t, {
        $N: () => c,
        Nm: () => h,
        df: () => _,
        gL: () => m,
        lY: () => d,
        rt: () => u,
        sD: () => p,
      });
      var n = a(79545),
        i = a(5697),
        r = a(47427),
        l = a(42718),
        s = a(86437),
        o = a(80886);
      const c = { include_assets: !0 };
      function m(e) {
        const t = (0, r.useMemo)(
          () => (0, s.Bl)(e.appid, e.packageid, e.bundleid),
          [e.appid, e.bundleid, e.packageid],
        );
        return (0, o.jk)(t.id, (0, s.YF)(t), c);
      }
      function d(e, t) {
        const [a, n] = (0, r.useMemo)(() => {
          let a = new Set(),
            n = new Set();
          return (
            e?.length > 0 &&
              e.forEach((e) => {
                e?.store_item_id && 0 == e.store_item_type
                  ? a.add(e.store_item_id)
                  : e?.store_item_id &&
                    2 == e.store_item_type &&
                    n.add(e.store_item_id);
              }),
            t?.length > 0 &&
              t.forEach((e) => {
                e.appid ? a.add(e.appid) : e.bundleid && n.add(e.bundleid);
              }),
            [a, n]
          );
        }, [e, t]);
        return { rgAppIDs: Array.from(a), rgBundleIDs: Array.from(n) };
      }
      function u(e) {
        return "partnerSalePageCandidates" + e;
      }
      function p(e, t) {
        let a = (0, l.useQuery)(
          u(e),
          async () =>
            (async function (e, t) {
              if (!e)
                throw new Error(
                  "Invalid accountid for FetchSalePageCandidatesForPromotion",
                );
              const a = n.gA.Init(i.qV);
              a.Body().set_account_id(e);
              const r = await i.nd.GetSalePageCandidatesForPromo(t, a);
              if (1 !== r.GetEResult())
                throw new Error(
                  `Error from GetSalePagesForPromotion: ${r.GetEResult()}`,
                );
              return r.Body().clans().length
                ? r
                    .Body()
                    .clans()
                    .map((e) => e.toObject())
                : [];
            })(e, t),
          { staleTime: 1 / 0 },
        );
        return a.isSuccess ? a.data : null;
      }
      function _(e) {
        return ["partnerAdvertisingApps", e];
      }
      function h(e, t) {
        let a = (0, l.useQuery)(
          _(e),
          async () =>
            (async function (e, t) {
              if (!e) return [];
              const a = n.gA.Init(i.WC);
              a.Body().set_partner_id(e);
              const r = await i.nd.GetAdvertisingAppsForPartner(t, a);
              if (1 !== r.GetEResult())
                throw new Error(
                  `Error from GetAdvertisingAppsForPartner: ${r.GetEResult()}`,
                );
              return r.Body().advertising_apps().length
                ? r
                    .Body()
                    .advertising_apps()
                    .map((e) => e.toObject())
                : [];
            })(e, t),
          { staleTime: 1 / 0 },
        );
        return a.isSuccess ? a.data : null;
      }
    },
    93727: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ef: () => I,
        Iw: () => O,
        JE: () => U,
        Lu: () => A,
        Mg: () => N,
        NB: () => b,
        O7: () => w,
        Oc: () => M,
        TQ: () => L,
        To: () => G,
        V2: () => R,
        W7: () => k,
        Wp: () => V,
        hc: () => F,
        hx: () => H,
        nt: () => x,
        oQ: () => B,
        sm: () => P,
      });
      var n = a(85556),
        i = a(47427),
        r = a(45492),
        l = a(16649),
        s = a(20417),
        o = a(37563),
        c = a(78288),
        m = a(79545),
        d = a(62210),
        u = a(77581),
        p = a(68785),
        _ = a(12439),
        h = a(67675),
        g = a(46984),
        E = a(86437),
        S = a(7073),
        v = a(50900),
        D = a(33687),
        f = a(5697);
      const y = new p.sO("DailyDealAdmin"),
        b = 7,
        I = 14,
        C = "#DailyDeals_Blackout";
      function k(e) {
        return e.store_item_name == C;
      }
      var A, w;
      function P(e, t) {
        let a = w.Unknown;
        const n = Date.now() / 1e3;
        if (!e.rtime32_start_time) return w.Unknown;
        if (e.cancelled) return w.Cancelled;
        if (e.rtime32_start_time > n) {
          if (e?.partner_jsondata) {
            const t = JSON.parse(e.partner_jsondata);
            if (
              t &&
              t.require_sale_page &&
              (!t.sale_clan_account || !t.sale_clan_evcent_gid)
            )
              return w.InviteAccepted;
          }
          a = t > 0 ? w.DealReady : w.InviteAccepted;
        } else
          a =
            t > 0
              ? e.rtime32_start_time + g._H.PerDay < n
                ? w.DealCompleted
                : w.DealLive
              : w.DealFailed;
        return a;
      }
      !(function (e) {
        (e[(e.k_BlockDate = 1)] = "k_BlockDate"),
          (e[(e.k_ScheduleSlot = 2)] = "k_ScheduleSlot");
      })(A || (A = {})),
        (function (e) {
          (e[(e.Unknown = 0)] = "Unknown"),
            (e[(e.Cancelled = 1)] = "Cancelled"),
            (e[(e.InviteActive = 2)] = "InviteActive"),
            (e[(e.InviteExpired = 3)] = "InviteExpired"),
            (e[(e.InviteAccepted = 4)] = "InviteAccepted"),
            (e[(e.DealReady = 5)] = "DealReady"),
            (e[(e.DealLive = 6)] = "DealLive"),
            (e[(e.DealCompleted = 7)] = "DealCompleted"),
            (e[(e.DealFailed = 8)] = "DealFailed");
        })(w || (w = {}));
      class T {
        m_mapCDailyDeals = new Map();
        m_mapCDailyDealsByDay = new Map();
        m_mapCalendarMarkupByDay = new Map();
        m_DailyDealListCallback = new r.pB();
        m_mapDailyDealCallback = new Map();
        m_mapDailyDealsByDayCallback = new Map();
        m_mapSaleVanityDailyDeals = null;
        m_SteamInterface = null;
        GetAllDailyDeals() {
          return Array.from(this.m_mapCDailyDeals.values());
        }
        GetDailyDealByID(e) {
          return this.m_mapCDailyDeals.get(e);
        }
        GetDailyDealStartTime(e) {
          if (this.GetDailyDealByID(e)) {
            const t = Array.from(this.m_mapCDailyDealsByDay.keys());
            for (let a = 0; a < t.length; a++) {
              const n = t[a];
              if (this.m_mapCDailyDealsByDay.get(n)?.some((t) => t == e))
                return n;
            }
          }
          return 0;
        }
        GetDailyDealByDay(e) {
          return this.m_mapCDailyDealsByDay
            .get(e)
            ?.map((e) => this.m_mapCDailyDeals.get(e));
        }
        GetDailyDealDisplayOverridesByDay(e) {
          return this.m_mapCalendarMarkupByDay.get(e);
        }
        GetCallbackForDailyDealID(e) {
          return (
            this.m_mapDailyDealCallback.has(e) ||
              this.m_mapDailyDealCallback.set(e, new r.pB()),
            this.m_mapDailyDealCallback.get(e)
          );
        }
        GetCallbackForDailyDealList() {
          return this.m_DailyDealListCallback;
        }
        GetCallbackForDailyDealByDayList(e) {
          return (
            this.m_mapDailyDealsByDayCallback.has(e) ||
              this.m_mapDailyDealsByDayCallback.set(e, new r.pB()),
            this.m_mapDailyDealsByDayCallback.get(e)
          );
        }
        SetDailyDeal(e) {
          this.m_mapCDailyDeals.set(e.gid, e),
            this.GetCallbackForDailyDealID(e.gid).Dispatch(e),
            y.Debug("SetDailyDeal", e);
        }
        async LoadDailyDealByID(e) {
          let t = null;
          try {
            const a = m.gA.Init(c.On);
            a.Body().set_gid(e);
            let n = await c.X3.GetDailyDeals(
              this.m_SteamInterface.GetServiceTransport(),
              a,
            );
            if (1 == n.GetEResult()) {
              if (1 == n.Body().daily_deals().length) {
                let e = n.Body().daily_deals().at(0).toObject();
                return (
                  this.InternalAddCDailyDeal(e),
                  this.GetCallbackForDailyDealID(e.gid).Dispatch(e),
                  !0
                );
              }
              t = {
                strErrorMsg:
                  "CDailyDealStore.LoadDailyDealByID returned: " +
                  n.Body().daily_deals().length +
                  " deals.  Should have returned 1",
              };
            } else 42 != n.GetEResult() && (t = (0, l.l)(n));
          } catch (e) {
            t = (0, l.l)(e);
          }
          return (
            this.m_mapCDailyDeals.set(e, null),
            this.GetCallbackForDailyDealID(e).Dispatch(null),
            t &&
              y.Error(
                "CDailyDealStore.LoadDailyDealByID failed: " + t.strErrorMsg,
                t,
              ),
            !1
          );
        }
        CreateVanityToDailyDealMap() {
          (this.m_mapSaleVanityDailyDeals = new Map()),
            Array.from(this.m_mapCDailyDeals.values()).forEach((e) => {
              if (e.template_json?.includes("override_url")) {
                const t = new _.l(e),
                  a = t.GetOverrideURL(),
                  n = (0, h.X)(a);
                n &&
                  (this.m_mapSaleVanityDailyDeals.has(n)
                    ? this.m_mapSaleVanityDailyDeals.set(n, [
                        ...this.m_mapSaleVanityDailyDeals.get(n),
                        t.GetDealID(),
                      ])
                    : this.m_mapSaleVanityDailyDeals.set(n, [t.GetDealID()]));
              }
            });
        }
        GetDailyDealsBySalePageVanity(e) {
          return (
            this.m_mapSaleVanityDailyDeals || this.CreateVanityToDailyDealMap(),
            this.m_mapSaleVanityDailyDeals.has(e)
              ? this.m_mapSaleVanityDailyDeals
                  .get(e)
                  .map((e) => this.m_mapCDailyDeals.get(e))
              : null
          );
        }
        CreateMapByStoreItem() {
          const e = new Map();
          return (
            this.GetAllDailyDeals().forEach((t) => {
              if (t.store_item_id) {
                let a = -1;
                switch (t.store_item_type) {
                  case 0:
                    a = 0;
                    break;
                  case 1:
                    a = 1;
                    break;
                  case 2:
                    a = 2;
                }
                if (-1 != a) {
                  const n = (0, E.qw)(t.store_item_id, a);
                  e.has(n) ? e.get(n).push(t) : e.set(n, [t]);
                }
              }
            }),
            e
          );
        }
        async AddDailyDeal(e, t, a, n) {
          let i = null;
          try {
            let r = new c.iC();
            r.set_rtime32_start_time(t),
              e.appid
                ? (r.set_store_item_type(0), r.set_store_item_id(e.appid))
                : e.packageid
                  ? (r.set_store_item_type(1), r.set_store_item_id(e.packageid))
                  : e.bundleid &&
                    (r.set_store_item_type(2), r.set_store_item_id(e.bundleid));
            let s = {};
            (s = { ...s, location: { hubTargets: ["main"] } }),
              a &&
                a.trim().startsWith(o.De.STORE_BASE_URL) &&
                (s = { ...s, override_url: a.trim() }),
              r.set_template_json(JSON.stringify(s)),
              n?.trim().length > 0 &&
                r.set_discount_event_id(parseInt(n.trim()));
            const d = m.gA.Init(c.sj);
            d.Body().set_daily_deal(r);
            let u = await c.X3.CreateDailyDeal(
              this.m_SteamInterface.GetServiceTransport(),
              d,
            );
            if (1 == u.GetEResult())
              return (
                r.set_gid(u.Body().gid()),
                this.InternalAddCDailyDeal(r.toObject()),
                this.GetCallbackForDailyDealByDayList(t).Dispatch(
                  this.m_mapCDailyDealsByDay
                    .get(t)
                    .map((e) => this.m_mapCDailyDeals.get(e)),
                ),
                this.GetCallbackForDailyDealList().Dispatch(
                  Array.from(this.m_mapCDailyDeals.values()),
                ),
                !0
              );
            i = (0, l.l)(u);
          } catch (e) {
            i = (0, l.l)(e);
          }
          return (
            y.Error(
              "CDailyDealStore.AddDailyDeal failed: " + i?.strErrorMsg,
              i,
            ),
            !1
          );
        }
        async SaveDailyDeal(e) {
          let t = null;
          try {
            let a = c.iC.fromObject(e);
            y.Info("Saving:" + JSON.stringify(a)),
              this.m_mapCDailyDeals.set(e.gid, e);
            const n = m.gA.Init(c.NK);
            n.Body().set_gid(e.gid), n.Body().set_daily_deal(a);
            let i = await c.X3.UpdateDailyDeal(
              this.m_SteamInterface.GetServiceTransport(),
              n,
            );
            if (1 == i.GetEResult())
              return (
                this.m_mapCDailyDeals.set(e.gid, e),
                this.GetCallbackForDailyDealID(e.gid).Dispatch(e),
                !0
              );
            t = (0, l.l)(i);
          } catch (e) {
            t = (0, l.l)(e);
          }
          return (
            y.Error(
              "CDailyDealStore.SaveDailyDeal failed: " + t?.strErrorMsg,
              t,
            ),
            !1
          );
        }
        async RemoveDailyDeal(e) {
          const t = this.m_mapCDailyDeals.get(e);
          let a = null;
          if ((y.Debug("Deleting Deal:" + JSON.stringify(t)), !t || !t.gid))
            return (
              y.Error(
                "CDailyDealStore.RemoveDailyDeal ID does not exist: " + e,
              ),
              !1
            );
          try {
            const e = m.gA.Init(c.Wx);
            e.Body().set_gid(t.gid);
            let n = await c.X3.DeleteDailyDeal(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            );
            if (1 == n.GetEResult()) {
              this.m_mapCDailyDeals.delete(t.gid);
              const e = this.m_mapCDailyDealsByDay.get(t.rtime32_start_time);
              if (e) {
                const a = e.findIndex((e) => t.gid == e);
                -1 != a && e.splice(a, 1);
              }
              const a = t.rtime32_start_time;
              return (
                this.GetCallbackForDailyDealByDayList(a).Dispatch(
                  this.m_mapCDailyDealsByDay
                    .get(a)
                    .map((e) => this.m_mapCDailyDeals.get(e)),
                ),
                this.GetCallbackForDailyDealList().Dispatch(
                  Array.from(this.m_mapCDailyDeals.values()),
                ),
                !0
              );
            }
            a = (0, l.l)(n);
          } catch (e) {
            a = (0, l.l)(e);
          }
          return (
            y.Error(
              "CDailyDealStore.RemoveDailyDeal failed: " + a?.strErrorMsg,
              a,
            ),
            !1
          );
        }
        async CancelDailyDeal(e) {
          const t = this.m_mapCDailyDeals.get(e);
          let a = null;
          if (
            (y.Debug("Canceling daily deal:" + JSON.stringify(t)), !t || !t.gid)
          )
            return (
              y.Error(
                "CDailyDealStore.CancelDailyDeal ID does not exist: " + e,
              ),
              !1
            );
          try {
            const e = m.gA.Init(c.b8);
            e.Body().set_gid(t.gid);
            let n = await c.X3.CancelDailyDeal(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            );
            if (1 == n.GetEResult()) {
              const e = this.m_mapCDailyDeals.get(t.gid);
              (e.cancelled = !0),
                (e.rtime32_cancel_time = Math.floor(Date.now() / 1e3));
              const a = this.m_mapCDailyDealsByDay.get(t.rtime32_start_time);
              if (a) {
                const e = a.findIndex((e) => t.gid == e);
                -1 != e && a.splice(e, 1);
              }
              const n = t.rtime32_start_time;
              return (
                this.GetCallbackForDailyDealByDayList(n).Dispatch(
                  this.m_mapCDailyDealsByDay
                    .get(n)
                    .map((e) => this.m_mapCDailyDeals.get(e)),
                ),
                this.GetCallbackForDailyDealList().Dispatch(
                  Array.from(this.m_mapCDailyDeals.values()),
                ),
                !0
              );
            }
            a = (0, l.l)(n);
          } catch (e) {
            a = (0, l.l)(e);
          }
          return (
            y.Error(
              "CDailyDealStore.CancelDailyDeal failed: " + a?.strErrorMsg,
              a,
            ),
            !1
          );
        }
        async SetDailyDealSalePage(e, t, a, n, i, r) {
          const l = m.gA.Init(f.Re);
          l.Body().set_clan_account_id(a),
            l.Body().set_daily_deal_gid(e),
            l.Body().set_partner_id(t),
            l.Body().set_rtime_sale_start(n),
            l.Body().set_rtime_sale_end(i),
            r && l.Body().set_clan_event_gid(r);
          const s = await f.nd.CreateSalePageForPromo(
            this.m_SteamInterface.GetServiceTransport(),
            l,
          );
          return s.BSuccess() && 1 == s.GetEResult();
        }
        async SetBlackoutDate(e, t, a) {
          let n = null;
          try {
            let i = new c.iC();
            if (t) {
              i.set_rtime32_start_time(e),
                i.set_store_item_name(C),
                i.set_template_json("{}"),
                i.set_store_item_type(-1),
                i.set_store_item_id(0),
                i.set_discount_event_id(a);
              const t = m.gA.Init(c.sj);
              t.Body().set_daily_deal(i);
              let r = await c.X3.CreateDailyDeal(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              );
              if (1 == r.GetEResult())
                return (
                  i.set_gid(r.Body().gid()),
                  this.InternalAddCDailyDeal(i.toObject()),
                  this.GetCallbackForDailyDealByDayList(e).Dispatch(
                    this.m_mapCDailyDealsByDay
                      .get(e)
                      .map((e) => this.m_mapCDailyDeals.get(e)),
                  ),
                  this.GetCallbackForDailyDealList().Dispatch(
                    Array.from(this.m_mapCDailyDeals.values()),
                  ),
                  !0
                );
              n = (0, l.l)(r);
            } else if (this.m_mapCDailyDealsByDay.has(e)) {
              const t = this.m_mapCDailyDealsByDay.get(e).find((e) => {
                const t = this.m_mapCDailyDeals.get(e);
                return t.store_item_name == C && !t.deleted;
              });
              if (null != t) {
                const a = this.m_mapCDailyDeals.get(t),
                  i = m.gA.Init(c.Wx);
                i.Body().set_gid(a.gid);
                let r = await c.X3.DeleteDailyDeal(
                  this.m_SteamInterface.GetServiceTransport(),
                  i,
                );
                if (1 == r.GetEResult()) {
                  const a = this.m_mapCDailyDealsByDay.get(e);
                  if (a) {
                    this.m_mapCDailyDeals.delete(t);
                    const e = a.findIndex((e) => e == t);
                    -1 != e && a.splice(e, 1);
                  }
                  return (
                    this.GetCallbackForDailyDealByDayList(e).Dispatch(
                      this.m_mapCDailyDealsByDay
                        .get(e)
                        .map((e) => this.m_mapCDailyDeals.get(e)),
                    ),
                    this.GetCallbackForDailyDealList().Dispatch(
                      Array.from(this.m_mapCDailyDeals.values()),
                    ),
                    !0
                  );
                }
                n = (0, l.l)(r);
              }
            }
          } catch (e) {
            n = (0, l.l)(e);
          }
          return (
            y.Error(
              "CDailyDealStore.SetBlackoutDate failed: " + n?.strErrorMsg,
              n,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            T.s_Singleton ||
              ((T.s_Singleton = new T()),
              T.s_Singleton.Init(),
              "dev" == o.De.WEB_UNIVERSE &&
                (window.g_DailyDealStore = T.s_Singleton)),
            T.s_Singleton
          );
        }
        constructor() {}
        InternalAddCDailyDeal(e) {
          this.m_mapCDailyDeals.set(e.gid, e);
          const t = e.rtime32_start_time;
          t &&
            !e.cancelled &&
            (this.m_mapCDailyDealsByDay.has(t) ||
              this.m_mapCDailyDealsByDay.set(t, new Array()),
            this.m_mapCDailyDealsByDay.get(t).push(e.gid));
        }
        async Init() {
          const e = (0, o.kQ)(
            "promotion_operation_token",
            "application_config",
          );
          (0, d.X)(e, "CDailyDealStore: promotion operation token is missing"),
            (this.m_SteamInterface = new u.J(o.De.WEBAPI_BASE_URL, e));
          const t = (0, o.kQ)("daily_deals", "application_config");
          t &&
            (t.forEach((e) => {
              this.InternalAddCDailyDeal(e);
            }),
            this.GetCallbackForDailyDealList().Dispatch(
              Array.from(this.m_mapCDailyDeals.values()),
            ),
            this.m_mapCDailyDealsByDay.forEach((e, t) => {
              this.GetCallbackForDailyDealByDayList(t).Dispatch(
                this.m_mapCDailyDealsByDay
                  .get(t)
                  .map((e) => this.m_mapCDailyDeals.get(e)),
              );
            }),
            this.m_mapCDailyDeals.forEach((e) => {
              this.GetCallbackForDailyDealID(e.gid).Dispatch(e);
            }));
          const a = (0, o.kQ)("blockout_dates", "application_config") || [],
            n = (0, o.kQ)("scheduled_slots", "application_config") || [];
          n.length > 0 &&
            n.forEach((e) =>
              this.HelperAddEDailyDealDisplayInfo(e, {
                eType: A.k_ScheduleSlot,
              }),
            ),
            a.length > 0 &&
              a.forEach((e) =>
                this.HelperAddEDailyDealDisplayInfo(e.date, {
                  eType: A.k_BlockDate,
                  name: e.name,
                }),
              ),
            "dev" == o.De.WEB_UNIVERSE &&
              console.log(
                `DEV_DEBUG: CDailyDealStore loaded ${t.length} daily deals, separate blocked dates ${a.length}, separated schedule dates ${n.length}`,
              );
        }
        HelperAddEDailyDealDisplayInfo(e, t) {
          this.m_mapCalendarMarkupByDay.has(e) ||
            this.m_mapCalendarMarkupByDay.set(e, []),
            this.m_mapCalendarMarkupByDay.set(e, [
              ...this.m_mapCalendarMarkupByDay.get(e),
              t,
            ]);
        }
      }
      function N() {
        const [e, t] = i.useState(T.Get().GetAllDailyDeals());
        return (0, s.Qg)(T.Get().GetCallbackForDailyDealList(), t), e;
      }
      function R(e) {
        const t = T.Get(),
          [a, n] = i.useState(t.GetDailyDealByID(e));
        return (
          i.useEffect(() => {
            void 0 === a && t.LoadDailyDealByID(e);
          }, [a, e, t]),
          (0, s.Qg)(t.GetCallbackForDailyDealID(e), n),
          a
        );
      }
      function G(e) {
        const t = T.Get(),
          [a, n] = i.useState(t.GetDailyDealStartTime(e));
        return (
          (0, s.Qg)(t.GetCallbackForDailyDealID(e), () =>
            n(t.GetDailyDealStartTime(e)),
          ),
          a
        );
      }
      function x(e) {
        const [t, a] = i.useState(() => T.Get().GetDailyDealByDay(e));
        return (0, s.Qg)(T.Get().GetCallbackForDailyDealByDayList(e), a), t;
      }
      function L() {
        return { fnAddDailyDeal: T.Get().AddDailyDeal };
      }
      function B() {
        return {
          fnSaveDailyDeal: T.Get().SaveDailyDeal,
          fnRemoveDailyDeal: T.Get().RemoveDailyDeal,
          fnCancelDailyDeal: T.Get().CancelDailyDeal,
          fnSetDailyDealSalePage: T.Get().SetDailyDealSalePage,
        };
      }
      function M() {
        return T.Get().SetBlackoutDate;
      }
      function O(e) {
        return T.Get().GetDailyDealsBySalePageVanity(e);
      }
      function F(e) {
        return T.Get().GetDailyDealDisplayOverridesByDay(e);
      }
      function U() {
        const [e, t] = (0, i.useState)(() => T.Get().CreateMapByStoreItem());
        return (
          (0, s.Qg)(T.Get().GetCallbackForDailyDealList(), () =>
            t(T.Get().CreateMapByStoreItem()),
          ),
          e
        );
      }
      function H(e) {
        const t = (0, D.og)(
            e.map((e) => (0 == e.store_item_type ? e.store_item_id : 0)),
          ),
          a = (0, D.o6)(
            e.map((e) => (2 == e.store_item_type ? e.store_item_id : 0)),
          );
        return (0, i.useMemo)(() => {
          let n = [];
          return (
            e?.forEach((e) => {
              const i = (0, v.$)(e),
                r = (0, S.LT)(e?.discount_event_id?.toString()),
                l = (0, S.co)(i.packageid);
              let s = [];
              0 == e.store_item_type
                ? (s = t?.get(e.store_item_id)?.discounts ?? [])
                : 1 == e.store_item_type
                  ? (s = l)
                  : 2 == e.store_item_type &&
                    (s = a?.get(e.store_item_id)?.discounts ?? []),
                n.push(X(e, s, r));
            }),
            n
          );
        }, [e, t, a]);
      }
      function V(e) {
        const t = (0, v.$)(e),
          a = (0, S.u3)(t.packageid),
          n = e.rtime32_start_time > Date.now() / 1e3,
          r = (0, D.og)([0 == e.store_item_type ? e.store_item_id : 0], {
            bExcludeExpired: n,
          }),
          l = (0, D.o6)([2 == e.store_item_type ? e.store_item_id : 0], {
            bExcludeExpired: n,
          }),
          s = (0, S.hd)(e?.discount_event_id?.toString());
        return (0, i.useMemo)(() => {
          let t = [];
          return (
            0 == e.store_item_type
              ? (t = r?.get(e.store_item_id)?.discounts)
              : 1 == e.store_item_type
                ? (t = a)
                : 2 == e.store_item_type &&
                  (t = l?.get(e.store_item_id)?.discounts),
            X(e, t, s)
          );
        }, [e, s, r, a, l]);
      }
      function X(e, t, a) {
        if (e) {
          const n = e.rtime32_start_time,
            i = e.rtime32_start_time + 82800;
          let r =
            t?.filter(
              (e) =>
                e.rtStartDate <= n && i <= e.rtEndDate && e.nDiscountPct > 0,
            ) ?? [];
          if (
            (a &&
              (r = r.concat(
                a.filter((e) => !r.find((t) => t.nDiscountID == e.nDiscountID)),
              )),
            r?.length > 0)
          ) {
            let e, t, a, n;
            return (
              r.forEach((i) => {
                (null == e || e > i.nDiscountPct) && (e = i.nDiscountPct),
                  (null == t || t < i.nDiscountPct) && (t = i.nDiscountPct),
                  (null == a || a < i.rtStartDate) && (a = i.rtStartDate),
                  (null == n || n > i.rtEndDate) && (n = i.rtEndDate);
              }),
              {
                nDiscountPercentHigh: t,
                nDiscountPercentLow: e,
                dtDiscountStart: a,
                dtDiscountEnd: n,
                rgDiscounts: r,
              }
            );
          }
        }
        return {
          nDiscountPercentHigh: 0,
          nDiscountPercentLow: 0,
          dtDiscountStart: 0,
          dtDiscountEnd: 0,
          rgDiscounts: [],
        };
      }
      (0, n.gn)([s.ak], T.prototype, "SetDailyDeal", null),
        (0, n.gn)([s.ak], T.prototype, "LoadDailyDealByID", null),
        (0, n.gn)([s.ak], T.prototype, "GetDailyDealsBySalePageVanity", null),
        (0, n.gn)([s.ak], T.prototype, "AddDailyDeal", null),
        (0, n.gn)([s.ak], T.prototype, "SaveDailyDeal", null),
        (0, n.gn)([s.ak], T.prototype, "RemoveDailyDeal", null),
        (0, n.gn)([s.ak], T.prototype, "CancelDailyDeal", null),
        (0, n.gn)([s.ak], T.prototype, "SetDailyDealSalePage", null),
        (0, n.gn)([s.ak], T.prototype, "SetBlackoutDate", null),
        (0, n.gn)([s.ak], T.prototype, "InternalAddCDailyDeal", null);
    },
    82283: (e, t, a) => {
      "use strict";
      a.d(t, { E: () => r });
      var n = a(43204),
        i = a(30750);
      function r() {
        const e = (0, n.fL)(),
          [t, a] = (0, i.SZ)(() => [
            e.BHasAssociatedItem(),
            e.GetStoreItemKey(),
          ]),
          [r] = (0, i.SZ)(() => [e.BHasDynamicFilterForApp(2, a?.id)]);
        return t && "app" == a.item_type && r;
      }
    },
    43204: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ck: () => h,
        V4: () => E,
        fL: () => _,
        ld: () => p,
        tr: () => g,
        vt: () => u,
      });
      var n = a(17160),
        i = a(54842),
        r = a(47427),
        l = a(1485),
        s = a(45492),
        o = a(20417),
        c = a(37563),
        m = a(44107);
      class d {
        m_model = null;
        m_callback = new s.pB();
        InitMarketingMessageToEdit(e, t = !1) {
          return (
            "dev" == c.De.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CMarketingMessageEditStore.InitMarketingMessageToEdit with model: " +
                  Boolean(this.m_model),
                (0, i.ZN)(e),
              ),
            this.m_model && !t
              ? this.m_model.Reset(e)
              : ((this.m_model = new n.bZ(e)),
                t && this.GetCallback().Dispatch(this.m_model)),
            this.m_model
          );
        }
        GetMarketingMessageToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        GetCallback() {
          return this.m_callback;
        }
        static s_Singleton;
        static Get() {
          return (
            d.s_Singleton ||
              ((d.s_Singleton = new d()),
              "dev" == c.De.WEB_UNIVERSE &&
                (window.g_MarketingMessageEditStore = d.s_Singleton)),
            d.s_Singleton
          );
        }
        constructor() {}
      }
      function u(e, t = !1) {
        return d.Get().InitMarketingMessageToEdit(e, t);
      }
      function p() {
        return d.Get().GetMarketingMessageToEdit();
      }
      function _() {
        const e = (0, o.NW)(),
          [t, a] = r.useState(d.Get().GetMarketingMessageToEdit());
        return (
          (0, o.Qg)(t?.GetCallback(), (t) => {
            a(t), e();
          }),
          (0, o.Qg)(d.Get().GetCallback(), a),
          t
        );
      }
      function h(e) {
        const t = _(),
          a = (0, m.Q2)(e);
        return (
          (0, r.useEffect)(() => {
            a &&
              ((t && t.GetGID() == e) ||
                d.Get().InitMarketingMessageToEdit(a, !0));
          }, [t, a, e]),
          t?.GetGID() == e ? t : null
        );
      }
      function g() {
        return {
          fnBIsPlanDirty: r.useCallback(
            () =>
              !!d.Get().GetMarketingMessageToEdit() &&
              d.Get().GetMarketingMessageToEdit().BIsDirty(),
            [],
          ),
          fnResetDirtyPlan: r.useCallback(() => {
            d.Get().ClearEditModel();
          }, []),
        };
      }
      function E(e, t) {
        return (
          !!(e?.length > 0 && l.II.validateUrl(e)) &&
          e.split("?")[0].toLowerCase().endsWith(t.toLowerCase())
        );
      }
    },
    13913: (e, t, a) => {
      "use strict";
      a.d(t, {
        AD: () => S,
        Br: () => k,
        I: () => I,
        Pl: () => b,
        j6: () => n,
        sB: () => v,
        ws: () => C,
      });
      var n,
        i = a(77936),
        r = a(256),
        l = a(17160),
        s = a(30750),
        o = a(47427),
        c = a(53545),
        m = a(86437),
        d = a(80886),
        u = a(1485),
        p = a(43204),
        _ = a(44107),
        h = a(25127),
        g = a(43746);
      function E(e, t, a, n, r, l, s, o, c, m) {
        const d = Boolean(1 != t),
          u = Boolean(0 != t);
        let _ = 0;
        for (let t = 0; t < 31; ++t) e && e[(0, i.j_)(t)] && (_ += 1);
        let g,
          E = h._;
        if ((1 == t ? (E = 1) : 2 == t && (E += 1), a)) {
          g = !0;
          let t = 0;
          for (let a = 0; a < 31; ++a) {
            const l = (0, i.j_)(a);
            if (
              (n && n[l] && r && r[l] && (t += 1),
              n && n[l] && (!r || !r[l] || !e || !e[l]))
            ) {
              g = !1;
              break;
            }
            if (r && r[l] && (!n || !n[l] || !e || !e[l])) {
              g = !1;
              break;
            }
          }
          0 == t && (g = !1);
        }
        let S = 0,
          v = 0;
        if ("featured_video" == l) {
          g = (0, p.V4)(c, ".mp4") && (0, p.V4)(m, ".webm");
          for (let e = 0; e < 31; ++e) {
            const t = (0, i.j_)(e);
            s && s[t] && (S += 1), o && o[t] && (v += 1);
          }
        }
        return {
          bMinimumAssetsSetup: Boolean(
            e && (!d || e.english) && (!u || e.sc_schinese),
          ),
          nAssetSetup: _,
          nCompleteAssetRequired: E,
          bMatchingVideoAssets: g,
          nSubtitleCount: S,
          nPosterCount: v,
          strCustomTemplateType: l,
        };
      }
      function S(e) {
        const t = (0, p.Ck)(e),
          [a, n, i, r, l, o, c, m, d, u] = (0, s.SZ)(() => [
            t?.GetAssetsObject("ll_image"),
            t?.GetRealm(),
            t?.BHasAnimatedAssets(),
            t?.GetAssetsObject("mp4"),
            t?.GetAssetsObject("webm"),
            t?.GetCustomTemplate(),
            t?.GetAssetsObject("subtitles"),
            t?.GetAssetsObject("poster"),
            t?.GetFeaturedVideoMP4Url(),
            t?.GetFeaturedVideoWebMUrl(),
          ]);
        return t?.GetGID() == e
          ? E(a, n, i, r, l, o, c, m, d, u)
          : {
              bMatchingVideoAssets: !1,
              bMinimumAssetsSetup: !1,
              nAssetSetup: 0,
              nCompleteAssetRequired: 1,
              nSubtitleCount: 0,
              nPosterCount: 0,
              strCustomTemplateType: null,
            };
      }
      function v(e) {
        const t = (0, _.Q2)(e),
          [a, n] = (0, o.useState)(t ? e : null),
          [i, r] = (0, o.useState)((0, c.r8)(t?.template_vars_json)),
          [m, d] = (0, o.useState)(
            (0, l.VM)(e, t?.additional_restrictions_json),
          );
        (0, o.useEffect)(() => {
          a != e &&
            t &&
            (n(e),
            r((0, c.r8)(t.template_vars_json)),
            d((0, l.VM)(e, t.additional_restrictions_json)));
        }, [a, e, t]);
        const [u, p, h, g, S, v, D, f, y, b] = (0, s.SZ)(() => [
          i?.ll_image,
          m?.valid_realms || 0,
          i?.has_animated_assets,
          i?.mp4,
          i?.webm,
          i?.custom_display,
          i?.subtitles,
          i?.poster,
          i?.featured_video_mp4,
          i?.featured_video_webm,
        ]);
        return t
          ? E(u, p, h, g, S, v, D, f, y, b)
          : {
              bMatchingVideoAssets: !1,
              bMinimumAssetsSetup: !1,
              nAssetSetup: 0,
              nCompleteAssetRequired: 1,
              nSubtitleCount: 0,
              nPosterCount: 0,
              strCustomTemplateType: null,
            };
      }
      !(function (e) {
        (e[(e.k_StoreInvalidState = 0)] = "k_StoreInvalidState"),
          (e[(e.k_StoreUnavailable = 1)] = "k_StoreUnavailable"),
          (e[(e.k_StorePrePurchase = 2)] = "k_StorePrePurchase"),
          (e[(e.k_StoreComingSoon = 3)] = "k_StoreComingSoon"),
          (e[(e.k_StoreEarlyAccess = 4)] = "k_StoreEarlyAccess"),
          (e[(e.k_StoreGeneralAvailability = 5)] =
            "k_StoreGeneralAvailability");
      })(n || (n = {}));
      const D = { include_release: !0 };
      function f(e, t, a, i, l, s, o, c, m, d, p, _, h) {
        const E = (0, r.IN)(d, m),
          S = (0, g.l)(m);
        let v = n.k_StoreInvalidState;
        return (
          2 == s
            ? (v = n.k_StoreUnavailable)
            : l &&
              (l.BIsPrePurchase()
                ? (v = n.k_StorePrePurchase)
                : l.BIsComingSoon()
                  ? (v = n.k_StoreComingSoon)
                  : l.BIsEarlyAccess()
                    ? (v = n.k_StoreEarlyAccess)
                    : l.BIsReleased() &&
                      !l.BIsComingSoon() &&
                      (v = n.k_StoreGeneralAvailability)),
          {
            eVisibility: e,
            bDateSet: Boolean(t) && Boolean(a) && t < a,
            bItemAssociated: Boolean(i) || _,
            bFiltersSetup: Boolean(o > 0 || c),
            bValidLink: Boolean(m && u.II.validateUrl(m) && E && S),
            bButtonTokenEntered: Boolean(p),
            bExplicitNoItemAssociation: _,
            bLegalLineHandled: h,
            bAdvertisingAppWithoutURL:
              14 == l?.GetAppType() &&
              (!l.GetStorePageURLOverride() ||
                0 == l.GetStorePageURLOverride().trim().length),
            eStoreItemMarketingMessageState: v,
          }
        );
      }
      function y() {
        return {
          eVisibility: 1,
          bDateSet: !1,
          bItemAssociated: !1,
          bFiltersSetup: !1,
          bValidLink: !1,
          bButtonTokenEntered: !1,
          bExplicitNoItemAssociation: !1,
          bLegalLineHandled: !1,
          bAdvertisingAppWithoutURL: !1,
          eStoreItemMarketingMessageState: n.k_StoreInvalidState,
        };
      }
      function b(e) {
        const t = (0, p.Ck)(e),
          [a, n, i, r, l, o, c, u, _, h, g] = (0, s.SZ)(() => [
            t?.GetVisibilty(),
            t?.GetStartRTime(),
            t?.GetEndRTime(),
            t?.GetStoreItemID(),
            t?.GetUserMessageFilterCount(),
            t?.BIsNoFilterRequired(),
            t?.GetLinkURL(),
            t?.GetRealm(),
            t?.GetButtonToken(),
            t?.BExplicitNoAssociationItem(),
            t?.BHasLegalLinePartner() ||
              t?.BExplicitNoLegalPartnerNeeded() ||
              t?.BUseCustomLegalText(),
          ]),
          [E, S] = (0, d.jk)((0, m.u$)(r), (0, m.D3)(r), D);
        return t?.GetGID() == e
          ? f(a, n, i, r, E, S, l, o, c, u, _, h, g)
          : y();
      }
      function I(e) {
        const t = (0, _.Q2)(e),
          [a, n] = (0, o.useState)(t ? e : null),
          [i, r] = (0, o.useState)((0, c.r8)(t?.template_vars_json)),
          [u, p] = (0, o.useState)(
            (0, l.VM)(e, t?.additional_restrictions_json),
          );
        (0, o.useEffect)(() => {
          a != e &&
            t &&
            (n(e),
            r((0, c.r8)(t.template_vars_json)),
            p((0, l.VM)(e, t.additional_restrictions_json)));
        }, [a, e, t]);
        const [h, g, E, S, v, b, I, C, k, A, w] = (0, s.SZ)(() => [
            t?.visibility,
            t?.start_date,
            t?.end_date,
            (0, m.Xm)((0, l.kK)(t?.association_type, t?.associated_id)),
            (0, l.Kq)(u),
            u?.no_filters_required,
            i?.linkurl,
            u?.valid_realms || 0,
            i?.button_text,
            u?.explicit_no_associated_item,
            i?.partner?.trim().length > 0 || u?.explicit_no_partner_name_needed,
          ]),
          [P, T] = (0, d.jk)((0, m.u$)(S), (0, m.D3)(S), D);
        return origin ? f(h, g, E, S, P, T, v, b, I, C, k, A, w) : y();
      }
      function C(e) {
        const {
            bDateSet: t,
            bItemAssociated: a,
            bFiltersSetup: i,
            bValidLink: r,
            bButtonTokenEntered: l,
            bLegalLineHandled: s,
            bAdvertisingAppWithoutURL: o,
            eStoreItemMarketingMessageState: c,
            bExplicitNoItemAssociation: m,
          } = b(e),
          { bMinimumAssetsSetup: d } = S(e);
        return (
          t &&
          a &&
          i &&
          d &&
          r &&
          l &&
          s &&
          !o &&
          (m || (c != n.k_StoreInvalidState && c != n.k_StoreUnavailable))
        );
      }
      function k(e) {
        const {
            bDateSet: t,
            bItemAssociated: a,
            bFiltersSetup: i,
            bValidLink: r,
            bButtonTokenEntered: l,
            bLegalLineHandled: s,
            bAdvertisingAppWithoutURL: o,
            eStoreItemMarketingMessageState: c,
            bExplicitNoItemAssociation: m,
          } = I(e),
          { bMinimumAssetsSetup: d } = v(e);
        return (
          t &&
          a &&
          i &&
          d &&
          r &&
          l &&
          s &&
          !o &&
          (m || (c != n.k_StoreInvalidState && c != n.k_StoreUnavailable))
        );
      }
    },
    44107: (e, t, a) => {
      "use strict";
      a.d(t, {
        BA: () => y,
        O4: () => E,
        Q2: () => S,
        Sw: () => v,
        _5: () => g,
        dB: () => h,
        jI: () => f,
        oT: () => D,
      });
      var n = a(85556),
        i = a(47427),
        r = a(79545),
        l = a(77581),
        s = a(44237),
        o = a(62210),
        c = a(16649),
        m = a(45492),
        d = a(20417),
        u = a(37563),
        p = a(16997);
      class _ {
        m_rgActiveMessages = new Array();
        m_mapMessages = new Map();
        m_mapMessagesCallback = new Map();
        m_ActiveMessageListCallback = new m.pB();
        m_steamInterface = null;
        m_mapPromiseMarketingMessage = new Map();
        GetAllActiveMarketingMessages() {
          return this.m_rgActiveMessages;
        }
        GetMarketingMessageByID(e) {
          return this.m_mapMessages.get(e);
        }
        GetCallbackForMarketingMessage(e) {
          return (
            this.m_mapMessagesCallback.has(e) ||
              this.m_mapMessagesCallback.set(e, new m.pB()),
            this.m_mapMessagesCallback.get(e)
          );
        }
        GetCallbackForActiveMarketingMessageList() {
          return this.m_ActiveMessageListCallback;
        }
        HandleFindMessageRseponse(e) {
          const t = new Array();
          return (
            e
              .Body()
              .messages()
              .forEach((e) => {
                const a = e.toObject();
                t.push(a),
                  this.m_mapMessages.has(a.gid) ||
                    this.m_mapMessages.set(a.gid, a);
              }),
            t
          );
        }
        async LoadAllActiveMarketingMessages() {
          let e = null;
          try {
            const t = r.gA.Init(s.nQ);
            t.Body().set_lookup_type(2);
            let a = await s.Bn.FindMarketingMessages(
              this.m_steamInterface.GetServiceTransport(),
              t,
            );
            if (1 == a.GetEResult()) {
              (0, o.X)(
                0 == this.m_rgActiveMessages.length,
                "We expect m_rgActiveMessages to be empty",
              );
              const e = this.HandleFindMessageRseponse(a);
              return (
                (this.m_rgActiveMessages = e),
                this.m_ActiveMessageListCallback.Dispatch(
                  this.m_rgActiveMessages,
                ),
                this.m_rgActiveMessages
              );
            }
            e = (0, c.l)(a);
          } catch (t) {
            e = (0, c.l)(t);
          }
          return (
            console.error(
              "CMarketingMessageStore::LoadAllActiveMarketingMessages failed: " +
                e.strErrorMsg,
              e,
            ),
            this.m_rgActiveMessages
          );
        }
        async LoadMarketingMessage(e) {
          return this.m_mapMessages.has(e)
            ? this.m_mapMessages.get(e)
            : (this.m_mapPromiseMarketingMessage.has(e) ||
                this.m_mapPromiseMarketingMessage.set(
                  e,
                  this.InternalLoadMarketingMessage(e),
                ),
              this.m_mapPromiseMarketingMessage.get(e));
        }
        async InternalLoadMarketingMessage(e) {
          let t = null;
          try {
            const a = r.gA.Init(s.nQ);
            a.Body().set_lookup_type(1), a.Body().set_gid(e);
            let n = await s.Bn.FindMarketingMessages(
              this.m_steamInterface.GetServiceTransport(),
              a,
            );
            if (1 == n.GetEResult()) {
              const t = this.HandleFindMessageRseponse(n);
              if (t.length > 0) {
                const e = t[0];
                this.m_mapMessages.set(e.gid, e),
                  this.GetCallbackForMarketingMessage(e.gid).Dispatch(e);
              }
              return this.m_mapMessages.get(e);
            }
            t = (0, c.l)(n);
          } catch (e) {
            t = (0, c.l)(e);
          }
          return (
            console.error(
              "CMarketingMessageStore::InternalLoadMarketingMessage failed: " +
                t.strErrorMsg,
              t,
            ),
            null
          );
        }
        async Search(e, t) {
          let a = null;
          try {
            const n = r.gA.Init(s.nQ);
            n.Body().set_lookup_type(3),
              n.Body().set_message_type(e),
              t?.trim().length > 0
                ? ("%" != t.charAt(0) && (t = "%" + t),
                  "%" != t.charAt(t.length - 1) && (t += "%"),
                  n.Body().set_title(t.trim()))
                : n.Body().set_title("%");
            let i = await s.Bn.FindMarketingMessages(
              this.m_steamInterface.GetServiceTransport(),
              n,
            );
            if (1 == i.GetEResult())
              return i
                .Body()
                .messages()
                .map((e) => e.toObject());
            a = (0, c.l)(i);
          } catch (e) {
            a = (0, c.l)(e);
          }
          return (
            console.error(
              "CMarketingMessageStore::Search failed: " + a.strErrorMsg,
              a,
            ),
            []
          );
        }
        async CreateMarketingMessage(e, t) {
          let a = null;
          try {
            const n = r.gA.Init(s.SL);
            n.Body().set_message(s.Ax.fromObject(e)), n.Body().set_from_json(t);
            let i = await s.Bn.CreateMarketingMessage(
              this.m_steamInterface.GetServiceTransport(),
              n,
            );
            if (1 == i.GetEResult() && i.Body().gid())
              return (
                (e.gid = i.Body().gid()),
                this.m_mapMessages.set(e.gid, e),
                (this.m_rgActiveMessages = [...this.m_rgActiveMessages, e]),
                this.m_ActiveMessageListCallback.Dispatch(
                  this.m_rgActiveMessages,
                ),
                e.gid
              );
            a = (0, c.l)(i);
          } catch (e) {
            a = (0, c.l)(e);
          }
          return (
            console.error(
              "CMarketingMessageStore::CreateMarketingMessage failed: " +
                a.strErrorMsg,
              a,
            ),
            null
          );
        }
        async UpdateMarketingMessage(e) {
          let t = null;
          try {
            const a = r.gA.Init(s.rA),
              n = e.PrepareMessageModelForUpdate();
            a.Body().set_message(s.Ax.fromObject(n)),
              a.Body().set_from_json(!0),
              a.Body().set_gid(n.gid);
            let i = await s.Bn.UpdateMarketingMessage(
              this.m_steamInterface.GetServiceTransport(),
              a,
            );
            if (1 == i.GetEResult())
              return (
                this.m_mapMessages.set(n.gid, n),
                (this.m_rgActiveMessages = [...this.m_rgActiveMessages]),
                this.m_ActiveMessageListCallback.Dispatch(
                  this.m_rgActiveMessages,
                ),
                console.log("Save Successful"),
                !0
              );
            t = (0, c.l)(i);
          } catch (e) {
            t = (0, c.l)(e);
          }
          return (
            console.error(
              "CMarketingMessageStore::UpdateMarketingMessage failed: " +
                t.strErrorMsg,
              t,
            ),
            !1
          );
        }
        async DeleteMarketingMessage(e) {
          let t = null;
          try {
            const a = r.gA.Init(s.MJ);
            a.Body().set_gid(e.gid);
            let n = await s.Bn.DeleteMarketingMessage(
              this.m_steamInterface.GetServiceTransport(),
              a,
            );
            if (1 == n.GetEResult())
              return (
                this.m_mapMessages.set(e.gid, void 0),
                this.m_ActiveMessageListCallback.Dispatch(
                  this.m_rgActiveMessages,
                ),
                !0
              );
            t = (0, c.l)(n);
          } catch (e) {
            t = (0, c.l)(e);
          }
          return (
            console.error(
              "CMarketingMessageStore::DeleteMarketingMessage failed: " +
                t.strErrorMsg,
              t,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            _.s_Singleton ||
              ((_.s_Singleton = new _()),
              _.s_Singleton.Init(),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_MarketingMessageStore = _.s_Singleton)),
            _.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, u.kQ)(
            "promotion_operation_token",
            "application_config",
          );
          (0, o.X)(Boolean(e), "require promotion_operation_token"),
            "dev" == u.De.WEB_UNIVERSE &&
              console.log(
                "DEV_DEBUG Initializing CMarketingMessageStore with access token ",
                e,
              ),
            (this.m_steamInterface = new l.J(u.De.WEBAPI_BASE_URL, e));
          const t = (0, u.ip)("marketing_messages", "application_config");
          this.BIsValidPlanList(t) &&
            t.forEach((e) => {
              this.m_mapMessages.set(e.gid, e), (this.m_rgActiveMessages = t);
            });
        }
        BIsValidPlanList(e) {
          const t = e;
          return (
            t && Array.isArray(t) && t.length > 0 && Boolean(t[0].associated_id)
          );
        }
        GetSteamInterface() {
          return this.m_steamInterface;
        }
      }
      function h() {
        return _.Get().GetSteamInterface();
      }
      function g(e) {
        return _.Get().GetMarketingMessageByID(e);
      }
      function E() {
        const [e, t] = i.useState(_.Get().GetAllActiveMarketingMessages());
        return (
          (0, i.useEffect)(() => {
            (null != e && 0 != e.length) ||
              _.Get().LoadAllActiveMarketingMessages();
          }, [e]),
          (0, d.Qg)(_.Get().GetCallbackForActiveMarketingMessageList(), t),
          e
        );
      }
      function S(e) {
        const [t, a] = (0, i.useState)(() =>
          _.Get().GetMarketingMessageByID(e),
        );
        return (
          (0, i.useEffect)(() => {
            !e || (t && t.gid == e) || _.Get().LoadMarketingMessage(e).then(a);
          }, [e, t]),
          (0, d.Qg)(_.Get().GetCallbackForMarketingMessage(e), a),
          t
        );
      }
      function v() {
        return _.Get().Search;
      }
      function D() {
        return { fnCreateMarketingMessage: _.Get().CreateMarketingMessage };
      }
      function f() {
        return { fnUpdateMarketingMessage: _.Get().UpdateMarketingMessage };
      }
      function y() {
        return { fnDeleteMarketingMessage: _.Get().DeleteMarketingMessage };
      }
      (0, n.gn)([p.a], _.prototype, "Search", null),
        (0, n.gn)([p.a], _.prototype, "CreateMarketingMessage", null),
        (0, n.gn)([p.a], _.prototype, "UpdateMarketingMessage", null),
        (0, n.gn)([p.a], _.prototype, "DeleteMarketingMessage", null);
    },
    71945: (e, t, a) => {
      "use strict";
      a.d(t, { I0: () => c, bg: () => d, mz: () => m });
      var n = a(47427),
        i = a(42718),
        r = a(79545),
        l = a(44237),
        s = a(64936),
        o = a(44107);
      function c() {
        const e = (0, s.zD)(),
          { data: t, isLoading: a } = (0, i.useQuery)(
            ["useMarketingMessageAllStats"],
            () =>
              (async function (e) {
                const t = r.gA.Init(l.yp);
                t.Body().set_rt_start_time(e - 604800),
                  t.Body().set_rt_end_time(e);
                const a = (0, o.dB)();
                return (
                  await l.Bn.GetMarketingMessagesViewerRangeStats(
                    a.GetServiceTransport(),
                    t,
                  )
                )
                  .Body()
                  .stats()
                  .map((e) => e.toObject());
              })(e),
          );
        return a ? null : t;
      }
      function m(e) {
        const { data: t, isLoading: a } = (0, i.useQuery)(
          ["useSingleMarketingMessageViewStats", e],
          () =>
            (async function (e) {
              const t = r.gA.Init(l.$k);
              t.Body().set_gid(e);
              const a = (0, o.dB)();
              return (
                await l.Bn.GetMarketingMessageViewerStats(
                  a.GetServiceTransport(),
                  t,
                )
              )
                .Body()
                .stats()
                .map((e) => e.toObject());
            })(e),
          { staleTime: 3600 },
        );
        return a ? null : t;
      }
      function d(e) {
        const t = m(e);
        return (0, n.useMemo)(() => {
          if (!t) return -1;
          let e = 0;
          return t.forEach((t) => (e += t.seen_count)), e;
        }, [t]);
      }
    },
    20840: (e, t, a) => {
      "use strict";
      a.d(t, { X: () => r });
      var n = a(47427);
      class i {
        m_marketingTokens = null;
        m_promiseLoad = null;
        GetMarketingTokens() {
          return this.m_marketingTokens;
        }
        async LoadDictionary() {
          return (
            this.m_promiseLoad ||
              (this.m_promiseLoad = this.InternalLoadDictionary()),
            this.m_promiseLoad
          );
        }
        async InternalLoadDictionary() {
          const [e] = await Promise.all([a.e(4929).then(a.t.bind(a, 5, 19))]);
          return (this.m_marketingTokens = e), this.m_marketingTokens;
        }
        static s_Singleton;
        static Get() {
          return i.s_Singleton || (i.s_Singleton = new i()), i.s_Singleton;
        }
      }
      function r() {
        const [e, t] = (0, n.useState)(i.Get().GetMarketingTokens());
        return (
          (0, n.useEffect)(() => {
            e ||
              i
                .Get()
                .LoadDictionary()
                .then((e) => t(e));
          }, [e]),
          e
        );
      }
    },
    45844: (e, t, a) => {
      "use strict";
      a.d(t, { N: () => d, j: () => u });
      var n = a(80751),
        i = a.n(n),
        r = a(47427),
        l = a(16649),
        s = a(45492),
        o = a(20417),
        c = a(37563);
      class m {
        m_mapPartnerCommList = new Map();
        m_mapPartnerCallbackList = new Map();
        m_promiseLoadPartnerContacts = new Map();
        GetAllPromotionContacts(e) {
          return this.m_mapPartnerCommList.get(e);
        }
        GetListChangeCallback(e) {
          return (
            this.m_mapPartnerCallbackList.has(e) ||
              this.m_mapPartnerCallbackList.set(e, new s.pB()),
            this.m_mapPartnerCallbackList.get(e)
          );
        }
        BHasPromotionContact(e) {
          return this.m_mapPartnerCommList.has(e);
        }
        async LoadPartnerContactList(e) {
          return (
            0 == e ||
            null == e ||
            null == e ||
            (this.m_promiseLoadPartnerContacts.has(e) ||
              this.m_promiseLoadPartnerContacts.set(
                e,
                this.InternalLoadPartnerContactList(e),
              ),
            this.m_promiseLoadPartnerContacts.get(e))
          );
        }
        async InternalLoadPartnerContactList(e) {
          let t = null;
          try {
            const a = {
                partnerid: e,
                sessionid: c.De.SESSIONID,
                bIncludeManagePricingRights: !0,
              },
              n =
                c.De.PARTNER_BASE_URL +
                "promotion/planning/ajaxuserwithreceivecommunications",
              r = await i().get(n, { params: a, withCredentials: !0 });
            if (200 == r?.status && 1 == r?.data?.success) {
              let t = new Map();
              for (const [e, a] of Object.entries(r.data.managepricing))
                t.set(parseInt(e), a);
              return (
                this.m_mapPartnerCommList.set(e, t),
                this.GetListChangeCallback(e).Dispatch(t),
                !0
              );
            }
            t = (0, l.l)(r?.data);
          } catch (e) {
            t = (0, l.l)(e);
          }
          return (
            console.error(
              "CPartnerContactStore.InternalLoadPartnerContactList: ajax request failed with error: " +
                t.strErrorMsg,
              t,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            m.s_Singleton ||
              ((m.s_Singleton = new m()),
              "dev" == c.De.WEB_UNIVERSE &&
                (window.g_PartnerContactStore = m.s_Singleton)),
            m.s_Singleton
          );
        }
        constructor() {}
      }
      function d(e) {
        const [t, a] = (0, r.useState)(m.Get().GetAllPromotionContacts(e));
        return (
          (0, r.useEffect)(() => {
            m.Get().BHasPromotionContact(e)
              ? a(m.Get().GetAllPromotionContacts(e))
              : m.Get().LoadPartnerContactList(e);
          }, [e]),
          (0, o.Qg)(m.Get().GetListChangeCallback(e), a),
          t
        );
      }
      function u(e) {
        const [t, a] = (0, r.useState)(null);
        return (
          (0, r.useEffect)(() => {
            if (e?.length > 0) {
              const t = e
                .filter(Boolean)
                .map((e) => m.Get().LoadPartnerContactList(e));
              Promise.all(t).then(() => {
                const t = new Map();
                e.forEach((e) => {
                  if (m.Get().BHasPromotionContact(e)) {
                    const a = m.Get().GetAllPromotionContacts(e);
                    t.set(e, a ? [...a.keys()] : []);
                  }
                }),
                  a(t);
              });
            }
          }, [e]),
          t
        );
      }
    },
    49781: (e, t, a) => {
      "use strict";
      a.d(t, { Gk: () => d, UZ: () => m, lf: () => u });
      var n = a(80751),
        i = a.n(n),
        r = a(47427),
        l = a(16649),
        s = a(37563),
        o = a(86437);
      class c {
        m_mapAppIDToPaymentPartners = new Map();
        m_mapAppIDToPromise = new Map();
        m_mapPackageIDToPaymentPartners = new Map();
        m_mapPackageIDToPromise = new Map();
        m_mapBundleIDToPaymentPartners = new Map();
        m_mapBundleIDToPromise = new Map();
        GetInfoForApp(e) {
          return this.m_mapAppIDToPaymentPartners.get(e);
        }
        BHasInfoForApp(e) {
          return this.m_mapAppIDToPaymentPartners.has(e);
        }
        GetInfoForPackage(e) {
          return this.m_mapPackageIDToPaymentPartners.get(e);
        }
        BHasInfoForPackage(e) {
          return this.m_mapPackageIDToPaymentPartners.has(e);
        }
        GetInfoForBundle(e) {
          return this.m_mapBundleIDToPaymentPartners.get(e);
        }
        BHasInfoForBundle(e) {
          return this.m_mapBundleIDToPaymentPartners.has(e);
        }
        GetInfoForStoreItem(e, t) {
          switch (t) {
            case 0:
              return this.GetInfoForApp(e);
            case 1:
              return this.GetInfoForPackage(e);
            case 2:
              return this.GetInfoForBundle(e);
            default:
              return null;
          }
        }
        BHasInfoForStoreItem(e, t) {
          switch (t) {
            case 0:
              return this.BHasInfoForApp(e);
            case 1:
              return this.BHasInfoForPackage(e);
            case 2:
              return this.BHasInfoForBundle(e);
            default:
              return !1;
          }
        }
        async LoadAppPartnerInfo(e) {
          return (
            this.m_mapAppIDToPromise.has(e) ||
              this.m_mapAppIDToPromise.set(
                e,
                this.InternalLoadAppPartnerInfo(e, null, null),
              ),
            this.m_mapAppIDToPromise.get(e)
          );
        }
        async LoadPackagePartnerInfo(e) {
          return (
            this.m_mapPackageIDToPromise.has(e) ||
              this.m_mapPackageIDToPromise.set(
                e,
                this.InternalLoadAppPartnerInfo(null, e, null),
              ),
            this.m_mapPackageIDToPromise.get(e)
          );
        }
        async LoadBundlePartnerInfo(e) {
          return (
            this.m_mapBundleIDToPromise.has(e) ||
              this.m_mapBundleIDToPromise.set(
                e,
                this.InternalLoadAppPartnerInfo(null, null, e),
              ),
            this.m_mapBundleIDToPromise.get(e)
          );
        }
        async LoadStoreItemPartnerInfo(e, t) {
          switch (t) {
            case 0:
              return this.LoadAppPartnerInfo(e);
            case 1:
              return this.LoadPackagePartnerInfo(e);
            case 2:
              return this.LoadBundlePartnerInfo(e);
            default:
              return null;
          }
        }
        async InternalLoadAppPartnerInfo(e, t, a) {
          let n = null;
          try {
            const r = { appid: e, packageid: t, bundleid: a },
              o = s.De.PARTNER_BASE_URL + "promotion/dailydeals/ajaxgetpartner",
              c = await i().get(o, { params: r, withCredentials: !0 });
            if (200 == c?.status && 1 == c.data?.success)
              return e
                ? (this.m_mapAppIDToPaymentPartners.set(e, c.data.partnerinfo),
                  this.m_mapAppIDToPaymentPartners.get(e))
                : t
                  ? (this.m_mapPackageIDToPaymentPartners.set(
                      t,
                      c.data.partnerinfo,
                    ),
                    this.m_mapPackageIDToPaymentPartners.get(t))
                  : (this.m_mapBundleIDToPaymentPartners.set(
                      a,
                      c.data.partnerinfo,
                    ),
                    this.m_mapBundleIDToPaymentPartners.get(a));
            n = (0, l.l)(c);
          } catch (e) {
            n = (0, l.l)(e);
          }
          return (
            console.error(
              "CPartnerPaymentStore.LoadAppPartnerInfo failed: " +
                n?.strErrorMsg,
              n,
            ),
            null
          );
        }
        static s_Singleton;
        static Get() {
          return (
            c.s_Singleton ||
              ((c.s_Singleton = new c()),
              "dev" == s.De.WEB_UNIVERSE &&
                (window.g_DailyDealEditStore = c.s_Singleton)),
            c.s_Singleton
          );
        }
        constructor() {}
      }
      function m(e) {
        return d(e.id, (0, o.YF)(e));
      }
      function d(e, t) {
        const [a, n] = r.useState(() => c.Get().GetInfoForStoreItem(e, t));
        return (
          r.useEffect(() => {
            e
              ? c.Get().BHasInfoForStoreItem(e, t) && null != a
                ? c.Get().BHasInfoForStoreItem(e, t) &&
                  a != c.Get().GetInfoForStoreItem(e, t) &&
                  n(c.Get().GetInfoForStoreItem(e, t))
                : c.Get().LoadStoreItemPartnerInfo(e, t).then(n)
              : n(null);
          }, [e, t, a]),
          a
        );
      }
      function u(e) {
        const [t, a] = (0, r.useState)(null);
        return (
          (0, r.useEffect)(() => {
            if (e?.length > 0) {
              const t = e.map((e) => c.Get().LoadStoreItemPartnerInfo(e, 0));
              Promise.all(t).then(() => {
                const t = new Map();
                e.forEach((e) => {
                  c.Get().BHasInfoForApp(e) &&
                    t.set(e, c.Get().GetInfoForApp(e));
                }),
                  a(t);
              });
            }
          }, [e]),
          t
        );
      }
    },
    51485: (e, t, a) => {
      "use strict";
      a.d(t, { z9: () => E, Dv: () => S, R0: () => v, pY: () => D });
      var n = a(85556),
        i = a(79545),
        r = a(5697),
        l = a(54842),
        s = a(45492),
        o = a(20417),
        c = a(65255);
      class m {
        m_oInput = null;
        m_originalInput = null;
        m_planID;
        m_bDirty = !1;
        m_callback = new s.pB();
        constructor(e, t) {
          (0, l.rC)(this), this.Reset(e, t);
        }
        Reset(e, t) {
          (this.m_planID = e),
            (this.m_originalInput = JSON.parse(JSON.stringify(t))),
            (this.m_oInput = JSON.parse(JSON.stringify(t))),
            (this.m_bDirty = !1);
        }
        SaveSuccessClearDirty() {
          (this.m_originalInput = JSON.parse(JSON.stringify(this.m_oInput))),
            (this.m_bDirty = !1);
        }
        GetInputPipeline() {
          return this.m_oInput;
        }
        GetPromotionName() {
          return this.m_oInput.requested_promotion_name;
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        BIsEnabled() {
          return this.m_oInput.enable_input;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oInput;
        }
        GetPlanID() {
          return this.m_planID;
        }
        GetArtRequests() {
          return this.m_oInput.art_requests;
        }
        GetDueDate() {
          return this.m_oInput.due_date;
        }
        BHasValveNote() {
          return (
            Boolean(this.m_oInput.valve_note) &&
            this.m_oInput.valve_note.trim().length > 0
          );
        }
        BHasPartnerNote() {
          return (
            Boolean(this.m_oInput.partner_note) &&
            this.m_oInput.partner_note.trim().length > 0
          );
        }
        GetValveNote() {
          return this.m_oInput.valve_note;
        }
        GetPartnerNote() {
          return this.m_oInput.partner_note;
        }
        GetDiscountEventID() {
          return this.m_oInput.asset_request_discount_event_id_clone;
        }
        GetPreviewArt() {
          return this.m_oInput.preview_art;
        }
        GetPreviewArtOfType(e) {
          return this.m_oInput.preview_art?.find((t) => t.type == e);
        }
        BHasPreviewArtOfType(e) {
          return Boolean(this.GetPreviewArtOfType(e));
        }
        GetArtInputLink() {
          return this.m_oInput.input_artwork_url;
        }
        BHasInputArtworkLink() {
          return (
            Boolean(this.m_oInput.input_artwork_url) &&
            this.m_oInput.input_artwork_url.trim().length > 0
          );
        }
        BHasAnyArtTypeRequested() {
          return this.m_oInput.art_requests?.length > 0;
        }
        BIsArtTypeRequested(e) {
          return Boolean(this.m_oInput.art_requests?.find((t) => t == e));
        }
        BIsTakeoverArtRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find((e) => "takeover_art" == e),
          );
        }
        BIsContentHubTakeoverArtRequest() {
          return this.m_oInput.content_hub_takeover;
        }
        BIsTakeunderArtRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find((e) => "takeunder_art" == e),
          );
        }
        BIsSpotlightArtRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find((e) => "spotlight_art" == e),
          );
        }
        BIsSalePageArtRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find((e) => "sale_header" == e),
          );
        }
        BIsMarketingMessageArtRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find(
              (e) => "marketingmessage_art" == e,
            ),
          );
        }
        BIsMarketingMessageArtRequest_2() {
          return Boolean(
            this.m_oInput.art_requests?.find(
              (e) => "marketingmessage_art_2" == e,
            ),
          );
        }
        BIsEventHeaderImageRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find(
              (e) => "localized_title_image" == e,
            ),
          );
        }
        BHasAnyArtTypeReviewRequested() {
          return this.m_oInput.art_requests?.length > 0;
        }
        BIsArtTypeReviewRequested(e) {
          return Boolean(
            this.m_oInput.art_approvals_request?.find((t) => t == e),
          );
        }
        BRequestEnabled() {
          return this.m_oInput.enable_input;
        }
        GetExistingArtForApprovals() {
          return this.m_oInput.approval_requests;
        }
        GetArtApprovals() {
          return this.m_oInput.approvals_provided;
        }
        BHasAnyArtTypeForApproval() {
          return this.m_oInput.approval_requests?.length > 0;
        }
        BIsArtTypeApproved(e) {
          return Boolean(
            this.m_oInput.approvals_provided?.find((t) => t.type == e),
          );
        }
        BIsTakeoverArtApproved() {
          return Boolean(
            this.m_oInput.approvals_provided?.find(
              (e) => "takeover_art" == e.type,
            ),
          );
        }
        BIsTakeunderArtApproved() {
          return Boolean(
            this.m_oInput.approvals_provided?.find(
              (e) => "takeunder_art" == e.type,
            ),
          );
        }
        BIsSpotlightArtApproved() {
          return Boolean(
            this.m_oInput.approvals_provided?.find(
              (e) => "spotlight_art" == e.type,
            ),
          );
        }
        BIsMarketingMessageArtApproved() {
          return Boolean(
            this.m_oInput.approvals_provided?.find(
              (e) => "marketingmessage_art" == e.type,
            ),
          );
        }
        BIsMarketingMessageArtApproved_2() {
          return Boolean(
            this.m_oInput.approvals_provided?.find(
              (e) => "marketingmessage_art_2" == e.type,
            ),
          );
        }
        GetSubmittingAccount() {
          return this.m_oInput.submitting_accountid;
        }
        GetAssetRequestContactInfo() {
          return this.m_oInput.asset_request_contact_info || "";
        }
        ClearInput() {
          (this.m_oInput.preview_art = []),
            (this.m_oInput.input_artwork_url = void 0),
            (this.m_oInput.partner_note = void 0),
            this.Dispatch();
        }
        SetInputArtworkLink(e) {
          this.m_oInput.input_artwork_url != e &&
            ((this.m_oInput.input_artwork_url = e), this.Dispatch());
        }
        SetAssetRequestContactInfo(e) {
          this.m_oInput.asset_request_contact_info != e &&
            ((this.m_oInput.asset_request_contact_info = e), this.Dispatch());
        }
        ToggleArtRequest(e, t) {
          if (this.BIsArtTypeRequested(e) != t) {
            if (t) this.m_oInput.art_requests.push(e);
            else {
              const t = this.m_oInput.art_requests.findIndex((t) => t === e);
              this.m_oInput.art_requests.splice(t, 1);
            }
            this.Dispatch();
          }
        }
        ToggleArtReviewRequest(e, t) {
          if (this.BIsArtTypeReviewRequested(e) != t) {
            if (t) this.m_oInput.art_approvals_request.push(e);
            else {
              const t = this.m_oInput.art_approvals_request.findIndex(
                (t) => t === e,
              );
              this.m_oInput.art_approvals_request.splice(t, 1);
            }
            this.Dispatch();
          }
        }
        SetDueDate(e) {
          this.m_oInput.due_date !== e &&
            ((this.m_oInput.due_date = e), this.Dispatch());
        }
        SetRequestEnabled(e) {
          this.m_oInput.enable_input !== e &&
            ((this.m_oInput.enable_input = e), this.Dispatch());
        }
        SetValveNote(e) {
          this.m_oInput.valve_note != e &&
            ((this.m_oInput.valve_note = e), this.Dispatch());
        }
        SetPartnerNote(e) {
          this.m_oInput.partner_note != e &&
            ((this.m_oInput.partner_note = e), this.Dispatch());
        }
        SetRequestedArt(e) {
          (this.m_oInput.art_requests = [...e]), this.Dispatch();
        }
        SetPreviewArt(e, t, a) {
          this.m_oInput.preview_art || (this.m_oInput.preview_art = []);
          const n = this.m_oInput.preview_art.findIndex((e) => e.type == t);
          n >= 0
            ? (this.m_oInput.preview_art[n].filename === a &&
                this.m_oInput.preview_art[n].lang === e) ||
              ((this.m_oInput.preview_art[n].filename = a),
              (this.m_oInput.preview_art[n].lang = e),
              this.Dispatch())
            : (this.m_oInput.preview_art.push({
                type: t,
                filename: a,
                lang: e,
              }),
              this.Dispatch());
        }
        SetExistingArtForApprovals(e, t) {
          this.m_oInput.approval_requests ||
            (this.m_oInput.approval_requests = []);
          const a = this.m_oInput.approval_requests.findIndex(
            (t) => t.type == e,
          );
          a >= 0
            ? this.m_oInput.approval_requests[a].filename !== t &&
              ((this.m_oInput.approval_requests[a].filename = t),
              this.Dispatch())
            : (this.m_oInput.approval_requests.push({ type: e, filename: t }),
              this.Dispatch());
        }
        SetArtApprovals(e) {
          this.m_oInput.approvals_provided ||
            (this.m_oInput.approvals_provided = []);
          this.m_oInput.approvals_provided.findIndex((t) => t.type == e) < 0 &&
            (this.m_oInput.approvals_provided.push({
              type: e,
              approval_accountid: c.L7.accountid,
              approval_time: Math.floor(Date.now() / 1e3),
            }),
            this.Dispatch());
        }
        SetContentHubTakeover(e) {
          this.m_oInput.content_hub_takeover != e &&
            ((this.m_oInput.content_hub_takeover = e), this.Dispatch());
        }
        RevertChanges() {
          (this.m_oInput = JSON.parse(JSON.stringify(this.m_originalInput))),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, n.gn)([l.LO], m.prototype, "m_bDirty", void 0),
        (0, n.gn)([o.ak], m.prototype, "ClearInput", null),
        (0, n.gn)([o.ak], m.prototype, "SetInputArtworkLink", null),
        (0, n.gn)([o.ak], m.prototype, "SetAssetRequestContactInfo", null),
        (0, n.gn)([o.ak], m.prototype, "ToggleArtRequest", null),
        (0, n.gn)([o.ak], m.prototype, "ToggleArtReviewRequest", null),
        (0, n.gn)([o.ak], m.prototype, "SetDueDate", null),
        (0, n.gn)([o.ak], m.prototype, "SetRequestEnabled", null),
        (0, n.gn)([o.ak], m.prototype, "SetValveNote", null),
        (0, n.gn)([o.ak], m.prototype, "SetPartnerNote", null),
        (0, n.gn)([o.ak], m.prototype, "SetRequestedArt", null),
        (0, n.gn)([o.ak], m.prototype, "SetPreviewArt", null),
        (0, n.gn)([o.ak], m.prototype, "SetExistingArtForApprovals", null),
        (0, n.gn)([o.ak], m.prototype, "SetArtApprovals", null),
        (0, n.gn)([o.ak], m.prototype, "SetContentHubTakeover", null),
        (0, n.gn)([o.ak], m.prototype, "RevertChanges", null);
      var d = a(47427),
        u = a(77581),
        p = a(62210),
        _ = a(16649),
        h = a(37563);
      class g {
        m_model = null;
        m_SteamInterface = null;
        InitPromotionPlanToEdit(e, t, a = !1) {
          return (
            "dev" == h.De.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CPlanInputPipelineEditStore.InitPromotionPlanToEdit with model: " +
                  Boolean(this.m_model),
                (0, l.ZN)(t),
              ),
            this.m_model
              ? (this.m_model.Reset(e, t),
                a && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new m(e, t)),
            this.m_model
          );
        }
        GetPromotionPlanToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        async UpdateInputPlanPartnerInfo(e) {
          const t = i.gA.Init(r.eh),
            a = this.m_model.GetModel();
          (a.submitting_accountid = h.L7.accountid),
            (a.submitting_rtime = Math.floor(Date.now() / 1e3));
          const n = {
            promotion_id: this.m_model.GetPlanID(),
            input_jsondata: JSON.stringify(a),
            rtime32_start_time: 0,
            rtime32_end_time: 0,
            partner_jsondata: JSON.stringify({}),
            input_access_key: e,
          };
          t.Body().set_plan(r.Fc.fromObject(n)),
            t.Body().set_promotion_id(n.promotion_id);
          let l = null;
          try {
            let a = null;
            if (
              ((a = e
                ? await r.nd.UpdatePlanInputData(
                    this.m_SteamInterface.GetAnonymousServiceTransport(),
                    t,
                  )
                : await r.nd.UpdatePlanPartnerInfo(
                    this.m_SteamInterface.GetServiceTransport(),
                    t,
                  )),
              1 == a.GetEResult())
            )
              return this.m_model.SaveSuccessClearDirty(), !0;
            l = (0, _.l)(a);
          } catch (e) {
            l = (0, _.l)(e);
          }
          return (
            console.error(
              "CPlanInputPipelineEditStore.UpdateInputPlanPartnerInfo failed: " +
                l?.strErrorMsg +
                " with inputaccess: " +
                Boolean(e),
              l,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            g.s_Singleton ||
              ((g.s_Singleton = new g()),
              g.s_Singleton.Init(),
              "dev" == h.De.WEB_UNIVERSE &&
                (window.g_PromotionPlanInputPipelineEditStore = g.s_Singleton)),
            g.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, h.kQ)(
            "promotion_operation_token",
            "application_config",
          );
          (0, p.X)(
            e,
            "CPlanInputPipelineEditStore: promotion operation token is missing",
          ),
            (this.m_SteamInterface = new u.J(h.De.WEBAPI_BASE_URL, e));
          const t = (0, h.ip)("promotion_plan_id", "application_config"),
            a = JSON.parse(
              (0, h.ip)("promotion_plan_input", "application_config"),
            );
          this.ValidateInputDefault(a)
            ? this.InitPromotionPlanToEdit(t, a, !0)
            : a &&
              "dev" == h.De.WEB_UNIVERSE &&
              console.error("CPlanInputPipelineEditStore: failed to parse ", a);
        }
        ValidateInputDefault(e) {
          const t = e;
          return t && t.enable_input && Array.isArray(t.art_requests);
        }
      }
      function E(e, t, a = !1) {
        return g.Get().InitPromotionPlanToEdit(e, t, a);
      }
      function S() {
        const e = (0, o.NW)(),
          [t, a] = d.useState(g.Get().GetPromotionPlanToEdit());
        return (
          (0, o.Qg)(t?.GetCallback(), (t) => {
            a(t), e();
          }),
          t
        );
      }
      function v() {
        return {
          fnBIsPlanInputPipelineDirty: d.useCallback(
            () =>
              !!g.Get().GetPromotionPlanToEdit() &&
              g.Get().GetPromotionPlanToEdit().BIsDirty(),
            [],
          ),
          fnResetDirtyPlanInputPipeline: d.useCallback(() => {
            g.Get().ClearEditModel();
          }, []),
        };
      }
      function D() {
        return {
          fnUpdatePipelineInputAsPartner: g.Get().UpdateInputPlanPartnerInfo,
        };
      }
      (0, n.gn)([o.ak], g.prototype, "UpdateInputPlanPartnerInfo", null);
    },
    25127: (e, t, a) => {
      "use strict";
      a.d(t, { _: () => n });
      const n = 29;
    },
    36876: (e, t, a) => {
      "use strict";
      a.d(t, {
        Bd: () => f,
        LL: () => b,
        Nt: () => y,
        P9: () => w,
        bu: () => A,
        cw: () => I,
        fZ: () => C,
        tN: () => v,
        wF: () => k,
      });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(47427),
        s = (a(42718), a(79545)),
        o = a(77581),
        c = a(5697),
        m = a(62210),
        d = a(16649),
        u = a(16997),
        p = a(45492),
        _ = a(20417),
        h = a(46984),
        g = a(37563),
        E = a(93727),
        S = a(86437);
      function v(e) {
        const t = Date.now() / 1e3;
        return e.rtaccepttime
          ? E.O7.InviteAccepted
          : e.rtexpiretime < t
            ? E.O7.InviteExpired
            : e.cancelled
              ? E.O7.Cancelled
              : E.O7.InviteActive;
      }
      class D {
        m_mapInvites = new Map();
        m_mapInviteCallback = new Map();
        m_mapPromotionPlanIDToInvites = new Map();
        m_mapPromotionPlanIDToInvitesCallback = new Map();
        m_mapPromotionPlanIDToInvitesPromises = new Map();
        m_inviteAddRemoveCallback = new p.pB();
        m_SteamInterface = null;
        GetAllInvites() {
          return Array.from(this.m_mapInvites.values());
        }
        GetInvite(e) {
          return this.m_mapInvites.get(e);
        }
        GetInviteChangeCallback(e) {
          return (
            this.m_mapInviteCallback.has(e) ||
              this.m_mapInviteCallback.set(e, new p.pB()),
            this.m_mapInviteCallback.get(e)
          );
        }
        GetInviteAddRemoveCallback() {
          return this.m_inviteAddRemoveCallback;
        }
        GetPromotionPlanIDCallback(e) {
          return (
            this.m_mapPromotionPlanIDToInvitesCallback.has(e) ||
              this.m_mapPromotionPlanIDToInvitesCallback.set(e, new p.pB()),
            this.m_mapPromotionPlanIDToInvitesCallback.get(e)
          );
        }
        GetPromotionInvitesForStoreItem(e, t) {
          return Array.from(this.m_mapInvites.values()).filter((a) => {
            switch (t) {
              case 0:
                return e == a.appid;
              case 1:
                return e == a.packageid;
              case 2:
                return (e = a.bundleid);
            }
            return !1;
          });
        }
        GetPromotionEventInvitesByPlanID(e) {
          return this.m_mapPromotionPlanIDToInvites.get(e);
        }
        CreateMapByStoreItem() {
          const e = new Map(),
            t = Math.floor(Date.now() / 1e3);
          return (
            this.GetAllInvites().forEach((a) => {
              if (!a.accept_account && !a.cancelled && a.rtexpiretime > t) {
                let t = null;
                a.appid
                  ? (t = (0, S.qw)(a.appid, 0))
                  : a.bundleid
                    ? (t = (0, S.qw)(a.bundleid, 2))
                    : a.packageid && (t = (0, S.qw)(a.packageid, 1)),
                  t && (e.has(t) ? e.get(t).push(a) : e.set(t, [a]));
              }
            }),
            e
          );
        }
        async CreatePromoInvite(e) {
          const {
            rtExpireTime: t,
            nPartnerID: a,
            oInviteItem: n,
            type: i,
            strPromotionPlanID: l,
            bRequireSalePage: s,
            eRequireSalePageType: o,
            bRequireMarketingBanner: c,
            bRequireSpotlightBanner: m,
          } = e;
          let u = null;
          try {
            const e = new FormData();
            e.append("sessionid", g.De.SESSIONID),
              n.appid && e.append("nAppID", "" + n.appid),
              n.packageid && e.append("nPackageID", "" + n.packageid),
              n.bundleid && e.append("nBundleID", "" + n.bundleid),
              a && e.append("nPartnerID", "" + a),
              l && e.append("strPromotionPlanID", "" + l),
              s && e.append("bRequireSalePage", "" + s),
              o && e.append("eRequireSalePageType", "" + o),
              m && e.append("bRequireSpotlightBanner", "" + m),
              c && e.append("bRequireMarketingBanner", "" + c),
              e.append("nPromoType", "" + i),
              e.append("rtExpireTime", "" + t);
            const p = g.De.PARTNER_BASE_URL + "dailydeals/ajaxinviteapptopromo",
              _ = await r().post(p, e, { withCredentials: !0 });
            if (200 == _?.status) {
              if (1 == _.data?.success && _.data.inviteid) {
                let e = h.QU();
                const i = {
                  inviteid: _.data.inviteid,
                  invite_account: g.L7.accountid,
                  appid: n.appid,
                  packageid: n.packageid,
                  bundleid: n.bundleid,
                  primary_partnerid: a,
                  rtinvitetime: e,
                  rtexpiretime: t,
                };
                this.m_mapInvites.set(_.data.inviteid, i),
                  this.m_inviteAddRemoveCallback.Dispatch(i);
              }
              return _.data?.success;
            }
            u = (0, d.l)(_);
          } catch (e) {
            u = (0, d.l)(e);
          }
          return (
            console.error(
              "CPromotionInviteStore.CreatePromoInvite failed: " +
                u?.strErrorMsg,
              u,
            ),
            2
          );
        }
        async CancelInvite(e) {
          if (!this.m_mapInvites.has(e)) return !1;
          const t = s.gA.Init(c.s6);
          t.Body().set_inviteid(e);
          if (
            1 ==
            (
              await c.v9.CancelInvite(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              )
            ).GetEResult()
          ) {
            const t = this.m_mapInvites.get(e);
            return (
              this.m_mapInvites.delete(e),
              this.m_inviteAddRemoveCallback.Dispatch(t),
              !0
            );
          }
          return !1;
        }
        async AcceptInvitation(e, t, a, n, i) {
          const r = s.gA.Init(c.zP);
          r.Body().set_inviteid(e),
            r.Body().set_rtdatechosen(t),
            i
              ? r.Body().set_skip_discount_event(!0)
              : (r.Body().set_discount_days(a), r.Body().set_discount_info(n));
          const l = await c.v9.AcceptInvite(
            this.m_SteamInterface.GetServiceTransport(),
            r,
          );
          return {
            errorCode: l.GetEResult(),
            strErrorMsg: l.GetErrorMessage(),
          };
        }
        async ResendInvitationEmail(e) {
          if (!this.m_mapInvites.has(e)) return !1;
          let t = null;
          try {
            const t = s.gA.Init(c.QN);
            t.Body().set_inviteid(e);
            const a = await c.v9.ResendEmailInvite(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            return a.BSuccess() && 1 == a.GetEResult();
          } catch (e) {
            t = (0, d.l)(e);
          }
          return (
            console.error(
              "CPromotionInviteStore.ResendInvitationEmail failed: " +
                t?.strErrorMsg,
              t,
            ),
            !1
          );
        }
        async LoadInviteByPromotionPlanID(e) {
          return (
            this.m_mapPromotionPlanIDToInvitesPromises.has(e) ||
              this.m_mapPromotionPlanIDToInvitesPromises.set(
                e,
                this.InternalLoadInviteByPromotionPlanID(e),
              ),
            this.m_mapPromotionPlanIDToInvitesPromises.get(e)
          );
        }
        async InternalLoadInviteByPromotionPlanID(e) {
          const t = s.gA.Init(c.I8);
          let a = null;
          try {
            t.Body().set_promotion_id(e);
            const n = await c.v9.GetInvite(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            if (1 == n.GetEResult()) {
              const t = new Array();
              return (
                n
                  .Body()
                  .invites()
                  .forEach((e) => t.push(e.toObject())),
                this.m_mapPromotionPlanIDToInvites.set(e, t),
                this.GetPromotionPlanIDCallback(e).Dispatch(t),
                1
              );
            }
            a = (0, d.l)(n);
          } catch (e) {
            a = (0, d.l)(e);
          }
          return (
            console.error(
              "CPromotionInviteStore.InternalLoadInviteByPromotionPlanID failed: on item " +
                e +
                " with " +
                a?.strErrorMsg,
              a,
            ),
            2
          );
        }
        async FetchPromotionEventInviteEmailTargets(e) {
          const t = s.gA.Init(c.L2);
          t.Body().set_inviteid(e);
          return (
            await c.v9.GetEmailTargets(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            )
          )
            .Body()
            .toObject();
        }
        static s_Singleton;
        static Get() {
          return (
            D.s_Singleton ||
              ((D.s_Singleton = new D()),
              D.s_Singleton.Init(),
              "dev" == g.De.WEB_UNIVERSE &&
                (window.g_PromoInviteStore = D.s_Singleton)),
            D.s_Singleton
          );
        }
        Init() {
          let e = (0, g.kQ)("promotioninvites", "application_config");
          this.ValidateStoreDefault(e) &&
            e.forEach((e) => this.m_mapInvites.set(e.inviteid, e));
          const t = (0, g.kQ)(
            "promotion_operation_token",
            "application_config",
          );
          (0, m.X)(Boolean(t), "require promotion_operation_token"),
            "dev" == g.De.WEB_UNIVERSE &&
              console.log(
                "DEV_DEBUG Initializing CMarketingMessageStore with access token ",
                t,
              ),
            (this.m_SteamInterface = new o.J(g.De.WEBAPI_BASE_URL, t));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].inviteid &&
            "number" == typeof t[0].appid &&
            "number" == typeof t[0].rtinvitetime
          );
        }
      }
      function f(e) {
        const [t, a] = (0, l.useState)(() =>
          e
            ? D.Get()
                .GetAllInvites()
                .filter((t) => t.type == e)
            : D.Get().GetAllInvites(),
        );
        return (
          (0, _.Qg)(D.Get().GetInviteAddRemoveCallback(), () => {
            a(
              e
                ? D.Get()
                    .GetAllInvites()
                    .filter((t) => t.type == e)
                : D.Get().GetAllInvites(),
            );
          }),
          t
        );
      }
      function y(e) {
        const t = (0, _.NW)();
        return (
          (0, _.Qg)(D.Get().GetInviteChangeCallback(e), () => t()),
          D.Get().GetInvite(e)
        );
      }
      function b() {
        return { fnCreatePromoInvite: D.Get().CreatePromoInvite };
      }
      function I() {
        return { fnCancelInvite: D.Get().CancelInvite };
      }
      function C() {
        return { fnAcceptInvitation: D.Get().AcceptInvitation };
      }
      function k() {
        return { fnResendInvitationEmail: D.Get().ResendInvitationEmail };
      }
      function A(e) {
        const [t, a] = (0, l.useState)(
          D.Get().GetPromotionEventInvitesByPlanID(e),
        );
        return (
          (0, l.useEffect)(() => {
            (!t || (t.length > 0 && t[0].promotion_id != e)) &&
              D.Get().LoadInviteByPromotionPlanID(e);
          }),
          (0, _.Qg)(D.Get().GetPromotionPlanIDCallback(e), a),
          t
        );
      }
      function w() {
        const [e, t] = (0, l.useState)(() => D.Get().CreateMapByStoreItem());
        return (
          (0, _.Qg)(D.Get().GetInviteAddRemoveCallback(), () =>
            t(D.Get().CreateMapByStoreItem()),
          ),
          e
        );
      }
      (0, n.gn)([u.a], D.prototype, "CreatePromoInvite", null),
        (0, n.gn)([u.a], D.prototype, "CancelInvite", null),
        (0, n.gn)([u.a], D.prototype, "AcceptInvitation", null),
        (0, n.gn)([u.a], D.prototype, "ResendInvitationEmail", null),
        (0, n.gn)([u.a], D.prototype, "LoadInviteByPromotionPlanID", null);
    },
    36342: (e, t, a) => {
      "use strict";
      a.d(t, { oN: () => g, xn: () => h, Gn: () => E, u9: () => S });
      var n = a(85556),
        i = a(45492),
        r = a(20417),
        l = a(86437),
        s = a(54842),
        o = a(37563),
        c = a(35427),
        m = a(62210),
        d = a(4618);
      class u {
        m_oPromotionPlan = null;
        m_originalPromotionPlan = null;
        m_nPartnerID = null;
        m_nOriginalPartnerID = null;
        m_bDirty = !1;
        m_callback = new i.pB();
        m_storeItemKey = null;
        constructor(e, t) {
          (0, s.rC)(this), this.Reset(e, t);
        }
        Reset(e, t) {
          (this.m_originalPromotionPlan = JSON.parse(JSON.stringify(e))),
            (this.m_oPromotionPlan = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1),
            (this.m_nOriginalPartnerID = t),
            (this.m_nPartnerID = t),
            this.m_oPromotionPlan.store_item_id &&
              (this.m_storeItemKey = (0, l.t9)(
                this.m_oPromotionPlan.store_item_id,
                this.m_oPromotionPlan.store_item_type,
              )),
            (this.m_originalPromotionPlan.contenthub_takeover_ids =
              this.m_originalPromotionPlan.contenthub_takeover_ids ?? []),
            (this.m_originalPromotionPlan.contenthub_takeover_types =
              this.m_originalPromotionPlan.contenthub_takeover_types ?? []),
            (this.m_originalPromotionPlan.contenthub_takeover_reviewed =
              this.m_originalPromotionPlan.contenthub_takeover_reviewed ?? []),
            (this.m_oPromotionPlan.contenthub_takeover_ids =
              this.m_oPromotionPlan.contenthub_takeover_ids ?? []),
            (this.m_oPromotionPlan.contenthub_takeover_types =
              this.m_oPromotionPlan.contenthub_takeover_types ?? []),
            (this.m_oPromotionPlan.contenthub_takeover_reviewed =
              this.m_oPromotionPlan.contenthub_takeover_reviewed ?? []);
        }
        SaveSuccessClearDirty() {
          (this.m_originalPromotionPlan = JSON.parse(
            JSON.stringify(this.m_oPromotionPlan),
          )),
            (this.m_bDirty = !1),
            (this.m_nOriginalPartnerID = this.m_nPartnerID);
        }
        GetPlan() {
          return this.m_oPromotionPlan;
        }
        GetPartnerID() {
          return this.m_nPartnerID;
        }
        GetOriginalPartnerID() {
          return this.m_nOriginalPartnerID;
        }
        GetCreatorAccountID() {
          return this.m_oPromotionPlan.creator_account_id;
        }
        GetOwnerAccountID() {
          return (
            this.m_oPromotionPlan.owner_account_id ||
            this.m_oPromotionPlan.creator_account_id
          );
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetID() {
          return this.m_oPromotionPlan.id;
        }
        GetModel() {
          return this.m_oPromotionPlan;
        }
        GetStartDate() {
          return this.m_oPromotionPlan.start_date;
        }
        GetEndDate() {
          return this.m_oPromotionPlan.end_date;
        }
        GetName() {
          return this.m_oPromotionPlan.name;
        }
        GetType() {
          return this.m_oPromotionPlan.type;
        }
        GetFeaturingIntention() {
          return this.m_oPromotionPlan.intention || "none";
        }
        GetAdminNotes() {
          return this.m_oPromotionPlan.admin_notes;
        }
        GetPromotionPlannerNote() {
          return this.m_oPromotionPlan.promotion_planner_notes;
        }
        BOnWatchList(e) {
          return this.m_oPromotionPlan.watch_list?.find((t) => t == e);
        }
        BHasFeaturedStoreItem() {
          return Boolean(this.m_oPromotionPlan.store_item_id);
        }
        GetStoreItemKey() {
          return this.m_storeItemKey;
        }
        GetFeaturedItemID() {
          return this.m_oPromotionPlan.store_item_id;
        }
        GetFeaturedItemType() {
          return this.m_oPromotionPlan.store_item_type;
        }
        GetPartnerRequireArtworkReview() {
          return this.m_oPromotionPlan.partner_requires_art_review;
        }
        BRequiresSalePage() {
          return this.m_oPromotionPlan.requires_sale_page;
        }
        GetRequiresSalePageType() {
          return 0;
        }
        BHasPromotionFeaturingForArtRequirement(e, t) {
          switch (e) {
            case "marketingmessage_art":
            case "marketingmessage_art_2":
              return this.BHasMarketingMessages(t);
            case "spotlight_art":
              return this.BHasSpotlightIDs();
            case "takeover_art":
            case "takeover_mobile_art":
            case "takeover_webm_art":
            case "takeover_mp4_art":
            case "takeover_webm_mobile_art":
            case "takeover_mp4_mobile_art":
              return (
                this.BHasTakeoverIDs() ||
                this.BHasContentHubTakeoverIDs() ||
                this.BHasSteamChinaTakeoverID() ||
                this.BHasContentHubTakeoverIDs()
              );
            case "takeunder_art":
            case "takeunder_mobile_art":
              return this.BHasTakeunderIDs();
            case "sale_header":
            case "sale_logo":
            case "capsule":
            case "product_banner":
            case "product_mobile_banner":
            case "localized_title_image":
              return this.BHasAssociatedSaleEvent();
            case "app_header_capsule":
            case "app_main_capsule":
              return this.BHasAdvertisingAppID();
          }
          return (0, m.X)(!1, "Unexpected artwork promo type; " + e), !1;
        }
        BHasSpotlightIDs(e) {
          return e >= 0 && this.m_oPromotionPlan.spotlight_ids?.length > e
            ? Boolean(this.m_oPromotionPlan.spotlight_ids[e])
            : this.m_oPromotionPlan.spotlight_ids?.some(Boolean);
        }
        GetSpotlightIDs(e) {
          return this.m_oPromotionPlan.spotlight_ids
            ? this.m_oPromotionPlan.spotlight_ids[e]
            : null;
        }
        GetSpotlightReviewed(e) {
          return this.m_oPromotionPlan.spotlight_reviewed
            ? this.m_oPromotionPlan.spotlight_reviewed[e]
            : null;
        }
        BHasMarketingMessages(e) {
          return e >= 0
            ? this.m_oPromotionPlan.marketing_message_ids?.length > e &&
                Boolean(this.m_oPromotionPlan.marketing_message_ids[e])
            : this.m_oPromotionPlan.marketing_message_ids?.some(Boolean);
        }
        GetMarketingMessageID(e) {
          return this.m_oPromotionPlan.marketing_message_ids?.length > e
            ? this.m_oPromotionPlan.marketing_message_ids[e]
            : null;
        }
        GetAllMarketingMessageID(e) {
          return this.m_oPromotionPlan.marketing_message_ids?.length > 0
            ? this.m_oPromotionPlan.marketing_message_ids
            : [];
        }
        GetMarketingMessageReviewed(e) {
          return this.m_oPromotionPlan.marketing_message_reviewed?.length > e
            ? this.m_oPromotionPlan.marketing_message_reviewed[e]
            : null;
        }
        GetClusterArray(e) {
          switch (e) {
            case d.R6.k_ConfigPage_Takeover:
              return this.m_oPromotionPlan.takeover_ids;
            case d.R6.k_ConfigPage_Takeunder:
              return this.m_oPromotionPlan.takeunder_ids;
            case d.R6.k_ConfigPage_TakeoverSteamChina:
              return this.m_oPromotionPlan.steamchina_takeover_ids;
            default:
              return this.m_oPromotionPlan.contenthub_takeover_ids.filter(
                (t, a) =>
                  this.m_oPromotionPlan.contenthub_takeover_types[a] == e,
              );
          }
        }
        GetClusterReviewedArray(e) {
          switch (e) {
            case d.R6.k_ConfigPage_Takeover:
              return this.m_oPromotionPlan.takeover_reviewed;
            case d.R6.k_ConfigPage_Takeunder:
              return this.m_oPromotionPlan.takeunder_reviewed;
            case d.R6.k_ConfigPage_TakeoverSteamChina:
              return this.m_oPromotionPlan.steamchina_takeover_reviewed;
            default:
              return (
                this.m_oPromotionPlan.contenthub_takeover_reviewed || []
              ).filter(
                (t, a) =>
                  this.m_oPromotionPlan.contenthub_takeover_types[a] == e,
              );
          }
        }
        BHasClusterIDs(e, t) {
          const a = this.GetClusterArray(e);
          return t >= 0 && a?.length > t ? Boolean(a[t]) : a?.some(Boolean);
        }
        GetClusterID(e, t) {
          const a = this.GetClusterArray(e);
          return a ? a[t] : null;
        }
        GetClusterReviewed(e, t) {
          const a = this.GetClusterReviewedArray(e);
          return a ? a[t] : null;
        }
        BHasTakeoverIDs(e) {
          return e >= 0 && this.m_oPromotionPlan.takeover_ids?.length > e
            ? Boolean(this.m_oPromotionPlan.takeover_ids[e])
            : this.m_oPromotionPlan.takeover_ids?.some(Boolean);
        }
        GetTakeoverID(e) {
          return this.m_oPromotionPlan.takeover_ids
            ? this.m_oPromotionPlan.takeover_ids[e]
            : null;
        }
        GetTakeoverReviewed(e) {
          return this.m_oPromotionPlan.takeover_reviewed
            ? this.m_oPromotionPlan.takeover_reviewed[e]
            : null;
        }
        BHasSteamChinaTakeoverID(e) {
          return e >= 0 &&
            this.m_oPromotionPlan.steamchina_takeover_ids?.length > e
            ? Boolean(this.m_oPromotionPlan.steamchina_takeover_ids[e])
            : this.m_oPromotionPlan.steamchina_takeover_ids?.some(Boolean);
        }
        GetSteamChinaTakeoverID(e) {
          return this.m_oPromotionPlan.steamchina_takeover_ids
            ? this.m_oPromotionPlan.steamchina_takeover_ids[e]
            : null;
        }
        GetSteamChinaTakeoverReviewed(e) {
          return this.m_oPromotionPlan.steamchina_takeover_reviewed
            ? this.m_oPromotionPlan.steamchina_takeover_reviewed[e]
            : null;
        }
        BHasTakeunderIDs(e) {
          return e >= 0 && this.m_oPromotionPlan.takeunder_ids?.length > e
            ? Boolean(this.m_oPromotionPlan.takeunder_ids[e])
            : this.m_oPromotionPlan.takeunder_ids?.some(Boolean);
        }
        GetTakeunderID(e) {
          return this.m_oPromotionPlan.takeunder_ids
            ? this.m_oPromotionPlan.takeunder_ids[e]
            : null;
        }
        GetTakeunderReviewed(e) {
          return this.m_oPromotionPlan.takeunder_reviewed
            ? this.m_oPromotionPlan.takeunder_reviewed[e]
            : null;
        }
        GetContentHubTakeoverCount() {
          return this.m_oPromotionPlan.contenthub_takeover_ids.length;
        }
        BHasContentHubTakeoverIDs(e) {
          return e >= 0 &&
            this.m_oPromotionPlan.contenthub_takeover_ids.length > e &&
            this.m_oPromotionPlan.contenthub_takeover_types.length > e
            ? Boolean(this.m_oPromotionPlan.contenthub_takeover_ids[e])
            : this.m_oPromotionPlan.contenthub_takeover_ids?.some(Boolean);
        }
        GetContentHubTakeoverID(e) {
          return this.m_oPromotionPlan.contenthub_takeover_ids
            ? this.m_oPromotionPlan.contenthub_takeover_ids[e]
            : null;
        }
        GetContentHubTakeoverType(e) {
          return this.m_oPromotionPlan.contenthub_takeover_types
            ? this.m_oPromotionPlan.contenthub_takeover_types[e]
            : null;
        }
        GetContentHubTakeoverReviewed(e) {
          return this.m_oPromotionPlan.contenthub_takeover_reviewed
            ? this.m_oPromotionPlan.contenthub_takeover_reviewed[e]
            : null;
        }
        GetMainCapsuleID() {
          return this.m_oPromotionPlan.main_capsule_id;
        }
        GetMainCapsuleReviewed() {
          return this.m_oPromotionPlan.main_capsule_reviewed;
        }
        BHasDiscountEventID() {
          return Boolean(this.m_oPromotionPlan.discount_event_id);
        }
        GetDiscountEventID() {
          return this.m_oPromotionPlan.discount_event_id;
        }
        GetDiscountEventReviewed() {
          return this.m_oPromotionPlan.discount_event_reviewed;
        }
        GetOptInID() {
          return this.m_oPromotionPlan.opt_in_id;
        }
        GetOptInReviewed() {
          return this.m_oPromotionPlan.opt_in_reviewed;
        }
        GetGiveawayID() {
          return this.m_oPromotionPlan.giveaway_id;
        }
        GetGiveawayReviewed() {
          return this.m_oPromotionPlan.giveaway_reviewed;
        }
        GetAssociatedAssetURL() {
          return this.m_oPromotionPlan.associated_asset_url;
        }
        GetAssociatedAssetURLForHTML() {
          if (
            this.m_oPromotionPlan.associated_asset_url?.startsWith(
              "\\fileserver",
            )
          ) {
            const e = `file:///${this.m_oPromotionPlan.associated_asset_url.replace(/\\/g, "/")}`;
            return encodeURI(e);
          }
          return this.m_oPromotionPlan.associated_asset_url;
        }
        GetPartnerArtworkSubmissionReviewed() {
          return this.m_oPromotionPlan.partner_artwork_submission_reviewed;
        }
        GetSaleClanEventGID() {
          return this.m_oPromotionPlan.sale_clan_event_gid;
        }
        GetSaleClanAccountID() {
          return this.m_oPromotionPlan.sale_clan_account;
        }
        GetSalePageReviewed() {
          return this.m_oPromotionPlan.sale_page_reviewed;
        }
        BHasAssociatedSaleEvent() {
          return this.m_oPromotionPlan.sale_clan_account > 0;
        }
        GetSaleEditEventURL() {
          if (this.BHasAssociatedSaleEvent()) {
            const e = c.K.InitFromClanID(
              this.m_oPromotionPlan.sale_clan_account,
            );
            return (
              o.De.COMMUNITY_BASE_URL +
              "gid/" +
              e.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              this.m_oPromotionPlan.sale_clan_event_gid +
              "?tab=sale"
            );
          }
          return "";
        }
        BHasAdvertisingAppID() {
          return Boolean(this.m_oPromotionPlan.advertising_appid);
        }
        GetAdvertisingAppID() {
          return this.m_oPromotionPlan.advertising_appid;
        }
        GetAdvertisingReviewed() {
          return this.m_oPromotionPlan.advertising_appid_reviewed;
        }
        BHasInternalWikiURL() {
          return Boolean(this.m_oPromotionPlan.internal_wiki_url);
        }
        GetInternalWikiURL() {
          return this.m_oPromotionPlan.internal_wiki_url;
        }
        BHasAssetKitURL() {
          return Boolean(this.m_oPromotionPlan.asset_kit_url);
        }
        GetAssetKitURL() {
          return this.m_oPromotionPlan.asset_kit_url;
        }
        BIsReviewed() {
          return Boolean(this.m_oPromotionPlan.reviewed_by_account);
        }
        GetReviewedAccount() {
          return this.m_oPromotionPlan.reviewed_by_account;
        }
        GetReviewedTime() {
          return this.m_oPromotionPlan.reviewed_by_time;
        }
        BIsDeliveryReviewed() {
          return Boolean(this.m_oPromotionPlan.delivery_review_account_id);
        }
        GetDeliveryReviewAccount() {
          return this.m_oPromotionPlan.delivery_review_account_id;
        }
        GetDeliveryReviewTime() {
          return this.m_oPromotionPlan.delivery_review_time;
        }
        GetDeliveryReviewNotes() {
          return this.m_oPromotionPlan.delivery_review_notes || "";
        }
        BHasOperatorOwner() {
          return Boolean(this.m_oPromotionPlan.operator_account_id);
        }
        GetOperatorAccountID() {
          return this.m_oPromotionPlan.operator_account_id;
        }
        BHasArtworkOwner() {
          return Boolean(this.m_oPromotionPlan.artwork_owner_account_id);
        }
        GetArtworkOwner() {
          return this.m_oPromotionPlan.artwork_owner_account_id;
        }
        BIsArtworkCompleted() {
          return Boolean(this.m_oPromotionPlan.artwork_completed_time);
        }
        GetArtworkCompleteTime() {
          return this.m_oPromotionPlan.artwork_completed_time;
        }
        GetArtworkLocalizationDropboxLink() {
          return this.m_oPromotionPlan.artwork_localization_dropbox_link;
        }
        GetArtworkLocalizationRequestTime() {
          return this.m_oPromotionPlan.artwork_localization_request_rtime;
        }
        GetArtworkLocalizationTaskID() {
          return this.m_oPromotionPlan.artwork_localization_task_id;
        }
        BHasArtworkLocalizationSteamChinaOnly() {
          return this.m_oPromotionPlan.artwork_localization_steam_china_only;
        }
        BHasArtworkLocalizationRequest(e) {
          return this.m_oPromotionPlan.artwork_localization_request_items?.includes(
            e,
          );
        }
        GetArtworkLocalizationRequests() {
          return this.m_oPromotionPlan.artwork_localization_request_items || [];
        }
        GetArtworkLocationUploadAssetURL() {
          return `${o.De.PARTNER_BASE_URL}promotion/assetportal/localization/${this.m_oPromotionPlan.id}`;
        }
        GetNumArtworkLocalizationRequired() {
          return (
            this.m_oPromotionPlan.artwork_localization_request_items?.length ||
            0
          );
        }
        GetNumArtwork() {
          let e = this.m_oPromotionPlan.marketing_message_ids?.length || 0;
          return (
            (e += this.m_oPromotionPlan.spotlight_ids?.length || 0),
            (e += this.m_oPromotionPlan.takeover_ids?.length || 0),
            (e += this.m_oPromotionPlan.takeunder_ids?.length || 0),
            (e += this.m_oPromotionPlan.steamchina_takeover_ids?.length || 0),
            this.m_oPromotionPlan.sale_clan_account && (e += 5),
            e
          );
        }
        GetSlackChannel() {
          return this.m_oPromotionPlan.slack_channel;
        }
        GetSlackChannelAsURL() {
          return this.m_oPromotionPlan.slack_channel
            ? "https://valvecorp.slack.com/app_redirect?channel=" +
                this.m_oPromotionPlan.slack_channel?.replace("#", "")
            : null;
        }
        BRequireBroadcastModeration() {
          return this.m_oPromotionPlan.require_broadcast_moderation;
        }
        GetBroadcastModerationNotes() {
          return this.m_oPromotionPlan.broadcast_moderation_notes;
        }
        BIsModerationScheduled() {
          return this.m_oPromotionPlan.moderation_arranged;
        }
        SetPartnerID(e) {
          this.m_nPartnerID != e && ((this.m_nPartnerID = e), this.Dispatch());
        }
        SetPartnerRequireArtworkReview(e) {
          this.m_oPromotionPlan.partner_requires_art_review != e &&
            ((this.m_oPromotionPlan.partner_requires_art_review = e),
            this.Dispatch());
        }
        SetArtworkOwnerAccountID(e) {
          this.m_oPromotionPlan.artwork_owner_account_id != e &&
            ((this.m_oPromotionPlan.artwork_owner_account_id = e),
            this.Dispatch());
        }
        SetArtworkLocalizationDropboxLink(e) {
          this.m_oPromotionPlan.artwork_localization_dropbox_link != e &&
            ((this.m_oPromotionPlan.artwork_localization_dropbox_link = e),
            this.Dispatch());
        }
        SetArtworkLocalizationRequestTime(e, t) {
          (this.m_oPromotionPlan.artwork_localization_request_rtime == e &&
            this.m_oPromotionPlan.artwork_localization_task_id == t) ||
            ((this.m_oPromotionPlan.artwork_localization_request_rtime = e),
            (this.m_oPromotionPlan.artwork_localization_task_id = t),
            this.Dispatch());
        }
        SetOperatorOwnerAccountID(e) {
          this.m_oPromotionPlan.operator_account_id != e &&
            ((this.m_oPromotionPlan.operator_account_id = e), this.Dispatch());
        }
        SetPlanOwnerAccountID(e) {
          this.m_oPromotionPlan.owner_account_id != e &&
            ((this.m_oPromotionPlan.owner_account_id = e), this.Dispatch());
        }
        SetArtworkCompleted(e) {
          this.m_oPromotionPlan.artwork_completed_time != e &&
            ((this.m_oPromotionPlan.artwork_completed_time = e),
            this.Dispatch());
        }
        SetDeliveryReviewedAccountAndTime(e, t, a) {
          (this.m_oPromotionPlan.delivery_review_account_id == e &&
            this.m_oPromotionPlan.delivery_review_time == t &&
            this.m_originalPromotionPlan.delivery_review_notes == a) ||
            ((this.m_oPromotionPlan.delivery_review_account_id = e),
            (this.m_oPromotionPlan.delivery_review_time = t),
            (this.m_oPromotionPlan.delivery_review_notes = a),
            this.Dispatch());
        }
        ClearDeliveryReviewedStatus() {
          (Boolean(this.m_oPromotionPlan.delivery_review_account_id) ||
            Boolean(this.m_oPromotionPlan.delivery_review_time) ||
            Boolean(this.m_oPromotionPlan.delivery_review_notes)) &&
            ((this.m_oPromotionPlan.delivery_review_account_id = void 0),
            (this.m_oPromotionPlan.delivery_review_time = void 0),
            (this.m_oPromotionPlan.delivery_review_notes = void 0),
            this.Dispatch());
        }
        SetReviewedAccountAndTime(e, t) {
          (this.m_oPromotionPlan.reviewed_by_account == e &&
            this.m_oPromotionPlan.reviewed_by_time == t) ||
            ((this.m_oPromotionPlan.reviewed_by_account = e),
            (this.m_oPromotionPlan.reviewed_by_time = t),
            this.Dispatch());
        }
        ClearReviewedStatus() {
          (Boolean(this.m_oPromotionPlan.reviewed_by_account) ||
            Boolean(this.m_oPromotionPlan.reviewed_by_time)) &&
            ((this.m_oPromotionPlan.reviewed_by_account = void 0),
            (this.m_oPromotionPlan.reviewed_by_time = void 0),
            this.Dispatch());
        }
        SetStartDate(e) {
          this.m_oPromotionPlan.start_date != e &&
            ((this.m_oPromotionPlan.start_date = e), this.Dispatch());
        }
        SetEndDate(e) {
          this.m_oPromotionPlan.end_date != e &&
            ((this.m_oPromotionPlan.end_date = e), this.Dispatch());
        }
        SetAssociatedAssetURL(e) {
          this.m_oPromotionPlan.associated_asset_url != e &&
            ((this.m_oPromotionPlan.associated_asset_url = e), this.Dispatch());
        }
        SetPartnerArtworkSubmissionReviewed(e) {
          Boolean(this.m_oPromotionPlan.partner_artwork_submission_reviewed) !=
            e &&
            ((this.m_oPromotionPlan.partner_artwork_submission_reviewed = e
              ? o.L7.accountid
              : null),
            this.Dispatch());
        }
        SetFeaturedStoreItem(e, t) {
          (this.m_oPromotionPlan.store_item_id == e &&
            this.m_oPromotionPlan.store_item_type == t) ||
            ((this.m_oPromotionPlan.store_item_id = e),
            (this.m_oPromotionPlan.store_item_type = t),
            (this.m_storeItemKey = (0, l.t9)(
              this.m_oPromotionPlan.store_item_id,
              this.m_oPromotionPlan.store_item_type,
            )),
            this.Dispatch());
        }
        SetSaleEvent(e, t) {
          (this.m_oPromotionPlan.sale_clan_event_gid === e &&
            this.m_oPromotionPlan.sale_clan_account == t) ||
            ((this.m_oPromotionPlan.sale_clan_event_gid = e),
            (this.m_oPromotionPlan.sale_clan_account = t),
            this.Dispatch());
        }
        ClearSalePage() {
          this.m_oPromotionPlan.sale_clan_event_gid &&
            ((this.m_oPromotionPlan.sale_clan_account = void 0),
            (this.m_oPromotionPlan.sale_clan_event_gid = void 0),
            (this.m_oPromotionPlan.sale_page_reviewed = void 0),
            this.Dispatch());
        }
        SetRequiresSalePage(e) {
          this.m_oPromotionPlan.requires_sale_page != e &&
            ((this.m_oPromotionPlan.requires_sale_page = e), this.Dispatch());
        }
        SetRequiresSalePageType(e) {}
        SetSaleEventReviewed(e) {
          Boolean(this.m_oPromotionPlan.sale_page_reviewed) != e &&
            ((this.m_oPromotionPlan.sale_page_reviewed = e
              ? o.L7.accountid
              : null),
            this.Dispatch());
        }
        SetOptInID(e) {
          this.m_oPromotionPlan.opt_in_id !== e &&
            ((this.m_oPromotionPlan.opt_in_id = e), this.Dispatch());
        }
        SetOptInReviewed(e) {
          Boolean(this.m_oPromotionPlan.opt_in_reviewed) !== e &&
            ((this.m_oPromotionPlan.opt_in_reviewed = e
              ? o.L7.accountid
              : null),
            this.Dispatch());
        }
        SetGiveawayID(e) {
          this.m_oPromotionPlan.giveaway_id !== e &&
            ((this.m_oPromotionPlan.giveaway_id = e), this.Dispatch());
        }
        SetGiveawayReviewed(e) {
          Boolean(this.m_oPromotionPlan.giveaway_reviewed) !== e &&
            ((this.m_oPromotionPlan.giveaway_reviewed = e
              ? o.L7.accountid
              : null),
            this.Dispatch());
        }
        SetDiscountEventID(e) {
          this.m_oPromotionPlan.discount_event_id !== e &&
            ((this.m_oPromotionPlan.discount_event_id = e), this.Dispatch());
        }
        SetDiscountEventReviewed(e) {
          Boolean(this.m_oPromotionPlan.discount_event_reviewed) !== e &&
            ((this.m_oPromotionPlan.discount_event_reviewed = e
              ? o.L7.accountid
              : null),
            this.Dispatch());
        }
        SetMainCapsuleID(e) {
          this.m_oPromotionPlan.main_capsule_id !== e &&
            ((this.m_oPromotionPlan.main_capsule_id = e), this.Dispatch());
        }
        SetMainCapsuleReviewed(e) {
          Boolean(this.m_oPromotionPlan.main_capsule_reviewed) !== e &&
            ((this.m_oPromotionPlan.main_capsule_reviewed = e
              ? o.L7.accountid
              : null),
            this.Dispatch());
        }
        AddTakeUnderID(e) {
          this.m_oPromotionPlan.takeunder_ids ||
            ((this.m_oPromotionPlan.takeunder_ids = []),
            (this.m_oPromotionPlan.takeover_reviewed = [])),
            this.m_oPromotionPlan.takeunder_ids.push(e),
            this.m_oPromotionPlan.takeover_reviewed.push(null),
            this.Dispatch();
        }
        SetTakeunderID(e, t) {
          this.m_oPromotionPlan.takeunder_ids
            ? this.m_oPromotionPlan.takeunder_ids[t] !== e &&
              ((this.m_oPromotionPlan.takeunder_ids[t] = e), this.Dispatch())
            : ((this.m_oPromotionPlan.takeunder_ids = [e]), this.Dispatch());
        }
        SetTakeunderReviewed(e, t) {
          this.m_oPromotionPlan.takeunder_reviewed
            ? Boolean(this.m_oPromotionPlan.takeunder_reviewed[t]) !== e &&
              ((this.m_oPromotionPlan.takeunder_reviewed[t] = e
                ? o.L7.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.takeunder_reviewed = e
                ? [o.L7.accountid]
                : [null]),
              this.Dispatch());
        }
        AddContentHubTakeoverID(e, t) {
          this.m_oPromotionPlan.contenthub_takeover_ids.push(e),
            this.m_oPromotionPlan.contenthub_takeover_types.push(t),
            this.m_oPromotionPlan.contenthub_takeover_reviewed.push(null),
            this.Dispatch();
        }
        SetContentHubTakeoverID(e, t, a) {
          (this.m_oPromotionPlan.contenthub_takeover_ids[a] === e &&
            this.m_oPromotionPlan.contenthub_takeover_types[a] === t) ||
            ((this.m_oPromotionPlan.contenthub_takeover_ids[a] = e),
            (this.m_oPromotionPlan.contenthub_takeover_types[a] = t),
            (this.m_oPromotionPlan.contenthub_takeover_reviewed[a] = null),
            this.Dispatch());
        }
        SetContentHubTakeoverReviewed(e, t) {
          this.m_oPromotionPlan.contenthub_takeover_reviewed
            ? Boolean(this.m_oPromotionPlan.contenthub_takeover_reviewed[t]) !==
                e &&
              ((this.m_oPromotionPlan.contenthub_takeover_reviewed[t] = e
                ? o.L7.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.contenthub_takeover_reviewed = e
                ? [o.L7.accountid]
                : [null]),
              this.Dispatch());
        }
        AddSteamChinaTakeoverID(e) {
          this.m_oPromotionPlan.steamchina_takeover_ids ||
            ((this.m_oPromotionPlan.steamchina_takeover_ids = []),
            (this.m_oPromotionPlan.steamchina_takeover_reviewed = [])),
            this.m_oPromotionPlan.steamchina_takeover_ids.push(e),
            this.m_oPromotionPlan.steamchina_takeover_reviewed.push(null),
            this.Dispatch();
        }
        SetSteamChinaTakeoverID(e, t) {
          this.m_oPromotionPlan.steamchina_takeover_ids
            ? this.m_oPromotionPlan.steamchina_takeover_ids[t] !== e &&
              ((this.m_oPromotionPlan.steamchina_takeover_ids[t] = e),
              this.Dispatch())
            : ((this.m_oPromotionPlan.steamchina_takeover_ids = [e]),
              this.Dispatch());
        }
        SetSteamChinaTakeoverReviewed(e, t) {
          this.m_oPromotionPlan.steamchina_takeover_reviewed
            ? Boolean(this.m_oPromotionPlan.steamchina_takeover_reviewed[t]) !==
                e &&
              ((this.m_oPromotionPlan.steamchina_takeover_reviewed[t] = e
                ? o.L7.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.steamchina_takeover_reviewed = e
                ? [o.L7.accountid]
                : [null]),
              this.Dispatch());
        }
        AddClusterID(e, t) {
          switch (e) {
            case d.R6.k_ConfigPage_Takeover:
              this.AddTakeoverID(t);
              break;
            case d.R6.k_ConfigPage_Takeunder:
              this.AddTakeUnderID(t);
              break;
            case d.R6.k_ConfigPage_TakeoverSteamChina:
              this.AddSteamChinaTakeoverID(t);
          }
        }
        SetClusterID(e, t, a) {
          switch (e) {
            case d.R6.k_ConfigPage_Takeover:
              this.SetTakeoverID(t, a);
              break;
            case d.R6.k_ConfigPage_Takeunder:
              this.SetTakeunderID(t, a);
              break;
            case d.R6.k_ConfigPage_TakeoverSteamChina:
              this.SetSteamChinaTakeoverID(t, a);
              break;
            default:
              this.SetContentHubTakeoverID(t, e, a);
          }
        }
        SetClusterReviewed(e, t, a) {
          switch (e) {
            case d.R6.k_ConfigPage_Takeover:
              this.SetTakeoverReviewed(t, a);
              break;
            case d.R6.k_ConfigPage_Takeunder:
              this.SetTakeunderReviewed(t, a);
              break;
            case d.R6.k_ConfigPage_TakeoverSteamChina:
              this.SetSteamChinaTakeoverReviewed(t, a);
              break;
            default:
              this.SetContentHubTakeoverReviewed(t, a);
          }
        }
        AddTakeoverID(e) {
          this.m_oPromotionPlan.takeover_ids ||
            ((this.m_oPromotionPlan.takeover_ids = []),
            (this.m_oPromotionPlan.takeover_reviewed = [])),
            this.m_oPromotionPlan.takeover_ids.push(e),
            this.m_oPromotionPlan.takeover_reviewed.push(null),
            this.Dispatch();
        }
        SetTakeoverID(e, t) {
          this.m_oPromotionPlan.takeover_ids
            ? this.m_oPromotionPlan.takeover_ids[t] !== e &&
              ((this.m_oPromotionPlan.takeover_ids[t] = e), this.Dispatch())
            : ((this.m_oPromotionPlan.takeover_ids = [e]), this.Dispatch());
        }
        SetTakeoverReviewed(e, t) {
          this.m_oPromotionPlan.takeover_reviewed
            ? Boolean(this.m_oPromotionPlan.takeover_reviewed[t]) !== e &&
              ((this.m_oPromotionPlan.takeover_reviewed[t] = e
                ? o.L7.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.takeover_reviewed = e
                ? [o.L7.accountid]
                : [null]),
              this.Dispatch());
        }
        AddMarketingMessageID(e) {
          this.m_oPromotionPlan.marketing_message_ids ||
            ((this.m_oPromotionPlan.marketing_message_ids = []),
            (this.m_oPromotionPlan.marketing_message_reviewed = [])),
            this.m_oPromotionPlan.marketing_message_ids.push(e),
            this.m_oPromotionPlan.marketing_message_reviewed.push(null),
            this.Dispatch();
        }
        SetMarketingMessageID(e, t) {
          this.m_oPromotionPlan.marketing_message_ids
            ? this.m_oPromotionPlan.marketing_message_ids[t] !== e &&
              ((this.m_oPromotionPlan.marketing_message_ids[t] = e),
              this.Dispatch())
            : ((this.m_oPromotionPlan.marketing_message_ids = [e]),
              this.Dispatch());
        }
        SetMarketingMessageReviewed(e, t) {
          this.m_oPromotionPlan.marketing_message_reviewed
            ? Boolean(this.m_oPromotionPlan.marketing_message_reviewed[t]) !==
                e &&
              ((this.m_oPromotionPlan.marketing_message_reviewed[t] = e
                ? o.L7.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.marketing_message_reviewed = e
                ? [o.L7.accountid]
                : [null]),
              this.Dispatch());
        }
        AddSpotlightID(e) {
          this.m_oPromotionPlan.spotlight_ids ||
            ((this.m_oPromotionPlan.spotlight_ids = []),
            (this.m_oPromotionPlan.spotlight_reviewed = [])),
            this.m_oPromotionPlan.spotlight_ids.push(e),
            this.m_oPromotionPlan.spotlight_reviewed.push(null);
        }
        SetSpotlightID(e, t) {
          this.m_oPromotionPlan.spotlight_ids
            ? this.m_oPromotionPlan.spotlight_ids[t] !== e &&
              ((this.m_oPromotionPlan.spotlight_ids[t] = e), this.Dispatch())
            : ((this.m_oPromotionPlan.spotlight_ids = [e]), this.Dispatch());
        }
        SetSpotlightReviewed(e, t) {
          this.m_oPromotionPlan.spotlight_reviewed
            ? Boolean(this.m_oPromotionPlan.spotlight_reviewed[t]) !== e &&
              ((this.m_oPromotionPlan.spotlight_reviewed[t] = e
                ? o.L7.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.spotlight_reviewed = e
                ? [o.L7.accountid]
                : [null]),
              this.Dispatch());
        }
        SetName(e) {
          this.m_oPromotionPlan.name !== e &&
            ((this.m_oPromotionPlan.name = e), this.Dispatch());
        }
        SetType(e) {
          this.m_oPromotionPlan.type !== e &&
            ((this.m_oPromotionPlan.type = e), this.Dispatch());
        }
        SetFeaturingIntention(e) {
          this.m_oPromotionPlan.intention !== e &&
            ((this.m_oPromotionPlan.intention = e), this.Dispatch());
        }
        SetAdminNote(e) {
          this.m_oPromotionPlan.admin_notes !== e &&
            ((this.m_oPromotionPlan.admin_notes = e), this.Dispatch());
        }
        SetPromotionPlannerNote(e) {
          this.m_oPromotionPlan.promotion_planner_notes !== e &&
            ((this.m_oPromotionPlan.promotion_planner_notes = e),
            this.Dispatch());
        }
        SetAdvertisingAppID(e) {
          this.m_oPromotionPlan.advertising_appid !== e &&
            ((this.m_oPromotionPlan.advertising_appid = e), this.Dispatch());
        }
        SetAdvertisingAppIDReviewed(e) {
          Boolean(this.m_oPromotionPlan.advertising_appid_reviewed) !== e &&
            ((this.m_oPromotionPlan.advertising_appid_reviewed = e
              ? o.L7.accountid
              : null),
            this.Dispatch());
        }
        SetAdvertisingAppIDFromString(e) {
          const t = Number.parseInt(e);
          this.m_oPromotionPlan.advertising_appid !== t &&
            ((this.m_oPromotionPlan.advertising_appid = t), this.Dispatch());
        }
        SetInternalWikiURL(e) {
          this.m_oPromotionPlan.internal_wiki_url !== e &&
            ((this.m_oPromotionPlan.internal_wiki_url = e), this.Dispatch());
        }
        SetAssetKitURL(e) {
          this.m_oPromotionPlan.asset_kit_url !== e &&
            ((this.m_oPromotionPlan.asset_kit_url = e), this.Dispatch());
        }
        SetSlackChannel(e) {
          this.m_oPromotionPlan.slack_channel !== e &&
            ((this.m_oPromotionPlan.slack_channel = e), this.Dispatch());
        }
        SetRequireBroadcastModeration(e) {
          this.m_oPromotionPlan.require_broadcast_moderation !== e &&
            ((this.m_oPromotionPlan.require_broadcast_moderation = e),
            this.Dispatch());
        }
        SetBroadcastModerationNotes(e) {
          this.m_oPromotionPlan.broadcast_moderation_notes !== e &&
            ((this.m_oPromotionPlan.broadcast_moderation_notes = e),
            this.Dispatch());
        }
        SetModerationIsScheduled(e) {
          this.m_oPromotionPlan.moderation_arranged !== e &&
            ((this.m_oPromotionPlan.moderation_arranged = e), this.Dispatch());
        }
        AddToWatchList(e) {
          this.BOnWatchList(e) ||
            (this.m_oPromotionPlan.watch_list ||
              (this.m_oPromotionPlan.watch_list = []),
            this.m_oPromotionPlan.watch_list.push(e),
            this.Dispatch());
        }
        RemoveFromWatchList(e) {
          if (this.BOnWatchList(e)) {
            const t = this.m_oPromotionPlan.watch_list.findIndex((t) => t == e);
            this.m_oPromotionPlan.watch_list.splice(t, 1), this.Dispatch();
          }
        }
        SetArtworkLocalizationSteamChinaOnly(e) {
          this.m_oPromotionPlan.artwork_localization_steam_china_only != e &&
            ((this.m_oPromotionPlan.artwork_localization_steam_china_only = e),
            this.Dispatch());
        }
        ToggleArtworkLocalizationRequest(e, t) {
          if (t && !this.BHasArtworkLocalizationRequest(e))
            this.m_oPromotionPlan.artwork_localization_request_items ||
              (this.m_oPromotionPlan.artwork_localization_request_items = []),
              this.m_oPromotionPlan.artwork_localization_request_items.push(e),
              this.Dispatch();
          else if (!t && this.BHasArtworkLocalizationRequest(e)) {
            let t =
              this.m_oPromotionPlan.artwork_localization_request_items.findIndex(
                (t) => t == e,
              );
            this.m_oPromotionPlan.artwork_localization_request_items.splice(
              t,
              1,
            ),
              this.Dispatch();
          }
        }
        RevertChanges() {
          (this.m_oPromotionPlan = JSON.parse(
            JSON.stringify(this.m_originalPromotionPlan),
          )),
            (this.m_nPartnerID = this.m_nOriginalPartnerID),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, n.gn)([s.LO], u.prototype, "m_nPartnerID", void 0),
        (0, n.gn)([s.LO], u.prototype, "m_nOriginalPartnerID", void 0),
        (0, n.gn)([s.LO], u.prototype, "m_bDirty", void 0),
        (0, n.gn)([r.ak], u.prototype, "GetSpotlightReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "GetMarketingMessageReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "GetClusterReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "GetTakeoverReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "GetSteamChinaTakeoverReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "GetTakeunderReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "GetContentHubTakeoverReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "GetMainCapsuleReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "GetDiscountEventReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "GetOptInReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "GetGiveawayReviewed", null),
        (0, n.gn)(
          [r.ak],
          u.prototype,
          "GetPartnerArtworkSubmissionReviewed",
          null,
        ),
        (0, n.gn)([r.ak], u.prototype, "GetSalePageReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "GetAdvertisingReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "GetSlackChannelAsURL", null),
        (0, n.gn)([r.ak], u.prototype, "SetPartnerID", null),
        (0, n.gn)([r.ak], u.prototype, "SetPartnerRequireArtworkReview", null),
        (0, n.gn)([r.ak], u.prototype, "SetArtworkOwnerAccountID", null),
        (0, n.gn)(
          [r.ak],
          u.prototype,
          "SetArtworkLocalizationDropboxLink",
          null,
        ),
        (0, n.gn)(
          [r.ak],
          u.prototype,
          "SetArtworkLocalizationRequestTime",
          null,
        ),
        (0, n.gn)([r.ak], u.prototype, "SetOperatorOwnerAccountID", null),
        (0, n.gn)([r.ak], u.prototype, "SetPlanOwnerAccountID", null),
        (0, n.gn)([r.ak], u.prototype, "SetArtworkCompleted", null),
        (0, n.gn)(
          [r.ak],
          u.prototype,
          "SetDeliveryReviewedAccountAndTime",
          null,
        ),
        (0, n.gn)([r.ak], u.prototype, "ClearDeliveryReviewedStatus", null),
        (0, n.gn)([r.ak], u.prototype, "SetReviewedAccountAndTime", null),
        (0, n.gn)([r.ak], u.prototype, "ClearReviewedStatus", null),
        (0, n.gn)([r.ak], u.prototype, "SetStartDate", null),
        (0, n.gn)([r.ak], u.prototype, "SetEndDate", null),
        (0, n.gn)([r.ak], u.prototype, "SetAssociatedAssetURL", null),
        (0, n.gn)(
          [r.ak],
          u.prototype,
          "SetPartnerArtworkSubmissionReviewed",
          null,
        ),
        (0, n.gn)([r.ak], u.prototype, "SetFeaturedStoreItem", null),
        (0, n.gn)([r.ak], u.prototype, "SetSaleEvent", null),
        (0, n.gn)([r.ak], u.prototype, "ClearSalePage", null),
        (0, n.gn)([r.ak], u.prototype, "SetRequiresSalePage", null),
        (0, n.gn)([r.ak], u.prototype, "SetRequiresSalePageType", null),
        (0, n.gn)([r.ak], u.prototype, "SetSaleEventReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "SetOptInID", null),
        (0, n.gn)([r.ak], u.prototype, "SetOptInReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "SetGiveawayID", null),
        (0, n.gn)([r.ak], u.prototype, "SetGiveawayReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "SetDiscountEventID", null),
        (0, n.gn)([r.ak], u.prototype, "SetDiscountEventReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "SetMainCapsuleID", null),
        (0, n.gn)([r.ak], u.prototype, "SetMainCapsuleReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "AddTakeUnderID", null),
        (0, n.gn)([r.ak], u.prototype, "SetTakeunderID", null),
        (0, n.gn)([r.ak], u.prototype, "SetTakeunderReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "AddContentHubTakeoverID", null),
        (0, n.gn)([r.ak], u.prototype, "SetContentHubTakeoverID", null),
        (0, n.gn)([r.ak], u.prototype, "SetContentHubTakeoverReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "AddSteamChinaTakeoverID", null),
        (0, n.gn)([r.ak], u.prototype, "SetSteamChinaTakeoverID", null),
        (0, n.gn)([r.ak], u.prototype, "SetSteamChinaTakeoverReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "AddClusterID", null),
        (0, n.gn)([r.ak], u.prototype, "SetClusterID", null),
        (0, n.gn)([r.ak], u.prototype, "SetClusterReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "AddTakeoverID", null),
        (0, n.gn)([r.ak], u.prototype, "SetTakeoverID", null),
        (0, n.gn)([r.ak], u.prototype, "SetTakeoverReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "AddMarketingMessageID", null),
        (0, n.gn)([r.ak], u.prototype, "SetMarketingMessageID", null),
        (0, n.gn)([r.ak], u.prototype, "SetMarketingMessageReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "AddSpotlightID", null),
        (0, n.gn)([r.ak], u.prototype, "SetSpotlightID", null),
        (0, n.gn)([r.ak], u.prototype, "SetSpotlightReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "SetName", null),
        (0, n.gn)([r.ak], u.prototype, "SetType", null),
        (0, n.gn)([r.ak], u.prototype, "SetFeaturingIntention", null),
        (0, n.gn)([r.ak], u.prototype, "SetAdminNote", null),
        (0, n.gn)([r.ak], u.prototype, "SetPromotionPlannerNote", null),
        (0, n.gn)([r.ak], u.prototype, "SetAdvertisingAppID", null),
        (0, n.gn)([r.ak], u.prototype, "SetAdvertisingAppIDReviewed", null),
        (0, n.gn)([r.ak], u.prototype, "SetAdvertisingAppIDFromString", null),
        (0, n.gn)([r.ak], u.prototype, "SetInternalWikiURL", null),
        (0, n.gn)([r.ak], u.prototype, "SetAssetKitURL", null),
        (0, n.gn)([r.ak], u.prototype, "SetSlackChannel", null),
        (0, n.gn)([r.ak], u.prototype, "SetRequireBroadcastModeration", null),
        (0, n.gn)([r.ak], u.prototype, "SetBroadcastModerationNotes", null),
        (0, n.gn)([r.ak], u.prototype, "SetModerationIsScheduled", null),
        (0, n.gn)([r.ak], u.prototype, "AddToWatchList", null),
        (0, n.gn)([r.ak], u.prototype, "RemoveFromWatchList", null),
        (0, n.gn)(
          [r.ak],
          u.prototype,
          "SetArtworkLocalizationSteamChinaOnly",
          null,
        ),
        (0, n.gn)(
          [r.ak],
          u.prototype,
          "ToggleArtworkLocalizationRequest",
          null,
        ),
        (0, n.gn)([r.ak], u.prototype, "RevertChanges", null);
      var p = a(47427);
      class _ {
        m_model = null;
        InitPromotionPlanToEdit(e, t, a = !1) {
          return (
            "dev" == o.De.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CPromotionPlanEditStore.InitPromotionPlanToEdit with model: " +
                  Boolean(this.m_model),
                (0, s.ZN)(t),
              ),
            this.m_model
              ? (this.m_model.Reset(t, e),
                a && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new u(t, e)),
            this.m_model
          );
        }
        GetPromotionPlanToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static s_Singleton;
        static Get() {
          return (
            _.s_Singleton ||
              ((_.s_Singleton = new _()),
              "dev" == o.De.WEB_UNIVERSE &&
                (window.g_PromotionPlanEditStore = _.s_Singleton)),
            _.s_Singleton
          );
        }
        constructor() {}
      }
      function h(e, t, a = !1) {
        return _.Get().InitPromotionPlanToEdit(e, t, a);
      }
      function g() {
        return _.Get().GetPromotionPlanToEdit();
      }
      function E() {
        const e = (0, r.NW)(),
          [t, a] = p.useState(_.Get().GetPromotionPlanToEdit());
        return (
          (0, r.Qg)(t?.GetCallback(), (t) => {
            a(t), e();
          }),
          t
        );
      }
      function S() {
        return {
          fnBIsPlanDirty: p.useCallback(
            () =>
              !!_.Get().GetPromotionPlanToEdit() &&
              _.Get().GetPromotionPlanToEdit().BIsDirty(),
            [],
          ),
          fnResetDirtyPlan: p.useCallback(() => {
            _.Get().ClearEditModel();
          }, []),
        };
      }
    },
    87380: (e, t, a) => {
      "use strict";
      a.d(t, {
        $H: () => E,
        A0: () => S,
        J2: () => b,
        Qt: () => C,
        XL: () => k,
        eQ: () => y,
        kA: () => I,
        l7: () => D,
        ve: () => v,
        xq: () => f,
        yw: () => g,
      });
      var n = a(85556),
        i = a(47427),
        r = a(79545),
        l = a(77581),
        s = a(5697),
        o = a(62210),
        c = a(16649),
        m = a(45492),
        d = a(20417),
        u = a(46984),
        p = a(37563),
        _ = a(86437);
      class h {
        m_mapPlans = new Map();
        m_mapPlanByAccessKey = new Map();
        m_rgActivePlanIDs = new Array();
        m_promiseLoadAllActivePlans = null;
        m_promiseMapIndividualLoads = new Map();
        m_listChangeCallback = new m.pB();
        m_planChangeCallback = new Map();
        m_planInputPipelineChangeCallback = new Map();
        m_SteamInterface = null;
        GetAllPlans() {
          return Array.from(this.m_mapPlans.values()).map((e) =>
            JSON.parse(e.admin_jsondata),
          );
        }
        GetListChangeCallback() {
          return this.m_listChangeCallback;
        }
        GetPlanByID(e) {
          return this.m_mapPlans.get(e);
        }
        GetPlanAdminByID(e) {
          const t = this.m_mapPlans.get(e);
          return t ? JSON.parse(t.admin_jsondata) : null;
        }
        BHasPlanID(e) {
          return this.m_mapPlans.has(e);
        }
        GetPlanChangeCallback(e) {
          return (
            this.m_planChangeCallback.has(e) ||
              this.m_planChangeCallback.set(e, new m.pB()),
            this.m_planChangeCallback.get(e)
          );
        }
        GetPipelineInputChangeCallback(e) {
          return (
            this.m_planInputPipelineChangeCallback.has(e) ||
              this.m_planInputPipelineChangeCallback.set(e, new m.pB()),
            this.m_planInputPipelineChangeCallback.get(e)
          );
        }
        GetPlanPipelineInputByID(e) {
          const t = this.m_mapPlans.get(e);
          return t ? JSON.parse(t.input_jsondata) : null;
        }
        GetPartnerRequestPlanByID(e) {
          const t = this.m_mapPlans.get(e);
          return t ? JSON.parse(t.partner_jsondata) : null;
        }
        GetPlanPipelineInputByAccessKey(e) {
          const t = this.m_mapPlanByAccessKey.get(e);
          return t ? JSON.parse(t.input_jsondata) : null;
        }
        CreateMapByStoreItem() {
          const e = new Map();
          return (
            this.GetAllPlans().forEach((t) => {
              if (t.store_item_id) {
                const a = (0, _.qw)(t.store_item_id, t.store_item_type);
                e.has(a) ? e.get(a).push(t) : e.set(a, [t]);
              }
            }),
            e
          );
        }
        GetLatestUpdateTime() {
          let e = 0;
          return (
            Array.from(this.m_mapPlans.values()).forEach((t) => {
              t.last_update_time > e && (e = t.last_update_time);
            }),
            e
          );
        }
        async LoadAllActivePlans() {
          return (
            this.m_promiseLoadAllActivePlans ||
              ((this.m_promiseLoadAllActivePlans =
                this.InternalLoadAllActivePlans()),
              this.m_promiseLoadAllActivePlans.then(() => {
                this.m_rgActivePlanIDs.map((e) =>
                  this.m_promiseMapIndividualLoads.set(
                    e,
                    this.m_promiseLoadAllActivePlans,
                  ),
                );
              })),
            this.m_promiseLoadAllActivePlans
          );
        }
        InternalEnsureIDsMatch(e) {
          const t = e.promotion_id(),
            a = e.toObject(),
            n = JSON.parse(a.admin_jsondata);
          return (n.id = t), (a.admin_jsondata = JSON.stringify(n)), a;
        }
        AddPlansIntoMemory(e) {
          const t = this.InternalEnsureIDsMatch(e);
          t.input_jsondata || (t.input_jsondata = JSON.stringify({})),
            t.partner_jsondata || (t.partner_jsondata = JSON.stringify({}));
          const a = t.promotion_id,
            n = t.input_access_key;
          this.m_mapPlans.set(a, t),
            this.m_mapPlanByAccessKey.set(n, t),
            this.m_rgActivePlanIDs.push(a),
            this.GetPlanChangeCallback(a).Dispatch(
              JSON.parse(t.admin_jsondata),
            ),
            this.GetPipelineInputChangeCallback(n).Dispatch(
              JSON.parse(t.input_jsondata),
            );
        }
        async InternalLoadAllActivePlans() {
          const e = r.gA.Init(s.Bp);
          let t = null;
          try {
            const a = await s.nd.GetAllActivePlan(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            );
            if (1 == a.GetEResult())
              return (
                a.Body().plan().forEach(this.AddPlansIntoMemory),
                this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                !0
              );
            t = (0, c.l)(a);
          } catch (e) {
            t = (0, c.l)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.GetAllActivePlans failed: " +
                t?.strErrorMsg,
              t,
            ),
            !1
          );
        }
        async LoadPlanByID(e) {
          return (
            this.m_promiseMapIndividualLoads.has(e) ||
              this.m_promiseMapIndividualLoads.set(
                e,
                this.InternalLoadPlanByID(e),
              ),
            this.m_promiseMapIndividualLoads.get(e)
          );
        }
        async InternalLoadPlanByID(e) {
          const t = r.gA.Init(s.ow);
          t.Body().set_promotion_id(e);
          let a = null;
          try {
            const n = await s.nd.GetPlan(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            if (1 == n.GetEResult()) {
              const t = this.InternalEnsureIDsMatch(n.Body().plan()),
                a = t.input_access_key;
              return (
                this.m_mapPlans.set(t.promotion_id, t),
                this.m_mapPlanByAccessKey.set(a, t),
                t.input_jsondata || (t.input_jsondata = JSON.stringify({})),
                t.partner_jsondata || (t.partner_jsondata = JSON.stringify({})),
                this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                this.GetPlanChangeCallback(e).Dispatch(
                  JSON.parse(t.admin_jsondata),
                ),
                this.GetPipelineInputChangeCallback(a).Dispatch(
                  JSON.parse(t.input_jsondata),
                ),
                !0
              );
            }
            a = (0, c.l)(n);
          } catch (e) {
            a = (0, c.l)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.GetPlanByID failed: " + a?.strErrorMsg,
              a,
            ),
            !1
          );
        }
        async ForceReloadPlan(e) {
          return this.InternalLoadPlanByID(e);
        }
        async AddNewAdminPlan(e) {
          const {
              type: t,
              strName: a,
              rtStartDate: n,
              rtEndDate: i,
              strDiscountEventID: l,
              nPartnerID: o,
              storeItemID: m,
              storeItemType: d,
              strSpotlightID: u,
              strMarketingMessageID: _,
              strTakeoverID: h,
              strTakeunderID: g,
              strDailyDealID: E,
              inputPipelineModel: S,
            } = e,
            v = r.gA.Init(s.IJ),
            D = Math.floor(new Date().getTime() / 1e3),
            f = {
              type: t,
              name: a,
              start_date: n,
              end_date: i,
              store_item_id: m,
              store_item_type: d,
              discount_event_id: l,
              creator_account_id: p.L7.accountid,
              last_modified_account: p.L7.accountid,
              admin_accounts: [p.L7.accountid],
              last_modified_time: D,
              create_time: D,
            };
          u && (f.spotlight_ids = [u]),
            _ && (f.marketing_message_ids = [_]),
            h && (f.takeover_ids = [h]),
            g && (f.takeunder_ids = [g]),
            E && (f.dailydeal_ids = [E]);
          const y = {
            admin_jsondata: JSON.stringify(f),
            partner_jsondata: JSON.stringify({}),
            partner_readonly_jsondata: JSON.stringify(
              this.GeneratePartnerReadonlyFromAdminJson(f),
            ),
            partner_writable_jsondata: JSON.stringify({}),
            input_jsondata: JSON.stringify(S || {}),
            assets_readonly_jsondata: JSON.stringify({}),
            assets_writable_jsondata: JSON.stringify({}),
            rtime32_start_time: n,
            rtime32_end_time: i,
            partner_id: o,
          };
          v.Body().set_plan(s.Fc.fromObject(y));
          let b = null;
          try {
            const e = await s.nd.CreatePlan(
              this.m_SteamInterface.GetServiceTransport(),
              v,
            );
            if (1 == e.GetEResult())
              return (
                (y.promotion_id = e.Body().promotion_id()),
                (y.input_access_key = e.Body().input_access_key()),
                (f.id = e.Body().promotion_id()),
                (y.admin_jsondata = JSON.stringify(f)),
                this.m_mapPlans.set(y.promotion_id, y),
                this.m_mapPlanByAccessKey.set(y.input_access_key, y),
                this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                y.promotion_id
              );
            b = (0, c.l)(e);
          } catch (e) {
            b = (0, c.l)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.AddNewAdminPlan failed: " +
                b?.strErrorMsg,
              b,
            ),
            null
          );
        }
        GeneratePartnerReadonlyFromAdminJson(e) {
          return {
            id: e.id,
            name: e.name,
            start_date: e.start_date,
            end_date: e.end_date,
            type: e.type,
            store_item_type: e.store_item_type,
            store_item_id: e.store_item_id,
            discount_event_id: e.discount_event_id,
            opt_in_id: e.opt_in_id,
            advertising_appid: e.advertising_appid,
            asset_kit_url: e.asset_kit_url,
            sale_clan_event_gid: e.sale_clan_event_gid,
            sale_clan_account: e.sale_clan_account,
          };
        }
        async UpdateAdminPlan(e, t, a, n) {
          const i = r.gA.Init(s.eh),
            l = this.m_mapPlans.get(t.id);
          if (!l)
            return (
              console.error(
                "CPromotionPlanningStore.UpdateAdminPlan planID does not exist: " +
                  t.id,
              ),
              !1
            );
          n?.enable_input &&
            ((n.requested_promotion_name = t.name),
            t.store_item_id &&
              ((n.requested_store_item_id = t.store_item_id),
              (n.requested_store_item_type = t.store_item_type)),
            (n.requested_type = t.type)),
            (l.rtime32_start_time = t.start_date),
            (l.rtime32_end_time = t.end_date),
            (t.last_modified_account = p.L7.accountid),
            (t.last_modified_time = Math.floor(new Date().getTime() / 1e3)),
            (t.admin_accounts || []).indexOf(p.L7.accountid) < 0 &&
              (t.admin_accounts
                ? t.admin_accounts.push(p.L7.accountid)
                : (t.admin_accounts = [p.L7.accountid])),
            (l.admin_jsondata = JSON.stringify(t)),
            (l.partner_readonly_jsondata = JSON.stringify(
              this.GeneratePartnerReadonlyFromAdminJson(t),
            )),
            a && (l.partner_jsondata = JSON.stringify(a)),
            n &&
              (t.discount_event_id != n.asset_request_discount_event_id_clone &&
                (n.asset_request_discount_event_id_clone = t.discount_event_id),
              (l.input_jsondata = JSON.stringify(n))),
            (l.partner_id = e ?? 0),
            i.Body().set_plan(s.Fc.fromObject(l)),
            i.Body().set_promotion_id(t.id);
          let o = null;
          try {
            const e = await s.nd.UpdatePlan(
              this.m_SteamInterface.GetServiceTransport(),
              i,
            );
            if (1 == e.GetEResult())
              return this.GetPlanChangeCallback(t.id).Dispatch(t), !0;
            o = (0, c.l)(e);
          } catch (e) {
            o = (0, c.l)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.UpdateAdminPlan failed: " +
                o?.strErrorMsg,
              o,
            ),
            !1
          );
        }
        async DeletePlan(e) {
          const t = r.gA.Init(s.bn);
          t.Body().set_promotion_id(e);
          let a = null;
          try {
            const n = await s.nd.DeletePlan(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            if (1 == n.GetEResult())
              return (
                this.DeletePlanFromMemory(e),
                this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                !0
              );
            a = (0, c.l)(n);
          } catch (e) {
            a = (0, c.l)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.DeletePlan failed: " + a?.strErrorMsg,
              a,
            ),
            !1
          );
        }
        DeletePlanFromMemory(e) {
          this.m_mapPlans.delete(e),
            this.GetPlanChangeCallback(e).Dispatch(null);
        }
        async RefreshPlans(e, t) {
          const a = r.gA.Init(s.CX);
          a.Body().set_rtime(e), t && a.Body().set_upto_rtime(t);
          let n = null;
          try {
            const e = await s.nd.GetPlansUpdatedSince(
              this.m_SteamInterface.GetServiceTransport(),
              a,
            );
            if (1 == e.GetEResult())
              return (
                (0 == e.Body().plans().length &&
                  0 == e.Body().deleted_plan_ids().length) ||
                  (e.Body().plans().forEach(this.AddPlansIntoMemory),
                  e
                    .Body()
                    .deleted_plan_ids()
                    .forEach(this.DeletePlanFromMemory),
                  this.GetListChangeCallback().Dispatch(this.GetAllPlans())),
                !0
              );
            n = (0, c.l)(e);
          } catch (e) {
            n = (0, c.l)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.RefreshPlans failed: " + n?.strErrorMsg,
              n,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            h.s_Singleton ||
              ((h.s_Singleton = new h()),
              h.s_Singleton.Init(),
              "dev" == p.De.WEB_UNIVERSE &&
                (window.g_PromotionPlanningStore = h.s_Singleton)),
            h.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, p.kQ)(
            "promotion_operation_token",
            "application_config",
          );
          (0, o.X)(
            e,
            "CPromotionPlanningStore: promotion operation token is missing",
          ),
            (this.m_SteamInterface = new l.J(p.De.WEBAPI_BASE_URL, e));
          const t = (0, p.ip)("promotion_plans", "application_config");
          this.BIsValidPlanList(t) &&
            t.forEach((e) => {
              this.m_mapPlans.set(e.promotion_id, e),
                e.input_access_key &&
                  this.m_mapPlanByAccessKey.set(e.input_access_key, e),
                this.m_rgActivePlanIDs.push(e.promotion_id);
            });
        }
        BIsValidPlanList(e) {
          const t = e;
          return (
            t &&
            Array.isArray(t) &&
            t.length > 0 &&
            Boolean(t[0].admin_jsondata)
          );
        }
        AddPlanIfNeeded(e) {
          this.m_mapPlans.has(e.promotion_id) ||
            (this.m_mapPlans.set(e.promotion_id, e),
            e.input_access_key &&
              this.m_mapPlanByAccessKey.set(e.input_access_key, e),
            this.m_rgActivePlanIDs.push(e.promotion_id));
        }
      }
      function g() {
        const [e, t] = i.useState(h.Get().GetAllPlans());
        return (
          (0, i.useEffect)(() => {
            h.Get().LoadAllActivePlans();
          }, []),
          (0, d.Qg)(h.Get().GetListChangeCallback(), t),
          e
        );
      }
      function E() {
        return {
          fnAddNewPlan: h.Get().AddNewAdminPlan,
          fnUpdatePlan: h.Get().UpdateAdminPlan,
          fnDeletePlan: h.Get().DeletePlan,
          fnRefreshPlans: h.Get().RefreshPlans,
          fnForceReloadPlan: h.Get().ForceReloadPlan,
        };
      }
      function S(e, t) {
        const [a, n] = i.useState(h.Get().GetPlanByID(e)),
          [r, l] = i.useState(!1);
        return (
          (0, i.useEffect)(() => {
            (a && !t) ||
              !e ||
              (t ? h.Get().ForceReloadPlan(e) : h.Get().LoadPlanByID(e))
                .then((t) => {
                  t ? n(h.Get().GetPlanByID(e)) : l(!0);
                })
                .catch((e) => {
                  console.error(
                    "usePromotionPlanContainer error: " + (0, c.l)(e),
                  ),
                    l(!0);
                });
          }, [e, a, t]),
          (0, d.Qg)(h.Get().GetPlanChangeCallback(e), (e) => {
            n(h.Get().GetPlanByID(e?.id));
          }),
          { bError: r, oPlanContainer: a }
        );
      }
      function v(e) {
        const [t, a] = i.useState(h.Get().GetPlanAdminByID(e));
        return (
          (0, i.useEffect)(() => {
            t || h.Get().LoadPlanByID(e);
          }, [e, t]),
          (0, d.Qg)(h.Get().GetPlanChangeCallback(e), a),
          t
        );
      }
      function D(e, t) {
        const a = g(),
          [n, r] = i.useState(null);
        return (
          i.useLayoutEffect(() => {
            const n = new Map(),
              i = new Date(),
              l = new Date();
            l.setDate(i.getDate() - i.getDay() + 1);
            const s = (0, u.OW)((0, u.xq)(l));
            t.forEach((t) => {
              const a = new Array();
              for (let n = 0; n <= e; ++n)
                a.push({
                  type: t,
                  rtWeekStart: s + u._H.PerWeek * n,
                  rgPlans: [],
                });
              n.set(t, a);
            }),
              a.forEach((e) => {
                const t = n.get(e.type);
                if (t && e.start_date > s) {
                  const a = Math.floor((e.start_date - s) / u._H.PerWeek);
                  a < t.length && t[a].rgPlans.push(e);
                }
              }),
              r(n);
          }, [a, e, t]),
          n
        );
      }
      function f(e) {
        const [t, a] = i.useState(h.Get().GetPlanPipelineInputByID(e));
        return (
          (0, i.useEffect)(() => {}, []),
          (0, d.Qg)(h.Get().GetPlanChangeCallback(e), (e) =>
            a(h.Get().GetPlanPipelineInputByID(e?.id)),
          ),
          t
        );
      }
      function y(e) {
        return h.Get().GetPlanPipelineInputByID(e);
      }
      function b(e) {
        return h.Get().GetPlanAdminByID(e);
      }
      function I(e) {
        h.Get().AddPlanIfNeeded(e);
      }
      function C() {
        return h.Get().GetLatestUpdateTime();
      }
      function k() {
        const [e, t] = (0, i.useState)(() => h.Get().CreateMapByStoreItem());
        return (
          (0, d.Qg)(h.Get().GetListChangeCallback(), () =>
            t(h.Get().CreateMapByStoreItem()),
          ),
          e
        );
      }
      (0, n.gn)([d.ak], h.prototype, "LoadAllActivePlans", null),
        (0, n.gn)([d.ak], h.prototype, "AddPlansIntoMemory", null),
        (0, n.gn)([d.ak], h.prototype, "LoadPlanByID", null),
        (0, n.gn)([d.ak], h.prototype, "ForceReloadPlan", null),
        (0, n.gn)([d.ak], h.prototype, "AddNewAdminPlan", null),
        (0, n.gn)([d.ak], h.prototype, "UpdateAdminPlan", null),
        (0, n.gn)([d.ak], h.prototype, "DeletePlan", null),
        (0, n.gn)([d.ak], h.prototype, "DeletePlanFromMemory", null),
        (0, n.gn)([d.ak], h.prototype, "RefreshPlans", null);
    },
    79270: (e, t, a) => {
      "use strict";
      a.d(t, { I: () => s, i: () => o });
      var n = a(20020),
        i = a(77581),
        r = a(65255),
        l = a(82756);
      class s {
        m_steamInterface;
        GetPromotionTransport() {
          return this.m_steamInterface;
        }
        static s_Singleton;
        static Get() {
          return (
            s.s_Singleton || ((s.s_Singleton = new s()), s.s_Singleton.Init()),
            s.s_Singleton
          );
        }
        Init() {
          const e = (0, l.kQ)(
            "promotion_operation_token",
            "application_config",
          );
          (0, n.X)(Boolean(e), "require promotion_operation_token"),
            (this.m_steamInterface = new i.J(r.De.WEBAPI_BASE_URL, e));
        }
      }
      function o() {
        return s.Get().GetPromotionTransport().GetServiceTransport();
      }
    },
    12999: (e, t, a) => {
      "use strict";
      a.d(t, { l: () => d });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(16649),
        s = a(37563),
        o = a(16997),
        c = a(47427);
      class m {
        m_mapAppToRank = new Map();
        bHasLoadedLongTermSalesRankForApp(e) {
          return this.m_mapAppToRank.has(e);
        }
        bHasSomeLongTermSaleRankForApp(e) {
          return void 0 !== this.m_mapAppToRank.get(e);
        }
        GetLongTermSaleRankForApp(e) {
          return this.m_mapAppToRank.get(e);
        }
        async LoadLongTermSalesRank(e) {
          if (
            0 ==
            (e || []).filter((e) => !this.bHasLoadedLongTermSalesRankForApp(e))
              .length
          )
            return !0;
          let t = null;
          try {
            const a = new FormData();
            a.append("rgAppIDs", e.join(",")),
              a.append("sessionid", s.De.SESSIONID);
            const n = s.De.PARTNER_BASE_URL + "sales/ajaxgetsalerank",
              i = await r().post(n, a, { withCredentials: !0 });
            if (200 == i?.status && 1 == i.data?.success && i.data.apps)
              return (
                i.data.apps.forEach((e) =>
                  this.m_mapAppToRank.set(
                    e.appid,
                    null == e.long_term_sales_rank ||
                      null == e.long_term_sales_rank
                      ? void 0
                      : e.long_term_sales_rank,
                  ),
                ),
                !0
              );
            t = (0, l.l)(i);
          } catch (e) {
            t = (0, l.l)(e);
          }
          return (
            console.error(
              "CPromotionInviteStore.RemoveInvite failed: " + t?.strErrorMsg,
              t,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            m.s_Singleton ||
              ((m.s_Singleton = new m()),
              "dev" == s.De.WEB_UNIVERSE &&
                (window.g_PromoInviteStore = m.s_Singleton)),
            m.s_Singleton
          );
        }
      }
      function d(e) {
        const [t, a] = (0, c.useState)(!0);
        return (
          (0, c.useEffect)(() => {
            a(!0),
              e &&
                e?.length > 0 &&
                m
                  .Get()
                  .LoadLongTermSalesRank(e)
                  .finally(() => a(!1));
          }, [e]),
          {
            bLoading: t,
            fnbHasSomeLongTermSaleRankForApp:
              m.Get().bHasSomeLongTermSaleRankForApp,
            fnGetLongTermSaleRankForApp: m.Get().GetLongTermSaleRankForApp,
          }
        );
      }
      (0, n.gn)([o.a], m.prototype, "bHasLoadedLongTermSalesRankForApp", null),
        (0, n.gn)([o.a], m.prototype, "bHasSomeLongTermSaleRankForApp", null),
        (0, n.gn)([o.a], m.prototype, "GetLongTermSaleRankForApp", null);
    },
    8062: (e, t, a) => {
      "use strict";
      a.d(t, { Aq: () => d, dI: () => u, r7: () => m });
      var n = a(80751),
        i = a.n(n),
        r = a(83254),
        l = a(47427),
        s = a(42718),
        o = a(64936),
        c = a(65255);
      function m() {
        const {
          data: e,
          isLoading: t,
          isError: a,
        } = (0, s.useQuery)(["useTopSalesRankGamesData"], async () => {
          const e = { sessionid: c.De.SESSIONID },
            t = `${c.De.PARTNER_BASE_URL}promotion/planning/ajaxgetsalerankdashboard`,
            a = await i().get(t, { params: e });
          return 200 == a.status && a.data?.top_apps?.length > 0
            ? a.data
            : null;
        });
        return t || a ? null : e;
      }
      function d(e, t) {
        const [a, n] = (0, l.useState)(null);
        return (
          (0, l.useEffect)(() => {
            if (e && t?.length > 0) {
              const a = new r.j(e);
              a.LoadApps(t).then(() => n(a));
            }
          }, [e, t]),
          a
        );
      }
      function u(e, t, a) {
        const [n, i] = (0, l.useState)(null),
          s = (0, o.zD)();
        return (
          (0, l.useEffect)(() => {
            if (e && t)
              if (e < t) {
                if (t < s && a?.length > 0) {
                  const n = new r.j(e, t);
                  n.LoadApps(a).then(() => i(n));
                }
              } else
                console.error(`useLoadAppRevenueDetailsDateRange ${e} >= ${t}`);
            else
              console.error(
                "useLoadAppRevenueDetailsDateRange start or end missing",
              );
          }, [e, t, a, s]),
          n
        );
      }
    },
    41710: (e, t, a) => {
      "use strict";
      a.d(t, { Og: () => u, Oo: () => p, dh: () => _ });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(47427),
        s = a(45492),
        o = a(16649),
        c = a(20417),
        m = a(37563);
      class d {
        m_rgSpotlights = new Array();
        m_mapSpotlights = new Map();
        m_mapSpotlightsCallback = new Map();
        m_SpotlightListCallback = new s.pB();
        m_mapLoadingSpotlights = new Map();
        GetAllSpotlights() {
          return this.m_rgSpotlights;
        }
        GetSpotlightByID(e) {
          return this.m_mapSpotlights.get(e);
        }
        GetCallbackForSpotlightList() {
          return this.m_SpotlightListCallback;
        }
        GetCallbackForSpotlightID(e) {
          return (
            this.m_mapSpotlightsCallback.has(e) ||
              this.m_mapSpotlightsCallback.set(e, new s.pB()),
            this.m_mapSpotlightsCallback.get(e)
          );
        }
        async LoadSpotlight(e) {
          return this.m_mapSpotlights.has(e)
            ? this.m_mapSpotlights.get(e)
            : (this.m_mapLoadingSpotlights.has(e) ||
                this.m_mapLoadingSpotlights.set(
                  e,
                  this.InternalLoadSpotlight(e),
                ),
              this.m_mapLoadingSpotlights.get(e));
        }
        async InternalLoadSpotlight(e) {
          let t = null;
          try {
            const a =
                m.De.PARTNER_BASE_URL +
                "promotion/spotlights/ajaxloadspotlight",
              n = { spotlightid: e, sessionid: m.De.SESSIONID },
              i = await r().get(a, { params: n });
            if (200 == i?.status && 1 == i.data?.success && i.data.spotlight)
              return (
                this.InternalAddSpotlight(i.data.spotlight),
                this.GetCallbackForSpotlightList().Dispatch(
                  this.m_rgSpotlights,
                ),
                this.GetCallbackForSpotlightID(e).Dispatch(i.data.spotlight),
                i.data.spotlight
              );
            t = (0, o.l)(i?.data);
          } catch (e) {
            t = (0, o.l)(e);
          }
          return (
            console.error(
              "CPartnerContactStore.InternalLoadSpotlight: ajax request failed with error: " +
                t.strErrorMsg,
              t,
            ),
            null
          );
        }
        async AddSpotlight(e) {
          let t = null;
          try {
            const a =
                m.De.PARTNER_BASE_URL +
                "promotion/spotlights/ajaxcreatenewspotlight",
              n = new FormData();
            n.append("sessionid", m.De.SESSIONID),
              n.append("spotlight", JSON.stringify(e));
            const i = e.association;
            i?.appid && "application" == e.association_type
              ? n.append("nAppID", "" + i.appid)
              : i?.packageid && "package" == e.association_type
                ? n.append("nPackageID", "" + i.packageid)
                : i?.bundleid &&
                  "bundle" == e.association_type &&
                  n.append("nBundleID", "" + i.bundleid);
            const l = await r().post(a, n, { withCredentials: !0 });
            if (200 == l?.status && 1 == l.data?.success && l.data.spotlight)
              return (
                this.InternalAddSpotlight(e),
                this.GetCallbackForSpotlightList().Dispatch(
                  this.m_rgSpotlights,
                ),
                this.GetCallbackForSpotlightID(e.id).Dispatch(e),
                l.data.spotlight.id
              );
            t = (0, o.l)(l?.data);
          } catch (e) {
            t = (0, o.l)(e);
          }
          return (
            console.error(
              "CPartnerContactStore.AddSpotlight: ajax request failed with error: " +
                t.strErrorMsg,
              t,
            ),
            null
          );
        }
        SetSpotlight(e) {
          const t = this.m_rgSpotlights.findIndex((t) => t.id == e.id);
          this.m_mapSpotlights.set(e.id, e),
            t >= 0 &&
              ((this.m_rgSpotlights[t] = e),
              this.GetCallbackForSpotlightList().Dispatch(this.m_rgSpotlights)),
            this.GetCallbackForSpotlightID(e.id).Dispatch(e);
        }
        static s_Singleton;
        static Get() {
          return (
            d.s_Singleton ||
              ((d.s_Singleton = new d()),
              d.s_Singleton.Init(),
              "dev" == m.De.WEB_UNIVERSE &&
                (window.g_SpotlightStore = d.s_Singleton)),
            d.s_Singleton
          );
        }
        constructor() {}
        InternalAddSpotlight(e) {
          this.m_mapSpotlights.set(e.id, e), this.m_rgSpotlights.push(e);
        }
        Init() {
          let e = (0, m.kQ)("spotlightinfo", "application_config");
          this.ValidateStoreDefault(e) && e.forEach(this.InternalAddSpotlight);
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].name &&
            "object" == typeof t[0].location &&
            "object" == typeof t[0].visibility
          );
        }
      }
      function u() {
        const [e, t] = l.useState(d.Get().GetAllSpotlights());
        return (0, c.Qg)(d.Get().GetCallbackForSpotlightList(), t), e;
      }
      function p() {
        return { fnAddNewSpotlight: d.Get().AddSpotlight };
      }
      function _(e) {
        const [t, a] = (0, l.useState)(() => d.Get().GetSpotlightByID(e));
        return (
          (0, l.useEffect)(() => {
            e && e != t?.id && d.Get().LoadSpotlight(e).then(a);
          }, [t, e]),
          (0, c.Qg)(d.Get().GetCallbackForSpotlightID(e), a),
          t
        );
      }
      (0, n.gn)([c.ak], d.prototype, "LoadSpotlight", null),
        (0, n.gn)([c.ak], d.prototype, "AddSpotlight", null),
        (0, n.gn)([c.ak], d.prototype, "InternalAddSpotlight", null);
    },
    26286: (e, t, a) => {
      "use strict";
      a.d(t, { b: () => d });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(4618),
        s = a(16649),
        o = a(16997),
        c = a(65255);
      class m {
        async CreateCluster(e, t, a, n, i, o, m) {
          const d = `${c.De.PARTNER_BASE_URL}cluster/ajaxcreatecluster`,
            u = new FormData();
          u.append("sessionid", c.De.SESSIONID),
            u.append("pageid", (0, l.D9)(e)),
            u.append("name", t),
            u.append("layout", (0, l.He)(e)),
            a && u.append("rtStartTime", "" + a),
            n && u.append("rtEndTime", "" + n),
            i && u.append("targetURL", i),
            o &&
              (u.append("storeItemID", "" + o),
              u.append("storeItemType", "" + m));
          let p = null;
          try {
            const e = await r().post(d, u, { withCredentials: !0 });
            if (200 == e?.status && 1 == e.data?.success && e.data.clusterid)
              return e.data.clusterid;
            p = { response: e };
          } catch (e) {
            p = e;
          }
          const _ = (0, s.l)(p);
          return (
            console.error(
              "CTakeOverTakeUnderAdaptationStore.CreateCluster: failed",
              _.strErrorMsg,
              _,
            ),
            null
          );
        }
        static s_Singleton;
        static Get() {
          return m.s_Singleton || (m.s_Singleton = new m()), m.s_Singleton;
        }
      }
      function d() {
        return { fnCreateCluster: m.Get().CreateCluster };
      }
      (0, n.gn)([o.a], m.prototype, "CreateCluster", null);
    },
    37190: (e, t, a) => {
      "use strict";
      a.d(t, { Q: () => d, e: () => u });
      var n = a(85556),
        i = a(80751),
        r = a.n(i),
        l = a(54842),
        s = a(16649),
        o = a(37563),
        c = a(47427);
      function m(e, t) {
        return `${e}|${t}`;
      }
      class d {
        m_mapPromise = new Map();
        constructor() {
          (0, l.rC)(this);
        }
        m_mapSaleDetails = new Map();
        static s_globalSingletonStore;
        static Get() {
          return (
            d.s_globalSingletonStore ||
              ((d.s_globalSingletonStore = new d()),
              d.s_globalSingletonStore.Init()),
            d.s_globalSingletonStore
          );
        }
        Init() {}
        BHasSaleDetails(e, t) {
          return this.m_mapSaleDetails.has(m(e, t));
        }
        GetSaleDetails(e, t) {
          const a = m(e, t);
          return (
            this.m_mapSaleDetails.has(a) || this.FetchSalePageDetails(e, t),
            this.m_mapSaleDetails.get(a)
          );
        }
        async FetchSalePageDetails(e, t) {
          const a = m(e, t);
          return (
            this.m_mapPromise.has(a) ||
              this.m_mapPromise.set(a, this.InternalFetchSalePageDetails(e, t)),
            this.m_mapPromise.get(a)
          );
        }
        async InternalFetchSalePageDetails(e, t) {
          const a = m(e, t);
          if (this.m_mapSaleDetails.has(a)) return this.m_mapSaleDetails.get(a);
          this.m_mapSaleDetails.set(a, {});
          const n = { clanid: e, gid: t },
            i =
              o.De.PARTNER_BASE_URL + "actions/ajaxgetpartnereventssaledetails";
          let l = null;
          try {
            const e = await r().get(i, { params: n, withCredentials: !0 });
            if (1 == e?.data?.success && e.data.details) {
              const t = e.data.details;
              return this.m_mapSaleDetails.set(a, t), t;
            }
            l = (0, s.l)(e?.data);
          } catch (e) {
            l = (0, s.l)(e);
          }
          return (
            console.warn("ajax request for " + a + " failed with error", l),
            null
          );
        }
      }
      function u(e, t) {
        const [a, n] = (0, c.useState)(() =>
          d.Get().BHasSaleDetails(e, t) ? d.Get().GetSaleDetails(e, t) : null,
        );
        return (
          (0, c.useEffect)(() => {
            d.Get().FetchSalePageDetails(e, t).then(n);
          }, [e, t, a]),
          a
        );
      }
      (0, n.gn)([l.LO.shallow], d.prototype, "m_mapSaleDetails", void 0);
    },
    3675: (e, t, a) => {
      "use strict";
      a.d(t, { U: () => d });
      var n = a(85556),
        i = a(54842),
        r = a(37563),
        l = a(80751),
        s = a.n(l),
        o = a(16649),
        c = a(44174),
        m = a(35427);
      class d {
        constructor() {
          (0, i.rC)(this);
        }
        static s_SaleEventStore;
        m_rgUpcoming = new Array();
        m_rgDraft = new Array();
        m_rgOldDraft = new Array();
        m_rgArchive = new Array();
        m_rgActive = new Array();
        m_rgSeasonFeatured = new Array();
        m_rgHiddenSeasonFeatured = new Array();
        static Get() {
          return (
            d.s_SaleEventStore ||
              ((d.s_SaleEventStore = new d()), d.s_SaleEventStore.Init()),
            d.s_SaleEventStore
          );
        }
        GetActiveEvents() {
          return this.m_rgActive;
        }
        GetUpcomingEvents() {
          return this.m_rgUpcoming;
        }
        GetArchiveEvents() {
          return this.m_rgArchive;
        }
        GetDraftEvents() {
          return this.m_rgDraft;
        }
        GetOldDraftEvents() {
          return this.m_rgOldDraft;
        }
        GetSeasonFeaturedEvents() {
          return this.m_rgSeasonFeatured;
        }
        GetSeasonFeaturedHiddenEvents() {
          return this.m_rgHiddenSeasonFeatured;
        }
        Init() {
          const e = (0, r.kQ)("saleeventstore", "application_config");
          if (this.ValidateStoreDefault(e)) {
            const t = Math.floor(Date.now() / 1e3),
              a = t - 2592e3;
            e.forEach((e) => {
              e.bVisible && e.rtEndTime && e.rtEndTime < t
                ? this.m_rgArchive.push(e)
                : e.bVisible && e.rtStartTime > t
                  ? this.m_rgUpcoming.push(e)
                  : e.bVisible
                    ? this.m_rgActive.push(e)
                    : e.rtLastModifiedTime > a && e.rtEndTime > t
                      ? this.m_rgDraft.push(e)
                      : this.m_rgOldDraft.push(e),
                e.bFeaturedNextSeasonalSale && this.m_rgSeasonFeatured.push(e);
            }),
              this.m_rgActive.sort((e, t) => e.rtStartTime - t.rtStartTime),
              this.m_rgDraft.sort((e, t) => e.rtStartTime - t.rtStartTime);
          }
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].clanAccountID &&
            "string" == typeof t[0].clanEventGID
          );
        }
        async CreateSalePartnerEvent(e, t, a, n, i, l) {
          let d = r.De.PARTNER_BASE_URL + "sales/ajaxcreatesalepartnerevent";
          const u = new FormData();
          u.append("sessionid", r.De.SESSIONID),
            u.append("clanAccountID", "" + e),
            u.append("eventName", t),
            u.append("vanity", a),
            u.append("rtStartTime", "" + n),
            u.append("rtEndTime", "" + i);
          try {
            let t = await s().post(d, u, { cancelToken: l.token });
            if (
              t &&
              200 == t.status &&
              1 == t.data.success &&
              !l.token.reason
            ) {
              let a = m.K.InitFromClanID(e);
              return await c.j1.LoadHiddenPartnerEvent(a, t.data.eventEventGID);
            }
          } catch (e) {
            let t = (0, o.l)(e);
            console.log("CreateSalePartnerEvent Failed: " + t.strErrorMsg, t);
          }
          return null;
        }
      }
      (0, n.gn)([i.aD], d.prototype, "Init", null);
    },
    63816: (e, t, a) => {
      "use strict";
      a.d(t, { J: () => s });
      var n = a(47427),
        i = a(60285),
        r = a(13129),
        l = a(31846);
      function s(e) {
        const { startTimestamp: t, endTimestamp: a, largeDate: s } = e,
          o = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }),
          c = o.format(new Date(1e3 * t)),
          m = o.format(new Date(1e3 * a)),
          d =
            c === m
              ? c
              : (0, l.Xx)("#Dashboard_UpcomingEvents_Events_TimeRange", c, m);
        return n.createElement(
          "span",
          { className: (0, r.Z)(i.ReleaseDateText, s && i.Large) },
          d,
        );
      }
    },
    73208: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ho: () => r,
        Oq: () => d,
        XL: () => o,
        Xb: () => l,
        ex: () => u,
        hp: () => s,
        l: () => p,
        mB: () => m,
        rj: () => c,
      });
      var n = a(47427),
        i = a(31846);
      function r(e) {
        if (!e || 0 == e.trim().length) return null;
        try {
          return JSON.parse(e);
        } catch {
          return null;
        }
      }
      function l(e, t) {
        const a = new Set();
        return e.filter((e) => {
          const n = t(e);
          return !a.has(n) && (a.add(n), !0);
        });
      }
      function s(...e) {
        return [...new Set(e.flat())];
      }
      function o(e) {
        const t = new Date(e.getTime());
        return t.setHours(0, 0, 0, 0), t;
      }
      function c(e) {
        const t = new Date(e.getTime());
        return t.setDate(1), t.setHours(0, 0, 0, 0), t;
      }
      function m(e, t) {
        const a = new Date(e);
        return a.setDate(e.getDate() + t), a;
      }
      function d(e) {
        return n.useMemo(() => {
          const t = new Date();
          return t.setDate(1), t.setMonth(t.getMonth() + e), t;
        }, [e]);
      }
      function u(e) {
        const { href: t, children: a } = e;
        return t
          ? n.createElement("a", { ...e }, a)
          : n.createElement(n.Fragment, null, a);
      }
      function p(e, t) {
        const a = {
            sText: (0, i.Xx)(
              "#Dashboard_UpcomingEvents_AppReleaseState_unavailable",
            ),
            sTooltip: (0, i.Xx)(
              "#Dashboard_UpcomingEvents_AppReleaseState_unavailable_Description",
            ),
            bPrereleaseOrReleased: !1,
          },
          n = {
            sText: (0, i.Xx)(
              "#Dashboard_UpcomingEvents_AppReleaseState_storepagenotlive",
            ),
            sTooltip: void 0,
            bPrereleaseOrReleased: !1,
          },
          r = {
            released: {
              sText: (0, i.Xx)(
                "#Dashboard_UpcomingEvents_AppReleaseState_released",
              ),
              sTooltip: (0, i.Xx)(
                "#Dashboard_UpcomingEvents_AppReleaseState_released_Description",
              ),
              bPrereleaseOrReleased: !0,
            },
            prerelease: {
              sText: (0, i.Xx)(
                "#Dashboard_UpcomingEvents_AppReleaseState_prerelease",
              ),
              sTooltip: (0, i.Xx)(
                "#Dashboard_UpcomingEvents_AppReleaseState_prerelease_Description",
              ),
              bPrereleaseOrReleased: !0,
            },
            ownersonly: {
              sText: (0, i.Xx)(
                "#Dashboard_UpcomingEvents_AppReleaseState_ownersonly",
              ),
              sTooltip: (0, i.Xx)(
                "#Dashboard_UpcomingEvents_AppReleaseState_ownersonly_Description",
              ),
              bPrereleaseOrReleased: !1,
            },
            preloadonly: {
              sText: (0, i.Xx)(
                "#Dashboard_UpcomingEvents_AppReleaseState_preloadonly",
              ),
              sTooltip: (0, i.Xx)(
                "#Dashboard_UpcomingEvents_AppReleaseState_preloadonly_Description",
              ),
              bPrereleaseOrReleased: !1,
            },
            disabled: {
              sText: (0, i.Xx)(
                "#Dashboard_UpcomingEvents_AppReleaseState_disabled",
              ),
              sTooltip: (0, i.Xx)(
                "#Dashboard_UpcomingEvents_AppReleaseState_disabled_Description",
              ),
              bPrereleaseOrReleased: !1,
            },
          };
        let l = a;
        return e in r ? (l = r[e]) : t || (l = n), l;
      }
    },
    26519: (e, t, a) => {
      "use strict";
      a.d(t, { L: () => bt, G: () => yt });
      var n = a(760),
        i = a(69406),
        r = a(47427),
        l = a(28017),
        s = a(8285),
        o = a(71630),
        c = a(81033),
        m = a(90807),
        d = a(7073),
        u = a(98061),
        p = a(95518),
        _ = a(70044),
        h = a(82416),
        g = a(87813),
        E = a(15690),
        S = a(1485),
        v = a(71472),
        D = a(90069),
        f = a(46882),
        y = a(14609),
        b = a(29480),
        I = a(50423),
        C = a(31846),
        k = a(37563),
        A = a(37047),
        w = a(80886),
        P = a(92012),
        T = a(24827),
        N = a(77178),
        R = a(62613),
        G = a(13129),
        x = a(45284),
        L = a(46984),
        B = a(91743),
        M = a.n(B);
      const O = "packageid";
      function F(e) {
        const { nInitialPackageID: t, closeModal: a } = e,
          [n, i] = r.useState(null),
          [l, s] = r.useState(""),
          [o, c] = r.useState(7),
          [m, u] = (0, v.Ar)(O, 0),
          [h, g] = r.useState(t || m),
          { deepestDiscount: E } = (0, d.b2)(h),
          { mostRecentDiscount: f } = (0, d.k1)(r.useMemo(() => [h], [h])),
          y = (0, d.Qy)(h),
          [b, I] = r.useState(0),
          k = (0, p.z$)(h),
          [w, T] = r.useState(null),
          [R, x] = r.useState(null),
          B = (0, _.Zq)(R),
          F = !!w,
          U = !B,
          H = () => {
            u(null), a();
          },
          q = (e, t) => {
            const a = Math.max(e, t.rtStartDate);
            i(a);
            const n = Math.floor((t.rtEndDate - a) / L._H.PerDay);
            o > n && c(n);
          },
          W = (e, t) => {
            if ((T(e), x(t), t)) {
              const a = (0, _.f0)(t);
              s(a.name),
                c(Math.floor((a.end_date - a.start_date) / L._H.PerDay)),
                q(a.start_date, e);
            } else e && (s(""), c(7), q((0, A._)(e.rtStartDate), e));
          },
          Z = l.trim().length && h > 0 && b >= d.dE && b <= d.U8,
          K = Math.floor(Date.now() / 1e3),
          Q = (0, A._)(K),
          Y = (0, _.QM)(h);
        return r.createElement(
          N.RG,
          { bAllowFullSize: !1, onCancel: H, closeModal: H },
          r.createElement(
            S.h4,
            null,
            (0, C.Xx)("#DiscountDashboard_Create_Title"),
          ),
          r.createElement(
            S.uT,
            null,
            r.createElement(
              "div",
              { className: M().CreateCustomDiscountCtn },
              r.createElement(
                "div",
                null,
                (0, C.Xx)("#DiscountDashboard_Create_Instructions"),
              ),
              r.createElement(
                "div",
                { className: M().Section },
                !h && r.createElement(X, null),
                r.createElement(j, {
                  selectedPackageID: h,
                  onSelect: (e) => {
                    g(e), W(null, null);
                  },
                }),
              ),
              Boolean(Y + p.LX > K) &&
                r.createElement(
                  "div",
                  { className: M().CooldownWarning },
                  (0, C.Xx)(
                    "#DiscountDashboard_Create_PriceIncreaseCooldown",
                    (0, C.$1)(Y, !0, !1),
                  ),
                ),
              r.createElement(V, {
                packageID: h,
                rgScheduleRanges: k,
                selectedRange: w,
                selectedDiscountEventID: R,
                fnSelectRangeAndEvent: W,
              }),
              F &&
                r.createElement(
                  r.Fragment,
                  null,
                  U &&
                    r.createElement(
                      r.Fragment,
                      null,
                      r.createElement(
                        "div",
                        { className: M().CustomInstructionsCtn },
                        (0, C.Xx)(
                          "#DiscountDashboard_Create_Instructions_CustomEvent",
                        ),
                        r.createElement("br", null),
                        (0, C.Xx)("#DiscountDashboard_Create_CustomEventNotes"),
                      ),
                      r.createElement(
                        "div",
                        { className: M().Section },
                        !l.trim().length && r.createElement(X, null),
                        r.createElement(S.II, {
                          type: "text",
                          label: (0, C.Xx)(
                            "#DiscountDashboard_Create_DiscountNameInternal",
                          ),
                          placeholder: (0, C.Xx)(
                            "#DiscountDashboard_Create_PlaceholderName",
                          ),
                          value: l,
                          onChange: (e) => s(e.target.value),
                        }),
                      ),
                    ),
                  r.createElement(
                    "div",
                    { className: (0, G.Z)(M().Section, M().DateCtn) },
                    r.createElement(P.A, {
                      strDescription: (0, C.Xx)(
                        "#DiscountDashboard_Create_DiscountStartDate",
                      ),
                      disabled: !U,
                      nEarliestTime: Math.max(w.rtStartDate, Q),
                      nLatestTime: w.rtEndDate - L._H.PerDay,
                      fnGetTimeToUpdate: () => n,
                      fnSetTimeToUpdate: (e) => q(e, w),
                      className: M().DatePicker,
                      bShowTimeZone: !0,
                      strAlsoShowTimeZone: A.$,
                    }),
                    r.createElement(
                      "div",
                      { className: M().DiscountLengthCtn },
                      r.createElement(S.II, {
                        type: "number",
                        label: (0, C.Xx)(
                          "#DiscountDashboard_Create_DiscountLength",
                        ),
                        value: o,
                        onChange: (e) => {
                          const t = e.target.value,
                            a = Number(t || 0),
                            i = Math.floor((w?.rtEndDate - n) / L._H.PerDay),
                            r = Math.min(Math.min(14, i), Math.max(1, a));
                          c(r);
                        },
                        disabled: !U,
                        min: 1,
                        max: 14,
                      }),
                    ),
                  ),
                  r.createElement(
                    "div",
                    { className: M().DiscountCtn },
                    r.createElement(
                      "div",
                      {
                        className: (0, G.Z)(
                          M().Section,
                          M().DiscountPercentCtn,
                        ),
                      },
                      (b < d.dE || b > d.U8) && r.createElement(X, null),
                      r.createElement(S.II, {
                        type: "number",
                        label: (0, C.Xx)(
                          "#DiscountDashboard_Create_DiscountPct",
                        ),
                        value: b,
                        onChange: (e) => {
                          const t = e.target.value,
                            a = Number(t || 0);
                          0 <= a && a <= d.U8 && I(a);
                        },
                        min: 10,
                        step: 5,
                        max: y,
                      }),
                    ),
                    r.createElement(
                      "div",
                      { className: M().DiscountHelperCtn },
                      r.createElement(
                        "div",
                        { className: M().HistoryLine },
                        (0, C.Xx)(
                          "#DiscountDashboard_Create_Instructions_DiscountPercentage",
                          y,
                        ),
                      ),
                      E &&
                        r.createElement(
                          "div",
                          { className: M().HistoryLine },
                          (0, C.Xx)(
                            "#DiscountDashboard_Create_DeepestPastDiscount",
                            E.nDiscountPct,
                          ),
                        ),
                      f &&
                        r.createElement(
                          "div",
                          { className: M().HistoryLine },
                          (0, C.Xx)(
                            "#DiscountDashboard_Create_MostRecentDiscount",
                            f.nDiscountPct,
                          ),
                        ),
                    ),
                  ),
                  r.createElement("br", null),
                  r.createElement(
                    "div",
                    { className: M().Instructions },
                    (0, C.Xx)("#DiscountDashboard_Create_TimingWarning"),
                  ),
                ),
            ),
          ),
          r.createElement(
            S.$_,
            null,
            r.createElement(S.o9, {
              onCancel: H,
              bOKDisabled: !Z,
              onOK: () => {
                const e = {
                  packageID: h,
                  nDiscountPct: b,
                  strDiscountName: l,
                  strDiscountDescription: "#discount_desc_preset_special",
                  rtStartDate: n,
                  rtEndDate: n + o * L._H.PerDay,
                  discountEventID: R,
                };
                (0, D.AM)(
                  r.createElement(z, { discount: e, fnOnSuccess: H }),
                  window,
                );
              },
              strOKText: (0, C.Xx)("#DiscountDashboard_Create_BtnCreate"),
              strCancelText: (0, C.Xx)("#DiscountDashboard_Create_BtnCancel"),
            }),
          ),
        );
      }
      function U(e) {
        const { range: t, fnSelectRangeAndEvent: a } = e;
        if (!t.bIsAvailable)
          return r.createElement(
            "div",
            { className: M().DiscountedRange },
            r.createElement(T.Sw, {
              className: M().Dates,
              rtStartDate: t.rtStartDate,
              rtEndDate: t.rtEndDate,
            }),
            r.createElement(
              "div",
              { className: M().DiscountName },
              t.discount?.strDiscountName,
            ),
            r.createElement(
              "div",
              { className: M().DiscountPercentage },
              (0, C.Xx)(
                "#DiscountDashboard_Create_DiscountedPercentage",
                t.discount?.nDiscountPct,
              ),
            ),
          );
        const n = "new-custom-event",
          i = [];
        t.bMajorSaleOnly ||
          i.push({
            label: (0, C.Xx)("#DiscountDashboard_Create_CustomDiscount"),
            data: n,
          });
        for (const e of t.rgDiscountEventIDs) {
          const t = (0, _.f0)(e);
          i.push({ label: t.name, data: t.id });
        }
        const l = (0, A._)(Math.floor(Date.now() / 1e3));
        return r.createElement(
          "div",
          { className: M().AvailableRange },
          r.createElement(
            "div",
            { className: M().AvailableText },
            (0, C.Xx)("#DiscountDashboard_Create_AvailableTimeRange"),
            "  (",
            r.createElement(T.Sw, {
              className: M().Dates,
              rtStartDate: Math.max(l, t.rtStartDate),
              rtEndDate: t.rtEndDate,
            }),
            " )",
          ),
          r.createElement(
            "div",
            { className: M().DiscountEventSelectDropDown },
            r.createElement(S.ry, {
              strDropDownClassName: M().DropDownScroll,
              strDefaultLabel: (0, C.Xx)(
                "#DiscountDashboard_Create_SelectDiscountEventLabel",
              ),
              rgOptions: i,
              onChange: (e) => {
                a(t, e.data == n ? null : e.data);
              },
            }),
          ),
        );
      }
      function H(e) {
        const { range: t, strDiscountEventID: a, fnClearEvent: n } = e,
          i = (0, _.Zq)(a);
        return r.createElement(
          "div",
          { className: (0, G.Z)(M().SelectedEvent, "landingTable") },
          r.createElement(
            "div",
            { className: "tr" },
            r.createElement(
              "div",
              { className: "th" },
              (0, C.Xx)("#DiscountDashboard_Create_SelectedDiscountEventLabel"),
            ),
            r.createElement(
              "div",
              { className: "th" },
              (0, C.Xx)("#DiscountDashboard_Create_AvailableRange"),
            ),
            r.createElement("div", { className: "th" }),
          ),
          r.createElement(
            "div",
            { className: "tr" },
            r.createElement(
              "div",
              { className: (0, G.Z)(M().DiscountName, "td") },
              i
                ? i.name
                : (0, C.Xx)("#DiscountDashboard_Create_CustomDiscount"),
            ),
            r.createElement(T.Sw, {
              className: (0, G.Z)("td", M().Dates),
              rtStartDate: t.rtStartDate,
              rtEndDate: t.rtEndDate,
            }),
            r.createElement(
              "div",
              {
                className: (0, G.Z)("td", M().ClearSelectedPackage),
                onClick: n,
              },
              r.createElement(R.X, null),
            ),
          ),
        );
      }
      function V(e) {
        const {
            packageID: t,
            rgScheduleRanges: a,
            selectedRange: n,
            selectedDiscountEventID: i,
            fnSelectRangeAndEvent: l,
          } = e,
          s = !t,
          o = !s && !!n,
          c = !s && !o && !a?.length,
          m = !s && !o && !c,
          d = m && !a?.some((e) => e.bIsAvailable);
        return r.createElement(
          "div",
          { className: M().Section },
          !n &&
            r.createElement(
              "div",
              { className: "DialogLabel" },
              (0, C.Xx)("#DiscountDashboard_Create_ScheduleSectionLabel"),
            ),
          s &&
            r.createElement(
              "div",
              { className: M().InstructionsCtn },
              (0, C.Xx)("#DiscountDashboard_Create_Instructions_ChoosePackage"),
            ),
          o &&
            r.createElement(H, {
              range: n,
              strDiscountEventID: i,
              fnClearEvent: () => l(null, null),
            }),
          c && r.createElement(f.V, { position: "center" }),
          m &&
            a.map((e, t) =>
              r.createElement(U, {
                key: t + e.rtStartDate,
                range: e,
                fnSelectRangeAndEvent: l,
              }),
            ),
          d &&
            r.createElement(
              "div",
              { className: M().Warning },
              (0, C.Xx)("#DiscountDashboard_Create_NoAvailabilityWarning"),
            ),
        );
      }
      function X(e) {
        return r.createElement(
          "div",
          { className: M().RequiredFieldWarning },
          (0, C.Xx)("#DiscountDashboard_Create_RequiredFieldWarning"),
        );
      }
      function j(e) {
        const { selectedPackageID: t, onSelect: a } = e,
          [n, i] = r.useState(""),
          [l, s] = r.useState(),
          o = (function () {
            const e = (0, u.z)(),
              t = (0, w.dY)(e, {});
            return r.useMemo(() => {
              const a = new Map();
              if (1 == t) return a;
              const n = (e, t) => {
                const n = e?.toLocaleLowerCase().trim();
                n && (a.has(n) || a.set(n, []), a.get(n).push(t));
              };
              for (const t of e) {
                const e = E.Z.Get().GetPackage(t);
                e &&
                  e.BIsVisible() &&
                  (n(e.GetName(), e),
                  n(e.GetID().toString(), e),
                  e.GetIncludedAppIDs()?.forEach((t) => {
                    const a = E.Z.Get().GetApp(t);
                    n(a?.GetName(), e), n(t.toString(), e);
                  }));
              }
              return a;
            }, [e, t]);
          })();
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            { className: "DialogLabel" },
            (0, C.Xx)("#DiscountDashboard_Create_PackageSearchLabel"),
          ),
          t
            ? r.createElement(
                "div",
                { className: M().SelectedPackage },
                r.createElement(W, { packageID: t }),
                r.createElement(
                  "div",
                  {
                    className: M().ClearSelectedPackage,
                    onClick: () => a(null),
                  },
                  r.createElement(R.X, null),
                ),
              )
            : r.createElement(
                "div",
                { className: M().PackageSelector },
                r.createElement(S.II, {
                  type: "text",
                  placeholder: (0, C.Xx)(
                    "#DiscountDashboard_Create_PackageSearchPlaceholder",
                  ),
                  value: n,
                  onChange: (e) => {
                    i(e.target.value);
                    const t = e.target.value.toLocaleLowerCase().trim();
                    if (!t) return void s(null);
                    const a = new Set();
                    o.forEach((e, n) => {
                      n.indexOf(t) >= 0 && e.forEach((e) => a.add(e));
                    });
                    const n = Array.from(a).sort((e, t) =>
                      (0, x.tN)(e.GetName(), t.GetName()),
                    );
                    s(n);
                  },
                  bShowClearAction: !0,
                }),
                r.createElement(q, {
                  strSearchKey: n,
                  rgSearchResults: l,
                  onSelect: (e) => {
                    i(""), s(null), a(e);
                  },
                }),
              ),
        );
      }
      function q(e) {
        const { strSearchKey: t, rgSearchResults: a, onSelect: n } = e;
        if (!t) return null;
        const i = a?.length ?? 0;
        let l;
        return (
          (l =
            0 == i
              ? (0, C.Xx)("#DiscountDashboard_Create_SearchResultsEmpty")
              : 1 == i
                ? (0, C.Xx)("#DiscountDashboard_Create_SearchResultsOne")
                : i <= 20
                  ? (0, C.Xx)("#DiscountDashboard_Create_SearchResultCount", i)
                  : (0, C.Xx)(
                      "#DiscountDashboard_Create_SearchResultCountWithLimit",
                      i,
                      20,
                    )),
          r.createElement(
            "div",
            { className: M().SearchResults },
            r.createElement("div", { className: M().SummaryLine }, l),
            r.createElement(
              "div",
              { className: M().PackageList },
              a
                ?.slice(0, 20)
                .map((e) =>
                  r.createElement(W, {
                    key: e.GetID(),
                    packageID: e.GetID(),
                    onSelect: n,
                  }),
                ),
            ),
          )
        );
      }
      function W(e) {
        const { packageID: t, onSelect: a } = e,
          [n, i] = (0, w.ie)(t, {});
        return r.createElement(
          "div",
          { className: M().OnePackageResult, onClick: () => a?.(n?.GetID()) },
          r.createElement(
            "div",
            { className: M().PackageName },
            " ",
            n?.GetName(),
            " ",
          ),
        );
      }
      function z(e) {
        const { closeModal: t, discount: a, fnOnSuccess: n } = e,
          { fnSaveDiscount: i } = (0, d.ID)(),
          [l, s] = r.useState(null),
          o = (0, b.T)("SaveProgressDialog");
        return (
          r.useEffect(() => {
            (async () => {
              const e = await i(a);
              o.token.reason ||
                (1 == e.success
                  ? (n(), t())
                  : s(
                      e.msg ??
                        (0, C.Xx)("#DiscountDashboard_SaveDiscountsError"),
                    ));
            })();
          }, []),
          r.createElement(
            N.uH,
            {
              strTitle: (0, C.Xx)("#DiscountDashboard_Create_SaveDialogTitle"),
              bAlertDialog: !!l,
              bOKDisabled: !l,
              strOKButtonText: l
                ? (0, C.Xx)("#Button_Close")
                : (0, C.Xx)("#Button_OK"),
              bDestructiveWarning: !0,
              closeModal: t,
            },
            l ?? r.createElement(f.V, { position: "center" }),
          )
        );
      }
      var Z = a(55215),
        K = a.n(Z),
        Q = a(23121),
        Y = a(6683),
        J = a(10162),
        $ = a(71741),
        ee = a.n($),
        te = a(63226),
        ae = a.n(te),
        ne = a(66263),
        ie = a(42718),
        re = a(4532),
        le = a(64936),
        se = a(59728),
        oe = a(42006),
        ce = a(4771),
        me = a(80751),
        de = a.n(me),
        ue = a(16649);
      class pe {
        m_mapOptInDefs = new Map();
        m_mapInflightRequests = new Map();
        GetOptInPublicDefinition(e) {
          return this.m_mapOptInDefs.get(e);
        }
        async LoadOptInPublicDefinition(e) {
          return (
            this.m_mapInflightRequests.has(e) ||
              this.m_mapInflightRequests.set(
                e,
                this.InternalLoadOptInPublicDefinition(e),
              ),
            this.m_mapInflightRequests.get(e)
          );
        }
        async InternalLoadOptInPublicDefinition(e) {
          let t;
          try {
            const t =
                k.De.PARTNER_BASE_URL + "optin/ajaxgetoptinpublicdefinition",
              a = { opt_in_name: e },
              n = await de().get(t, { params: a });
            if (200 == n?.status && 1 == n?.data?.success && n?.data?.data) {
              const t = n.data.data;
              return (
                (0, ce.MH)(t),
                e.startsWith("sale_")
                  ? (this.m_mapOptInDefs.set(e, t),
                    this.m_mapOptInDefs.set(e.replace("sale_", ""), t))
                  : (this.m_mapOptInDefs.set(e, t),
                    this.m_mapOptInDefs.set("sale_" + e, t)),
                n.data.data
              );
            }
          } catch (e) {
            t = (0, ue.l)(e);
          }
          return (
            console.error(
              "COptInAdmin::LoadOptInPublicDefinition Error loading: " +
                t.strErrorMsg,
              t,
            ),
            null
          );
        }
        static s_Singleton;
        static Get() {
          return (
            pe.s_Singleton ||
              ((pe.s_Singleton = new pe()),
              ("dev" != k.De.WEB_UNIVERSE && "beta" != k.De.WEB_UNIVERSE) ||
                (window.g_OptInDefinitionStore = pe.s_Singleton)),
            pe.s_Singleton
          );
        }
        constructor() {}
      }
      function _e(e) {
        const [t, a] = (0, r.useState)(pe.Get().GetOptInPublicDefinition(e));
        return (
          (0, r.useEffect)(() => {
            let n = de().CancelToken.source();
            return (
              (t && t.pageid.replace("sale_", "") == e.replace("sale_", "")) ||
                pe
                  .Get()
                  .LoadOptInPublicDefinition(e)
                  .then((e) => {
                    e && !n.token.reason && a(e);
                  }),
              () => n.cancel("useActiveOptInDefinition unmouted")
            );
          }, [t, e]),
          t
        );
      }
      var he = a(72297),
        ge = a(58515),
        Ee = a.n(ge),
        Se = a(34083),
        ve = a(7492);
      function De(e) {
        const t = (0, p.pl)(),
          a = t?.length ?? 0,
          n = a > 0;
        return r.createElement(
          "div",
          { className: (0, G.Z)(Ee().ToolbarInfo, n && Ee().Visible) },
          r.createElement(
            "div",
            { className: Ee().ChangeCount },
            (0, C.kb)("#PackageGrid_PendingChangeCount", a),
          ),
          r.createElement(
            "div",
            { className: Ee().Buttons },
            r.createElement(
              S.zx,
              {
                onClick: (e) =>
                  (0, D.AM)(r.createElement(ye, null), (0, I.RA)(e)),
                disabled: 0 == a,
                className: (0, G.Z)(Ee().Button, Ee().SaveButton),
              },
              (0, C.Xx)("#PackageGrid_SaveChangesDialogButton"),
            ),
            r.createElement(
              S.zx,
              {
                className: Ee().Button,
                onClick: (e) =>
                  (0, D.AM)(r.createElement(Ae, null), (0, I.RA)(e)),
              },
              (0, C.Xx)("#PackageGrid_DiscardChangesDialogButton"),
            ),
          ),
        );
      }
      function fe() {
        return r.useCallback(
          (e, t) =>
            (0, D.AM)(r.createElement(ye, { strContinueUrl: t }), (0, I.RA)(e)),
          [],
        );
      }
      function ye(e) {
        const { closeModal: t, strContinueUrl: a } = e,
          n = (0, p.pl)(),
          i = (0, p._9)(),
          l = !!a,
          s = (0, C.Xx)(
            l
              ? "#PackageGrid_NavigationWarning_Title"
              : "#DiscountDashboard_SaveDiscountsTitle",
          ),
          o = n.filter((e) => !!e.nDiscountID).length,
          c = n.filter((e) => !e.nDiscountID).length,
          m =
            c > 0 && o > 0
              ? (0, C.Xx)("#DiscountDashboard_SaveDiscountsExplanation", o, c)
              : o > 0
                ? (0, C.kb)(
                    "#DiscountDashboard_SaveDiscountsExplanation_UpdateOnly",
                    o,
                  )
                : (0, C.kb)(
                    "#DiscountDashboard_SaveDiscountsExplanation_CreateOnly",
                    c,
                  ),
          u = n.some((e) => e.nDiscountPct > 0 && e.nDiscountPct < 10),
          _ = (0, d.EV)(n),
          h = Math.floor(Date.now() / 1e3),
          g = n.some((e) => e.rtStartDate < h),
          E = () => {
            a && (window.location.href = a);
          },
          v = () => {
            e.closeModal(),
              (0, D.AM)(
                r.createElement(Ie, {
                  rgLocalPackageDiscountOverrides: n,
                  fnOnSuccess: E,
                }),
                window,
              );
          };
        return r.createElement(
          N.RG,
          {
            onOK: v,
            onCancel: e.closeModal,
            bDestructiveWarning: l,
            closeModal: t,
          },
          r.createElement(S.h4, null, " ", s, " "),
          r.createElement(
            S.uT,
            null,
            r.createElement(
              S.Ac,
              null,
              l &&
                r.createElement(
                  "div",
                  { className: Ee().NavigationWarning },
                  (0, C.Xx)("#PackageGrid_NavigationWarning"),
                ),
              m,
              u &&
                r.createElement(
                  "div",
                  { className: Ee().DiscountTooLowWarning },
                  (0, C.Xx)(
                    "#DiscountDashboard_SaveDiscountsWarning_DiscountTooLow",
                  ),
                ),
              _ &&
                r.createElement(
                  "div",
                  { className: Ee().DiscountTooHighWarning },
                  (0, C.Xx)(
                    "#DiscountDashboard_SaveDiscountsWarning_SomeDiscountTooHigh",
                  ),
                ),
              r.createElement(Ce, {
                rgLocalPackageDiscountOverrides: n,
                bMarkupStartTimeBeforeNow: !0,
              }),
              g &&
                r.createElement(
                  "div",
                  { className: Ee().DiscountStartImmediately },
                  r.createElement(
                    "div",
                    { className: Ee().ProgressIcon },
                    r.createElement(R.Uxw, null),
                  ),
                  r.createElement(
                    "p",
                    null,
                    (0, C.Xx)(
                      "#DiscountDashboard_SaveDiscountsWarning_ImmediateStartingDiscount",
                    ),
                  ),
                ),
            ),
            r.createElement(
              S.$_,
              null,
              l
                ? r.createElement(S.$0, {
                    strOKText: (0, C.Xx)("#Button_Save"),
                    onOK: v,
                    bOKDisabled: u || _,
                    strUpdateText: (0, C.Xx)(
                      "#PackageGrid_NavigateWithoutSavingButton",
                    ),
                    onUpdate: () => {
                      i([]), e.closeModal(), E();
                    },
                    onCancel: e.closeModal,
                  })
                : r.createElement(S.o9, {
                    strOKText: (0, C.Xx)("#Button_Save"),
                    onOK: v,
                    bOKDisabled: u || _,
                    onCancel: e.closeModal,
                  }),
            ),
          ),
        );
      }
      function be(e) {
        const t = e.map((e) => e.nDiscountID).filter((e) => !!e),
          a = (0, d.Fi)(t);
        return r.useMemo(() => {
          const t = new Map();
          for (const n of e)
            if (n.nDiscountID) {
              const e = a.get(n.nDiscountID)?.nDiscountPct ?? 0;
              t.set(n.nDiscountID, e);
            }
          return t;
        }, [e]);
      }
      function Ie(e) {
        const {
            closeModal: t,
            rgLocalPackageDiscountOverrides: a,
            fnOnSuccess: n,
          } = e,
          i = (0, p.TB)(),
          { fnSaveDiscount: l, fnDeleteDiscount: s } = (0, d.ID)(),
          [o, c] = r.useState(0),
          [m, u] = r.useState(null),
          h = (0, b.T)("SaveProgressDialog"),
          g = be(a),
          E = r.useRef(new Map()),
          { bEditingDailyDealDiscount: S } = (0, _.y4)();
        r.useEffect(() => {
          (async () => {
            for (let e = 0; e < a.length; e++) {
              c(e);
              const t = a[e],
                n = await (t.nDiscountPct > 0
                  ? l(t)
                  : s(t.nDiscountID, t.packageID, t.discountEventID));
              if (
                (1 == n.success && i(t.packageID, t.discountEventID),
                h.token.reason)
              )
                return;
              if (1 != n.success)
                return void u(
                  n.msg ?? (0, C.Xx)("#DiscountDashboard_SaveDiscountsError"),
                );
              n.msg && E.current.set(e, n.msg);
            }
            c(a.length);
          })();
        }, []);
        const v = (e) =>
            e != o || m
              ? e == o
                ? r.createElement(
                    "div",
                    { className: Ee().ProgressIconError },
                    r.createElement(R.X, null),
                  )
                : e < o && E.current.has(e)
                  ? r.createElement(
                      se.HP,
                      {
                        toolTipContent: E.current.get(e),
                        direction: "overlay",
                        className: Ee().ProgressIconWarning,
                        strTooltipClassname: Ee().HoverToolTip,
                      },
                      r.createElement(R.ge, { color: "#e5af37" }),
                    )
                  : e < o
                    ? r.createElement(
                        "div",
                        { className: Ee().ProgressIconCheck },
                        r.createElement(R.JrY, null),
                      )
                    : r.createElement("div", {
                        className: Ee().ProgressIconBlank,
                      })
              : r.createElement(f.V, { className: Ee().ProgressIconThrobber }),
          D = !m && o < a.length,
          y = (0, ve.Z)(),
          I = r.useCallback(() => {
            window.location.assign(
              `${k.De.PARTNER_BASE_URL}promotion${Se.PromotionRoutes.DailyDealPartnerDashboard("" + y)}`,
            );
          }, [y]);
        let A, w, P;
        return (
          S
            ? ((A = I),
              (w = (0, C.Xx)("#PackageGrid_ReturnToDailyDealDashboard")),
              (P = D
                ? (0, C.Xx)("#Button_Cancel")
                : (0, C.Xx)("#Button_Close")))
            : ((A = m ? t : n),
              (w = m ? (0, C.Xx)("#Button_Close") : (0, C.Xx)("#Button_OK")),
              (P = (0, C.Xx)("#Button_Cancel"))),
          r.createElement(
            N.uH,
            {
              strTitle: D
                ? (0, C.Xx)("#PackageGrid_SaveInProgress")
                : (0, C.Xx)("#PackageGrid_SaveComplete"),
              bAlertDialog: !!m || (!D && !S),
              bOKDisabled: D,
              strOKButtonText: w,
              onOK: A,
              strCancelButtonText: P,
              onCancel: () => h.cancel("cancelled by user"),
              bDestructiveWarning: !0,
              closeModal: t,
            },
            m,
            r.createElement(
              "div",
              { className: Ee().SeeDetailsSection },
              r.createElement(
                "div",
                { className: Ee().DiscountSummaryList },
                a.map((e, t) =>
                  r.createElement(
                    "div",
                    {
                      className: Ee().ProgressRow,
                      key: e.packageID + "-" + e.discountEventID,
                    },
                    r.createElement(ke, {
                      icon: v(t),
                      discount: e,
                      nPreviousDiscountPct: g.get(e.nDiscountID) ?? 0,
                    }),
                  ),
                ),
              ),
            ),
          )
        );
      }
      function Ce(e) {
        const {
            rgLocalPackageDiscountOverrides: t,
            bMarkupStartTimeBeforeNow: a,
          } = e,
          [n, i] = r.useState(t.length < 9),
          l = be(t),
          s = Math.floor(Date.now() / 1e3);
        return r.createElement(
          "div",
          { className: Ee().SeeDetailsSection },
          n
            ? r.createElement(
                "div",
                { className: Ee().DiscountSummaryList },
                t.map((e) =>
                  r.createElement(ke, {
                    discount: e,
                    key: e.packageID + "-" + e.discountEventID,
                    icon:
                      a && e.rtStartDate < s
                        ? r.createElement(R.Uxw, null)
                        : void 0,
                    nPreviousDiscountPct: l.get(e.nDiscountID) ?? 0,
                  }),
                ),
              )
            : r.createElement(
                S.zx,
                { onClick: () => i(!0), className: Ee().SeeDetailsButton },
                (0, C.Xx)("#PackageGrid_SeePendingChanges"),
              ),
        );
      }
      function ke(e) {
        const { discount: t, nPreviousDiscountPct: a, icon: n } = e,
          i = (0, c.vc)(t.discountEventID),
          l = (0, d.Qy)(t.packageID),
          s = E.Z.Get().GetPackage(t.packageID)?.GetName() ?? t.packageID,
          o = i?.name ?? t.strDiscountName,
          m = (0, T.Uy)(t.rtStartDate, t.rtEndDate),
          u = t.nDiscountPct > 0 && t.nDiscountPct < 10,
          p = t.nDiscountPct > l,
          _ =
            (u &&
              (0, C.Xx)(
                "#DiscountDashboard_SaveDiscountsWarning_DiscountTooLow",
              )) ||
            (p &&
              (0, C.Xx)(
                "#DiscountDashboard_SaveDiscountsWarning_DiscountTooHigh",
                l,
              ));
        return r.createElement(
          "div",
          {
            className: (0, G.Z)(
              Ee().DiscountSummary,
              u && Ee().DiscountTooLow,
              p && Ee().DiscountTooHigh,
            ),
          },
          r.createElement("div", { className: Ee().ProgressIcon }, n),
          r.createElement(
            se.HP,
            {
              toolTipContent: `${t.packageID}: ${s}`,
              direction: "overlay",
              className: Ee().PackageName,
              strTooltipClassname: Ee().HoverToolTip,
            },
            s,
          ),
          r.createElement(
            se.HP,
            {
              bDisabled: !_,
              toolTipContent: _,
              direction: "left",
              className: Ee().DiscountDelta,
              strTooltipClassname: Ee().HoverToolTip,
            },
            r.createElement(
              "span",
              { className: Ee().PreviousDiscount },
              a + "%",
            ),
            r.createElement(
              "span",
              { className: Ee().DiscountArrow },
              r.createElement(R.Ehc, { angle: 90 }),
            ),
            r.createElement(
              "span",
              { className: Ee().NewDiscount },
              t.nDiscountPct + "%",
            ),
            p &&
              r.createElement(
                "span",
                { className: Ee().MaxDiscount },
                "(" + l + "%)",
              ),
          ),
          r.createElement(
            se.HP,
            {
              toolTipContent: `${o}: ${m}`,
              direction: "left",
              className: Ee().DiscountEventName,
              strTooltipClassname: Ee().HoverToolTip,
            },
            o,
          ),
        );
      }
      function Ae(e) {
        const { closeModal: t } = e,
          a = (0, p.pl)(),
          n = (0, p._9)(),
          i = (0, C.kb)(
            "#DiscountDashboard_DiscardChangesExplanation",
            a.length,
          );
        return r.createElement(
          N.uH,
          {
            strTitle: (0, C.Xx)("#PackageGrid_DiscardChangesTitle"),
            strOKButtonText: (0, C.Xx)("#PackageGrid_DiscardChangesButton"),
            onOK: () => {
              const e = new Set(a.map((e) => e.packageID));
              n(Array.from(e));
            },
            bDestructiveWarning: !0,
            closeModal: t,
          },
          i,
          r.createElement(Ce, { rgLocalPackageDiscountOverrides: a }),
        );
      }
      function we(e) {
        const { packageState: t, strMessage: a } = e,
          n = (0, p.B6)(),
          i = fe(),
          l = t.optInReg.opt_in_name.replace("sale_", ""),
          s = k.De.PARTNER_BASE_URL + "optin/sale/" + l + "/" + t.nBaseAppID;
        return r.createElement(
          Q.Eg,
          {
            href: s,
            strClassName: ae().RegistrationLink,
            fnBLocalChangesExist: n,
            fnWarnUser: i,
          },
          a,
        );
      }
      function Pe(e) {
        const { packageState: t, strMessage: a } = e,
          n = t.optInReg.opt_in_name.replace("sale_", ""),
          i = _e(n),
          l = (0, m.py)(n, t.nBaseAppID);
        return !i || (0, ce.B7)(i, l)
          ? r.createElement(we, { ...e })
          : r.createElement(
              "div",
              {
                className: (0, G.Z)(ae().RegistrationLink, ae().TheLinkItself),
                onClick: (e) =>
                  (0, D.AM)(
                    r.createElement(Te, { packageState: t, strOptInName: n }),
                    (0, I.RA)(e),
                  ),
              },
              a,
            );
      }
      function Te(e) {
        const { strOptInName: t, closeModal: a, packageState: n } = e,
          i = _e(t),
          l = (0, p.s$)(),
          [s, o] = (0, r.useState)(null),
          [c, d] = (0, r.useState)(!1);
        return r.createElement(
          N.uH,
          {
            strTitle: (0, C.Xx)(
              "#DiscountDashboard_OptIn_QuickRegistration_Title",
            ),
            strOKButtonText: (0, C.Xx)(
              "#DiscountDashboard_OptIn_QuickRegistration_Title",
            ),
            onOK: () => {
              d(!0),
                m.qh
                  .Get()
                  .RegisterAppForOptIn(n.nBaseAppID, t)
                  .then((e) => {
                    e
                      ? o(e)
                      : (l(n.nBaseAppID, n.discountEventID),
                        (0, D.AM)(
                          r.createElement(N.uH, {
                            strTitle: (0, C.Xx)("#Button_Done"),
                            strDescription: (0, C.Xx)(
                              "#EventDisplay_Share_Success",
                            ),
                            closeModal: a,
                            bAlertDialog: !0,
                          }),
                          window,
                        ));
                  });
            },
            onCancel: a,
            bOKDisabled: Boolean(s),
          },
          r.createElement(
            "div",
            { className: ae().EventTitle },
            i.event_title[k.De.LANGUAGE] || i.event_title.english,
          ),
          r.createElement(
            "div",
            { className: ae().EventDates },
            (0, C.$1)(i.event_start_date),
            " - ",
            (0, C.$1)(i.event_end_date),
          ),
          r.createElement("br", null),
          r.createElement(
            "div",
            { className: ae().RegistrationDesc },
            (0, C.Xx)("#DiscountDashboard_OptIn_QuickRegistration_Desc"),
          ),
          Boolean(s) &&
            r.createElement(
              "div",
              { className: he.ErrorStylesWithIcon },
              s,
              " ",
            ),
          Boolean(c && !s) &&
            r.createElement(f.V, {
              string: (0, C.Xx)("#Saving"),
              position: "center",
              size: "small",
            }),
        );
      }
      function Ne(e) {
        const { cell: t, client: a } = e,
          n = t?.getValue(),
          { packageState: i, fnSetDiscountPct: l } = (0, p.yn)(
            n?.packageID,
            n?.discountEventID,
          ),
          s = t.getColumn()?.getDefinition()?.title,
          o = (0, le.zD)(),
          c = (0, d.Qy)(n?.packageID),
          m = s?.start_date < o;
        if (!i) return null;
        const u = [ae().DataCell];
        i.bChangedLocally && u.push(ae().ChangedLocally);
        let _ = null,
          h = i.bChangedLocally;
        switch (i.eState) {
          case 0:
            u.push(ae().DataLoading), (_ = null);
            break;
          case 1:
            u.push(ae().NoConflict);
            let e = null,
              t = i.discount?.nDiscountPct || 0;
            t > 0
              ? (u.push(ae().HasDiscount),
                t < 10
                  ? (u.push(ae().DiscountTooLow),
                    (e = (0, C.Xx)(
                      "#DiscountDashboard_SaveDiscountsWarning_DiscountTooLow",
                    )))
                  : t > c &&
                    (u.push(ae().DiscountTooHigh),
                    (e = h
                      ? 0 == c
                        ? (0, C.Xx)(
                            "#DiscountDashboard_SaveDiscountsWarning_DiscountTooHigh_MaxZero",
                            c,
                          )
                        : (0, C.Xx)(
                            "#DiscountDashboard_SaveDiscountsWarning_DiscountTooHigh",
                            c,
                          )
                      : 0 == c
                        ? (0, C.Xx)(
                            "#DiscountDashboard_ExistingDiscountTooHigh_MaxZero",
                            c,
                          )
                        : (0, C.Xx)(
                            "#DiscountDashboard_ExistingDiscountTooHigh",
                            c,
                          ))))
              : u.push(ae().NoDiscount),
              m && t > 0 && !h
                ? (u.push(ae().LiveEvent),
                  (_ = r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(xe, { packageState: i }),
                    !!i.optInReg &&
                      i.nBaseAppID &&
                      r.createElement(we, {
                        packageState: i,
                        strMessage: (0, C.Xx)(
                          "#DiscountDashboard_OptIn_Grid_ViewOptInLink",
                        ),
                      }),
                  )))
                : (_ = r.createElement(
                    r.Fragment,
                    null,
                    !!e && r.createElement(Re, { strToolTip: e }),
                    r.createElement(Ge, {
                      packageState: i,
                      fnSetDiscountPct: l,
                    }),
                    !!i.optInReg &&
                      i.nBaseAppID &&
                      r.createElement(we, {
                        packageState: i,
                        strMessage: (0, C.Xx)(
                          "#DiscountDashboard_OptIn_Grid_OptInLink",
                        ),
                      }),
                  ));
            break;
          case 2:
            u.push(ae().NeedsOptIn),
              (_ = r.createElement(Pe, {
                packageState: i,
                strMessage: (0, C.Xx)(
                  "#DiscountDashboard_OptIn_Grid_OptInRequired",
                ),
              }));
            break;
          case 3:
            u.push(ae().OptInOptedOut),
              (_ = r.createElement(we, {
                packageState: i,
                strMessage: (0, C.Xx)("#DiscountDashboard_OptIn_Grid_OptedOut"),
              }));
            break;
          case 4:
          case 10:
            u.push(ae().OptInRestricted),
              (_ = r.createElement(
                se.HP,
                {
                  className: ae().TextCell,
                  toolTipContent: (0, C.Xx)(
                    "#DiscountDashboard_OptIn_Grid_Ineligible_NA_tooltip",
                  ),
                },
                (0, C.Xx)("#DiscountDashboard_OptIn_Grid_Ineligible_NA"),
              ));
            break;
          case 5:
            u.push(ae().OptInNoBaseAppToRegister),
              (_ = r.createElement(
                "div",
                { className: ae().TextCell },
                (0, C.Xx)(
                  "#DiscountDashboard_OptIn_Grid_Ineligible_NoBaseGame",
                ),
              ));
            break;
          case 11:
            u.push(ae().OptInNoBaseAppToRegister),
              (_ = r.createElement(
                "div",
                { className: ae().TextCell },
                (0, C.Xx)(
                  "#DiscountDashboard_OptIn_Grid_Ineligible_RegisterBaseGame",
                ),
              ));
            break;
          case 6:
            u.push(ae().JustReleased),
              (_ = r.createElement(Le, { packageState: i }));
            break;
          case 7:
            u.push(ae().PriceIncreased),
              (_ = r.createElement(Le, { packageState: i }));
            break;
          case 8:
          case 9:
            u.push(ae().CooldownWindow),
              (_ = r.createElement(Le, { packageState: i }));
        }
        return r.createElement(
          ie.QueryClientProvider,
          { client: a },
          r.createElement(
            "div",
            {
              className: (0, G.Z)(...u),
              onKeyDown: (e) => (0, oe.$k)(e, t.getTable()),
            },
            _,
          ),
        );
      }
      function Re(e) {
        const { strToolTip: t } = e;
        return r.createElement(
          se.HP,
          {
            className: ae().DiscountRangeWarning,
            toolTipContent: t,
            direction: "left",
          },
          r.createElement(R.ge, { color: "#ff5b29" }),
        );
      }
      function Ge(e) {
        const { packageState: t, fnSetDiscountPct: a } = e,
          n = (0, p.TB)(),
          i = t?.discount?.nDiscountPct?.toString() ?? "0";
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(S.II, {
            value: i,
            className: ae().DiscountInput,
            onChange: (e) => {
              const n = e.target.value,
                i = Number(n || 0);
              if (0 <= i && i <= d.U8) {
                i != (t.discount?.nDiscountPct ?? 0) && a(i);
              }
            },
            onFocus: (e) => {
              e.target.select();
            },
          }),
          r.createElement("div", { className: ae().CellPct }, "%"),
          t.bChangedLocally &&
            r.createElement(
              se.HP,
              {
                className: ae().ResetButtonCtn,
                toolTipContent: (0, C.Xx)("#PackageGrid_ResetButton_Tooltip"),
              },
              r.createElement(
                "div",
                {
                  className: ae().ResetButton,
                  onClick: () => {
                    n(t.packageID, t.discountEventID);
                  },
                },
                r.createElement(R.WPl, null),
              ),
            ),
        );
      }
      function xe(e) {
        const { packageState: t } = e,
          a = t?.discount?.nDiscountPct?.toString() ?? "0";
        return r.createElement(
          "div",
          { className: ae().DiscountValueCtn },
          r.createElement("div", { className: ae().DiscountInput }, a),
          r.createElement("div", { className: ae().CellPct }, "%"),
        );
      }
      function Le(e) {
        const { packageState: t } = e;
        return r.createElement(
          se.HP,
          {
            className: ae().ConflictWarning,
            toolTipContent: r.createElement(Be, { packageState: t }),
          },
          r.createElement(
            "div",
            null,
            (0, C.Xx)("#DiscountDashboard_ConflictWarning"),
          ),
          r.createElement(R.WWB, null),
        );
      }
      function Be(e) {
        const { packageState: t } = e;
        (0, _.Zq)(t.discountEventID);
        let a = null;
        switch (t.eState) {
          case 6:
            a = (0, C.Xx)("#DiscountDashboard_Conflict_JustReleased", p.Eh);
            break;
          case 7:
            a = (0, C.Xx)("#DiscountDashboard_Conflict_PriceIncreased", p.Eh);
            break;
          case 8:
            a = (0, C.Xx)("#DiscountDashboard_Conflict_PreviousDiscount", p.Eh);
            break;
          case 9:
            a = (0, C.Xx)("#DiscountDashboard_Conflict_OverlappingDiscount");
        }
        return r.createElement(
          "div",
          { className: ae().ConflictToolTip },
          r.createElement(R.SUY, null),
          r.createElement(
            "div",
            { className: ae().ConflictText },
            r.createElement(
              "div",
              { className: ae().ConflictExplanationText },
              a,
            ),
            t.rgConflictDetails?.map((e, t) =>
              r.createElement(
                "div",
                { key: t, className: ae().ConflictDetailText },
                e,
              ),
            ),
          ),
        );
      }
      var Me = a(69727),
        Oe = a.n(Me);
      function Fe(e) {
        return e.getValue()?.ttip;
      }
      function Ue(e) {
        const { cell: t } = e,
          a = t.getRow().getData().packageID,
          [n, i] = (0, _.P6)();
        switch (n) {
          case "most-recent":
            return r.createElement(Xe, { packageID: a });
          case "next-available":
            return r.createElement(je, { packageID: a });
          default:
            return r.createElement(Ve, { packageID: a });
        }
      }
      function He(e) {
        const { cell: t } = e,
          a = t.getRow().getData().packageID;
        return r.createElement(
          "div",
          { className: ae().ButtonCell },
          r.createElement(
            S.zx,
            {
              onClick: (e) =>
                (0, D.AM)(
                  r.createElement(F, { nInitialPackageID: a }),
                  (0, I.RA)(e),
                ),
            },
            (0, C.Xx)("#DiscountDashboard_CreateDiscountButton_Row"),
          ),
        );
      }
      function Ve(e) {
        const { packageID: t } = e,
          { deepestDiscount: a, bLoading: n } = (0, d.b2)(t);
        if (n)
          return r.createElement(f.V, {
            className: Oe().GridRowLoadingThrobber,
          });
        const i = a?.nDiscountPct ?? 0,
          l = a
            ? (0, C.Xx)(
                "#DiscountDashboard_DeepestPastDiscount_Details",
                a.nDiscountPct,
                a.strDiscountName,
                (0, C.vX)(a.rtStartDate),
              )
            : (0, C.Xx)("#DiscountDashboard_NeverDiscounted");
        return r.createElement(se.HP, { toolTipContent: l }, i + "%");
      }
      function Xe(e) {
        const { packageID: t } = e,
          { mostRecentDiscount: a, bLoading: n } = (0, d.k1)([t]);
        if (n)
          return r.createElement(f.V, {
            className: Oe().GridRowLoadingThrobber,
          });
        const i = a?.nDiscountPct ?? 0,
          l = a
            ? (0, C.Xx)(
                "#DiscountDashboard_LastPastDiscount_Details",
                a.nDiscountPct,
                a.strDiscountName,
                (0, C.vX)(a.rtStartDate),
              )
            : (0, C.Xx)("#DiscountDashboard_NeverDiscounted");
        return r.createElement(se.HP, { toolTipContent: l }, i + "%");
      }
      function je(e) {
        const { packageID: t } = e,
          a = (0, p.z$)(t),
          n = (0, le.zD)();
        let i = (0, C.Xx)(
            "#DiscountDashboard_GridColumn_NextAvailableDiscount_Never",
          ),
          l = (0, C.Xx)(
            "#DiscountDashboard_GridColumn_NextAvailableDiscount_Never_ttip",
          );
        for (const e of a)
          if (e.bIsAvailable) {
            e.rtStartDate <= n
              ? ((i = (0, C.Xx)(
                  "#DiscountDashboard_GridColumn_NextAvailableDiscount_Now",
                )),
                (l = (0, C.Xx)(
                  "#DiscountDashboard_GridColumn_NextAvailableDiscount_Now_ttip",
                )))
              : ((i = (0, C.m9)(e.rtStartDate)),
                (l = (0, C.Xx)(
                  "#DiscountDashboard_GridColumn_NextAvailableDiscount_ttip",
                )));
            break;
          }
        return r.createElement(se.HP, { toolTipContent: l }, i);
      }
      function qe(e) {
        const [t, a] = (0, _.P6)(),
          n = [
            {
              label: (0, C.Xx)(
                "#DiscountDashboard_GridColumn_DeepestPastDiscount",
              ),
              data: "deepest-past",
            },
            {
              label: (0, C.Xx)(
                "#DiscountDashboard_GridColumn_MostRecentDiscount",
              ),
              data: "most-recent",
            },
            {
              label: (0, C.Xx)(
                "#DiscountDashboard_GridColumn_NextAvailableDiscount",
              ),
              data: "next-available",
            },
          ];
        return r.createElement(
          se.HP,
          {
            toolTipContent: (0, C.Xx)(
              "#DiscountDashboard_GridColumn_RelatedDiscount_ttip",
            ),
            className: Oe().RelatedInfoPickerCtn,
          },
          r.createElement(
            "div",
            { className: Oe().RelatedInfoPicker },
            r.createElement(S.ry, {
              strDropDownClassName: Oe().RelatedInfoDropDown,
              strDropDownItemClassName: Oe().RelatedInfoDropDownItem,
              contextMenuPositionOptions: { bOverlapHorizontal: !0 },
              rgOptions: n,
              selectedOption: t,
              onChange: (e) => a(e.data),
            }),
          ),
        );
      }
      function We(e) {
        return r.createElement(
          "div",
          { className: Oe().EventDetails },
          r.createElement(
            "div",
            { className: Oe().EventName },
            (0, C.Xx)("#DiscountDashboard_GridColumn_NewDiscount_title"),
          ),
          r.createElement(
            "div",
            { className: Oe().EventDates },
            (0, C.Xx)("#DiscountDashboard_GridColumn_NewDiscount_desc"),
          ),
        );
      }
      function ze(e) {
        const {
            strPriceKey: t,
            rgSupportedPriceKeys: a,
            fnSetPriceKey: n,
          } = (0, ne.OB)(),
          i = a.map((e) => ({ label: e, data: e }));
        return r.createElement(
          se.HP,
          {
            toolTipContent: (0, C.Xx)(
              "#DiscountDashboard_GridColumn_BasePrice_ttip",
            ),
          },
          r.createElement(
            "div",
            { className: Oe().BasePriceTitle },
            (0, C.Xx)("#DiscountDashboard_GridColumn_BasePrice"),
          ),
          r.createElement(
            "div",
            { className: Oe().CurrencyPicker },
            r.createElement(S.ry, {
              strDropDownClassName: Oe().CurrencyDropDown,
              strDropDownItemClassName: Oe().CurrencyDropDownItem,
              contextMenuPositionOptions: { bOverlapHorizontal: !0 },
              rgOptions: i,
              selectedOption: t,
              onChange: (e) => n(e.data),
            }),
          ),
        );
      }
      function Ze(e) {
        const { cell: t } = e,
          a = t.getRow().getData().packageID,
          n = (0, ne.PP)(a);
        return r.createElement(
          "div",
          { className: Oe().BasePriceDisplay },
          n ?? "--",
        );
      }
      function Ke(e) {
        return e + "-event-column";
      }
      const Qe = "createnew";
      function Ye(e) {
        const {
            fnBLocalChangesExist: t,
            fnWarnUser: a,
            cell: n,
            client: i,
          } = e,
          l = (0, le.zD)(),
          { strSelectedEvent: s, fnSelectEvent: o } = (0, _.y4)(),
          c = n?.getValue(),
          m = c.start_date <= l && l <= c.end_date,
          d = s == c?.id,
          u = Math.ceil(
            (c.end_date - 1.5 * L._H.PerHour - c.start_date) / L._H.PerDay,
          ),
          p =
            k.L7.is_support && !isNaN(Number(c.id))
              ? `${k.De.PARTNER_BASE_URL}admin/editdiscountevent/${c.id}`
              : null;
        return r.createElement(
          ie.QueryClientProvider,
          { client: i },
          r.createElement(
            se.HP,
            {
              className: (0, G.Z)(
                Oe().EventDetails,
                m && Oe().Active,
                d && Oe().Selected,
                !!p && Oe().RestrictedEligibility,
              ),
              onClick: () => o(d ? null : c.id),
              toolTipContent: (0, C.Xx)("#DiscountDashboard_ColumnHeader_ttip"),
            },
            r.createElement(
              "div",
              { className: Oe().EventName },
              c.name,
              !!p &&
                r.createElement(
                  Q.Eg,
                  {
                    fnBLocalChangesExist: t,
                    fnWarnUser: a,
                    href: p,
                    strClassName: Oe().EditEventLink,
                    strToolTip: (0, C.Xx)(
                      "#DiscountDashboard_LinkToEditEventPage_ttip",
                    ),
                  },
                  (0, C.Xx)("#DiscountDashboard_LinkToEditEventPage"),
                ),
            ),
            r.createElement(
              "div",
              { className: Oe().EventDates },
              r.createElement(T.Sw, {
                className: Oe().EventDateRange,
                strMonthFormat: "short",
                rtStartDate: c.start_date,
                rtEndDate: c.end_date,
              }),
              r.createElement(
                "div",
                { className: Oe().EventNumDays },
                (0, C.kb)("#DiscountDashboard_NumberOfDays", u),
              ),
            ),
            r.createElement(
              "div",
              { className: Oe().EventParticipationCtn },
              r.createElement(et, { discountEvent: c }),
              r.createElement(Je, { discountEvent: c }),
            ),
          ),
        );
      }
      function Je(e) {
        const t = (0, p.JW)(e.discountEvent.id),
          a = t.nAlreadySet + t.nAvailable + t.nConflicts + t.nNeedRegistration;
        return r.createElement(
          se.HP,
          {
            className: Oe().ParticipationDetails,
            toolTipContent: r.createElement($e, { counts: t }),
          },
          r.createElement(
            "div",
            { className: Oe().Title },
            (0, C.Xx)("#DiscountDashboard_PackagesDiscounted"),
          ),
          r.createElement(
            "div",
            { className: Oe().Count },
            t.nAlreadySet + " / " + a,
          ),
        );
      }
      function $e(e) {
        const { counts: t } = e;
        return r.createElement(
          "div",
          { className: Oe().ParticipationToolTip },
          r.createElement(
            "div",
            null,
            (0, C.Xx)("#DiscountDashboard_SetDiscountsCount", t.nAlreadySet),
          ),
          t.nAvailable > 0 &&
            r.createElement(
              "div",
              null,
              (0, C.Xx)(
                "#DiscountDashboard_AvailableDiscountsCount",
                t.nAvailable,
              ),
            ),
          t.nConflicts > 0 &&
            r.createElement(
              "div",
              null,
              (0, C.Xx)(
                "#DiscountDashboard_CooldownConflictsCount",
                t.nConflicts,
              ),
            ),
          t.nNeedRegistration > 0 &&
            r.createElement(
              "div",
              null,
              (0, C.Xx)(
                "#DiscountDashboard_BlockedDiscountsCount",
                t.nNeedRegistration,
              ),
            ),
          t.nIneligibile > 0 &&
            r.createElement(
              "div",
              null,
              (0, C.Xx)(
                "#DiscountDashboard_IneligibleDiscountsCount",
                t.nIneligibile,
              ),
            ),
        );
      }
      function et(e) {
        const { discountEvent: t } = e,
          a = (0, m.ZW)(t.opt_in_name),
          n = (0, m.V7)(t.opt_in_name);
        return 0 == a.length
          ? null
          : r.createElement(
              se.HP,
              {
                className: Oe().ParticipationDetails,
                toolTipContent: r.createElement(tt, { ...n }),
              },
              r.createElement(
                "div",
                { className: Oe().Title },
                (0, C.Xx)("#DiscountDashboard_AppRegistered"),
              ),
              r.createElement(
                "div",
                { className: Oe().Count },
                n.nAppOptedIn,
                " / ",
                n.nAppEligible,
              ),
            );
      }
      function tt(e) {
        return r.createElement(
          "div",
          { className: Oe().ParticipationToolTip },
          r.createElement(
            "div",
            null,
            (0, C.Xx)("#DiscountDashboard_AppOptIn", e.nAppOptedIn),
          ),
          e.nAppOptedOut > 0 &&
            r.createElement(
              "div",
              null,
              (0, C.Xx)("#DiscountDashboard_AppOptedOut", e.nAppOptedOut),
            ),
          r.createElement(
            "div",
            null,
            (0, C.Xx)("#DiscountDashboard_AppEligible", e.nAppEligible),
          ),
        );
      }
      var at = a(20417),
        nt = a(51761),
        it = a.n(nt);
      function rt(e) {
        const t = "America/Los_Angeles",
          a = {
            weekday: "long",
            month: "long",
            day: "numeric",
            hour: "numeric",
            timeZoneName: "short",
            timeZone: t,
          },
          n = { hour: "numeric", timeZoneName: "short" },
          i = t != Intl.DateTimeFormat().resolvedOptions().timeZone,
          r = new Date(1e3 * e),
          l = r.getMinutes();
        l <= 10
          ? r.setMinutes(0)
          : l >= 50
            ? r.setMinutes(60)
            : ((a.minute = "2-digit"), (n.minute = "2-digit"));
        const s = r.toLocaleString(C.Yt.GetPreferredLocales(), a);
        if (!i) return s;
        return `${s} (${r.toLocaleString(C.Yt.GetPreferredLocales(), n)})`;
      }
      function lt(e) {
        const [t, a] = r.useState(0),
          {
            bSingleDiscountEventView: n,
            strSelectedEvent: i,
            fnSelectEvent: l,
            bIncludeConflictsInSingleEventView: s,
            fnSetIncludeConflictsInSingleEventView: o,
          } = (0, _.y4)(),
          c = (0, p.E_)(),
          m = (0, _.Zq)(i),
          h = (0, p.E5)(i),
          g =
            h.alreadySet.size +
            h.available.size +
            h.needRegistration.size +
            h.conflicts.size,
          E = h.conflicts.size,
          v = (0, u.AM)(),
          D = v.length,
          f = v?.filter((e) => h.alreadySet.has(e) || h.available.has(e)),
          y = f.length,
          b = document.getElementsByClassName("tabulator-table"),
          I = 1 == b.length ? b[0] : null,
          A = I?.getBoundingClientRect().width ?? 740,
          w = (0, at.NW)(),
          P = r.useRef(new ResizeObserver(w));
        r.useEffect(() => {
          if (!I) return;
          const e = P.current;
          return e.observe(I), () => e.unobserve(I);
        }, [I]);
        const T = k.De.PARTNER_BASE_URL + "doc/marketing/discounts#limits",
          N = (0, d.Xj)(f);
        return r.createElement(
          "div",
          {
            style: { left: A + "px" },
            className: (0, G.Z)(it().SingleEventDetailsCtn, n && it().Visible),
          },
          r.createElement(
            "div",
            { className: it().Section },
            r.createElement(
              "div",
              { className: it().SectionDate },
              (0, C.Xx)("#DiscountDashboard_DetailView_StartTimeLabel") +
                " " +
                rt(m?.start_date),
            ),
            r.createElement(
              "div",
              { className: it().SectionDate },
              (0, C.Xx)("#DiscountDashboard_DetailView_EndTimeLabel") +
                " " +
                rt(m?.end_date),
            ),
            r.createElement(
              "div",
              { className: it().SectionLabel },
              (0, C.Xx)("#DiscountDashboard_DetailView_YourViewTitle"),
            ),
            r.createElement(
              "div",
              { className: it().ViewSummary },
              (0, C.Xx)(
                "#DiscountDashboard_DetailView_ViewSectionWithCount",
                D,
                g,
              ),
            ),
            r.createElement(
              "div",
              { className: it().SectionText },
              (0, C.Xx)(
                "#DiscountDashboard_DetailView_ViewSectionInstructions",
              ),
            ),
            E > 0 &&
              r.createElement(S.ji, {
                className: it().HideConflicts,
                label: (0, C.Xx)("#DiscountDashboard_DetailView_HideConflicts"),
                checked: !s,
                disabled: 0 == E,
                onChange: (e) => o(!e),
              }),
          ),
          r.createElement(
            "div",
            { className: it().Section },
            r.createElement(
              "div",
              { className: it().SectionLabel },
              (0, C.Xx)(
                "#DiscountDashboard_DetailView_DiscountAllVisibleTitle",
              ),
              r.createElement(
                se.HP,
                {
                  toolTipContent: (0, C.Xx)(
                    "#DiscountDashboard_DetailView_BatchDiscountInstructions_ttip",
                  ),
                  className: it().helpCtn,
                },
                r.createElement(R.WWB, null),
              ),
            ),
            r.createElement(
              "div",
              { className: it().SectionText },
              (0, C.Xx)(
                "#DiscountDashboard_DetailView_BatchDiscountInstructions",
              ),
            ),
            r.createElement(
              "div",
              { className: it().SectionText },
              (0, C.Xx)(
                "#DiscountDashboard_DetailView_BatchDiscountInstructions_ProTip",
              ),
            ),
            r.createElement(
              "div",
              {
                className: (0, G.Z)(
                  it().BatchDiscountLine,
                  0 == y && it().Disabled,
                ),
              },
              r.createElement(S.II, {
                value: t,
                className: it().BatchDiscountInput,
                onChange: (e) => {
                  const t = e.target.value,
                    n = Number(t || 0);
                  0 <= n && n <= 90 && a(n);
                },
                onFocus: (e) => e.target.select(),
              }),
              r.createElement("div", { className: it().CellPct }, "%"),
              r.createElement(
                S.zx,
                {
                  className: it().BatchDiscountButton,
                  onClick: () => c(t, i, f),
                  disabled: 0 == y,
                },
                (0, C.kb)(
                  "#DiscountDashboard_DetailView_BatchDiscountButton",
                  y,
                ),
              ),
            ),
            t > N &&
              r.createElement(
                "div",
                { className: it().WarningText },
                r.createElement(
                  "span",
                  { className: it().SectionText },
                  (0, C.Xx)(
                    "#DiscountDashboard_DetailView_BatchDiscount_MaxDiscountWarning",
                    N,
                  ),
                ),
                r.createElement(
                  "a",
                  { href: T, target: "_blank", className: it().SectionText },
                  (0, C.Xx)(
                    "#DiscountDashboard_DetailView_BatchDiscount_MaxDiscountDocumentationLink",
                  ),
                ),
              ),
          ),
          r.createElement(
            "div",
            { className: it().Section },
            r.createElement(
              S.zx,
              { onClick: (e) => l(null) },
              (0, C.Xx)("#DiscountDashboard_DetailView_ShowAllEvents"),
            ),
          ),
        );
      }
      const st = "all-events";
      function ot(e, t) {
        return e.size == t.size && Array.from(e).every((e) => t.has(e));
      }
      function ct(e) {
        const { rgDiscountEvents: t, refTable: a } = e,
          {
            bSingleDiscountEventView: n,
            strSelectedEvent: i,
            fnSelectEvent: l,
            bIncludeWeeklongEvents: s,
            fnSetIncludeWeeklongEvents: o,
            bIncludeCustomEvents: c,
            fnSetIncludeCustomEvents: m,
          } = (0, _.y4)(),
          u = (function (e) {
            return r.useMemo(() => {
              const t = [
                {
                  label: (0, C.Xx)("#DiscountDashboard_DiscountFilterAll"),
                  data: st,
                },
              ];
              for (const a of e)
                (0, p.k)(a.id) && t.push({ label: a.name, data: a.id });
              return t;
            }, [e]);
          })(t),
          h = (function (e) {
            const {
                bSingleDiscountEventView: t,
                strSelectedEvent: a,
                bIncludeConflictsInSingleEventView: n,
              } = (0, _.y4)(),
              i = (0, _.x9)(),
              l = (0, p.E5)(a),
              s = r.useRef(l),
              o = r.useRef(n),
              [c, m] = r.useState(!1);
            return (
              r.useEffect(() => m(!0), [a, n, i, l]),
              r.useEffect(() => {
                if (!c) return;
                const a = [];
                if (
                  (e.current?.table?.getColumns()?.forEach((e) => {
                    const n = e.getDefinition();
                    if (n.frozen) return;
                    let r = !1;
                    if (n.field == Qe) r = !t;
                    else {
                      const e = n.title;
                      r = i.has(e.id);
                    }
                    const l = e.isVisible();
                    l != r ? e.toggle() : l && r && a.push(e);
                  }),
                  t ||
                    1 != a.length ||
                    e.current?.table?.scrollToColumn(
                      a[0].getField(),
                      "middle",
                      !1,
                    ),
                  t)
                ) {
                  const { ineligibile: t, conflicts: a } = l,
                    i = s.current;
                  (e.current?.table?.getFilters()?.length &&
                    ot(t, i.ineligibile) &&
                    ot(a, i.conflicts) &&
                    n == o.current) ||
                    e.current?.table?.setFilter(
                      (e) => !t.has(e.packageID) && (n || !a.has(e.packageID)),
                    );
                } else e.current?.table?.clearFilter();
                (s.current = l), (o.current = n), m(!1);
              }, [c]),
              c
            );
          })(a),
          g = t.some((e) => (0, d.kk)(e.id));
        return r.createElement(
          "div",
          { className: ae().DiscountsFilterBar },
          r.createElement(
            "div",
            { className: ae().DiscountSelectDropDown },
            r.createElement(S.ry, {
              strDropDownClassName: ee().DropDownScroll,
              rgOptions: u,
              selectedOption: i ?? st,
              label: (0, C.Xx)(
                "#DiscountDashboard_DiscountFilterByEventButton",
              ),
              onChange: (e) => l(e.data == st ? null : e.data),
            }),
          ),
          !n &&
            r.createElement(S.ji, {
              className: ae().DiscountFilterCheckbox,
              label: (0, C.Xx)(
                "#DiscountDashboard_ShowCustomDiscountsCheckBoxLabel",
              ),
              checked: c,
              disabled: n || !g,
              onChange: m,
            }),
          !n &&
            r.createElement(S.ji, {
              className: ae().DiscountFilterCheckbox,
              label: (0, C.Xx)(
                "#DiscountDashboard_ShowWeeklongDiscountsCheckBoxLabel",
              ),
              checked: s,
              disabled: n,
              onChange: o,
            }),
          h &&
            r.createElement(
              "div",
              { className: ae().UpdatingMessage },
              (0, C.Xx)("#DiscountDashboard_UpdatingStatusMessage"),
            ),
          r.createElement(lt, null),
        );
      }
      function mt(e) {
        const t = (0, p.pl)(),
          a = t?.length ?? 0;
        return r.createElement(
          "div",
          {
            className: (0, G.Z)(
              ae().DiscountGridCtn,
              a > 0 && "PendingVisible",
            ),
          },
          r.createElement(dt, { ...e }),
        );
      }
      const dt = r.memo(function (e) {
        const t = r.useRef(null);
        "dev" == k.De.WEB_UNIVERSE && (window.g_DiscountGridTableRef = t);
        const a = (0, _.im)(),
          n = (function (e) {
            const t = (0, p.B6)(),
              a = fe(),
              n = (0, ie.useQueryClient)(),
              i = r.useMemo(
                () => ({ client: n, fnBLocalChangesExist: t, fnWarnUser: a }),
                [t, a, n],
              ),
              l = (0, Q.zV)(i),
              s = (0, Q.zQ)(i),
              o = (0, Q.O7)(i),
              c = (0, Q.Ii)(i),
              m = (0, Q.UA)(i, !0),
              d = (0, _.$f)();
            return r.useMemo(() => {
              const t = {
                  field: "basePrice",
                  headerSort: !1,
                  titleFormatter: (0, re.reactFormatter)(
                    r.createElement(ze, null),
                  ),
                  formatter: (0, re.reactFormatter)(r.createElement(Ze, null)),
                  cssClass: Oe().BasePrice,
                  width: 120,
                  frozen: !0,
                },
                a = {
                  titleFormatter: (0, re.reactFormatter)(
                    r.createElement(qe, null),
                  ),
                  field: "relatedDiscount",
                  headerSort: !1,
                  formatter: (0, re.reactFormatter)(r.createElement(Ue, null)),
                  cssClass: Oe().RelatedDiscount,
                  width: 120,
                  frozen: !0,
                  tooltip: Fe,
                },
                u = [l, s, o, c, m, t, a];
              for (const t of e) {
                const e = "unique" == t.collision_type;
                u.push({
                  field: Ke(t.id),
                  title: t,
                  width: 200,
                  headerSort: !1,
                  titleFormatter: (0, re.reactFormatter)(
                    r.createElement(Ye, { ...i }),
                  ),
                  formatter: (0, re.reactFormatter)(
                    r.createElement(Ne, { client: n }),
                  ),
                  cssClass: (0, G.Z)(
                    Oe().DiscountGridDataColumn,
                    e && Oe().CollisionFreeDiscountEvent,
                  ),
                  visible: d.has(t.id),
                });
              }
              const p = new URLSearchParams(window.location.search);
              return (
                u.push({
                  titleFormatter: (0, re.reactFormatter)(
                    r.createElement(We, null),
                  ),
                  field: Qe,
                  headerSort: !1,
                  formatter: (0, re.reactFormatter)(r.createElement(He, null)),
                  cssClass: Oe().DiscountGridDataColumn,
                  width: 120,
                  frozen: !1,
                  visible: !p.has("de"),
                }),
                u
              );
            }, [e, d, i, l, s, o, c, m, n]);
          })(a),
          i = (function (e) {
            const t = (0, u.z)();
            return r.useMemo(() => {
              const a = [];
              for (const n of t) {
                const t = E.Z.Get().GetPackage(n);
                if (!t || !t.BIsVisible()) continue;
                const i = (0, g.R1)(t),
                  r = {
                    appids: t?.GetIncludedAppIDs()?.sort() ?? [],
                    appName: i.baseAppName,
                    packageID: n,
                    packageName: t?.GetName(),
                    packageType: i.contents,
                    basePrice: null,
                    relatedDiscount: null,
                  };
                for (const t of e)
                  r[Ke(t.id)] = { packageID: n, discountEventID: t.id };
                a.push(r);
              }
              return a;
            }, [t, e]);
          })(a),
          l = (0, u.Gd)(),
          s = () => l(t.current.table),
          o = new URLSearchParams(window.location.search),
          c = {
            index: "packageID",
            layout: "fitData",
            initialSort: [{ column: "appName", dir: "asc" }],
            initialHeaderFilter: [
              {
                field: "packageName",
                value: o.has(u.ew) ? decodeURIComponent(o.get(u.ew)) : "",
              },
            ],
            groupBy: "appName",
            groupHeader: Q.JP,
            groupToggleElement: "header",
            rowFormatter: Q.A$,
            groupVisibilityChanged: s,
            renderComplete: s,
          };
        return (
          ("dev" != k.De.WEB_UNIVERSE && "beta" != k.De.WEB_UNIVERSE) ||
            console.log("Rendering grid", n, c),
          r.createElement(
            r.Fragment,
            null,
            r.createElement(ct, { rgDiscountEvents: a, refTable: t }),
            r.createElement(
              "div",
              { className: ae().DiscountGridWrapper },
              r.createElement(
                "div",
                { className: ae().DiscountGrid },
                r.createElement(
                  J.SV,
                  null,
                  r.createElement(Y.ReactTabulator, {
                    ref: t,
                    columns: n,
                    data: i,
                    options: c,
                  }),
                  r.createElement("br", null),
                ),
              ),
            ),
          )
        );
      });
      var ut = a(37485),
        pt = a.n(ut),
        _t = a(88408),
        ht = a(50943),
        gt = a.n(ht);
      function Et(e) {
        const { closeModal: t } = e,
          a = (0, u.$D)(),
          n = pt()().format("YYYY-MM-DDTHH-mm-ss"),
          i = (0, u.z)(),
          l = (0, u.AM)(),
          s = (0, _.im)(),
          o = (0, _.x9)(),
          c = s.filter((e) => o.has(e.id)),
          m = `discounts_all_${a}_${n}.csv`,
          d = `discounts_${a}_${n}.csv`,
          p = 0 == l.length || 0 == c.length;
        return r.createElement(
          N.uH,
          {
            bAllowFullSize: !1,
            closeModal: t,
            bAlertDialog: !0,
            strTitle: (0, C.Xx)("#DiscountDashboard_ImportExportHeader"),
          },
          (0, C.Xx)("#DiscountDashboard_ImportExport_GeneralInstructions"),
          r.createElement("br", null),
          r.createElement(
            "a",
            {
              href: k.De.PARTNER_BASE_URL + "doc/store/discounting/csv",
              target: "_blank",
            },
            (0, C.Xx)("#PricingDashboard_ImportExport_DocLink"),
          ),
          r.createElement("br", null),
          r.createElement("br", null),
          r.createElement(
            "h3",
            null,
            (0, C.Xx)("#PricingDashboard_SubtitleExport"),
          ),
          r.createElement(
            "div",
            { className: gt().Instructions },
            (0, C.Xx)("#DiscountDashboard_ImportExport_DownloadInstructions"),
          ),
          r.createElement(
            "div",
            { className: gt().ButtonRows },
            l.length != i.length &&
              r.createElement(
                "div",
                { className: gt().OptionCtn },
                r.createElement(
                  "span",
                  { className: gt().OptionDesc },
                  (0, C.Xx)(
                    "#DiscountDashboard_ImportExport_DownloadVisible_Desc",
                  ),
                ),
                r.createElement(
                  S.zx,
                  {
                    className: gt().Button,
                    disabled: p,
                    onClick: () => vt(l, c, d),
                  },
                  (0, C.Xx)(
                    "#DiscountDashboard_ImportExport_DownloadVisible_Button",
                  ),
                  r.createElement(
                    "span",
                    null,
                    (0, C.Xx)("#PricingDashboard_PackageCount", l.length),
                  ),
                ),
              ),
            r.createElement(
              "div",
              { className: gt().OptionCtn },
              r.createElement(
                "span",
                { className: gt().OptionDesc },
                (0, C.Xx)("#DiscountDashboard_ImportExport_DownloadAll_Desc"),
              ),
              r.createElement(
                S.zx,
                {
                  className: gt().Button,
                  disabled: p,
                  onClick: () => vt(i, s, m),
                },
                (0, C.Xx)("#DiscountDashboard_ImportExport_DownloadAll_Button"),
                r.createElement(
                  "span",
                  null,
                  (0, C.Xx)("#PricingDashboard_PackageCount", i.length),
                ),
              ),
            ),
          ),
          r.createElement("br", null),
          r.createElement("br", null),
          r.createElement(
            "h3",
            null,
            (0, C.Xx)("#PricingDashboard_SubtitleImport"),
          ),
          r.createElement(
            "div",
            { className: gt().Instructions },
            (0, C.Xx)("#DiscountDashboard_ImportExport_UploadInstructions"),
          ),
          r.createElement(
            "div",
            { className: gt().ButtonRows },
            r.createElement(
              "div",
              { className: gt().OptionCtn },
              r.createElement(
                "span",
                { className: gt().OptionDesc },
                (0, C.Xx)("#DiscountDashboard_ImportExport_Upload_Desc"),
              ),
              r.createElement(
                S.zx,
                { className: gt().Button, disabled: p },
                r.createElement(
                  "label",
                  {
                    className: gt().ImportButtonLabel,
                    htmlFor: "import-discount-input",
                  },
                  (0, C.Xx)("#DiscountDashboard_ImportExport_Upload_Button"),
                  r.createElement("input", {
                    id: "import-discount-input",
                    type: "file",
                    style: { display: "none" },
                    onChange: (e) =>
                      (async function (e, t) {
                        if (e.target.files.length >= 1) {
                          const a = (0, I.RA)(e),
                            n = e.target.files[0],
                            i = await _t.K.ParseCSVFile(n);
                          (0, D.x1)(
                            r.createElement(Dt, {
                              strFilename: n.name,
                              parseResult: i,
                            }),
                            a,
                          ),
                            t();
                        }
                      })(e, t),
                  }),
                ),
              ),
            ),
          ),
        );
      }
      function St(e) {
        return e.header?.trim()?.length > 0
          ? e.header.trim()
          : e.name?.trim()?.length > 0
            ? e.name.trim()
            : e.id;
      }
      function vt(e, t, a) {
        const n = [],
          i = [
            (0, C.Xx)("#PackageGrid_Column_PackageName"),
            "ID",
            (0, C.Xx)("#DiscountDashboard_GridColumn_BasePrice"),
          ],
          r = new Set();
        for (const e of t) {
          let t = St(e);
          r.has(t) && (t = t + "/" + e.id), r.add(t), i.push(t);
        }
        n.push(i);
        for (const a of e) {
          const e = E.Z.Get().GetPackage(a);
          if (!e || !e.BIsVisible()) continue;
          const i = (0, ne.Tj)(a),
            r = [e.GetName(), a.toString(), i ?? "--"];
          for (const e of t) {
            const t = (0, p.HU)(a, e.id);
            r.push(
              t?.toString() ??
                (0, C.Xx)("#DiscountDashboard_OptIn_Grid_Ineligible_NA"),
            );
          }
          n.push(r);
        }
        _t.K.WriteCSVToFile(n, a);
      }
      function Dt(e) {
        const { closeModal: t, strFilename: a, parseResult: n } = e,
          i = (0, le.zD)(),
          l = (0, u.z)(),
          s = (0, _.im)(),
          o = (0, p.E_)(),
          [c, m] = r.useState(null),
          [d, h] = r.useState(),
          [g, E] = r.useState();
        if (
          (r.useEffect(() => {
            const {
              rgDiscountOverrides: e,
              nPackagesImported: t,
              nDiscountEventsImported: a,
            } = (function (e, t, a, n, i) {
              const r = new Map(),
                l = new Set(e.meta?.fields ?? []);
              for (const e of n) {
                if (t > e.start_date) continue;
                const a = St(e),
                  n = a + "/" + e.id;
                l.has(n) ? r.set(n, e.id) : l.has(a) && r.set(a, e.id);
              }
              const s = Array.from(r.keys()),
                o = [],
                c = new Set(a),
                m = [];
              for (const t of e.data ?? []) {
                const e = Number(t.ID);
                if (c.has(e)) {
                  o.push(e);
                  for (const a of s) {
                    const n = r.get(a),
                      l = t[a],
                      s = !!l?.length && parseInt(l);
                    if (!l?.length || Number.isNaN(s)) continue;
                    const o = i(s, n, [e]);
                    1 == o?.length && m.push(o[0]);
                  }
                }
              }
              return {
                rgDiscountOverrides: m,
                nPackagesImported: o.length,
                nDiscountEventsImported: s.length,
              };
            })(n, i, l, s, o);
            m(e), h(t), E(a);
          }, [n, i, l, s, o]),
          null === c)
        )
          return r.createElement(f.V, { position: "center" });
        const S = c.length > 0,
          v = S
            ? (0, C.Xx)("#PackageGrid_SaveChangesDialogButton")
            : (0, C.Xx)("#Button_Close");
        return r.createElement(
          N.uH,
          {
            strTitle: (0, C.Xx)(
              "#DiscountDashboard_ImportExport_UploadProgressTitle",
            ),
            strDescription: (0, C.Xx)(
              "#DiscountDashboard_ImportExport_UploadProgressDetails",
              d,
              g,
            ),
            bAlertDialog: !S,
            strOKButtonText: v,
            onOK: () => {
              S && (0, D.AM)(r.createElement(ye, null), window);
            },
            strCancelButtonText: (0, C.Xx)("#Button_OK"),
            closeModal: t,
          },
          r.createElement(
            "div",
            { className: gt().ParseResultCount },
            (0, C.kb)(
              "#DiscountDashboard_ImportExport_UploadResults",
              c.length,
            ),
          ),
          S &&
            (0, C.Xx)(
              "#DiscountDashboard_ImportExport_UploadNextStepInstructions",
            ),
          !!n.errors?.length &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                "div",
                { className: gt().ErrorHeader },
                (0, C.Xx)(
                  "#DiscountDashboard_ImportExport_UploadErrorsHeader",
                  n.errors?.length,
                ),
              ),
              r.createElement(
                "div",
                { className: gt().ParseErrors },
                n.errors.map((e, t) =>
                  r.createElement(
                    "div",
                    { key: `${e.message}-${t}`, className: gt().Error },
                    `${e.row ?? "-"} ${e.message}`,
                  ),
                ),
              ),
            ),
        );
      }
      function ft(e) {
        (0, h.j)((0, p.B6)());
        const { rgDiscountEvents: t, eResult: a } = (0, c.BS)(),
          n = (0, u.z)(),
          i = (0, b.T)("DiscountDashboard"),
          l = (0, d.yI)(),
          { fnLoadMultiOptInRegistration: s } = (0, m.PV)(),
          o = (0, _.D_)(),
          A = (0, p.hr)(),
          [w, P] = (0, v.Ar)(O, null);
        r.useEffect(() => {
          w && (0, D.AM)(r.createElement(F, null), window);
        }, [w]);
        const [T, N] = r.useState(),
          [R, G] = r.useState(),
          [x, L] = r.useState(),
          [B, M] = r.useState(!1),
          [U, H] = r.useState(!1),
          [V, X] = r.useState(!1),
          [j, q] = r.useState(!1);
        r.useEffect(() => {
          N((0, C.Xx)("#DiscountDashboard_LoadingPackagesWithCount", n.length)),
            (0, g.xs)(n, i).then((e) => {
              e?.length > 0
                ? L(e)
                : G((0, C.Xx)("#DiscountDashboard_Error_CouldNotLoadPackages"));
            });
        }, [n, i]),
          r.useEffect(() => {
            l(n, i).then((e) => {
              1 == e
                ? H(!0)
                : G(
                    (0, C.Xx)(
                      "#DiscountDashboard_Error_CouldNotLoadPackageDiscounts",
                    ),
                  );
            });
          }, [n, i, l]),
          r.useEffect(() => {
            if (x)
              if (null === a)
                N((0, C.Xx)("#DiscountDashboard_LoadingDiscountEvents"));
              else if (1 != a)
                G(
                  (0, C.Xx)(
                    "#DiscountDashboard_Error_CouldNotLoadDiscountEvents",
                  ),
                );
              else {
                const e = x.filter((e) =>
                    g.Sx.has(E.Z.Get().GetApp(e)?.GetAppType()),
                  ),
                  a = t.map((e) => e.opt_in_name).filter(Boolean);
                a.length > 0 ? s(a, e, i).then(() => M(!0)) : M(!0);
              }
          }, [x, t, a, s, i]),
          r.useEffect(() => {
            x &&
              1 == a &&
              (B
                ? U
                  ? (N(
                      (0, C.Xx)(
                        "#DiscountDashboard_ComputingGridStateWithCounts",
                        n.length,
                        t.length,
                      ),
                    ),
                    X(!0))
                  : N(
                      (0, C.Xx)(
                        "#DiscountDashboard_LoadingPackageDiscounts",
                        n.length,
                      ),
                    )
                : N(
                    (0, C.Xx)(
                      "#DiscountDashboard_LoadingRegistrationData",
                      x.length,
                    ),
                  ));
          }, [x, a, n, t, B, U]),
          r.useEffect(() => {
            V &&
              window.setTimeout(() => {
                o(), A(), N(null), q(!0);
              }, 0);
          }, [V, o, A]);
        const W = k.De.PARTNER_BASE_URL + "doc/marketing/discounts",
          z = k.De.HELP_BASE_URL + "wizard/HelpWithPublishing?issueid=919",
          Z = !!x;
        return r.createElement(
          "div",
          { className: K().DashboardPage },
          r.createElement(
            "div",
            { className: K().DashTitleBar },
            r.createElement(
              "div",
              { className: K().DashTitle },
              (0, C.Xx)("#DiscountDashboard_Title"),
            ),
            r.createElement(
              "div",
              { className: K().ButtonGroup },
              r.createElement(
                S.zx,
                {
                  onClick: (e) =>
                    (0, D.AM)(r.createElement(F, null), (0, I.RA)(e)),
                  disabled: !Z,
                },
                (0, C.Xx)("#DiscountDashboard_CreateDiscountButton"),
              ),
              r.createElement(
                S.zx,
                {
                  onClick: (e) =>
                    (0, D.AM)(r.createElement(Et, null), (0, I.RA)(e)),
                },
                (0, C.Xx)("#DiscountDashboard_ImportExportButton"),
              ),
              r.createElement(
                S.zx,
                { onClick: (e) => (0, y.b8)(e, W) },
                (0, C.Xx)("#DiscountDashboard_DocumentationButton"),
              ),
              r.createElement(
                S.zx,
                { onClick: (e) => (0, y.b8)(e, z) },
                (0, C.Xx)("#DiscountDashboard_ContactUsButton"),
              ),
            ),
          ),
          r.createElement(
            "div",
            { className: K().ConfidentialBanner },
            (0, C.Xx)("#DiscountDashboard_ConfidentialityBanner"),
          ),
          R && r.createElement("div", { className: K().ErrorMessage }, R),
          !R &&
            T &&
            r.createElement(f.V, {
              position: "center",
              string: T,
              className: K().Throbber,
            }),
          j &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(mt, null),
              r.createElement(De, null),
            ),
        );
      }
      const yt = { DiscountDashboard: (e) => `/dashboard/${e}` },
        bt = (e) =>
          r.createElement(
            l.VK,
            { basename: (0, n.l)() + "promotion/discounts/" },
            r.createElement(
              s.rs,
              null,
              r.createElement(s.AW, {
                exact: !0,
                path: n.Z.DiagData(),
                render: (e) =>
                  r.createElement(o.m, {
                    ...e,
                    strConfigID: "application_config",
                  }),
              }),
              r.createElement(s.AW, {
                path: yt.DiscountDashboard(":publisherid(\\d+)"),
                render: (e) => r.createElement(ft, null),
              }),
              r.createElement(s.AW, { component: i.R }),
            ),
          );
    },
    86984: (e, t, a) => {
      "use strict";
      a.d(t, { RG: () => y, _2: () => k, y_: () => A });
      var n = a(86236),
        i = a(8062),
        r = a(47427),
        l = a(64936),
        s = a(80886),
        o = a(77681),
        c = a.n(o),
        m = a(1485),
        d = a(10162),
        u = a(24827),
        p = a(46882),
        _ = a(98255),
        h = a.n(_),
        g = a(61553),
        E = a(28017),
        S = a(30452),
        v = a(23665),
        D = a(71741),
        f = a.n(D);
      function y(e) {
        const { bShowOnlySummary: t } = e,
          a = n.On.Get(),
          i = (0, n.y7)(),
          s = (0, l.zD)(),
          o = (0, r.useMemo)(() => {
            const { jsonOptedIn: e, jsonInvited: t } = i;
            return [...e.map((e) => e.appid), ...t.map((e) => e.appid)];
          }, [i]),
          u = a.GetEventStartTime(),
          _ = a.GetEventEndTime(),
          h = _ - u,
          v = u - h,
          D = _ + h;
        return r.createElement(
          d.SV,
          null,
          r.createElement(
            "div",
            { className: t ? "" : c().AdminPageCtn },
            !t &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  "div",
                  { className: c().PageTitle },
                  "OptIn Admin Analysis: ",
                  a.GetName(),
                ),
                r.createElement(
                  "div",
                  { className: c().PageSubTitle },
                  "Sales stats will only work on opt-in that were setup as invite only as we build the stats for opted in and invted apps",
                ),
                r.createElement(
                  "div",
                  null,
                  r.createElement(g.x, { ctnOverride: " " }),
                  r.createElement(
                    m.zx,
                    null,
                    r.createElement(
                      E.rU,
                      { to: S.OptInRoutes.OptinAdminDashboard() },
                      "Dashboard",
                    ),
                  ),
                ),
                r.createElement("br", null),
                r.createElement("hr", null),
              ),
            r.createElement(
              "div",
              null,
              Boolean(0 == o.length)
                ? r.createElement(p.V, {
                    string: "Loading App Opt In / Invites",
                    size: "medium",
                    position: "center",
                  })
                : r.createElement(
                    "div",
                    null,
                    r.createElement(P, {
                      rtBaselineStart: v,
                      rtBaselineEnd: u,
                      rtCompareStart: u,
                      rtCompareEnd: _,
                      rgAppIDs: o,
                      strComparisonName: a.GetName(),
                    }),
                    !t &&
                      r.createElement(T, {
                        rtBaselineStart: v,
                        rtBaselineEnd: u,
                        rtCompareStart: u,
                        rtCompareEnd: _,
                        rtPostlineStart: D < s ? _ : void 0,
                        rtPostlineEnd: D < s ? D : void 0,
                        rgAppIDs: o,
                        strComparisonName: a.GetName(),
                      }),
                  ),
            ),
          ),
        );
      }
      const b = { minimumFractionDigits: 0, maximumFractionDigits: 0 },
        I = { minimumFractionDigits: 2, maximumFractionDigits: 2 },
        C = { minimumFractionDigits: 1, maximumFractionDigits: 1 };
      function k(e) {
        return `$${e.toLocaleString(void 0, b)}`;
      }
      function A(e) {
        return `$${e.toLocaleString(void 0, I)}`;
      }
      function w(e) {
        return `${(100 * e).toLocaleString(void 0, C)} %`;
      }
      function P(e) {
        const {
            rtBaselineStart: t,
            rtBaselineEnd: a,
            rtCompareStart: n,
            rtCompareEnd: l,
            rgAppIDs: s,
            strComparisonName: o,
          } = e,
          m = (0, i.dI)(t, a, s),
          d = (0, i.dI)(n, l, s);
        if (!m || !d)
          return r.createElement(p.V, {
            string: `Loading Packages Stats for ${s.length} apps`,
            size: "medium",
            position: "center",
          });
        const u = d.GetTotalSummary().gross_sales_usd / 100,
          _ = Math.max(1, Math.ceil((a - t) / 86400)),
          h = m.GetTotalSummary().gross_sales_usd / _ / 100,
          g = Math.max(1, Math.ceil((l - n) / 86400)),
          E = d.GetTotalSummary().gross_sales_usd / g / 100,
          S = h > 0 ? E / h : 0;
        return r.createElement(
          "div",
          { className: c().StatReportCtn },
          r.createElement(
            "div",
            { className: c().Stat },
            r.createElement(
              "div",
              { className: c().BigStat },
              s.length.toLocaleString(),
            ),
            r.createElement(
              "span",
              { className: c().SmallText },
              "Included Apps",
            ),
          ),
          r.createElement(
            "div",
            { className: c().Stat },
            r.createElement("div", { className: c().BigStat }, k(u)),
            r.createElement(
              "span",
              { className: c().SmallText },
              "Total Revenue",
            ),
          ),
          r.createElement(
            "div",
            { className: c().Stat },
            r.createElement("div", { className: c().BigStat }, w(S)),
            r.createElement(
              "span",
              { className: c().SmallText },
              "Change in daily avg.",
            ),
          ),
        );
      }
      function T(e) {
        const {
            rtBaselineStart: t,
            rtBaselineEnd: a,
            rtCompareStart: n,
            rtCompareEnd: l,
            rgAppIDs: s,
            strComparisonName: o,
            rtPostlineStart: c,
            rtPostlineEnd: _,
          } = e,
          g = (0, i.dI)(t, a, s),
          E = (0, i.dI)(n, l, s),
          S = (0, i.dI)(c, _, s),
          [D, y] = (0, r.useState)(50);
        if (!g || !E || (!S && _))
          return r.createElement(p.V, {
            string: `Loading Packages Stats for ${s.length} apps`,
            size: "medium",
            position: "center",
          });
        const b = Math.max(1, Math.ceil((a - t) / 86400)),
          I = g.GetTotalSummary().gross_sales_usd / b / 100,
          C = g.GetTotalSummary().gross_sales_usd / 100,
          A = Math.max(1, Math.ceil((l - n) / 86400)),
          P = E.GetTotalSummary().gross_sales_usd / A / 100,
          T = E.GetTotalSummary().gross_sales_usd / 100,
          R = I > 0 ? P / I : 0;
        let G, x, L, B;
        S &&
          ((G = Math.max(1, Math.ceil((_ - c) / 86400))),
          (x = S.GetTotalSummary().gross_sales_usd / A / 100),
          (L = S.GetTotalSummary().gross_sales_usd / 100),
          (B = I > 0 ? x / I : 0));
        const M =
            g.GetTotalSummary().gross_sales_usd +
            E.GetTotalSummary().gross_sales_usd +
            (S?.GetTotalSummary()?.gross_sales_usd || 0),
          O = g.GetTotalSummary().gross_sales_usd / M,
          F = E.GetTotalSummary().gross_sales_usd / M;
        let U;
        S && (U = S.GetTotalSummary().gross_sales_usd / M);
        const H = (e) =>
            window.sessionStorage.setItem("optInStatsResults", `?tab=${e.key}`),
          V = [
            {
              name: "Event Results",
              key: "compare",
              contents: r.createElement(
                d.SV,
                null,
                r.createElement(N, {
                  oAppSummary: E,
                  nTopAppCount: D,
                  nDays: A,
                  strToken: o || "Comparison",
                  oPriorSummary: g,
                  nPriorDays: b,
                  oPostSummary: S,
                  nPostDays: G,
                  nTotalSaleUSD: T,
                }),
              ),
              onClick: H,
            },
            {
              name: "Baseline",
              key: "baseline",
              contents: r.createElement(
                d.SV,
                null,
                r.createElement(N, {
                  oAppSummary: g,
                  nTopAppCount: D,
                  nDays: A,
                  strToken: "Prior to Event",
                  nTotalSaleUSD: C,
                }),
              ),
              onClick: H,
            },
          ];
        return (
          S &&
            V.push({
              name: "Postline",
              key: "postline",
              contents: r.createElement(
                d.SV,
                null,
                r.createElement(N, {
                  oAppSummary: S,
                  nTopAppCount: D,
                  nDays: A,
                  strToken: "Post Event",
                  nTotalSaleUSD: L,
                }),
              ),
              onClick: H,
            }),
          r.createElement(
            "div",
            null,
            r.createElement("br", null),
            r.createElement(
              "div",
              { className: h().ComparisonRichTable },
              r.createElement(
                "table",
                null,
                r.createElement(
                  "tr",
                  null,
                  r.createElement("th", null, "Period"),
                  r.createElement("th", null, "Length"),
                  r.createElement("th", null, "Dates"),
                  r.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Total $",
                  ),
                  r.createElement("th", null, "Visual"),
                  r.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Daily Avg. $",
                  ),
                  r.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Revenue change vs. base",
                  ),
                ),
                r.createElement(
                  "tr",
                  null,
                  r.createElement("td", null, "Baseline"),
                  r.createElement("td", null, b, " days"),
                  r.createElement(
                    "td",
                    null,
                    r.createElement(u.Sw, { rtStartDate: t, rtEndDate: a }),
                  ),
                  r.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    k(C),
                  ),
                  r.createElement(
                    "td",
                    null,
                    r.createElement("div", {
                      style: { width: 300 * O + "px" },
                      className: h().VisualBar,
                    }),
                  ),
                  r.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    k(I),
                  ),
                  r.createElement("td", { style: { textAlign: "right" } }),
                ),
                r.createElement(
                  "tr",
                  null,
                  r.createElement("td", null, o || "Comparison"),
                  r.createElement("td", null, A, " days"),
                  r.createElement(
                    "td",
                    null,
                    r.createElement(u.Sw, { rtStartDate: n, rtEndDate: l }),
                  ),
                  r.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    k(T),
                  ),
                  r.createElement(
                    "td",
                    null,
                    r.createElement("div", {
                      style: { width: 300 * F + "px" },
                      className: h().VisualBar,
                    }),
                  ),
                  r.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    k(P),
                  ),
                  r.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    w(R),
                  ),
                ),
                Boolean(S) &&
                  r.createElement(
                    "tr",
                    null,
                    r.createElement("td", null, "Following"),
                    r.createElement("td", null, G, " days"),
                    r.createElement(
                      "td",
                      null,
                      r.createElement(u.Sw, { rtStartDate: c, rtEndDate: _ }),
                    ),
                    r.createElement(
                      "td",
                      { style: { textAlign: "right" } },
                      k(L),
                    ),
                    r.createElement(
                      "td",
                      null,
                      r.createElement("div", {
                        style: { width: 300 * U + "px" },
                        className: h().VisualBar,
                      }),
                    ),
                    r.createElement(
                      "td",
                      { style: { textAlign: "right" } },
                      k(x),
                    ),
                    r.createElement(
                      "td",
                      { style: { textAlign: "right" } },
                      w(B),
                    ),
                  ),
              ),
            ),
            r.createElement("br", null),
            r.createElement("br", null),
            r.createElement(v.n, { tabs: V }),
            r.createElement("div", { className: f().ClearThings }),
            r.createElement("br", null),
            r.createElement(
              m.zx,
              { onClick: () => y(D + 50) },
              "Show 50 More Top Apps",
            ),
          )
        );
      }
      function N(e) {
        const {
            oAppSummary: t,
            nTopAppCount: a,
            strToken: n,
            oPriorSummary: i,
            nDays: l,
            nPriorDays: s,
            oPostSummary: o,
            nPostDays: c,
            nTotalSaleUSD: m,
          } = e,
          d = (0, r.useMemo)(() => t?.GetTopNApps(a) || [], [a, t]);
        let u = 0;
        return r.createElement(
          "div",
          { className: h().ComparisonRichTable },
          r.createElement("h3", null, "Top ", d.length, " ", n, " Apps:"),
          r.createElement(
            "table",
            null,
            r.createElement(
              "thead",
              null,
              r.createElement(
                "tr",
                null,
                r.createElement("th", null, "#"),
                r.createElement("th", null, "AppID"),
                r.createElement("th", null, "Name"),
                r.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Total Revenue",
                ),
                r.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Daily Avg",
                ),
                Boolean(i) &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(
                      "th",
                      { style: { textAlign: "right" } },
                      "Prior Daily Avg",
                    ),
                    r.createElement(
                      "th",
                      { style: { textAlign: "right" } },
                      "Lift",
                    ),
                  ),
                Boolean(o) &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement("th", null, "Post Daily Avg"),
                    r.createElement("th", null, "Post Revenue Change vs Base"),
                  ),
                r.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Total Units",
                ),
                r.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  'Revenue %"',
                ),
                r.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Cumulative Revenue %",
                ),
              ),
            ),
            d.map(
              (e, t) => (
                (u += e.gross_sales_usd),
                r.createElement(G, {
                  key: n + e.appid,
                  index: t,
                  summary: e,
                  nDays: l,
                  priorSummary: i?.GetAppSaleSummary(e.appid),
                  nPriorDays: s,
                  postSummary: o?.GetAppSaleSummary(e.appid),
                  nPostDays: c,
                  nTotalSaleUSD: m,
                  nCumulativeSalesUSDCents: u,
                })
              ),
            ),
          ),
        );
      }
      const R = {};
      function G(e) {
        const {
            summary: t,
            nDays: a,
            index: n,
            priorSummary: i,
            nPriorDays: l,
            postSummary: o,
            nPostDays: c,
            nTotalSaleUSD: m,
            nCumulativeSalesUSDCents: d,
          } = e,
          [u] = (0, s.vs)(t.appid, R),
          p = t.gross_sales_usd / a / 100;
        let _, h, g, E;
        return (
          i && ((_ = i.gross_sales_usd / l / 100), (h = _ > 0 ? p / _ : 0)),
          o && ((g = o.gross_sales_usd / c / 100), (E = _ > 0 ? g / _ : 0)),
          r.createElement(
            "tr",
            null,
            r.createElement("td", null, n + 1),
            r.createElement("td", null, t.appid),
            r.createElement(
              "td",
              null,
              r.createElement(
                "a",
                { href: u?.GetStorePageURL() },
                u?.GetName() || "loading",
              ),
            ),
            r.createElement(
              "td",
              { style: { textAlign: "right" } },
              k(t.gross_sales_usd / 100),
            ),
            r.createElement("td", { style: { textAlign: "right" } }, k(p)),
            Boolean(i) &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement("td", { style: { textAlign: "right" } }, k(_)),
                r.createElement("td", { style: { textAlign: "right" } }, w(h)),
              ),
            Boolean(o) &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement("td", { style: { textAlign: "right" } }, k(g)),
                r.createElement("td", { style: { textAlign: "right" } }, w(E)),
              ),
            r.createElement(
              "td",
              { style: { textAlign: "right" } },
              t.gross_units_sold.toLocaleString(),
            ),
            r.createElement(
              "td",
              { style: { textAlign: "right" } },
              (t.gross_sales_usd / m).toLocaleString(),
              " %",
            ),
            r.createElement(
              "td",
              { style: { textAlign: "right" } },
              (d / m).toLocaleString(),
              " %",
            ),
          )
        );
      }
    },
    91398: (e, t, a) => {
      "use strict";
      a.d(t, { by: () => H, Iy: () => V, kK: () => U });
      var n = a(64523),
        i = a(86236),
        r = a(47427),
        l = a(28017),
        s = a(80886),
        o = a(77681),
        c = a.n(o),
        m = a(1485),
        d = a(10162),
        u = a(85305),
        p = a(71741),
        _ = a.n(p),
        h = a(24827),
        g = a(46882),
        E = a(13129),
        S = a(31846),
        v = a(78105),
        D = a(8114),
        f = a(22559),
        y = a(48359),
        b = a(56886),
        I = a(72236),
        C = a(28531),
        k = a(90291),
        A = a(59728),
        w = a(56104),
        P = a.n(w);
      const T = r.memo((e) => {
        const { data: t, appid: a } = e,
          n = (0, r.useCallback)(
            (e, a) =>
              t[a]
                ? new Intl.DateTimeFormat(navigator.language, {
                    month: "numeric",
                    day: "numeric",
                  }).format(new Date(1e3 * t[a].rt_end_time))
                : "",
            [t],
          ),
          i = (0, r.useMemo)(() => {
            const e = t.filter((e) => e.appid == a);
            return e.map((t, a) => {
              const n = {
                ...t,
                adjusted_demo_player_count: t.demo_player_count,
              };
              return (
                a > 0 &&
                  (n.adjusted_demo_player_count -= e[a - 1].demo_player_count),
                n
              );
            });
          }, [a, t]);
        return r.createElement(
          "div",
          { className: P().ChartContainer },
          r.createElement(
            "div",
            { className: P().Chart },
            r.createElement(
              d.SV,
              null,
              r.createElement(
                D.h,
                { width: "100%", height: "100%" },
                r.createElement(
                  f.c,
                  {
                    data: i,
                    layout: "horizontal",
                    margin: { top: 25, left: 0, right: 0, bottom: 0 },
                    barGap: 30,
                  },
                  r.createElement(
                    "defs",
                    null,
                    r.createElement(
                      "linearGradient",
                      { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                      r.createElement("stop", { stopColor: "#1A9FFF" }),
                      r.createElement("stop", {
                        offset: "1",
                        stopColor: "#1A9FFF",
                        stopOpacity: "1",
                      }),
                    ),
                  ),
                  r.createElement(y.q, { vertical: !1, stroke: "#a0aab6" }),
                  r.createElement(b.B, {
                    tickFormatter: v.H_,
                    tick: { fill: "white" },
                    axisLine: !0,
                  }),
                  r.createElement(I.u, {
                    wrapperStyle: { outline: "none" },
                    allowEscapeViewBox: { x: !1, y: !0 },
                    isAnimationActive: !1,
                    offset: 0,
                    content: r.createElement(N, null),
                  }),
                  r.createElement(C.$, {
                    dataKey: "adjusted_demo_player_count",
                    barSize: 60,
                    fill: "url( #bar_linear )",
                  }),
                  r.createElement(k.K, {
                    interval: 0,
                    tick: r.createElement(R, null),
                    tickFormatter: n,
                  }),
                ),
              ),
            ),
          ),
        );
      });
      function N({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload;
          return r.createElement(
            A.gz,
            null,
            (0, S.Xx)(
              "#Recap_NextFest_Graph_tooltip",
              (0, v.H_)(e.adjusted_demo_player_count),
              (0, S.$1)(e.rt_end_time),
            ),
          );
        }
        return null;
      }
      function R(e) {
        const { x: t, y: a, payload: n } = e,
          i = e.tickFormatter(n.value, n.index);
        return r.createElement(
          "g",
          { transform: `translate(${t},${a})` },
          r.createElement(
            "text",
            {
              x: 0,
              y: 0,
              dy: 16,
              textAnchor: "middle",
              fill: "#FFFFFF",
              transform: "rotate(0)",
              fontSize: "11px",
            },
            i,
          ),
        );
      }
      var G,
        x = a(98255),
        L = a.n(x),
        B = a(59850),
        M = a.n(B),
        O = a(30452),
        F = a(65255);
      function U(e) {
        const { bShowOnlySummary: t } = e,
          a = i.On.Get(),
          s = (0, n.L)(a.GetOptInPageID()),
          o = (0, r.useMemo)(() => {
            let e = 0;
            return (
              s.data?.stats &&
                s.data.stats.forEach((t) => {
                  t.rt_end_time > e && (e = t.rt_end_time);
                }),
              e
            );
          }, [s.data]),
          [u] = (0, r.useMemo)(
            () => [
              s.data?.stats.reduce(
                (e, t) =>
                  t.rt_last_update_time > e ? t.rt_last_update_time : e,
                0,
              ),
            ],
            [s.data?.stats],
          );
        return s.isLoading
          ? r.createElement(g.V, null)
          : s.data?.stats?.length
            ? r.createElement(
                d.SV,
                null,
                r.createElement(
                  "div",
                  {
                    className: (0, E.Z)(
                      t ? "" : c().AdminPageCtn,
                      c().WidePageCtn,
                    ),
                  },
                  !t &&
                    r.createElement(
                      r.Fragment,
                      null,
                      r.createElement(
                        "div",
                        { className: c().PageTitle },
                        "OptIn Admin Demo Stats Analysis: ",
                        a.GetName(),
                      ),
                      r.createElement(
                        "div",
                        { className: c().PageSubTitle },
                        "These are stats focussed on demos plays and wishlists that occurred during the fest, calculated after each days completion. The data is computed once per day of the fest, after the day is completed; in other words, the first report available will be 1 day after the starts of the event. This is on the promotion server task 'SteamFestDemoPlayerRollup'.",
                      ),
                      r.createElement(
                        "div",
                        null,
                        r.createElement(
                          m.zx,
                          null,
                          r.createElement(
                            l.rU,
                            { to: O.OptInRoutes.OptinAdminDashboard() },
                            "Dashboard",
                          ),
                        ),
                      ),
                      r.createElement("br", null),
                      r.createElement("hr", null),
                      r.createElement(
                        "div",
                        null,
                        "Stats Last Collected: ",
                        (0, S.$1)(u),
                        " @ ",
                        (0, h.Kj)(u),
                      ),
                    ),
                  r.createElement(
                    "div",
                    null,
                    r.createElement(H, {
                      rgDemo: s.data.stats,
                      rtLatestEndDate: o,
                      bShowOnlySummary: t,
                    }),
                    !t &&
                      r.createElement(V, {
                        rgDemo: s.data.stats,
                        rtLatestEndDate: o,
                      }),
                  ),
                ),
              )
            : r.createElement("div", null, "No data to show");
      }
      function H(e) {
        const {
            rgDemo: t,
            rtLatestEndDate: a,
            bShowOnlySummary: n,
            className: i,
            rgAppSansPermissions: l,
          } = e,
          [s, o, m, d] = (0, r.useMemo)(() => {
            let e = 0,
              n = 0,
              i = 0,
              r = 0;
            return (
              t.forEach((t) => {
                t.rt_end_time == a &&
                  ((e += 1),
                  (n += t.demo_player_count),
                  (i += t.wishlist_count),
                  (r += t.player_wishlist_count));
              }),
              (e += l?.length || 0),
              [e, n, i, r]
            );
          }, [t, a, l]);
        return r.createElement(
          "div",
          { className: (0, E.Z)(c().StatReportCtn, i) },
          r.createElement(
            "div",
            { className: c().Stat },
            r.createElement(
              "div",
              { className: c().BigStat },
              s.toLocaleString(),
            ),
            r.createElement(
              "span",
              { className: c().SmallText },
              (0, S.Xx)("#Recap_NextFest_Headline_Apps"),
            ),
          ),
          r.createElement(
            "div",
            { className: c().Stat },
            r.createElement(
              "div",
              { className: c().BigStat },
              o.toLocaleString(),
            ),
            r.createElement(
              "span",
              { className: c().SmallText },
              (0, S.Xx)("#Recap_NextFest_Headline_Plays"),
            ),
          ),
          r.createElement(
            "div",
            { className: c().Stat },
            r.createElement(
              "div",
              { className: c().BigStat },
              m.toLocaleString(),
            ),
            r.createElement(
              "span",
              { className: c().SmallText },
              (0, S.Xx)("#Recap_NextFest_Headline_Wishlist"),
            ),
          ),
          Boolean(!n) &&
            r.createElement(
              "div",
              { className: c().Stat },
              r.createElement(
                "div",
                { className: c().BigStat },
                d.toLocaleString(),
              ),
              r.createElement(
                "span",
                { className: c().SmallText },
                (0, S.Xx)("#Recap_NextFest_Headline_PlaysAndWish"),
              ),
            ),
        );
      }
      function V(e) {
        const {
            rgDemo: t,
            rtLatestEndDate: a,
            nUniqueApps: n,
            className: i,
            bShowDiscoveryGraph: l,
            rgAppSansPermissions: s,
          } = e,
          [o, c] = (0, r.useState)(G.by_player),
          [d, u] = (0, r.useState)(!1),
          p = (0, r.useMemo)(() => {
            const e = new Array();
            return (
              e.push({ label: "Sort By Players", data: G.by_player }),
              e.push({ label: "Sort By Wishlists", data: G.by_wishlist }),
              e.push({
                label: "Sort By Players who Wishlisted",
                data: G.by_play_wish,
              }),
              e
            );
          }, []),
          h = (0, r.useMemo)(
            () =>
              t
                .filter((e) => e.rt_end_time == a)
                .sort((e, t) =>
                  o == G.by_player
                    ? t.demo_player_count - e.demo_player_count
                    : o == G.by_wishlist
                      ? t.wishlist_count - e.wishlist_count
                      : t.player_wishlist_count - e.player_wishlist_count,
                ),
            [t, a, o],
          );
        return r.createElement(
          "div",
          { className: i },
          r.createElement("br", null),
          Boolean(n > 1) &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(m.ry, {
                label: "Sort Order:",
                strDropDownClassName: _().DropDownScroll,
                rgOptions: p,
                selectedOption: o,
                onChange: (e) => c(e.data),
              }),
              r.createElement(m.ji, {
                label: "Compact Display",
                checked: d,
                onChange: u,
              }),
            ),
          r.createElement(
            "div",
            { className: L().ComparisonRichTable },
            r.createElement(
              "table",
              null,
              r.createElement(
                "thead",
                null,
                r.createElement(
                  "tr",
                  null,
                  r.createElement("th", null, "#"),
                  !d && r.createElement("th", null),
                  r.createElement(
                    "th",
                    null,
                    (0, S.Xx)("#Recap_NextFest_AppID"),
                  ),
                  r.createElement(
                    "th",
                    null,
                    (0, S.Xx)("#Recap_NextFest_DemoAppID"),
                  ),
                  r.createElement(
                    "th",
                    null,
                    (0, S.Xx)("#Recap_NextFest_GameName"),
                  ),
                  r.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    (0, S.Xx)("#Recap_NextFest_TotalPlayers"),
                  ),
                  r.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    (0, S.Xx)("#Recap_NextFest_TotalWishlist"),
                  ),
                  r.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    (0, S.Xx)("#Recap_NextFest_PlayerWishlist"),
                  ),
                  !d &&
                    l &&
                    r.createElement(
                      "th",
                      null,
                      (0, S.Xx)("#Recap_NextFest_Graph"),
                    ),
                ),
              ),
              r.createElement(
                "tbody",
                null,
                h.map((e, a) =>
                  r.createElement(q, {
                    key: e.appid,
                    demo: e,
                    rgAllDemos: t,
                    index: a,
                    bCompact: d,
                    bShowDiscoveryGraph: !d && l,
                  }),
                ),
                s?.map((e, t) =>
                  r.createElement(X, {
                    appid: e,
                    bCompact: d,
                    key: "hidden" + e,
                    index: h.length + t,
                  }),
                ),
              ),
            ),
          ),
          Boolean(s?.length > 0) &&
            r.createElement(
              "a",
              {
                href: `${F.De.PARTNER_BASE_URL}doc/gettingstarted/managing_users`,
                target: "_blank",
              },
              (0, S.Xx)("#Recap_NextFest_ManagingUserLinks"),
            ),
        );
      }
      function X(e) {
        const { appid: t, bCompact: a, index: n } = e,
          [i] = (0, s.vs)(t, j),
          l = (0, r.useMemo)(() => ({ id: t, type: "game" }), [t]),
          o = i?.GetName() || (0, S.Xx)("#Recap_NextFest_LoadingApp", t);
        return r.createElement(
          "tr",
          null,
          r.createElement("td", null, (n + 1).toLocaleString()),
          !a &&
            r.createElement(
              "td",
              null,
              r.createElement(
                u.ll,
                {
                  item: l,
                  hoverProps: {
                    direction: "overlay",
                    style: { minWidth: "320px" },
                  },
                },
                r.createElement("img", {
                  className: M().AppImgCtn,
                  src: `https://cdn.cloudflare.steamstatic.com/steam/apps/${t}/capsule_231x87.jpg`,
                  loading: "lazy",
                  alt: o,
                }),
              ),
            ),
          r.createElement("td", null, t),
          r.createElement("td", null),
          r.createElement(
            "td",
            null,
            r.createElement("a", { href: i?.GetStorePageURL() }, o),
          ),
          r.createElement(
            "td",
            { colSpan: 4, style: { textAlign: "right" } },
            (0, S.Xx)("#Recap_NextFest_NoAccess"),
          ),
        );
      }
      !(function (e) {
        (e[(e.by_player = 1)] = "by_player"),
          (e[(e.by_wishlist = 2)] = "by_wishlist"),
          (e[(e.by_play_wish = 3)] = "by_play_wish");
      })(G || (G = {}));
      const j = {};
      function q(e) {
        const {
            demo: t,
            index: a,
            bCompact: n,
            bShowDiscoveryGraph: i,
            rgAllDemos: l,
          } = e,
          [o] = (0, s.vs)(t.appid, j),
          c = o?.GetName() || (0, S.Xx)("#Recap_NextFest_LoadingApp", t.appid),
          m = (0, r.useMemo)(() => ({ id: t.appid, type: "game" }), [t]);
        return r.createElement(
          "tr",
          null,
          r.createElement("td", null, (a + 1).toLocaleString()),
          !n &&
            r.createElement(
              "td",
              null,
              r.createElement(
                u.ll,
                {
                  item: m,
                  hoverProps: {
                    direction: "overlay",
                    style: { minWidth: "320px" },
                  },
                },
                r.createElement("img", {
                  className: M().AppImgCtn,
                  src: `https://cdn.cloudflare.steamstatic.com/steam/apps/${t.appid}/capsule_231x87.jpg`,
                  loading: "lazy",
                  alt: c,
                }),
              ),
            ),
          r.createElement("td", null, t.appid),
          r.createElement("td", null, t.demo_appid),
          r.createElement(
            "td",
            null,
            r.createElement("a", { href: o?.GetStorePageURL() }, c),
          ),
          r.createElement(
            "td",
            { style: { textAlign: "right" } },
            t.demo_player_count.toLocaleString(),
          ),
          r.createElement(
            "td",
            { style: { textAlign: "right" } },
            t.wishlist_count.toLocaleString(),
          ),
          r.createElement(
            "td",
            { style: { textAlign: "right" } },
            t.player_wishlist_count.toLocaleString(),
          ),
          Boolean(i) &&
            r.createElement(
              "td",
              null,
              r.createElement(T, { data: l, appid: t.appid }),
            ),
        );
      }
    },
    52108: (e, t, a) => {
      "use strict";
      a.d(t, {
        AV: () => l,
        H: () => c,
        IX: () => o,
        KF: () => p,
        L2: () => s,
        T6: () => d,
        Xv: () => u,
        c8: () => m,
        n_: () => E,
        oC: () => g,
        sN: () => h,
      });
      var n = a(37563);
      function i(e) {
        return e.getRow()._row.data;
      }
      let r;
      function l(e, t, a) {
        r || (r = new Intl.NumberFormat("en-US"));
        const n = e.getValue();
        if (!n || Number.isNaN(n)) return "";
        return r.format(Number(n));
      }
      function s(e, t, a) {
        return (
          "<a style='font-weight:bold' target='_blank' href='" +
          (n.De.PARTNER_BASE_URL + "apps/landing/" + e.getValue()) +
          "'>" +
          e.getValue() +
          "</a>"
        );
      }
      function o(e, t, a) {
        const r = i(e);
        return (
          "<a style='font-weight:bold' target='_blank' href='" +
          (n.De.STORE_BASE_URL + "app/" + r.appid) +
          "'>" +
          e.getValue() +
          "</a>"
        );
      }
      function c(e, t, a) {
        if (0 == e.getValue()) return "";
        return (
          "<a style='font-weight:bold' target='_blank' href='" +
          (n.De.PARTNER_BASE_URL + "pub/publisher/" + e.getValue()) +
          "'>" +
          e.getValue() +
          "</a>"
        );
      }
      function m(e, t, a) {
        return 1 == e.getValue()
          ? "<span style='color:green'>Released</span>"
          : "<span style='color:red'>Not Released</span>";
      }
      function d(e, t, a) {
        const n = e.getValue();
        return "Released" == n
          ? "<span style='color:green'>" + n + "</span>"
          : "Approved" == n
            ? "<span style='color:orange'>" + n + "</span>"
            : "No Demo" == n
              ? "<span style='color:red'>No Demo</span>"
              : "<span style='color:fuchsia'>Not Opted In</span>";
      }
      function u(e, t, a) {
        return Boolean(e.getValue())
          ? "<span style='color:green'>Yes</span>"
          : "";
      }
      function p(e, t, a) {
        if (Boolean(e.getValue())) {
          return (
            "<a style='color:green;font-weight:bold' target='_blank' href='" +
            (t + i(e).appid) +
            "'>Yes</a>"
          );
        }
        return "";
      }
      const _ = new RegExp("\\(package id:(\\d+)\\)");
      function h(e, t, a) {
        const i = e.getValue();
        return i
          ? i.indexOf("(package id:") > 0
            ? i
                .split("\n")
                .map((e) => {
                  const t = _.exec(e);
                  if (2 == t?.length) {
                    return `<a style='font-weight:bold' target='_blank' href='${n.De.PARTNER_BASE_URL + "packages/discounts/" + t[1]}'>${e}</a>`;
                  }
                  return "";
                })
                .join("&nbsp;<br/>")
            : i
          : "";
      }
      function g(e, t, a) {
        const n = Number.parseInt(e.getValue());
        if (!t) return "Unknown";
        const i = t;
        return i.jsonOptedOut.some((e) => e.appid === n)
          ? "Opted Out"
          : i.jsonOptedIn.some((e) => e.appid === n)
            ? "Opted In"
            : "Invited";
      }
      function E() {
        return {
          width: 800,
          height: 500,
          downloadDataFormatter: (e) => e,
          downloadReady: (e, t) => t,
          initialSort: [{ column: "sales", dir: "desc" }],
        };
      }
    },
    61553: (e, t, a) => {
      "use strict";
      a.d(t, { x: () => o });
      var n = a(86236),
        i = a(47427),
        r = a(1485),
        l = a(24827),
        s = a(70185);
      function o(e) {
        const t = n.On.Get(),
          a = (0, n.tb)(),
          [o, c] = (0, i.useState)(!1);
        return i.createElement(
          "div",
          { style: { width: "100%" } },
          i.createElement(
            "span",
            { className: e.ctnOverride || s.StatsCtn },
            "Refreshed:",
            Boolean(a && a.time_updated) &&
              i.createElement(l.H6, {
                dateAndTime: a.time_updated,
                bSingleLine: !0,
              }),
            i.createElement("br", null),
            i.createElement(
              "span",
              { className: s.Warning },
              "Sales numbers are for Valve Admins only",
            ),
            i.createElement("br", null),
            i.createElement(
              r.zx,
              {
                id: "statsRefreshButton",
                onClick: async () => {
                  c(!0), await t.RefreshActiveStats(), c(!1);
                },
                style: { marginTop: "10px", float: "right", width: "120px" },
                disabled: o,
              },
              o ? "Refreshing..." : "Refresh Stats",
            ),
            i.createElement("br", null),
            i.createElement("br", null),
          ),
        );
      }
    },
    22896: (e, t, a) => {
      "use strict";
      a.d(t, { F: () => s, i: () => o });
      var n = a(86236),
        i = a(81070),
        r = a(47427),
        l = a(46882);
      function s(e) {
        const { pageid: t } = e,
          [a, s] = (0, r.useState)(null);
        return (
          (0, r.useEffect)(() => {
            const e = i.v.Get().GetDefinition(t);
            if (e) {
              let a = i.v.Get().GetOptInStats()[t];
              n.On.Get().Reset(e, a), s(n.On.Get());
            } else
              i.v
                .Get()
                .LoadOptInAdminDef(t)
                .then((e) => {
                  if (e) {
                    const e = i.v.Get().GetDefinition(t);
                    let a = i.v.Get().GetOptInStats()[t];
                    n.On.Get().Reset(e, a), s(n.On.Get());
                  }
                });
          }, [t]),
          a && a.BInitialized()
            ? r.createElement(r.Fragment, null, e.children)
            : r.createElement(l.V, { string: "Loading optin info: " + t })
        );
      }
      function o(e) {
        const { pageid: t } = e,
          [a, s] = (0, r.useState)(null);
        return (
          (0, r.useEffect)(() => {
            const e = i.v.Get().GetDefinition(t);
            e
              ? (n.On.Get().Reset(e, null), s(n.On.Get()))
              : i.v
                  .Get()
                  .LoadOptInAdminDef(t)
                  .then((e) => {
                    if (e) {
                      const e = i.v.Get().GetDefinition(t);
                      n.On.Get().Reset(e, null), s(n.On.Get());
                    }
                  });
          }, [t]),
          a && a.BInitialized()
            ? r.createElement(r.Fragment, null, e.children)
            : r.createElement(l.V, { string: "Loading optin info: " + t })
        );
      }
    },
    4942: (e, t, a) => {
      "use strict";
      a.d(t, { Ip: () => r, cx: () => s, fV: () => l });
      var n = a(77936),
        i = a(65255);
      function r(e, t, a) {
        return `${i.De.BASE_URL_SHARED_CDN}store_item_assets/optin/${e}/${t}/${a}`;
      }
      function l(e) {
        const t = i.De.LANGUAGE;
        return e.localized_optin_banner?.[t]
          ? r(e.pageid, (0, n.jM)(t), e.localized_optin_banner[t])
          : e.localized_optin_banner?.english
            ? r(e.pageid, 0, e.localized_optin_banner.english)
            : null;
      }
      function s(e, t, a) {
        return `${i.De.BASE_URL_SHARED_CDN}store_item_assets/optin/${e}/${t}/${a}`;
      }
    },
    30452: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { OptInRoutes: () => jl, default: () => zl });
      var n = a(760),
        i = a(69406),
        r = a(86236),
        l = a(81070),
        s = a(47427),
        o = a(28017),
        c = a(64936),
        m = a(1485),
        d = a(10162),
        u = a(71472),
        p = a(71741),
        _ = a.n(p),
        h = a(24827),
        g = a(90069),
        E = a(23665),
        S = a(14609),
        v = a(13129),
        D = a(50423),
        f = a(37563),
        y = a(98255),
        b = a.n(y),
        I = a(80751),
        C = a.n(I),
        k = a(72297),
        A = a.n(k),
        w = a(77178),
        P = a(46882),
        T = a(16649);
      function N(e) {
        const { def: t, closeModal: a, stats: n } = e,
          [i, r] = (0, s.useState)(""),
          [l, o] = (0, s.useState)(!1),
          [c, d] = (0, s.useState)(!1),
          [u, p] = (0, s.useState)(!1),
          [_, g] = (0, s.useState)(null);
        return s.createElement(
          w.uH,
          {
            strTitle: "Clone OptIn Definitions",
            onOK: () => {
              d(!0),
                (async function (e, t, a) {
                  const n =
                    f.De.PARTNER_BASE_URL +
                    (a
                      ? "optin/ajaxadmincloneinvites"
                      : "optin/ajaxadmincloneoptinpage");
                  let i = null;
                  try {
                    const r = new FormData();
                    r.append("sessionid", f.De.SESSIONID),
                      r.append(
                        a ? "strSourceOptInName" : "strOldOptInName",
                        e.pageid,
                      ),
                      r.append(a ? "strTargetOptInName" : "strNewOptInName", t);
                    const l = await C().post(n, r, { withCredentials: !0 });
                    if (1 == l?.data?.success) return !0;
                    i = (0, T.l)(l);
                  } catch (e) {
                    i = (0, T.l)(e);
                  }
                  return (
                    console.log(
                      "CloneOptInDefinition: Failed with ",
                      i.strErrorMsg,
                      i,
                    ),
                    !1
                  );
                })(t, "sale_" + i, l)
                  .then((e) => {
                    p(e), e || g("Failed to Clone: " + t.pageid);
                  })
                  .catch(() =>
                    g("Failed to Clone, exception caught, " + t.pageid),
                  );
            },
            onCancel: a,
            bOKDisabled: c || 0 == i.trim().length,
          },
          s.createElement(
            "p",
            null,
            "Cloning the OptIn Definition will create a copy of ",
            t.pageid,
            " with the new name you have specified. The OptIn definition will be saved as a draft and return to a more initial state. Please review text and dates to ensure they aren't out of date.  Also make sure the stats are refresh before you clone as those are used. Cloning will also do the following:",
          ),
          s.createElement(
            "p",
            null,
            "We depends on the latest stats to clone invites/prunes. Stats were last refreshed at:",
            n?.time_updated
              ? s.createElement(h.H6, {
                  dateAndTime: n.time_updated,
                  bSingleLine: !0,
                })
              : "",
          ),
          s.createElement(
            "ol",
            null,
            s.createElement(
              "li",
              null,
              "Only keep the English text. We expect there to be dates embed and it will require new localization",
            ),
            s.createElement(
              "li",
              null,
              "Will keep the full localization for the dynamic sections (questions asked to optin participants)",
            ),
            s.createElement(
              "li",
              null,
              "Will NOT copy over the email settings",
            ),
            s.createElement("li", null, "Will copy the prune app list"),
            s.createElement(
              "li",
              null,
              "Will convert Opted In, Opted Out and Invited to: Open Invite Status",
            ),
            s.createElement("li", null, "Will NOT copy over the featured apps"),
          ),
          s.createElement(m.II, {
            type: "string",
            label:
              (l ? "Choose Existing page id" : "Choose New page id") +
              ', exclude "sale_"',
            tooltip:
              'Page always start with "sale_" so exclude that in your input. It will be appended before we call the server for the clone operation.',
            value: i,
            onChange: (e) => r(e?.currentTarget?.value || ""),
            placeholder: "for example: builders_2023",
            disabled: c,
          }),
          s.createElement(m.ji, {
            checked: l,
            onChange: o,
            label: "Only Run Invitation/Pruning Cloning",
            tooltip:
              "If enabled then make sure the name entered abve is an existing opt-in which we want to copy the pruning and invitation data over to",
            disabled: c,
          }),
          Boolean(c && !u && !_) &&
            s.createElement(P.V, {
              string: "Cloning",
              position: "center",
              size: "medium",
            }),
          Boolean(_) &&
            s.createElement("div", { className: k.ErrorStylesBackground }, _),
          Boolean(u) &&
            s.createElement("div", null, "Success! You can close this Dialog."),
        );
      }
      var R = a(31846);
      function G(e) {
        const t = l.v.Get(),
          a = (0, s.useRef)(null),
          n = C().CancelToken.source(),
          [i, r] = (0, s.useState)(""),
          o = () => {
            a.current && a.current("new create requested."),
              e.closeModal && e.closeModal();
          };
        return s.createElement(
          w.RG,
          { onCancel: o },
          s.createElement(m.h4, null, "Create a new Opt In Page"),
          s.createElement(
            m.uT,
            null,
            s.createElement(
              "span",
              null,
              "Please provide a unique ID for the page. Do not start with the 'sale_' prefix, this will automatically be added for you.",
            ),
            s.createElement("br", null),
            s.createElement(
              "div",
              null,
              s.createElement(
                "span",
                { style: { width: "100px", display: "inline-block" } },
                "Sale ID",
              ),
              s.createElement("input", {
                type: "text",
                onChange: function (e) {
                  r(e.target.value);
                },
              }),
              s.createElement("br", null),
              s.createElement("p", null),
              s.createElement(
                "span",
                { style: { fontStyle: "italic" } },
                "The Sale ID is used in the URL for the page. Only letters, numbers, and underscores are allowed.",
              ),
              s.createElement("p", null),
              s.createElement("span", {
                id: "resultmsg",
                style: { color: "red" },
              }),
            ),
          ),
          s.createElement(
            m.$_,
            null,
            s.createElement(m.o9, {
              onCancel: o,
              onOK: async function () {
                let e;
                if (
                  (a.current && a.current("new create requested."),
                  await (e = t.CreatePage(i, n.token)),
                  t.GetCreatedPageId())
                )
                  window.location.href =
                    f.De.PARTNER_BASE_URL +
                    "optin/admin/edit/" +
                    t.GetCreatedPageId();
                else {
                  let e = document.getElementById("resultmsg");
                  t.GetCreatePageErrMsg()
                    ? (e.innerText = t.GetCreatePageErrMsg())
                    : (e.innerText =
                        "Error occured when attempting to create page.  Please try again.");
                }
              },
              strOKText: (0, R.Xx)("#Button_Continue"),
            }),
          ),
        );
      }
      var x = a(74585),
        L = a.n(x),
        B = a(85556),
        M = a(20128),
        O = a(54842),
        F = a(42718),
        U = a(79545),
        H = a(77581),
        V = a(16861),
        X = a(2041);
      class j {
        m_steamInterface = null;
        m_mapOptInToEmailDef = new Map();
        m_mapEmailToReach = new Map();
        m_mapOptInToEmailDefLoadFailure = new Map();
        BHasReachEstimateLoaded(e) {
          return this.m_mapEmailToReach.has(e);
        }
        GetReachEstimate(e) {
          return this.m_mapEmailToReach.get(e);
        }
        BHasEmailDefLoadFailure(e) {
          return this.m_mapOptInToEmailDefLoadFailure.get(e);
        }
        async FetchPartnerOptInEmailDetails(e) {
          const t = U.gA.Init(V.pA);
          t.Body().set_email_def_id(e);
          const a = await V.u2.GetOptInEmailTracking(
            this.m_steamInterface.GetServiceTransport(),
            t,
          );
          return a
            .Body()
            ?.results()
            ?.map((e) => e.toObject());
        }
        async FetchOptInEmailDefAndStats(e) {
          const t = U.gA.Init(V.vc);
          t.Body().set_opt_in_name(e);
          return (
            await V.u2.GetPartnerAppOptInEmailDefAndStats(
              this.m_steamInterface.GetServiceTransport(),
              t,
            )
          )
            .Body()
            .defs()
            .map((e) => e.toObject());
        }
        async LoadEstimateEmailReach(e) {
          const t = U.gA.Init(V.XB);
          t.Body().set_email_def_id(e);
          let a = 2;
          try {
            const n = await V.u2.GetEstimatePartnerAppOptInEmail(
              this.m_steamInterface.GetServiceTransport(),
              t,
            );
            (a = n.GetEResult()),
              1 == a
                ? this.m_mapEmailToReach.set(
                    e,
                    n.Body().stats()?.toObject() || {},
                  )
                : console.error(
                    "COptInEmailAdmin.EstimateEmailReach: Create request failed:",
                    a,
                    n,
                    t,
                  );
          } catch (e) {
            const t = (0, T.l)(e);
            console.error(
              "COptInEmailAdmin.EstimateEmailReach: caught error " +
                t.strErrorMsg,
              t,
            );
          }
          return a;
        }
        ComputeSettingFlags(e) {
          let t = 0;
          return (
            e.BHasSectionType(M.rg.k_AssetKit) && (t |= 1),
            e.BHasSectionType(M.rg.k_DemoPressPreview) && (t |= 2),
            e.BHasSectionType(M.rg.k_ScheduleLiveStream) && (t |= 4),
            e.BHasSectionType(M.rg.k_CancelSection) && (t |= 8),
            e.BHasSectionType(M.rg.k_DemoNotReady) && (t |= 16),
            e.BHasSectionType(M.rg.k_ReviewCategorization) && (t |= 128),
            e.BHasSectionType(M.rg.k_DemoReview) && (t |= 256),
            e.BHasSectionType(M.rg.k_PressPreviewDetails) && (t |= 512),
            e.BHasSectionType(M.rg.k_StatsSummary) && (t |= 1024),
            e.BHasSectionType(M.rg.k_SurveyButton) && (t |= 2048),
            e.BHasSectionType(M.rg.k_DemoLaunch) && (t |= 4096),
            e.BHasSectionType(M.rg.k_CallForRegistration) && (t |= 8192),
            e.BHasSectionType(M.rg.k_SteamAwardsCategories) && (t |= 16384),
            t
          );
        }
        async CreateOptInEmail(e) {
          const t = U.gA.Init(V.xQ);
          t.Body().set_opt_in_name(r.On.Get().GetFullName()),
            t.Body().set_targeting_flag("" + (e.GetEmailTargeting() || 1)),
            t.Body().set_settings_flag("" + this.ComputeSettingFlags(e)),
            t.Body().set_email_templates(e.GetUniqueID()),
            t.Body().set_start_rtime(0),
            t.Body().set_end_rtime(0);
          let a = 2;
          try {
            const n = await V.u2.CreatePartnerAppOptInEmails(
              this.m_steamInterface.GetServiceTransport(),
              t,
            );
            if (((a = n.GetEResult()), 1 == a)) {
              const t = n.Body().email_def_id();
              e.SetServerEmailDefID(t);
            } else
              console.error(
                "COptInEmailAdmin.CreateOptInEmail: Create request failed:",
                a,
                n,
                t,
              );
          } catch (e) {
            const t = (0, T.l)(e);
            console.error(
              "COptInEmailAdmin.CreateOptInEmail: caught error " +
                t.strErrorMsg,
              t,
            );
          }
          return W(e.GetOwningOptInName()), a;
        }
        async UpdateOptInEmailMetaData(e, t) {
          const a = U.gA.Init(V.Rg);
          a.Body().set_email_def_id(e.GetServerEmailDefID()),
            a.Body().set_targeting_flag("" + (e.GetEmailTargeting() || 1)),
            a.Body().set_settings_flag("" + this.ComputeSettingFlags(e)),
            a.Body().set_email_templates(e.GetUniqueID()),
            a.Body().set_start_rtime(t?.rtStartAutomaticEmailType || 0),
            a.Body().set_end_rtime(t?.rtEndAutomaticEmail || 0),
            a.Body().set_reviewed(t?.bReviewed || !1);
          let n = 2;
          try {
            const e = await V.u2.UpdatePartnerAppOptInEmails(
              this.m_steamInterface.GetServiceTransport(),
              a,
            );
            (n = e.GetEResult()),
              1 != n &&
                console.error(
                  "COptInEmailAdmin.UpdateOptInEmailMetaData: Update request failed:",
                  n,
                  e,
                  a,
                );
          } catch (e) {
            const t = (0, T.l)(e);
            console.error(
              "COptInEmailAdmin.UpdateOptInEmailMetaData: caught error " +
                t.strErrorMsg,
              t,
            );
          }
          return W(e.GetOwningOptInName()), n;
        }
        async SendManualEmail(e) {
          const t = U.gA.Init(V.ik);
          t.Body().set_email_def_id(e.GetServerEmailDefID());
          let a = 2,
            n = null;
          try {
            const e = await V.u2.SendPartnerOptInEmailAndWait(
              this.m_steamInterface.GetServiceTransport(),
              t,
            );
            (a = e.GetEResult()),
              1 == a
                ? (n = e.Body().results().toObject())
                : console.error(
                    "COptInEmailAdmin.SendManualEmail: Create request failed:",
                    a,
                    e,
                    t,
                  );
          } catch (e) {
            const t = (0, T.l)(e);
            console.error(
              "COptInEmailAdmin.SendManualEmail: caught error " + t.strErrorMsg,
              t,
            );
          }
          return W(e.GetOwningOptInName()), { eResult: a, stats: n };
        }
        async TestFireEmailToSelf(e, t = 220) {
          const a = U.gA.Init(V.XD);
          a.Body().set_email_def_id(e.GetServerEmailDefID()),
            a.Body().set_appid(t);
          let n = 2;
          try {
            const e = await V.u2.TestFirePartnerAppOptInEmail(
              this.m_steamInterface.GetServiceTransport(),
              a,
            );
            (n = e.GetEResult()),
              1 !== n &&
                console.error(
                  "COptInEmailAdmin.TestFireEmailToSelf: Create request failed:",
                  n,
                  e,
                  a,
                );
          } catch (e) {
            const t = (0, T.l)(e);
            console.error(
              "COptInEmailAdmin.TestFireEmailToSelf: caught error " +
                t.strErrorMsg,
              t,
            );
          }
          return n;
        }
        static s_Singleton;
        static Get() {
          return (
            j.s_Singleton ||
              ((j.s_Singleton = new j()),
              ("dev" != f.De.WEB_UNIVERSE && "beta" != f.De.WEB_UNIVERSE) ||
                (window.g_OptInEmailAdminStore = j.s_Singleton),
              j.s_Singleton.Init()),
            j.s_Singleton
          );
        }
        constructor() {
          (0, O.rC)(this);
        }
        Init() {
          const e = (0, f.kQ)("optin_webapi_token", "application_config");
          e
            ? (this.m_steamInterface = new H.J(f.De.WEBAPI_BASE_URL, e))
            : console.error("COptInEmailAdmin missing API token");
        }
      }
      function q(e) {
        const t = (0, F.useQuery)(
          ["OptInEamilDefAndStats", e],
          async () => await j.Get().FetchOptInEmailDefAndStats(e),
          { staleTime: 3e5 },
        );
        return { bLoading: t.isLoading, rgEmailDefAndStats: t.data };
      }
      function W(e) {
        X.U.invalidateQueries(["OptInEamilDefAndStats", e]);
      }
      function z(e) {
        const { list: t, bActiveOptIn: a } = e,
          n = (0, s.useMemo)(() => t.map((e) => e.pageid), [t]),
          i = (function (e) {
            const t = e.map((e) => q(e));
            if (t.some((e) => e.bLoading)) return null;
            const a = new Map();
            return e.forEach((e, n) => a.set(e, t[n].rgEmailDefAndStats)), a;
          })(n);
        return i
          ? s.createElement(Z, {
              rgStrOptInName: n,
              mapOptInToDefs: i,
              bActiveOptIn: a,
            })
          : s.createElement(P.V, {
              size: "medium",
              string: (0, R.Xx)("#Loading"),
              position: "center",
            });
      }
      function Z(e) {
        const { rgStrOptInName: t, mapOptInToDefs: a, bActiveOptIn: n } = e,
          i = (0, s.useMemo)(() => {
            const e = new Map();
            return (
              t.forEach((t) => {
                a.get(t).forEach((a) => e.set(a.email_def_id, t));
              }),
              e
            );
          }, [a, t]),
          [r, l, o] = (0, s.useMemo)(() => {
            const e = [],
              n = [],
              i = [];
            return (
              t.forEach((t) => {
                a.get(t).forEach((t) => {
                  t.reviewed
                    ? e.push(t)
                    : t.completed || t.aborted || t.deleted
                      ? n.push(t)
                      : i.push(t);
                });
              }),
              e.sort((e, t) => e.start_rtime - t.start_rtime),
              n.sort((e, t) => e.start_rtime - t.start_rtime),
              i.sort((e, t) => e.start_rtime - t.start_rtime),
              [e, n, i]
            );
          }, [a, t]);
        return s.createElement(
          "div",
          null,
          s.createElement(
            "div",
            null,
            "There are ",
            Array.from(i.keys()).length,
            " ",
            n ? "active " : "archived ",
            "Partner OptIns with ",
            r.length + o.length + l.length,
            " emails past the draft stage",
          ),
          s.createElement("h3", null, "Staged Emails"),
          Boolean(o.length > 0)
            ? o.map((e) =>
                s.createElement(K, {
                  key: e.email_def_id,
                  serverDef: e,
                  mapEmailDefIDToStrOptInName: i,
                }),
              )
            : s.createElement("span", null, "No Emails Pending Review"),
          s.createElement("h3", null, "Pending Review Emails"),
          Boolean(l.length > 0)
            ? l.map((e) =>
                s.createElement(K, {
                  key: e.email_def_id,
                  serverDef: e,
                  mapEmailDefIDToStrOptInName: i,
                }),
              )
            : s.createElement("span", null, "No Emails Pending Review"),
          s.createElement("h3", null, "Completed"),
          r.length,
        );
      }
      function K(e) {
        const { serverDef: t, mapEmailDefIDToStrOptInName: a } = e;
        return s.createElement("div", null, t.email_def_id);
      }
      (0, B.gn)([O.LO], j.prototype, "m_mapOptInToEmailDef", void 0),
        (0, B.gn)([O.aD], j.prototype, "LoadEstimateEmailReach", null),
        (0, B.gn)([O.aD], j.prototype, "CreateOptInEmail", null),
        (0, B.gn)([O.aD], j.prototype, "UpdateOptInEmailMetaData", null),
        (0, B.gn)([O.aD], j.prototype, "SendManualEmail", null),
        (0, B.gn)([O.aD], j.prototype, "TestFireEmailToSelf", null),
        (0, B.gn)([O.aD], j.prototype, "Init", null);
      const Q = (e) => {
        (0, s.useEffect)(() => {
          l.v.Get(), r.On.Get().Reset(null, null);
        }, []);
        const [t, a] = (0, u.Ar)("tab", "active"),
          n = (e) => a(e.key),
          i = [
            {
              name: `Active Opt-In Events (${l.v.Get().GetActiveOptIn()?.length || 0})`,
              key: "active",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(Y, {
                  list: l.v.Get().GetActiveOptIn(),
                  stats: l.v.Get().GetOptInStats(),
                  bActiveOptIn: !0,
                }),
              ),
              onClick: n,
            },
            {
              name: `Archived Opt-In Events (${l.v.Get().GetArchivedOptIn()?.length || 0})`,
              key: "archive",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(Y, {
                  list: l.v.Get().GetArchivedOptIn(),
                  stats: null,
                  bReverseOrder: !0,
                }),
              ),
              onClick: n,
            },
            {
              name: "Active Opt-In Email",
              key: "activeemail",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(
                  "div",
                  null,
                  "TODO: In development mode; not ready for prime time.",
                ),
                s.createElement(z, {
                  list: l.v.Get().GetActiveOptIn(),
                  bActiveOptIn: !0,
                }),
              ),
              onClick: n,
            },
          ];
        return s.createElement(
          d.SV,
          null,
          s.createElement(
            "div",
            { className: L().DashboardCtn },
            s.createElement(
              "h1",
              null,
              "Opt-In Admin Dashboard",
              s.createElement(
                "button",
                {
                  className: (0, v.Z)(_().Button),
                  style: { float: "right", marginRight: "16px" },
                  onClick: (e) =>
                    (0, S.b8)(
                      e,
                      "https://confluence.valve.org/display/STEAM/Setting+up+an+opt-in+event",
                    ),
                },
                "Help",
              ),
              s.createElement(
                "button",
                {
                  className: (0, v.Z)(_().Button),
                  style: { float: "right", marginRight: "16px" },
                  onClick: (e) => {
                    (0, g.AM)(s.createElement(G, null), (0, D.RA)(e));
                  },
                },
                "Create Opt-In Page",
              ),
            ),
            s.createElement("hr", null),
            s.createElement(
              "p",
              null,
              "This shows all of the active and past opt-in definitions we have setup. Definition drives both the eligibility of the app that are included and also describe the content we show partners on their specific opt-in page.",
            ),
            s.createElement(E.n, { tabs: i, startingTab: t }),
          ),
        );
      };
      function Y(e) {
        const { bActiveOptIn: t, stats: a, list: n, bReverseOrder: i } = e,
          [r, l] = (0, u.Ar)("query", ""),
          o = (0, s.useMemo)(() => {
            const e = r.trim();
            return n
              .sort((e, t) =>
                i
                  ? e.sale_optin_enabled == t.sale_optin_enabled
                    ? t.event_start_date - e.event_start_date
                    : -1
                  : e.sale_optin_enabled == t.sale_optin_enabled
                    ? e.event_start_date - t.event_start_date
                    : e.sale_optin_enabled
                      ? -1
                      : 1,
              )
              .filter(
                (t) =>
                  0 == e.length ||
                  t.pageid.toLocaleLowerCase().includes(e) ||
                  t.opt_in_registration_title?.english
                    ?.toLocaleLowerCase()
                    .includes(e) ||
                  t.event_title?.english?.toLocaleLowerCase().includes(e),
              );
          }, [i, n, r]);
        return s.createElement(
          "div",
          null,
          s.createElement(m.II, {
            type: "string",
            value: r,
            onChange: (e) => l(e.currentTarget.value.toLocaleLowerCase()),
            label: "Filter",
            tooltip:
              "Filters the list to be those that contain the letters you typed exactly (case insenstive) on the page id or name",
            placeholder: "type here...",
          }),
          o.map((e) =>
            s.createElement(J, {
              key: e.pageid,
              def: e,
              stats: a,
              bActiveOptIn: t,
            }),
          ),
        );
      }
      function J(e) {
        const { def: t, stats: a, bActiveOptIn: n } = e,
          i = l.v.Get().BHasUnpublishedChagnes(t.pageid),
          r = a?.[t.pageid]?.time_updated || 0,
          d = c.JW.GetTimeNowWithOverride(),
          u = t.event_end_date < d,
          p = t.sale_optin_enabled && !u,
          E = t.event_title?.english || "No Name Assigned";
        return s.createElement(
          "div",
          {
            key: t.pageid,
            className: (0, v.Z)(
              L().OptInAdminRow,
              b().TileContainer,
              Boolean(p) ? L().OptinEnabled : "",
            ),
          },
          s.createElement(
            "div",
            { className: b().EventNameCtn },
            s.createElement(
              "div",
              { className: b().EventName },
              Boolean(E) && E,
              " ",
              s.createElement("span", null, "(", t.pageid, ")"),
            ),
            s.createElement(
              "div",
              { className: b().DatesCtn },
              s.createElement(
                "span",
                { className: b().DateAndTime },
                s.createElement(h.H6, {
                  dateAndTime: t.event_start_date,
                  bSingleLine: !0,
                  bOnlyDate: !0,
                }),
              ),
              " ",
              s.createElement(
                "span",
                { className: b().DateAndTime },
                "To ",
                s.createElement(h.H6, {
                  dateAndTime: t.event_end_date,
                  bSingleLine: !0,
                  bOnlyDate: !0,
                }),
              ),
            ),
          ),
          s.createElement(
            "div",
            { className: b().EventDetailsCtn },
            s.createElement(
              "div",
              { className: L().StatsCtn },
              s.createElement(
                "div",
                { className: b().TopStatsCtn },
                Boolean(a?.[t.pageid]?.count_eligible) &&
                  s.createElement(
                    "div",
                    { className: b().FeaturedApps },
                    s.createElement(
                      "div",
                      { className: b().BigNumber },
                      a[t.pageid].count_eligible.toLocaleString(),
                    ),
                    s.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Number of apps eligible based on the criteria set",
                        className: _().HelperTooltip,
                      },
                      "Eligible",
                    ),
                  ),
                Boolean(a?.[t.pageid]?.count_invited) &&
                  s.createElement(
                    "div",
                    { className: b().FeaturedApps },
                    s.createElement(
                      "div",
                      { className: b().BigNumber },
                      a[t.pageid].count_invited.toLocaleString(),
                    ),
                    s.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Number of apps that have an open invitation and have not yet acted on it.",
                        className: _().HelperTooltip,
                      },
                      "Open Invitation",
                    ),
                  ),
                Boolean(a?.[t.pageid]) &&
                  s.createElement(
                    "div",
                    { className: b().FeaturedApps },
                    s.createElement(
                      "div",
                      { className: (0, v.Z)(b().BigNumber, b().Highlight) },
                      a[t.pageid].count_opted_in.toLocaleString(),
                    ),
                    s.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Number of apps that have selected to opt in for this event",
                        className: _().HelperTooltip,
                      },
                      "Opted In (",
                      s.createElement(
                        "a",
                        {
                          href:
                            f.De.PARTNER_BASE_URL +
                            "optin/admin/edit/" +
                            t.pageid +
                            "?tab=manage",
                          className: (0, v.Z)(b().BrowseLink),
                        },
                        "Browse",
                      ),
                      ")",
                    ),
                  ),
                Boolean(a?.[t.pageid]) &&
                  s.createElement(
                    "div",
                    { className: b().FeaturedApps },
                    s.createElement(
                      "div",
                      { className: b().BigNumber },
                      a[t.pageid].count_opted_out.toLocaleString(),
                    ),
                    s.createElement(
                      "div",
                      { className: L().StatRow },
                      "Opted Out",
                    ),
                  ),
                Boolean(a?.[t.pageid]?.count_featured) &&
                  s.createElement(
                    "div",
                    { className: b().FeaturedApps },
                    s.createElement(
                      "div",
                      { className: b().BigNumber },
                      a[t.pageid].count_featured.toLocaleString(),
                    ),
                    s.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Apps marked with additional featuring.",
                        className: _().HelperTooltip,
                      },
                      "Featured",
                    ),
                  ),
              ),
              s.createElement(
                "div",
                { className: b().StatusCtn },
                Boolean(a?.[t.pageid]) &&
                  s.createElement(
                    "div",
                    { className: L().StatRefresh },
                    "Stats refreshed:",
                    s.createElement(h.H6, { dateAndTime: r, bSingleLine: !0 }),
                  ),
                i &&
                  s.createElement(
                    "div",
                    { className: b().PendingChanges },
                    "Has Unpublished Changes",
                  ),
              ),
            ),
            s.createElement(
              "div",
              { className: (0, v.Z)(L().Button, L().ButtonCtn) },
              s.createElement(
                o.rU,
                {
                  to: jl.OptinAdminEdit(t.pageid),
                  className: (0, v.Z)(_().Button, _().Primary),
                },
                "Edit Opt-In Definition",
              ),
              Boolean(n) &&
                s.createElement(
                  "a",
                  {
                    href:
                      f.De.PARTNER_BASE_URL +
                      "optin" +
                      jl.OptInAppReview(t.pageid),
                    className: (0, v.Z)(_().Button),
                    target: "_blank",
                  },
                  "Open Opt-In Pruning Page",
                ),
              Boolean(!n) &&
                s.createElement(
                  o.rU,
                  {
                    to: jl.OptinAdminAnalysis(t.pageid),
                    className: (0, v.Z)(_().Button, _().Primary),
                  },
                  "Post OptIn Stats",
                ),
              s.createElement(
                m.zx,
                {
                  className: L().CloneButton,
                  onClick: (e) =>
                    (0, g.AM)(
                      s.createElement(N, { def: t, stats: a?.[t.pageid] }),
                      (0, D.RA)(e),
                    ),
                },
                "Clone",
              ),
            ),
          ),
        );
      }
      var $ = a(27605),
        ee = a(27910),
        te = a(4771),
        ae = a(77936),
        ne = a(65650),
        ie = a(45167),
        re = a(90604),
        le = a(34704),
        se = a(62613),
        oe = a(59728),
        ce = a(87225),
        me = a(84531),
        de = a(4176),
        ue = a.n(de),
        pe = a(56164);
      const _e = (0, $.Pi)((e) => {
          const t = r.On.Get(),
            a = t
              .GetEditableDynamicSections()
              .map((e, t) =>
                s.createElement(he, {
                  key: e.GetUniqueID(),
                  section: e,
                  dynamicSectionIndex: t,
                }),
              );
          return s.createElement(
            pe.ug,
            { title: "Optional Dynamic Sections", bStartMinimized: !1 },
            s.createElement("hr", null),
            s.createElement(
              "p",
              null,
              "Optional Section that can be used to collect additional data from users for their app prior to opting in. This data can be later used to help organize the content on the sales and will surface in the sale page editors.",
            ),
            a,
            s.createElement(
              "div",
              { className: me.AddSectionCtn },
              s.createElement(
                m.KM,
                { onClick: t.AddDynamicSection },
                "Add New Dynamic Section",
              ),
            ),
          );
        }),
        he = (0, $.Pi)((e) => {
          const { section: t, dynamicSectionIndex: a } = e,
            n = ne.U.Get().GetCurEditLanguage(),
            i = s.createRef(),
            r = t
              .GetLists()
              .map((e, a) =>
                s.createElement(Ee, {
                  key: t.GetUniqueID() + e.unique_id,
                  section: t,
                  listIndex: a,
                }),
              );
          return s.createElement(
            d.SV,
            null,
            s.createElement(
              "div",
              {
                className: (0, v.Z)({
                  [ue().Section]: !0,
                  [_().ValveOnlyBackground]: t.BIsValveOnlySection(),
                }),
              },
              s.createElement(ge, { section: t, dynamicSectionIndex: a }),
              s.createElement("div", null, "Section ID: ", t.GetUniqueID()),
              s.createElement(m.II, {
                type: "text",
                label: "Section Name",
                value: t.GetName(),
                onChange: (e) => t.SetName(e.target.value, n),
              }),
              s.createElement("div", null, "Section Description: (optional)"),
              s.createElement(re.R, {
                fnGetCurText: t.GetDescription,
                fnOnTextChange: (e) =>
                  t.SetDescription(e.currentTarget.value, n),
                fnSetText: t.SetDescriptionWithCurLang,
                strPlaceholder: "Enter Description Here",
                emoticonStore: ie.F,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: ue().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
              s.createElement(m.ji, {
                className: _().ValveOnlyBackground,
                label: "Valve Admin and Support Team Only",
                tooltip:
                  "Only showns to and changeable by Valve Admin and Support. Useful to markup and store a setting on the opt-in registration directly.",
                onChange: t.SetValveOnly,
                checked: t.BIsValveOnlySection(),
              }),
              s.createElement(m.ry, {
                rgOptions: [
                  { label: "Radio Buttons (single selection)", data: "radio" },
                  {
                    label: "Checkboxes (none or multi-selection)",
                    data: "checkbox",
                  },
                  {
                    label: "Dropdown (lots of options, allows type searching)",
                    data: "single_select",
                  },
                  {
                    label:
                      "Multi-Select Dropdown (lots of options, allows type searching)",
                    data: "multi_select",
                  },
                  { label: "Text (open ended answers)", data: "text_input" },
                ],
                selectedOption: t.GetInputStyle(),
                onChange: (e) => {
                  "text_input" === e.data &&
                  "text_input" !== t.GetInputStyle() &&
                  t.GetListCount() > 1
                    ? (0, g.AM)(
                        s.createElement(w.uH, {
                          strTitle: "Change to Text Input",
                          bDestructiveWarning: !0,
                          strDescription:
                            "Changing to text input is destructive, and will eliminate any previous values you have created for the lists. Are you sure?",
                          onOK: () => t.SetInputStyle(e.data),
                          onCancel: () =>
                            i?.current?.SetSelectedOption(t.GetInputStyle()),
                        }),
                        window,
                      )
                    : t.SetInputStyle(e.data);
                },
                label: "Input Style",
                dropDownControlRef: i,
              }),
              Boolean(
                "radio" == t.GetInputStyle() || "checkbox" == t.GetInputStyle(),
              ) &&
                s.createElement(m.DS, {
                  label: "Display as # of Column(s)",
                  showValue: !0,
                  min: 1,
                  max: 3,
                  value: t.GetColumnCount(),
                  onChange: (e) => t.SetColumnCount(e),
                  tooltip:
                    "The options to select will be displayed in this many columns to the users",
                }),
              r,
              Boolean("text_input" != t.GetInputStyle()) &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    m.zx,
                    {
                      disabled: t.GetListCount() < 2,
                      onClick: (e) => ye(e, t.GetModel()),
                    },
                    "Re-Order lists within this Section",
                  ),
                  s.createElement(
                    m.KM,
                    { onClick: t.AddOptionList },
                    "Add Another Option List within this Dynamic Section",
                  ),
                ),
            ),
          );
        }),
        ge = (0, $.Pi)((e) => {
          const t = r.On.Get(),
            { section: a, dynamicSectionIndex: n } = e;
          return s.createElement(
            "div",
            {
              className: (0, v.Z)({
                [me.Header]: !0,
                [_().ValveOnlyBackground]: a.BIsValveOnlySection(),
              }),
            },
            s.createElement(
              "span",
              null,
              a.BIsValveOnlySection() && "(VO) ",
              a.GetNameWithFallback(`Dynamic Section ${n}`),
            ),
            s.createElement(
              "div",
              null,
              s.createElement(
                m.zx,
                {
                  onClick: (e) => {
                    (0, g.AM)(
                      s.createElement(w.uH, {
                        onOK: () => {
                          t.DeleteDynamicSection(a.GetUniqueID());
                        },
                        strTitle: "Delete Dynamic Section?",
                        strDescription:
                          "Delete this section? This cannot be undone and any data will be lost.",
                        bDestructiveWarning: !0,
                      }),
                      (0, D.RA)(e),
                    );
                  },
                },
                s.createElement(se.pVO, null),
              ),
            ),
          );
        }),
        Ee = (0, $.Pi)((e) => {
          const { section: t, listIndex: a } = e;
          return "text_input" === t.GetInputStyle()
            ? s.createElement(
                "div",
                null,
                "Textarea will appear here for the users input.",
              )
            : s.createElement(Se, { section: t, listIndex: a });
        }),
        Se = (0, $.Pi)((e) => {
          const { section: t, listIndex: a } = e,
            n = t.GetListByIndex(a),
            i = ne.U.Get().GetCurEditLanguage();
          return s.createElement(
            "div",
            { id: t.GetUniqueID() + n.unique_id, className: me.optionList },
            s.createElement(m.II, {
              type: "text",
              label: "Name for this group of options",
              value: t.GetListTitle(a),
              onChange: (e) =>
                t.SetListTitleByListIndex(a, e.currentTarget.value, i),
            }),
            Boolean(0 == n.options.length)
              ? s.createElement("div", null, "No Options Added")
              : s.createElement(le.R, {
                  items: n.options.map((e, t) => ({
                    itemIndex: t,
                    listitem: e,
                  })),
                  onDelete: (e, n) => {
                    (0, g.AM)(
                      s.createElement(w.uH, {
                        bDestructiveWarning: !0,
                        strTitle: "Delete selected option",
                        strDescription:
                          "Are you sure you want to delete the following item?: " +
                          (0, te.Xj)(t.GetItemAtListAndIndex(a, e).text, i),
                        onOK: () => t.RemoveListItem(a, e),
                      }),
                      (0, D.RA)(n),
                    );
                  },
                  onEdit: (n, i) => {
                    (0, g.AM)(
                      s.createElement(ve, {
                        ...e,
                        itemIndex: n,
                        item: t.GetItemAtListAndIndex(a, n),
                      }),
                      (0, D.RA)(i),
                    );
                  },
                  onMove: (e, t) => {
                    (0, ce.hV)(n.options, e, t), r.On.Get().SetDirty(!0);
                  },
                  render: (e) => {
                    let t =
                      e.listitem.tooltip &&
                      (0, te.Xj)(e.listitem.tooltip, i, void 0);
                    return s.createElement(
                      oe.HP,
                      { toolTipContent: t },
                      (0, te.Xj)(e.listitem.text, i),
                      " ",
                      Boolean(t) && "(?)",
                    );
                  },
                }),
            s.createElement(
              m.zx,
              {
                onClick: (t) =>
                  (0, g.AM)(s.createElement(De, { ...e }), (0, D.RA)(t)),
              },
              "Add Option Item",
            ),
          );
        }),
        ve = (e) => {
          const [t, a] = (0, s.useState)(e.item.text),
            [n, i] = (0, s.useState)(e.item.tooltip),
            [r, l] = (0, s.useState)(ne.U.Get().GetCurEditLanguage());
          return s.createElement(
            w.uH,
            {
              strTitle: "Edit Item",
              strDescription: "Update the value and confirm to apply changes.",
              onOK: () => {
                e.section.UpdateListItemTextByKV(
                  e.listIndex,
                  e.itemIndex,
                  t,
                  n,
                ),
                  e.closeModal && e.closeModal();
              },
              onCancel: e.closeModal,
            },
            s.createElement(
              "div",
              null,
              s.createElement(ee.uW, {
                selectedLang: r,
                fnLangHasData: (e) => {
                  let a = (0, ae.j_)(e);
                  return (
                    (t[a] && t[a].trim().length > 0) ||
                    (n && n[a] && n[a].trim().length > 0)
                  );
                },
                fnOnLanguageChanged: l,
              }),
              s.createElement(m.II, {
                type: "text",
                placeholder: "Enter Text",
                label: "Item Name",
                value: (0, te.pM)(t, r, ""),
                onChange: (e) => {
                  let n = JSON.parse(JSON.stringify(t));
                  (n[(0, ae.j_)(r)] = e.target.value), a(n);
                },
              }),
              s.createElement(m.II, {
                type: "text",
                placeholder: "Enter Tooltip",
                label: "Tooltip (optional)",
                value: (0, te.pM)(n, r, ""),
                onChange: (e) => {
                  let t = n ? JSON.parse(JSON.stringify(n)) : {};
                  (t[(0, ae.j_)(r)] = e.target.value), i(t);
                },
              }),
            ),
          );
        },
        De = (e) => {
          const [t, a] = (0, s.useState)(""),
            [n, i] = (0, s.useState)(""),
            r = ne.U.Get().GetCurEditLanguage();
          return s.createElement(
            w.uH,
            {
              strTitle: "Add Option Item",
              strDescription: `Add items for the user to select from. Adding for the language: ${(0, ae.j_)(r)}`,
              onOK: () => {
                e.section.AddItemToListByIndex(e.listIndex, t, r, n),
                  e.closeModal && e.closeModal();
              },
              bOKDisabled: 0 == t.trim().length,
              onCancel: e.closeModal,
            },
            s.createElement(
              "div",
              null,
              s.createElement(m.II, {
                type: "text",
                value: t,
                onChange: (e) => a(e.currentTarget.value),
                placeholder: "Enter name (requred)",
                label: "Item Name",
                focusOnMount: !0,
              }),
              s.createElement(m.II, {
                type: "text",
                value: n,
                onChange: (e) => i(e.currentTarget.value),
                placeholder: "Enter Tooltip (optional)",
                label: "Tooltip",
              }),
            ),
          );
        },
        fe = (e) => {
          const t = r.On.Get(),
            a = ne.U.Get().GetCurEditLanguage();
          (0, g.AM)(
            s.createElement(
              w.uH,
              {
                strTitle: "Re-Order Dynamic Sections",
                bDestructiveWarning: !0,
                strDescription:
                  "Reorders the dynamic section. Changes are immediately applied but don't reflect in the editor. Save and reload the page (its a bug, I will fix is soon!)",
              },
              s.createElement(
                "div",
                null,
                Boolean(
                  t.GetModel().dynamic_sections &&
                    t.GetModel().dynamic_sections.length > 0,
                )
                  ? s.createElement(le.R, {
                      items: t.GetModel().dynamic_sections,
                      render: (e) => (0, te.Xj)(e.name, a, "Unnamed Section"),
                      onReorder: () => t.SetDirty(!0),
                    })
                  : s.createElement(
                      "p",
                      null,
                      "No dynamic sections to re-order",
                    ),
              ),
            ),
            (0, D.RA)(e),
          );
        },
        ye = (e, t) => {
          const a = r.On.Get(),
            n = ne.U.Get().GetCurEditLanguage();
          (0, g.AM)(
            s.createElement(
              w.uH,
              {
                strTitle: "Re-Order Lists within a Sections",
                bDestructiveWarning: !0,
                strDescription:
                  "Reorders the list within a section. Changes are immediately applied but don't reflect in the editor. Save and reload the page (its a bug, I will fix is soon!)",
              },
              s.createElement(
                "div",
                null,
                Boolean(t.lists && t.lists.length > 0)
                  ? s.createElement(le.R, {
                      items: t.lists,
                      render: (e) =>
                        (0, te.Xj)(e.option_title, n, "Untitled List"),
                      onReorder: () => a.SetDirty(!0),
                    })
                  : s.createElement("p", null, "No list to re-order"),
              ),
            ),
            (0, D.RA)(e),
          );
        };
      var be = a(71630);
      const Ie = (e) => {
        const t = r.On.Get(),
          a = JSON.parse(JSON.stringify(t.GetModel() || [])),
          n = JSON.parse(JSON.stringify(a.emails || []));
        a.emails = [];
        const i = [
          {
            name: "OptIn Event Body Raw",
            key: "eventbody",
            status: "",
            statusType: "success",
            contents: s.createElement(
              d.SV,
              null,
              s.createElement(be.G, { data: a }),
            ),
          },
        ];
        return (
          n.forEach((e, t) => {
            i.push({
              name: e.internal_name,
              key: "" + (e.email_def_id || t),
              status: "",
              statusType: "success",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(be.G, { data: e }),
              ),
            });
          }),
          console.log(n),
          s.createElement(
            "div",
            null,
            s.createElement("h1", null, "Data:"),
            s.createElement("div", null, "PageID: ", t.GetName()),
            s.createElement(
              "div",
              null,
              "Event Start Time: ",
              t.GetEventStartTime(),
              " -",
              Boolean(0 != t.GetEventStartTime()) &&
                s.createElement(h.H6, {
                  dateAndTime: t.GetEventStartTime(),
                  bSingleLine: !0,
                }),
            ),
            s.createElement(
              "div",
              null,
              "Event End Time: ",
              t.GetEventEndTime(),
              " -",
              Boolean(0 != t.GetEventEndTime()) &&
                s.createElement(h.H6, {
                  dateAndTime: t.GetEventEndTime(),
                  bSingleLine: !0,
                }),
            ),
            s.createElement(
              "div",
              null,
              "Trailer Drop Date: ",
              t.GetEventTrailerDropDate(),
              " -",
              Boolean(0 != t.GetEventTrailerDropDate()) &&
                s.createElement(h.H6, {
                  dateAndTime: t.GetEventTrailerDropDate(),
                  bSingleLine: !0,
                }),
            ),
            s.createElement(E.n, { tabs: i, bDisableRouting: !0 }),
            s.createElement("br", null),
            s.createElement("br", null),
            s.createElement("br", null),
            s.createElement("br", null),
            s.createElement("br", null),
            s.createElement("br", null),
            s.createElement("br", null),
            s.createElement("br", null),
          )
        );
      };
      var Ce = a(30750),
        ke = a(15459),
        Ae = a(77681),
        we = a.n(Ae),
        Pe = a(92012),
        Te = a(38071),
        Ne = a(98330),
        Re = a(9466),
        Ge = a(62210),
        xe = a(65255),
        Le = a(8897),
        Be = a(4942);
      function Me(e) {
        const t = r.On.Get(),
          a = (0, s.useMemo)(() => ["localized_optin_banner"], []),
          n = (0, s.useMemo)(
            () => [Te.IN.k_ESteamRealmGlobal, Te.IN.k_ESteamRealmChina],
            [],
          ),
          i = (0, s.useCallback)(
            (e, a, n, i, r) => {
              (0, Ge.X)(
                null != n && n >= 0 && n < 31,
                "Unexpected value for elang: " + n,
              ),
                t.SetLocalizedOptInBanner(n, e + (0, Ne.UQ)(i));
            },
            [t],
          );
        return s.createElement(
          "div",
          { className: ue().Section },
          s.createElement(
            "h3",
            null,
            "Localized Branding Artwork: ",
            s.createElement("span", null, "(1000 x 150)"),
          ),
          s.createElement(
            "p",
            null,
            "Branding artwork we will show to partners on any optin page",
          ),
          s.createElement(Re.j, {
            rgSupportArtwork: a,
            rgRealmList: n,
            strUploadAjaxURL: `${xe.De.PARTNER_BASE_URL}optin/ajaxuploadasset/${t.GetOptInPageID()}`,
            fnOnUploadSuccess: i,
          }),
          s.createElement(d.SV, null, s.createElement(Oe, null)),
        );
      }
      function Oe(e) {
        const t = r.On.Get(),
          [a] = (0, Ce.SZ)(() => [
            Object.keys(t.GetAllLocalizedOptInBanner())
              .sort()
              .map((e) => (0, ae.jM)(e)),
          ]),
          n = (0, s.useCallback)(
            (e) => {
              const a = t.GetLocalizedOptInBanner(e);
              return a ? (0, Be.Ip)(t.GetOptInPageID(), e, a) : null;
            },
            [t],
          );
        return s.createElement(Le.V, {
          rgAssetLangs: a,
          fnGetAssetUrl: n,
          fnDeletAssetLang: t.DeleteLocalizedOptInBanner,
          imageClassname: we().BannerPreview,
        });
      }
      var Fe = a(16997);
      class Ue {
        m_steamInterface = null;
        async ChangeAppsAdditionalFeaturingState(e, t, a) {
          const n = U.gA.Init(V.rf),
            i = new Set(t.filter(Boolean) || []);
          if (0 == i.size || !e) return 8;
          n.Body().set_appids(Array.from(i)),
            n.Body().set_opt_in_name(e),
            n.Body().set_additional_featuring(a);
          return (
            await V.u2.SetFeaturingOnPartnerAppOptIn(
              this.m_steamInterface.GetServiceTransport(),
              n,
            )
          ).GetEResult();
        }
        static s_Singleton;
        static Get() {
          return (
            Ue.s_Singleton ||
              ((Ue.s_Singleton = new Ue()),
              ("dev" != f.De.WEB_UNIVERSE && "beta" != f.De.WEB_UNIVERSE) ||
                (window.g_OptInAdminAdditionalFeaturingStore = Ue.s_Singleton),
              Ue.s_Singleton.Init()),
            Ue.s_Singleton
          );
        }
        constructor() {
          (0, O.rC)(this);
        }
        Init() {
          const e = (0, f.kQ)("optin_webapi_token", "application_config");
          e
            ? (this.m_steamInterface = new H.J(f.De.WEBAPI_BASE_URL, e))
            : console.error(
                "COptInAdminAdditionalFeaturingStore missing API token",
              );
        }
      }
      (0, B.gn)(
        [Fe.a],
        Ue.prototype,
        "ChangeAppsAdditionalFeaturingState",
        null,
      ),
        (0, B.gn)([O.aD], Ue.prototype, "Init", null);
      var He = a(83743);
      function Ve(e) {
        const {
            strTitle: t,
            strDescription: a,
            closeModal: n,
            fnGenericAddAction: i,
          } = e,
          [l, o] = s.useState(""),
          c = (0, He.tx)(),
          m = r.On.Get(),
          d = (0, s.useCallback)(() => {
            c.fnSetLoading(!0);
            const e = l.replace(/\n/g, "|").split("|"),
              t = new Array();
            e.forEach((e) => {
              const a = Number.parseInt(e);
              a > 0 && t.push(a);
            }),
              t.length > 0
                ? i(t).then((e) => {
                    1 == e
                      ? (c.fnSetSuccess(!0),
                        c.fnSetStrSuccess(
                          `Successfully updated ${t.length} apps`,
                        ))
                      : (c.fnSetError(!0),
                        c.fnSetStrError(
                          `Failed to update ${t.length} apps error: ${e} `,
                        ));
                  })
                : (c.fnSetSuccess(!0),
                  c.fnSetStrSuccess("No new appids to invite"));
          }, [c, i, l]);
        if (c.bLoading)
          return s.createElement(He.NT, {
            state: c,
            strDialogTitle: t,
            closeModal: n,
          });
        const u = m?.GetEventEndTime() < Math.floor(Date.now() / 1e3);
        return s.createElement(
          w.uH,
          {
            strTitle: t,
            strDescription: a,
            onOK: d,
            bOKDisabled: 0 == l.trim().length || c.bLoading || u,
            onCancel: n,
          },
          s.createElement("br", null),
          s.createElement("br", null),
          s.createElement(
            "div",
            null,
            "Note: Remember after add all of the apps, go to 'Manage' Tab and 'Refresh Stats' to update our list",
          ),
          s.createElement("br", null),
          Boolean(u) &&
            s.createElement(
              "div",
              { className: A().WarningStylesWithIcon },
              "Opt-In is already ended on date ",
              (0, R.$1)(m?.GetEventEndTime()),
              ". We cannot change invite/prune list.",
            ),
          s.createElement("div", null, "Enter App IDs seperated by new lines:"),
          s.createElement("textarea", {
            cols: 120,
            rows: 10,
            onChange: (e) => o(e.currentTarget.value),
            value: l,
            autoFocus: !0,
            disabled: c.bLoading,
          }),
        );
      }
      function Xe(e) {
        const t = r.On.Get(),
          [a, n, i, l] = (0, Ce.SZ)(() => [
            t.BIsAdditionalFeaturingSectionEnabled(),
            t.BIsCollectTrailerPermissions(),
            t.BIsCollectDemoPermissions(),
            t.BIsCollectGameProfileIntent(),
          ]),
          [o, c] = (0, s.useState)(t.BHasCollectDemoDeadlineDate()),
          [d] = (0, Ce.SZ)(() => [t.GetEventStartTime()]);
        return s.createElement(
          pe.ug,
          { title: "Additional Featuring Section", bStartMinimized: !1 },
          s.createElement("hr", null),
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement("h3", null, "For Apps Marked As Featured"),
            s.createElement(
              "div",
              { className: ue().SectionDesc },
              "If eneabled, this allows us to collect additional information and permissions from apps who have additional featuring enabled on them. Additional featuring is done during the App Review (pruning) process prior to sending invitation. It can be added at anytime:",
            ),
            s.createElement("br", null),
            s.createElement(
              m.zx,
              {
                onClick: (e) =>
                  (0, g.AM)(
                    s.createElement(je, { strOptInName: t.GetOptInPageID() }),
                    (0, D.RA)(e),
                  ),
              },
              "Add Games to Featuring...",
            ),
            s.createElement(m.ji, {
              label: "Enable the Additional Featuring Section.",
              onChange: t.SetAdditionalFeaturingSectionEnabled,
              checked: a,
            }),
            s.createElement("hr", null),
            s.createElement(
              "div",
              {
                className: (0, v.Z)(
                  ue().IndentedSubSection,
                  a ? "" : ue().Disabled,
                ),
              },
              s.createElement(m.ji, {
                label: "Collect Trailer Permissions",
                tooltip:
                  "This request from them the use of their trailer in our events marketing material. Permitting us to edit the trailer for the purpose",
                onChange: t.SetCollectTrailerPermissions,
                checked: n,
              }),
              s.createElement(m.ji, {
                label: "Collect Demo Permissions",
                tooltip:
                  "This is useful for events like Next Fest. Requesting permission for us to optional feature by playing their demo during our event stream.",
                onChange: t.SetCollectDemoPermissions,
                checked: i,
              }),
              s.createElement(m.ji, {
                label: "Collect Game Profile Intent",
                tooltip:
                  "This lets the partner know that we are promoting game profile and are inviting them to submit one for the event. Note: Operational step, make sure to add game profile creation on the partner account",
                onChange: t.SetCollectGameProfileIntent,
                checked: l,
              }),
              o
                ? s.createElement(Pe.A, {
                    strDescription:
                      "Date by which partners have a submitted, reviewed and approved demo or discount",
                    nLatestTime: d,
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: t.GetCollectDemoDeadlineDate,
                    fnSetTimeToUpdate: t.SetCollectDemoDeadlineDate,
                    fnSetToNow: t.SetCollectDemoDeadlineDate,
                  })
                : s.createElement(m.ji, {
                    label: "Show a specific due date",
                    tooltip:
                      "Date by which partners have a submitted, reviewed and approved demo or discount",
                    onChange: c,
                    checked: o,
                  }),
            ),
          ),
        );
      }
      function je(e) {
        const { strOptInName: t } = e,
          { fnChangeAppAdditionalFeaturingState: a } = {
            fnChangeAppAdditionalFeaturingState:
              Ue.Get().ChangeAppsAdditionalFeaturingState,
          },
          n = (0, s.useCallback)(async (e) => a(t, e, !0), [a, t]);
        return s.createElement(Ve, {
          strTitle: "Additional App Featuring",
          strDescription:
            "Feature apps to that have already been invited or opted into the event, so that they may signed up for further featuring.",
          fnGenericAddAction: n,
          closeModal: e.closeModal,
        });
      }
      class qe {
        async UpdateAppInvitation(e, t, a, n, i, r) {
          let l = 1;
          try {
            const s = new FormData();
            if (a && (i || n))
              return (
                console.error(
                  "COptinAdminInvitationStore::UpdateAppInvitation Unexpected parameters",
                ),
                8
              );
            s.append("sessionid", f.De.SESSIONID),
              s.append("opt_in_name", e),
              t && s.append("appids", JSON.stringify(t)),
              s.append("add", a ? "1" : "0"),
              s.append("pending_review", i ? "1" : "0"),
              s.append("prune", n ? "1" : "0");
            const o = await C().post(
              f.De.PARTNER_BASE_URL + "optin/ajaxinviteapps",
              s,
              { withCredentials: !0, cancelToken: r?.token },
            );
            (200 == o?.status && 1 == o.data?.success) ||
              (console.log(
                `COptinAdminInvitationStore.InternalUpdatePartnerOrAppInvitation failed with status ${o?.status} eresult ${o?.data?.success} and msg ${o?.data?.msg}`,
              ),
              (l = o?.data?.success || 2));
          } catch (e) {
            const t = (0, T.l)(e);
            console.error(
              "COptinAdminInvitationStore.InternalUpdatePartnerOrAppInvitation failed add: " +
                t.strErrorMsg,
              t,
            ),
              (l = 2);
          }
          return l;
        }
        static s_Singleton;
        static Get() {
          return (
            qe.s_Singleton ||
              ((qe.s_Singleton = new qe()),
              ("dev" != f.De.WEB_UNIVERSE && "beta" != f.De.WEB_UNIVERSE) ||
                (window.g_OptInAdminInvitationStore = qe.s_Singleton)),
            qe.s_Singleton
          );
        }
        constructor() {}
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].opt_in_name &&
            Array.isArray(t[0].partner_ids) &&
            "number" == typeof t[0].partner_ids[0]
          );
        }
      }
      function We() {
        return { fnUpdateAppToInvitation: qe.Get().UpdateAppInvitation };
      }
      (0, B.gn)([Fe.a], qe.prototype, "UpdateAppInvitation", null);
      var ze = a(90807),
        Ze = a(35427),
        Ke = a(15690),
        Qe = a(80886),
        Ye = a(20417),
        Je = a(13116),
        $e = a.n(Je),
        et = a(28738),
        tt = a(82493);
      class at extends s.Component {
        state = {
          invite_token: "",
          input_search: "",
          friend_code_copied: !1,
          invite_copied: !1,
        };
        async componentDidMount() {
          const e = await C().get(
            f.De.COMMUNITY_BASE_URL + "invites/ajaxgetall",
            { params: { sessionid: f.De.SESSIONID } },
          );
          if (e && e.data && e.data.tokens) {
            const t = e.data.tokens.filter((e) => e.valid);
            t.length
              ? this.setState({ invite_token: t[0].invite_token })
              : this.OnCreateInviteLink();
          } else this.OnCreateInviteLink();
        }
        async OnCreateInviteLink() {
          const e = new FormData();
          e.append("sessionid", f.De.SESSIONID),
            e.append("steamid_user", f.L7.steamid),
            e.append("duration", (2592e3).toString());
          const t = await C().post(
            f.De.COMMUNITY_BASE_URL + "invites/ajaxcreate",
            e,
          );
          t &&
            t.data &&
            t.data.invite &&
            this.setState({ invite_token: t.data.invite.invite_token });
        }
        OnCopy(e, t) {
          "friend_code" === e &&
            (this.setState({ friend_code_copied: !0 }),
            setTimeout(() => this.setState({ friend_code_copied: !1 }), 1e3)),
            "invite" === e &&
              (this.setState({ invite_copied: !0 }),
              setTimeout(() => this.setState({ invite_copied: !1 }), 1e3)),
            (0, D.Ei)(t);
        }
        async OnAddFriend(e) {
          const t = new FormData();
          t.append("sessionID", f.De.SESSIONID),
            t.append("steamid", e),
            t.append("accept_invite", "0");
          try {
            const e = await C().post(
              f.De.COMMUNITY_BASE_URL + "actions/AddFriendAjax",
              t,
            );
            return e && e.data && 1 == e.data.success;
          } catch {
            return !1;
          }
        }
        OnSearchChange(e) {
          this.setState({ input_search: e.target.value });
        }
        OnSearchKeyDown(e) {
          13 === e.keyCode && this.OnSearchSubmit();
        }
        OnSearchSubmit() {
          window.open(
            f.De.COMMUNITY_BASE_URL +
              "search/users/#text=" +
              encodeURIComponent(this.state.input_search),
            "_self",
          );
        }
        render() {
          const e = f.L7.short_url + "/" + this.state.invite_token;
          return s.createElement(
            "div",
            null,
            s.createElement(
              "div",
              { className: $e().HeaderBlock },
              (0, R.Xx)("#ManageFriends_AddAFriend"),
            ),
            s.createElement(
              "div",
              { className: $e().Background },
              s.createElement(
                "h1",
                { className: $e().Heading },
                (0, R.Xx)("#ManageFriends_YourFriendCode"),
              ),
              s.createElement(
                "div",
                { className: $e().CopyContainer },
                s.createElement("h1", { className: $e().Text }, f.L7.accountid),
                s.createElement(
                  m.KM,
                  {
                    autoFocus: !0,
                    className: $e().Button,
                    onClick: () =>
                      this.OnCopy("friend_code", String(f.L7.accountid)),
                  },
                  this.state.friend_code_copied
                    ? (0, R.Xx)("#ManageFriends_Copied")
                    : (0, R.Xx)("#ManageFriends_Copy"),
                ),
              ),
              s.createElement(
                "p",
                { className: $e().Body },
                (0, R.Xx)("#ManageFriends_EnterFriendCode"),
              ),
              s.createElement(nt, {
                onButtonClick: this.OnAddFriend,
                buttonText: (0, R.Xx)("#ManageFriends_SendInvite"),
                bDisableForSelf: !0,
                bDisableForFriends: !0,
                bShowStatus: !0,
              }),
            ),
            s.createElement(
              "div",
              { className: $e().DimBackground },
              s.createElement(
                "h1",
                { className: $e().Heading },
                (0, R.Xx)("#ManageFriends_OrSendQuickInvite"),
              ),
              s.createElement(
                "p",
                { className: $e().Body },
                (0, R.Xx)("#ManageFriends_QuickInviteDescription"),
              ),
              s.createElement(
                "p",
                { className: $e().Body },
                (0, R.Xx)("#ManageFriends_QuickInviteNote"),
              ),
              s.createElement(
                "div",
                { className: $e().CopyContainer },
                Boolean(this.state.invite_token) &&
                  s.createElement("div", { className: $e().Link }, e),
                s.createElement(
                  m.KM,
                  {
                    className: $e().Button,
                    onClick: () => this.OnCopy("invite", e),
                  },
                  this.state.invite_copied
                    ? (0, R.Xx)("#ManageFriends_Copied")
                    : (0, R.Xx)("#ManageFriends_Copy"),
                ),
              ),
              s.createElement(
                m.zx,
                {
                  className: $e().GenerateLinkButton,
                  onClick: this.OnCreateInviteLink,
                },
                (0, R.Xx)("#ManageFriends_CreateInviteLink"),
              ),
            ),
            s.createElement(
              "div",
              { className: $e().Background },
              s.createElement(
                "h1",
                { className: $e().Heading },
                (0, R.Xx)("#ManageFriends_OrSearch"),
              ),
              s.createElement("br", null),
              s.createElement(
                "div",
                {
                  style: {
                    display: "flex",
                    alignItems: "center",
                    maxWidth: "598px",
                    position: "relative",
                  },
                },
                s.createElement(
                  "div",
                  { style: { width: "100%" } },
                  s.createElement(m.II, {
                    className: $e().Input,
                    onKeyDown: this.OnSearchKeyDown,
                    value: this.state.input_search,
                    onChange: this.OnSearchChange,
                    placeholder: (0, R.Xx)("#ManageFriends_EnterProfileName"),
                  }),
                ),
                s.createElement(
                  "div",
                  {
                    id: "searchIcon",
                    style: {
                      position: "absolute",
                      right: "10px",
                      cursor: "pointer",
                    },
                    onClick: this.OnSearchSubmit,
                  },
                  s.createElement(se.YtI, null),
                ),
              ),
            ),
          );
        }
      }
      (0, B.gn)([Ye.ak], at.prototype, "OnCreateInviteLink", null),
        (0, B.gn)([Ye.ak], at.prototype, "OnCopy", null),
        (0, B.gn)([Ye.ak], at.prototype, "OnAddFriend", null),
        (0, B.gn)([Ye.ak], at.prototype, "OnSearchChange", null),
        (0, B.gn)([Ye.ak], at.prototype, "OnSearchKeyDown", null),
        (0, B.gn)([Ye.ak], at.prototype, "OnSearchSubmit", null);
      class nt extends s.Component {
        state = {
          input_friend_code: "",
          disable_send_invite: !1,
          searchResult: null,
          invite_status: "pending",
        };
        m_currentRequest = 0;
        async OnFriendCodeChange(e) {
          const t = e.target.value.split(",")[0];
          this.setState({ input_friend_code: t, invite_status: "pending" }),
            window.clearTimeout(this.m_currentRequest),
            (this.m_currentRequest = window.setTimeout(
              () => this.LoadProfile(t),
              500,
            ));
        }
        async LoadProfile(e) {
          if (e) {
            const t = Ze.K.InitFromAccountID(Number(e));
            await et.y$.LoadProfiles([t.ConvertTo64BitString()]);
            const a = et.y$.GetProfile(t.ConvertTo64BitString());
            a
              ? this.setState({
                  searchResult: a,
                  disable_send_invite:
                    f.L7.is_limited ||
                    (this.props.bDisableForFriends && a.is_friend) ||
                    (this.props.bDisableForSelf && a.steamid === f.L7.steamid),
                })
              : this.setState({ searchResult: null });
          } else this.setState({ searchResult: null });
        }
        async OnActionClick(e) {
          const t = new FormData();
          t.append("sessionID", f.De.SESSIONID),
            t.append("steamid", e),
            t.append("accept_invite", "0"),
            this.setState({ disable_send_invite: !0 });
          (await this.props.onButtonClick(e))
            ? (this.setState({
                input_friend_code: "",
                invite_status: "success",
              }),
              setTimeout(() => this.setState({ searchResult: null }), 3e3))
            : this.setState({
                invite_status: "failure",
                disable_send_invite: !1,
              });
        }
        render() {
          return s.createElement(
            "div",
            { className: $e().FriendCodeSelector },
            s.createElement(m.II, {
              className: $e().Input,
              value: this.state.input_friend_code,
              onChange: this.OnFriendCodeChange,
              placeholder: (0, R.Xx)(
                "#ManageFriends_EnterFriendCodePlaceholder",
              ),
            }),
            s.createElement(
              it,
              {
                searchResult: this.state.searchResult,
                invite_status: this.state.invite_status,
                bShowStatus: this.props.bShowStatus,
              },
              s.createElement(
                m.KM,
                {
                  className: $e().SendInviteButton,
                  onClick: () =>
                    this.OnActionClick(this.state.searchResult.steamid),
                  disabled: this.state.disable_send_invite,
                },
                this.props.buttonText,
              ),
            ),
          );
        }
      }
      (0, B.gn)([Ye.ak], nt.prototype, "OnFriendCodeChange", null),
        (0, B.gn)([Ye.ak], nt.prototype, "LoadProfile", null),
        (0, B.gn)([Ye.ak], nt.prototype, "OnActionClick", null);
      const it = (e) => {
        const {
            searchResult: t,
            invite_status: a,
            bShowStatus: n,
            children: i,
          } = e,
          r = (0, f.id)();
        return Boolean(t)
          ? s.createElement(
              "div",
              { className: $e().ProfileCard },
              s.createElement(
                "div",
                { className: $e().UserContainer },
                s.createElement(
                  "div",
                  { className: $e().Image },
                  s.createElement("img", {
                    style: { width: "100%", height: "100%" },
                    src: t.avatar_url_full,
                  }),
                ),
                s.createElement(
                  "div",
                  { className: $e().ProfileContent },
                  s.createElement(
                    "h1",
                    { className: $e().Heading },
                    t.persona_name,
                  ),
                  s.createElement(
                    "div",
                    { className: $e().ProfileLink },
                    s.createElement(
                      tt.IS,
                      {
                        target: r ? void 0 : "_blank",
                        href: f.De.COMMUNITY_BASE_URL + "profiles/" + t.steamid,
                      },
                      (0, R.Xx)("#ManageFriends_ProfileLink"),
                    ),
                    s.createElement("br", null),
                    s.createElement(
                      "span",
                      { className: $e().Body },
                      t.real_name,
                      s.createElement("br", null),
                      `${t.city}${t.city ? "," : ""} ${t.state}${t.state ? "," : ""} ${t.country}`,
                    ),
                  ),
                ),
                i,
              ),
              s.createElement(
                "div",
                { className: $e().ProfileLink },
                t.is_friend &&
                  s.createElement(
                    "div",
                    null,
                    (0, R.Xx)("#ManageFriends_IsFriend"),
                  ),
                0 != t.friends_in_common &&
                  s.createElement(
                    "div",
                    null,
                    s.createElement(
                      tt.IS,
                      {
                        target: r ? void 0 : "_blank",
                        href:
                          f.De.COMMUNITY_BASE_URL +
                          "profiles/" +
                          t.steamid +
                          "/friendscommon",
                      },
                      1 === t.friends_in_common
                        ? (0, R.Xx)(
                            "#ManageFriends_FriendsInCommonSingular",
                            t.friends_in_common,
                          )
                        : (0, R.Xx)(
                            "#ManageFriends_FriendsInCommon",
                            t.friends_in_common,
                          ),
                    ),
                  ),
                n &&
                  "failure" === a &&
                  s.createElement(
                    "div",
                    { className: $e().Failure },
                    (0, R.Xx)("#ManageFriends_InviteFailure"),
                  ),
                n &&
                  "success" === a &&
                  s.createElement(
                    "div",
                    { className: $e().Success },
                    (0, R.Xx)("#ManageFriends_InviteSuccess", t.persona_name),
                  ),
              ),
            )
          : null;
      };
      var rt = a(38201);
      function lt(e) {
        const t = r.On.Get(),
          a = (0, Ce.SZ)(() => r.On.Get().GetExternalAppReviewers());
        return s.createElement(
          s.Fragment,
          null,
          s.createElement("h3", null, "App Invites"),
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement(
              "div",
              { className: ue().SectionDesc },
              "Tool that lets you explicitly invite specific apps to participate. This can be done before or after the OptIn is published/live for partners. App Invites will bypass ",
              s.createElement("b", null, "ALL"),
              " eligibility constraints or restrictions (ie, missing a tag and/or pass the end date for the registrations). This is independant of invitation only and can be used in conjunction of invitation only.",
            ),
            s.createElement(
              "div",
              { className: ue().SectionDesc },
              "Inviting apps will NOT trigger any automatic notification. However, the email tab can be used to send an email to all invited apps.",
            ),
            s.createElement("h4", null, "Eligibilty Criteria Internal"),
            s.createElement(
              "p",
              null,
              "Shown on the pruning UI to our team and external pruning contractors",
            ),
            s.createElement(re.R, {
              fnGetCurText: t.GetCurPruningCriteriaText,
              fnOnTextChange: (e) =>
                t.SetCurPruningCriteriaText(e.currentTarget.value),
              fnSetText: t.SetCurPruningCriteriaText,
              strPlaceholder: "Enter Pruning Criteria Text",
              emoticonStore: ie.F,
              bSupportHTMLImport: !0,
              showFormatHelp: "PartnerEvents",
              classNameForTextArea: ue().EventBBCodeEditor,
              limitBBCode: void 0,
              nOverridesRows: 10,
            }),
            s.createElement(
              "div",
              { className: ue().InviteButtonRow },
              s.createElement(
                oe.HP,
                {
                  toolTipContent:
                    "For adding games to the pruning process; app isn't able to optin while in this state. Only games we haven't already acted upon can move to pending review.",
                },
                s.createElement(
                  m.KM,
                  {
                    onClick: (e) =>
                      (0, g.AM)(
                        s.createElement(ot, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  'Add to "Pending Review"...',
                ),
              ),
              s.createElement(
                oe.HP,
                {
                  toolTipContent:
                    "Invite an app allows it to immediately optin to the event and will see they are permitted to participate",
                },
                s.createElement(
                  m.zx,
                  {
                    onClick: (e) =>
                      (0, g.AM)(
                        s.createElement(st, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Invite Apps...",
                ),
              ),
              s.createElement(
                oe.HP,
                {
                  toolTipContent:
                    "Directly marks an app as pruned. It won't surface on the sale pages or content hub override page. Will apply even if app as opted in",
                },
                s.createElement(
                  m.zx,
                  {
                    onClick: (e) =>
                      (0, g.AM)(
                        s.createElement(ct, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Prune Apps...",
                ),
              ),
            ),
            s.createElement(
              "div",
              { className: ue().ShowAllInvitedRow },
              s.createElement(
                oe.HP,
                {
                  toolTipContent:
                    "This list will include all invited app, even if they are no longer invited because we pruned them or the partner took action - opted in/out.",
                },
                s.createElement(
                  m.zx,
                  {
                    onClick: (e) =>
                      (0, g.AM)(
                        s.createElement(dt, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Show All Apps that were once Invited...",
                ),
              ),
            ),
            s.createElement("br", null),
            s.createElement("h3", null, "Manage App Pruning"),
            s.createElement(
              "div",
              { className: ue().SectionDesc },
              "For an event like a tag sale, that depends on publisher and users tagging, we may need to review invited games to ensure they match the intent of the tag sale. ",
              s.createElement(
                "a",
                {
                  href:
                    f.De.PARTNER_BASE_URL +
                    "optin/appreview/" +
                    t.GetOptInPageID(),
                },
                "Go to Opt-In Pruning Page",
              ),
            ),
            s.createElement(
              "div",
              null,
              "To find and add a users external reviewer list please see this ",
              s.createElement(
                "a",
                {
                  href: "https://confluence.valve.org/pages/viewpage.action?pageId=320176134",
                  target: "_blank",
                },
                "document page",
              ),
              ".",
            ),
            Boolean(a?.length > 0) &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement("br", null),
                s.createElement("h3", null, "External Reviewers"),
                s.createElement(le.R, {
                  bDisabled: !0,
                  items: a,
                  onDelete: (e) => t.RemoveExternalAppReviewAt(e),
                  render: (e) => {
                    const t = Ze.K.InitFromAccountID(e);
                    return s.createElement(
                      "a",
                      {
                        href: `${f.De.COMMUNITY_BASE_URL}profiles/${t.ConvertTo64BitString()}`,
                      },
                      s.createElement(rt.N, { accountID: e }),
                    );
                  },
                }),
                s.createElement(
                  "p",
                  null,
                  "Note: Make sure to publish changes to the external review list. They can only access published opt-in definitions.",
                ),
              ),
            s.createElement(
              "p",
              { className: ue().SectionDesc },
              s.createElement(
                "b",
                null,
                "Add External App Reviewer via Friend Code / Account ID",
              ),
            ),
            s.createElement(nt, {
              buttonText: "Add to Reviewer List",
              onButtonClick: async (e) => {
                const a = new Ze.K(e);
                return t.BAddExternalAppReviewAt(a.GetAccountID());
              },
              bDisableForSelf: !0,
              bShowStatus: !0,
            }),
          ),
        );
      }
      function st(e) {
        const { strOptInName: t } = e,
          { fnUpdateAppToInvitation: a } = We(),
          n = (0, s.useCallback)((e) => a(t, e, !0), [t, a]);
        return s.createElement(Ve, {
          strTitle: "Invite Apps",
          strDescription:
            "Invite apps to participate in the OptIn, which will disregard any opt-in restriction. This will not notify the partners for the apps. This will re-invite apps which previously opted out.",
          fnGenericAddAction: n,
          closeModal: e.closeModal,
        });
      }
      function ot(e) {
        const { strOptInName: t } = e,
          { fnUpdateAppToInvitation: a } = We(),
          n = (0, s.useCallback)((e) => a(t, e, !1, !1, !0), [t, a]);
        return s.createElement(Ve, {
          strTitle: "Add Apps to Pending Review",
          strDescription:
            "For apps not already invited/opted in/out or pruned, this will set the apps to an initial pending review state. This allow us to have a clear list of app awaiting pruning. In this state, the game cannot join the opt-in until they either invited.",
          fnGenericAddAction: n,
          closeModal: e.closeModal,
        });
      }
      function ct(e) {
        const { strOptInName: t } = e,
          { fnUpdateAppToInvitation: a } = We(),
          n = (0, s.useCallback)((e) => a(t, e, !1, !0), [t, a]);
        return s.createElement(Ve, {
          strTitle: "Prune App",
          strDescription:
            "This will immediately mark the app as pruned. This will override their opt-in or opt-out status and move the app to the prune list.",
          fnGenericAddAction: n,
          closeModal: e.closeModal,
        });
      }
      const mt = { include_release: !0 };
      function dt(e) {
        const { closeModal: t, strOptInName: a } = e,
          n = (0, ze.Cy)(a, !1),
          [i, r] = s.useState(!1);
        return (
          s.useEffect(() => {
            if (n?.length > 0) {
              const e = n.map((e) => e.appid);
              Ke.Z.Get()
                .QueueMultipleAppRequests(e, mt)
                .then(() => r(!0));
            } else r(!0);
          }, [n]),
          s.createElement(
            w.uH,
            {
              strTitle: "All Invited Apps",
              strDescription:
                "This is the list of all apps that were ever invited. The invite status will change when the partner takes action such as opt-in or opt-out. We use the invite account setting to figure out if an invite actually happened",
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              closeModal: t,
              className: ue().InvitedAppHistoryDialog,
            },
            Boolean(!n || !i) &&
              s.createElement(P.V, { size: "medium", position: "center" }),
            s.createElement(
              "table",
              { className: ue().InvitedAppHistoryTable },
              s.createElement(
                "thead",
                null,
                s.createElement(
                  "tr",
                  null,
                  s.createElement("th", null, "Invited By"),
                  s.createElement("th", null, "Game"),
                  s.createElement("th", null, "Status"),
                ),
              ),
              s.createElement(
                "tbody",
                null,
                n
                  ?.filter((e) => e.accountid_invited)
                  .map((e) =>
                    s.createElement(ut, { registration: e, key: e.appid }),
                  ),
              ),
            ),
          )
        );
      }
      function ut(e) {
        const { registration: t } = e,
          [a] = (0, Qe.vs)(t.appid, mt);
        let n = "invited";
        return (
          t.pruned
            ? (n = "pruned")
            : t.opt_in
              ? (n = "opted in")
              : t.time_opted_out && (n = "opted out"),
          s.createElement(
            "tr",
            { className: ue().InvitedAppRow },
            s.createElement(
              "td",
              null,
              Boolean(t.accountid_invited) &&
                s.createElement(rt.N, { accountID: t.accountid_invited }),
            ),
            s.createElement(
              "td",
              null,
              a?.GetName() || "unknown",
              " (",
              t.appid,
              ") ",
            ),
            s.createElement("td", null, n),
          )
        );
      }
      const pt = (0, $.Pi)((e) => {
        const t = r.On.Get(),
          a = t.BIsReleaseGamesEligible() || t.BIsUnreleaseGamesEligible();
        return s.createElement(
          pe.ug,
          { title: "Registration Requirements", bStartMinimized: !1 },
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement("h3", null, "Registration Deadline"),
            s.createElement(Pe.A, {
              strDescription: void 0,
              nEarliestTime: 0,
              fnGetTimeToUpdate: () => t.GetOptInDeadlineTime(),
              fnSetTimeToUpdate: t.SetOptInDeadlineTime,
              fnIsValidDateTime: () => !0,
              bShowTimeZone: !0,
            }),
          ),
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement("h3", null, "Visibility"),
            s.createElement(
              "div",
              { className: ue().SectionDesc },
              "By default, optins are visible to partners if it's enabled. If set to be visible only to invited partners, the partner must also own the app to see the optin.",
            ),
            s.createElement(m.gE, {
              onChange: (e) =>
                t.SetVisibility(
                  e
                    ? te.nC.k_EOptInVisibility_InviteOnly
                    : te.nC.k_EOptInVisibility_Public,
                ),
              label: "Visible only to invited partners",
              checked: t.EVisibility() == te.nC.k_EOptInVisibility_InviteOnly,
            }),
          ),
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement("h3", null, "ELIGIBILITY SETTING"),
            s.createElement(
              "div",
              { className: ue().SectionDesc },
              "Enable this to limit participation to only invitied games or partners.",
              s.createElement("br", null),
              "Disable to use criteria to determine participation eligibility.",
            ),
            s.createElement(m.gE, {
              onChange: (e) => {
                t.SetInvititationOnly(e);
              },
              label: "Make participation invite-only",
              checked: t.BIsInvitationOnly(),
            }),
            !!t.BIsInvitationOnly() &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "div",
                  { className: ue().Section },
                  s.createElement(lt, null),
                ),
              ),
            !t.BIsInvitationOnly() &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "div",
                  { className: ue().Section },
                  s.createElement("h3", null, "ELIGIBILITY CRITERIA SETTINGS"),
                  s.createElement(
                    "div",
                    { className: ue().IndentedSubSection },
                    s.createElement(
                      "div",
                      { className: ue().SectionDesc },
                      "Use the settings below to define one or more criteria that determines which games can participate.",
                      s.createElement("br", null),
                      s.createElement("br", null),
                    ),
                    s.createElement("h3", null, "LIMIT BY RELEASE DATE"),
                    s.createElement(
                      "div",
                      { className: ue().Section },
                      !Boolean(a) &&
                        s.createElement(
                          "div",
                          { className: A().WarningStylesWithIcon },
                          "Required Setting for OptIn",
                        ),
                      s.createElement(m.ji, {
                        label: "Released games are eligible",
                        checked: t.BIsReleaseGamesEligible(),
                        onChange: t.SetReleaseGameEligible,
                      }),
                      s.createElement(m.ji, {
                        label: "Unreleased games are eligible",
                        checked: t.BIsUnreleaseGamesEligible(),
                        onChange: t.SetUnreleaseGameEligible,
                      }),
                      Boolean(t.BIsUnreleaseGamesEligible()) &&
                        s.createElement(
                          s.Fragment,
                          null,
                          s.createElement(Pe.A, {
                            strDescription: "Must release AFTER",
                            nEarliestTime: 0,
                            fnGetTimeToUpdate: () =>
                              t.GetEligibleReleaseAfterDate(),
                            fnSetTimeToUpdate: t.SetEligibleReleaseAfterDate,
                            fnIsValidDateTime: () => !0,
                            bShowTimeZone: !0,
                          }),
                          s.createElement(Pe.A, {
                            strDescription: "Must release BEFORE",
                            nEarliestTime: 0,
                            fnGetTimeToUpdate: () =>
                              t.GetEligibleReleaseBeforeDate(),
                            fnSetTimeToUpdate: t.SetEligibleReleaseBeforeDate,
                            fnIsValidDateTime: () => !0,
                            bShowTimeZone: !0,
                          }),
                        ),
                    ),
                    s.createElement("h3", null, "LIMIT BY COOLDOWN GROUP"),
                    s.createElement(
                      "div",
                      { className: ue().Section },
                      s.createElement(m.ji, {
                        label:
                          "Games are ineligible to optin to this event if already opted in to an event of the same type",
                        checked: t.GetCooldownRequired(),
                        onChange: t.SetCooldownRequired,
                      }),
                      s.createElement(
                        "div",
                        { className: ue().InviteButtonRow },
                        s.createElement(m.ry, {
                          label: "Cooldown Group",
                          rgOptions: t.GetCooldownGroupOptions(),
                          selectedOption: t.GetCooldownGroupType(),
                          onChange: (e) => t.SetCooldownGroupType(e.data),
                          contextMenuPositionOptions: {
                            bDisableMouseOverlay: !0,
                          },
                        }),
                        s.createElement(
                          "div",
                          { className: ue().NarrowInputField },
                          s.createElement(m.II, {
                            label: "Cooldown Window (in number of days)",
                            type: "number",
                            value: t.GetCooldownDays(),
                            maxLength: 4,
                            onChange: (e) =>
                              t.SetCooldownDays(parseInt(e.target.value)),
                          }),
                        ),
                      ),
                    ),
                    s.createElement("h3", null, "LIMIT BY TAG"),
                    s.createElement(
                      "div",
                      { className: ue().SectionDesc },
                      "Games must have one of these tags to participate",
                    ),
                    s.createElement(
                      "div",
                      { className: ue().Section },
                      s.createElement(ke.ZP, {
                        isSearchable: !0,
                        isMulti: !0,
                        onChange: t.OnChangeRequiredTags,
                        value: t.GetRequiredTags(),
                        options: t.GetGameTagOptions(),
                      }),
                      s.createElement("br", null),
                      s.createElement("br", null),
                      s.createElement(
                        "div",
                        { className: ue().NarrowInputField },
                        s.createElement(m.II, {
                          type: "number",
                          min: "1",
                          max: "40",
                          label:
                            "Max Rank for the Apps Weighted Official Tag to Include",
                          tooltip:
                            "When comparing against the app list of official weighted tags; this is the largest rank to include. Default is 20 if not specified on the server.  Make sure 1) set field, 2) save opt in, 3) publish opt in, 4) refresh stats 5) ??? 6) Profit",
                          value: t.GetAppOfficialWeightedTagRankToInclude(),
                          onChange: (e) => {
                            const a =
                              Number.parseInt(e.currentTarget.value) || 20;
                            t.SetAppOfficialWeightedTagRankToInclude(a);
                          },
                        }),
                      ),
                    ),
                    s.createElement("h3", null, "LIMIT BY APP FEATURES"),
                    s.createElement(
                      "div",
                      { className: ue().SectionDesc },
                      "Games must have one of these features to participate",
                    ),
                    s.createElement(
                      "div",
                      { className: ue().Section },
                      s.createElement(m.ji, {
                        label: "Remote Play Together",
                        checked: t.BRequiresRemotePlayTogether(),
                        onChange: t.SetRequiresRemotePlayTogether,
                      }),
                      s.createElement(m.ji, {
                        label: "VR",
                        checked: t.BRequiresVR(),
                        onChange: t.SetRequiresVR,
                      }),
                    ),
                  ),
                ),
              ),
          ),
        );
      });
      var _t = a(80445);
      function ht(e) {
        return e ? { label: (0, _t.Sq)(e), value: "" + e } : null;
      }
      const gt = (0, $.Pi)((e) => {
        const t = r.On.Get(),
          [a, n] = s.useState(t.BHasSpecialEventType()),
          [i, l] = s.useState(ht(t.GetSpecialEventType())),
          o = new Array();
        ae.De.forEach((e) => o.push(ht(e)));
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "h3",
            null,
            "Include Special Event Category for OptIn",
          ),
          s.createElement(
            "p",
            null,
            "If enabled, registered games have the ability to create events of the specified typed marked up using tags with this opt-in names. This allows sales page to automatically load those events in a carousel or a schedule widget.",
            s.createElement(
              "span",
              null,
              Boolean(a) &&
                s.createElement(
                  "span",
                  null,
                  " The following tag will be set on the associated events: ",
                  s.createElement("b", null, t.GetFullName()),
                ),
            ),
          ),
          a
            ? s.createElement(
                "div",
                { className: ue().IndentedSubSection },
                s.createElement(
                  "p",
                  null,
                  "This special event type will appear at the top of the category chooser for registered games. Please configure the name and info so partners know what this event is for.",
                ),
                s.createElement(
                  "p",
                  null,
                  s.createElement(
                    "a",
                    {
                      href: "https://confluence.valve.org/display/STEAM/Opt-In+Tech+Custom+Event+type",
                      target: "_blank",
                    },
                    "Learn more about this feature here.",
                  ),
                ),
                s.createElement(ke.ZP, {
                  styles: { option: (e) => ({ ...e, color: "#444444" }) },
                  isSearchable: !0,
                  isMulti: !1,
                  placeholder: "Choose Event type",
                  onChange: (e) => {
                    l(e),
                      e?.value &&
                        t.SetSpecialEventType(Number.parseInt(e.value));
                  },
                  value: i,
                  options: o,
                  defaultMenuIsOpen: !1,
                }),
                s.createElement("br", null),
                s.createElement(m.II, {
                  type: "text",
                  label: "Optional: Special Event Title:",
                  onChange: (e) => t.SetCurSpecialEventName(e.target.value),
                  value: t.GetCurSpecialEventName(),
                  tooltip:
                    "This appears on the partner events editor to describe the special event category. Assign if the opt-in name is not helpful when creating the event. Don't include the event type, it will be appended at the end, ie, News or Live Stream.",
                  placeholder: "Optional: Special Event Title Here",
                }),
                s.createElement("br", null),
                s.createElement(
                  "div",
                  null,
                  "Optional: Special Event Description:",
                ),
                s.createElement(re.R, {
                  fnGetCurText: t.GetCurSpecialEventDescription,
                  fnOnTextChange: (e) =>
                    t.SetCurSpecialEventDescription(e.currentTarget.value),
                  fnSetText: t.SetCurSpecialEventDescription,
                  strPlaceholder:
                    "Optional: Enter Special Event Description Here",
                  emoticonStore: ie.F,
                  bSupportHTMLImport: !0,
                  showFormatHelp: "PartnerEvents",
                  classNameForTextArea: ue().EventBBCodeEditor,
                  limitBBCode: void 0,
                  nOverridesRows: 10,
                }),
                s.createElement("br", null),
                s.createElement(m.II, {
                  type: "text",
                  label: "Optional: Documentation Link:",
                  onChange: (e) => t.SetSpecialEventDocLink(e.target.value),
                  value: t.GetSpecialEventDocLink(),
                  tooltip:
                    "Ideally links directly to the part of the OptIn documentation that talks about the purpose of this event. Use an anchor to do this.",
                  placeholder: "Optional: Documentation Link Here",
                }),
                s.createElement(
                  "div",
                  { className: ue().NarrowInputField },
                  s.createElement(m.II, {
                    type: "number",
                    min: "0",
                    max: "40",
                    label: "Optional: Maximum amount of events per game",
                    onChange: (e) =>
                      t.SetSpecialEventTypeMax(Number.parseInt(e.target.value)),
                    value: t.GetSpecialEventTypeMax(),
                    tooltip:
                      "How many of these event type can a single game created? If set to zero, it means unlimited.",
                  }),
                ),
                s.createElement(Et, null),
              )
            : s.createElement(m.ji, {
                label: "Enable Feature",
                checked: a,
                onChange: n,
              }),
        );
      });
      function Et(e) {
        const t = r.On.Get(),
          [a, n] = s.useState(
            t.BHasSpecialEventTimeSet() || t.NCountSpecialEventBlocks() > 0,
          ),
          [i, l, o, c, d] = (0, Ce.SZ)(() => [
            t.GetEventStartTime(),
            t.GetEventEndTime(),
            t.GetSpecialEventStartTime(),
            t.GetSpecialEventEndTime(),
            t.GetAllSpecialEventBlocks(),
          ]);
        return a
          ? s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                "Optional: Further restrict the event scheduling between these following two times. By restricting the schedule\tit allows the event organizer to run official streams that will take priority and letting partners avoid scheduling their events at those time.",
              ),
              s.createElement(Pe.A, {
                strDescription: "Special Event Scheduling Start Date and Time",
                nEarliestTime: i,
                nLatestTime: l,
                fnGetTimeToUpdate: () => o,
                fnSetTimeToUpdate: t.SetSpecialEventStartTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              s.createElement(Pe.A, {
                strDescription: "Special Event Scheduling End Date and Time",
                nEarliestTime: i,
                nLatestTime: l,
                fnGetTimeToUpdate: () => c,
                fnSetTimeToUpdate: t.SetSpecialEventEndTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              s.createElement("br", null),
              s.createElement("br", null),
              s.createElement(
                "p",
                null,
                "Optional: Add one ore more additional event scheduling restrictions. For instance, we plan to have official replace or broadcasts are different points of the events that are not strictly at the start or end of the event. Alternatively, we want to prevents partners from scheduling their live streams during the common hours related to Steam prop and suffer from their stream interruptions.",
              ),
              s.createElement(le.R, {
                items: d,
                onDelete: (e) => t.RemoveSpecialEventBlock(e),
                onMove: (e, a) => t.MoveSpecialEventblock(e, a),
                render: (e) => {
                  const t = e,
                    a = d.findIndex((e) => e == t);
                  return s.createElement(St, {
                    key: "rtime" + a + "_" + t?.block_rt_start,
                    block: t,
                  });
                },
                onEdit: (e, t) =>
                  (0, g.AM)(
                    s.createElement(vt, { blockIndex: e }),
                    (0, D.RA)(t),
                  ),
              }),
              s.createElement(
                m.zx,
                { onClick: () => t.AddSpecialEventBlock() },
                "Add a Special Event Blocked from Scheduling Time Range",
              ),
              s.createElement("br", null),
              s.createElement("br", null),
            )
          : s.createElement(m.ji, {
              label: "Optional: Limit Event Schedule Time",
              checked: a,
              onChange: n,
            });
      }
      function St(e) {
        const { block: t } = e,
          [a, n, i, r] = (0, Ce.SZ)(() => [
            t.block_rt_start,
            t.block_rt_end,
            t.block_reason,
            t.internal_reason,
          ]);
        return t && t.block_rt_start && t.block_rt_end
          ? s.createElement(
              "div",
              null,
              s.createElement("span", null, "Blocked time: "),
              s.createElement(h.Ai, { startDateAndTime: a, endDateAndTime: n }),
              Boolean(r) && s.createElement("div", null, "Interal Reason: ", r),
              Boolean(i) &&
                s.createElement(
                  "div",
                  null,
                  "Has Localizable User Facing Reason",
                ),
            )
          : s.createElement(
              "div",
              null,
              "Error: Block Time not setup. Please edit",
            );
      }
      function vt(e) {
        const { blockIndex: t, closeModal: a } = e,
          n = r.On.Get(),
          [i, l] = (0, s.useState)(n.GetAllSpecialEventBlocks()[t]),
          [o, c, d] = (0, Ce.SZ)(() => [
            n.GetEventStartTime(),
            n.GetEventEndTime(),
            ne.U.Get().GetCurEditLanguage(),
          ]),
          u = (0, ae.j_)(d),
          p = (e) => (i.block_reason[u] = e);
        return s.createElement(
          w.uH,
          {
            strTitle: "Edit Special Event Schedule Block Range",
            strDescription:
              "Additional times when a partner cannot schedule their special event because we have blocked it out",
            bAllowFullSize: !0,
            bDisableBackgroundDismiss: !0,
            onOK: () => {
              n.SetSpecialEventBlock(t, i) ||
                console.log(
                  "Failed to save special event block, requiring debugging, ",
                  t,
                );
            },
            closeModal: a,
          },
          s.createElement(Pe.A, {
            strDescription: "Blocked Out Scheduling Start Date and Time",
            nEarliestTime: o,
            nLatestTime: c,
            fnGetTimeToUpdate: () => i.block_rt_start,
            fnSetTimeToUpdate: (e) => l({ ...i, block_rt_start: e }),
            fnIsValidDateTime: () =>
              (i.block_rt_start && !i.block_rt_end) ||
              i.block_rt_start < i.block_rt_end,
            bShowTimeZone: !0,
          }),
          s.createElement(Pe.A, {
            strDescription: "Blocked Out Scheduling End Date and Time",
            nEarliestTime: o,
            nLatestTime: c,
            fnGetTimeToUpdate: () => i.block_rt_end,
            fnSetTimeToUpdate: (e) => l({ ...i, block_rt_end: e }),
            fnIsValidDateTime: () =>
              (i.block_rt_end && !i.block_rt_start) ||
              i.block_rt_start < i.block_rt_end,
            bShowTimeZone: !0,
          }),
          s.createElement(m.II, {
            type: "text",
            label: "Internal Reason",
            value: i.internal_reason || "",
            onChange: (e) =>
              l({ ...i, internal_reason: e.currentTarget.value }),
            placeholder: "Optional: Reason visible only to us",
          }),
          s.createElement(
            "div",
            null,
            "Optional: Blocking Schedule Localized Reason visible to Partner Event Editors:",
          ),
          s.createElement(re.R, {
            fnGetCurText: () => (0, te.pM)(i.block_reason, d, ""),
            fnOnTextChange: (e) => p(e.currentTarget.value),
            fnSetText: p,
            strPlaceholder:
              "Optional: Enter Schedule block description here; shorter concise reason preferred.",
            emoticonStore: ie.F,
            bSupportHTMLImport: !0,
            showFormatHelp: "PartnerEvents",
            classNameForTextArea: ue().EventBBCodeEditor,
            limitBBCode: void 0,
            nOverridesRows: 10,
          }),
          s.createElement("br", null),
        );
      }
      function Dt(e) {
        const t = r.On.Get(),
          [a, n] = (0, s.useState)(
            () =>
              t.GetQandA1EventStartTime() > 0 ||
              t.GetQandA2EventStartTime() > 0,
          ),
          [i, l, o, c, d, u] = (0, Ce.SZ)(() => [
            t.GetEventStartTime(),
            t.GetEventEndTime(),
            t.GetQandA1EventStartTime(),
            t.GetQandA2EventStartTime(),
            t.GetQandA1URL(),
            t.GetQandA2URL(),
          ]);
        return s.createElement(
          pe.ug,
          { title: "Event Deadlines and Reminders", bStartMinimized: !1 },
          s.createElement(
            "p",
            null,
            "Items here will surface directly on the generated documentation and surfaces on participating partners dashboards as informational",
          ),
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement("h3", null, "Next Fest Additional Times"),
            s.createElement(
              "p",
              null,
              "Next Fest has two Question and Answer sessions. The first one is registration focussed and second is more general",
            ),
            Boolean(!a)
              ? s.createElement(m.ji, {
                  label: "Enable Question and Answer Section?",
                  checked: a,
                  onChange: () => n(!0),
                })
              : s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(Pe.A, {
                    strDescription: (0, R.Xx)(
                      "#OptIn_NextFest_QAndA_Registration",
                    ),
                    nEarliestTime: i,
                    nLatestTime: l,
                    fnGetTimeToUpdate: () => o,
                    fnSetTimeToUpdate: t.SetQandA1EventStartTime,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                  s.createElement(m.II, {
                    type: "text",
                    label: "URL to display partners for this event:",
                    onChange: (e) => t.SetQandA1URL(e.target.value),
                    value: d,
                    mustBeURL: !0,
                  }),
                  s.createElement(Pe.A, {
                    strDescription: (0, R.Xx)("#OptIn_NextFest_QAndA"),
                    nEarliestTime: i,
                    nLatestTime: l,
                    fnGetTimeToUpdate: () => c,
                    fnSetTimeToUpdate: t.SetQandA2EventStartTime,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                  s.createElement(m.II, {
                    type: "text",
                    label: "URL to display partners for this event:",
                    onChange: (e) => t.SetQandA2URL(e.target.value),
                    value: u,
                    mustBeURL: !0,
                  }),
                ),
          ),
        );
      }
      function ft(e) {
        const t = r.On.Get(),
          [a, n, i] = (0, Ce.SZ)(() => [
            t.GetName(),
            t.GetFullName(),
            t.BIsOptInEnabled(),
          ]),
          l =
            f.De.PARTNER_BASE_URL +
            "admin/store/page/" +
            n +
            "?activetab=tab_publish";
        return s.createElement(
          "div",
          { className: we().AdminPageCtn },
          s.createElement(
            "div",
            { className: we().PageTitle },
            "OptIn Admin Editing: ",
            a,
          ),
          s.createElement("hr", null),
          s.createElement(
            "div",
            { className: we().ColumnCtn },
            s.createElement(
              "div",
              { className: we().LeftCol },
              s.createElement(yt, null),
              s.createElement(pt, null),
              s.createElement(Pt, null),
              s.createElement(bt, null),
              s.createElement(Dt, null),
              s.createElement(It, null),
              s.createElement(_e, null),
              s.createElement(Ct, null),
              s.createElement(kt, null),
              s.createElement(At, null),
              s.createElement(Xe, null),
              s.createElement(wt, null),
            ),
            s.createElement(
              "div",
              { className: we().RightCol },
              s.createElement(
                "div",
                { className: we().SectionCtn },
                s.createElement(
                  "div",
                  { className: ue().SectionDesc },
                  "When you are ready to start accepting opt-ins from eligible games that meet the criteria you've defined, check the box below. You will then need to follow the path to publish this event in order to make it public.",
                ),
                s.createElement("br", null),
                Boolean(i) &&
                  s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(
                      "div",
                      { className: ue().SectionDesc },
                      "Note: Since this OptIn is enabled for partner, after each text or localization update, please remember to Publish.  Publishing is required for the updated text to appear to partners.",
                    ),
                    s.createElement("br", null),
                  ),
                s.createElement(m.ji, {
                  label: "Enable Partners to opt-in",
                  checked: i,
                  onChange: t.SetOptInEnabled,
                }),
                s.createElement(
                  "a",
                  { href: l, className: (0, v.Z)(_().Button, _().Primary) },
                  "Go Publish",
                ),
              ),
            ),
          ),
        );
      }
      const yt = (0, $.Pi)((e) => {
          const t = r.On.Get(),
            a = [
              {
                label: "Event Registration",
                data: te.Vs.k_EOptInType_EventRegistration,
              },
              {
                label: "Recommended Actions",
                data: te.Vs.k_EOptInType_RecommendedAction,
              },
            ];
          return s.createElement(
            pe.ug,
            { title: "Basic Event Info", bStartMinimized: !1 },
            s.createElement(
              "div",
              { className: ue().Section },
              s.createElement("h3", null, "Event Title:"),
              s.createElement(m.II, {
                type: "text",
                onChange: (e) => t.SetCurEventTitle(e.target.value),
                value: t.GetCurEventTitle(),
                placeholder: "Enter Title Here",
                className: _().LargeInput,
              }),
              s.createElement("br", null),
              s.createElement("h3", null, "Event Description:"),
              s.createElement(
                "p",
                null,
                "This section appears at the top of the opt-in page and is used for telling potential participants what the event is all about. This is also considered the overview which appears in the automatically generated docs",
              ),
              s.createElement(re.R, {
                fnGetCurText: t.GetCurDescription,
                fnOnTextChange: (e) =>
                  t.SetCurDescription(e.currentTarget.value),
                fnSetText: t.SetCurDescription,
                strPlaceholder: "Enter Description Here",
                emoticonStore: ie.F,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: ue().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
              s.createElement("h3", null, "Event Eligibility:"),
              s.createElement(
                "p",
                null,
                "This section should contain only the eligibility requirements for participating in the event",
              ),
              s.createElement(re.R, {
                fnGetCurText: t.GetCurEligibilityText,
                fnOnTextChange: (e) =>
                  t.SetCurEligibilityText(e.currentTarget.value),
                fnSetText: t.SetCurEligibilityText,
                strPlaceholder: "Enter Eligibility Here",
                emoticonStore: ie.F,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: ue().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
              s.createElement("h3", null, "OptIn Type"),
              s.createElement(m.ry, {
                strDropDownClassName: _().DropDownScroll,
                rgOptions: a,
                selectedOption: t.GetOptInType(),
                onChange: (e) => t.SetOptInType(e.data),
                bDisableMouseOverlay: !0,
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                tooltip:
                  "Allows us to re-use OptIn tech for non-event registration purposes.",
              }),
            ),
            s.createElement(
              "div",
              { className: ue().Section },
              s.createElement("h3", null, "Event Dates:"),
              s.createElement(
                "p",
                null,
                "Specify the dates of the actual event",
              ),
              s.createElement(Pe.A, {
                strDescription: "Event Start Date and Time",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => t.GetEventStartTime(),
                fnSetTimeToUpdate: t.SetEventStartTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              s.createElement(Pe.A, {
                strDescription: "Event End Date and Time",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => t.GetEventEndTime(),
                fnSetTimeToUpdate: t.SetEventEndTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              s.createElement("h3", null, "Trailer Live Date:"),
              s.createElement(
                "p",
                null,
                "Specify when the trailer will be available. If missing, we won't show in the documentation",
              ),
              s.createElement(Pe.A, {
                strDescription: "Trailer Live Date",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => t.GetEventTrailerDropDate(),
                fnSetTimeToUpdate: t.SetEventTrailerDropDate,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
            ),
            s.createElement(
              "div",
              { className: ue().Section },
              s.createElement("h3", null, "Steamworks Documentation URL:"),
              s.createElement(
                "p",
                null,
                "Where in the Steamworks Documentation can partners learn about this festival and eligiblity criteria",
              ),
              s.createElement(m.II, {
                type: "text",
                onChange: (e) =>
                  t.SetPublicDocumentationWikiURL(e.target.value),
                value: t.GetPublicDocumentationWikiURL(),
                mustBeURL: !0,
                placeholder:
                  "For Example: https://partner.steamgames.com/doc/marketing/upcoming_events/themed_sales/<EVENT NAME>",
              }),
              s.createElement("h3", null, "Partner and Press Asset Kit:"),
              s.createElement(
                "p",
                null,
                "When supplied this will be the URL for the partner and press to download from the documentation page",
              ),
              s.createElement(m.II, {
                type: "text",
                onChange: (e) => t.SetAssetSetDocFile(e.target.value),
                value: t.GetAssetSetDocFile(),
                mustBeURL: !0,
                placeholder:
                  "For Example: https://www.dropbox.com/scl/fo/hv57yc7yda6i21k47fi2v/h?rlkey=w7gbb0mjuy4imutpi2651lbl8&dl=0",
              }),
              s.createElement("h3", null, "Help Text:"),
              s.createElement(
                "p",
                null,
                "This section appears near the bottom of the opt-in page and is used for describing where participants can find more information.",
              ),
              s.createElement(re.R, {
                fnGetCurText: t.GetCurHelpText,
                fnOnTextChange: (e) => t.SetCurHelpText(e.currentTarget.value),
                fnSetText: t.SetCurHelpText,
                strPlaceholder: "Enter Help Text",
                emoticonStore: ie.F,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: ue().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
            ),
            s.createElement(Me, null),
            s.createElement(
              "div",
              { className: ue().Section },
              s.createElement("h3", null, "Categorization & Stat Reporting:"),
              s.createElement(
                "p",
                null,
                "Allows the developer to view how their game is being categorized within the sale page. The event hosting the sale page must be publicly visible.",
              ),
              s.createElement(
                "ul",
                null,
                s.createElement(
                  "li",
                  null,
                  "Before the event start, this would be the developer preview sale pages. ",
                ),
                s.createElement(
                  "li",
                  null,
                  "Once the evnet is live, we should update this value to the actual sale page's clan event GID.",
                ),
              ),
              s.createElement(
                "p",
                null,
                "Our event stats will also be based on the apps included in this sale page.",
              ),
              s.createElement(m.II, {
                type: "text",
                onChange: (e) => t.SetPublicEventID(e.target.value),
                value: t.GetPublicEventID(),
                placeholder: "5196643638649256091",
              }),
            ),
            s.createElement(
              "div",
              { className: ue().Section },
              s.createElement(gt, null),
            ),
          );
        }),
        bt = (0, $.Pi)((e) => {
          const t = r.On.Get();
          return s.createElement(
            pe.ug,
            { title: "Registration Options", bStartMinimized: !1 },
            s.createElement(
              "span",
              null,
              "Select the settings that should appear as part of the registration process",
            ),
            s.createElement(
              "div",
              { className: ue().Section },
              s.createElement("h3", null, "Categories"),
              s.createElement(
                "p",
                null,
                "Ask developers to choose one or more categories that apply to their game. Most often used with Next Fest to put games in the right sections and tabs.",
              ),
              s.createElement(m.ji, {
                label: "Show Categories",
                checked: t.BIsCategoriesEnabled(),
                onChange: t.SetCategoriesEnabled,
              }),
              s.createElement("hr", null),
              s.createElement(
                "div",
                {
                  className: (0, v.Z)(
                    ue().IndentedSubSection,
                    t.BIsCategoriesEnabled() ? "" : ue().Disabled,
                  ),
                },
                s.createElement(m.ry, {
                  label: "Optional/Suggested/Required",
                  rgOptions: t.GetRequiredOptions(),
                  selectedOption: t.GetCategoriesRequired(),
                  onChange: (e) => t.SetCategoriesRequired(e.data),
                  contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                }),
                s.createElement("span", null, "Visible Categories"),
                s.createElement(ke.ZP, {
                  isSearchable: !0,
                  isMulti: !0,
                  onChange: t.OnChangeCategoryTags,
                  value: t.GetCategoryTags(),
                  options: t.GetGameTagOptions(),
                }),
              ),
            ),
            s.createElement(
              "div",
              { className: ue().Section },
              s.createElement("h3", null, "Press Contact Info"),
              s.createElement(
                "p",
                null,
                "When enablesd, it will allow the partner to enter a primary contact name and email address for this game. It will inform them that we plan to use this information when contacting the press about the event with participating games. You can export the opt-in press contact in manage tab.",
              ),
              s.createElement(m.ji, {
                label: "Collect Press Contact Info",
                checked: t.BIsPressContactEnabled(),
                onChange: t.SetPressContactEnabled,
              }),
              s.createElement("hr", null),
              s.createElement(
                "div",
                {
                  className: (0, v.Z)(
                    ue().IndentedSubSection,
                    t.BIsPressContactEnabled() ? "" : ue().Disabled,
                  ),
                },
                s.createElement(m.ry, {
                  label: "Optional/Suggested/Required",
                  rgOptions: t.GetRequiredOptions(),
                  selectedOption: t.GetPressContactRequired(),
                  onChange: (e) => t.SetPressContactRequired(e.data),
                  contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                }),
              ),
            ),
          );
        }),
        It = (0, $.Pi)((e) => {
          const t = r.On.Get();
          return s.createElement(
            pe.ug,
            { title: "Uncommon Registration Options", bStartMinimized: !0 },
            s.createElement(
              "div",
              { className: ue().Section },
              s.createElement("h3", null, "Artist Statement"),
              s.createElement(
                "p",
                null,
                "Ask developers to provide an artist statement. This is presented as the following",
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "i",
                  null,
                  '"Please also tell us a bit about yourself (or your team) and your game. Anything you think we should know that won\'t be obvious from your Steam appID such as awards your game has won or shows it has been included in? Unique story of your team or the project? Let us know here! Note: Your text here is for internal use at Valve only and will not be shown publicly."',
                ),
              ),
              s.createElement(m.ji, {
                label: "Artist Statement",
                checked: t.BIsArtistStatementEnabled(),
                onChange: t.SetArtistStatementEnabled,
              }),
              s.createElement(m.ry, {
                label: "Optional/Suggested/Required",
                rgOptions: t.GetRequiredOptions(),
                selectedOption: t.GetArtistStatementRequired(),
                onChange: (e) => t.SetArtistStatementRequired(e.data),
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
              }),
            ),
            s.createElement(
              "div",
              { className: ue().Section },
              s.createElement("h3", null, "Primary Country"),
              s.createElement(
                "p",
                null,
                "Ask developers to tell us what country they are primarily from. We haven't used this in a long time.",
              ),
              s.createElement(m.ji, {
                label: "Ask developers to enter their Primary Country",
                checked: t.BIsPrimaryCountryEnabled(),
                onChange: t.SetPrimaryCountryEnabled,
              }),
              s.createElement(m.ry, {
                label: "Optional/Suggested/Required",
                rgOptions: t.GetRequiredOptions(),
                selectedOption: t.GetPrimaryCountryRequired(),
                onChange: (e) => t.SetPrimaryCountryRequired(e.data),
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
              }),
            ),
          );
        }),
        Ct = (0, $.Pi)((e) => {
          const t = r.On.Get();
          return s.createElement(
            pe.ug,
            {
              title: "Tasks Required Prior To Registration",
              bStartMinimized: !1,
            },
            s.createElement(
              "div",
              { className: ue().Section },
              s.createElement(m.ji, {
                label: "Show this section to developers",
                checked: t.BIsBeforeYouOptInEnabled(),
                onChange: t.SetBeforeYouOptInEnabled,
              }),
              s.createElement("hr", null),
              s.createElement(
                "div",
                {
                  className: (0, v.Z)(
                    ue().IndentedSubSection,
                    t.BIsBeforeYouOptInEnabled() ? "" : ue().Disabled,
                  ),
                },
                s.createElement("h3", null, "Build Your Store Page"),
                s.createElement(m.ji, {
                  label: "Remind devs to build their store page",
                  checked: t.BIsBuildYourStorePageEnabled(),
                  onChange: t.SetBuildYourStorePageEnabled,
                }),
                s.createElement(m.ry, {
                  label: "Optional/Suggested/Required",
                  rgOptions: t.GetRequiredOptions(),
                  selectedOption: t.GetBuildYourStorePageRequired(),
                  onChange: (e) => t.SetBuildYourStorePageRequired(e.data),
                  contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                }),
                s.createElement(re.R, {
                  fnGetCurText: t.GetStorePageText,
                  fnOnTextChange: (e) =>
                    t.SetStorePageText(e.currentTarget.value),
                  fnSetText: t.SetStorePageText,
                  strPlaceholder:
                    "Describe any required guidelines for the store page such as screenshots, trailer, etc.",
                  emoticonStore: ie.F,
                  bSupportHTMLImport: !0,
                  showFormatHelp: "PartnerEvents",
                  classNameForTextArea: ue().EventBBCodeEditor,
                  limitBBCode: void 0,
                  nOverridesRows: 10,
                }),
                s.createElement("h3", null, "Tagging Wizard"),
                s.createElement(m.ji, {
                  label: "Remind developers to use The Tagging Wizard",
                  checked: t.BIsTaggingWizardEnabled(),
                  onChange: t.SetTaggingWizardEnabled,
                }),
              ),
            ),
          );
        });
      function kt(e) {
        const t = r.On.Get(),
          [a, n, i, l] = (0, Ce.SZ)(() => [
            t.BIsLaunchYourDemoEnabled(),
            t.GetRequiredOptions(),
            t.GetLaunchYourDemoRequired(),
            t.GetLaunchYourDemoDueDate(),
          ]);
        return s.createElement(
          pe.ug,
          { title: "Tasks required to start", bStartMinimized: !1 },
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement(
              "p",
              null,
              "These are sections that describe activities that developers need to do in order to be live within the festival.",
            ),
            s.createElement(m.ji, {
              label: "Show 'Launch your demo' section",
              checked: a,
              onChange: t.SetLaunchYourDemoEnabled,
            }),
            s.createElement("hr", null),
            s.createElement(
              "div",
              {
                className: (0, v.Z)(
                  ue().IndentedSubSection,
                  a ? "" : ue().Disabled,
                ),
              },
              s.createElement(m.ry, {
                label: "Optional/Suggested/Required",
                rgOptions: n,
                selectedOption: i,
                onChange: (e) => t.SetLaunchYourDemoRequired(e.data),
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
              }),
              s.createElement(Pe.A, {
                strDescription: "Due Date",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => l,
                fnSetTimeToUpdate: t.SetLaunchYourDemoDueDate,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
            ),
          ),
        );
      }
      function At(e) {
        const t = r.On.Get(),
          [a, n, i, l, o, c] = (0, Ce.SZ)(() => [
            t.BIsDoAnytimeEnabled(),
            t.BIsLivestreamEnabled(),
            t.BIsChatSessionEnabled(),
            t.BIsAnytimeTaggingWizardEnabled(),
            t.BIsEnterDiscountsEnabled(),
            t.GetDiscountEventID(),
          ]);
        return s.createElement(
          pe.ug,
          { title: "Tasks that can be done any time", bStartMinimized: !1 },
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement(
              "p",
              null,
              "Show activities such as livestreaming, chat sessions, tagging wizard, and discounting that developers can do at any time to get more out of their participation in this event.",
            ),
            s.createElement(m.ji, {
              label: "Show This Section to Developers",
              checked: a,
              onChange: t.SetDoAnytimeEnabled,
            }),
            s.createElement("hr", null),
            s.createElement(
              "div",
              {
                className: (0, v.Z)(
                  ue().IndentedSubSection,
                  Boolean(a) ? "" : ue().Disabled,
                ),
              },
              s.createElement(
                "h3",
                null,
                "This Event Will Feature Livestreams",
              ),
              s.createElement(m.ji, {
                label: "Developers can create livestream sessions",
                checked: n,
                onChange: t.SetLivestreamEnabled,
              }),
              s.createElement(
                "span",
                null,
                "Developers may schedule a 'livestream' type event during this sale and their stream will be prioritized in the broadcast player on the event landing page during their scheduled time.",
              ),
              s.createElement("br", null),
              s.createElement("h3", null, "This Event Will Feature Dev Chats"),
              s.createElement(m.ji, {
                label: "Developers can create chat session",
                checked: i,
                onChange: t.SetChatSessionEnabled,
              }),
              s.createElement(
                "span",
                null,
                "Developers may schedule a 'live chat' type event during this sale and their event will appear in the schedule on the event landing page.",
              ),
              s.createElement("br", null),
              s.createElement("h3", null, "Reminder to Update Store Tags"),
              s.createElement(m.ji, {
                label: "Remind developers to use the tagging wizard",
                checked: l,
                onChange: t.SetAnytimeTaggingWizardEnabled,
              }),
              s.createElement(
                "span",
                null,
                "Developers should make use of the tagging wizard to make sure players can find their game.",
              ),
              s.createElement("br", null),
              s.createElement("h3", null, "This Event features discounts"),
              s.createElement(m.ji, {
                label: "Remind developers to enter discounts",
                checked: o,
                onChange: t.SetEnterDiscountsEnabled,
              }),
              s.createElement(
                "span",
                null,
                "Developers are reminded to enter discounts for their game.",
              ),
              s.createElement("br", null),
              Boolean(o) &&
                s.createElement(m.II, {
                  type: "text",
                  label: "Enter Discount Event ID",
                  placeholder:
                    "For example: 7113, in the case of partner.steamgames.com/admin/editdiscountevent/7113",
                  tooltip: "Only requires the ID found at the end of the URL",
                  value: c,
                  onChange: (e) =>
                    t.SetDiscountEventID(e?.currentTarget?.value || ""),
                }),
            ),
          ),
        );
      }
      function wt(e) {
        const t = r.On.Get(),
          [a] = (0, Ce.SZ)(() => [t.BOptInRegistationOnlyShowSaveButton()]),
          [n, i] = (0, s.useState)(
            t.BHasOptInRegistrationTitleOrCheckbox() || a,
          ),
          [l, o] = (0, Ce.SZ)(() => [
            t.GetCurOptInRegistrationTitle(),
            t.GetCurOptInRegistrationCheckbox(),
          ]);
        return s.createElement(
          pe.ug,
          { title: "Override Final Particiption Text", bStartMinimized: !1 },
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement(
              "p",
              null,
              "The final part of the registration for the opt-in will have the following:",
            ),
            s.createElement(
              "p",
              null,
              s.createElement("b", null, "Default Title:"),
              " ",
              (0, R.Xx)("#OptIn_OptinOptionTitle"),
            ),
            s.createElement(
              "p",
              null,
              s.createElement("b", null, "Radio 1:"),
              " ",
              (0, R.Xx)(
                "#OptIn_Participate",
                "Game Name",
                t.GetCurEventTitle(),
              ),
            ),
            s.createElement(
              "p",
              null,
              s.createElement("b", null, "Radio 2:"),
              " ",
              (0, R.Xx)(
                "#OptIn_Participate_No",
                "Game Name",
                t.GetCurEventTitle(),
              ),
            ),
            s.createElement("br", null),
            n
              ? s.createElement(
                  "div",
                  null,
                  s.createElement(m.II, {
                    type: "text",
                    label: "OptIn Registration Title",
                    onChange: (e) =>
                      t.SetCurOptInRegistrationTitle(e.target.value),
                    value: l,
                    disabled: a,
                    placeholder: "Enter OptIn Registration Title Here",
                  }),
                  s.createElement(m.II, {
                    type: "text",
                    label: "OptIn Registration Checkbox",
                    tooltip:
                      "This version cannot dynamically insert the game name or the event name, it is just a localized string",
                    onChange: (e) =>
                      t.SetCurOptInRegistrationCheckbox(e.target.value),
                    value: o,
                    disabled: a,
                    placeholder: "Enter OptIn Registration Checkbox Here",
                  }),
                  s.createElement(m.ji, {
                    label: "Use the Save button as 'Opted In'",
                    tooltip:
                      "This hides the title and checkbox and only shows the save. When the save is pressed it is treated as opted in. Useful for when we are asking for permissions and not actualy looking for opt-in into a festival. Hitting means they are done.",
                    onChange: t.SetOptInRegistationOnlyShowSaveButton,
                    checked: a,
                  }),
                )
              : s.createElement(m.ji, {
                  label: "Override this final text?",
                  checked: n,
                  onChange: i,
                }),
          ),
        );
      }
      function Pt(e) {
        const t = r.On.Get(),
          [a, n] = (0, s.useState)(t.GetCurAppealsText()?.length > 0);
        return s.createElement(
          pe.ug,
          { title: "Appeals Process", bStartMinimized: !1 },
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement(
              "p",
              null,
              "To avoid tickets, we want to provide games that have been pruned out or not considered information about how we reviewed games for inclusion in the sale. This let them review our guidelines and then submit an appeal for us to review for their include.  Not all opt-in's need an appeal process.",
            ),
            Boolean(a)
              ? s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "p",
                    null,
                    "Describe the eligibility criteria here for partners to see. They will see this when their game is not eligible and they can then consider whether they wish to start an appeal.",
                  ),
                  s.createElement(re.R, {
                    fnGetCurText: t.GetCurAppealsText,
                    fnOnTextChange: (e) =>
                      t.SetCurAppealsText(e.currentTarget.value),
                    fnSetText: t.SetCurAppealsText,
                    strPlaceholder: "Enter Appeals Text",
                    emoticonStore: ie.F,
                    bSupportHTMLImport: !0,
                    showFormatHelp: "PartnerEvents",
                    classNameForTextArea: ue().EventBBCodeEditor,
                    limitBBCode: void 0,
                    nOverridesRows: 10,
                  }),
                )
              : s.createElement(
                  m.zx,
                  { onClick: () => n(!0) },
                  "Add Appeals Support",
                ),
          ),
        );
      }
      var Tt = a(33687),
        Nt = a(12999);
      function Rt(e) {
        const { tableRef: t } = e,
          a = (0, s.useCallback)(() => {
            let e = document.getElementById("filter-field"),
              a = document.getElementById("filter-type"),
              n = document.getElementById("filter-value");
            (e.value = ""),
              (a.value = ""),
              (n.value = ""),
              t.current.table.clearFilter();
          }, [t]),
          n = (0, s.useCallback)(() => {
            let e = document.getElementById("filter-field"),
              a = document.getElementById("filter-type"),
              n = document.getElementById("filter-value"),
              i = e.options[e.selectedIndex].value,
              r = -1 != a.selectedIndex ? a.options[a.selectedIndex].value : "";
            i && r && t.current.table.setFilter(i, r, n.value);
          }, [t]);
        return s.createElement(
          "div",
          null,
          "Field: ",
          s.createElement(
            "select",
            { id: "filter-field", onChange: n },
            s.createElement("option", null),
            s.createElement("option", { value: "app_name" }, "App Name"),
            s.createElement("option", { value: "tags" }, "Tags"),
          ),
          s.createElement("span", { style: { paddingLeft: "20px" } }, "Type:"),
          s.createElement(
            "select",
            { id: "filter-type", onChange: n },
            s.createElement("option", { value: "=" }, "="),
            s.createElement("option", { value: "like" }, "like"),
          ),
          s.createElement("span", { style: { paddingLeft: "20px" } }, "Value:"),
          s.createElement("input", {
            id: "filter-value",
            type: "text",
            placeholder: "value to filter",
            onKeyUp: n,
          }),
          s.createElement("span", { style: { paddingLeft: "20px" } }),
          s.createElement(
            "button",
            { id: "download-csv", onClick: a },
            "Clear",
          ),
        );
      }
      var Gt = a(61553),
        xt = a(6683),
        Lt = a(68390),
        Bt = a.n(Lt),
        Mt = a(52108);
      function Ot(e) {
        const t = r.On.Get(),
          a = [
            { title: "App ID", field: "appid", formatter: Mt.L2, width: 80 },
            {
              title: "App Name",
              field: "app_name",
              formatter: Mt.IX,
              width: 250,
            },
            {
              title: "Is Released",
              field: "released",
              formatter: Mt.c8,
              width: 120,
            },
          ];
        return (
          t.BIsEnterDiscountsEnabled() &&
            a.push(
              {
                title: "Long Term Sales Rank",
                field: "long_term_sales_rank",
                formatter: Mt.AV,
                width: 80,
              },
              {
                title: "Discounts",
                field: "discount_info",
                formatter: Mt.sN,
                width: 450,
                variableHeight: !0,
              },
            ),
          a.push(
            {
              title: "Wishlists",
              field: "wishlists",
              formatter: Mt.AV,
              sorter: "number",
              width: 140,
            },
            {
              title: "Sales",
              field: "sales",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            {
              title: "DLC Sales",
              field: "sales_dlc",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            {
              title: "In Game Sales",
              field: "sales_in_game",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            { title: "Tags", field: "tags", width: 250 },
            {
              title: "Publisher ID",
              field: "publisherid",
              formatter: Mt.H,
              width: 120,
            },
          ),
          a
        );
      }
      function Ft(e, t) {
        return Number.parseInt(t.sales) - Number.parseInt(e.sales);
      }
      function Ut(e, t) {
        const {
            oAllStats: a,
            mapAppToDiscountInfo: n,
            strDiscountEventID: i,
            rtEventStart: r,
            rtEventEnd: l,
          } = t,
          s = {
            nTotal: e.length || 0,
            nTopOptedIn: 0,
            nTopOptedOut: 0,
            nTopInvited: 0,
            nTopWithOverlappingDiscount: 0,
            nTopWithOfficialDiscount: 0,
            nTopFree: 0,
            nTopComingSoon: 0,
          };
        return (
          e.forEach((e) => {
            a.setOptedIn.has(e.appid) && (s.nTopOptedIn += 1),
              a.setOptedOut.has(e.appid) && (s.nTopOptedOut += 1),
              a.setInvited.has(e.appid) && (s.nTopInvited += 1);
            const t = n?.get(e.appid);
            t &&
              (t.is_free && (s.nTopFree += 1),
              t.is_coming_soon && (s.nTopComingSoon += 1),
              i &&
                t.discounts?.find((e) => e.discountEventID == i) &&
                (s.nTopWithOfficialDiscount += 1),
              t.discounts?.some((e) => e.rtStartDate < l && e.rtEndDate > r) &&
                (s.nTopWithOverlappingDiscount += 1));
          }),
          s
        );
      }
      function Ht(e) {
        const { rgOverviewList: t } = e,
          [a, n] = (0, s.useMemo)(
            () => [Ut(t.sort(Ft).slice(0, 100), e), Ut(t, e)],
            [e, t],
          );
        return e.mapAppToDiscountInfo
          ? s.createElement(
              pe.ug,
              {
                title: "OptIn Participation Stats",
                tooltip:
                  "Shows the stats for the top 100 and all games invited/optin/opted out for a themed sale. Ignores the eligible games",
                bStartMinimized: !1,
              },
              s.createElement(
                "table",
                { className: ue().StatsCtn },
                s.createElement(
                  "tr",
                  null,
                  s.createElement("th", null),
                  s.createElement("th", { colSpan: 4 }, "Action Taken:"),
                  s.createElement("th", { colSpan: 3 }, "Discounts:"),
                ),
                s.createElement(
                  "tr",
                  null,
                  s.createElement("th", null),
                  s.createElement("th", null, "Total"),
                  s.createElement("th", null, "Opt In"),
                  s.createElement("th", null, "Opt Out"),
                  s.createElement("th", null, "Invited"),
                  s.createElement("th", null, "All"),
                  s.createElement("th", null, "Official Discount Event"),
                  s.createElement("th", null, "Any overlapping Discount"),
                ),
                s.createElement(
                  "tr",
                  null,
                  s.createElement("td", null, "Top Hundred:"),
                  s.createElement(Vt, { oCalc: a }),
                ),
                s.createElement(
                  "tr",
                  null,
                  s.createElement("td", null, "All Games:"),
                  s.createElement(Vt, { oCalc: n }),
                ),
              ),
            )
          : s.createElement(P.V, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function Vt(e) {
        const { oCalc: t } = e;
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "td",
            null,
            t.nTopOptedIn + t.nTopOptedOut + t.nTopInvited,
          ),
          s.createElement("td", null, t.nTopOptedIn),
          s.createElement("td", null, t.nTopOptedOut),
          s.createElement("td", null, t.nTopInvited),
          s.createElement(
            "td",
            null,
            t.nTopWithOverlappingDiscount + t.nTopWithOfficialDiscount,
          ),
          s.createElement("td", null, t.nTopWithOfficialDiscount),
          s.createElement("td", null, t.nTopWithOverlappingDiscount),
        );
      }
      var Xt = a(45492);
      class jt {
        m_mapAppToDemoAppID = new Map();
        m_mapPromises = new Map();
        m_mapLoadCallback = new Map();
        GetOptInDemoApps(e, t) {
          return this.m_mapAppToDemoAppID.get(this.ConvertToKey(e, t));
        }
        BHasLoaded(e, t) {
          return this.m_mapAppToDemoAppID.has(this.ConvertToKey(e, t));
        }
        GetLoadCallback(e, t) {
          const a = this.ConvertToKey(e, t);
          return (
            this.m_mapLoadCallback.has(a) ||
              this.m_mapLoadCallback.set(a, new Xt.pB()),
            this.m_mapLoadCallback.get(a)
          );
        }
        ConvertToKey(e, t) {
          return e + t?.section_id + t?.list_id + t?.option_id;
        }
        async LoadAppWithDemoAppIDs(e, t) {
          const a = this.ConvertToKey(e, t);
          return (
            this.m_mapPromises.has(a) ||
              this.m_mapPromises.set(
                a,
                this.InternalLoadAppWithDemoAppIDs(e, t),
              ),
            this.m_mapPromises.get(a)
          );
        }
        async InternalLoadAppWithDemoAppIDs(e, t) {
          const a = new Map(),
            n = this.ConvertToKey(e, t);
          if (this.m_mapAppToDemoAppID.has(n))
            return this.m_mapAppToDemoAppID.get(n);
          try {
            const i = { sessionid: f.De.SESSIONID, optInName: e },
              r = f.De.PARTNER_BASE_URL + "optin/ajaxgetoptinappwithdemoid",
              l = await C().get(r, { params: i, withCredentials: !0 });
            if (200 == l?.status && 1 == l?.data?.success)
              l.data.app_with_demos?.forEach((e) => {
                a.set(e.appid, e);
              }),
                this.m_mapAppToDemoAppID.set(n, a),
                this.GetLoadCallback(e, t).Dispatch(a);
            else {
              const e = (0, T.l)(l);
              console.error(
                "function GetAppWithDemoAppIDs: error message received with " +
                  e.strErrorMsg,
                e,
              );
            }
          } catch (e) {
            const t = (0, T.l)(e);
            console.error(
              "function GetAppWithDemoAppIDs: failed with " + t.strErrorMsg,
              t,
            );
          }
          return a;
        }
        static s_Singleton;
        static Get() {
          return (
            jt.s_Singleton ||
              ((jt.s_Singleton = new jt()),
              ("dev" != f.De.WEB_UNIVERSE && "beta" != f.De.WEB_UNIVERSE) ||
                (window.g_OptInDemoAppStores = jt.s_Singleton)),
            jt.s_Singleton
          );
        }
        constructor() {
          (0, O.rC)(this);
        }
      }
      function qt(e) {
        const { tableRef: t, mapAppToDiscountInfo: a, oAllStats: n } = e,
          i = r.On.Get(),
          { jsonFeatured: l } = n,
          [o, c, m] = (0, Ce.SZ)(() => [
            i.BIsAdditionalFeaturingSectionEnabled() &&
              i.BIsCollectTrailerPermissions(),
            i.BIsAdditionalFeaturingSectionEnabled() &&
              i.BIsCollectDemoPermissions(),
            i.BIsAdditionalFeaturingSectionEnabled() &&
              i.BIsCollectGameProfileIntent(),
          ]),
          u = (function (e, t) {
            const [a, n] = (0, s.useState)(jt.Get().GetOptInDemoApps(e));
            return (
              (0, s.useEffect)(() => {
                t &&
                  !jt.Get().BHasLoaded(e) &&
                  jt.Get().LoadAppWithDemoAppIDs(e);
              }, [e, t]),
              (0, Ye.Qg)(jt.Get().GetLoadCallback(e), n),
              a
            );
          })(
            (0, Ce.SZ)(() => i.GetOptInPageID()),
            c,
          ),
          p = (0, s.useMemo)(() => l.map((e) => e.appid), [l]),
          _ = (0, ze.QQ)(i.GetOptInPageID(), p),
          h = (0, s.useMemo)(
            () =>
              l && _
                ? l.map((e) => {
                    if (_) {
                      const t = _.get(e.appid);
                      t &&
                        ((e.opt_in = t.opt_in),
                        (e.trailers_opt_in = Boolean(
                          t.jsondata?.trailer_permission &&
                            t.jsondata?.rtime_granting_trailer,
                        )),
                        (e.demo_opt_in = Boolean(
                          t.jsondata?.demo_permission &&
                            t.jsondata?.rtime_granting_demo,
                        )),
                        (e.game_profile_intent = Boolean(
                          t.jsondata?.game_profile_intent &&
                            t.jsondata?.rtime_granting_profile,
                        )),
                        (e.store_url = `${f.De.STORE_BASE_URL}app/${e.appid}`));
                    }
                    if (u) {
                      const t = u.get(e.appid);
                      t &&
                        (t.is_demo_released
                          ? (e.demo_state = "Released")
                          : t.is_build_reviewed
                            ? (e.demo_state = "Approved")
                            : (e.demo_state = "No Demo"));
                    }
                    return e;
                  })
                : null,
            [l, _, u],
          );
        if (!_ || !h || (c && !u))
          return s.createElement(P.V, {
            string: (0, R.Xx)("#Loading"),
            position: "center",
            size: "medium",
          });
        const g =
            f.De.PARTNER_BASE_URL + "optin/sale/" + i.GetOptInPageID() + "/",
          E = [
            {
              title: "Opted In",
              field: "opt_in",
              formatter: Mt.KF,
              width: 50,
              formatterParams: g,
            },
            ...Ot(),
          ];
        o &&
          E.push({
            title: "Trailer OptIn",
            field: "trailers_opt_in",
            formatter: Mt.Xv,
            width: 50,
          }),
          c &&
            E.push(
              {
                title: "Demo OptIn",
                field: "demo_opt_in",
                formatter: Mt.Xv,
                width: 50,
              },
              {
                title: "Demo State",
                field: "demo_state",
                formatter: Mt.T6,
                width: 100,
              },
            ),
          m &&
            E.push({
              title: "Game Profile OptIn",
              field: "game_profile_intent",
              formatter: Mt.Xv,
              width: 50,
            }),
          E.push({ title: "Store URL", field: "store_url", width: 350 });
        const S = (0, Mt.n_)();
        return s.createElement(
          d.SV,
          null,
          s.createElement(
            "div",
            { className: Bt().ManageCallout },
            "To enable additional options unlocked during registration, switch over to the 'editor' tab and scroll to the very bottom. Games can be added to the featured list from the bottom of the 'editor' tab, or from the pruning process.",
          ),
          s.createElement(xt.ReactTabulator, {
            ref: t,
            columns: E,
            data: h,
            options: S,
          }),
          s.createElement("br", null),
        );
      }
      function Wt(e) {
        const {
            tableRef: t,
            bSomeEmailSent: a,
            mapAppToDiscountInfo: n,
            oAllStats: i,
          } = e,
          l = r.On.Get(),
          o = (0, r.tb)(),
          [c, m, u, p] = (0, Ce.SZ)(() => [
            l.GetEventStartTime(),
            l.GetEventEndTime(),
            l.BIsInvitationOnly(),
            l.GetDiscountEventID(),
          ]),
          {
            jsonEligible: _,
            jsonOptedIn: h,
            jsonOptedOut: g,
            jsonInvited: S,
            jsonPruned: v,
            jsonPendingReview: D,
          } = i,
          f = Ot(),
          y = [
            { title: "App ID", field: "appid", formatter: Mt.L2, width: 80 },
            {
              title: "App Name",
              field: "app_name",
              formatter: Mt.IX,
              width: 250,
            },
            {
              title: "Is Released",
              field: "released",
              formatter: Mt.c8,
              width: 120,
            },
            {
              title: "Wishlists",
              field: "wishlists",
              formatter: Mt.AV,
              sorter: "number",
              width: 140,
            },
            {
              title: "Sales",
              field: "sales",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            {
              title: "DLC Sales",
              field: "sales_dlc",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            {
              title: "In Game Sales",
              field: "sales_in_game",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            { title: "Tags", field: "tags", width: 250 },
            {
              title: "Publisher IDs",
              field: "publishers",
              formatter: Mt.H,
              width: 120,
            },
          ],
          b = (0, Mt.n_)(),
          I = [];
        if (a && u) {
          if (a) {
            const e = o
                ? o.count_opted_in + o.count_opted_out + o.count_invited
                : 0,
              a = [...f];
            a.unshift({
              title: "State",
              field: "appid",
              formatter: Mt.oC,
              width: 120,
              formatterParams: i,
            });
            const r = [...h, ...g, ...S];
            I.push({
              name: o ? `Overview (${e})` : "Overview",
              key: "overview",
              status: "",
              statusType: "success",
              tooltip:
                "Shows a single table with all of the opted in, opted out and invited apps",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(Ht, {
                  rgOverviewList: r,
                  oAllStats: i,
                  mapAppToDiscountInfo: n,
                  strDiscountEventID: p,
                  rtEventStart: c,
                  rtEventEnd: m,
                }),
                s.createElement(xt.ReactTabulator, {
                  ref: t,
                  columns: a,
                  data: r,
                  options: b,
                }),
                s.createElement("br", null),
              ),
            });
          }
        } else
          I.push({
            name: o
              ? "Eligible via OptIn Def (" + o.count_eligible + ")"
              : "Eligible via OptIn Def",
            key: "eligible",
            status: "",
            statusType: "success",
            tooltip:
              "Automatically hides when invitation only mode and we have already sent some email.",
            contents: s.createElement(
              d.SV,
              null,
              s.createElement(
                "div",
                { className: Bt().ManageCallout },
                "Eligible information is based on the published page",
              ),
              s.createElement(xt.ReactTabulator, {
                ref: t,
                columns: y,
                data: _,
                options: b,
              }),
              s.createElement("br", null),
            ),
          });
        const C = a ? "Invited Apps" : "Pending Invite";
        return (
          I.push(
            {
              name: o ? "Opted In (" + o.count_opted_in + ")" : "Opted In",
              key: "manage&section=optedin",
              status: "",
              statusType: "success",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(xt.ReactTabulator, {
                  ref: t,
                  columns: f,
                  data: h,
                  options: b,
                }),
                s.createElement("br", null),
              ),
            },
            {
              name: o ? "Opted Out (" + o.count_opted_out + ")" : "Opted Out",
              key: "manage&section=optedout",
              status: "",
              statusType: "success",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(xt.ReactTabulator, {
                  ref: t,
                  columns: f,
                  data: g,
                  options: b,
                }),
                s.createElement("br", null),
              ),
            },
            {
              name: o ? C + " (" + o.count_invited + ")" : C,
              key: "manage&section=invited",
              tooltip:
                "This only includes invited apps that haven't sinced opted out or opted in.",
              status: "",
              statusType: "success",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(xt.ReactTabulator, {
                  ref: t,
                  columns: f,
                  data: S,
                  options: b,
                }),
                s.createElement("br", null),
              ),
            },
            {
              name: o
                ? "Pending Review Apps (" + o.count_pending_review + ")"
                : "Pending Review Apps",
              key: "manage&section=pending_review",
              tooltip:
                "IApps that are candidates of the App review process. They can be invited or pruned out.",
              status: "",
              statusType: "success",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(xt.ReactTabulator, {
                  ref: t,
                  columns: f,
                  data: D,
                  options: b,
                }),
                s.createElement("br", null),
              ),
            },
            {
              name: o
                ? "Pruned Out Apps (" + o.count_pruned + ")"
                : "Pruned Apps",
              key: "manage&section=pruned",
              tooltip:
                "Invited apps which we reviewed and then pruned from the list as they don't closely match the events theme.",
              status: "",
              statusType: "success",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(xt.ReactTabulator, {
                  ref: t,
                  columns: f,
                  data: v,
                  options: b,
                }),
                s.createElement("br", null),
              ),
            },
            {
              name: o
                ? "Featured Apps (" + o.count_featured + ")"
                : "Featured Apps",
              key: "manage&section=featured",
              status: "",
              statusType: "success",
              contents: s.createElement(qt, { ...e }),
            },
          ),
          s.createElement(E.n, { tabs: I, bDisableRouting: !0 })
        );
      }
      (0, B.gn)([O.LO], jt.prototype, "m_mapAppToDemoAppID", void 0);
      var zt = a(46984);
      class Zt {
        async FetchAllEligibleOptInApps(e) {
          const t = f.De.PARTNER_BASE_URL + "optin/ajaxgetalleligibleoptinapps",
            a = { sessionid: f.De.SESSIONID, opt_in_name: e },
            n = await C().get(t, { params: a, withCredentials: !0 });
          return n?.data?.data;
        }
        static s_Singleton;
        static Get() {
          return Zt.s_Singleton || (Zt.s_Singleton = new Zt()), Zt.s_Singleton;
        }
        constructor() {}
      }
      function Kt(e) {
        const t = (0, F.useQuery)(
            ["useAllEligibleOptInApps", e],
            async () =>
              e ? await Zt.Get().FetchAllEligibleOptInApps(e) : null,
            { staleTime: 60 * zt._H.PerMinute * 1e3 },
          ),
          a = (0, s.useMemo)(
            () =>
              t.isLoading || null == t.data
                ? null
                : {
                    eligible_appids: new Set(t.data?.eligible_appids || []),
                    opted_in_appids: new Set(t.data?.opted_in_appids || []),
                    opted_out_appids: new Set(t.data?.opted_out_appids || []),
                    invited_appids: new Set(t.data?.invited_appids || []),
                    pruned_appids: new Set(t.data?.pruned_appids || []),
                    featured_appids: new Set(t.data?.featured_appids || []),
                  },
            [t.data, t.isLoading],
          );
        return t.isLoading || !a ? null : a;
      }
      var Qt = a(12251);
      const Yt = (e) => {
        const t = r.On.Get(),
          a = (0, s.useRef)(null),
          [n, i] = s.useState("Demo Package " + t.GetFullName()),
          [l, o] = s.useState(void 0),
          [c, d] = s.useState(void 0),
          [u, p] = s.useState(void 0),
          [_, h] = s.useState(void 0);
        s.useEffect(
          () => () =>
            a.current &&
            a.current("DialogChoosePackageNameAndDynamicSetting: unmounting"),
          [],
        );
        return _
          ? s.createElement(w.uH, {
              strTitle: "Create Demo Package",
              strDescription:
                "Package succesfully created and opt-in definition updated.",
              onOK: e.closeModal && e.closeModal,
              onCancel: e.closeModal && e.closeModal,
              bAlertDialog: !0,
            })
          : s.createElement(
              w.uH,
              {
                strTitle: "Create Demo Package",
                strDescription:
                  "Choose a package name. We will create a package with release override for 'Featured' Apps who have approved or released demos and that have opted in for us to be able use their demos.",
                onOK: async () => {
                  d(!0);
                  const e = C().CancelToken.source();
                  a.current = e.cancel;
                  try {
                    const a = new FormData();
                    a.append("sessionid", f.De.SESSIONID),
                      a.append("optInName", t.GetFullName()),
                      a.append("packageName", n);
                    const i =
                        f.De.PARTNER_BASE_URL + "optin/ajaxcreatedemopackage",
                      r = await C().post(i, a, {
                        withCredentials: !0,
                        cancelToken: e.token,
                      });
                    if (
                      200 == r?.status &&
                      1 == r.data?.success &&
                      r.data.packageid >= 0 &&
                      !e.token.reason
                    ) {
                      t.AddDemoPackage({
                        packageid: r.data.packageid,
                        rtimecreated: Math.floor(Date.now() / 1e3),
                      });
                      const a = await t.Save(e.token);
                      Boolean(a) && !e.token.reason ? o(a) : h(!0);
                    } else
                      e.token.reason ||
                        o(
                          "Create Package Failed: " +
                            r?.status +
                            " " +
                            r?.statusText,
                        );
                  } catch (t) {
                    const a = (0, T.l)(t),
                      n =
                        "DialogChoosePackageNameAndDynamicSetting error: " +
                        a.strErrorMsg;
                    console.error(n, a), e.token.reason || o(n);
                  } finally {
                    e.token.reason || d(!1);
                  }
                },
                bOKDisabled: 0 == n.trim().length || void 0 !== c,
                onCancel: e.closeModal,
              },
              s.createElement("br", null),
              s.createElement(m.II, {
                type: "text",
                label: "Package Name",
                tooltip:
                  "Public name of the package; please give a thoughtful and easy to search name",
                value: n,
                onChange: (e) => i(e.currentTarget.value),
              }),
              Boolean(c) &&
                s.createElement(P.V, {
                  string: u
                    ? "Package Created, Saving Model"
                    : "Creating Package in Progress",
                  size: "medium",
                  position: "center",
                }),
              Boolean(l) &&
                s.createElement(
                  "div",
                  { className: k.ErrorStylesBackground },
                  l,
                ),
            );
      };
      function Jt(e, t) {
        const a = r.On.Get(),
          n = new Array();
        return (
          a.GetDynamicSections().forEach((a) => {
            (e && !e.includes(a.input_style)) ||
              a.lists.forEach((e) => {
                t
                  ? n.push({
                      value: a.unique_id + "|" + e.unique_id,
                      label: e.option_title
                        ? e.option_title.english
                        : a.name.english,
                    })
                  : e.options.forEach((t) => {
                      n.push({
                        value:
                          a.unique_id + "|" + e.unique_id + "|" + t.unique_id,
                        label: t.text.english,
                      });
                    });
              });
          }),
          n
        );
      }
      const $t = (e) => {
          const t = Jt(e.rgInputType);
          return s.createElement(
            s.Fragment,
            null,
            Boolean(e.label) && s.createElement("div", null, e.label),
            s.createElement(ke.ZP, {
              styles: { option: (e) => ({ ...e, color: "#444444" }) },
              isSearchable: !0,
              isMulti: !1,
              placeholder: "Choose One",
              onChange: e.fnChoiceMade,
              value: e.selected,
              options: t,
              defaultMenuIsOpen: !1,
            }),
          );
        },
        ea = (e) => {
          const t = Jt(e.rgInputType, e.bForDataExport);
          return s.createElement(
            s.Fragment,
            null,
            Boolean(e.label) && s.createElement("div", null, e.label),
            s.createElement(ke.ZP, {
              styles: { option: (e) => ({ ...e, color: "#444444" }) },
              isSearchable: !0,
              isMulti: !0,
              placeholder: "Choose One or More",
              onChange: e.fnChoiceMade,
              value: e.selected,
              options: t,
              defaultMenuIsOpen: !1,
            }),
          );
        },
        ta = (0, $.Pi)((e) => {
          const { editModel: t } = e;
          return t.GetDemoPackages()?.length > 0
            ? s.createElement(
                "div",
                null,
                s.createElement("h3", null, "Packages Created by OptIn"),
                t
                  .GetDemoPackages()
                  .map((e) =>
                    s.createElement(aa, {
                      key: "pack" + e.packageid,
                      demoPackageInfo: e,
                      editModel: t,
                    }),
                  ),
              )
            : null;
        }),
        aa = (0, $.Pi)((e) => {
          const { demoPackageInfo: t, editModel: a } = e,
            [n, i] = (0, Qe.ie)(t.packageid, { include_basic_info: !0 });
          return a.BInitialized() && null != t.packageid
            ? n && 1 != i
              ? s.createElement(
                  "div",
                  null,
                  s.createElement(
                    "div",
                    null,
                    s.createElement(
                      "a",
                      {
                        href:
                          f.De.PARTNER_BASE_URL +
                          "store/packagelanding/" +
                          t.packageid,
                        target: "_blank",
                      },
                      n.GetName(),
                      " - package id: ",
                      t.packageid,
                    ),
                  ),
                  s.createElement(
                    "div",
                    null,
                    "Matches Option: ",
                    a.GetOptionNameByID(t.selection),
                  ),
                  s.createElement(
                    "div",
                    null,
                    "Created Time: ",
                    (0, R.vX)(t.rtimecreated),
                    " - ",
                    (0, Qt.Sc)(t.rtimecreated, { bForce24HourClock: !1 }),
                  ),
                )
              : 1 == i
                ? s.createElement(P.V, {
                    string: "Loading Package " + t.packageid,
                    size: "small",
                    position: "center",
                  })
                : s.createElement(
                    "div",
                    { className: k.ErrorStylesBackground },
                    "Failed to load package: ",
                    t.packageid,
                  )
            : s.createElement(P.V, null);
        });
      function na(e) {
        const t = e.split("|");
        return { section_id: t[0], list_id: t[1], option_id: t[2] };
      }
      var ia = a(88408);
      class ra {
        constructor() {
          (0, O.rC)(this);
        }
        nLoadedOptIn = 0;
        Increment() {
          this.nLoadedOptIn += 1;
        }
      }
      function la(e, t, a) {
        const n = (0, s.useMemo)(
            () => t.filter((e) => e && e.appid).map((e) => e.appid),
            [t],
          ),
          i = (0, ze.QQ)(e, n, a);
        return Boolean(i);
      }
      function sa(e) {
        const t = r.On.Get(),
          [a, n] = s.useState(null),
          [i, l] = s.useState(new Array()),
          [o, c] = s.useState(!1),
          [d, u] = s.useState(!1),
          [p, _] = s.useState(!0),
          [h, E] = s.useState(!1);
        return s.createElement(
          w.uH,
          {
            strTitle: "Export Press Opt-In CSV",
            onCancel: e.closeModal,
            onOK: () => {
              e.closeModal && e.closeModal();
              let t = a ? na(a.value) : null,
                n = i?.length > 0 ? i.map((e) => na(e.value)) : null;
              (0, g.AM)(
                s.createElement(oa, {
                  strOptInName: e.strOptInName,
                  optInStats: e.optInStats,
                  filter: t,
                  rgAdditionalData: n,
                  bExportArtistStatement: o,
                  bFilterToDemoExist: d,
                  bIncludePerssContact: p,
                  bIncludeCategories: h,
                }),
                window,
              );
            },
            strDescription:
              "Choose an optional filter which will limit which partners to export. Choose optionally additional data to export that the partners would have entered",
          },
          s.createElement($t, {
            selected: a,
            fnChoiceMade: n,
            rgInputType: ["checkbox"],
            label: "Choose Filter:",
          }),
          s.createElement(ea, {
            selected: i,
            fnChoiceMade: l,
            bForDataExport: !0,
            label: "Additional Data to Export:",
          }),
          t.BIsArtistStatementEnabled() &&
            s.createElement(m.ji, {
              label: "Export Artist Statement",
              checked: o,
              onChange: c,
            }),
          t.BIsArtistStatementEnabled() &&
            s.createElement(m.ji, {
              label: "Export Press Contact Info",
              checked: p,
              onChange: _,
            }),
          t.BIsLaunchYourDemoEnabled() &&
            s.createElement(m.ji, {
              label: "Filter to games with Demo Apps Created",
              tooltip:
                "Just requires the partner to have created the demo appid. This will include live demos and demo still being builte",
              checked: d,
              onChange: u,
            }),
          t.BIsCategoriesEnabled() &&
            s.createElement(m.ji, {
              label: "Add the categories selection",
              tooltip:
                "Partners can choose up to two categories, include them in the output.",
              checked: h,
              onChange: E,
            }),
        );
      }
      function oa(e) {
        const {
            rgAdditionalData: t,
            filter: a,
            bIncludePerssContact: n,
            bIncludeCategories: i,
            bExportArtistStatement: o,
          } = e,
          c = () => e.closeModal && e.closeModal(),
          { optInStats: u, strOptInName: p, bFilterToDemoExist: _ } = e,
          h = u.length,
          [g, E] = (0, s.useState)(!1),
          [S] = (0, s.useState)(() => new ra()),
          v = la(p, u, S),
          D = (0, s.useRef)(null),
          y = t?.length > 0,
          b = (0, s.useMemo)(() => {
            const e = new Array();
            return (
              y &&
                t.forEach((t) => {
                  e.push(r.On.Get().GetDynamicSectionByID(t.section_id));
                }),
              e
            );
          }, [y, t]);
        return (
          (0, s.useEffect)(() => {
            if (u && v) {
              (async () => {
                const e = C().CancelToken.source();
                D.current = e.cancel;
                let s = null;
                _ && (s = await jt.Get().LoadAppWithDemoAppIDs(p, a));
                const c = new Array();
                u
                  .filter((e) =>
                    ze.qh.Get().BHasOptionOnRegistration(e.appid, p, a),
                  )
                  .filter((e) =>
                    Boolean(null == s || s.get(e.appid)?.demo_appid),
                  )
                  .forEach((e) => {
                    const a = ze.qh.Get().GetRegistration(e.appid, p),
                      s = {
                        game_name: e.app_name || "undefined",
                        store_page: f.De.STORE_BASE_URL + "app/" + e.appid,
                        tags: e.tags || "",
                      };
                    if (
                      (n &&
                        ((s.press_contact_name =
                          a?.jsondata?.press_contact_name || ""),
                        (s.press_contact_email =
                          a?.jsondata?.press_contact_email || "")),
                      o &&
                        (s.artist_statement =
                          a?.jsondata?.artist_statement || ""),
                      i && a?.jsondata?.category_tags)
                    ) {
                      let e = 0;
                      const t = l.v.Get().GetGameTags();
                      console.log(a.jsondata.category_tags);
                      for (const n in a.jsondata.category_tags) {
                        const a = t.filter((e) => e.value == n);
                        s["category_choice_" + ++e] =
                          a?.length > 0 ? a[0].label : n;
                      }
                      for (; e < 2; ) s["category_choice_" + ++e] = "";
                    }
                    y &&
                      t.forEach((e, t) => {
                        const n = b[t],
                          i = n.GetListByID(e.list_id),
                          l = i.option_title
                            ? i.option_title.english
                            : n.GetName(),
                          o = (0, ze.A0)(a, e);
                        if ("text_input" == n.GetInputStyle())
                          s[l] = o?.length > 0 ? o[0] : "";
                        else {
                          let t = "";
                          o?.forEach((a) => {
                            const n = r.On.Get().GetDynamicOptionByID({
                              ...e,
                              option_id: a,
                            });
                            t.length > 0 && (t += "|"), (t += n.text.english);
                          }),
                            (s[l] = t);
                        }
                      }),
                      c.push(s);
                  }),
                  ia.K.WriteCSVToFile(c, "press_game_list.csv"),
                  E(!0);
              })();
            }
            return () =>
              D.current && D.current("OptInStatsPressCSV: unmounting");
          }, [u, p, _, v, a, n, o, i, t, y, b]),
          s.createElement(
            d.SV,
            null,
            s.createElement(
              w.e1,
              { onEscKeypress: c },
              s.createElement(
                m.VY,
                null,
                s.createElement(m.h4, null, "Export Press Opt-In CSV"),
                s.createElement(
                  m.uT,
                  null,
                  s.createElement(
                    m.Ac,
                    null,
                    s.createElement(
                      "div",
                      null,
                      "Extracting the list of opt-in games and producing a CSV. This requires reading in each opt-in record by partners to extract their 'Press Contact Info' if available which takes a while. Please wait while we pull that information",
                    ),
                    s.createElement("br", null),
                    g
                      ? s.createElement(
                          "div",
                          null,
                          "Completed processing, needed to load ",
                          S.nLoadedOptIn,
                          " Apps out of a total ",
                          u.length,
                          ". You can close this dialog.",
                        )
                      : s.createElement(ca, { tracker: S, nTotalOptIn: h }),
                  ),
                ),
                s.createElement(
                  m.$_,
                  null,
                  s.createElement(m.o9, {
                    onCancel: c,
                    bOKDisabled: !g,
                    strOKText: "Done",
                    onOK: c,
                  }),
                ),
              ),
            ),
          )
        );
      }
      (0, B.gn)([O.LO], ra.prototype, "nLoadedOptIn", void 0);
      const ca = (0, $.Pi)((e) => {
        const { tracker: t, nTotalOptIn: a } = e,
          n = (0, ze.lQ)();
        return s.createElement(P.V, {
          string: `Progressing ${n ? t.nLoadedOptIn : 0} / ${a}`,
          size: "medium",
          position: "center",
        });
      });
      function ma(e) {
        const {
            closeModal: t,
            eligigleOptInStats: a,
            strOptInName: n,
            bPendingReviewInstead: i,
          } = e,
          r = (0, s.useMemo)(() => {
            const e = new Set(a.map((e) => e.appid));
            return Array.from(e);
          }, [a]),
          l = (0, Qe.wZ)(r, { include_release: !0 }),
          [o, c] = (0, s.useState)(!0),
          [d, u] = (0, s.useState)(!1),
          [p, _] = (0, s.useState)(1e3),
          [h, g, E, S, v] = (0, s.useMemo)(
            () => [
              a.length,
              a.filter((e) => e.released).length,
              a.filter((e) => {
                if (!e.released) return !1;
                return (
                  Number.parseInt(e.sales.replace(/[^0-9.-]+/g, "")) +
                    Number.parseInt(e.sales_dlc.replace(/[^0-9.-]+/g, "")) +
                    Number.parseInt(e.sales_in_game.replace(/[^0-9.-]+/g, "")) >
                  p
                );
              }).length,
              a.filter((e) => !e.released).length,
              a.filter((e) => {
                if (!e.released && 1 != l) {
                  const t = Ke.Z.Get().GetApp(e.appid);
                  return Boolean(t?.BIsComingSoon());
                }
                return !1;
              }).length,
            ],
            [a, p, l],
          ),
          [D, f] = (0, s.useState)(void 0),
          [y, b] = (0, s.useState)(void 0),
          [I, C] = (0, s.useState)(void 0),
          { fnUpdateAppToInvitation: A } = We(),
          T = (0, s.useCallback)(async () => {
            b(!0);
            const e = Array.from(
              new Set(
                a
                  .filter((e) => {
                    if (e.released) {
                      if (d) {
                        return (
                          Number.parseInt(e.sales.replace(/[^0-9.-]+/g, "")) +
                            Number.parseInt(
                              e.sales_dlc.replace(/[^0-9.-]+/g, ""),
                            ) +
                            Number.parseInt(
                              e.sales_in_game.replace(/[^0-9.-]+/g, ""),
                            ) >
                          p
                        );
                      }
                      return !0;
                    }
                    if (o) {
                      const t = Ke.Z.Get().GetApp(e.appid);
                      return Boolean(t?.BIsComingSoon());
                    }
                    return !0;
                  })
                  .map((e) => e.appid),
              ),
            );
            let t = 1;
            for (; e.length > 0; ) {
              const a = e.splice(0, 100);
              if (((t = await A(n, a, !i, !1, i)), 1 != t)) break;
            }
            1 != t &&
              f("Hit error on invite batch, check networks/console: " + t),
              C(!0);
          }, [d, i, o, a, A, p, n]);
        return s.createElement(
          w.uH,
          {
            strTitle: `Move Eligible Apps To '${i ? "Pending Review" : "Invited"}'`,
            strDescription: `Move eligible apps into the '${i ? "Pending Review" : "Invited"}' state as computed by the latest refresh stats to the ${i ? "app requiring review. This lets us prune the app to be precisely matching our festival purpose." : "invited app list. This lets them participate immediately when festival is open."}`,
            bDisableBackgroundDismiss: !0,
            onCancel: t,
            bOKDisabled: y || 1 == l,
            onOK: T,
            strOKButtonText: `Mark Apps as '${i ? "Pending Review" : "Invited"}'`,
          },
          Boolean(!y) &&
            s.createElement(
              s.Fragment,
              null,
              Boolean(1 == l) &&
                s.createElement(P.V, {
                  size: "small",
                  string: "Loading App Details",
                }),
              s.createElement(
                "div",
                null,
                s.createElement("div", null, "Total Eligible Apps: ", h),
                s.createElement("div", null, "** Total Released Apps: ", g),
                d &&
                  s.createElement(
                    "div",
                    null,
                    "** Total Released Apps with min revenue: ",
                    E,
                  ),
                s.createElement("div", null, "** Total Unreleased Apps: ", S),
                s.createElement(
                  "div",
                  null,
                  "** Total Unreleased Apps with Coming Soon Pages: ",
                  v,
                ),
              ),
              d
                ? s.createElement(m.II, {
                    type: "number",
                    label: `Minimum lifetime revenue for released app to be included in the '${i ? "Pending Review" : "Invite"}'`,
                    min: "0",
                    max: "100000000",
                    value: p,
                    tooltip:
                      "This looks at the combination of lifetime package sales, dlc sales and in-game sales",
                    onChange: (e) => {
                      const t = Number.parseInt(e.currentTarget.value) || 0;
                      _(t);
                    },
                  })
                : s.createElement(m.ji, {
                    label: "Filter released apps by min lifetime revenue?",
                    checked: d,
                    onChange: u,
                  }),
              s.createElement(m.ji, {
                label: "Unreleased App Require a Coming Soon Page",
                checked: o,
                onChange: c,
              }),
            ),
          Boolean(y && !I) &&
            s.createElement(P.V, {
              string: (0, R.Xx)("#Saving"),
              size: "medium",
            }),
          Boolean(D) &&
            s.createElement("div", { className: k.ErrorStylesBackground }, D),
          Boolean(I && !D) &&
            s.createElement(
              "div",
              null,
              "Moving ",
              i ? "Pending Review" : "Invited",
              " to now completed, you can close the dialog",
            ),
        );
      }
      var da,
        ua = a(29480);
      async function pa(e, t, a, n, i) {
        try {
          const i = await fetch(t);
          console.log("fetched: ", i);
          const r = await i.blob(),
            l = window.URL.createObjectURL(r),
            s = document.createElement("a");
          (s.style.display = "none"),
            (s.href = l),
            (s.download = a),
            document.body.appendChild(s),
            s.click(),
            window.URL.revokeObjectURL(l),
            n(e + 1),
            console.log("Downloaded " + e + ":" + a + " size: " + r.size);
        } catch (e) {
          const t = (0, T.l)(e);
          console.log("Download error" + e.strErrorMsg),
            i("Download failed " + t.strErrorMsg);
        }
      }
      function _a(e) {
        const { closeModal: t, optInStats: a } = e,
          n = r.On.Get(),
          i = n.GetOptInPageID(),
          l = (0, ua.T)("OptinAdminManageDownloadTrailers"),
          [o, c] = (0, s.useState)(1),
          [d, u] = s.useState(null),
          [p, _] = (0, s.useState)(null),
          [h, g] = (0, s.useState)(!1),
          [E, S] = (0, s.useState)(!0),
          [v, D] = (0, s.useState)(new ra()),
          y = la(n.GetOptInPageID(), a, v),
          b = (function (e) {
            const [t, a] = (0, s.useState)(!0);
            return (
              (0, s.useEffect)(() => {
                const t = C().CancelToken.source(),
                  n = e.map((e) => e.appid);
                return (
                  Ke.Z.Get()
                    .QueueMultipleAppRequests(n, {
                      include_trailers: !0,
                      include_screenshots: !0,
                    })
                    .then(() => {
                      t.token.reason || a(!1);
                    }),
                  () => t.cancel("useLoadedStoreItemTrailers: unmounting")
                );
              }, [e]),
              t
            );
          })(a),
          [I, A] = s.useState(void 0),
          [T, N] = s.useState(void 0),
          [R, G] = (0, s.useState)(0),
          [x, L] = (0, s.useState)(da.k_EDownloadTrailer),
          [B, M] = (0, s.useState)([]);
        return (
          (0, s.useEffect)(() => {
            if (!b && (y || !E)) {
              const e = a.map((e) => e.appid),
                t = d ? na(d.value) : null,
                n = e
                  .filter(
                    (e) =>
                      x != da.k_EDownloadTrailer ||
                      Ke.Z.Get().GetApp(e)?.BHasHighlightTrailers(),
                  )
                  .filter(
                    (e) => !E || ze.qh.Get().BHasOptionOnRegistration(e, i, t),
                  )
                  .filter((e) => !h || ze.qh.Get().BHasOptInTrailer(e, i))
                  .filter((e) => !p || p.has(e));
              M(n);
            }
          }, [b, y, a, d, i, p, x, E, h]),
          s.createElement(
            w.uH,
            {
              strTitle:
                "Download Game Capsules or Trailers for " + n.GetFullName(),
              strDescription:
                "Downloads all of the highest quality MP4 or PNG/JPG file for the 'first' trailers or game capsule that appears on the store page. One per opted in game. This has since been modified to support screenshots and any capsule format.",
              onOK: async () => {
                N(!0),
                  await (async function (e, t, a, n, i, r) {
                    console.log(
                      "Download Assets " +
                        t +
                        " with available assets: " +
                        e?.length,
                    );
                    for (let l = 0; l < Math.min(t, e?.length || 0); ++l) {
                      if (r?.token?.reason)
                        return void console.log(
                          "cancelled download: " + r.token.reason,
                        );
                      const t = e[l],
                        s = Ke.Z.Get().GetApp(t);
                      let o, c;
                      if (a == da.k_EDownloadTrailer) {
                        const e = s
                          .GetAllTrailers()
                          .GetHighlightTrailers()[0]
                          .GetTrailerMax()
                          .strMP4URL.replace("http://", "https://");
                        (c = `${f.De.PARTNER_BASE_URL}gfxproxy/trailergfx?appid=${t}&itype=apps`),
                          (o =
                            s.GetName().replace(/[^\w\s!?]/g, "") +
                            "_" +
                            t +
                            ".mp4"),
                          console.log("fetching indirectly ", e, c),
                          await pa(l, c, o, n, i);
                      } else if (
                        a == da.k_EDownloadAllAgeSafeScreenshots ||
                        a == da.k_EDownloadScreenshots
                      ) {
                        const e =
                          a == da.k_EDownloadAllAgeSafeScreenshots
                            ? s.GetOnlyAllAgesSafeScreenshots()
                            : s.GetBothAllAgesSafeAndMatureScreenshots();
                        for (let a = 0; a < e.length; ++a) {
                          const r = e[a].split("/").pop().split("?")[0];
                          (o =
                            s.GetName().replace(/[^\w\s!?]/g, "") +
                            "_" +
                            t +
                            "_" +
                            r),
                            (c = `${f.De.PARTNER_BASE_URL}gfxproxy/gfx/apps/${t}/${r}`),
                            await pa(l, c, o, n, i);
                        }
                      } else {
                        let e = "header.jpg";
                        switch (a) {
                          default:
                          case da.k_EDownloadHeader:
                            break;
                          case da.k_EDownloadSmallCapsule:
                            e = "capsule_231x87.jpg";
                            break;
                          case da.k_EDownloadMainCapsule:
                            e = "capsule_616x353.jpg";
                            break;
                          case da.k_EDownloadVerticalCapsule:
                            e = "hero_capsule.jpg";
                            break;
                          case da.k_EDownloadPageBackground:
                            e = "page_bg_raw.jpg";
                        }
                        (o =
                          s.GetName().replace(/[^\w\s!?]/g, "") +
                          "_" +
                          t +
                          "_" +
                          e),
                          (e += `?t=${Math.floor(Date.now() / 1e3)}&exclude_beta=1`),
                          (c = `${f.De.PARTNER_BASE_URL}gfxproxy/gfx/apps/${t}/${e}`),
                          console.log("fetching indirectly ", c),
                          await pa(l, c, o, n, i);
                      }
                      console.log(`Finished processing appid ${s.GetName()}`);
                    }
                  })(B, o, x, G, A, l);
              },
              bOKDisabled: b || !y || T || 0 == o,
              bAllowFullSize: !0,
              onCancel: () => {
                l.cancel("cancel"), t && t();
              },
              closeModal: () => l.cancel("cloased"),
              bDisableBackgroundDismiss: !0,
            },
            b || !y
              ? s.createElement(P.V, {
                  string: `Loading ${a.length} OptIn Registration and Games Details`,
                  position: "center",
                  size: "medium",
                })
              : s.createElement(
                  s.Fragment,
                  null,
                  !T &&
                    s.createElement(
                      "div",
                      null,
                      B.length,
                      " of apps with items available to download.",
                      s.createElement(ha, { type: x, setType: L }),
                      s.createElement(m.ji, {
                        checked: E,
                        onChange: S,
                        label: "Require OptIn",
                      }),
                      s.createElement(m.ji, {
                        checked: h,
                        onChange: g,
                        label: "Require Trailer Featuring Opt-in Permissions",
                      }),
                      s.createElement($t, {
                        selected: d,
                        fnChoiceMade: u,
                        rgInputType: ["checkbox"],
                        label: "Choose Filter:",
                      }),
                      s.createElement(m.II, {
                        type: "number",
                        label: "How many Apps to download from?",
                        min: "1",
                        max: B?.length || 1,
                        value: o,
                        onChange: (e) =>
                          c(Number.parseInt(e.currentTarget.value) || 1),
                      }),
                      s.createElement(ga, { fnSetAppIDListList: _ }),
                    ),
                ),
            Boolean(T) &&
              s.createElement(
                s.Fragment,
                null,
                Boolean(R < o)
                  ? s.createElement(P.V, {
                      string: `Downloading ${R} out of ${o}`,
                      size: "medium",
                      position: "center",
                    })
                  : s.createElement(
                      "span",
                      null,
                      "Done: Downloaded ",
                      `${R} out of ${o}`,
                    ),
              ),
            Boolean(I) &&
              s.createElement("div", { className: k.ErrorStylesBackground }, I),
          )
        );
      }
      function ha(e) {
        const { type: t, setType: a } = e,
          n = (0, s.useMemo)(
            () => [
              { label: "First Store Trailer", data: da.k_EDownloadTrailer },
              {
                label: "Header Image (460x215 px)",
                data: da.k_EDownloadHeader,
              },
              {
                label: "Small Capsule (231x87 px)",
                data: da.k_EDownloadSmallCapsule,
              },
              {
                label: "Main Capsule (616x353 px)",
                data: da.k_EDownloadMainCapsule,
              },
              {
                label: "Virtual Capsule (374x448 px)",
                data: da.k_EDownloadVerticalCapsule,
              },
              {
                label: "Background (1438x810 px)",
                data: da.k_EDownloadPageBackground,
              },
              {
                label: "All Age Safe Only Screenshots",
                data: da.k_EDownloadAllAgeSafeScreenshots,
              },
              { label: "All Screenshots", data: da.k_EDownloadScreenshots },
            ],
            [],
          );
        return s.createElement(m.ry, {
          label: "Choose Download Type",
          rgOptions: n,
          selectedOption: t,
          onChange: (e) => a(e.data),
        });
      }
      function ga(e) {
        const { fnSetAppIDListList: t } = e,
          [a, n] = s.useState(""),
          [i, r] = s.useState(!1);
        return s.createElement(
          "div",
          null,
          s.createElement(
            "div",
            null,
            "Optionally provide an explicit lists of appids seperately by new lines. Will only download the trailers for these appids as long as they are opted in and have a trailer.",
          ),
          i
            ? s.createElement(
                s.Fragment,
                null,
                s.createElement("div", null, "Enter App IDs:"),
                s.createElement("textarea", {
                  cols: 120,
                  rows: 10,
                  onChange: (e) => n(e.currentTarget.value),
                  value: a,
                  autoFocus: !0,
                }),
                s.createElement(
                  m.zx,
                  {
                    onClick: () => {
                      const e = a.replace(/\n/g, "|").split("|"),
                        n = new Set();
                      e.forEach((e) => {
                        const t = Number.parseInt(e);
                        t > 0 && n.add(t);
                      }),
                        n.size > 0 && t(n);
                    },
                  },
                  "AppID List Complete. Apply Filter",
                ),
              )
            : s.createElement(
                m.zx,
                { onClick: () => r(!0) },
                "Add AppID Filter List",
              ),
        );
      }
      function Ea(e) {
        const { tableRef: t, eligibleStats: a } = e,
          n = r.On.Get(),
          i = (0, Ce.SZ)(() => n.GetFullName()),
          [l] = (0, Ce.SZ)(() => [
            n.BIsAdditionalFeaturingSectionEnabled() &&
              n.BIsCollectDemoPermissions(),
          ]);
        return s.createElement(
          "div",
          { className: Bt().DownloadRow },
          s.createElement(
            m.zx,
            {
              id: "download-csv",
              onClick: () => t.current.table.download("csv", "data.csv"),
            },
            "Download CSV",
          ),
          s.createElement(
            m.zx,
            {
              id: "download-perss_csv",
              onClick: function (e) {
                (0, g.AM)(
                  s.createElement(sa, {
                    strOptInName: i,
                    optInStats: t.current.state.data,
                  }),
                  (0, D.RA)(e),
                );
              },
            },
            s.createElement(
              oe.HP,
              {
                toolTipContent:
                  "Generates a CSV of only opt-ed in games intended to be shared with the press",
              },
              "Download Press CSV",
            ),
          ),
          Boolean(l) &&
            s.createElement(
              m.zx,
              {
                id: "create_package",
                onClick: () => {
                  (0, g.AM)(s.createElement(Yt, null), window);
                },
              },
              s.createElement(
                oe.HP,
                {
                  toolTipContent:
                    "Create a package for the demos that have opted-in to the event and allowed us to use their demo. The package is create with release override.",
                },
                "Create Demo Package",
              ),
            ),
          s.createElement(
            m.zx,
            {
              id: "download_trailer",
              onClick: (e) =>
                (0, g.AM)(
                  s.createElement(_a, { optInStats: t.current.state.data }),
                  (0, D.RA)(e),
                ),
            },
            s.createElement(
              oe.HP,
              {
                toolTipContent:
                  "Download trailers or Game Capsules for opted-in games from this event.",
              },
              "Download Trailers or Capsules",
            ),
          ),
          s.createElement(
            m.zx,
            {
              id: "find_app",
              onClick: (e) =>
                (0, g.AM)(
                  s.createElement(Sa, { strOptInName: n.GetOptInPageID() }),
                  (0, D.RA)(e),
                ),
            },
            s.createElement(
              oe.HP,
              {
                toolTipContent:
                  "Recommend we refresh stats before this call. This will search for the appids in the various buckets (optin, opted out etc...)",
              },
              "🔍 Find App...",
            ),
          ),
          Boolean(a?.length > 0) &&
            s.createElement(
              m.zx,
              {
                id: "eligible_to_invite",
                onClick: (e) =>
                  (0, g.AM)(
                    s.createElement(ma, {
                      strOptInName: i,
                      eligigleOptInStats: a,
                      bPendingReviewInstead: !0,
                    }),
                    (0, D.RA)(e),
                  ),
              },
              s.createElement(
                oe.HP,
                {
                  toolTipContent:
                    "Recommend refresh stats before using this dialog. This will provide a dialog that will mass move apps into the pending_review state which allows us to do pruning before they are invited to participate.",
                },
                "Eligible → Pending Review...",
              ),
            ),
          Boolean(a?.length > 0) &&
            s.createElement(
              m.zx,
              {
                id: "eligible_to_invite",
                onClick: (e) =>
                  (0, g.AM)(
                    s.createElement(ma, {
                      strOptInName: i,
                      eligigleOptInStats: a,
                      bPendingReviewInstead: !1,
                    }),
                    (0, D.RA)(e),
                  ),
              },
              s.createElement(
                oe.HP,
                {
                  toolTipContent:
                    "Recommend refresh stats before using this dialog. This will provide a dialog that will mass invite eligible apps meeting a coming soon or release with min earn critria.",
                },
                "Eligible → Invited...",
              ),
            ),
        );
      }
      function Sa(e) {
        const { closeModal: t, strOptInName: a } = e,
          [n, i] = (0, s.useState)(""),
          r = Kt(a),
          l = (0, s.useMemo)(
            () =>
              n
                .split(" ")
                .map((e) => Number.parseInt(e))
                .filter(Boolean),
            [n],
          );
        return s.createElement(
          w.uH,
          {
            strTitle: "Find App In OptIn",
            strDescription:
              "Goes across entire opt-in data pulled from refresh stats to surface what cateogry the appid(s) are in.",
            closeModal: t,
            bDisableBackgroundDismiss: !0,
          },
          s.createElement(m.II, {
            type: "text",
            label: "Space separated list of appids to be searched",
            onChange: (e) => i(e.currentTarget.value),
            value: n,
          }),
          s.createElement("h2", null, "Apps:"),
          Boolean(r)
            ? s.createElement(
                "div",
                null,
                "This only print TRUE if it finds the app in the specific list. This doesn't know if the app is eligible or not based on the rules of the optin.",
              )
            : s.createElement(P.V, {
                position: "center",
                string: "loading",
                size: "medium",
              }),
          l?.map((e) => {
            const t = r?.eligible_appids.has(e),
              a = r?.opted_in_appids.has(e),
              n = r?.opted_out_appids.has(e),
              i = r?.invited_appids.has(e),
              l = r?.pruned_appids.has(e),
              o = r?.featured_appids.has(e);
            return s.createElement(
              s.Fragment,
              null,
              s.createElement("div", null, "Appid: ", e),
              s.createElement(
                "div",
                null,
                "In Eligible List?: ",
                t ? "TRUE" : "",
              ),
              s.createElement(
                "div",
                null,
                "In Opted In List?: ",
                a ? "TRUE" : "",
              ),
              s.createElement(
                "div",
                null,
                "In Opted Out List?: ",
                n ? "TRUE" : "",
              ),
              s.createElement(
                "div",
                null,
                "In Invited List?: ",
                i ? "TRUE" : "",
              ),
              s.createElement(
                "div",
                null,
                "In Pruned List?: ",
                l ? "TRUE" : "",
              ),
              s.createElement(
                "div",
                null,
                "in Featured? List: ",
                o ? "TRUE" : "",
              ),
              s.createElement("br", null),
            );
          }),
        );
      }
      function va(e) {
        const t = r.On.Get(),
          a = (0, r.tb)(),
          n = (0, Ce.SZ)(() => t.GetFullName()),
          { rgEmailDefAndStats: i } = q(n),
          l = !(
            a &&
            (a.json_invited ||
              a.json_eligible ||
              a.json_opted_in ||
              a.json_featured ||
              a.json_opted_out) &&
            i
          ),
          o = i?.some((e) => e.completed);
        return s.createElement(
          "div",
          null,
          s.createElement("h2", null, n),
          s.createElement("hr", null),
          s.createElement(
            "div",
            { className: (0, v.Z)(ue().Section, ue().ManageTable) },
            s.createElement(
              "div",
              { className: ue().SectionDesc },
              s.createElement(Gt.x, null),
              "How to opt in a specific game. Use this link and swap out the 220 at the end with the correct appID  ",
              s.createElement("br", null),
              s.createElement(
                "a",
                { href: f.De.PARTNER_BASE_URL + "optin/sale/" + n + "/220" },
                f.De.PARTNER_BASE_URL,
                "optin/sale/",
                t.GetName(),
                "/220",
              ),
              s.createElement("br", null),
              s.createElement("br", null),
              Boolean(l)
                ? s.createElement(P.V, {
                    size: "medium",
                    string: "Loading Stats/No Stats to show",
                    position: "center",
                  })
                : s.createElement(Da, { bSomeEmailSent: o }),
            ),
          ),
        );
      }
      function Da(e) {
        const t = r.On.Get(),
          { bSomeEmailSent: a } = e,
          n = (0, r.y7)(),
          { jsonEligible: i } = n,
          l = (0, Ce.SZ)(() => t.BIsEnterDiscountsEnabled()),
          o = s.useRef(null);
        return s.createElement(
          s.Fragment,
          null,
          Boolean(l)
            ? s.createElement(ya, {
                tableRef: o,
                bSomeEmailSent: a,
                oAllStats: n,
              })
            : s.createElement(Wt, {
                tableRef: o,
                bSomeEmailSent: a,
                oAllStats: n,
              }),
          s.createElement(Rt, { tableRef: o }),
          s.createElement("br", null),
          s.createElement(Ea, { tableRef: o, eligibleStats: i }),
        );
      }
      function fa(e, t, a, n, i, r) {
        return t && a && e
          ? (e.forEach((e) => {
              a.fnbHasSomeLongTermSaleRankForApp(e.appid)
                ? (e.long_term_sales_rank = a.fnGetLongTermSaleRankForApp(
                    e.appid,
                  ))
                : (e.long_term_sales_rank = 1e6),
                (e.discount_info = (0, Tt.Lr)(e.appid, t, i, r, n));
            }),
            e)
          : e;
      }
      function ya(e) {
        const { tableRef: t, bSomeEmailSent: a, oAllStats: n } = e,
          i = r.On.Get(),
          [l, o] = (0, Ce.SZ)(() => [i.GetFullName(), i.GetDiscountEventID()]),
          {
            jsonOptedIn: c,
            jsonInvited: m,
            jsonFeatured: d,
            jsonOptedOut: u,
          } = n,
          p = (0, s.useMemo)(() => {
            const e = c?.map((e) => e.appid) || [],
              t = m?.map((e) => e.appid) || [],
              a = d?.map((e) => e.appid) || [],
              n = u?.map((e) => e.appid) || [],
              i = new Set([...e, ...t, ...a, ...n]);
            return Array.from(i).sort();
          }, [c, m, d, u]),
          _ = (0, Nt.l)(p),
          h = (0, Tt.og)(p),
          g = (0, s.useMemo)(() => {
            const e = i.GetDiscountEventID(),
              t = i.GetEventStartTime(),
              a = i.GetEventEndTime();
            return {
              ...n,
              jsonOptedIn: fa(n.jsonOptedIn, h, _, e, t, a),
              jsonInvited: fa(n.jsonInvited, h, _, e, t, a),
              jsonFeatured: fa(n.jsonFeatured, h, _, e, t, a),
              jsonOptedOut: fa(n.jsonOptedOut, h, _, e, t, a),
            };
          }, [i, _, h, n]);
        return _ && h
          ? s.createElement(Wt, {
              tableRef: t,
              bSomeEmailSent: a,
              mapAppToDiscountInfo: h,
              oAllStats: g,
            })
          : s.createElement(P.V, {
              string: "Loading",
              size: "medium",
              position: "center",
            });
      }
      function ba(e) {
        switch (e) {
          case 1:
            return "User who Registered the App for this Opt-In";
          case 32:
            return "Eligible Games that are not already opted in/out";
          case 16:
            return "Apps who were explicitly Invited, that have not already opted in/out";
          case 64:
            return "All 'Featured' apps";
          case 128:
            return "All 'Featured' apps not opted out without a featured date.";
          case 256:
            return "'Featured' apps who have not been emailed about featuring before";
          case 512:
            return "Custom App List";
        }
        return "Unknown target: " + e;
      }
      !(function (e) {
        (e[(e.k_EDownoadInvalid = 0)] = "k_EDownoadInvalid"),
          (e[(e.k_EDownloadTrailer = 1)] = "k_EDownloadTrailer"),
          (e[(e.k_EDownloadHeader = 2)] = "k_EDownloadHeader"),
          (e[(e.k_EDownloadSmallCapsule = 3)] = "k_EDownloadSmallCapsule"),
          (e[(e.k_EDownloadMainCapsule = 4)] = "k_EDownloadMainCapsule"),
          (e[(e.k_EDownloadVerticalCapsule = 5)] =
            "k_EDownloadVerticalCapsule"),
          (e[(e.k_EDownloadPageBackground = 6)] = "k_EDownloadPageBackground"),
          (e[(e.k_EDownloadAllAgeSafeScreenshots = 7)] =
            "k_EDownloadAllAgeSafeScreenshots"),
          (e[(e.k_EDownloadScreenshots = 8)] = "k_EDownloadScreenshots");
      })(da || (da = {}));
      const Ia = "edit_email";
      class Ca {
        constructor() {
          (0, O.rC)(this);
        }
        m_curSelection = void 0;
        SetSelectionFromQueryParams(e) {
          const t = (0, u.ks)(e, Ia);
          t?.trim().length > 0 &&
            r.On.Get()
              .GetEmailDefinitions()
              .forEach((e) => {
                e.GetUniqueID() === t &&
                  this.m_curSelection !== e &&
                  (this.m_curSelection = e);
              });
        }
        BHasSelection() {
          return Boolean(this.m_curSelection);
        }
        GetSelection() {
          return this.m_curSelection;
        }
        SetSelection(e, t, a) {
          e != this.m_curSelection &&
            ((this.m_curSelection = e),
            e && t && t?.stats?.completed && e.SetReadOnly(!0),
            (0, u.i9)(a, Ia, e?.GetUniqueID()));
        }
        static s_Singleton;
        static Get() {
          return Ca.s_Singleton || (Ca.s_Singleton = new Ca()), Ca.s_Singleton;
        }
      }
      function ka(e) {
        const { serverDef: t, emailEditModel: a } = e,
          [n] = (0, Ce.SZ)(() => [t.reviewed || !1]);
        return n
          ? s.createElement("span", null, "Email Resutls: Reviewed")
          : s.createElement(
              m.zx,
              {
                className: ue().BasicButtonSize,
                onClick: (e) =>
                  (0, g.AM)(
                    s.createElement(Aa, { emailEditModel: a, serverDef: t }),
                    (0, D.RA)(e),
                  ),
              },
              "Mark as Reviewed",
            );
      }
      function Aa(e) {
        const { serverDef: t, emailEditModel: a, closeModal: n } = e,
          [i, r] = (0, s.useState)(!1),
          [l, o] = (0, s.useState)(!1),
          [c, m] = (0, s.useState)(null);
        return s.createElement(
          w.uH,
          {
            strTitle: "Email Reviewe",
            strDescription: "Dialog to mark the email as reviewed.",
            onCancel: n,
            onOK: () => {
              r(!0),
                j
                  .Get()
                  .UpdateOptInEmailMetaData(a, {
                    rtStartAutomaticEmailType: t?.start_rtime || 0,
                    rtEndAutomaticEmail: t?.end_rtime || 0,
                    bReviewed: !0,
                  })
                  .then((e) => {
                    1 != e &&
                      m(
                        'Failed to mark the email Reviewed. "p"lease try again later.',
                      );
                  })
                  .catch(() =>
                    m(
                      'Failed to mark the email Reviewed. "p"lease try again later.',
                    ),
                  )
                  .finally(() => o(!0));
            },
            bOKDisabled: i,
            strCancelButtonText: l ? "Close" : void 0,
          },
          s.createElement(
            "div",
            null,
            "Purpose: Please review the stats for the email that has been sent. Verify that there are not an unexpectedly larger number of failed email or unreachable partner. We want to avoid issues where emails failed due to some server failure and our partners are not notified about these time sensitive requests.",
          ),
          Boolean(i && !l) &&
            s.createElement(P.V, {
              size: "medium",
              position: "center",
              string: (0, R.Xx)("#Saving"),
            }),
          Boolean(l && c) && s.createElement("div", null, "Error: ", c),
          Boolean(l && !c) &&
            s.createElement("div", null, "Review Status Save Successful."),
        );
      }
      function wa(e) {
        const { serverDef: t, emailEditModel: a } = e,
          [n] = (0, Ce.SZ)(() => [t.start_rtime]);
        return t.aborted || t.completed || t.deleted || t.reviewed
          ? null
          : s.createElement(
              s.Fragment,
              null,
              s.createElement(
                m.zx,
                {
                  className: ue().BasicButtonSize,
                  onClick: (e) =>
                    (0, g.AM)(
                      s.createElement(Pa, { emailEditModel: a, serverDef: t }),
                      (0, D.RA)(e),
                    ),
                },
                Boolean(n) ? "Update Email Scheduled Times" : "Schedule Email",
              ),
              Boolean(n) &&
                s.createElement(
                  m.zx,
                  {
                    className: ue().BasicButtonSize,
                    onClick: (e) =>
                      (0, g.AM)(
                        s.createElement(Ta, {
                          emailEditModel: a,
                          serverDef: t,
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Unset Email Schedule",
                ),
            );
      }
      function Pa(e) {
        const { serverDef: t, emailEditModel: a, closeModal: n } = e,
          i = r.On.Get(),
          l = t.start_rtime || i.GetEventStartTime(),
          o = t.end_rtime || i.GetEventEndTime(),
          [m, d] = (0, s.useState)(l),
          [u, p] = (0, s.useState)(o),
          [_, h] = (0, s.useState)(!1),
          [g, E] = (0, s.useState)(!1),
          [S, v] = (0, s.useState)(null),
          D = c.JW.GetTimeNowWithOverride();
        return s.createElement(
          w.uH,
          {
            strTitle: "Setup OptIn Email Schedule",
            strDescription:
              "The email can be setup to start firing upto the end of the underlying Partner OptIn event.  The end-time is a safe guard to prevent firing emals beyond this time incase email servers are slow.",
            onCancel: n,
            bDisableBackgroundDismiss: !1,
            strCancelButtonText: g ? "Close" : void 0,
            onOK: () => {
              h(!0),
                j
                  .Get()
                  .UpdateOptInEmailMetaData(a, {
                    rtStartAutomaticEmailType: m,
                    rtEndAutomaticEmail: u,
                  })
                  .then((e) => {
                    1 != e &&
                      v("Failed to Save setting, please try again later");
                  })
                  .catch(() =>
                    v("Failed to Save setting, please try again later"),
                  )
                  .finally(() => E(!0));
            },
            bOKDisabled: _ || (l == m && u == o),
          },
          Boolean(_ && !g) &&
            s.createElement(P.V, {
              size: "medium",
              position: "center",
              string: (0, R.Xx)("#Saving"),
            }),
          Boolean(g && S) && s.createElement("div", null, "Error: ", S),
          Boolean(g && !S) && s.createElement("div", null, "Save Successful."),
          !Boolean(_) &&
            s.createElement(
              s.Fragment,
              null,
              s.createElement("br", null),
              s.createElement(Pe.A, {
                strDescription: "Email Start Sending Time",
                nEarliestTime: D,
                nLatestTime: i.GetEventEndTime(),
                fnGetTimeToUpdate: () => m,
                fnSetTimeToUpdate: d,
                fnIsValidDateTime: () => m < u,
                bShowTimeZone: !0,
              }),
              s.createElement(Pe.A, {
                strDescription: "Email Stop at Time",
                nEarliestTime: D,
                nLatestTime: i.GetEventEndTime(),
                fnGetTimeToUpdate: () => u,
                fnSetTimeToUpdate: p,
                fnIsValidDateTime: () => m < u,
                bShowTimeZone: !0,
              }),
              s.createElement("br", null),
              s.createElement("br", null),
              s.createElement("br", null),
              s.createElement("br", null),
              s.createElement("br", null),
              s.createElement("br", null),
              s.createElement("br", null),
            ),
        );
      }
      function Ta(e) {
        const { serverDef: t, emailEditModel: a, closeModal: n } = e,
          [i, r] = (0, s.useState)(!1),
          [l, o] = (0, s.useState)(!1),
          [c, m] = (0, s.useState)(null);
        return s.createElement(
          w.uH,
          {
            strTitle: "Clear Email Schedule?",
            strDescription:
              "Removinmg the scheduling for firing this email? If you confirm, this will be manual mode only.",
            onCancel: n,
            onOK: () => {
              r(!0),
                j
                  .Get()
                  .UpdateOptInEmailMetaData(a, {
                    rtStartAutomaticEmailType: 0,
                    rtEndAutomaticEmail: 0,
                  })
                  .then((e) => {
                    1 != e &&
                      m("Failed to Reset Scheduling, please try again later");
                  })
                  .catch(() =>
                    m("Failed to Save setting, please try again later"),
                  )
                  .finally(() => o(!0));
            },
            bOKDisabled: i,
            strCancelButtonText: l ? "Close" : void 0,
          },
          Boolean(i && !l) &&
            s.createElement(P.V, {
              size: "medium",
              position: "center",
              string: (0, R.Xx)("#Saving"),
            }),
          Boolean(l && c) && s.createElement("div", null, "Error: ", c),
          Boolean(l && !c) && s.createElement("div", null, "Save Successful."),
        );
      }
      (0, B.gn)([O.LO], Ca.prototype, "m_curSelection", void 0);
      var Na = a(8285),
        Ra = a(92280),
        Ga = a(83831);
      const xa =
        a.p +
        "images/applications/appmgmt/Logo_Steamworks.png?v=valveisgoodatcaching";
      var La = a(87717),
        Ba = a.n(La),
        Ma = a(28593);
      const Oa = (0, $.Pi)((e) => {
          const { section: t, sectionIndex: a, emailDef: n, storeItem: i } = e;
          let r = null;
          if (t.GetType() === M.rg.k_Custom)
            r = s.createElement(Fa, { section: t, emailDef: n });
          else
            r = s.createElement(Va, { section: t, emailDef: n, storeItem: i });
          return s.createElement(
            "div",
            null,
            !n.BIsReadOnly() &&
              s.createElement(
                "div",
                { className: Ba().ChangeBtnCtn },
                s.createElement(
                  m.zx,
                  {
                    className: ue().BasicButtonSize,
                    onClick: (e) =>
                      (0, g.AM)(
                        s.createElement(Ha, {
                          emailDef: n,
                          sectionIndex: a,
                          storeItem: i,
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Change Section Type",
                ),
              ),
            r,
          );
        }),
        Fa = (0, $.Pi)((e) => {
          const { section: t } = e,
            a = ne.U.Get().GetCurEditLanguage();
          return s.createElement(
            "div",
            { className: Ba().SectionCtn },
            s.createElement(
              "div",
              { className: Ba().SectionEntryTitle },
              "Title:",
            ),
            s.createElement("input", {
              type: "text",
              value: t.GetTitle(a),
              placeholder: "(required) Enter Title",
              onChange: (e) => t.SetTitle(e.currentTarget.value, a),
              maxLength: 240,
            }),
            s.createElement(
              "div",
              { className: Ba().SectionEntryTitle },
              "Description:",
            ),
            s.createElement("textarea", {
              value: t.GetDescription(a),
              onChange: (e) => t.SetDescription(e.currentTarget.value, a),
              placeholder: "(required) Description / Body Text",
              rows: 4,
            }),
          );
        }),
        Ua = (e) => {
          const {
              curValue: t,
              fnOnChange: a,
              emailDef: n,
              sectionIndex: i,
            } = e,
            r = M.UT.filter(
              (e) =>
                e == M.rg.k_Custom ||
                !n.GetSections().some((t, a) => a != i && t.GetType() == e),
            ).map((e) => ({ label: (0, M.n)(e), data: e }));
          return s.createElement(m.ry, {
            label: "Email Section Type",
            strDropDownClassName: _().DropDownScroll,
            rgOptions: r,
            selectedOption: t,
            onChange: (e) => a(e.data),
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          });
        },
        Ha = (e) => {
          const {
              closeModal: t,
              sectionIndex: a,
              emailDef: n,
              storeItem: i,
            } = e,
            r = "number" != typeof a,
            l = r ? M.rg.k_Custom : n.GetSection(a).GetType(),
            o = l == M.rg.k_Custom,
            [c, d] = s.useState(l);
          return s.createElement(
            w.RG,
            { bAllowFullSize: !0, onCancel: t, closeModal: t },
            s.createElement(
              m.h4,
              null,
              r ? "Add New Email Section" : "Change Section Type",
            ),
            s.createElement(
              m.uT,
              null,
              s.createElement(
                "div",
                null,
                s.createElement(
                  "p",
                  null,
                  "An email can have any number of custom sections. Other section types can only appear once on the email. Sections are pruned from the drop down if they already are using else where in the email body.",
                ),
              ),
              o &&
                s.createElement(
                  "div",
                  null,
                  "Warning: changing from a custom to another type of section will loose any previous custom text.",
                ),
              s.createElement(Ua, {
                emailDef: n,
                sectionIndex: a,
                curValue: c,
                fnOnChange: d,
              }),
              s.createElement(
                "div",
                { className: Ma.Preview },
                s.createElement("h2", null, "Section Preview"),
                s.createElement(Va, {
                  emailDef: n,
                  section: new M.I_({ type: c, unique_id: "dummy" }),
                  storeItem: i,
                }),
              ),
            ),
            s.createElement(
              m.$_,
              null,
              s.createElement(m.o9, {
                onCancel: t,
                onOK: () => {
                  if (r) {
                    n.AddSection(c);
                    const e = document.getElementById("end_of_email_sections");
                    e && e.scrollIntoView();
                  } else n.GetSection(a).SetType(c);
                  t();
                },
              }),
            ),
          );
        },
        Va = (0, $.Pi)((e) => {
          const { emailDef: t, section: a, storeItem: n } = e;
          let i = "",
            l = s.createElement("div", null);
          if (a.GetType() == M.rg.k_Custom) return null;
          const o =
              f.De.PARTNER_BASE_URL +
              "optin/sale/" +
              r.On.Get().GetName() +
              "/" +
              n.GetAppID(),
            c =
              f.De.PARTNER_BASE_URL +
              "optin/survey/" +
              r.On.Get().GetName() +
              "/" +
              n.GetAppID(),
            m = o + "?focusmedia=1",
            d = f.De.PARTNER_BASE_URL + "optin/sale/" + r.On.Get().GetName(),
            u = f.De.PARTNER_BASE_URL + "taxonomy/tagwizard/" + n.GetAppID(),
            p =
              (f.De.PARTNER_BASE_URL,
              n.GetAppID(),
              f.De.PARTNER_BASE_URL + "apps/demo/" + n.GetAppID()),
            _ =
              f.De.COMMUNITY_BASE_URL +
              "ogg/" +
              n.GetAppID() +
              "/partnerevents/create/",
            h = r.On.Get().GetOptInDeadlineTime(),
            g = r.On.Get().GetCurEventTitle(),
            E = r.On.Get().GetEventStartTime();
          switch (a.GetType()) {
            case M.rg.k_AssetKit:
              (i = (0, R.Xx)("#OptIn_EmailSection_Asset_Title")),
                (l = s.createElement(
                  "div",
                  null,
                  (0, R.kQ)(
                    "#OptIn_EmailSection_Asset_Body",
                    s.createElement(
                      "a",
                      { href: t.GetAssetKitURL() || "" },
                      (0, R.Xx)("#OptIn_EmailSection_Asset_Token"),
                    ),
                  ),
                ));
              break;
            case M.rg.k_DemoPressPreview:
              (i = (0, R.Xx)("#OptIn_EmailSection_Press_Title")),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.kQ)(
                      "#OptIn_EmailSection_Press_Body",
                      s.createElement(
                        "a",
                        { href: o },
                        (0, R.Xx)("#OptIn_EmailSection_Press_Token"),
                      ),
                      (0, R.$1)(t.GetDemoPressPreviewDate() || 0),
                    ),
                  ),
                ));
              break;
            case M.rg.k_ScheduleLiveStream:
              (i = (0, R.Xx)("#OptIn_EmailSection_schedlive_Title")),
                (l = s.createElement(
                  "div",
                  null,
                  (0, R.kQ)(
                    "#OptIn_EmailSection_schedlive_Body",
                    t.GetScheduleMaxItems().toLocaleString(),
                    g,
                    s.createElement(
                      "a",
                      { href: t.GetSalePreviewPage() || "" },
                      (0, R.Xx)("#OptIn_EmailSection_schedlive_Token"),
                    ),
                  ),
                  s.createElement("br", null),
                  s.createElement("br", null),
                  (0, R.kQ)(
                    "#OptIn_EmailSection_schedlive_Link",
                    s.createElement(
                      "a",
                      { href: _, target: "_blank" },
                      (0, R.Xx)("#OptIn_EmailSection_schedlive_Link_Token"),
                    ),
                  ),
                ));
              break;
            case M.rg.k_CancelSection:
              (i = (0, R.Xx)("#OptIn_EmailSection_cancel_Title")),
                (l = s.createElement(
                  "div",
                  null,
                  (0, R.Xx)(
                    "#OptIn_EmailSection_cancel_Body",
                    g,
                    (0, R.$1)(t.GetCancelDate() || 0) +
                      " @ " +
                      (0, Qt.Sc)(t.GetCancelDate() || 0, {
                        bForce24HourClock: !1,
                      }),
                  ),
                ));
              break;
            case M.rg.k_DemoNotReady:
              (i = (0, R.Xx)("#OptIn_EmailSection_notreadydemo_Title")),
                (l = s.createElement(
                  "div",
                  null,
                  (0, R.Xx)(
                    "#OptIn_EmailSection_notreadydemo_Body",
                    (0, R.$1)(t.GetCancelDate() || 0),
                    (0, R.jr)(t.GetNextEditionDate() || 0),
                  ),
                ));
              break;
            case M.rg.k_ReviewCategorization:
              (i = (0, R.Xx)("#OptIn_EmailSection_reviewcategories_Title")),
                (l = s.createElement(
                  "div",
                  { className: Ba().SectionBody },
                  (0, R.kQ)(
                    "#OptIn_EmailSection_reviewcategories_Body",
                    s.createElement(
                      "a",
                      { href: o + "#GameListing" },
                      (0, R.Xx)(
                        "#OptIn_EmailSection_reviewcategories_BodyLink",
                      ),
                    ),
                  ),
                  s.createElement(
                    "ul",
                    null,
                    s.createElement(
                      "li",
                      null,
                      (0, R.kQ)(
                        "#OptIn_EmailSection_reviewcategories_Li_1",
                        s.createElement(
                          "a",
                          { href: o },
                          (0, R.Xx)(
                            "#OptIn_EmailSection_RegistrationForm_Token",
                          ),
                        ),
                      ),
                    ),
                    s.createElement(
                      "li",
                      null,
                      (0, R.kQ)(
                        "#OptIn_EmailSection_reviewcategories_Li_2",
                        s.createElement(
                          "a",
                          { href: u },
                          (0, R.Xx)("#OptIn_EmailSection_TagWizard_Token"),
                        ),
                      ),
                    ),
                    s.createElement(
                      "li",
                      null,
                      (0, R.Xx)("#OptIn_EmailSection_reviewcategories_Li_3"),
                    ),
                  ),
                ));
              break;
            case M.rg.k_DemoReview:
              (i = (0, R.Xx)("#OptIn_EmailSection_DemoReview_Title")),
                (l = s.createElement(
                  "div",
                  null,
                  (0, R.kQ)(
                    "#OptIn_EmailSection_DemoReview_Body",
                    s.createElement(
                      "a",
                      { href: p },
                      (0, R.Xx)("#OptIn_EmailSection_DemoReview_Token"),
                    ),
                  ),
                ));
              break;
            case M.rg.k_PressPreviewDetails:
              (i = (0, R.Xx)("#OptIn_EmailSection_PressPreviewDetails_Title")),
                (l = s.createElement(
                  "div",
                  null,
                  (0, R.kQ)(
                    "#OptIn_EmailSection_PressPreviewDetails_Body",
                    (0, R.$1)(t.GetPreviewDate() || 0),
                    s.createElement(
                      "a",
                      { target: "_blank", href: t.GetWikiDocURL() || "" },
                      (0, R.Xx)(
                        "#OptIn_EmailSection_PressPreviewDetails_EventDoc",
                      ),
                    ),
                  ),
                ));
              break;
            case M.rg.k_MediaUsePermission:
              (i = (0, R.Xx)("#OptIn_EmailSection_MediaPermission_Title")),
                (l = s.createElement(
                  "div",
                  null,
                  (0, R.Xx)("#OptIn_EmailSection_MediaPermission_Body_1"),
                  s.createElement("br", null),
                  s.createElement("br", null),
                  (0, R.Xx)("#OptIn_EmailSection_MediaPermission_Body_2"),
                  s.createElement("br", null),
                  s.createElement("br", null),
                  (0, R.kQ)(
                    "#OptIn_EmailSection_MediaPermission_Body_3",
                    (0, R.$1)(t.GetPermissionDate() || 0),
                  ),
                  s.createElement("br", null),
                  s.createElement("br", null),
                  s.createElement(
                    "a",
                    { href: o },
                    (0, R.kQ)(
                      "#Steamworks_partner_optin_MediaPermission_RegLinkText",
                    ),
                  ),
                ));
              break;
            case M.rg.k_TrailerOrDemoPermissions:
              (i = (0, R.Xx)(
                "#OptIn_EmailSection_TrailerDemoPermission_title",
              )),
                (l = s.createElement(
                  "div",
                  null,
                  (0, R.Xx)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc1",
                    g,
                  ),
                  s.createElement("br", null),
                  s.createElement("br", null),
                  (0, R.Xx)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc2",
                    g,
                  ),
                  " ",
                  (0, R.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc3",
                    s.createElement(
                      "b",
                      null,
                      (0, R.$1)(t.GetPressPreviewVisibleDate() || 0),
                    ),
                  ),
                  " ",
                  (0, R.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc4",
                    s.createElement("b", null, (0, R.$1)(E || 0)),
                    g,
                  ),
                  " ",
                  (0, R.Xx)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc5",
                    g,
                  ),
                  s.createElement("br", null),
                  s.createElement("br", null),
                  (0, R.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc6",
                    s.createElement(
                      "b",
                      null,
                      (0, R.$1)(t.GetPermissionDate() || 0),
                    ),
                  ),
                  " ",
                  (0, R.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc7",
                    s.createElement(
                      "b",
                      null,
                      (0, R.$1)(t.GetPermissionDate() || 0),
                    ),
                    g,
                  ),
                  s.createElement("br", null),
                  s.createElement("br", null),
                  (0, R.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc8",
                    s.createElement(
                      "b",
                      null,
                      (0, R.$1)(t.GetPermissionDate() || 0),
                    ),
                  ),
                  s.createElement("br", null),
                  s.createElement("br", null),
                  s.createElement(
                    "a",
                    { href: m },
                    (0, R.kQ)(
                      "#OptIn_EmailSection_TrailerDemoPermission_RegLinkText",
                    ),
                  ),
                ));
              break;
            case M.rg.k_StatsSummary:
              (i = (0, R.Xx)("#OptIn_EmailSection_StatsSummary_Title")),
                (l = s.createElement(
                  "div",
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().StatCtn },
                    (0, R.kQ)(
                      "#OptIn_EmailSection_StatsSummary_Body",
                      r.On.Get().GetCurEventTitle(),
                    ),
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().StatCtn },
                    s.createElement(
                      "div",
                      { className: Ba().StatNumber },
                      s.createElement("span", null, "00,000"),
                      " new demo players",
                    ),
                    "Your game's demo was played by 00,000 new players during Steam Next Fest. Click ",
                    s.createElement("a", { href: "#" }, "HERE"),
                    " to see a detailed breakdown of downloads for your demo.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().StatCtn },
                    s.createElement(
                      "div",
                      { className: Ba().StatNumber },
                      s.createElement("span", null, "00,000"),
                      " wishlists",
                    ),
                    "Your game was added to the wishlist of 00,000 new players during Steam Next Fest! Click ",
                    s.createElement("a", { href: "#" }, "HERE"),
                    " to see a detailed breakdown of wishlist activity on your game.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().StatCtn },
                    s.createElement(
                      "div",
                      { className: Ba().StatNumber },
                      s.createElement("span", null, "00,000"),
                      " broadcast views",
                    ),
                    "We found 8 broadcast sessions for your game during Steam Next Fest, totalling views by 00,000 unique users. Broadcast stats are collected under each Steam account that did the broadcasting, so for now details can only be seen by the owner of the account that did the broadcasting.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().StatCtn },
                    s.createElement(
                      "div",
                      { className: Ba().StatNumber },
                      s.createElement("span", null, "00,000"),
                      " store page views",
                    ),
                    "This many unique players visited your store page from the landing page of Steam Next Fest.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().StatCtn },
                    s.createElement(
                      "div",
                      { className: Ba().StatNumber },
                      s.createElement("span", null, "00,000"),
                      " game impressions",
                    ),
                    "Your game capsule appeared on screen to this many unique players in Steam Next Fest.",
                  ),
                ));
              break;
            case M.rg.k_SurveyButton:
              (i = "We need your feedback!"),
                (l = s.createElement(
                  "div",
                  null,
                  "If you have a few minutes, please take this (very) short survey so that we may understand how the event went for you and how we can improve in the future.",
                  s.createElement(
                    "a",
                    { href: c, className: Ba().BigButton },
                    s.createElement("span", null, "Take Event Survey"),
                  ),
                ));
              break;
            case M.rg.k_MeasureResults:
              (i = "MEASURING YOUR RESULTS"),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "You can check out how your game did by visiting these detailed reporting pages in Steam:",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "SALES",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "For games that are released and playable, you can find a report of your game's sales here: https://partner.steampowered.com/app/details/",
                    n.GetAppID(),
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "WISHLISTS",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "Players may add your game to their wishlist if they aren't quite ready to buy it or if your game is unreleased. You can find your wishlisting results here: https://partner.steampowered.com/app/wishlist/",
                    n.GetAppID(),
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "DEMO ACTIVATIONS",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "If you had a playable demo available, you can find a report of your demo activations by selecting your demo from this page: https://partner.steampowered.com/app/details/",
                    n.GetAppID(),
                  ),
                ));
              break;
            case M.rg.k_MeasureResultsNextFest:
              (i = "MEASURING YOUR RESULTS"),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "You can check out how your game did by visiting these detailed reporting pages in Steam:",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "WISHLISTS & DEMO PLAYERS",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "You can find a recap of your demo activity and wishlist additons here: https://partner.steamgames.com/event_recap/XXXXXXXX",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "LIVESTREAM VIEWS",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "Visit this livestream history page from the account that ran the livestream to see counts of viewers and time watched: https://steamcommunity.com/broadcast/history",
                  ),
                ));
              break;
            case M.rg.k_MeasureResultsFree:
              (i = "MEASURING YOUR RESULTS"),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "You can check out how your game did by visiting these detailed reporting pages in Steam:",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "WISHLISTS",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "Players may add your game to their wishlist if they aren't quite ready to buy it or if your game is unreleased. You can find your wishlisting results here: https://partner.steampowered.com/app/wishlist/",
                    n.GetAppID(),
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "DEMO ACTIVATIONS",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "If you had a playable demo available, you can find a report of your demo activations by selecting your demo from this page: https://partner.steampowered.com/app/details/",
                    n.GetAppID(),
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "LIVESTREAM VIEWS",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "Visit this livestream history page from the account that ran the livestream to see counts of viewers and time watched: https://steamcommunity.com/broadcast/history",
                  ),
                ));
              break;
            case M.rg.k_DemoLaunch:
              (i = (0, R.Xx)("#OptIn_EmailSection_DemoRelease_Title")),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.kQ)(
                      "#OptIn_EmailSection_DemoRelease_Body",
                      s.createElement(
                        "a",
                        { href: p },
                        (0, R.Xx)("#OptIn_EmailSection_DemoRelease_Token"),
                      ),
                    ),
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "We recommend keeping your demo active for at least a week or two after Next Fest ends to make sure that players have time to try out all the great demos they discover during the fest.",
                  ),
                ));
              break;
            case M.rg.k_EnterDiscount:
              (i = "DISCOUNT"),
                (l = s.createElement(
                  "div",
                  null,
                  "If you’d like to offer a discount on your title throughout the ",
                  r.On.Get().GetCurEventTitle(),
                  " event, you'll need to enter your discounts before the event begins on ",
                  s.createElement(
                    "span",
                    null,
                    " " +
                      (0, R.$1)(r.On.Get().GetEventStartTime() || 0) +
                      " @ " +
                      (0, Qt.Sc)(r.On.Get().GetEventStartTime() || 0, {
                        bForce24HourClock: !1,
                      }),
                  ),
                  ". Visit your ",
                  s.createElement(
                    "a",
                    {
                      href:
                        f.De.PARTNER_BASE_URL +
                        "promotion/discounts/dashboard/",
                    },
                    s.createElement("span", null, "discount dashboard"),
                  ),
                  " to check your eligible games and enter your discounts.",
                  s.createElement("br", null),
                  s.createElement("br", null),
                  "Remember, all discounts are subject to the same cooldown between discounts, with the only exceptions being for major Steam seasonal sales. For more details on the discounting, please see the ",
                  s.createElement(
                    "a",
                    { href: f.De.PARTNER_BASE_URL + "doc/marketing/discounts" },
                    s.createElement("span", null, "Discounting documentation"),
                  ),
                  ". If you wish, you may delete conflicting custom discounts you had planned. It's up to you to choose which discount events you participate in.",
                ));
              break;
            case M.rg.k_EnterDiscountReminder:
              (i = "DISCOUNT"),
                (l = s.createElement(
                  "div",
                  null,
                  "If you’d like to offer a discount on your title throughout the event, it’s not too late to do so. Enter your ",
                  r.On.Get().GetCurEventTitle(),
                  " discounts before the event begins on ",
                  (0, R.$1)(r.On.Get().GetEventStartTime() || 0) +
                    " @ " +
                    (0, Qt.Sc)(r.On.Get().GetEventStartTime() || 0, {
                      bForce24HourClock: !1,
                    }),
                  ". Visit your ",
                  s.createElement(
                    "a",
                    {
                      href:
                        f.De.PARTNER_BASE_URL +
                        "promotion/discounts/dashboard/",
                    },
                    s.createElement("span", null, "discount dashboard"),
                  ),
                  " to check your eligible games and enter your discounts.",
                ));
              break;
            case M.rg.k_LearnMore:
              (i = "LEARN MORE"),
                (l = s.createElement(
                  "div",
                  null,
                  "Visit our ",
                  s.createElement(
                    "a",
                    { href: t.GetWikiDocURL() || "#" },
                    r.On.Get().GetCurEventTitle(),
                    " documentation",
                  ),
                  " for more information. Should you have any remaining questions, please reach out via ",
                  s.createElement(
                    "a",
                    {
                      href:
                        f.De.HELP_BASE_URL +
                        "en/wizard/HelpWithPublishing?issueid=933",
                    },
                    "Steam Support",
                  ),
                  ".",
                ));
              break;
            case M.rg.k_CallForRegistration:
              (i = (0, R.Xx)("#OptIn_EmailSection_Register_Title")),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.kQ)(
                      "#OptIn_EmailSection_Register_Body_1",
                      (0, R.$1)(h || 0),
                    ),
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.kQ)(
                      "#OptIn_EmailSection_Register_Body_2",
                      s.createElement("a", { href: d }, d),
                    ),
                  ),
                ));
              break;
            case M.rg.k_NextFestReturns:
              (i = (0, R.Xx)(
                "#OptIn_EmailSection_NextFest_Returns_Title",
                (0, R.$1)(r.On.Get().GetEventStartTime() || 0),
              )),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.Xx)("#OptIn_EmailSection_NextFest_Returns_Body"),
                  ),
                ));
              break;
            case M.rg.k_NextFestQASession:
              (i = (0, R.Xx)("#OptIn_EmailSection_NextFest_QASession_Title")),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.kQ)(
                      "#OptIn_EmailSection_NextFest_QASession_Body",
                      s.createElement(
                        "span",
                        null,
                        " " +
                          (0, R.$1)(t.GetQASessionDate() || 0) +
                          " @ " +
                          (0, Qt.Sc)(t.GetQASessionDate() || 0, {
                            bForce24HourClock: !1,
                          }),
                      ),
                      s.createElement(
                        "a",
                        { href: t.GetQASessionLink() || "", target: "_blank" },
                        (0, R.kQ)(
                          "#OptIn_EmailSection_NextFest_QASession_Link",
                        ),
                      ),
                    ),
                  ),
                ));
              break;
            case M.rg.k_NextFestWhatNext:
              (i = (0, R.Xx)("#OptIn_EmailSection_NextFest_WhatNext_Title")),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.Xx)(
                      "#OptIn_EmailSection_NextFest_WhatNext_Body",
                      (0, R.$1)(r.On.Get().GetEventStartTime() || 0),
                    ),
                  ),
                ));
              break;
            case M.rg.k_NextFestTips:
              (i = (0, R.Xx)("#OptIn_EmailSection_NextFest_Tips_Title")),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.kQ)(
                      "#OptIn_EmailSection_NextFest_Tips_Body",
                      s.createElement(
                        "a",
                        {
                          href: "https://partner.steamgames.com/doc/marketing/upcoming_events/nextfest/tips",
                          target: "_blank",
                        },
                        (0, R.kQ)("#OptIn_EmailSection_NextFest_Tips_Insert1"),
                      ),
                      s.createElement(
                        "a",
                        {
                          href: t.GetRecordedQASessionLink() || "",
                          target: "_blank",
                        },
                        (0, R.kQ)("#OptIn_EmailSection_NextFest_Tips_Insert2"),
                      ),
                    ),
                  ),
                ));
              break;
            case M.rg.k_NextFestStartsNow:
              (i = (0, R.Xx)("#OptIn_EmailSection_NextFest_StartsNow_Title")),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.Xx)("#OptIn_EmailSection_NextFest_StartsNow_Body"),
                  ),
                ));
              break;
            case M.rg.k_NextFestThankYou:
              (i = (0, R.Xx)("#OptIn_EmailSection_NextFest_ThankYou_Title")),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.Xx)("#OptIn_EmailSection_NextFest_ThankYou_Body"),
                  ),
                ));
              break;
            case M.rg.k_MediaPermissionReminder:
              (i = (0, R.Xx)(
                "#OptIn_EmailSection_TrailerDemoPermission_Reminder1_Title",
              )),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.Xx)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder1_Body",
                    ),
                    s.createElement("br", null),
                    s.createElement("br", null),
                    t.GetDemoTrailerRegLink() || "",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    (0, R.Xx)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder2_Title",
                    ),
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.Xx)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder2_Body",
                      (0, R.$1)(t.GetTrailerDemoDeadlineDate() || 0),
                    ),
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.Xx)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder2_Body2",
                    ),
                  ),
                ));
              break;
            case M.rg.k_NextFestMediaUsageIntended:
              (i = "OFFICIAL TRAILER AND/OR LIVESTREAM"),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "We intend to include your game in the official event trailer and/or in the official livestream. Please let us know ASAP if your plans have changed!",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "The main event trailer will be available on the ",
                    s.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "Steam YouTube channel",
                    ),
                    " ",
                    (0, R.$1)(t.GetTrailerLaunchDate() || 0),
                    " sometime after 10am Pacific Time.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "The official livestream will broadcast ",
                    (0, R.$1)(t.GetLivestreamLaunchDate() || 0),
                    ", 11am - 1pm Pacific Time, and can be viewed on the ",
                    s.createElement(
                      "a",
                      { href: "https://store.steampowered.com/sale/nextfest" },
                      "Steam Next Fest event page",
                    ),
                    "; ",
                    s.createElement(
                      "a",
                      { href: "https://www.twitch.tv/valve" },
                      "Twitch",
                    ),
                    "; ",
                    s.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "YouTube",
                    ),
                    "; and ",
                    s.createElement(
                      "a",
                      { href: "https://www.facebook.com/Steam/videos" },
                      "Facebook",
                    ),
                    ".",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "EVENT PARTICIPATION IS REQUIRED FOR FEATURING",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "Of course, participation in this edition of Steam Next Fest with a playable demo is required in order to be featured. If you can no longer participate for any reason please follow the instructions below.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "NEED TO OPT-OUT OR CANCEL? PLEASE DO SO ASAP!",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "If your plans have changed and you no longer intend to participate in this edition, or you would like to opt out of trailer and/or livestream inclusion, please ",
                    s.createElement(
                      "a",
                      {
                        href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=932",
                        target: "_blank",
                      },
                      "contact us",
                    ),
                    " immediately and return to ",
                    s.createElement(
                      "a",
                      { href: o, target: "_blank" },
                      "your game's registration page",
                    ),
                    " to update your selections for featuring permission and/or event registration as relevant.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    'Under the Visibility Opportunity section, select the "no, I do not agree" checkbox(es) for trailer and/or demo usage permissions. If also opting out of Steam Next Fest altogether, please select the "no" checkbox under the Festival Registration section. Make sure to Save.',
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "You must opt out by ",
                    (0, R.$1)(t.GetCancelDate() || 0),
                    " to ensure your trailer and/or demo is not included in our marketing materials.",
                  ),
                ));
              break;
            case M.rg.k_NextFestMediaUsageIntendedTrailer:
              (i = "WE NEED TO KNOW IF YOU ARE STILL IN"),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "Your game is on our shortlist for the official event trailer, so we need to know ASAP If your plans have changed and you won't be able to participate.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "The main event trailer will be available on the ",
                    s.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "Steam YouTube channel",
                    ),
                    " ",
                    (0, R.$1)(t.GetTrailerLaunchDate() || 0),
                    " sometime after 10am Pacific Time.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "EVENT PARTICIPATION IS REQUIRED FOR FEATURING",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "Of course, participation in this edition of Steam Next Fest with a playable demo is required in order to be featured. If you can no longer participate for any reason please follow the instructions below.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "NEED TO OPT-OUT OR CANCEL? PLEASE DO SO ASAP!",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "If your plans have changed and you no longer intend to participate in this edition, or you would like to opt out of trailer and/or livestream inclusion, please ",
                    s.createElement(
                      "a",
                      {
                        href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=932",
                        target: "_blank",
                      },
                      "contact us",
                    ),
                    " immediately and return to ",
                    s.createElement(
                      "a",
                      { href: o, target: "_blank" },
                      "your game's registration page",
                    ),
                    " to update your selections for featuring permission and/or event registration as relevant.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    'Under the Visibility Opportunity section, select the "no, I do not agree" checkbox(es) for trailer and/or demo usage permissions. If also opting out of Steam Next Fest altogether, please select the "no" checkbox under the Festival Registration section. Make sure to Save.',
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "You must opt out by ",
                    (0, R.$1)(t.GetCancelDate() || 0),
                    " to ensure your trailer and/or demo is not included in our marketing materials.",
                  ),
                ));
              break;
            case M.rg.k_NextFestMediaUsageIntendedLivestream:
              (i = "WE NEED TO KNOW IF YOU ARE STILL IN"),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "Your game is on our shortlist for the official livestream, so we need to know ASAP If your plans have changed and you won't be able to participate.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "The official livestream will broadcast ",
                    (0, R.$1)(t.GetLivestreamLaunchDate() || 0),
                    ", 11am - 1pm Pacific Time, and can be viewed on the ",
                    s.createElement(
                      "a",
                      { href: "https://store.steampowered.com/sale/nextfest" },
                      "Steam Next Fest event page",
                    ),
                    "; ",
                    s.createElement(
                      "a",
                      { href: "https://www.twitch.tv/valve" },
                      "Twitch",
                    ),
                    "; ",
                    s.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "YouTube",
                    ),
                    "; and ",
                    s.createElement(
                      "a",
                      { href: "https://www.facebook.com/Steam/videos" },
                      "Facebook",
                    ),
                    ".",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "EVENT PARTICIPATION IS REQUIRED FOR FEATURING",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "Of course, participation in this edition of Steam Next Fest with a playable demo is required in order to be featured. If you can no longer participate for any reason please follow the instructions below.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "NEED TO OPT-OUT OR CANCEL? PLEASE DO SO ASAP!",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "If your plans have changed and you no longer intend to participate in this edition, or you would like to opt out of trailer and/or livestream inclusion, please ",
                    s.createElement(
                      "a",
                      {
                        href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=932",
                        target: "_blank",
                      },
                      "contact us",
                    ),
                    " immediately and return to ",
                    s.createElement(
                      "a",
                      { href: o, target: "_blank" },
                      "your game's registration page",
                    ),
                    " to update your selections for featuring permission and/or event registration as relevant.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    'Under the Visibility Opportunity section, select the "no, I do not agree" checkbox(es) for trailer and/or demo usage permissions. If also opting out of Steam Next Fest altogether, please select the "no" checkbox under the Festival Registration section. Make sure to Save.',
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "You must opt out by ",
                    (0, R.$1)(t.GetCancelDate() || 0),
                    " to ensure your trailer and/or demo is not included in our marketing materials.",
                  ),
                ));
              break;
            case M.rg.k_NextFestTopGameWrapUp:
              (i = "YOUR DEMO WAS ONE OF THE MOST PLAYED!"),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "Congratulations! As one of the most popular demos in this edition of Next Fest, your game will highlighted as part of a wrap-up announcement and landing page.",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionTitle },
                    "PLEASE LEAVE YOUR DEMO UP!",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "In the next day or so, we will publish the list of most-played demos of Steam Next Fest. Since that could lead to another round of extra attention from players, we wanted to give you a heads up and suggest that you keep your demo live for an additional week or two. (Plus, we know that players can't get through all the great demos they discover during Next Fest, so keeping your demo up for a couple weeks is generally a good idea.)",
                  ),
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    "Thanks for participating in Next Fest, and congrats on having one of the most-played demos of the week!",
                  ),
                ));
              break;
            case M.rg.k_SaleThankYou:
              (i = (0, R.Xx)("#OptIn_EmailSection_ThankYou_Title")),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    (0, R.Xx)("#OptIn_EmailSection_ThankYou_Body"),
                  ),
                ));
              break;
            case M.rg.k_GenericActionLink:
              (i = null),
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: Ba().SectionBody },
                    t.GetGenericActionLink() &&
                      s.createElement(
                        "a",
                        {
                          href:
                            t
                              .GetGenericActionLink()
                              .replace("%s", n.GetAppID().toString()) || "",
                          target: "_blank",
                        },
                        t
                          .GetGenericActionLink()
                          .replace("%s", n.GetAppID().toString()) || "",
                      ),
                  ),
                ));
              break;
            case M.rg.k_SteamAwardsCategories:
              (i = (0, R.Xx)(
                "#OptIn_EmailSection_SteamAwardsCategories_Title",
              )),
                (l = s.createElement(ja, { emailDef: t }));
              break;
            case M.rg.k_ImageBoxSection:
              (i = void 0), (l = s.createElement(Xa, { emailDef: t }));
              break;
            default:
              (i = "Unknown"),
                (l = s.createElement(
                  "div",
                  null,
                  "Unknown type ",
                  a.GetType(),
                  " @ ",
                  (0, M.n)(a.GetType()),
                  " ",
                ));
          }
          return s.createElement(
            "div",
            { className: Ba().SectionCtn },
            s.createElement("div", { className: Ba().SectionTitle }, i),
            l,
          );
        });
      function Xa(e) {
        const { emailDef: t } = e,
          a = (0, ne.h)(),
          [n, i] = (0, Ce.SZ)(() => [
            t.GetOwningOptInName(),
            t.GetEmailImage(a),
          ]);
        return s.createElement(
          "div",
          { className: Ba().SectionBody },
          s.createElement("img", { src: (0, Be.cx)(n, a, i) }),
        );
      }
      function ja(e) {
        const { emailDef: t } = e,
          a = wn(t);
        return s.createElement(
          "div",
          { className: Ba().SectionBody },
          s.createElement(
            "div",
            null,
            (0, R.Xx)("#OptIn_EmailSection_SteamAwardsCategories_Body"),
          ),
          s.createElement(
            "div",
            null,
            s.createElement(
              "ul",
              null,
              Boolean(a?.length > 0)
                ? s.createElement(
                    s.Fragment,
                    null,
                    a.map((e) => s.createElement("li", { key: e }, e)),
                  )
                : s.createElement(
                    "li",
                    null,
                    s.createElement(P.V, { size: "small" }),
                  ),
            ),
          ),
        );
      }
      var qa = a(58515),
        Wa = a.n(qa);
      function za(e) {
        const { appid: t, closeModal: a } = e,
          n = (0, Ra.$)(t);
        return (
          console.log(t, n),
          s.createElement(
            w.uH,
            {
              bAlertDialog: !0,
              strTitle: "Steam Award Definitions",
              closeModal: a,
            },
            n.isLoading
              ? s.createElement(P.V, { size: "medium", position: "center" })
              : s.createElement(
                  "div",
                  null,
                  s.createElement("h3", null, "Awards: "),
                  n.data.votes.map((e) =>
                    s.createElement(
                      "div",
                      { key: e.internal_name },
                      e.localization.title,
                    ),
                  ),
                  Boolean(n.data.votes.every((e) => e.app_discounts.length > 0))
                    ? s.createElement(
                        "div",
                        { className: k.InfoStylesWithIcon },
                        "Nominees Ready",
                      )
                    : s.createElement(
                        "div",
                        { className: (0, v.Z)(k.WarningStylesWithIcon) },
                        "No nominee's present",
                      ),
                ),
          )
        );
      }
      var Za = a(20020);
      function Ka(e) {
        const { emailDef: t } = e,
          a = (0, Ce.SZ)(() => [t?.GetEmailImageCount()]);
        return s.createElement(
          "div",
          { className: Ba().MetaDataRow },
          s.createElement(
            "div",
            { className: Ba().MetaDataRowTitle },
            "Image Upload (610x348):",
          ),
          s.createElement(
            m.zx,
            {
              onClick: (e) =>
                (0, g.AM)(s.createElement(Qa, { emailDef: t }), (0, D.RA)(e)),
            },
            "Upload Images ",
            s.createElement("span", null, "(", a, ")"),
          ),
        );
      }
      function Qa(e) {
        const { emailDef: t, closeModal: a } = e,
          n = (0, s.useMemo)(() => ["localized_email_image"], []),
          i = (0, s.useMemo)(() => [Te.IN.k_ESteamRealmGlobal], []),
          [r, l] = (0, s.useState)(() => t.GetAllEmailImages()),
          o = (0, Ce.SZ)(() => t.GetOwningOptInName());
        return s.createElement(
          w.uH,
          {
            strTitle: "Upload Email Image",
            closeModal: a,
            bDisableBackgroundDismiss: !0,
            bAllowFullSize: !0,
            onOK: () => t.SetAllEmailImages(r),
          },
          s.createElement("p", null, "610px x 348px"),
          s.createElement(Re.j, {
            rgSupportArtwork: n,
            rgRealmList: i,
            strUploadAjaxURL: `${xe.De.PARTNER_BASE_URL}optin/ajaxuploadasset/${o}`,
            fnOnUploadSuccess: (e, t, a, n, i) => {
              (0, Za.X)(
                "localized_email_image" == i,
                "unexpected artwork type",
              ),
                l((t) => {
                  const i = { ...t };
                  return (i[(0, ae.j_)(a)] = e + (0, Ne.UQ)(n)), i;
                });
            },
          }),
          s.createElement(
            d.SV,
            null,
            s.createElement(Ya, { rgImages: r, pageid: o, fnSetImages: l }),
          ),
        );
      }
      function Ya(e) {
        const { rgImages: t, pageid: a, fnSetImages: n } = e,
          [i] = (0, Ce.SZ)(() => [
            Object.keys(t)
              .sort()
              .map((e) => (0, ae.jM)(e)),
          ]),
          r = (0, s.useCallback)(
            (e) => {
              const n = (0, ae.j_)(e),
                i = t[n];
              return i ? (0, Be.cx)(a, e, i) : null;
            },
            [a, t],
          );
        return s.createElement(Le.V, {
          rgAssetLangs: i,
          fnGetAssetUrl: r,
          fnDeletAssetLang: (e) => {
            const a = (0, ae.j_)(e),
              i = { ...t };
            i?.[a] && (delete i[a], n(i));
          },
        });
      }
      const Ja = (e) => {
          const { emailDef: t, storeItem: a, partnerInfo: n } = e;
          switch (t.GetType()) {
            case M.Ys.k_Invite:
            case M.Ys.k_InviteReminder:
              return s.createElement(
                s.Fragment,
                null,
                s.createElement("a", { href: n.partner_url }, n.name),
                " is invited to participate in an upcoming Steam event!",
              );
            case M.Ys.k_RegistrationConfirmation:
              return s.createElement(
                s.Fragment,
                null,
                "You've successfully registered ",
                s.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                " for an upcoming Steam Event!",
              );
            case M.Ys.k_Update:
              return s.createElement(
                s.Fragment,
                null,
                "We have a few things to share that might be helpful for ",
                s.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                " in an upcoming Steam Event!",
              );
            case M.Ys.k_Reminder:
              return s.createElement(
                s.Fragment,
                null,
                "This event is coming up quickly, so we wanted to check that ",
                s.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                " is all set to participate.",
              );
            case M.Ys.k_Starting:
              return s.createElement(
                s.Fragment,
                null,
                "This event starts soon! Here are a few final notes to prepare ",
                s.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                ".",
              );
            case M.Ys.k_Followup:
              return s.createElement(
                s.Fragment,
                null,
                "We are pleased to have had ",
                s.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                " participate in a recent event!",
              );
            case M.Ys.k_PermissionRequest:
              return s.createElement(
                s.Fragment,
                null,
                s.createElement("a", { href: n.partner_url }, n.name),
                " is in consideration to be included in official event marketing!",
              );
            case M.Ys.k_MediaUsageNotification:
              return s.createElement(
                s.Fragment,
                null,
                "Please let us know ASAP if ",
                s.createElement("a", { href: n.partner_url }, n.name),
                " will no longer be part of the event.",
              );
            case M.Ys.k_GeneralCommunication:
              return s.createElement(
                s.Fragment,
                null,
                "Regarding your game ",
                s.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                " on Steam:",
              );
            case M.Ys.k_SteamAwardFinalists:
              return s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                " is a finalist for the Steam Awards!",
              );
            default:
              return s.createElement(
                "div",
                null,
                "unknown type: ",
                t.GetType(),
              );
          }
        },
        $a = (0, $.Pi)((e) => {
          const { emailDef: t, appid: a } = e,
            [n] = (0, Qe.vs)(a, { include_basic_info: !0 }),
            [i] = (0, Ga.DV)((0, Ga.Tt)()),
            [l, o] = (0, s.useState)(() => Boolean(t.GetSubject(0)));
          if (!n || !i)
            return s.createElement(P.V, {
              string: (0, R.Xx)("#Loading"),
              size: "medium",
              position: "center",
            });
          const c = r.On.Get(),
            d = ne.U.Get().GetCurEditLanguage(),
            u = t
              .GetSections()
              .map((e, a) =>
                s.createElement(Oa, {
                  key: "section" + t.GetUniqueID() + "_" + e.GetUniqueID(),
                  emailDef: t,
                  section: e,
                  sectionIndex: a,
                  storeItem: n,
                }),
              );
          return s.createElement(
            "div",
            { className: Ba().EmailEditorContent },
            s.createElement(ee.ko, { fnLangHasData: t.BHasLanguageData }),
            t.BIsReadOnly() && s.createElement("h2", null, "Read Only"),
            s.createElement("h1", null, "Showing Email: ", t.GetInternalName()),
            s.createElement(
              "div",
              { className: Ba().Columns },
              s.createElement(
                "div",
                { className: Ba().LeftCol },
                Boolean(l)
                  ? s.createElement(
                      "div",
                      {
                        className: (0, v.Z)(
                          Ba().RightAlign,
                          Ba().EmailSubjectCtn,
                        ),
                      },
                      s.createElement(
                        "div",
                        { className: Ba().EmailCustomSubject },
                        s.createElement(m.__, null, "Email Subject:"),
                        s.createElement("input", {
                          type: "text",
                          disabled: t.BIsReadOnly(),
                          value: t.GetSubject(d),
                          onChange: (e) =>
                            t.SetSubject(e.currentTarget.value, d),
                        }),
                      ),
                      s.createElement(
                        m.zx,
                        {
                          onClick: () => {
                            o(!1), t.ClearSubjectText();
                          },
                        },
                        "Switch to Preset Subject",
                      ),
                    )
                  : s.createElement(tn, { emailDef: t, fnSetUseCustom: o }),
                s.createElement(
                  "div",
                  {
                    className: (0, v.Z)(
                      Ba().EmailTemplate,
                      Ba().DevEmailTemplate,
                    ),
                  },
                  s.createElement(
                    "div",
                    {
                      className: (0, v.Z)(
                        Ba().CenterAlign,
                        Ba().DevEmail_TopHeader,
                      ),
                    },
                    s.createElement(
                      "a",
                      { href: f.De.PARTNER_BASE_URL },
                      s.createElement("img", {
                        src: xa,
                        className: Ba().DevEmail_TopLogo,
                      }),
                    ),
                  ),
                  s.createElement(
                    "div",
                    { className: (0, v.Z)(Ba().DevEmail_Content) },
                    s.createElement(
                      "div",
                      { className: Ba().DevEmail_Headline1 },
                      (function (e) {
                        switch (e.GetType()) {
                          case M.Ys.k_Invite:
                            return "YOU'RE INVITED!";
                          case M.Ys.k_InviteReminder:
                            return "LAST CHANCE TO REGISTER";
                          case M.Ys.k_RegistrationConfirmation:
                            return "YOU'RE IN!";
                          case M.Ys.k_Update:
                            return "EVENT UPDATE";
                          case M.Ys.k_Reminder:
                            return "REMINDER!";
                          case M.Ys.k_Starting:
                            return "GET READY!";
                          case M.Ys.k_Followup:
                            return "THANKS FOR JOINING US!";
                          case M.Ys.k_PermissionRequest:
                            return "WE'D LIKE YOUR PERMISSION";
                          case M.Ys.k_MediaUsageNotification:
                            return "YOUR GAME IS ON THE SHORT LIST FOR FEATURING";
                          case M.Ys.k_GeneralCommunication:
                          case M.Ys.k_SteamAwardFinalists:
                            return null;
                          default:
                            return "unknown type: " + e.GetType();
                        }
                      })(t),
                    ),
                    s.createElement(
                      "div",
                      { className: Ba().DevEmail_Headline2 },
                      s.createElement(Ja, {
                        emailDef: t,
                        storeItem: n,
                        partnerInfo: i,
                      }),
                    ),
                    t.GetType() != M.Ys.k_GeneralCommunication &&
                      s.createElement(
                        "div",
                        { className: Ba().EventCtn },
                        s.createElement(
                          "div",
                          { className: Ba().EventTitle },
                          c.GetCurEventTitle(),
                        ),
                        Boolean(t.GetType() != M.Ys.k_PermissionRequest) &&
                          s.createElement(
                            "div",
                            { className: Ba().EventDates },
                            (0, R.$1)(c.GetEventStartTime()),
                            " - ",
                            (0, R.$1)(c.GetEventEndTime()),
                          ),
                      ),
                    s.createElement(
                      "div",
                      { className: Ba().DevEmail_Subject },
                      (0, M.mj)(t.GetType()),
                    ),
                  ),
                  u,
                  s.createElement("hr", { id: "end_of_email_sections" }),
                  s.createElement(
                    "div",
                    { className: (0, v.Z)(Ba().DevEmail_Content) },
                    Boolean(
                      t.GetType() != M.Ys.k_Invite &&
                        t.GetType() != M.Ys.k_Followup &&
                        t.GetType() != M.Ys.k_PermissionRequest &&
                        t.GetType() != M.Ys.k_GeneralCommunication &&
                        t.GetType() != M.Ys.k_SteamAwardFinalists,
                    ) &&
                      s.createElement(
                        "div",
                        { className: Ba().DevEmail_Subject },
                        "To review the participation checklist, make adjustments to your registration, or cancel entirely, you can visit the  ",
                        s.createElement(
                          "a",
                          {
                            href:
                              f.De.PARTNER_BASE_URL +
                              "optin/" +
                              c.GetModel().pageid +
                              "/sale/" +
                              a,
                          },
                          "registration page for ",
                          n.GetName(),
                        ),
                        ".",
                      ),
                    s.createElement(
                      "div",
                      null,
                      s.createElement("b", null, "Have Questions?"),
                      s.createElement("br", null),
                      s.createElement("a", { href: "#" }, "Contact us"),
                      " and we'll get right back to you.",
                    ),
                    s.createElement("img", {
                      src:
                        f.De.STORE_CDN_URL +
                        "public/cdn/email/general/logo_med.png",
                      className: Ba().DevEmail_SignOff_Img,
                    }),
                    s.createElement(
                      "div",
                      { className: Ba().DevEmail_Signoff },
                      s.createElement("div", null, "Sincerely,"),
                      s.createElement("div", null, "The Steam Business Team"),
                    ),
                  ),
                ),
                s.createElement(
                  "div",
                  { className: (0, v.Z)(Ba().DevEmail_Footer_Ctn) },
                  Boolean(
                    t.GetType() != M.Ys.k_Invite &&
                      t.GetType() != M.Ys.k_GeneralCommunication &&
                      t.GetType() != M.Ys.k_SteamAwardFinalists,
                  ) &&
                    s.createElement(
                      "span",
                      { className: Ba().DevEmail_Footer_Reason },
                      "You are receiving this email because you registered ",
                      n.GetName(),
                      " for the ",
                      c.GetName(),
                      " event on Steamworks.",
                    ),
                  s.createElement(
                    "div",
                    { className: Ba().DevEmail_Footer_SubSection },
                    s.createElement("img", {
                      src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA8FJREFUeNrsWltIVEEYXs28ZPebEVq+BBGZIl1ALc0LaDd9q8gi6yl66LGgh24PPddDPkVXlCDIzbByqcwoSsEsWB80NKxIpIhKKiTdvh/+iZ/D6ZxZ3KNnaT74dmbOzM6emf8652xCJBIJGPgTiWYLjHAMjHCMcAwmCUn0sXN37VuzFRNCKxgEq8DeG43Xz8dMOMBys78TwmJwNvgLnBNTyxFoBDvMXmvjILia66/AMXDEK+G0wiQvmz3XA8JBiRIO9q0HRU/MY47LDexBMR0cxg20WPoyUZRzM4z+Tod5trD5K1zD+DGN369EsQQcxfgGl7GLUGzlZg/Gd1j681DkcTOE/g+W/vkodthM3Y2x3VOSELjgAFgKfqObt2xoLXiW67vAzn9sWgopFzhTXO4Fn2n8/jGwGPwKNriM/QnWg6lgG7jZ0n8CrAHHLYqisAy8ZHP9FAnIj6l0E5cU8NZZ+sq4HAVbHOYotggmIDQ8ZoDikL8PcbMASjFDKMg0FCXcbMfYzw5TUV+dYNOUpdIuoBRRpYbkwp7zYpNRFPL1B1jsd4c5lCA+gQMs5G3gcQ/WdAvcDiazUtzl6/ngXDHGCSN+iL2JGto4iOKlEI5CAZimuVjlxx8JC1sDAWd5sKbb7LYIFTZWHtCwhEw6+wmu8vMTgqCNq1AuIiL67eINLSxbWZjQ5ABbT6xdG7mkdhtlUvUuVrj4eEKgGXdOcta2CbwnFvsUix12+K4UAAmnn336AnZ39R65NlKeHChHBicThZpWTniPNWX73q2xNtIBSz3iKceC01Gu13QRKt4MYp434LgI2mWYK82Ddcl7qmAXnBqFcFLpDCOY7We3Jl0bWcxGtiLHxfK5oYibs9BuI6K+QW2CJRbEyrWR2+oSwinleh/6whpTZHB8VNzvZ7emtPEImMtnGsJrLLbf4TuVQgHmcfZkZ1l3PHJt+axM7zStZojPNFa0+V04T8AvvMl7NRcr481h8IdonwazeMwhj4RzBlzKdHXBULQhjq1xlRDQjY/BJTWjuk9Yg5NLo0NflXAnFyz9a1lglLbmclxzQjrG2W1uM7570eZ+wxjfh+oKvvQRfBFPz+6ifdkmU+YBlw0tEoe+kE3//ShTalKkahvmuFjP3/MPJyNxg6Qox9OGnuO626uF38J/252DHoq5nFLxmy7PtR479F0BU7h+NRBnSKC/RsH81f+j6swrA32wmyXrDWLfary2nJX8jsJADwsn060dZRrEYUJgMNkxx8BYjoERjhGOgRHO/40/AgwA6Pwl5bmDALcAAAAASUVORK5CYII=",
                      width: 103,
                      height: 43,
                    }),
                    s.createElement(
                      "div",
                      null,
                      s.createElement(
                        "div",
                        { className: Ba().DevEmail_Footer_Bold },
                        s.createElement(
                          "strong",
                          null,
                          "© Valve Corporation",
                          s.createElement("br", null),
                          "PO Box 1688 Bellevue, WA 98009",
                        ),
                      ),
                      s.createElement(
                        "div",
                        { className: Ba().DevEmail_Footer_Regular },
                        "All rights reserved. All trademarks are property of their respective owners in the US and other countries.",
                      ),
                      s.createElement(
                        "div",
                        null,
                        s.createElement(
                          "a",
                          {
                            className: _().FlexRowContainer,
                            href:
                              (f.De.IN_CLIENT ? "steam://openurl/" : "") +
                              "https://twitter.com/steam_games",
                            target: f.De.IN_CLIENT ? void 0 : "_blank",
                          },
                          s.createElement("img", {
                            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAA4CAYAAABJ7S5PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJGOUM2QTBGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJGOUM2OUZGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkI2RThDNjdERjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkI2RThDNjdFRjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XKq1FgAAAwJJREFUeNrsm4tRhDAQhoNjA7RAC7QQSzhLiCVgCVgClnBXAlcClAAlYAlnMm7OHeSRF4HEy8yOzp0w7Mfun90kJrfbjTwGIU8PBD/j2fYGSZJs/YwpN8Yt55bBTzmu3Fqwi8nN7xkhfrGxDYdwuhKPqGgdANO5d3r3Y8Y5ujMI4dCgAQFbM4oaPHIEt8KBMOVYBn/IdgJRGQLANiAYlFsJEYO/z9ZAFOgC5hmECwjY2bnvCqwRcyCa0UXME4iTQwhLVo3F8g8IUOipi9nGIFILTTCGAGlTTIGgS+G0IYjCA4QCdOGENGOQM4cOCGFnPOU4BLF1NHRzgjqXGlTxptQhCF/a8CfdlzSCatyohNwOIS0mIZiI5dIUxSxB1B4BDBCBRGX67AxzkB0cxGTFKf2e6j5NmhdZuw9InY82LtCcKbfhn5b1gJyaGoCSB9mG8zDpeWv9gctQw5EjCF+jlvkLvZ0WRHrfMVMk+ar0fFqx5P/TzJfijb1EtgjVKi/V8ZQ4caMAQ1z4CmH879YshdM1h9FxK+Gzd259BL72yhqhWVmGZkRZI/gH10gj/6qbGquiEqNQblFQhakPC3VEF5k+ZFoagcZ7ZGnRm6SGIHSJKEXUmsiVFeoq5rRYXI+IDEatGgiq23pFoE0YcwoCdaRFQDNKpyMNydpKtGjERo2X3BugBxfJNxXBVz4WsNMqs5do0BXLEBdpmHMQAUZFrZM/JmJ5DgDCoLuCbjprNCGuSzoFEQCMs83itekBsqNpRkMM92GtQKCzVuUBZpTBZhNJuaBaG3DOksLDyDORqaeiSW47tDYglAoqjcNkqeeZxSoSnKXGCATznCJOIDgDASlRE//ls7ONZWMQO3ehtWv90e01KDjfhFQs6YB4BuWnE2qfkmOcbWihpd52v2X05suDtdJsa8prh9KrHQslLwCUNQIVR7504UxGJ958glCqLLmGyOW53OHD9uT3ONGF7HQOQ/pvVGKDuGZoRiGoxJ7bie6RKe0+HR5EjOPxX34wvgUYAA3Q5FQ1OsEYAAAAAElFTkSuQmCC",
                            width: 33,
                            height: 28,
                          }),
                          s.createElement(
                            "div",
                            { className: Ba().DevEmail_Follow },
                            "Follow us on Twitter",
                          ),
                        ),
                      ),
                    ),
                  ),
                ),
              ),
              s.createElement(
                "div",
                { className: Ba().RightCol },
                s.createElement(
                  "div",
                  { className: Ba().Sticky },
                  s.createElement(ln, { emailDef: t }),
                  s.createElement(an, { emailDef: t }),
                  s.createElement(sn, { emailDef: t }),
                  s.createElement(nn, { emailDef: t }),
                  !t.BIsReadOnly() &&
                    s.createElement(
                      "div",
                      { className: Ba().AddSectionCtn },
                      s.createElement(
                        m.KM,
                        {
                          className: ue().BasicButtonSize,
                          disabled: t.BIsReadOnly(),
                          onClick: (e) =>
                            (0, g.AM)(
                              s.createElement(Ha, {
                                emailDef: t,
                                storeItem: n,
                              }),
                              (0, D.RA)(e),
                            ),
                        },
                        "Add an Email Section",
                      ),
                    ),
                ),
              ),
            ),
          );
        }),
        en = [
          "#OptIn_EmailSubject_YourInvited",
          "#OptIn_EmailSubject_YourRegistered",
          "#OptIn_EmailSubject_StartsNextWeek",
          "#OptIn_EmailSubject_NF_SpecialRequest",
          "#OptIn_EmailSubject_NF_Preview",
          "#OptIn_EmailSubject_NF_MarketingRequest",
          "#OptIn_EmailSubject_NF_Featuring",
          "#OptIn_EmailSubject_NF_Assets",
          "#OptIn_EmailSubject_NF_StartsToday",
          "#OptIn_EmailSubject_NF_TopPlayed",
          "#OptIn_EmailSubject_NF_Thanks",
        ];
      function tn(e) {
        const { emailDef: t, fnSetUseCustom: a } = e,
          n = r.On.Get(),
          i = (0, ne.h)(),
          [l, o] = (0, Ce.SZ)(() => [t.GetSubjectToken(), n.GetEventTitle(i)]),
          c = (0, s.useMemo)(
            () => en.map((e) => ({ label: (0, R.Xx)(e, o), data: e })),
            [o],
          );
        return s.createElement(
          "div",
          { className: Ba().SubjectPickerRow },
          s.createElement(m.ry, {
            label: "Preset Email Subject Line",
            tooltip: "These are already localized subject line tokens",
            rgOptions: c,
            selectedOption: l,
            onChange: (e) => t.SetSubjectToken(e.data),
          }),
          s.createElement(
            m.zx,
            {
              onClick: () => {
                t.SetSubjectToken(void 0), a(!0);
              },
            },
            "Switch To Custom Subject",
          ),
        );
      }
      function an(e) {
        const { emailDef: t } = e,
          a = r.On.Get(),
          [n, i, l] = (0, Ce.SZ)(() => [
            t.GetEmailTargeting(),
            a.GetDiscountEventID(),
            a.GetLaunchYourDemoRequired(),
          ]),
          o = (0, r.tb)();
        return o
          ? 32 == n && 0 == o.count_eligible
            ? s.createElement(
                "div",
                { className: (0, v.Z)(k.WarningStylesWithIcon) },
                "Wrong Targeting: No 'eligible' apps in optin; likely want invited targeting",
              )
            : 16 == n && 0 == o.count_invited
              ? s.createElement(
                  "div",
                  { className: (0, v.Z)(k.WarningStylesWithIcon) },
                  "Wrong Targeting: No apps marked 'invited' to optin",
                )
              : (64 != n && 128 != n && 256 != n) || 0 != o.count_featured
                ? 4 != n || i
                  ? 2 != n || l
                    ? null
                    : s.createElement(
                        "div",
                        { className: (0, v.Z)(k.WarningStylesWithIcon) },
                        "Wrong Targeting: No launch demo date specified.",
                      )
                  : s.createElement(
                      "div",
                      { className: (0, v.Z)(k.WarningStylesWithIcon) },
                      "Wrong Targeting: Missing discount event in the OptIn Def",
                    )
                : s.createElement(
                    "div",
                    { className: (0, v.Z)(k.WarningStylesWithIcon) },
                    "Wrong Targeting: No apps marked 'featured' to optin",
                  )
          : null;
      }
      const nn = (0, $.Pi)((e) => {
        const { emailDef: t } = e,
          a = rn(t);
        return 0 == Object.values(a).length
          ? null
          : s.createElement(
              "div",
              { className: Ba().MetaDataCtn },
              t.BIsReadOnly() && s.createElement("h2", null, "Read Only"),
              s.createElement(
                "div",
                { className: Ba().ConfTitle },
                "Email Configuration",
              ),
              s.createElement(
                "p",
                null,
                "The following metadata is required to render correctly",
              ),
              a.bNeedAssetKit &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(
                    "div",
                    { className: Ba().MetaDataRowTitle },
                    "Asset Kit URL:",
                  ),
                  s.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetAssetKitURL() || "",
                    placeholder: "https://<url to asset kit>",
                    onChange: (e) => t.SetAssetKitURL(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedDemoPressPreviewDate &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(Pe.A, {
                    strDescription: "Press Preview Demo is Ready Date?",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetDemoPressPreviewDate() || 0,
                    fnSetTimeToUpdate: t.SetDemoPreviewDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedMaxItems &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(
                    "div",
                    { className: Ba().MetaDataRowTitle },
                    "Max Events Permitted on Schedule",
                  ),
                  s.createElement("input", {
                    type: "number",
                    min: "1",
                    disabled: t.BIsReadOnly(),
                    onChange: (e) =>
                      t.SetScheduleMaxItems(
                        Number.parseInt(e.currentTarget.value),
                      ),
                    value: t.GetScheduleMaxItems() || 2,
                    className: Ba().MaxEventCount,
                  }),
                ),
              a.bNeedSalePreview &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(
                    "div",
                    { className: Ba().MetaDataRowTitle },
                    "Sale Event Preview Page (for Schedule Access):",
                  ),
                  s.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetSalePreviewPage() || "",
                    placeholder: "https://<url to public store sale page>",
                    onChange: (e) => t.SetSalePreviewURL(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedNextEditionDate &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(Pe.A, {
                    strDescription: "Festival Next Edition Date for Opt-in?",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetNextEditionDate() || 0,
                    fnSetTimeToUpdate: t.SetNextEditionDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedQASessionDate &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(Pe.A, {
                    strDescription: "Q&A Session Date",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetQASessionDate() || 0,
                    fnSetTimeToUpdate: t.SetQASessionDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedTrailerDemoDeadlineDate &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(Pe.A, {
                    strDescription:
                      "Deadline for Demo Approved And Permission Granted",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () =>
                      t.GetTrailerDemoDeadlineDate() || 0,
                    fnSetTimeToUpdate: t.SetTrailerDemoDeadlineDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedQASessionLink &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(
                    "div",
                    { className: Ba().MetaDataRowTitle },
                    "Q&A Session URL:",
                  ),
                  s.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetQASessionLink() || "",
                    placeholder: "https://<url to zoom>",
                    onChange: (e) => t.SetQASessionLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedDemoTrailerRegLink &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(
                    "div",
                    { className: Ba().MetaDataRowTitle },
                    "Permission Registration URL:",
                  ),
                  s.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetDemoTrailerRegLink() || "",
                    placeholder: "typically same full url as base event",
                    onChange: (e) =>
                      t.SetDemoTrailerRegLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedRecordedQASessionLink &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(
                    "div",
                    { className: Ba().MetaDataRowTitle },
                    "Recorded Q&A YouTube URL:",
                  ),
                  s.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetRecordedQASessionLink() || "",
                    placeholder: "https://<url to YouTube>",
                    onChange: (e) =>
                      t.SetRecordedQASessionLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedCancelDate &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(Pe.A, {
                    strDescription: "Cancel Date / Opt-Out Date",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetCancelDate() || 0,
                    fnSetTimeToUpdate: t.SetCancelDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedTrailerLaunchDate &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(Pe.A, {
                    strDescription: "Official Trailer Launch Date",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetTrailerLaunchDate() || 0,
                    fnSetTimeToUpdate: t.SetTrailerLaunchDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedLivestreamLaunchDate &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(Pe.A, {
                    strDescription: "Official Livestream Launch Date",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetLivestreamLaunchDate() || 0,
                    fnSetTimeToUpdate: t.SetLivestreamLaunchDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedPreviewDate &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(Pe.A, {
                    strDescription: "Press Preview Date",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetPreviewDate() || 0,
                    fnSetTimeToUpdate: t.SetPreviewDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedPermissionDate &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(Pe.A, {
                    strDescription: "Permission Deadline Date",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetPermissionDate() || 0,
                    fnSetTimeToUpdate: t.SetPermissionDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedPressPreviewVisibleDate &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(Pe.A, {
                    strDescription:
                      "Press Preview will be Visible to Press/Customer on/or around date",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () =>
                      t.GetPressPreviewVisibleDate() || 0,
                    fnSetTimeToUpdate: t.SetPressPreviewVisibleDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedWikiDocumentation &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(
                    "div",
                    { className: Ba().MetaDataRowTitle },
                    "Event Wiki documentation:",
                  ),
                  s.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetWikiDocURL() || "",
                    placeholder:
                      "https://<url to steamworks event wiki documentation>",
                    onChange: (e) => t.SetWikiDocURL(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedSurveyLink &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(
                    "div",
                    { className: Ba().MetaDataRowTitle },
                    "Event Survey link:",
                  ),
                  s.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetSurveyLinkURL() || "",
                    placeholder: "https://<url online survey>",
                    onChange: (e) => t.SetSurveyLinkURL(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedGenericActionLink &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(
                    "div",
                    { className: Ba().MetaDataRowTitle },
                    "Action URL:",
                  ),
                  s.createElement(
                    "p",
                    null,
                    "Insert a %s into your URL anywhere you wish to replace with appID",
                  ),
                  s.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetGenericActionLink() || "",
                    placeholder: "https://...",
                    onChange: (e) =>
                      t.SetGenericActionLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedSteamAwardsAdvertisingApp &&
                s.createElement(
                  "div",
                  { className: Ba().MetaDataRow },
                  s.createElement(
                    "div",
                    { className: Ba().MetaDataRowTitle },
                    "Steam Awards Advertising Appid:",
                  ),
                  s.createElement(
                    "p",
                    null,
                    "The nomination and winners for a specific year's steam awards are tied to a hardcoded appid. Please this appid and we can verify we have the correct year",
                  ),
                  s.createElement("input", {
                    type: "number",
                    disabled: t.BIsReadOnly(),
                    value: t.GetSteamAwardsAdApp() || 0,
                    onChange: (e) =>
                      t.SetSteamAwardsAdvertisingApp(
                        Number.parseInt(e.currentTarget.value),
                      ),
                  }),
                  s.createElement(
                    m.zx,
                    {
                      onClick: (e) =>
                        (0, g.AM)(
                          s.createElement(za, {
                            appid: t.GetSteamAwardsAdApp(),
                          }),
                          (0, D.RA)(e),
                        ),
                    },
                    "Verify Steam Award AppID",
                  ),
                ),
              a.bNeedImageUploaded && s.createElement(Ka, { emailDef: t }),
            );
      });
      function rn(e) {
        const t = {};
        return (
          (e.GetSections() || []).forEach((e) => {
            switch (e.GetType()) {
              case M.rg.k_AssetKit:
                t.bNeedAssetKit = !0;
                break;
              case M.rg.k_DemoPressPreview:
                t.bNeedDemoPressPreviewDate = !0;
                break;
              case M.rg.k_ScheduleLiveStream:
                (t.bNeedMaxItems = !0), (t.bNeedSalePreview = !0);
                break;
              case M.rg.k_CancelSection:
                t.bNeedCancelDate = !0;
                break;
              case M.rg.k_DemoNotReady:
                (t.bNeedCancelDate = !0), (t.bNeedNextEditionDate = !0);
                break;
              case M.rg.k_PressPreviewDetails:
                (t.bNeedPreviewDate = !0), (t.bNeedWikiDocumentation = !0);
                break;
              case M.rg.k_SurveyButton:
              case M.rg.k_CallForRegistration:
                break;
              case M.rg.k_LearnMore:
                t.bNeedWikiDocumentation = !0;
                break;
              case M.rg.k_MediaUsePermission:
                t.bNeedPermissionDate = !0;
                break;
              case M.rg.k_TrailerOrDemoPermissions:
                (t.bNeedPermissionDate = !0),
                  (t.bNeedPressPreviewVisibleDate = !0);
                break;
              case M.rg.k_NextFestQASession:
                (t.bNeedQASessionDate = !0), (t.bNeedQASessionLink = !0);
                break;
              case M.rg.k_NextFestTips:
                t.bNeedRecordedQASessionLink = !0;
                break;
              case M.rg.k_MediaPermissionReminder:
                (t.bNeedDemoTrailerRegLink = !0),
                  (t.bNeedTrailerDemoDeadlineDate = !0);
                break;
              case M.rg.k_NextFestMediaUsageIntended:
                (t.bNeedTrailerLaunchDate = !0),
                  (t.bNeedLivestreamLaunchDate = !0),
                  (t.bNeedCancelDate = !0),
                  (t.bNeedWikiDocumentation = !0);
                break;
              case M.rg.k_NextFestMediaUsageIntendedTrailer:
                (t.bNeedTrailerLaunchDate = !0), (t.bNeedCancelDate = !0);
                break;
              case M.rg.k_NextFestMediaUsageIntendedLivestream:
                (t.bNeedLivestreamLaunchDate = !0), (t.bNeedCancelDate = !0);
                break;
              case M.rg.k_NextFestTopGameWrapUp:
                break;
              case M.rg.k_GenericActionLink:
                t.bNeedGenericActionLink = !0;
                break;
              case M.rg.k_SteamAwardsCategories:
                t.bNeedSteamAwardsAdvertisingApp = !0;
                break;
              case M.rg.k_ImageBoxSection:
                t.bNeedImageUploaded = !0;
            }
          }),
          t
        );
      }
      const ln = (e) => {
        const { emailDef: t } = e,
          a = t.BIsReadOnly(),
          n = s.createRef(),
          i = [
            { label: ba(1), data: 1 },
            { label: ba(32), data: 32 },
            { label: ba(16), data: 16 },
            { label: ba(64), data: 64 },
            { label: ba(128), data: 128 },
            { label: ba(256), data: 256 },
            { label: ba(512), data: 512 },
          ];
        return s.createElement(
          "div",
          null,
          t.BIsReadOnly() && s.createElement("h2", null, "Read Only"),
          s.createElement(
            "div",
            { className: Ba().ConfTitle },
            "Email Targetting",
          ),
          s.createElement(
            "div",
            null,
            s.createElement(
              "p",
              null,
              "This defines both which opt-in games and who from the opt-in game teams are eligible to receive this email. We will fire an email per game that qualifies which may mean some users may receive more than one email, as they did the opt-in registration for more than one game",
            ),
          ),
          s.createElement(m.ry, {
            label: "Who should receive this email?",
            dropDownControlRef: n,
            disabled: a,
            strDropDownClassName: _().DropDownScroll,
            rgOptions: i,
            selectedOption: t.GetEmailTargeting(),
            onChange: (e) => {
              Boolean(t.GetServerEmailDefID())
                ? (0, g.AM)(
                    s.createElement(w.uH, {
                      strTitle: "Update Targeting",
                      strDescription:
                        "Since this email is already staged. Updating the email targeting requires changing the email configuration. The target setting will be applied immediately. Proceed with the update?",
                      onOK: () => {
                        (0, O.z)(() => {
                          t.SetEmailTargeting(e.data),
                            j.Get().UpdateOptInEmailMetaData(t);
                        });
                      },
                      onCancel: () => {
                        n?.current?.SetSelectedOption(t.GetEmailTargeting());
                      },
                    }),
                    window,
                  )
                : t.SetEmailTargeting(e.data);
            },
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          }),
        );
      };
      function sn(e) {
        const { emailDef: t } = e,
          [a, n] = (0, Ce.SZ)(() => [
            512 == t.GetEmailTargeting(),
            t.GetCustomAppTargetList()?.length || 0,
          ]);
        return a
          ? s.createElement(
              "div",
              { className: Ba().MetaDataCtn },
              t.BIsReadOnly() && s.createElement("h2", null, "Read Only"),
              s.createElement(
                "div",
                { className: Ba().ConfTitle },
                "Custom App Target List",
              ),
              s.createElement("div", null, "Apps List Size: ", n),
              s.createElement(
                m.zx,
                {
                  onClick: (e) => {
                    (0, g.AM)(
                      s.createElement(on, { emailDef: t }),
                      (0, D.RA)(e),
                    );
                  },
                },
                "Manage Custom App List",
              ),
            )
          : null;
      }
      function on(e) {
        const { emailDef: t, closeModal: a } = e,
          [n, i] = s.useState(""),
          [r, l] = s.useState(""),
          [o] = (0, Ce.SZ)(() => [t.GetCustomAppTargetList()]);
        return s.createElement(
          w.uH,
          {
            strTitle: "Custom App Email Target List Manager",
            bDisableBackgroundDismiss: !0,
            onCancel: a,
            bAllowFullSize: !0,
            onOK: () => {
              n.replace(/\n/g, "|")
                .split("|")
                .forEach((e) => {
                  const a = Number.parseInt(e);
                  a > 0 && t.AddAppToCustomList(a);
                });
              r
                .replace(/\n/g, "|")
                .split("|")
                .forEach((e) => {
                  const a = Number.parseInt(e);
                  a > 0 && t.RemoveAppToCustomList(a);
                }),
                a();
            },
          },
          s.createElement(
            "div",
            null,
            "ADDING: Enter App IDs seperated by new lines:",
          ),
          s.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => i(e.currentTarget.value),
            value: n,
            autoFocus: !0,
          }),
          s.createElement(
            "div",
            null,
            "REMOVE: Enter App IDs seperated by new lines:",
          ),
          s.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => l(e.currentTarget.value),
            value: r,
            autoFocus: !0,
          }),
          s.createElement(
            "p",
            null,
            "After hitting ok, remember to save the optin.",
          ),
          s.createElement(
            pe.ug,
            { title: `App List: ${o.length} Apps`, bStartMinimized: !0 },
            s.createElement(
              s.Fragment,
              null,
              o.map((e) =>
                s.createElement(cn, {
                  key: `app_${e}`,
                  appid: e,
                  fnRemoveApp: () => t.RemoveAppToCustomList(e),
                }),
              ),
            ),
          ),
        );
      }
      function cn(e) {
        const { appid: t, fnRemoveApp: a } = e,
          n = "string" == typeof t ? Number.parseInt(t) : t,
          [i] = (0, Qe.vs)(n, {});
        return s.createElement(
          "div",
          { className: Ba().appItem },
          Boolean(i)
            ? s.createElement("div", null, i.GetName(), " (", t, ")")
            : s.createElement("div", null, "Store Item Not Loading Appid: ", t),
          s.createElement(
            oe.HP,
            {
              className: Wa().ProgressIconError,
              onClick: a,
              toolTipContent: "Remove App From List",
            },
            s.createElement(se.X, null),
          ),
        );
      }
      const mn = (e) => {
        const { closeModal: t, emailDef: a } = e,
          n = (0, He.tx)(),
          i = (0, s.useCallback)(() => {
            n.fnSetLoading(!0),
              j
                .Get()
                .CreateOptInEmail(a)
                .then((e) => {
                  if (1 != e)
                    n.fnSetError(!0),
                      n.fnSetStrError(
                        "Error: Failed to create the email on the steam server: Eresult: " +
                          e,
                      );
                  else {
                    const e = C().CancelToken.source();
                    r.On.Get()
                      .Save(e.token)
                      .then((e) => {
                        e
                          ? (n.fnSetError(!0),
                            n.fnSetStrError(
                              "NOTE: Email was created on the Server; saving the opt-in metadata failed. Please save again immediately or we will require to manually update the email_def_id. \n" +
                                e,
                            ))
                          : (W(r.On.Get().GetFullName()),
                            n.fnSetSuccess(!0),
                            n.fnSetStrSuccess(
                              "Create Email and Opt-In Save Complete. You can close this dialog",
                            ));
                      })
                      .catch((e) => {
                        n.fnSetError(!0),
                          n.fnSetStrError(
                            "NOTE: The email failed to be created on beta\n",
                          );
                      });
                  }
                });
          }, [n, a]);
        return n.bLoading
          ? s.createElement(He.NT, {
              state: n,
              strDialogTitle: "Create Email On Steam Server",
              closeModal: t,
            })
          : s.createElement(
              w.uH,
              {
                bAllowFullSize: !0,
                onCancel: t,
                closeModal: t,
                strTitle: "Create Email On Steam Server",
                onOK: i,
              },
              s.createElement(
                "div",
                null,
                "Creating the email registers it with the Steam server which is then able to fire the email.",
              ),
            );
      };
      var dn = a(72460);
      function un(e) {
        const t = r.On.Get(),
          [a, n] = (0, s.useState)(!1);
        t.GetEventTitle(0);
        return t.GetOptInPageID().includes("nextfest") ||
          t.GetOptInPageID().includes("next_fest")
          ? s.createElement(
              s.Fragment,
              null,
              Boolean(a) && s.createElement(P.V, null),
              s.createElement(
                m.zx,
                {
                  disabled: a,
                  onClick: (e) => {
                    n(!0);
                    {
                      const e = {
                          unique_id: Nn(),
                          type: M.Ys.k_Invite,
                          internal_name: "Registration Invitation email",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_YourInvited",
                          targeting: 32,
                        },
                        t = r.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_NextFestReturns),
                        t.AddSection(M.rg.k_CallForRegistration),
                        t.AddSection(M.rg.k_NextFestQASession),
                        t.AddSection(M.rg.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Nn(),
                          type: M.Ys.k_RegistrationConfirmation,
                          internal_name: "You're Registered!",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_YourRegistered",
                          targeting: 1,
                        },
                        t = r.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_NextFestWhatNext),
                        t.AddSection(M.rg.k_NextFestTips),
                        t.AddSection(M.rg.k_NextFestQASession),
                        t.AddSection(M.rg.k_LearnMore),
                        t.AddSection(M.rg.k_DemoNotReady);
                    }
                    {
                      const e = {
                        unique_id: Nn(),
                        type: M.Ys.k_PermissionRequest,
                        internal_name: "Trailer and Demo Permissions Request",
                        sections: [],
                        subject_token: "#OptIn_EmailSubject_NF_SpecialRequest",
                        targeting: 64,
                      };
                      r.On.Get()
                        .AddEmailDraft(e)
                        .AddSection(M.rg.k_TrailerOrDemoPermissions);
                    }
                    {
                      const e = {
                          unique_id: Nn(),
                          type: M.Ys.k_Update,
                          internal_name: "Dev Preview",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_Preview",
                          targeting: 1,
                        },
                        t = r.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_ReviewCategorization),
                        t.AddSection(M.rg.k_ScheduleLiveStream),
                        t.AddSection(M.rg.k_PressPreviewDetails),
                        t.AddSection(M.rg.k_NextFestTips),
                        t.AddSection(M.rg.k_NextFestQASession),
                        t.AddSection(M.rg.k_DemoNotReady);
                    }
                    {
                      const e = {
                          unique_id: Nn(),
                          type: M.Ys.k_PermissionRequest,
                          internal_name: "Media Permissions Reminder",
                          sections: [],
                          subject_token:
                            "#OptIn_EmailSubject_NF_MarketingRequest",
                          targeting: 64,
                        },
                        t = r.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_MediaPermissionReminder),
                        t.AddSection(M.rg.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Nn(),
                          type: M.Ys.k_Update,
                          internal_name:
                            "Heads-up to featured apps - Livestream",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_Featuring",
                          targeting: 512,
                        },
                        t = r.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_NextFestMediaUsageIntendedLivestream),
                        t.AddSection(M.rg.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Nn(),
                          type: M.Ys.k_Update,
                          internal_name: "Heads-up to featured apps - Trailer",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_Featuring",
                          targeting: 512,
                        },
                        t = r.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_NextFestMediaUsageIntendedTrailer),
                        t.AddSection(M.rg.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Nn(),
                          type: M.Ys.k_Reminder,
                          internal_name: "Press Preview Reminder",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_Assets",
                          targeting: 1,
                        },
                        t = r.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_AssetKit),
                        t.AddSection(M.rg.k_PressPreviewDetails),
                        t.AddSection(M.rg.k_DemoReview),
                        t.AddSection(M.rg.k_DemoLaunch),
                        t.AddSection(M.rg.k_ScheduleLiveStream),
                        t.AddSection(M.rg.k_ReviewCategorization),
                        t.AddSection(M.rg.k_NextFestQASession),
                        t.AddSection(M.rg.k_NextFestTips),
                        t.AddSection(M.rg.k_CancelSection);
                    }
                    {
                      const e = {
                          unique_id: Nn(),
                          type: M.Ys.k_Starting,
                          internal_name: "Going Live Now!",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_StartsToday",
                          targeting: 1,
                        },
                        t = r.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_NextFestStartsNow),
                        t.AddSection(M.rg.k_DemoLaunch),
                        t.AddSection(M.rg.k_ScheduleLiveStream),
                        t.AddSection(M.rg.k_CancelSection);
                    }
                    {
                      const e = {
                        unique_id: Nn(),
                        type: M.Ys.k_GeneralCommunication,
                        internal_name: "Next Fest Top Games Wrapup",
                        sections: [],
                        subject_token: "#OptIn_EmailSubject_NF_TopPlayed",
                        targeting: 512,
                      };
                      r.On.Get()
                        .AddEmailDraft(e)
                        .AddSection(M.rg.k_NextFestTopGameWrapUp);
                    }
                    {
                      const e = {
                          unique_id: Nn(),
                          type: M.Ys.k_GeneralCommunication,
                          internal_name: "Thanks for a great Steam Next Fest!",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_Thanks",
                          targeting: 1,
                        },
                        t = r.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_NextFestThankYou),
                        t.AddSection(M.rg.k_SurveyButton),
                        t.AddSection(M.rg.k_MeasureResultsNextFest);
                    }
                    n(!1);
                  },
                },
                "Next Fest: Create Templated Emails ",
                s.createElement(
                  oe.HP,
                  {
                    toolTipContent:
                      "For next fest, this will automatically create all of the email templates required for operating the festival",
                  },
                  " (?) ",
                ),
              ),
            )
          : null;
      }
      const pn = (e) => {
        const { closeModal: t, emailDef: a } = e,
          [n, i] = s.useState(void 0),
          l = (0, He.tx)();
        return l.bLoading
          ? s.createElement(He.NT, {
              state: l,
              strDialogTitle: "Send Manual OptIn Email",
              closeModal: t,
            })
          : s.createElement(
              w.uH,
              {
                bAllowFullSize: !0,
                onCancel: t,
                closeModal: t,
                strTitle: "Send Manual OptIn Email Now?",
                strOKButtonText: "Send Now",
                onOK: () => {
                  l.fnSetLoading(!0),
                    j
                      .Get()
                      .SendManualEmail(a)
                      .then((e) => {
                        1 != e.eResult
                          ? (l.fnSetError(!0),
                            l.fnSetStrError(
                              "Send Error: Failed to send the email from the Steam server: Eresult: " +
                                e.eResult,
                            ))
                          : (W(r.On.Get().GetFullName()),
                            l.fnSetSuccess(!0),
                            l.fnSetElSuccess(
                              s.createElement(_n, { doneStats: e.stats || {} }),
                            ));
                      });
                },
              },
              s.createElement(
                "div",
                null,
                "With a saved and published OptIn state, we can manually fire the email to the recipients. Once you click send, it may take a little while to process, so be patient.",
              ),
            );
      };
      function _n(e) {
        const { doneStats: t } = e;
        return s.createElement(
          "div",
          null,
          s.createElement("br", null),
          "Send Completed. You can close this dialog",
          s.createElement("br", null),
          s.createElement("br", null),
          s.createElement(
            "div",
            null,
            "Accounts Examined: ",
            t?.accounts_examined || 0,
          ),
          s.createElement(
            "div",
            null,
            "Emails Sent: ",
            t?.accounts_emailed || 0,
          ),
          s.createElement(
            "div",
            null,
            "Why is email sent higher than account examined?  Some users may be associated with more than one app and will receive more than one email",
          ),
          s.createElement(
            "div",
            null,
            "Emails Skipped (user opted out): ",
            t?.accounts_not_emailed_opted_out || 0,
          ),
          s.createElement(
            "div",
            null,
            "Emails Failed to Send: ",
            t?.accounts_email_failed || 0,
          ),
        );
      }
      var hn = a(45844),
        gn = a(49781);
      function En(e) {
        const { emailEditModel: t, serverDef: a } = e,
          n = a.opt_in_name,
          { rgEmailSentList: i, oEmailSummary: r } = (function (e) {
            const t = (0, F.useQuery)(
                ["COptInEmailAdmin", "GetEmailDetails", e],
                async () => await j.Get().FetchPartnerOptInEmailDetails(e),
              ),
              a = (0, s.useMemo)(() => {
                const e = new Set(),
                  a = new Set(),
                  n = new Set(),
                  i = new Set();
                t?.data?.forEach((t) => {
                  e.add(t.appid),
                    1 == t.status && a.add(t.appid),
                    t.partnerid &&
                      (n.add(t.partnerid), 1 == t.status && i.add(t.partnerid));
                });
                const r = Array.from(e).filter((e) => !a.has(e)),
                  l = Array.from(n).filter((e) => !i.has(e));
                return {
                  unique_appid_count: e.size,
                  appid_emailed: a.size,
                  rg_appid_not_emailed: r,
                  unique_partner_count: n.size,
                  partner_eailed: i.size,
                  rg_partner_not_emailed: l,
                };
              }, [t]);
            return { rgEmailSentList: t.data, oEmailSummary: a };
          })(t.GetServerEmailDefID()),
          [l, o] = (0, s.useState)(!1),
          c = Kt(n),
          [d, u] = (0, s.useState)(!1);
        (0, s.useEffect)(() => {
          if (i && !l && c) {
            const e = new Set(i?.map((e) => e.appid).filter(Boolean));
            c.invited_appids?.forEach((t) => e.add(t));
            const t = Array.from(e);
            Ke.Z.Get()
              .QueueMultipleAppRequests(t, { include_release: !0 })
              .then(() => o(!0));
          }
        }, [i, l, c]);
        const [p, h, g, E, S, v, D, f] = (0, s.useMemo)(() => {
          let e = 0,
            t = 0,
            a = 0,
            n = 0,
            r = 0,
            l = 0,
            s = 0;
          const o = new Set();
          if (c) {
            const m = new Set(i?.map((e) => e.appid).filter(Boolean));
            m.forEach((i) => {
              let o = !1;
              c.eligible_appids.has(i) && ((e += 1), (o = !0)),
                c.opted_in_appids.has(i) && ((t += 1), (o = !0)),
                c.opted_out_appids.has(i) && ((a += 1), (o = !0)),
                c.invited_appids.has(i) && ((n += 1), (o = !0)),
                c.pruned_appids.has(i) && ((r += 1), (o = !0)),
                c.featured_appids.has(i) && ((l += 1), (o = !0)),
                o || (s += 1);
            }),
              c.invited_appids.forEach((e) => {
                e && !m.has(e) && o.add(e);
              });
          }
          return [e, t, a, n, r, l, s, o];
        }, [i, c]);
        if (!i || !l || !c) {
          let e = (0, R.Xx)("#Loading");
          return (
            i
              ? l
                ? c || (e = "Loading App OptIn Breakdown")
                : (e = "Loading App Details")
              : (e = "Loading Raw Email Stats"),
            s.createElement(P.V, {
              position: "center",
              size: "medium",
              string: e,
            })
          );
        }
        return s.createElement(
          "div",
          null,
          s.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Total Appid:",
            s.createElement("span", null, r.unique_appid_count),
          ),
          s.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Appid Emailed:",
            s.createElement("span", null, r.appid_emailed),
          ),
          s.createElement(
            oe.HP,
            {
              toolTipContent:
                "Attempted to email these apps however all users opted out of receiving communication.",
            },
            s.createElement(
              "div",
              { className: _().FlexRowWrapSpaceBetweenContainer },
              "Appid not Emails (?):",
              s.createElement("span", null, r.rg_appid_not_emailed.length),
            ),
          ),
          s.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Total PartnerID:",
            s.createElement("span", null, r.unique_partner_count),
          ),
          s.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "PartnerID Emailed:",
            s.createElement("span", null, r.partner_eailed),
          ),
          s.createElement(
            oe.HP,
            {
              toolTipContent:
                "Attempted to email these Partenr however all users opted out of receiving communication.",
            },
            s.createElement(
              "div",
              { className: _().FlexRowWrapSpaceBetweenContainer },
              "PartnerID not Emails:",
              r.rg_partner_not_emailed.length,
            ),
          ),
          s.createElement("br", null),
          s.createElement(
            "div",
            null,
            "Emailed Apps based on Latest Refresh Stats",
          ),
          s.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Eligible Apps:",
            s.createElement("span", null, p),
          ),
          s.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Opted In App:",
            s.createElement("span", null, h),
          ),
          s.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Opted Out App:",
            s.createElement("span", null, g),
          ),
          s.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Invited App:",
            s.createElement("span", null, E),
          ),
          s.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Pruned App:",
            s.createElement("span", null, S),
          ),
          s.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Featured App:",
            s.createElement("span", null, v),
          ),
          s.createElement(
            oe.HP,
            {
              toolTipContent:
                "These apps need investigation as they were emailed but are not in any known set of apps associated with the events. See the csv for list.",
            },
            s.createElement(
              "div",
              { className: _().FlexRowWrapSpaceBetweenContainer },
              "Not In Any Above List (?):",
              s.createElement("span", null, D),
            ),
          ),
          s.createElement(
            oe.HP,
            {
              toolTipContent:
                "We did not email these invited apps. Either they were invited after the email OR we couldn't find a user to email",
            },
            s.createElement(
              "div",
              { className: _().FlexRowWrapSpaceBetweenContainer },
              "Invited App Not Emailed (?):",
              s.createElement("span", null, f.size),
            ),
          ),
          Boolean(f.size) &&
            s.createElement(
              s.Fragment,
              null,
              Boolean(d)
                ? s.createElement(Sn, {
                    strOptInName: n,
                    setInvitedAppMissingEmail: f,
                    serverDef: a,
                  })
                : s.createElement(m.ji, {
                    label: "Expand Invited Users Missing Emails",
                    checked: d,
                    onChange: u,
                  }),
            ),
          s.createElement("br", null),
          s.createElement(
            m.KM,
            {
              onClick: () =>
                (function (e, t, a) {
                  const n = e.map((e) => {
                      const a = Ke.Z.Get().GetApp(e.appid);
                      let n;
                      switch (e.status) {
                        case 0:
                          n = "uninitialized";
                          break;
                        case 1:
                          n = "success";
                          break;
                        case 2:
                          n = "generic failed";
                          break;
                        default:
                          n = "error code: " + e.status;
                      }
                      return {
                        accountid: e.accountid,
                        appid: e.appid,
                        appName: a?.GetName() || "unknown",
                        bReleased: a?.BIsReleased() || !1,
                        releaseDate: a?.BIsReleased()
                          ? (0, R.$1)(a.GetReleaseDateRTime())
                          : "",
                        timeNotified:
                          (0, R.$1)(e.rtime_notified) +
                          " " +
                          (0, Qt.Sc)(e.rtime_notified, {
                            bForce24HourClock: !1,
                          }),
                        status: n,
                        sentTime:
                          (0, R.$1)(e.rtime_notified) +
                          " " +
                          (0, Qt.Sc)(e.send_rtime, { bForce24HourClock: !1 }),
                        bSkipEmailingSinceEmailUnverified:
                          e.ignored_unverified_email,
                        bSkipEmailingAccountOptedOut: e.ignored_email_optout,
                        bEligible: t.eligible_appids.has(e.appid),
                        bOptedIn: t.opted_in_appids.has(e.appid),
                        bOptedOut: t.opted_out_appids.has(e.appid),
                        bInvited: t.invited_appids.has(e.appid),
                        bPruned: t.pruned_appids.has(e.appid),
                        bFeatured: t.featured_appids.has(e.appid),
                        bNotInAnyList: !(
                          t.eligible_appids.has(e.appid) ||
                          t.opted_in_appids.has(e.appid) ||
                          t.opted_out_appids.has(e.appid) ||
                          t.invited_appids.has(e.appid) ||
                          t.pruned_appids.has(e.appid) ||
                          t.featured_appids.has(e.appid)
                        ),
                      };
                    }),
                    i = new Set(e.map((e) => e.appid).filter(Boolean));
                  let r = t.invited_appids;
                  512 == a.GetEmailTargeting() &&
                    (r = new Set(a.GetCustomAppTargetList()));
                  r?.forEach((e) => {
                    if (e && !i.has(e)) {
                      const a = Ke.Z.Get().GetApp(e);
                      n.push({
                        appid: e,
                        appName: a?.GetName() || "unknown",
                        bReleased: a?.BIsReleased() || !1,
                        releaseDate: a?.BIsReleased()
                          ? (0, R.$1)(a.GetReleaseDateRTime())
                          : "",
                        status: "Not Emailed",
                        bEligible: t.eligible_appids.has(e),
                        bOptedIn: t.opted_in_appids.has(e),
                        bOptedOut: t.opted_out_appids.has(e),
                        bInvited: t.invited_appids.has(e),
                        bPruned: t.pruned_appids.has(e),
                        bFeatured: t.featured_appids.has(e),
                        bNotInAnyList: !1,
                      });
                    }
                  }),
                    ia.K.WriteCSVToFile(n, "email_result_list.csv");
                })(i, c, t),
            },
            "Download CSV",
          ),
        );
      }
      function Sn(e) {
        const {
            setInvitedAppMissingEmail: t,
            strOptInName: a,
            serverDef: n,
          } = e,
          {
            rgAppInvitedAfterEmail: i,
            rgAppWithoutPromotionContact: r,
            rgAppUnknownReasons: l,
            strReason: o,
          } = (function (e, t, a) {
            const n = (0, s.useMemo)(() => Array.from(t || []), [t]),
              i = (0, ze.QQ)(e, n),
              r = (0, gn.lf)(n),
              l = (0, s.useMemo)(
                () =>
                  Array.from(r?.values() || [])
                    .filter((e) => e?.length > 0)
                    .map((e) => e[0].partner_id),
                [r],
              ),
              o = (0, hn.j)(l),
              c = (0, s.useMemo)(
                () =>
                  r && o
                    ? n.filter((e) => {
                        const t = r.get(e);
                        if (t?.length > 0) {
                          const e = o.get(t[0].partner_id);
                          if (e?.length > 0 && Boolean(e[0])) return !1;
                        }
                        return !0;
                      })
                    : null,
                [r, o, n],
              ),
              m = (0, s.useMemo)(
                () => n.filter((e) => i?.get(e)?.time_updated > a),
                [i, n, a],
              ),
              d = (0, s.useMemo)(
                () =>
                  m && c
                    ? n.filter(
                        (e) =>
                          -1 == m.findIndex((t) => e == t) &&
                          -1 == c.findIndex((t) => e == t),
                      )
                    : null,
                [n, m, c],
              );
            let u = null;
            return (
              (r && o && c && i && m && d) ||
                (u = r
                  ? o
                    ? c
                      ? i
                        ? m
                          ? d
                            ? (0, R.Xx)("#Loading")
                            : "Computing Unexplained Apps"
                          : "Computing App Registrations"
                        : "Fetching Opt In Registrations per App"
                      : "computing games without comm"
                    : "Loading Contact info for Partners"
                  : "Loading Partner Info For Apps"),
              {
                rgAppInvitedAfterEmail: m,
                rgAppWithoutPromotionContact: c,
                rgAppUnknownReasons: d,
                strReason: u,
              }
            );
          })(a, t, n.last_update_time);
        return o
          ? s.createElement(P.V, {
              size: "small",
              string: o,
              position: "center",
            })
          : s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "div",
                { className: _().FlexRowWrapSpaceBetweenContainer },
                "** Apps Added After Email Sent:",
                s.createElement("span", null, i.length),
              ),
              s.createElement(
                oe.HP,
                {
                  toolTipContent:
                    "We can only send emails to users who either took an optin action or is a memmber of the partner which permits emails. These app has neither.",
                },
                s.createElement(
                  "div",
                  { className: _().FlexRowWrapSpaceBetweenContainer },
                  "** Apps without comm users (?):",
                  s.createElement("span", null, r.length),
                ),
              ),
              s.createElement(
                "div",
                { className: _().FlexRowWrapSpaceBetweenContainer },
                "** Unknown Reason:",
                s.createElement("span", null, l.length),
              ),
            );
      }
      const vn = (e) => {
        const { closeModal: t, emailDef: a } = e,
          n = (0, He.tx)();
        return n.bLoading
          ? s.createElement(He.NT, {
              state: n,
              strDialogTitle: "Test Fire",
              closeModal: t,
            })
          : s.createElement(
              w.uH,
              {
                bAllowFullSize: !0,
                onCancel: t,
                closeModal: t,
                strTitle: "Test Email Fire to yourself?",
                strOKButtonText: "Test Email Now",
                onOK: () => {
                  n.fnSetLoading(!0);
                  let e = 220;
                  if (a.BHasSteamAwardsAdApp() && a.GetCustomAppTargetList()) {
                    const t = a.GetCustomAppTargetList();
                    e = t[Math.floor(Math.random() * t.length)];
                  }
                  j.Get()
                    .TestFireEmailToSelf(a, e)
                    .then((e) => {
                      1 != e
                        ? (n.fnSetError(!0),
                          n.fnSetStrError(
                            "Send Error: Failed to test the email from the Steam server: Eresult: " +
                              e,
                          ))
                        : (n.fnSetSuccess(!0),
                          n.fnSetStrSuccess(
                            "Test Email Completed. Check your inbox. You can close this dialog",
                          ));
                    });
                },
              },
              s.createElement(
                "div",
                null,
                "With a saved and published OptIn state, we can manually test fire this to myself, as verification of the final emails look and feel and content.\tOnce you click send, it may take a little while to process, so be patient.",
              ),
            );
      };
      function Dn(e) {
        const t = r.On.Get(),
          [a, n] = (0, s.useState)(!1);
        t.GetEventTitle(0);
        return t.GetOptInPageID().includes("nextfest") ||
          t.GetOptInPageID().includes("next_fest")
          ? null
          : s.createElement(
              s.Fragment,
              null,
              Boolean(a) && s.createElement(P.V, null),
              s.createElement(
                m.zx,
                {
                  disabled: a,
                  onClick: (e) => {
                    n(!0);
                    {
                      const e = {
                          unique_id: Nn(),
                          type: M.Ys.k_Invite,
                          internal_name: "Initial Registration Invite",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_YourInvited",
                          targeting: 32,
                        },
                        t = r.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_Custom),
                        t.AddSection(M.rg.k_CallForRegistration),
                        t.AddSection(M.rg.k_EnterDiscount),
                        t.AddSection(M.rg.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Nn(),
                          type: M.Ys.k_PermissionRequest,
                          internal_name:
                            "Secondary marketing materials request",
                          sections: [],
                          subject_token:
                            "#OptIn_EmailSubject_NF_SpecialRequest",
                          targeting: 512,
                        },
                        t = r.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_MediaUsePermission),
                        t.AddSection(M.rg.k_EnterDiscountReminder),
                        t.AddSection(M.rg.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Nn(),
                          type: M.Ys.k_Reminder,
                          internal_name: "Reminder Email",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_StartsNextWeek",
                          targeting: 1,
                        },
                        t = r.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_AssetKit),
                        t.AddSection(M.rg.k_EnterDiscountReminder),
                        t.AddSection(M.rg.k_LearnMore),
                        t.AddSection(M.rg.k_CancelSection);
                    }
                    n(!1);
                  },
                },
                "Theme Sales: Create Templated Emails ",
                s.createElement(
                  oe.HP,
                  { toolTipContent: "Emails for regular theme sales" },
                  " (?) ",
                ),
              ),
            );
      }
      const fn = (0, Na.EN)(
          (0, $.Pi)((e) => {
            const t = r.On.Get(),
              a = t.GetFullName(),
              { bLoading: n, rgEmailDefAndStats: i } = q(a);
            (0, s.useEffect)(
              () => (
                Ca.Get().SetSelectionFromQueryParams(e.history),
                () => Ca.Get().SetSelection(void 0, void 0, e.history)
              ),
              [a, e.history],
            );
            const [l] = (0, Ce.SZ)(() => [t.GetEventTitle(0)]),
              o = new Map();
            let c = null;
            if (n)
              return s.createElement(P.V, {
                size: "medium",
                position: "center",
                string: (0, R.Xx)("#Loading"),
              });
            i
              ? i.forEach((e) => o.set(e.email_def_id, e))
              : (c = t.BIsOptInEnabled()
                  ? s.createElement(
                      "div",
                      { className: k.WarningStylesWithIcon },
                      "Warning: We failed to load Email Definitions and Stats from the server. This means we cannot determine which emalis have already been sent and thus we cannot fire an email in this state. However emails can be created, edited and localized.",
                    )
                  : s.createElement(
                      "div",
                      { className: k.WarningStylesWithIcon },
                      "Opt-in isn't enabled. You can create, edit and localized emalis. You canont stage or send emails on an inactive opt-in.",
                    ));
            const d = new Array(),
              u = new Array(),
              p = new Array();
            let _ = null;
            return (
              (t.GetEmailDefinitions() || []).forEach((t) => {
                const a = t === Ca.Get().GetSelection();
                if (t.BIsDraftEmail())
                  p.push(
                    s.createElement(
                      Tn,
                      {
                        key: "draft" + t.GetUniqueID(),
                        emailEditModel: t,
                        bSelected: a,
                        history: e.history,
                      },
                      s.createElement(In, { emailEditModel: t }),
                    ),
                  );
                else {
                  const n = t.GetServerEmailDefID(),
                    i = o.get(n);
                  i
                    ? i.stats && i.stats.completed
                      ? d.push(
                          s.createElement(
                            Tn,
                            {
                              key: "sent" + t.GetUniqueID(),
                              emailEditModel: t,
                              bSelected: a,
                              serverDef: i,
                              history: e.history,
                            },
                            s.createElement(Cn, {
                              emailEditModel: t,
                              serverDef: i,
                            }),
                          ),
                        )
                      : u.push(
                          s.createElement(
                            Tn,
                            {
                              key: "staged" + t.GetUniqueID(),
                              emailEditModel: t,
                              bSelected: a,
                              serverDef: i,
                              history: e.history,
                            },
                            s.createElement(kn, {
                              emailEditModel: t,
                              serverDef: i,
                            }),
                          ),
                        )
                    : (_ || console.log(o), (_ = t));
                }
              }),
              _
                ? s.createElement(
                    "div",
                    null,
                    "Error: Server has a different mapping for stage/sent email: ",
                    _.GetServerEmailDefID(),
                    " - ",
                    _.GetUniqueID(),
                    " - ",
                    typeof _.GetServerEmailDefID(),
                    ". Reach out to steam-events to investigate",
                  )
                : s.createElement(
                    "div",
                    { className: dn.EmailAdmin },
                    c,
                    s.createElement("h1", null, "Email Dashboard"),
                    s.createElement(
                      "div",
                      null,
                      "This tool lets you create, send or schedule to send one or more emails to users who have opted-in to this specific event. This is useful for setting up reminders to take action or links to help them fully participate in an event.",
                    ),
                    Boolean(!l || 0 == l.length) &&
                      s.createElement(
                        "div",
                        { className: k.WarningStylesWithIcon },
                        "Warning: Event Title is missing. Email cannot be previewed or fired without an event title defined in the editor.",
                      ),
                    d.length > 0 &&
                      s.createElement(
                        "div",
                        null,
                        s.createElement(
                          "h2",
                          null,
                          "Sent Emails (",
                          d.length,
                          ")",
                        ),
                        s.createElement(
                          "div",
                          { className: dn.EmailsCtn },
                          s.createElement(
                            "table",
                            null,
                            s.createElement(
                              "thead",
                              null,
                              s.createElement(
                                "tr",
                                null,
                                s.createElement("th", null, "Name"),
                                s.createElement("th", null, "Type"),
                                s.createElement(
                                  "th",
                                  null,
                                  s.createElement(
                                    oe.HP,
                                    {
                                      toolTipContent:
                                        "This is the number of unique accounts encountered; this can be less than email to send/sent as an account registering multiple opt-ins, will get separate emails for each app opted in.",
                                    },
                                    "Accounts",
                                    s.createElement("br", null),
                                    "Examined (?):",
                                  ),
                                ),
                                s.createElement(
                                  "th",
                                  null,
                                  s.createElement(
                                    oe.HP,
                                    {
                                      toolTipContent:
                                        "Email sent can be higher than account examined if a user registered more than one app",
                                    },
                                    "Accounts",
                                    s.createElement("br", null),
                                    "Emailed (?):",
                                  ),
                                ),
                                s.createElement(
                                  "th",
                                  null,
                                  "Accounts",
                                  s.createElement("br", null),
                                  "opted out:",
                                ),
                                s.createElement(
                                  "th",
                                  null,
                                  "Accounts",
                                  s.createElement("br", null),
                                  "Failed:",
                                ),
                                s.createElement("th", null, "Clone"),
                                s.createElement("th", null, "Preview"),
                                s.createElement("th", null, "Results"),
                                s.createElement("th", null, "Details"),
                              ),
                            ),
                            s.createElement(
                              "tbody",
                              null,
                              d.length > 0
                                ? d
                                : s.createElement(
                                    "span",
                                    null,
                                    "No sent email",
                                  ),
                            ),
                          ),
                        ),
                      ),
                    u.length > 0 &&
                      s.createElement(
                        "div",
                        null,
                        s.createElement(
                          "h2",
                          null,
                          "Staged/Scheduled Emails (",
                          u.length,
                          ")",
                        ),
                        s.createElement(
                          "div",
                          { className: dn.EmailsCtn },
                          s.createElement(
                            "table",
                            null,
                            s.createElement(
                              "thead",
                              null,
                              s.createElement(
                                "tr",
                                null,
                                s.createElement("th", null, "Name"),
                                s.createElement("th", null, "Type"),
                                s.createElement("th", null, "Type"),
                                s.createElement(
                                  "th",
                                  null,
                                  "Estimated To Mail",
                                ),
                                s.createElement(
                                  "th",
                                  null,
                                  "Estimated To Skip",
                                ),
                                s.createElement("th", null, "Send"),
                                s.createElement("th", null, "Schedule"),
                                s.createElement("th", null, "Test"),
                                s.createElement("th", null, "Preview"),
                                s.createElement("th", null, "Clone"),
                              ),
                            ),
                            s.createElement(
                              "tbody",
                              null,
                              u.length > 0
                                ? u
                                : s.createElement(
                                    "span",
                                    null,
                                    "No staged Emails",
                                  ),
                            ),
                          ),
                        ),
                      ),
                    s.createElement(
                      "div",
                      { className: dn.EmailTypesCtn },
                      s.createElement(
                        "h2",
                        null,
                        "Draft Emails (",
                        p.length,
                        ")",
                      ),
                      s.createElement(
                        "div",
                        { className: dn.EmailsCtn },
                        s.createElement(
                          "table",
                          null,
                          s.createElement(
                            "thead",
                            null,
                            s.createElement(
                              "tr",
                              null,
                              s.createElement("th", null, "Name"),
                              s.createElement("th", null, "Type"),
                              s.createElement("th", null, "Sections"),
                              s.createElement("th", null, "Targeting"),
                              s.createElement("th", null, "Stage"),
                            ),
                          ),
                          s.createElement(
                            "tbody",
                            null,
                            Boolean(p.length > 0)
                              ? p
                              : s.createElement("div", null, "No Drafts"),
                          ),
                        ),
                      ),
                      s.createElement(
                        "div",
                        { className: dn.CreationRow },
                        s.createElement(
                          m.zx,
                          {
                            className: ue().BasicButtonSize,
                            onClick: (t) =>
                              (0, g.AM)(
                                s.createElement(yn, { history: e.history }),
                                (0, D.RA)(t),
                              ),
                          },
                          "Create New Email Draft",
                        ),
                        s.createElement(un, null),
                        s.createElement(Dn, null),
                      ),
                    ),
                    s.createElement("hr", null),
                    Boolean(Ca.Get().BHasSelection())
                      ? s.createElement($a, {
                          emailDef: Ca.Get().GetSelection(),
                          appid: 220,
                        })
                      : s.createElement(
                          "div",
                          null,
                          "No email selected for edit/viewing. Create or select an existing email",
                        ),
                  )
            );
          }),
        ),
        yn = (e) => {
          const { closeModal: t } = e,
            [a, n] = s.useState(""),
            [i, l] = s.useState(M.Ys.k_RegistrationConfirmation),
            o = (0, s.useCallback)(() => {
              const n = {
                  unique_id: Nn(),
                  type: i,
                  internal_name: a,
                  sections: [],
                },
                l = r.On.Get().AddEmailDraft(n);
              Ca.Get().SetSelection(l, void 0, e.history), t();
            }, [t, i, a, e.history]);
          return s.createElement(
            w.RG,
            { bAllowFullSize: !0, onCancel: t, closeModal: t },
            s.createElement(m.h4, null, "Create New Email Draft"),
            s.createElement(
              m.uT,
              null,
              s.createElement(
                "div",
                null,
                "Enter an internal name for the email. This is only for us to see and differentiate emails.",
              ),
              s.createElement("input", {
                type: "text",
                value: a,
                placeholder: "Enter Internal Name",
                onFocus: (e) => e.target.select(),
                onChange: (e) => n(e.currentTarget.value),
                maxLength: 240,
              }),
              s.createElement(bn, { curValue: i, fnOnChange: l }),
            ),
            s.createElement(
              m.$_,
              null,
              s.createElement(m.o9, {
                bOKDisabled: 0 == a.trim().length,
                onCancel: t,
                onOK: o,
              }),
            ),
          );
        },
        bn = (e) => {
          const { curValue: t, fnOnChange: a } = e,
            n = M.Zu.map((e) => ({ label: (0, M.rN)(e), data: e }));
          return s.createElement(m.ry, {
            label: "Email Type",
            strDropDownClassName: _().DropDownScroll,
            rgOptions: n,
            selectedOption: t,
            onChange: (e) => a(e.data),
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          });
        },
        In = (e) => {
          const { emailEditModel: t } = e,
            a = r.On.Get();
          return s.createElement(
            s.Fragment,
            null,
            s.createElement(
              "td",
              { className: dn.EmailTitle },
              t.GetInternalName(),
            ),
            s.createElement("td", null, (0, M.rN)(t.GetType())),
            s.createElement("td", null, t.GetNumberSections().toLocaleString()),
            s.createElement(
              "td",
              { className: dn.EmailStatusTodo },
              ba(t.GetEmailTargeting()),
            ),
            s.createElement(
              "td",
              null,
              s.createElement(
                m.zx,
                {
                  className: ue().BasicButtonSize,
                  disabled: j.Get().BHasEmailDefLoadFailure(a.GetFullName()),
                  onClick: (e) =>
                    (0, g.AM)(
                      s.createElement(mn, { emailDef: t }),
                      (0, D.RA)(e),
                    ),
                },
                "Stage Email For Sending",
              ),
            ),
          );
        },
        Cn = (e) => {
          const { emailEditModel: t, serverDef: a } = e,
            [n, i] = (0, s.useState)(!1);
          return (
            (0, s.useEffect)(() => {
              t.SetReadOnly(!0);
            }, [t]),
            s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "td",
                { className: dn.EmailTitle },
                t.GetInternalName(),
              ),
              s.createElement(
                "td",
                { className: dn.EmailType },
                (0, M.rN)(t.GetType()),
              ),
              s.createElement(
                "td",
                null,
                s.createElement("span", null, a?.stats?.accounts_examined || 0),
              ),
              s.createElement(
                "td",
                null,
                s.createElement("span", null, a?.stats?.accounts_emailed || 0),
              ),
              s.createElement(
                "td",
                null,
                s.createElement(
                  "span",
                  null,
                  a?.stats?.accounts_not_emailed_opted_out || 0,
                ),
              ),
              s.createElement(
                "td",
                null,
                s.createElement(
                  "span",
                  null,
                  a?.stats?.accounts_email_failed || 0,
                ),
              ),
              s.createElement(
                "td",
                null,
                s.createElement(
                  m.zx,
                  {
                    className: (0, v.Z)(ue().BasicButtonSize, dn.CloneBtn),
                    onClick: () => Rn(t),
                  },
                  "Clone",
                ),
              ),
              s.createElement(
                "td",
                { className: dn.NoWrap },
                s.createElement(Pn, { emailEditModel: t }),
              ),
              s.createElement(
                "td",
                { className: dn.NoWrap },
                s.createElement(ka, { serverDef: a, emailEditModel: t }),
              ),
              s.createElement(
                "td",
                null,
                n
                  ? s.createElement(En, { emailEditModel: t, serverDef: a })
                  : s.createElement(m.ji, {
                      label: "Show Details",
                      checked: n,
                      onChange: i,
                    }),
              ),
            )
          );
        };
      function kn(e) {
        const { emailEditModel: t, serverDef: a } = e,
          [n, i] = (function (e) {
            const [t, a] = s.useState(!j.Get().BHasReachEstimateLoaded(e));
            return (
              (0, s.useEffect)(() => {
                j.Get().BHasReachEstimateLoaded(e)
                  ? a(!1)
                  : j
                      .Get()
                      .LoadEstimateEmailReach(e)
                      .finally(() => a(!1));
              }, [e]),
              [t, j.Get().GetReachEstimate(e)]
            );
          })(a.email_def_id);
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "td",
            { className: dn.EmailTitle },
            t.GetInternalName(),
          ),
          s.createElement(
            "td",
            { className: dn.EmailType },
            "Type: ",
            (0, M.rN)(t.GetType()),
          ),
          s.createElement(
            "td",
            null,
            Boolean(a.start_rtime)
              ? s.createElement(
                  "span",
                  null,
                  "Scheduled:",
                  (0, R.$1)(a.start_rtime),
                  s.createElement("span", null, " - "),
                  (0, Qt.Sc)(a.start_rtime, { bForce24HourClock: !1 }),
                )
              : "Manual Email",
          ),
          s.createElement(
            "td",
            null,
            n
              ? s.createElement(P.V, {
                  size: "small",
                  string: (0, R.Xx)("#Loading"),
                })
              : s.createElement(
                  "span",
                  null,
                  i ? i.accounts_emailed : "error loading estimate",
                ),
          ),
          s.createElement(
            "td",
            null,
            n
              ? s.createElement(P.V, {
                  size: "small",
                  string: (0, R.Xx)("#Loading"),
                })
              : s.createElement(
                  "span",
                  null,
                  i
                    ? i.accounts_not_emailed_opted_out
                    : "error loading estimate",
                ),
          ),
          s.createElement(
            "td",
            { className: dn.NoWrap },
            s.createElement(
              m.zx,
              {
                className: ue().BasicButtonSize,
                onClick: (e) =>
                  (0, g.AM)(s.createElement(pn, { emailDef: t }), (0, D.RA)(e)),
              },
              "Send ACTUAL Email Now",
            ),
          ),
          s.createElement(
            "td",
            { className: dn.NoWrap },
            s.createElement(wa, { emailEditModel: t, serverDef: a }),
          ),
          s.createElement(An, { emailEditModel: t }),
        );
      }
      function An(e) {
        const { emailEditModel: t } = e;
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "td",
            { className: dn.NoWrap },
            s.createElement(
              m.zx,
              {
                className: ue().BasicButtonSize,
                onClick: (e) =>
                  (0, g.AM)(s.createElement(vn, { emailDef: t }), (0, D.RA)(e)),
              },
              "Test Email fired To Myself",
            ),
          ),
          s.createElement(
            "td",
            { className: dn.NoWrap },
            s.createElement(Pn, { emailEditModel: t }),
          ),
          s.createElement(
            "td",
            { className: dn.NoWrap },
            s.createElement(
              m.zx,
              { className: ue().BasicButtonSize, onClick: () => Rn(t) },
              "Clone",
            ),
          ),
        );
      }
      function wn(e) {
        const t = (0, Ra.$)(e.GetSteamAwardsAdApp());
        if (e.BHasSteamAwardsAdApp()) {
          if (t.isLoading) return;
          return (0, ce.Wx)(t.data.votes, 2).map((e) => e.localization.title);
        }
        return null;
      }
      function Pn(e) {
        const { emailEditModel: t } = e,
          a = wn(t);
        let n = f.De.STORE_BASE_URL + "email/PartnerAppOptIn/?";
        return (
          t.GetType() == M.Ys.k_Invite
            ? (n += "partner_name=Valve%20Games&")
            : (n += "appid=220&"),
          (n += "optouttoken=aa&settingflag=0"),
          (n += "&optinname=" + r.On.Get().GetFullName()),
          (n += "&emailtemplateid=" + t.GetUniqueID()),
          (n += "&force_text_view=0"),
          a?.length > 0 &&
            (n += "&steamawardcategories=" + encodeURIComponent(a.join(","))),
          s.createElement(
            oe.HP,
            {
              toolTipContent:
                "You can update the URL using ?l=<language> to test the variousl localization",
            },
            Boolean(void 0 === a)
              ? s.createElement(P.V, {
                  size: "small",
                  string: "Loading Steam Award Categories",
                })
              : s.createElement(
                  m.zx,
                  {
                    className: ue().BasicButtonSize,
                    onClick: (e) => (0, S.R6)(e, n),
                  },
                  "Web Preview",
                ),
          )
        );
      }
      const Tn = (0, $.Pi)((e) => {
        const { emailEditModel: t, bSelected: a, serverDef: n } = e;
        return s.createElement(
          "tr",
          {
            onClick: () => Ca.Get().SetSelection(t, n, e.history),
            className: (0, v.Z)({ [dn.TileContainer]: !0, [dn.Selected]: a }),
          },
          e.children,
        );
      });
      function Nn() {
        const e = r.On.Get();
        let t = Math.floor(1 + 1e5 * Math.random());
        for (; e.GetEmailDefinitionByID(M.up + t); )
          t = Math.floor(1 + 1e5 * Math.random());
        return M.up + t;
      }
      function Rn(e) {
        const t = {
          ...e.GetModel(),
          unique_id: Nn(),
          email_def_id: void 0,
          internal_name: "Clone Of: " + e.GetInternalName(),
          sections: e.GetSections().map((e) => ({ ...e.GetModel() })),
        };
        r.On.Get().AddEmailDraft(t);
      }
      var Gn = a(84996),
        xn = a(45070);
      function Ln(e) {
        return s.createElement(
          "div",
          {
            className: _().EditPreviewButton,
            onClick: (e) => {
              (0, g.AM)(s.createElement(Bn, null), (0, D.RA)(e));
            },
          },
          "Export Localization",
        );
      }
      function Bn(e) {
        const { closeModal: t } = e,
          a = r.On.Get().GetModel(),
          [n, i] = s.useState(!0),
          [l, o] = s.useState(new Array());
        return s.createElement(
          w.uH,
          {
            strTitle: "Export Localizations",
            bAlertDialog: !0,
            onCancel: t,
            closeModal: t,
          },
          s.createElement(
            m.Ac,
            null,
            s.createElement(
              "p",
              null,
              "Choose sections of the opt-in to export for localization",
            ),
            s.createElement(m.ji, {
              label: "Export Event Body",
              onChange: i,
              checked: n,
            }),
            Boolean(a.emails?.length > 0) &&
              s.createElement(
                "div",
                null,
                s.createElement("p", null, "Choose from the emails to export:"),
                a.emails.map((e) =>
                  s.createElement(m.ji, {
                    label: e.internal_name + " (" + e.unique_id + ")",
                    key: "ckhbox" + e.unique_id,
                    onChange: (t) => {
                      const a = JSON.parse(JSON.stringify(l));
                      t
                        ? a.push(e.unique_id)
                        : a.splice(a.indexOf(e.unique_id), 1),
                        o(a);
                    },
                    checked: l.indexOf(e.unique_id) >= 0,
                  }),
                ),
              ),
          ),
          s.createElement(
            m.$_,
            null,
            s.createElement(Gn.Gp, {
              fnGetLocData: () =>
                (function (e, t, a) {
                  let n = new xn.C();
                  for (let i = 0; i < 31; ++i)
                    t && si(e, n, i),
                      e.emails
                        ?.filter((e) => a.indexOf(e.unique_id) >= 0)
                        .forEach((e) => li(e, n, i));
                  return n;
                })(a, n, l),
              bShowXML: !0,
              bShowCSV: !0,
              strFileNamePrefix: "optin",
              lang: ne.U.Get().GetCurEditLanguage(),
            }),
          ),
        );
      }
      function Mn(e) {
        const t = r.On.Get();
        return s.createElement(Gn.Q0, {
          fnOnImportLocData: (e, a) => {
            const n = (function (e, t, a) {
              let n = new Array();
              const i = t.GetSortedTokenList(),
                l = !0;
              return (
                (0, O.z)(() => {
                  a.forEach((a) => {
                    let s = !1,
                      o = (0, ae.j_)(a);
                    i.forEach((i) => {
                      const c = t.GetLocalization(i, a) || "";
                      if (
                        (i === On &&
                          (c ||
                            (e.event_title[o] &&
                              e.event_title[o].length > 0)) &&
                          (e.event_title || (e.event_title = {}),
                          e.event_title[o] != c &&
                            ((e.event_title[o] = c), (s = !0))),
                        i === Fn &&
                          (c ||
                            (e.eligibility_text[o] &&
                              e.eligibility_text[o].length > 0)) &&
                          (e.eligibility_text || (e.eligibility_text = {}),
                          e.eligibility_text[o] != c &&
                            ((e.eligibility_text[o] = c), (s = !0))),
                        i === Un &&
                          (c ||
                            (e.description[o] &&
                              e.description[o].length > 0)) &&
                          (e.description || (e.description = {}),
                          e.description[o] != c &&
                            ((e.description[o] = c), (s = !0))),
                        i === Zn &&
                          (c || e.opt_in_registration_title?.[o]?.length > 0) &&
                          (e.opt_in_registration_title ||
                            (e.opt_in_registration_title = {}),
                          e.opt_in_registration_title[o] != c &&
                            ((e.opt_in_registration_title[o] = c), (s = !0))),
                        i === Kn &&
                          (c ||
                            e.opt_in_registration_checkbox?.[o]?.length > 0) &&
                          (e.opt_in_registration_checkbox ||
                            (e.opt_in_registration_checkbox = {}),
                          e.opt_in_registration_checkbox[o] != c &&
                            ((e.opt_in_registration_checkbox[o] = c),
                            (s = !0))),
                        i === Hn &&
                          (c ||
                            (e.help_text[o] && e.help_text[o].length > 0)) &&
                          (e.help_text || (e.help_text = {}),
                          e.help_text[o] != c &&
                            ((e.help_text[o] = c), (s = !0))),
                        i === Vn &&
                          (c ||
                            (e.appeals_text[o] &&
                              e.appeals_text[o].length > 0)) &&
                          (e.appeals_text || (e.appeals_text = {}),
                          e.appeals_text[o] != c &&
                            ((e.appeals_text[o] = c), (s = !0))),
                        i === qn &&
                          (c ||
                            (e.special_event_name[o] &&
                              e.special_event_name[o].length > 0)) &&
                          (e.special_event_name || (e.special_event_name = {}),
                          e.special_event_name[o] != c &&
                            ((e.special_event_name[o] = c), (s = !0))),
                        i === Wn &&
                          (c ||
                            (e.special_event_description[o] &&
                              e.special_event_description[o].length > 0)) &&
                          (e.special_event_description ||
                            (e.special_event_description = {}),
                          e.special_event_description[o] != c &&
                            ((e.special_event_description[o] = c), (s = !0))),
                        e.special_event_time_blocks?.forEach((e, t) => {
                          i == zn + t &&
                            (c || e.block_reason?.[o]?.length > 0) &&
                            (e.block_reason || (e.block_reason = {}),
                            e.block_reason[o] != c &&
                              ((e.block_reason[o] = c), (s = !0)));
                        }),
                        i === Xn &&
                          (c ||
                            (e.artist_statement &&
                              e.artist_statement.description &&
                              e.artist_statement.description[o] &&
                              e.artist_statement.description[o].length > 0)) &&
                          (e.artist_statement
                            ? e.artist_statement.description ||
                              (e.artist_statement.description = {})
                            : (e.artist_statement = { description: {} }),
                          e.artist_statement.description[o] != c &&
                            ((e.artist_statement.description[o] = c),
                            (s = !0))),
                        i === jn &&
                          (c ||
                            (e.build_store_page &&
                              e.build_store_page.description &&
                              e.build_store_page.description[o] &&
                              e.build_store_page.description[o].length > 0)) &&
                          (e.build_store_page
                            ? e.build_store_page.description ||
                              (e.build_store_page.description = {})
                            : (e.build_store_page = { description: {} }),
                          e.build_store_page.description[o] != c &&
                            ((e.build_store_page.description[o] = c),
                            (s = !0))),
                        i.startsWith(Qn))
                      ) {
                        let t = !1;
                        if (
                          (e.dynamic_sections || (e.dynamic_sections = []),
                          e.dynamic_sections.forEach((e) => {
                            i === Yn + e.unique_id &&
                              ((c ||
                                (e.name &&
                                  e.name[o] &&
                                  e.name[o].length > 0)) &&
                                (e.name || (e.name = {}),
                                e.name[o] != c && ((e.name[o] = c), (s = !0))),
                              (t = !0)),
                              i === Jn + e.unique_id &&
                                ((c ||
                                  (e.description &&
                                    e.description[o] &&
                                    e.description[o].length > 0)) &&
                                  (e.description || (e.description = {}),
                                  e.description[o] != c &&
                                    ((e.description[o] = c), (s = !0))),
                                (t = !0)),
                              e.lists
                                ? e.lists.forEach((a) => {
                                    i == $n + e.unique_id + a.unique_id &&
                                      ((c ||
                                        (a.option_title &&
                                          a.option_title[o] &&
                                          a.option_title[o].length > 0)) &&
                                        (a.option_title ||
                                          (a.option_title = {}),
                                        a.option_title[o] != c &&
                                          ((a.option_title[o] = c), (s = !0))),
                                      (t = !0)),
                                      a.options
                                        ? a.options.forEach((n) => {
                                            i ==
                                              ei +
                                                e.unique_id +
                                                a.unique_id +
                                                n.unique_id &&
                                              ((c ||
                                                (n.text &&
                                                  n.text[o] &&
                                                  n.text[o].length > 0)) &&
                                                (n.text || (n.text = {}),
                                                n.text[o] != c &&
                                                  ((n.text[o] = c), (s = !0))),
                                              (t = !0)),
                                              i ==
                                                ti +
                                                  e.unique_id +
                                                  a.unique_id +
                                                  n.unique_id &&
                                                ((c ||
                                                  (n.tooltip &&
                                                    n.tooltip[o] &&
                                                    n.tooltip[o].length > 0)) &&
                                                  (n.tooltip ||
                                                    (n.tooltip = {}),
                                                  n.tooltip[o] != c &&
                                                    ((n.tooltip[o] = c),
                                                    (s = !0))),
                                                (t = !0));
                                          })
                                        : (a.options = []);
                                  })
                                : (e.lists = []);
                          }),
                          !t && l)
                        ) {
                          const a = i.startsWith(Yn),
                            n = i.startsWith(Jn),
                            l = i.startsWith(ei),
                            s = i.startsWith(ti);
                          if (a || n) {
                            let n = a
                                ? i.substr(Yn.length)
                                : i.substr(Jn.length),
                              l = r.On.CreateDefaultDynamicSection();
                            (l.lists = []),
                              (l.unique_id = n),
                              a
                                ? ((l.name = {}), (l.name[o] = c))
                                : ((l.description = {}),
                                  (l.description[o] = c)),
                              (t = !0),
                              e.dynamic_sections.push(l);
                          } else if (i.startsWith($n)) {
                            let a = i.substr($n.length),
                              n = a.indexOf(r.cf),
                              l = a.substr(0, n),
                              s = a.substr(n),
                              m = e.dynamic_sections.findIndex(
                                (e) => e.unique_id == l,
                              );
                            if (-1 != m) {
                              let a = {
                                unique_id: s,
                                options: [],
                                option_title: {},
                              };
                              (a.option_title[o] = c),
                                e.dynamic_sections[m].lists.push(a),
                                (t = !0);
                            } else
                              console.log(
                                "Localization: Add missing: Could not find section: " +
                                  l,
                              );
                          } else if (l || s) {
                            let a = l
                                ? i.substr(ei.length)
                                : i.substr(ti.length),
                              n = a.indexOf(r.cf),
                              s = a.substr(0, n),
                              m = a.substr(n),
                              d = m.indexOf(r.Hf),
                              u = m.substr(0, d),
                              p = m.substr(d),
                              _ = e.dynamic_sections.findIndex(
                                (e) => e.unique_id == s,
                              );
                            if (-1 != _) {
                              let a = e.dynamic_sections[_].lists.findIndex(
                                (e) => e.unique_id == u,
                              );
                              if (-1 != a) {
                                let n = { unique_id: p, text: {} };
                                l
                                  ? (n.text[o] = c)
                                  : ((n.tooltip = {}), (n.tooltip[o] = c)),
                                  e.dynamic_sections[_].lists[a].options.push(
                                    n,
                                  ),
                                  (t = !0);
                              } else
                                console.log(
                                  "Localization: Add missing: Could not find list under section " +
                                    s +
                                    ":" +
                                    u,
                                  p,
                                );
                            } else
                              console.log(
                                "Localization: Add missing: Could not find section: " +
                                  s,
                                u,
                                p,
                              );
                          }
                        }
                      }
                      i.startsWith(ai) &&
                        (e.emails || (e.emails = []),
                        e.emails.forEach((e) => {
                          i === ni + e.unique_id &&
                            (c ||
                              (e.subject &&
                                e.subject[o] &&
                                e.subject[o].length > 0)) &&
                            (e.subject || (e.subject = {}),
                            e.subject[o] != c &&
                              ((e.subject[o] = c), (s = !0))),
                            (i.startsWith(ii + e.unique_id) ||
                              i.startsWith(ri + e.unique_id)) &&
                              e.sections.forEach((t) => {
                                t.type == M.rg.k_Custom &&
                                  (i === ii + e.unique_id + t.unique_id &&
                                    (c ||
                                      (t.title &&
                                        t.title[o] &&
                                        t.title[o].length > 0)) &&
                                    (t.title || (t.title = {}),
                                    t.title[o] != c &&
                                      ((t.title[o] = c), (s = !0))),
                                  i === ri + e.unique_id + t.unique_id &&
                                    (c ||
                                      (t.description &&
                                        t.description[o] &&
                                        t.description[o].length > 0)) &&
                                    (t.description || (t.description = {}),
                                    t.description[o] != c &&
                                      ((t.description[o] = c), (s = !0))));
                              });
                        })),
                        s && -1 == n.findIndex((e) => e == a) && n.push(a);
                    });
                  });
                }),
                n
              );
            })(t.GetModel(), e, a);
            return n && t.SetDirty(!0), n;
          },
        });
      }
      const On = "event_title",
        Fn = "eligibility_text",
        Un = "event_description",
        Hn = "help_text",
        Vn = "appeals_text",
        Xn = "artist_statement_desc",
        jn = "store_page_desc",
        qn = "special_event_name",
        Wn = "special_event_desc",
        zn = "special_event_block_",
        Zn = "optin_reg_title",
        Kn = "optin_reg_checkbox",
        Qn = "dynamic_section_",
        Yn = Qn + "name_",
        Jn = Qn + "desc_",
        $n = Qn + "list_name_",
        ei = Qn + "option_",
        ti = Qn + "tooltip_",
        ai = "email_",
        ni = ai + "subject_",
        ii = ai + "title_",
        ri = ai + "desc_";
      function li(e, t, a) {
        let n = (0, ae.j_)(a);
        const i = e.subject && e.subject[n] && e.subject[n].length > 0;
        (i || 0 == a) &&
          t.SetLocalization(ni + e.unique_id, a, i ? e.subject[n] : ""),
          e.sections?.forEach((i) => {
            if (i.type == M.rg.k_Custom) {
              const r = i.title && i.title[n] && i.title[n].length > 0;
              (r || 0 == a) &&
                t.SetLocalization(
                  ii + e.unique_id + i.unique_id,
                  a,
                  r ? i.title[n] : "",
                );
              const l =
                i.description &&
                i.description[n] &&
                i.description[n].length > 0;
              (l || 0 == a) &&
                t.SetLocalization(
                  ri + e.unique_id + i.unique_id,
                  a,
                  l ? i.description[n] : "",
                );
            }
          });
      }
      function si(e, t, a) {
        let n = (0, ae.j_)(a);
        const i =
          e.event_title && e.event_title[n] && e.event_title[n].length > 0;
        (i || 0 == a) && t.SetLocalization(On, a, i ? e.event_title[n] : "");
        const r =
          e.eligibility_text &&
          e.eligibility_text[n] &&
          e.eligibility_text[n].length > 0;
        (r || 0 == a) &&
          t.SetLocalization(Fn, a, r ? e.eligibility_text[n] : "");
        const l =
          e.description && e.description[n] && e.description[n].length > 0;
        (l || 0 == a) && t.SetLocalization(Un, a, l ? e.description[n] : "");
        const s = e.opt_in_registration_title?.[n]?.length > 0;
        (s || 0 == a) &&
          t.SetLocalization(Zn, a, s ? e.opt_in_registration_title[n] : "");
        const o = e.opt_in_registration_checkbox?.[n]?.length > 0;
        (o || 0 == a) &&
          t.SetLocalization(Kn, a, o ? e.opt_in_registration_checkbox[n] : "");
        const c = e.help_text && e.help_text[n] && e.help_text[n].length > 0;
        (c || 0 == a) && t.SetLocalization(Hn, a, c ? e.help_text[n] : "");
        ((e.appeals_text &&
          e.appeals_text[n] &&
          e.appeals_text[n].length > 0) ||
          0 == a) &&
          t.SetLocalization(Vn, a, c ? e.appeals_text[n] : "");
        const m =
          e.special_event_name &&
          e.special_event_name[n] &&
          e.special_event_name[n].length > 0;
        (m || 0 == a) &&
          t.SetLocalization(qn, a, m ? e.special_event_name[n] : "");
        const d =
          e.special_event_description &&
          e.special_event_description[n] &&
          e.special_event_description[n].length > 0;
        (d || 0 == a) &&
          t.SetLocalization(Wn, a, d ? e.special_event_description[n] : ""),
          e.special_event_time_blocks?.forEach((e, i) => {
            const r = e.block_reason?.[n]?.length > 0;
            (r || 0 == a) &&
              t.SetLocalization(zn + i, a, r ? e.block_reason[n] : "");
          });
        const u =
          e.artist_statement &&
          e.artist_statement.description &&
          e.artist_statement.description[n] &&
          e.artist_statement.description[n].length > 0;
        (u || 0 == a) &&
          t.SetLocalization(Xn, a, u ? e.artist_statement.description[n] : "");
        const p =
          e.build_store_page &&
          e.build_store_page.description &&
          e.build_store_page.description[n] &&
          e.build_store_page.description[n].length > 0;
        (p || 0 == a) &&
          t.SetLocalization(jn, a, p ? e.build_store_page.description[n] : ""),
          e.dynamic_sections &&
            e.dynamic_sections.forEach((e) => {
              const i = e.name && e.name[n] && e.name[n].length > 0;
              (i || 0 == a) &&
                t.SetLocalization(Yn + e.unique_id, a, i ? e.name[n] : "");
              const r =
                e.description &&
                e.description[n] &&
                e.description[n].length > 0;
              (r || 0 == a) &&
                t.SetLocalization(
                  Jn + e.unique_id,
                  a,
                  r ? e.description[n] : "",
                ),
                e.lists &&
                  e.lists.forEach((i) => {
                    const r =
                      i.option_title &&
                      i.option_title[n] &&
                      i.option_title[n].length > 0;
                    (r || 0 == a) &&
                      t.SetLocalization(
                        $n + e.unique_id + i.unique_id,
                        a,
                        r ? i.option_title[n] : "",
                      ),
                      i.options &&
                        i.options.forEach((r) => {
                          const l = r.text && r.text[n] && r.text[n].length > 0;
                          l &&
                            t.SetLocalization(
                              ei + e.unique_id + i.unique_id + r.unique_id,
                              a,
                              l ? r.text[n] : "",
                            );
                          const s =
                            r.tooltip &&
                            r.tooltip[n] &&
                            r.tooltip[n].length > 0;
                          l &&
                            t.SetLocalization(
                              ti + e.unique_id + i.unique_id + r.unique_id,
                              a,
                              s ? r.tooltip[n] : "",
                            );
                        });
                  });
            });
      }
      function oi(e) {
        const t = (function (e) {
          const t = (0, F.useQuery)(
            ["getspecialeventinfo", e],
            async () =>
              await (async function (e) {
                const t =
                    f.De.PARTNER_BASE_URL + "optin/ajaxgetspecialeventinfo",
                  a = { sessionid: f.De.SESSIONID, opt_in_name: e },
                  n = await C().get(t, { params: a, withCredentials: !0 });
                if (
                  200 == n?.status &&
                  1 == n?.data?.success &&
                  n?.data?.results
                )
                  return n.data.results;
                return (
                  console.error(
                    "Failed to fetch FetchSpecialEventInfo: ",
                    (0, T.l)(n),
                  ),
                  null
                );
              })(e),
            { staleTime: 60 * zt._H.PerMinute * 1e3 },
          );
          return t.isLoading ? null : t.data;
        })(r.On.Get().GetOptInPageID());
        return t
          ? s.createElement(ci, { rgEventInfo: t })
          : s.createElement(P.V, { string: (0, R.Xx)("#Loading") });
      }
      function ci(e) {
        const { rgEventInfo: t } = e,
          a = r.On.Get(),
          n = Math.floor(Date.now() / 1e3),
          [i, l, o, c, m, d] = (0, s.useMemo)(() => {
            const e = new Map();
            t.forEach((t) => {
              t.appid &&
                (e.has(t.appid)
                  ? e.set(t.appid, e.get(t.appid) + 1)
                  : e.set(t.appid, 1));
            });
            const i = new Map();
            return (
              Array.from(e.keys()).forEach((t) => {
                e.has(t) && e.get(t) > 2 && i.set(t, e.get(t));
              }),
              [
                t.length,
                t.filter((e) => e.published).length,
                t.filter((e) => e.hidden && !e.published).length,
                t.filter((e) => !Boolean(e.appid)),
                t.filter(
                  (e) =>
                    e.start_time > n &&
                    (e.start_time < a.GetSpecialEventStartTime() ||
                      a.BIsInSpecialEventBlockedTime(e.start_time)),
                ),
                i,
              ]
            );
          }, [a, t, n]);
        return s.createElement(
          "div",
          null,
          s.createElement(
            "p",
            null,
            "A special event has been defined for this optin.  All events of this type include the opt-in page name (",
            a.GetOptInPageID(),
            ") as a annoucement tags with the event.",
            Boolean(a.GetPublicEventID())
              ? s.createElement(
                  "span",
                  null,
                  " To see all of the published and visible events you can visit the associated",
                  s.createElement(
                    "a",
                    {
                      href:
                        f.De.STORE_BASE_URL +
                        "news/sale/" +
                        a.GetPublicEventID(),
                    },
                    "sale pages new hub",
                  ),
                  ".",
                )
              : s.createElement(
                  "span",
                  null,
                  "Public Event hasn't been configured. We cannot see published events in the news until that is completed",
                ),
          ),
          s.createElement("div", null, "Total Events with Tags: ", i),
          s.createElement("div", null, "Published Events: ", l),
          s.createElement("div", null, "Draft Events: ", o),
          s.createElement("hr", null),
          s.createElement("br", null),
          s.createElement("br", null),
          s.createElement("div", null, "Valve Events: ", c.length),
          c.map((e) => s.createElement(di, { info: e, key: e.clan_event_gid })),
          s.createElement("hr", null),
          s.createElement("br", null),
          s.createElement("br", null),
          s.createElement(
            "div",
            null,
            "Events In Blocked Out Time (needs to be moved): ",
            c.length,
          ),
          m.map((e) => s.createElement(di, { info: e, key: e.clan_event_gid })),
          s.createElement("hr", null),
          s.createElement("div", null, "Apps with more than two events "),
          Array.from(d.keys()).map((e) =>
            s.createElement(mi, { appid: e, count: d.get(e), key: e }),
          ),
        );
      }
      function mi(e) {
        const { appid: t, count: a } = e,
          [n] = (0, Qe.vs)(t, { include_assets: !0 });
        return n
          ? s.createElement(
              "div",
              null,
              s.createElement(
                "a",
                {
                  href: `${f.De.COMMUNITY_BASE_URL}/ogg/${n.GetAppID()}/partnerevents`,
                },
                s.createElement("img", {
                  src: n.GetAssets().GetSmallCapsuleURL(),
                }),
              ),
              s.createElement("div", null, n.GetName(), " (", t, ")"),
              s.createElement("div", null, "Count: ", a),
              s.createElement("hr", null),
            )
          : s.createElement(
              "a",
              { href: `${f.De.COMMUNITY_BASE_URL}/ogg/${t}/partnerevents` },
              s.createElement("div", null, t, " = ", a),
            );
      }
      function di(e) {
        const { info: t } = e;
        return t.appid
          ? s.createElement(ui, { info: t })
          : s.createElement(pi, { info: t });
      }
      function ui(e) {
        const { info: t } = e,
          [a] = (0, Qe.vs)(t.appid, {}),
          n = t.appid;
        return s.createElement(
          "div",
          null,
          "Game: ",
          a?.GetName() || "",
          " (",
          n,
          "), event state time - ",
          s.createElement(h.uv, { startDateAndTime: t.start_time }),
          s.createElement(
            "a",
            {
              href:
                f.De.COMMUNITY_BASE_URL +
                "gid/" +
                t.clan_accountid +
                "/partnerevents/view/" +
                t.clan_event_gid,
            },
            "event link",
          ),
          t.hidden ? " draft mode" : "",
        );
      }
      function pi(e) {
        const { info: t } = e;
        return s.createElement(
          "div",
          null,
          "ClanID: ",
          t.clan_accountid,
          " / ",
          t.clan_event_gid,
          s.createElement(
            "a",
            {
              href:
                f.De.COMMUNITY_BASE_URL +
                "gid/" +
                t.clan_accountid +
                "/partnerevents/view/" +
                t.clan_event_gid,
            },
            "event link",
          ),
        );
      }
      var _i = a(88016);
      class hi {
        m_mapPointShopDefs = new Map();
        m_mapPointShopDefsChange = new Map();
        m_mapPointShopDefToCommunityDef = new Map();
        GetPointShopDefs(e) {
          return this.m_mapPointShopDefs.get(e);
        }
        GetCommunityItemKV(e) {
          return this.m_mapPointShopDefToCommunityDef.get(e);
        }
        GetDefChangeList(e) {
          return (
            this.m_mapPointShopDefsChange.has(e) ||
              this.m_mapPointShopDefsChange.set(e, new Xt.pB()),
            this.m_mapPointShopDefsChange.get(e)
          );
        }
        async LoadDefForOptIn(e) {
          return this.m_mapPointShopDefs.has(e)
            ? this.m_mapPointShopDefs.get(e)
            : this.InternalLoadDefForOptIn(e);
        }
        async InternalLoadDefForOptIn(e) {
          const t = xe.De.PARTNER_BASE_URL + "optin/ajaxgetpointshopiteminfo",
            a = { sessionid: xe.De.SESSIONID, opt_in_name: e };
          let n = null;
          try {
            const i = await C().get(t, { params: a, withCredentials: !0 });
            if (
              200 == i?.status &&
              1 == i?.data?.success &&
              i.data.point_shop_advertising_appid
            ) {
              const t = this.UpdateInternalModel(e, i);
              return this.GetDefChangeList(e).Dispatch(t), t;
            }
            n = (0, T.l)(i);
          } catch (e) {
            n = (0, T.l)(e);
          }
          return (
            console.error(
              "COptInLoyaltyPointShopStore.LoadDefForApp failed: " +
                n?.strErrorMsg,
              n,
            ),
            null
          );
        }
        async FixPointShopItemForOptIn(e) {
          const t =
              xe.De.PARTNER_BASE_URL + "optin/ajaxupdatepointshopiteminfo",
            a = { sessionid: xe.De.SESSIONID, opt_in_name: e };
          let n = null;
          try {
            const i = await C().get(t, { params: a, withCredentials: !0 });
            if (200 == i?.status && 1 == i?.data?.success)
              return await this.InternalLoadDefForOptIn(e), !0;
            n = (0, T.l)(i);
          } catch (e) {
            n = (0, T.l)(e);
          }
          return (
            console.error(
              "COptInLoyaltyPointShopStore.FixPointShopItemForOptIn failed: " +
                n?.strErrorMsg,
              n,
            ),
            null
          );
        }
        UpdateInternalModel(e, t) {
          const a = t.data.community_items_def;
          return (
            t.data.defs?.forEach((e) => {
              const t = a?.findIndex(
                (t) =>
                  t.appid == e.appid && t.item_type == e.community_item_type,
              );
              -1 != t
                ? this.m_mapPointShopDefToCommunityDef.set(
                    e.defid,
                    JSON.parse(a[t].item_key_values),
                  )
                : console.log(
                    "COptInLoyaltyPointShopStore.LoadDefForApp failed to find community_item_type " +
                      e.community_item_type +
                      " on app " +
                      e.appid,
                  );
            }),
            this.m_mapPointShopDefs.set(e, [...t.data.defs] || []),
            t.data.defs || []
          );
        }
        static s_Singleton;
        static Get() {
          return hi.s_Singleton || (hi.s_Singleton = new hi()), hi.s_Singleton;
        }
        constructor() {}
      }
      (0, B.gn)([Ye.ak], hi.prototype, "InternalLoadDefForOptIn", null),
        (0, B.gn)([Ye.ak], hi.prototype, "FixPointShopItemForOptIn", null),
        (0, B.gn)([Ye.ak], hi.prototype, "UpdateInternalModel", null);
      var gi = a(40057),
        Ei = a(95315),
        Si = a(36194),
        vi = a(22364),
        Di = a(23528),
        fi = a.n(Di);
      function yi(e) {
        const { editModel: t } = e,
          [a, n, i] = (0, Ce.SZ)(() => [
            t.GetPointShopPriorityApps(),
            t.GetPointShopIncludedApps(),
            t.GetPublicEventURL(),
          ]);
        return s.createElement(
          "div",
          { className: we().AdminPageCtn },
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement(
              "p",
              null,
              "Every opt-in Event will have its own point shops landing page by default. Its artwork can be customized in the cluster (see the publish path) and the items that are featured for registered games can be modified here.",
            ),
            s.createElement(
              "a",
              {
                href: `${xe.De.STORE_BASE_URL}points/shop/event/${t.GetOptInPageID()}`,
              },
              "Point Shop Landing Page",
            ),
            s.createElement(
              "p",
              null,
              "The art assets for the point shop background are part of the cluster page's artwork.",
              s.createElement(
                "a",
                {
                  href: `${xe.De.PARTNER_BASE_URL}admin/store/page/${t.GetFullName()}`,
                },
                "Cluster Editor",
              ),
            ),
          ),
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement("h3", null, "Public Content Hub / Sale URL:"),
            s.createElement(
              "p",
              null,
              "Relative URL (text after store.steampowered.com/) used by the point shop to link to the store event. This is used by the point shop event specific page to point back to the sale page.",
            ),
            s.createElement(m.II, {
              type: "text",
              onChange: (e) => t.SetPublicEventURL(e.target.value),
              value: i,
              placeholder: "For Example: category/scream",
            }),
            Boolean(i) &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement("br", null),
                s.createElement(
                  "a",
                  { href: `${xe.De.STORE_BASE_URL}${i}`, target: "_blank" },
                  "Open Store Landing Page",
                ),
              ),
            s.createElement("h3", null, "Sale Page Link"),
            s.createElement(
              "p",
              null,
              "We need specific Sale Page linked so that we can automatically pull the background and logo. This can always be overriden by the cluster artwork that is uploaded",
            ),
            s.createElement(vi.Eu, { oEditablePlan: t }),
          ),
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement("h3", null, "Priority Apps"),
            s.createElement(
              "div",
              null,
              "These apps will have their items which are ALSO marked individually with the OptIn ID appear expliclty at the top of the landing page. This ensures our curated or personally created items get top billing.",
            ),
            s.createElement("br", null),
            s.createElement(Ai, { editModel: t }),
            s.createElement(
              m.zx,
              {
                onClick: (e) =>
                  (0, g.AM)(
                    s.createElement(Ti, {
                      rgAppIDs: a,
                      fnSetAppIDs: t.SetPointShopPriorityApps,
                    }),
                    (0, D.RA)(e),
                  ),
              },
              "Set Priority Apps",
            ),
          ),
          s.createElement(bi, { editModel: t }),
          s.createElement(Ii, { editModel: t }),
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement("h3", null, "Included Apps"),
            s.createElement(
              "div",
              null,
              "These are selected list of top or important apps whose animated assets we want to appear in the both the explicit item type lists and the list of apps carousels.",
            ),
            s.createElement("br", null),
            s.createElement(wi, { editModel: t }),
            s.createElement(
              m.zx,
              {
                onClick: (e) =>
                  (0, g.AM)(
                    s.createElement(Ri, { editModel: t }),
                    (0, D.RA)(e),
                  ),
              },
              "Automatically Build App List",
            ),
            s.createElement(
              m.zx,
              {
                onClick: (e) =>
                  (0, g.AM)(
                    s.createElement(Ti, {
                      rgAppIDs: n,
                      fnSetAppIDs: t.SetPointShopIncludedApps,
                    }),
                    (0, D.RA)(e),
                  ),
              },
              "Set Included Apps",
            ),
          ),
        );
      }
      function bi(e) {
        const { editModel: t } = e,
          [a] = (0, Ce.SZ)(() => [t.GetPointShopAdvertisingAppID()]);
        return s.createElement(
          "div",
          { className: ue().Section },
          s.createElement("h3", null, "Point Shop Advertising App"),
          s.createElement(
            "p",
            null,
            "This is the advertising app which will hold the point shop items we want customers to get via claims or direct adds from the shop directly.",
          ),
          s.createElement(m.II, {
            type: "number",
            onChange: (e) =>
              t.SetPointShopAdvertisingAppID(Number.parseInt(e.target.value)),
            value: a,
            placeholder: "Advertising App ID",
          }),
          Boolean(a) &&
            s.createElement(
              s.Fragment,
              null,
              s.createElement("br", null),
              s.createElement(
                "a",
                {
                  href: `${xe.De.PARTNER_BASE_URL}apps/communityitems/${a}`,
                  target: "_blank",
                },
                "Open the Community and Point Shop Editor",
              ),
              s.createElement(Ci, { editModel: t }),
            ),
        );
      }
      function Ii(e) {
        const { editModel: t } = e,
          [a, n] = (0, Ce.SZ)(() => [
            t.GetPointShopRadialColorOverride(),
            t.GetPointShopRadialEdgeColorOverride(),
          ]);
        return s.createElement(
          "div",
          { className: (0, v.Z)(ue().Section) },
          s.createElement("h3", null, "Point Shop Background Color"),
          s.createElement(
            "p",
            null,
            "Easiest way to determine if the color needs to be altered is viewing the point after the background and logo has already been uploaded to the linked sale page. Then using the inspector to test the color to then enter it here.",
          ),
          s.createElement(m.__, null, "Radial Center Color"),
          s.createElement(
            m.zx,
            {
              className: fi().BackgroundColorBtn,
              onClick: (e) => {
                (0, Ei.yV)(
                  s.createElement(Si.z, {
                    color: a,
                    onChange: (e) => t.SetPointShopRadialColorOverride(e),
                  }),
                  e,
                  { bDisablePopTop: !0 },
                );
              },
              style: { backgroundColor: a },
            },
            "Update Radial Center Color",
          ),
          s.createElement(m.__, null, "Radial Edge Color"),
          s.createElement(
            m.zx,
            {
              className: fi().BackgroundColorBtn,
              onClick: (e) => {
                (0, Ei.yV)(
                  s.createElement(Si.z, {
                    color: n,
                    onChange: (e) => t.SetPointShopRadialEdgeColorOverride(e),
                  }),
                  e,
                  { bDisablePopTop: !0 },
                );
              },
              style: { backgroundColor: n },
            },
            "Update Radial Center Color",
          ),
        );
      }
      function Ci(e) {
        const { editModel: t } = e,
          a = (function (e) {
            const [t, a] = (0, s.useState)(() => hi.Get().GetPointShopDefs(e));
            return (
              (0, s.useEffect)(() => {
                hi.Get().LoadDefForOptIn(e).then(a);
              }, [e]),
              (0, Ye.Qg)(hi.Get().GetDefChangeList(e), a),
              t
            );
          })(t.GetOptInPageID()),
          [n] = (0, Ce.SZ)(() => [t.GetPointShopAdvertisingAppID()]),
          { fnFixPointShopItemForOptIn: i } = {
            fnFixPointShopItemForOptIn: hi.Get().FixPointShopItemForOptIn,
          };
        return a && 0 != a.length
          ? s.createElement(
              "div",
              null,
              s.createElement("div", null, "Loyalty Point Shop Items:"),
              s.createElement(
                "ol",
                null,
                a
                  .filter((e) => 6 != e.type)
                  .map((e) =>
                    s.createElement(
                      "li",
                      { key: e.defid },
                      s.createElement(ki, { def: e, editModel: t }),
                    ),
                  ),
              ),
              s.createElement(
                m.zx,
                { onClick: () => i(t.GetOptInPageID()) },
                "Fix Associations",
              ),
            )
          : s.createElement(
              "div",
              null,
              "No Point Shop Defintions in Advertising App ",
              n,
            );
      }
      function ki(e) {
        const { def: t, editModel: a } = e,
          n = ((i = t.defid), hi.Get().GetCommunityItemKV(i) || {});
        var i;
        let r = "";
        return (
          n?.associated_optin_event != a.GetOptInPageID() &&
            (r += "Not associated with optin,"),
          n?.time_available_start != a.GetEventStartTime() &&
            (r += "Item start time not matching optin,"),
          n?.time_free_end != a.GetEventEndTime() &&
            (r += "Free until not matching optin end time"),
          s.createElement(
            "div",
            null,
            Boolean(0 == r.length) ? "✓ " : "✗ " + r,
            t.internal_description,
            " - ",
            n?.associated_optin_event,
          )
        );
      }
      function Ai(e) {
        const { editModel: t } = e,
          a = (0, Ce.SZ)(() => t.GetPointShopPriorityApps());
        return a
          ? s.createElement(
              "div",
              null,
              a.map((e) => s.createElement(Pi, { key: e, appid: e })),
            )
          : s.createElement("div", null, "No Priority Apps");
      }
      function wi(e) {
        const { editModel: t } = e,
          a = (0, Ce.SZ)(() => t.GetPointShopIncludedApps());
        return a
          ? s.createElement(
              "div",
              null,
              a.map((e) => s.createElement(Pi, { key: e, appid: e })),
            )
          : s.createElement("div", null, "No Included Apps");
      }
      function Pi(e) {
        const { appid: t } = e,
          [a, n] = (0, Qe.vs)(t, {});
        return 2 == n
          ? s.createElement("div", null, "Appid ", t, " Not Found")
          : 1 == n
            ? s.createElement("div", null, "Appid ", t, " Loading")
            : s.createElement(
                "div",
                null,
                a.GetName(),
                " ( ",
                t,
                " )",
                s.createElement(
                  "a",
                  {
                    href: `${xe.De.STORE_BASE_URL}points/shop/app/${a.GetAppID()}`,
                    target: "_blank",
                  },
                  "Point Shop",
                ),
              );
      }
      function Ti(e) {
        const { closeModal: t, rgAppIDs: a, fnSetAppIDs: n } = e,
          [i, r] = s.useState(a?.join("\n") || "");
        return s.createElement(
          w.uH,
          {
            strTitle: "Set App List",
            strDescription: "Provide the complete list of apps, one per line.",
            closeModal: t,
            onOK: () => {
              const e = i
                .replace(/\n/g, "|")
                .split("|")
                .filter(Boolean)
                .map((e) => Number.parseInt(e.trim()))
                .filter((e) => !isNaN(e));
              n(Array.from(new Set(e)));
            },
          },
          s.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => r(e.currentTarget.value),
            value: i,
            autoFocus: !0,
          }),
        );
      }
      async function Ni(e, t) {
        let a = null;
        try {
          const n = U.gA.Init(_i.eQ);
          e.forEach((e) => n.Body().add_appids(e)),
            n.Body().set_language("english"),
            n.Body().set_count(1e3),
            n.Body().add_filters(1);
          const i = await _i.pQ.QueryRewardItems(t, n);
          if (i.BSuccess() && 1 == i.GetEResult()) {
            const t = i
                .Body()
                .definitions()
                .map((e) => e.appid()),
              a = new Set(t);
            return e.filter((e) => a.has(e));
          }
          a = (0, T.l)(i);
        } catch (e) {
          a = (0, T.l)(e);
        }
        return (
          console.warn(
            "BYldFilterAppIDsWithAnimatedPointShopItems service request failed with error",
            a,
            e,
          ),
          null
        );
      }
      function Ri(e) {
        const { closeModal: t, editModel: a } = e,
          [n, i] = (0, s.useState)(50),
          [l, o] = (0, s.useState)(!1),
          [c, d] = (0, s.useState)(!1),
          u = (0, Ce.SZ)(() => a.GetPointShopIncludedApps()),
          p = (0, r.tb)(),
          _ = (0, gi.bY)(),
          h = (0, s.useMemo)(() => {
            if (p) {
              if (p.json_featured && c)
                return JSON.parse(p.json_featured).map((e) => e.appid);
              if (p.json_opted_in && !c)
                return JSON.parse(p.json_opted_in).map((e) => e.appid);
            }
            return [];
          }, [p, c]),
          {
            bLoading: g,
            fnGetLongTermSaleRankForApp: E,
            fnbHasSomeLongTermSaleRankForApp: S,
          } = (0, Nt.l)(h),
          v = (0, s.useMemo)(() => {
            if (!g && h?.length > 0) {
              return h
                .filter(S)
                .map((e) => ({ appid: e, nRank: E(e) }))
                .sort((e, t) => e.nRank - t.nRank)
                .map((e) => e.appid);
            }
            return [];
          }, [g, E, S, h]),
          D = (0, He.tx)();
        if (D.bLoading)
          return s.createElement(He.NT, {
            state: D,
            strDialogTitle: "Build App List",
            closeModal: t,
          });
        const f = !p || !p.json_opted_in || !p.json_featured;
        return s.createElement(
          w.uH,
          {
            strTitle: "Build App List",
            strDescription: `Will scan the opted in apps to find the top ${n} apps by long term sales rank with some animated point shop asset. This depends on the stats dashboard via 'manage', so should be run after a refresh completes.`,
            onCancel: t,
            onOK: async () => {
              D.fnSetLoading(!0);
              let e = 0;
              let t = new Array();
              const i = new Set(u),
                r = l ? v : v.filter((e) => !i.has(e));
              do {
                D.fnSetThrobber(
                  `Processing Apps from ${e + 1} to ${e + 25} looking for ${n - t.length} more...`,
                );
                const a = r.slice(e, e + 25),
                  i = await Ni(a, _);
                if (null == i)
                  return (
                    D.fnSetStrError(
                      "Fail processing the appids, check console",
                    ),
                    void D.fnSetError(!0)
                  );
                for (; t.length < n && i.length > 0; ) {
                  const e = i.shift();
                  t.push(e);
                }
                e += 25;
              } while (t.length < n && e < r.length);
              const s = t.length,
                o = l ? new Array() : Array.from(i);
              for (; t.length > 0; ) o.push(t.shift());
              a.SetPointShopIncludedApps(o),
                D.fnSetSuccess(!0),
                D.fnSetStrSuccess("Completing processing, added " + s);
            },
            bOKDisabled: f || 0 == p?.count_opted_in,
          },
          s.createElement(m.II, {
            type: "number",
            value: n,
            onChange: (e) => i(Number.parseInt(e.currentTarget.value)),
            label: "Top Apps with Animated Assets to find",
            tooltip: "We will scan opted in apps to find these top apps",
          }),
          s.createElement(m.ji, {
            checked: l,
            onChange: o,
            label: `Overwrite existing list of ${u?.length || 0} Apps?`,
          }),
          s.createElement(m.ji, {
            checked: c,
            onChange: d,
            label: "Use Featured Apps instead of opted in Apps?",
          }),
          Boolean(0 == p?.count_opted_in) &&
            s.createElement("div", null, "Nothing to do, no apps opted in"),
          Boolean(f || g) &&
            s.createElement(P.V, {
              string: "Loading",
              size: "medium",
              position: "center",
            }),
        );
      }
      const Gi = ["unsatisfied", "neutral", "satisfied"],
        xi = ["0", "1", "2-10", "11+"];
      var Li = a(82756),
        Bi = a(25507),
        Mi = a.n(Bi);
      function Oi(e) {
        const { pageid: t } = e,
          a = (function () {
            const [e] = (0, s.useState)(() =>
                (0, Li.kQ)("optin_title", "application_config"),
              ),
              [t] = (0, s.useState)(() =>
                (0, Li.kQ)("optin_appid", "application_config"),
              ),
              [a] = (0, s.useState)(() =>
                (0, Li.kQ)("optin_survey_type", "application_config"),
              ),
              [n] = (0, s.useState)(() =>
                (0, Li.kQ)("optin_banner_url", "application_config"),
              );
            return {
              strOptInName: e,
              appid: t,
              strSurveyType: a,
              strOptInBannerURL: n,
            };
          })(),
          [n, i] = (0, s.useState)(() => ({
            appid: a.appid,
            accountid: xe.L7.accountid,
            survey_type: a.strSurveyType,
          })),
          [r, l] = (0, s.useState)(!1),
          [o, c] = (0, s.useState)(!1);
        return r
          ? s.createElement(
              "div",
              null,
              (0, R.Xx)(
                o ? "#OptIn_SurveySubmitted_error" : "#OptIn_SurveySubmitted",
              ),
            )
          : s.createElement(Fi, {
              strOptInName: a.strOptInName,
              strSurveyType: a.strSurveyType,
              appid: a.appid,
              oSurveyData: n,
              strLocalizedOptInBanner: a.strOptInBannerURL,
              fnSaveSurveyResults: async (e) => {
                const n = `${xe.De.PARTNER_BASE_URL}optin/ajaxsubmitsurvey/${t}/${a.appid}`,
                  i = new FormData();
                i.append("sessionid", xe.De.SESSIONID),
                  i.append("surveyjson", JSON.stringify(e));
                const r = await C().post(n, i, { withCredentials: !0 });
                l(!0), c(!(200 == r?.status));
              },
              fnSetSurveyData: i,
            });
      }
      function Fi(e) {
        const {
            strSurveyType: t,
            strOptInName: a,
            appid: n,
            oSurveyData: i,
            fnSetSurveyData: r,
            fnSaveSurveyResults: l,
            strLocalizedOptInBanner: o,
          } = e,
          [c] = (0, Qe.vs)(n, { include_assets: !0 });
        let d = null;
        if ("survey_nextfest" === t)
          d = s.createElement(Xi, { fnUpdateLocalSurvey: r, oSurveyData: i });
        return d
          ? s.createElement(
              "div",
              { className: we().AdminPageCtn },
              s.createElement(
                "div",
                { className: Mi().SurveyCtn },
                s.createElement(
                  "div",
                  { className: we().PageTitle },
                  (0, R.Xx)("#OptIn_SurveyTitle", a),
                ),
                s.createElement("hr", null),
                s.createElement(
                  "div",
                  { className: we().ColumnCtn },
                  s.createElement(
                    "div",
                    { className: we().LeftCol },
                    Boolean(o) &&
                      s.createElement(
                        "div",
                        { className: we().ColHeader },
                        s.createElement("div", {
                          className: we().ColHeaderImg,
                          style: { backgroundImage: `url( '${o}' )` },
                        }),
                      ),
                    s.createElement(
                      "div",
                      { className: (0, v.Z)(we().SectionCtn, we().Bright) },
                      s.createElement(
                        "h2",
                        null,
                        (0, R.Xx)("#OptIn_SurveyIntroTitle", a),
                      ),
                      (0, R.Xx)("#OptIn_SurveyIntro"),
                    ),
                    d,
                  ),
                  s.createElement(
                    "div",
                    { className: we().RightCol },
                    s.createElement(
                      "div",
                      { className: we().SectionCtn },
                      s.createElement(
                        "h3",
                        null,
                        (0, R.Xx)(
                          "#OptIn_SurveySubTitle",
                          c?.GetName() || "" + n,
                        ),
                      ),
                      s.createElement("img", {
                        src: c?.GetAssets().GetSmallCapsuleURL(),
                      }),
                    ),
                  ),
                ),
                s.createElement(
                  "div",
                  { className: Mi().SubmitSurveyCtn },
                  s.createElement(
                    m.KM,
                    {
                      onClick: (e) =>
                        (0, g.AM)(
                          s.createElement(Ui, {
                            oSurveyData: i,
                            fnSaveSurveyResults: l,
                          }),
                          (0, D.RA)(e),
                        ),
                    },
                    (0, R.Xx)("#Button_Submit"),
                  ),
                ),
              ),
            )
          : s.createElement("div", null, (0, R.Xx)("#OptIn_SurveyNoType"));
      }
      function Ui(e) {
        const { oSurveyData: t, fnSaveSurveyResults: a, closeModal: n } = e;
        return s.createElement(w.uH, {
          strTitle: (0, R.Xx)("#OptIn_SubmitSurvey"),
          strDescription: (0, R.Xx)("#OptIn_SubmitSurvey_desc"),
          onOK: async () => {
            await a(t), n();
          },
          onCancel: n,
        });
      }
      const Hi = "Affirmative",
        Vi = "Negative";
      function Xi(e) {
        const { oSurveyData: t, fnUpdateLocalSurvey: a } = e,
          [n, i, r, l, o, c, m, d] = (0, Ce.SZ)(() => [
            t.satisfaction,
            t.satisfiction_description,
            t.team_size,
            void 0 === t.meet_expectations
              ? void 0
              : t.meet_expectations
                ? Hi
                : Vi,
            t.expectation_explanation,
            void 0 === t.change_release_plans
              ? void 0
              : t.change_release_plans
                ? Hi
                : Vi,
            t.change_release_description,
            t.suggestions,
          ]);
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(ji, {
            strQuestionToken: "#OptIn_NextFest_Q1",
            rgOptions: Gi,
            selected: n,
            fnSetSelected: (e) => a({ ...t, satisfaction: e }),
            strAdditionalFeedbackToken: "#OptIn_NextFest_Q1_Notes",
            strAdditionalData: i,
            fnSetAdditionalData: (e) =>
              a({ ...t, satisfiction_description: e }),
          }),
          s.createElement(ji, {
            strQuestionToken: "#OptIn_NextFest_Q2",
            rgOptions: xi,
            selected: r,
            fnSetSelected: (e) => a({ ...t, team_size: e }),
          }),
          s.createElement(ji, {
            strQuestionToken: "#OptIn_NextFest_Q3",
            rgOptions: [Hi, Vi],
            selected: l,
            fnSetSelected: (e) => a({ ...t, meet_expectations: e === Hi }),
            strAdditionalFeedbackToken: "#OptIn_NextFest_Q3_Notes",
            strAdditionalData: o,
            fnSetAdditionalData: (e) => a({ ...t, expectation_explanation: e }),
          }),
          s.createElement(ji, {
            strQuestionToken: "#OptIn_NextFest_Q4",
            rgOptions: [Vi, Hi],
            selected: c,
            fnSetSelected: (e) => a({ ...t, change_release_plans: e === Hi }),
            strAdditionalFeedbackToken: "#OptIn_NextFest_Q4_Notes",
            strAdditionalData: m,
            fnSetAdditionalData: (e) =>
              a({ ...t, change_release_description: e }),
          }),
          s.createElement(qi, {
            strQuestionToken: "#OptIn_NextFest_Q5",
            strAnswerString: d,
            strNotesToken: "#OptIn_NextFest_Q5_Notes",
            fnAnswerString: (e) => a({ ...t, suggestions: e }),
          }),
        );
      }
      function ji(e) {
        const {
          strQuestionToken: t,
          rgOptions: a,
          selected: n,
          fnSetSelected: i,
          strAdditionalFeedbackToken: r,
          strAdditionalData: l,
          fnSetAdditionalData: o,
        } = e;
        return s.createElement(
          "div",
          { className: (0, v.Z)(we().SectionCtn, Mi().SurveyQuestionCtn) },
          s.createElement("h2", null, (0, R.Xx)(t)),
          s.createElement(
            "div",
            { className: "DialogInputLabelGroup" },
            a.map((e, a) =>
              s.createElement(
                "div",
                { key: e, className: Mi().ResponseRow },
                s.createElement("input", {
                  type: "radio",
                  name: t,
                  id: t + "_A" + (a + 1),
                  value: e,
                  checked: n === e,
                  onChange: (e) => i(e.currentTarget.value),
                }),
                s.createElement(
                  "label",
                  { htmlFor: t + "_A" + (a + 1) },
                  s.createElement(
                    "span",
                    { className: Mi().ResponseText },
                    (0, R.yu)(
                      t + "_A" + (a + 1),
                      s.createElement("span", null),
                    ),
                  ),
                ),
              ),
            ),
          ),
          Boolean(r && n === a[a.length - 1]) &&
            s.createElement(
              "div",
              { className: Mi().FollowUpText },
              s.createElement(m.__, null, (0, R.Xx)(r)),
              s.createElement("textarea", {
                className: (0, v.Z)(
                  "DialogTextInputBase",
                  Mi().FollowUpTextInput,
                ),
                value: l,
                onChange: (e) => o(e.currentTarget.value),
              }),
            ),
        );
      }
      function qi(e) {
        const {
          strQuestionToken: t,
          strAnswerString: a,
          fnAnswerString: n,
          strNotesToken: i,
        } = e;
        return s.createElement(
          "div",
          { className: (0, v.Z)(we().SectionCtn, Mi().SurveyQuestionCtn) },
          s.createElement("h2", null, (0, R.Xx)(t)),
          s.createElement(
            "div",
            { className: Mi().FollowUpText },
            s.createElement(m.II, {
              type: "text",
              value: a,
              label: (0, R.Xx)(i),
              onChange: (e) => n(e.currentTarget.value),
            }),
          ),
        );
      }
      function Wi(e) {
        const { editModel: t } = e,
          a = (0, ne.h)(),
          [n, i, r, l, o] = (0, Ce.SZ)(() => [
            t.GetCurEventTitle(),
            t.BHasSurveyEnabled(),
            t.GetSurveyType(),
            t.GetOptInPageID(),
            t.GetLocalizedOptInBanner(a),
          ]),
          [c, d] = (0, s.useState)(i),
          [u, p] = (0, s.useState)(() => ({
            appid: 220,
            accountid: xe.L7.accountid,
            survey_type: void 0,
          })),
          _ = (0, s.useMemo)(
            () => ["survey_nextfest"].map((e) => ({ label: e, data: e })),
            [],
          ),
          h = o && (0, Be.Ip)(l, a, o);
        return s.createElement(
          "div",
          { className: we().AdminPageCtn },
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement("h3", null, "Survey Controls"),
            s.createElement("hr", null),
            c
              ? s.createElement(m.ry, {
                  label: "Choose Survey Type",
                  tooltip:
                    "Chosen survey will be presented to participating partners after event completes for a short duration",
                  rgOptions: _,
                  selectedOption: r,
                  onChange: (e) => {
                    t.SetSurveyType(e.data), p({ ...u, survey_type: e.data });
                  },
                })
              : s.createElement(m.ji, {
                  checked: !1,
                  label: "Enable Survey in OptIn?",
                  onChange: (e) => {
                    d(!0);
                  },
                }),
          ),
          Boolean(r) &&
            s.createElement(
              "div",
              { className: ue().Section },
              s.createElement("h3", null, "Preview Version: "),
              s.createElement("hr", null),
              s.createElement(
                "a",
                {
                  href: `${xe.De.PARTNER_BASE_URL}optin/survey/${l}/220`,
                  target: "_blank",
                },
                "Preview Landing Page",
              ),
              s.createElement("br", null),
              s.createElement("br", null),
              s.createElement(Fi, {
                strOptInName: n,
                strSurveyType: r,
                appid: 220,
                strLocalizedOptInBanner: h,
                fnSaveSurveyResults: p,
                oSurveyData: u,
                fnSetSurveyData: p,
              }),
            ),
          s.createElement(
            "div",
            { className: ue().Section },
            s.createElement("h3", null, "Survey Results"),
            s.createElement("hr", null),
            s.createElement("p", null, "TODO"),
          ),
        );
      }
      const zi = (0, $.Pi)((e) => {
          const t = r.On.Get(),
            a = (e) =>
              window.sessionStorage.setItem(
                "editorCurrentTab",
                `?tab=${e.key}`,
              ),
            n =
              f.De.PARTNER_BASE_URL +
              "optin/salepreview/" +
              t.GetName() +
              "/20",
            i = (t.GetEmailDefinitions() || [])
              .filter((e) => e.BIsDraftEmail())
              .filter((e) => {
                const t = (function (e) {
                  const t = rn(e),
                    a = Object.values(t).length,
                    n = [];
                  let i = 0;
                  return (
                    t.bNeedDemoTrailerRegLink &&
                      (e.GetDemoTrailerRegLink()
                        ? (i += 1)
                        : n.push("Missing Demo Trailer Reg Link")),
                    t.bNeedAssetKit &&
                      (e.GetAssetKitURL()
                        ? (i += 1)
                        : n.push("Missing Asset Kit")),
                    t.bNeedDemoPressPreviewDate &&
                      (e.GetDemoPressPreviewDate()
                        ? (i += 1)
                        : n.push("Missing Demo Preview Date")),
                    t.bNeedMaxItems &&
                      (e.GetScheduleMaxItems()
                        ? (i += 1)
                        : n.push("Missing Max Scheduled Events")),
                    t.bNeedSalePreview &&
                      (e.GetSalePreviewPage()
                        ? (i += 1)
                        : n.push("Missing Sale Preview Page")),
                    t.bNeedNextEditionDate &&
                      (e.GetNextEditionDate()
                        ? (i += 1)
                        : n.push("Missing Next Edition Date")),
                    t.bNeedQASessionDate &&
                      (e.GetQASessionDate()
                        ? (i += 1)
                        : n.push("Missing QA Session Date")),
                    t.bNeedQASessionLink &&
                      (e.GetQASessionLink()
                        ? (i += 1)
                        : n.push("Missing QA Session Link")),
                    t.bNeedRecordedQASessionLink &&
                      (e.GetRecordedQASessionLink()
                        ? (i += 1)
                        : n.push("Missing QA Recorded Session Link")),
                    t.bNeedCancelDate &&
                      (e.GetCancelDate()
                        ? (i += 1)
                        : n.push("Missing Cancel Date")),
                    t.bNeedPreviewDate &&
                      (e.GetPreviewDate()
                        ? (i += 1)
                        : n.push("Missing Preview Date")),
                    t.bNeedPermissionDate &&
                      (e.GetPermissionDate()
                        ? (i += 1)
                        : n.push("Missing Permissions Date")),
                    t.bNeedTrailerLaunchDate &&
                      (e.GetTrailerLaunchDate()
                        ? (i += 1)
                        : n.push("Missing Trailer Launch Date")),
                    t.bNeedLivestreamLaunchDate &&
                      (e.GetLivestreamLaunchDate()
                        ? (i += 1)
                        : n.push("Missing Livestream Launch Date")),
                    t.bNeedWikiDocumentation &&
                      (e.GetWikiDocURL()
                        ? (i += 1)
                        : n.push("Missing Wiki Doc Link")),
                    t.bNeedSurveyLink &&
                      (e.GetSurveyLinkURL()
                        ? (i += 1)
                        : n.push("Missing Survey Link")),
                    t.bNeedPressPreviewVisibleDate &&
                      (e.GetPressPreviewVisibleDate()
                        ? (i += 1)
                        : n.push("Missing Press Preview Visible Date")),
                    t.bNeedTrailerDemoDeadlineDate &&
                      (e.GetTrailerDemoDeadlineDate()
                        ? (i += 1)
                        : n.push("Missing Trailer Demo Deadline Date")),
                    t.bNeedGenericActionLink &&
                      (e.GetGenericActionLink()
                        ? (i += 1)
                        : n.push("Missing Generic Action Link")),
                    t.bNeedImageUploaded &&
                      (e.BHasImageUploaded()
                        ? (i += 1)
                        : n.push("Missing Image Upload")),
                    { cNeeded: a, cCompleted: i, vecMissing: n }
                  );
                })(e);
                return t.cNeeded != t.cCompleted;
              }),
            o = t.BIsReleaseGamesEligible() || t.BIsUnreleaseGamesEligible(),
            c = [
              {
                name: "Editor",
                key: "editor",
                status: o
                  ? ""
                  : s.createElement(
                      oe.HP,
                      {
                        toolTipContent:
                          "Must choose release or unrelease games in the requirement section",
                      },
                      "'Incomplete (0/1)'",
                    ),
                statusType: o ? "success" : "danger",
                contents: s.createElement(
                  d.SV,
                  null,
                  s.createElement(ee.ko, { fnLangHasData: t.BHasLanguageData }),
                  s.createElement(ft, null),
                ),
                onClick: a,
              },
              {
                name: "Preview",
                key: "preview",
                status: "",
                statusType: "success",
                contents: s.createElement("iframe", {
                  width: "100%",
                  height: "1200px",
                  style: { border: "none", paddingBottom: "20px" },
                  src: n,
                }),
                onClick: a,
              },
              {
                name: "Email",
                key: "email",
                status: i.length ? "Draft Incomplete" : "",
                statusType: i.length ? "danger" : "success",
                contents: s.createElement(
                  d.SV,
                  null,
                  s.createElement(fn, null),
                ),
                onClick: a,
              },
              {
                name: "Manage",
                key: "manage",
                status: "",
                statusType: "success",
                contents: s.createElement(
                  d.SV,
                  null,
                  s.createElement(ta, { editModel: t }),
                  s.createElement(va, null),
                ),
                onClick: a,
              },
              {
                name: "Point Shop",
                key: "pointshop",
                status: "",
                statusType: "success",
                contents: s.createElement(
                  d.SV,
                  null,
                  s.createElement(yi, { editModel: t }),
                ),
                onClick: a,
              },
              {
                name: "Survey",
                key: "survey",
                status: "",
                statusType: "success",
                contents: s.createElement(
                  d.SV,
                  null,
                  s.createElement(Wi, { editModel: t }),
                ),
                onClick: a,
              },
            ];
          return (
            t.BHasSpecialEventType() &&
              c.push({
                name: "Special Events",
                key: "events",
                status: "",
                statusType: "success",
                contents: s.createElement(
                  d.SV,
                  null,
                  s.createElement(oi, null),
                ),
                onClick: a,
              }),
            c.push({
              name: "Debug",
              key: "debug",
              status: "",
              statusType: "success",
              contents: s.createElement(d.SV, null, s.createElement(Ie, null)),
              onClick: a,
            }),
            s.createElement(
              d.SV,
              null,
              s.createElement(
                "div",
                null,
                s.createElement(Zi, null),
                s.createElement(
                  "div",
                  { className: ue().EditorInputPaneContents },
                  l.v.Get().BHasUnpublishedChagnes(r.On.Get().GetFullName()) &&
                    s.createElement(
                      "div",
                      {
                        className: (0, v.Z)(k.WarningStylesBackground, k.Stuck),
                      },
                      "This Opt-In has unpublished changes",
                    ),
                  s.createElement(E.n, { tabs: c }),
                  s.createElement("div", { className: _().ClearThings }),
                ),
                s.createElement(Ki, null),
              ),
            )
          );
        }),
        Zi = (0, $.Pi)((e) =>
          s.createElement(
            "div",
            { className: (0, v.Z)(ue().TopBarContainer) },
            s.createElement(
              m.zx,
              { className: ue().BasicButtonSize },
              s.createElement(
                o.rU,
                { to: jl.OptinAdminDashboard() },
                "Dashboard",
              ),
            ),
            s.createElement(Ln, null),
            s.createElement(Mn, null),
            s.createElement(ee.Pi, null),
          ),
        ),
        Ki = (0, $.Pi)((e) => {
          const t = r.On.Get();
          return s.createElement(
            "div",
            {
              className: (0, v.Z)(
                ue().FlexRowWrapFlexStartContainer,
                ue().BottomBar,
              ),
            },
            s.createElement(
              m.KM,
              {
                className: ue().BasicButtonSize,
                onClick: (e) =>
                  (0, g.AM)(s.createElement(Qi, null), (0, D.RA)(e)),
              },
              t.BIsDirty() ? "Save" : "Saved",
            ),
            s.createElement(
              m.zx,
              { className: ue().BasicButtonSize, onClick: fe },
              "Re-order Dynamic Sections",
            ),
          );
        }),
        Qi = (e) => {
          const { closeModal: t } = e,
            [a, n] = s.useState(!0),
            [i, l] = s.useState(new Array());
          return (
            (0, s.useEffect)(() => {
              const e = r.On.Get(),
                t = C().CancelToken.source();
              return (
                e
                  .Save(t.token)
                  .then((e) => {
                    if (e) {
                      const t = new Array();
                      t.push(e), l(t);
                    }
                  })
                  .finally(() => {
                    e.RefreshActiveStats(), n(!1);
                  }),
                () => t.cancel("OptInEditorSaveDialog unmounting")
              );
            }, []),
            s.createElement(
              w.RG,
              { bAllowFullSize: !0, onCancel: t, closeModal: t },
              s.createElement(m.h4, null, "Saving Opt-In Data"),
              s.createElement(
                m.uT,
                null,
                s.createElement(
                  "div",
                  null,
                  "We are saving the Opt-In Data, please be patient.\t",
                ),
                Boolean(i.length > 0) &&
                  s.createElement(
                    "div",
                    { className: k.ErrorStylesBackground },
                    i.map((e) =>
                      s.createElement("span", { key: "" + e.length }, e),
                    ),
                  ),
                a &&
                  s.createElement(P.V, {
                    size: "medium",
                    position: "center",
                    string: (0, R.Xx)("#Saving"),
                  }),
                Boolean(!a && 0 == i.length) &&
                  s.createElement("div", null, "Save Successful."),
              ),
              s.createElement(
                m.$_,
                null,
                s.createElement(
                  m.KM,
                  { onClick: t, disabled: a },
                  (0, R.Xx)("#Button_Close"),
                ),
              ),
            )
          );
        };
      function Yi(e) {
        const { appid: t } = e,
          [a, n] = s.useState(!0);
        s.useEffect(() => {
          const e = l.v
            .Get()
            .GetActiveOptIn()
            .map((e) => ze.qh.Get().LoadOptInRegistration(e.pageid, t));
          Promise.all(e).finally(() => n(!1));
        }, [t]);
        const [i] = (0, Qe.vs)(t, {
          include_assets: !0,
          include_basic_info: !0,
        });
        return s.createElement(
          d.SV,
          null,
          s.createElement(
            "div",
            { className: we().AdminPageCtn },
            s.createElement(
              "div",
              { className: we().PageTitle },
              "Opt-In Game Support Page: ",
              i ? i.GetName() : "Unknown",
              " (",
              t,
              ") ",
              s.createElement(
                "span",
                { className: we().ValveOnlyTitle },
                "Valve Only Page",
              ),
            ),
            s.createElement("hr", null),
            s.createElement(
              "p",
              null,
              "Valve-only - go to the event registration page for this game within any upcoming or active events.",
            ),
            s.createElement(
              "p",
              null,
              "Allows you to invite the game even if otherwise not eligible.",
            ),
            s.createElement(
              "div",
              null,
              s.createElement(
                "ol",
                null,
                l.v
                  .Get()
                  .GetActiveOptIn()
                  .map((e) => {
                    if (!e.sale_optin_enabled) return null;
                    const a = ze.qh.Get().GetRegistration(t, e.pageid);
                    return s.createElement(
                      "li",
                      { key: e.pageid },
                      s.createElement(
                        "a",
                        {
                          href:
                            f.De.PARTNER_BASE_URL +
                            "optin/sale/" +
                            e.pageid +
                            "/" +
                            t,
                        },
                        e.event_title.english,
                        " ",
                        a?.opt_in ? " - OptIn" : "",
                      ),
                    );
                  }),
              ),
            ),
            a &&
              s.createElement(P.V, {
                size: "medium",
                position: "center",
                string: (0, R.Xx)("#Loading"),
              }),
          ),
        );
      }
      class Ji {
        static s_OptInRegs;
        m_registration = void 0;
        m_bDirty = !1;
        static Get() {
          return (
            Ji.s_OptInRegs ||
              ((Ji.s_OptInRegs = new Ji()),
              (window.COptInRegstationEditStore = Ji.s_OptInRegs)),
            Ji.s_OptInRegs
          );
        }
        constructor() {
          (0, O.rC)(this);
        }
        BHasAdditionalFeaturing() {
          return this.m_registration.additional_featuring;
        }
        BHasCheckedTrailerUsage() {
          return this.m_registration.jsondata.trailer_permission;
        }
        SetCheckedTrailerUsage(e) {
          (this.m_registration.jsondata.trailer_permission = e),
            e
              ? ((this.m_registration.jsondata.rtime_granting_trailer =
                  Math.floor(new Date().getTime() / 1e3)),
                (this.m_registration.jsondata.accountid_granting_trailer =
                  f.L7.accountid))
              : ((this.m_registration.jsondata.rtime_granting_trailer = void 0),
                (this.m_registration.jsondata.accountid_granting_trailer =
                  void 0)),
            this.SetDirty(!0);
        }
        BHasCheckedDemoUsage() {
          return this.m_registration.jsondata.demo_permission;
        }
        SetCheckedDemorUsage(e) {
          (this.m_registration.jsondata.demo_permission = e),
            e
              ? ((this.m_registration.jsondata.rtime_granting_demo = Math.floor(
                  new Date().getTime() / 1e3,
                )),
                (this.m_registration.jsondata.accountid_granting_demo =
                  f.L7.accountid))
              : ((this.m_registration.jsondata.rtime_granting_demo = void 0),
                (this.m_registration.jsondata.accountid_granting_demo =
                  void 0)),
            this.SetDirty(!0);
        }
        BHasCheckedNoPlannedDiscounts() {
          return this.m_registration.no_planned_discount;
        }
        SetCheckedNoPlannedDiscounts(e) {
          this.m_registration.no_planned_discount != e &&
            ((this.m_registration.no_planned_discount = e), this.SetDirty(!0));
        }
        BHasGameProfileIntent() {
          return this.m_registration.jsondata.game_profile_intent;
        }
        SetGameProfileIntent(e) {
          (this.m_registration.jsondata.game_profile_intent = e),
            e
              ? ((this.m_registration.jsondata.rtime_granting_profile =
                  Math.floor(new Date().getTime() / 1e3)),
                (this.m_registration.jsondata.accountid_granting_profile =
                  f.L7.accountid))
              : ((this.m_registration.jsondata.rtime_granting_profile = void 0),
                (this.m_registration.jsondata.accountid_granting_profile =
                  void 0)),
            this.SetDirty(!0);
        }
        GetModel() {
          return this.m_registration;
        }
        GetFirstSelectedItem(e, t) {
          let a = this.GetSelectedItems(e, t);
          return a && a.length > 0 && null != a[0] ? a[0] : null;
        }
        GetSelectedItems(e, t) {
          if (
            this.m_registration &&
            this.m_registration.jsondata &&
            this.m_registration.jsondata.dynamic_selection
          ) {
            let a = this.m_registration.jsondata.dynamic_selection.findIndex(
              (t) => t.section_id == e,
            );
            if (
              -1 !== a &&
              this.m_registration.jsondata.dynamic_selection[a]
                .list_selection &&
              this.m_registration.jsondata.dynamic_selection[a].list_selection
                .findIndex
            ) {
              let e = this.m_registration.jsondata.dynamic_selection[
                a
              ].list_selection.findIndex((e) => e.list_id == t);
              if (-1 !== e) {
                let t =
                  this.m_registration.jsondata.dynamic_selection[a]
                    .list_selection[e].selected_item_id;
                if (t && t.length > 0 && null != t[0]) return t;
              }
            }
          } else
            console.log(
              "COptInRegstationEditStore: failed to find selected values for:",
              e,
              t,
            );
          return [];
        }
        Reset(e) {
          (this.m_registration = JSON.parse(JSON.stringify(e))),
            (this.m_registration.jsondata &&
              "" !== this.m_registration.jsondata) ||
              (this.m_registration.jsondata = {}),
            "string" == typeof this.m_registration.jsondata &&
              (this.m_registration.jsondata = JSON.parse(
                this.m_registration.jsondata,
              )),
            (this.m_bDirty = !1);
        }
        SetDirty(e) {
          this.m_bDirty != e && (this.m_bDirty = e);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
      }
      (0, B.gn)([O.LO], Ji.prototype, "m_registration", void 0),
        (0, B.gn)([O.LO], Ji.prototype, "m_bDirty", void 0),
        (0, B.gn)([O.aD.bound], Ji.prototype, "SetCheckedTrailerUsage", null),
        (0, B.gn)([O.aD.bound], Ji.prototype, "SetCheckedDemorUsage", null),
        (0, B.gn)(
          [O.aD.bound],
          Ji.prototype,
          "SetCheckedNoPlannedDiscounts",
          null,
        ),
        (0, B.gn)([O.aD.bound], Ji.prototype, "SetGameProfileIntent", null);
      var $i = a(93803),
        er = a(45651),
        tr = a(60749);
      const ar = (0, $.Pi)((e) =>
          e.sections && 0 != e.sections.length
            ? s.createElement(
                "div",
                null,
                s.createElement(
                  d.SV,
                  null,
                  e.sections.map((e, t) =>
                    !e.valve_only || f.L7.is_support
                      ? s.createElement(nr, {
                          key: e.unique_id,
                          section: e,
                          sectionIndex: t,
                        })
                      : null,
                  ),
                ),
              )
            : null,
        ),
        nr = (0, $.Pi)((e) => {
          const { section: t, sectionIndex: a } = e,
            n = (0, ae.jM)(f.De.LANGUAGE),
            i = (0, te.Xj)(
              t.name,
              n,
              (0, R.Xx)("#OptIn_Registration_Title", a),
            ),
            r = (0, te.Xj)(t.description, n, ""),
            l = t.valve_only;
          return s.createElement(
            "div",
            {
              id: e.section.unique_id,
              className: (0, v.Z)({
                [tr.DynamicSection]: !0,
                [_().ValveOnlyBackground]: l,
              }),
            },
            s.createElement("h3", null, l && "(VO) ", i),
            s.createElement("div", null, s.createElement($i.d, { text: r })),
            s.createElement(ir, { section: t, sectionIndex: a }),
          );
        }),
        ir = (0, $.Pi)((e) => {
          const { section: t, sectionIndex: a } = e;
          if ("text_input" === t.input_style)
            return s.createElement(rr, {
              ...e,
              list: t.lists[0],
              listIndex: 0,
            });
          {
            const a = Boolean(
              "radio" == t.input_style || "checkbox" == t.input_style,
            );
            return s.createElement(
              "div",
              { className: a ? tr.ListContainer : void 0 },
              t.lists.map((t, n) =>
                a
                  ? s.createElement(lr, {
                      key: t.unique_id,
                      ...e,
                      list: t,
                      listIndex: n,
                    })
                  : s.createElement(sr, {
                      key: t.unique_id,
                      ...e,
                      list: t,
                      listIndex: n,
                    }),
              ),
            );
          }
        }),
        rr = (0, $.Pi)((e) => {
          const { section: t, list: a, listIndex: n } = e,
            i = Ji.Get().GetSelectedItems(t.unique_id, a.unique_id),
            [r, l] = (0, s.useState)(i?.length > 0 ? i[0] : "");
          return (
            (0, Ge.X)(0 == n, "expected list index to be zero"),
            s.createElement(
              "div",
              null,
              s.createElement("textarea", {
                className: tr.TextArea,
                value: r,
                onChange: (e) => l(e.currentTarget.value || ""),
              }),
              s.createElement(or, {
                ...e,
                list: a,
                listIndex: n,
                item_unique_ids: [r],
              }),
            )
          );
        }),
        lr = (0, $.Pi)((e) => {
          const { section: t, list: a } = e,
            [n, i] = (0, s.useState)(
              Ji.Get().GetSelectedItems(t.unique_id, a.unique_id),
            ),
            r = (0, ae.jM)(f.De.LANGUAGE),
            l = (0, te.Xj)(a.option_title, r),
            o = new Array(),
            c = er.Lh(t.columns, 1, 3);
          for (let e = 0; e < c; ++e)
            o.push(
              s.createElement(
                "div",
                { key: "column" + e, className: tr.Column },
                a.options
                  .filter((t, a) => a % c == e)
                  .map((e) => {
                    const a = (0, te.Xj)(e.text, r),
                      l = (0, te.Xj)(e.tooltip, r, void 0);
                    return "radio" == t.input_style
                      ? s.createElement(
                          m.EU,
                          { key: e.unique_id, value: e.unique_id },
                          s.createElement(
                            oe.HP,
                            { toolTipContent: l, bDisabled: !l },
                            a,
                            " ",
                            Boolean(l) && "(?)",
                          ),
                        )
                      : s.createElement(m.ji, {
                          key: e.unique_id,
                          label: a,
                          tooltip: l,
                          checked: -1 !== n.findIndex((t) => t == e.unique_id),
                          onChange: (t) => {
                            let a = n.findIndex((t) => t == e.unique_id);
                            if (t && -1 == a) {
                              let t = JSON.parse(JSON.stringify(n));
                              t.push(e.unique_id), i(t);
                            } else if (!t && -1 != a) {
                              let e = JSON.parse(JSON.stringify(n));
                              e.splice(a, 1), i(e);
                            }
                          },
                        });
                  }),
              ),
            );
          return s.createElement(
            "div",
            null,
            Boolean(l) &&
              s.createElement("div", { className: tr.ListTitle }, l),
            s.createElement(
              m.SY,
              { value: n.length > 0 ? n[0] : null, onChange: (e) => i([e]) },
              o,
            ),
            s.createElement(or, { ...e, item_unique_ids: n }),
          );
        }),
        sr = (0, $.Pi)((e) => {
          const { section: t, list: a } = e,
            [n, i] = (0, s.useState)(
              Ji.Get().GetSelectedItems(t.unique_id, a.unique_id),
            ),
            r = (0, ae.jM)(f.De.LANGUAGE),
            l = (0, te.Xj)(a.option_title, r),
            o = [],
            c = a.options.map((e) => {
              const t = (0, te.Xj)(e.text, r);
              let a = { value: e.unique_id, label: t };
              return -1 != n.findIndex((t) => t == e.unique_id) && o.push(a), a;
            });
          return s.createElement(
            "div",
            { className: tr.SelectContianer },
            Boolean(l) &&
              s.createElement("div", { className: tr.ListTitle }, l),
            s.createElement(ke.ZP, {
              name: "searchField",
              backspaceRemovesValue: !0,
              isSearchable: !0,
              isMulti: Boolean("multi_select" == t.input_style),
              defaultMenuIsOpen: !1,
              isClearable: !0,
              placeholder: Boolean("multi_select" == t.input_style)
                ? (0, R.Xx)("#OptIn_Registration_Select_Placeholder_Plural")
                : (0, R.Xx)("#OptIn_Registration_Select_Placeholder"),
              value: o,
              options: c,
              getOptionLabel: (e) => e.label,
              getOptionValue: (e) => e.value,
              onChange: (e, { action: t }) => {
                i(e ? e.map((e) => e.value) : []);
              },
            }),
            s.createElement(or, { ...e, item_unique_ids: n }),
          );
        }),
        or = (0, $.Pi)((e) => {
          const {
            section: t,
            list: a,
            sectionIndex: n,
            listIndex: i,
            item_unique_ids: r,
          } = e;
          return !r || 0 == r.length || (1 == r.length && null == r[0])
            ? s.createElement(
                s.Fragment,
                null,
                s.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${n}][section_id]`,
                  value: t.unique_id,
                }),
                s.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${n}][list_selection][${i}][list_id]`,
                  value: a.unique_id,
                }),
              )
            : s.createElement(
                s.Fragment,
                null,
                s.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${n}][section_id]`,
                  value: t.unique_id,
                }),
                s.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${n}][list_selection][${i}][list_id]`,
                  value: a.unique_id,
                }),
                Boolean(r) &&
                  r.map((e, t) =>
                    s.createElement("input", {
                      key: "selected_" + e,
                      type: "hidden",
                      name: `dynamic_selection[${n}][list_selection][${i}][selected_item_id][${t}]`,
                      value: e,
                    }),
                  ),
              );
        });
      var cr = a(81913),
        mr = a(92936);
      const dr = (0, $.Pi)((e) => {
        if (!e.eventdata) return null;
        const { appid: t, eventdata: a } = e,
          n = (0, R.Xx)("#OptIn_GameListing_Title");
        let i = (function (e, t) {
          const a = t.jsondata,
            n = Number.parseInt(e),
            i = (0, ae.jM)(f.De.LANGUAGE),
            r = [];
          let l = null,
            o = [];
          for (const e of a.sale_sections)
            if ("tabs" === e.section_type && e.tabs?.length) {
              l = [];
              for (const t of e.tabs)
                l.push({ id: t.unique_id, label: (0, mr.YK)(t, i) }),
                  (t.capsules?.length && !t.capsules.some((e) => e.id === n)) ||
                    o.push(t.unique_id);
            }
          let c = !1;
          for (const e of a.sale_sections)
            if ("tabs" === e.section_type && e.tabs) c = !0;
            else if ("items" === e.section_type && e.capsules) {
              let a = e.capsules.some((e) => e.id === n);
              if (
                (e.smart_section && e.enable_faceted_browsing && (a = !0), !a)
              )
                continue;
              const m = (0, mr._U)(e, t, i, 0, 0, !0);
              if (null === l)
                r.push(s.createElement(ur, { key: m, section: m, tab: "" }));
              else {
                let t = e.show_on_tabs?.length
                  ? e.show_on_tabs
                  : l.map((e) => e.id);
                c &&
                  !e.diable_tab_id_filtering &&
                  (t = t.filter((e) => o.includes(e)));
                for (const e of t) {
                  const t = l.find((t) => t.id === e);
                  t &&
                    r.push(
                      s.createElement(ur, {
                        key: m + e,
                        section: m,
                        tab: t.label,
                      }),
                    );
                }
              }
            }
          return r;
        })(t, a);
        return i.length > 0
          ? s.createElement(
              d.SV,
              null,
              s.createElement(
                "div",
                { className: "survey_section" },
                s.createElement(
                  "h1",
                  null,
                  (0, R.Xx)("#OptIn_OptInOut_CategorizationTitle"),
                ),
                (0, R.Xx)("#OptIn_OptInOut_CategorizationDesc"),
                s.createElement(
                  "div",
                  { className: "indent_section" },
                  s.createElement(
                    "div",
                    {
                      className: (0, v.Z)(tr.DynamicSection, tr.Categorization),
                    },
                    s.createElement("h3", null, n),
                    (0, R.Xx)("#OptIn_GameListing_Detail"),
                    s.createElement(
                      "div",
                      {
                        className: (0, v.Z)(
                          tr.DynamicSection,
                          tr.VisibilityTable,
                        ),
                      },
                      s.createElement(
                        "div",
                        { className: "landingTable blueish" },
                        s.createElement(
                          "div",
                          { className: "tr heading" },
                          s.createElement("div", { className: "th" }, "Tab"),
                          s.createElement(
                            "div",
                            { className: "th" },
                            "Section",
                          ),
                        ),
                        i,
                      ),
                    ),
                    s.createElement(
                      "div",
                      { className: tr.DynamicSection },
                      s.createElement(
                        cr.JW,
                        {
                          eventModel: e.eventdata,
                          route: cr.Ue.k_eStoreSalePage,
                          className: (0, v.Z)(p.Button, p.Primary),
                        },
                        (0, R.Xx)("#Sale_Link_PreviewEvent"),
                      ),
                    ),
                  ),
                ),
              ),
            )
          : s.createElement(
              d.SV,
              null,
              s.createElement(
                "div",
                { className: tr.DynamicSection },
                s.createElement("h3", null, n),
                s.createElement(
                  "p",
                  null,
                  (0, R.Xx)("#OptIn_GameListing_Detail_Empty"),
                ),
              ),
            );
      });
      const ur = (e) =>
        s.createElement(
          d.SV,
          null,
          s.createElement(
            "div",
            { className: (0, v.Z)("tr", "highlightHover") },
            s.createElement("a", { className: "td" }, e.tab),
            s.createElement("a", { className: "td" }, e.section),
          ),
        );
      var pr = a(44174);
      function _r(e) {
        const { optInDefinition: t, appid: a } = e,
          n = (0, f.ip)("optin_preview_mode", "application_config") || !1;
        return (Ji.Get().BHasAdditionalFeaturing() || n) &&
          t.additional_featuring_section_enabled &&
          (t.collect_trailer_permissions ||
            t.collect_demo_permissions ||
            t.collect_game_profile_intent)
          ? s.createElement(
              "div",
              null,
              Boolean(n) &&
                s.createElement(
                  "div",
                  { className: k.WarningStylesBackground },
                  "NOTE: Visibility, Demo, and Trailer use permissions sections below will only appear publicly for apps marked with featuring.",
                ),
              s.createElement(hr, { optInDefinition: t, appid: a }),
            )
          : null;
      }
      function hr(e) {
        const { optInDefinition: t, appid: a } = e,
          [n] = (0, u.Ar)("focusmedia", !1);
        return (
          (0, s.useEffect)(() => {
            n &&
              (0, g.AM)(
                s.createElement(gr, { optInDefinition: t, appid: a }),
                window,
              );
          }, [n, t, a]),
          s.createElement(Er, { ...e, bShowVisibilityDetails: !0 })
        );
      }
      function gr(e) {
        const { optInDefinition: t, appid: a, closeModal: n } = e,
          i = (0, He.tx)();
        return i.bLoading
          ? s.createElement(He.NT, {
              state: i,
              strDialogTitle: (0, R.Xx)("#OptIn_Collect_Dialog_Title"),
              strThrobber: (0, R.Xx)("#Saving"),
              closeModal: n,
            })
          : s.createElement(
              w.uH,
              {
                strTitle: (0, R.Xx)("#OptIn_Collect_Dialog_Title"),
                strDescription: (0, R.Xx)("#OptIn_Collect_Dialog_Desc"),
                onOK: () => {
                  i.fnSetLoading(!0),
                    ze.qh
                      .Get()
                      .UpdateOptInRegistrationJson(
                        a,
                        Ji.Get().GetModel().jsondata,
                      )
                      .then((e) => {
                        e
                          ? (i.fnSetError(!0), i.fnSetStrError(e))
                          : i.fnSetSuccess(!0);
                      })
                      .catch((e) => i.fnSetError(!0));
                },
                onCancel: n,
              },
              s.createElement(Er, {
                optInDefinition: t,
                appid: a,
                bShowVisibilityDetails: !1,
              }),
            );
      }
      function Er(e) {
        const { optInDefinition: t, appid: a, bShowVisibilityDetails: n } = e;
        return s.createElement(
          s.Fragment,
          null,
          Boolean(n) &&
            s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "div",
                { className: "sub_category" },
                s.createElement(
                  "h3",
                  null,
                  (0, R.Xx)("#OptIn_Collect_Dialog_Title"),
                ),
              ),
              s.createElement(
                "p",
                null,
                (0, R.Xx)("#OptIn_Collect_Dialog_Desc"),
              ),
            ),
          Boolean(t.collect_trailer_permissions) &&
            s.createElement(Sr, { optInDefinition: t }),
          Boolean(t.collect_demo_permissions) &&
            s.createElement(vr, { optInDefinition: t }),
          Boolean(t.collect_game_profile_intent) &&
            s.createElement(Dr, { optInDefinition: t, appid: a }),
        );
      }
      function Sr(e) {
        const { optInDefinition: t } = e,
          a = t.event_title[f.De.LANGUAGE] || t.event_title.english,
          n = t.do_anytime.enter_discounts,
          i = t.launch_demo?.enabled,
          [r, l, o] = (0, Ce.SZ)(() => [
            Ji.Get().GetModel().jsondata.trailer_permission,
            Ji.Get().GetModel().jsondata.rtime_granting_trailer,
            Ji.Get().GetModel().jsondata.accountid_granting_trailer,
          ]);
        return s.createElement(
          "div",
          null,
          s.createElement(
            "div",
            { className: "sub_category" },
            s.createElement(
              "h3",
              null,
              (0, R.Xx)("#OptIn_Collect_Trailer"),
              " ",
              s.createElement(
                "span",
                { className: "required_optional1" },
                Boolean(t.collect_demo_deadline)
                  ? s.createElement(
                      s.Fragment,
                      null,
                      "(",
                      (0, R.Xx)(
                        "#OptIn_Collect_SuggestedBy",
                        (0, R.vX)(t.collect_demo_deadline),
                      ),
                      ")",
                    )
                  : s.createElement(
                      s.Fragment,
                      null,
                      "(",
                      (0, R.Xx)("#OptIn_Collect_Optional"),
                      ")",
                    ),
              ),
            ),
          ),
          s.createElement(
            "p",
            null,
            (0, R.Xx)("#OptIn_Collect_Trailer_check", a),
          ),
          s.createElement(
            "p",
            null,
            (0, R.Xx)("#OptIn_Collect_Permission_DocReminder"),
          ),
          s.createElement(
            "div",
            { className: "eligibility" },
            s.createElement(
              "h5",
              null,
              (0, R.Xx)("#OptIn_Collect_Trailer_eligibility"),
            ),
            Boolean(n && t.collect_demo_deadline) &&
              s.createElement(
                "p",
                null,
                (0, R.Xx)(
                  "#OptIn_Collect_Trailer_check_req_discount",
                  (0, R.vX)(t.collect_demo_deadline),
                ),
              ),
            Boolean(i && t.collect_demo_deadline) &&
              s.createElement(
                "p",
                null,
                (0, R.Xx)(
                  "#OptIn_Collect_Trailer_deadline_1",
                  (0, R.vX)(t.collect_demo_deadline),
                ),
              ),
          ),
          s.createElement(
            "div",
            { className: (0, v.Z)(_().FlexRowContainer, _().RadioOption) },
            s.createElement("input", {
              type: "radio",
              id: "GatherTrailerPermission",
              onChange: () => Ji.Get().SetCheckedTrailerUsage(!0),
              checked: Boolean(r && l),
              value: "1",
              name: "trailer_permission",
            }),
            s.createElement(
              "label",
              { htmlFor: "GatherTrailerPermission" },
              (0, R.Xx)("#OptIn_Collect_Trailer_check_label"),
            ),
          ),
          s.createElement(
            "div",
            { className: (0, v.Z)(_().FlexRowContainer, _().RadioOption) },
            s.createElement("input", {
              type: "radio",
              id: "GatherTrailerNoPermission",
              onChange: () => Ji.Get().SetCheckedTrailerUsage(!1),
              checked: Boolean(!r && !l),
              value: "0",
              name: "trailer_permission",
            }),
            s.createElement(
              "label",
              { htmlFor: "GatherTrailerNoPermission" },
              (0, R.Xx)("#OptIn_Collect_Trailer_nocheck_label"),
            ),
          ),
          Boolean(l) &&
            s.createElement("input", {
              type: "hidden",
              value: l,
              name: "rtime_granting_trailer",
            }),
          Boolean(o) &&
            s.createElement("input", {
              type: "hidden",
              value: o,
              name: "accountid_granting_trailer",
            }),
          s.createElement("br", null),
          s.createElement("br", null),
        );
      }
      function vr(e) {
        const { optInDefinition: t } = e,
          a = t.event_title[f.De.LANGUAGE] || t.event_title.english,
          n = t.do_anytime.enter_discounts,
          [i, r, l] = (0, Ce.SZ)(() => [
            Ji.Get().GetModel().jsondata.demo_permission,
            Ji.Get().GetModel().jsondata.rtime_granting_demo,
            Ji.Get().GetModel().jsondata.accountid_granting_demo,
          ]);
        return s.createElement(
          "div",
          null,
          s.createElement(
            "div",
            { className: "sub_category" },
            s.createElement(
              "h3",
              null,
              (0, R.Xx)("#OptIn_Collect_Demo"),
              " ",
              s.createElement(
                "span",
                { className: "required_optional1" },
                Boolean(t.collect_demo_deadline)
                  ? s.createElement(
                      s.Fragment,
                      null,
                      "(",
                      (0, R.Xx)(
                        "#OptIn_Collect_SuggestedBy",
                        (0, R.vX)(t.collect_demo_deadline),
                      ),
                      ")",
                    )
                  : s.createElement(
                      s.Fragment,
                      null,
                      "(",
                      (0, R.Xx)("#OptIn_Collect_Optional"),
                      ")",
                    ),
              ),
            ),
          ),
          s.createElement("p", null, (0, R.Xx)("#OptIn_Collect_Demo_check", a)),
          s.createElement(
            "p",
            null,
            (0, R.Xx)("#OptIn_Collect_Permission_DocReminder"),
          ),
          s.createElement(
            "div",
            { className: "eligibility" },
            s.createElement(
              "h5",
              null,
              (0, R.Xx)("#OptIn_Collect_Trailer_eligibility"),
            ),
            Boolean(n && t.collect_demo_deadline) &&
              s.createElement(
                "p",
                null,
                (0, R.Xx)(
                  "#OptIn_Collect_Trailer_check_req_discount",
                  (0, R.vX)(t.collect_demo_deadline),
                ),
              ),
            Boolean(t.collect_demo_deadline) &&
              s.createElement(
                "p",
                null,
                (0, R.Xx)(
                  "#OptIn_Collect_Demo_deadline_1",
                  (0, R.vX)(t.collect_demo_deadline),
                ),
              ),
          ),
          s.createElement(
            "div",
            { className: (0, v.Z)(_().FlexRowContainer, _().RadioOption) },
            s.createElement("input", {
              type: "radio",
              id: "GatherDemoPermission",
              onChange: () => Ji.Get().SetCheckedDemorUsage(!0),
              checked: Boolean(i && r),
              value: "1",
              name: "demo_permission",
            }),
            s.createElement(
              "label",
              { htmlFor: "GatherDemoPermission" },
              (0, R.Xx)("#OptIn_Collect_Demo_check_label"),
            ),
          ),
          s.createElement(
            "div",
            { className: (0, v.Z)(_().FlexRowContainer, _().RadioOption) },
            s.createElement("input", {
              type: "radio",
              id: "GatherNoDemoPermission",
              onChange: () => Ji.Get().SetCheckedDemorUsage(!1),
              checked: Boolean(!i && !r),
              value: "0",
              name: "demo_permission",
            }),
            s.createElement(
              "label",
              { htmlFor: "GatherNoDemoPermission" },
              (0, R.Xx)("#OptIn_Collect_Demo_nocheck_label"),
            ),
          ),
          Boolean(r) &&
            s.createElement("input", {
              type: "hidden",
              value: r,
              name: "rtime_granting_demo",
            }),
          Boolean(l) &&
            s.createElement("input", {
              type: "hidden",
              value: l,
              name: "accountid_granting_demo",
            }),
          s.createElement("br", null),
          s.createElement("br", null),
        );
      }
      function Dr(e) {
        const { optInDefinition: t, appid: a } = e,
          n = t.event_title[f.De.LANGUAGE] || t.event_title.english,
          i = t.do_anytime.enter_discounts,
          r = t.pageid,
          [l, o, c] = (0, Ce.SZ)(() => [
            Ji.Get().BHasGameProfileIntent(),
            Ji.Get().GetModel().jsondata.accountid_granting_profile,
            Ji.Get().GetModel().jsondata.rtime_granting_profile,
          ]);
        return s.createElement(
          "div",
          null,
          s.createElement(
            "div",
            { className: "sub_category" },
            s.createElement(
              "h3",
              null,
              (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent"),
              " ",
              s.createElement(
                "span",
                { className: "required_optional1" },
                "(",
                (0, R.Xx)("#OptIn_Collect_Optional"),
                ")",
              ),
            ),
          ),
          s.createElement(
            "p",
            null,
            (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_main", n),
            "  ",
            Boolean(i) &&
              s.createElement(
                "span",
                null,
                (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_requirediscount"),
              ),
          ),
          s.createElement(
            "p",
            null,
            (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_detail_1", n),
          ),
          s.createElement(
            "p",
            null,
            (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_detail_2", n),
          ),
          s.createElement(
            "ul",
            null,
            s.createElement(
              "li",
              null,
              (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_requirement"),
            ),
            s.createElement(
              "ul",
              null,
              s.createElement(
                "li",
                null,
                (0, R.Xx)(
                  "#OptIn_Collect_Game_Profile_Intent_requirement_1",
                  n,
                ),
              ),
              Boolean(i) &&
                s.createElement(
                  "li",
                  null,
                  (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_requirement_2"),
                ),
            ),
          ),
          s.createElement(
            "ul",
            null,
            s.createElement(
              "li",
              null,
              (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_asset"),
            ),
            s.createElement(
              "ul",
              null,
              s.createElement(
                "li",
                null,
                (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_1"),
              ),
              s.createElement(
                "ul",
                null,
                s.createElement(
                  "li",
                  null,
                  (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_1b", r),
                ),
              ),
              s.createElement(
                "li",
                null,
                (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_2"),
              ),
              s.createElement(
                "li",
                null,
                (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_3"),
              ),
              s.createElement(
                "li",
                null,
                (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_4"),
              ),
              s.createElement(
                "li",
                null,
                (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_5"),
              ),
            ),
          ),
          s.createElement(
            "p",
            null,
            (0, R.yu)(
              "#OptIn_Collect_Game_Profile_Intent_learnmore",
              s.createElement("a", {
                href: "https://partner.steamgames.com/doc/marketing/pointsshopitems#gameprofile",
                target: "_blank",
              }),
            ),
            s.createElement(
              "span",
              null,
              (0, R.yu)(
                "#OptIn_Collect_Game_Profile_Intent_goto",
                s.createElement("a", {
                  href: `${f.De.PARTNER_BASE_URL}apps/communityitems/${a}`,
                  target: "_blank",
                }),
              ),
            ),
          ),
          s.createElement(
            "div",
            null,
            s.createElement("input", {
              type: "radio",
              id: "GatherGameProfileIntent",
              onChange: () => Ji.Get().SetGameProfileIntent(!0),
              checked: Boolean(l && o),
              value: "1",
              name: "game_profile_intent",
            }),
            s.createElement(
              "label",
              { htmlFor: "GatherGameProfileIntent" },
              (0, R.Xx)("#OptIn_Collect_Game_Profile_Intent_label"),
            ),
          ),
          s.createElement(
            "div",
            null,
            s.createElement("input", {
              type: "radio",
              id: "GatherGameProfileNoIntent",
              onChange: () => Ji.Get().SetGameProfileIntent(!1),
              checked: Boolean(!l && !o),
              value: "0",
              name: "game_profile_intent",
            }),
            s.createElement(
              "label",
              { htmlFor: "GatherGameProfileNoIntent" },
              (0, R.Xx)("#OptIn_Collect_Game_Profile_NoIntent_label"),
            ),
          ),
          Boolean(o) &&
            s.createElement("input", {
              type: "hidden",
              value: o,
              name: "accountid_granting_profile",
            }),
          Boolean(c) &&
            s.createElement("input", {
              type: "hidden",
              value: c,
              name: "rtime_granting_profile",
            }),
          s.createElement("br", null),
          s.createElement("br", null),
        );
      }
      function fr(e) {
        const { optInDefinition: t } = e,
          a = Ji.Get(),
          n = t.event_title[f.De.LANGUAGE] || t.event_title.english,
          i = t.do_anytime.enter_discounts,
          [r, l] = (0, Ce.SZ)(() => [
            a.BHasCheckedNoPlannedDiscounts(),
            a.GetModel().appid,
          ]),
          [o] = (0, Qe.vs)(l, { include_release: !0 });
        return !i || o?.BIsComingSoon() || o?.BIsFree()
          ? null
          : o
            ? s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "div",
                  { className: "sub_category" },
                  s.createElement(
                    "h3",
                    null,
                    (0, R.Xx)("#OptIn_Discount_Intent"),
                  ),
                ),
                s.createElement(
                  oe.HP,
                  {
                    className: (0, v.Z)(_().HelperTooltip, "HelperTooltip"),
                    toolTipContent: (0, R.Xx)(
                      "#OptIn_Discount_Intent_Desc_ttip",
                    ),
                  },
                  s.createElement(
                    "div",
                    null,
                    (0, R.Xx)("#OptIn_Discount_Intent_Desc"),
                  ),
                  s.createElement(se.WWB, null),
                ),
                s.createElement(
                  "div",
                  {
                    className: (0, v.Z)(_().FlexRowContainer, _().RadioOption),
                  },
                  s.createElement("input", {
                    type: "radio",
                    name: "no_planned_discount",
                    id: "DiscountOptions_Yes",
                    value: "0",
                    checked: !r,
                    onChange: () => a.SetCheckedNoPlannedDiscounts(!1),
                  }),
                  s.createElement(
                    "label",
                    { htmlFor: "DiscountOptions_Yes" },
                    s.createElement(
                      "span",
                      null,
                      (0, R.Xx)(
                        "#OptIn_Discount_Intent_Desc_radio_yes",
                        o.GetName(),
                        n,
                      ),
                    ),
                  ),
                ),
                s.createElement(
                  "div",
                  {
                    className: (0, v.Z)(_().FlexRowContainer, _().RadioOption),
                  },
                  s.createElement("input", {
                    type: "radio",
                    name: "no_planned_discount",
                    id: "DiscountOptions_No",
                    value: "1",
                    checked: r,
                    onChange: () => a.SetCheckedNoPlannedDiscounts(!0),
                  }),
                  s.createElement(
                    "label",
                    { htmlFor: "DiscountOptions_No" },
                    s.createElement(
                      "span",
                      null,
                      (0, R.Xx)(
                        "#OptIn_Discount_Intent_Desc_radio_no",
                        o.GetName(),
                        n,
                      ),
                    ),
                  ),
                ),
              )
            : s.createElement(P.V, { size: "small", position: "center" });
      }
      const yr = (e) => {
          let { pageid: t, appid: a } = e;
          t.startsWith("sale_sale_") && (t = t.substring(5));
          const n = l.v.Get().GetDefinition(t),
            [i, r] = (0, s.useState)(!1),
            [o, c] = (0, s.useState)(null);
          if (
            ((0, s.useEffect)(() => {
              r(!1);
              const e = ze.qh
                .Get()
                .CreateOrGetRegistration(Number.parseInt(a), t);
              Ji.Get().Reset(e),
                (async () => {
                  if (n.public_event_id && n.public_event_clan_id)
                    try {
                      const e = Ze.K.InitFromClanID(
                          Number.parseInt(n.public_event_clan_id),
                        ),
                        t =
                          await pr.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                            e,
                            n.public_event_id,
                            0,
                          );
                      c(t);
                    } catch (e) {
                      const t = (0, T.l)(e);
                      console.error(
                        "LoadPartnerEvent : failed with " + t.strErrorMsg,
                        t,
                      );
                    }
                  r(!0);
                })();
            }, [t, a, n.public_event_id, n.public_event_clan_id]),
            !n)
          )
            return (
              console.error("Definition is missing: " + a + " - " + t, n), null
            );
          if (!i)
            return s.createElement(P.V, {
              size: "medium",
              string: (0, R.Xx)("#Loading"),
            });
          return s.createElement(
            s.Fragment,
            null,
            s.createElement("a", { id: "GameListing" }),
            s.createElement(dr, { appid: a, eventdata: o }),
            s.createElement(
              "div",
              { className: "survey_section compact" },
              s.createElement("h1", null, (0, R.Xx)("#OptIn_OptInOut_Title")),
              (0, R.Xx)("#OptIn_OptInOut_Desc"),
              s.createElement(
                "div",
                { className: "indent_section" },
                s.createElement(ar, { sections: n.dynamic_sections }),
                s.createElement(_r, {
                  optInDefinition: n,
                  appid: Number.parseInt(a),
                }),
                s.createElement(fr, { optInDefinition: n }),
                Boolean(f.L7.is_support) &&
                  s.createElement(
                    "div",
                    { className: _().ValveOnlyBackground },
                    s.createElement(
                      m.zx,
                      {
                        onClick: () => {
                          const e = Ji.Get().GetModel();
                          (0, g.AM)(
                            s.createElement(
                              w.uH,
                              {
                                strTitle: (0, R.Xx)("#OptIn_Debug"),
                                bAlertDialog: !0,
                              },
                              s.createElement(be.G, { data: e }),
                            ),
                            window,
                          );
                        },
                      },
                      "(VO) " + (0, R.Xx)("#OptIn_Debug"),
                    ),
                  ),
              ),
            ),
          );
        },
        br = (e) =>
          s.createElement(Na.NL, {
            message: (e) =>
              !r.On.Get().BIsDirty() ||
              e.pathname != jl.OptinAdminDashboard() ||
              (0, R.Xx)("#Generel_Discard_Warning"),
          });
      class Ir {
        m_nInvitedAppIDs = [];
        m_nPrunedAppIDs = [];
        m_nAdditionalFeaturedppIDs = [];
        m_nPendingReviewAppIDs = [];
        m_listCallback = new Xt.pB();
        m_mapReviewCallback = new Map();
        GetAsConsolidatedList() {
          return {
            invited_appids: this.m_nInvitedAppIDs,
            pruned_appids: this.m_nPrunedAppIDs,
            pending_review_appids: this.m_nPendingReviewAppIDs,
            additionally_featured_appids: this.m_nAdditionalFeaturedppIDs,
          };
        }
        GetConsolidatedListCallback() {
          return this.m_listCallback;
        }
        GetStateForAppCallback(e) {
          return (
            this.m_mapReviewCallback.has(e) ||
              this.m_mapReviewCallback.set(e, new Xt.pB()),
            this.m_mapReviewCallback.get(e)
          );
        }
        GetStateForApp(e) {
          return {
            invited: this.m_nInvitedAppIDs.includes(e),
            pruned: this.m_nPrunedAppIDs.includes(e),
            additionally_featured: this.m_nAdditionalFeaturedppIDs.includes(e),
            pending_review: this.m_nPendingReviewAppIDs.includes(e),
          };
        }
        async ChangeAppPruneState(e, t, a) {
          let n = null;
          try {
            const i = new FormData();
            i.append("sessionid", f.De.SESSIONID),
              i.append("appids", JSON.stringify(t)),
              i.append("opt_in_name", e),
              i.append("prune", a ? "0" : "1");
            const r = f.De.PARTNER_BASE_URL + "optin/ajaxpruneapp",
              l = await C().post(r, i, { withCredentials: !0 });
            if (200 == l?.status && 1 == l.data?.success)
              return (
                t.forEach((e) => {
                  if (this.m_nPendingReviewAppIDs.includes(e)) {
                    const t = this.m_nPendingReviewAppIDs.findIndex(
                      (t) => t == e,
                    );
                    this.m_nPendingReviewAppIDs.splice(t, 1),
                      (this.m_nPendingReviewAppIDs = [
                        ...this.m_nPendingReviewAppIDs,
                      ]);
                  }
                  if (a) {
                    if (this.m_nInvitedAppIDs.includes(e)) {
                      const t = this.m_nInvitedAppIDs.findIndex((t) => t == e);
                      this.m_nInvitedAppIDs.splice(t, 1),
                        (this.m_nInvitedAppIDs = [...this.m_nInvitedAppIDs]);
                    }
                    if (
                      ((this.m_nPrunedAppIDs = [...this.m_nPrunedAppIDs, e]),
                      this.m_nAdditionalFeaturedppIDs.includes(e))
                    ) {
                      const t = this.m_nAdditionalFeaturedppIDs.findIndex(
                        (t) => t == e,
                      );
                      this.m_nAdditionalFeaturedppIDs.splice(t, 1),
                        (this.m_nAdditionalFeaturedppIDs = [
                          ...this.m_nAdditionalFeaturedppIDs,
                        ]);
                    }
                  } else {
                    if (this.m_nPrunedAppIDs.includes(e)) {
                      const t = this.m_nPrunedAppIDs.findIndex((t) => t == e);
                      this.m_nPrunedAppIDs.splice(t, 1),
                        (this.m_nPrunedAppIDs = [...this.m_nPrunedAppIDs]);
                    }
                    this.m_nInvitedAppIDs = [...this.m_nInvitedAppIDs, e];
                  }
                  this.GetStateForAppCallback(e).Dispatch(
                    this.GetStateForApp(e),
                  );
                }),
                this.m_listCallback.Dispatch(this.GetAsConsolidatedList()),
                !0
              );
            n = (0, T.l)(l);
          } catch (e) {
            n = (0, T.l)(e);
          }
          return (
            console.error(
              "COptInAppReviewStore.ChangeAppPruneState failed: " +
                n?.strErrorMsg,
              n,
            ),
            !1
          );
        }
        async ChangeAppAdditionalFeaturingState(e, t, a, n) {
          let i = null;
          if (!n) {
            const e = t.filter((e) => this.m_nInvitedAppIDs.includes(e));
            if (e.length != t.length)
              return (
                console.error(
                  "ChangeAppAdditionalFeaturingState: Not all app are already invited. Cannot change to featuring.",
                  t,
                  e,
                  this.m_nInvitedAppIDs,
                ),
                11
              );
          }
          try {
            const n = new FormData();
            n.append("sessionid", f.De.SESSIONID),
              n.append("appids", JSON.stringify(t)),
              n.append("opt_in_name", e),
              n.append("feature", a ? "1" : "0");
            const r =
                f.De.PARTNER_BASE_URL +
                "optin/ajaxupdateadditionalfeaturingapps",
              l = await C().post(r, n, { withCredentials: !0 });
            if (200 == l?.status && 1 == l.data?.success)
              return (
                t.forEach((e) => {
                  if (a)
                    this.m_nAdditionalFeaturedppIDs.includes(e) ||
                      (this.m_nAdditionalFeaturedppIDs.push(e),
                      this.GetStateForAppCallback(e).Dispatch(
                        this.GetStateForApp(e),
                      ));
                  else {
                    const t = this.m_nAdditionalFeaturedppIDs.findIndex(
                      (t) => t == e,
                    );
                    this.m_nAdditionalFeaturedppIDs.splice(t, 1),
                      this.GetStateForAppCallback(e).Dispatch(
                        this.GetStateForApp(e),
                      );
                  }
                }),
                this.m_listCallback.Dispatch(this.GetAsConsolidatedList()),
                1
              );
            i = (0, T.l)(l);
          } catch (e) {
            i = (0, T.l)(e);
          }
          return (
            console.error(
              "COptInAppReviewStore.ChangeAppAdditionalFeaturingState failed: " +
                i?.strErrorMsg,
              i,
            ),
            2
          );
        }
        static s_Singleton;
        static Get() {
          return (
            Ir.s_Singleton ||
              ((Ir.s_Singleton = new Ir()),
              ("dev" != f.De.WEB_UNIVERSE && "beta" != f.De.WEB_UNIVERSE) ||
                (window.g_OptInAppReviewStores = Ir.s_Singleton)),
            Ir.s_Singleton
          );
        }
        constructor() {
          let e = JSON.parse(
            JSON.stringify(
              (0, f.kQ)("optin_invite_prune_list", "application_config"),
            ),
          );
          this.ValidateStoreDefault(e) &&
            ((this.m_nInvitedAppIDs =
              e.invited_appids?.map((e) =>
                "string" == typeof e ? Number.parseInt(e) : e,
              ) || []),
            (this.m_nPrunedAppIDs =
              e.pruned_appids?.map((e) =>
                "string" == typeof e ? Number.parseInt(e) : e,
              ) || []),
            (this.m_nAdditionalFeaturedppIDs =
              e.additionally_featured_appids?.map((e) =>
                "string" == typeof e ? Number.parseInt(e) : e,
              ) || []),
            (this.m_nPendingReviewAppIDs =
              e.pending_review_appids?.map((e) =>
                "string" == typeof e ? Number.parseInt(e) : e,
              ) || []));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            t &&
            "object" == typeof t &&
            (Array.isArray(t.invited_appids) || Array.isArray(t.pruned_appids))
          );
        }
      }
      function Cr() {
        return { fnChangeAppPruneState: Ir.Get().ChangeAppPruneState };
      }
      (0, B.gn)([Fe.a], Ir.prototype, "ChangeAppPruneState", null),
        (0, B.gn)(
          [Fe.a],
          Ir.prototype,
          "ChangeAppAdditionalFeaturingState",
          null,
        );
      var kr = a(9781),
        Ar = a(74031),
        wr = a(85305),
        Pr = a(47242),
        Tr = a(35181);
      const Nr = {
        include_basic_info: !0,
        include_assets: !0,
        include_tag_count: 10,
        include_release: !0,
      };
      function Rr(e) {
        const {
            rgOrderedAppIDs: t,
            fnSetFilteredAppID: a,
            rgNotToPruneList: n,
            pageid: i,
          } = e,
          [r, l] = s.useState(!0),
          o = (0, ua.T)("OptInAppReviewFilter");
        s.useEffect(() => {
          Ke.Z.Get()
            .QueueMultipleAppRequests(t?.slice(0, 100) || [], Nr)
            .then(() => {
              Ke.Z.Get()
                .QueueMultipleAppRequests(t?.slice(100) || [], Nr)
                .then(() => {
                  l(!1);
                });
            });
        }, [o.token.reason, i, t]);
        const [c, d] = s.useState(new Set()),
          [u, p] = s.useState(""),
          [_, h] = s.useState(0),
          [g, E] = s.useState(!1),
          [S, v] = s.useState(0);
        return (
          s.useEffect(() => {
            const e = u?.trim().length > 2,
              i = u?.toLocaleLowerCase(),
              r = Array.from(c),
              l = new Set(n || []);
            if (t.length > 0 && (c.size > 0 || e || _ || S)) {
              const n = t
                .filter((t) => {
                  if (e) {
                    const e = Ke.Z.Get().GetApp(t);
                    return (
                      e?.GetName()?.toLocaleLowerCase().indexOf(i) >= 0 ||
                      e
                        ?.GetDeveloperNames()
                        ?.some((e) => e.toLocaleLowerCase().indexOf(i) >= 0) ||
                      e
                        ?.GetPublisherNames()
                        ?.some((e) => e.toLocaleLowerCase().indexOf(i) >= 0) ||
                      e
                        ?.GetFranchiseNames()
                        ?.some((e) => e.toLocaleLowerCase().indexOf(i) >= 0) ||
                      e
                        ?.GetShortDescription()
                        ?.toLocaleLowerCase()
                        .indexOf(i) >= 0
                    );
                  }
                  return !0;
                })
                .filter((e) => {
                  if (r.length > 0) {
                    const t = Ke.Z.Get().GetApp(e);
                    return r.every((e) => t?.GetTagIDs().includes(e));
                  }
                  return !0;
                })
                .filter((e) => {
                  if (_ > 0) {
                    const t = Ke.Z.Get().GetApp(e);
                    return (
                      t &&
                      (t?.BIsComingSoon() ||
                        t?.GetOriginalReleaseDateRTime() > _)
                    );
                  }
                  return !0;
                })
                .filter((e) => !(g && l.size > 0) || !l.has(e));
              o.token.reason || a(n);
            }
          }, [g, o.token.reason, a, S, _, n, t, c, u]),
          s.createElement(
            pe.ug,
            { title: "Filter Options", bStartMinimized: !0 },
            Boolean(r)
              ? s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    m.__,
                    null,
                    (0, R.Xx)("#EventCalendar_UniversalSearch"),
                  ),
                  s.createElement(P.V, {
                    size: "small",
                    string: `Loading ${t?.length || 0} Apps`,
                  }),
                )
              : s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(m.II, {
                    type: "text",
                    label: (0, R.Xx)("#EventCalendar_UniversalSearch"),
                    placeholder: "search by app name, description",
                    value: u,
                    onChange: (e) => {
                      p(e.target.value), v(1);
                    },
                  }),
                  s.createElement(Gr, {
                    setFilterTagIDs: c,
                    fnUpdateSetFilterTagIDs: (e) => {
                      d(e), v(1);
                    },
                    rgAppIDs: t,
                    bLoading: r,
                  }),
                  s.createElement(Pe.A, {
                    strDescription: "Filter to games Released After:",
                    strDescToolTip:
                      "Allow us to review upcoming games and games that have released (or released into Early Access) after a point. This is useful when re-running a previously pruned event in a new year.",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => _,
                    fnSetTimeToUpdate: (e) => {
                      h(e), v(1);
                    },
                  }),
                  Boolean(n?.length > 0) &&
                    s.createElement(m.ji, {
                      checked: g,
                      onChange: (e) => {
                        E(e), v(1);
                      },
                      tooltip:
                        "This is a filter we only want to use in pruning that is done after we have notified partners about their inclusion. So if we communicated with a partner about the event, we don't want to be able to filter them out during a second round of pruning",
                      label: "Filter out previously emailed apps from pruning",
                    }),
                ),
          )
        );
      }
      function Gr(e) {
        const {
            setFilterTagIDs: t,
            fnUpdateSetFilterTagIDs: a,
            rgAppIDs: n,
            bLoading: i,
          } = e,
          { data: r } = (0, Ar.NH)(),
          l = s.useMemo(
            () =>
              i
                ? []
                : (function (e) {
                    const t = new Map();
                    return (
                      e.forEach((e) => {
                        const a = Ke.Z.Get().GetApp(e);
                        a?.GetTagIDs().forEach((e) => {
                          t.has(e)
                            ? (t.get(e).count += 1)
                            : t.set(e, { tagid: e, count: 1 });
                        });
                      }),
                      Array.from(t.values())
                    );
                  })(n).sort((e, t) => (e.count < t.count ? 1 : -1)),
            [n, i],
          ),
          o = s.useMemo(
            () =>
              l.map((e) => ({
                label:
                  (r?.get(e.tagid)?.name || "tagid: " + e.tagid) +
                  " (count: " +
                  e.count +
                  ")",
                value: e.tagid,
              })),
            [r, l],
          );
        return s.createElement(
          "div",
          { className: Tr.TagFilterBar },
          s.createElement(m.__, null, "Filter by Tag:"),
          s.createElement(ke.ZP, {
            isSearchable: !0,
            isLoading: i,
            isMulti: !0,
            isClearable: !0,
            value: o.filter((e) => t.has(e.value)),
            options: o,
            styles: { option: (e) => ({ ...e, color: "#444444" }) },
            onChange: (e) => {
              const t = new Set();
              e?.forEach((e) => t.add(e.value)), a(t);
            },
          }),
        );
      }
      var xr = a(26918),
        Lr = a(25232);
      function Br(e) {
        const { rgAppealReviewReg: t, pageid: a } = e,
          n = s.useMemo(
            () =>
              t.sort(
                (e, t) =>
                  e.jsondata.rtime_appeal_created -
                  t.jsondata.rtime_appeal_created,
              ),
            [t],
          );
        return s.createElement(
          "div",
          null,
          s.createElement(Or, { bShowPruningCriteria: !0 }),
          Boolean(n.length > 0)
            ? s.createElement(
                s.Fragment,
                null,
                n.map((e, t) =>
                  s.createElement(Fr, {
                    key: "appeal" + e.appid,
                    pageid: a,
                    registration: e,
                    index: t,
                  }),
                ),
              )
            : s.createElement(
                "span",
                null,
                (0, R.Xx)("#OptIn_AppReview_EmptyList"),
              ),
        );
      }
      const Mr = "app_review_elig_crit";
      function Or(e) {
        const { bShowPruningCriteria: t } = e,
          a = (0, Li.kQ)("optin_eligibility_criteria", "application_config"),
          [n, i] = (0, xr._)(Mr, !1);
        return t && a?.length > 1
          ? s.createElement(
              pe.mY,
              {
                title: "Pruning Eligibility Criteria",
                getMinimized: () => n,
                toggleMinimized: () => i(!n),
                className: Lr.CollapseableTitle,
              },
              s.createElement($i.d, { text: a }),
            )
          : null;
      }
      function Fr(e) {
        return s.createElement(
          Pr.Y,
          { placeholderHeight: "160px", rootMargin: "0px 0px 200px 0px" },
          s.createElement(Ur, { ...e, appid: e.registration.appid }),
        );
      }
      function Ur(e) {
        const { appid: t, pageid: a, index: n } = e,
          i = (0, ze._l)(t, a),
          [r, l] = (0, Qe.vs)(t, Nr),
          o = s.useMemo(() => ({ type: "game", id: t }), [t]);
        if (!i)
          return s.createElement("div", null, "Error: Missing registration");
        switch (l) {
          case 1:
            return s.createElement(
              "div",
              null,
              s.createElement(P.V, {
                position: "center",
                size: "small",
                string: (0, R.Xx)("#OptIn_AppReview_LoadingApp", t),
              }),
            );
          case 2:
            return s.createElement(
              "div",
              null,
              (0, R.Xx)("#OptIn_AppReview_FailedToLoadApp", t),
            );
        }
        return s.createElement(
          "div",
          { className: (0, v.Z)(Tr.Row) },
          s.createElement(
            wr.ll,
            { item: o },
            s.createElement("img", {
              className: Tr.CapsuleImg,
              src: r.GetAssets().GetMainCapsuleURL(),
            }),
          ),
          s.createElement(
            "div",
            { className: (0, v.Z)(Tr.Column) },
            s.createElement(
              "div",
              { className: Tr.TopSection },
              s.createElement(
                "div",
                { className: Tr.GameInfo },
                s.createElement(
                  "a",
                  { href: r.GetStorePageURL() },
                  s.createElement("div", { className: Tr.Title }, r.GetName()),
                ),
                s.createElement(
                  "div",
                  null,
                  (0, R.Xx)(
                    "#OptIn_AppReview_Developers",
                    r.GetDeveloperNames().join(","),
                  ),
                ),
                s.createElement(
                  "div",
                  null,
                  (0, R.Xx)(
                    "#OptIn_AppReview_Publishers",
                    r.GetPublisherNames().join(","),
                  ),
                ),
                s.createElement(
                  "div",
                  null,
                  (0, R.Xx)(
                    r.BIsComingSoon()
                      ? "#OptIn_AppReview_Comingsooon"
                      : "#OptIn_AppReview_Release",
                    r.GetFormattedSteamReleaseDate(),
                  ),
                ),
                s.createElement(
                  "div",
                  { className: Tr.Desc },
                  r.GetShortDescription(),
                ),
              ),
              s.createElement(
                "div",
                { className: Tr.ActionsCtn },
                Boolean(1 == i.appeal_state)
                  ? s.createElement("div", null, "Marked Approved")
                  : s.createElement(
                      m.zx,
                      {
                        onClick: (e) =>
                          (0, g.AM)(
                            s.createElement(Hr, {
                              appid: t,
                              registration: i,
                              bAcceptAppeal: !0,
                            }),
                            (0, D.RA)(e),
                          ),
                      },
                      (0, R.Xx)("#OptIn_AppReview_Appeal_Accept"),
                    ),
                Boolean(2 == i.appeal_state)
                  ? s.createElement("div", null, "Marked Denied")
                  : s.createElement(
                      m.zx,
                      {
                        onClick: (e) =>
                          (0, g.AM)(
                            s.createElement(Hr, {
                              appid: t,
                              registration: i,
                              bAcceptAppeal: !1,
                            }),
                            (0, D.RA)(e),
                          ),
                      },
                      (0, R.Xx)("#OptIn_AppReview_Appeal_Deny"),
                    ),
                Boolean(xe.L7.is_support) &&
                  s.createElement(
                    m.zx,
                    {
                      onClick: (e) =>
                        (0, g.AM)(
                          s.createElement(
                            w.uH,
                            {
                              strTitle: (0, R.Xx)("#OptIn_Debug"),
                              bAlertDialog: !0,
                            },
                            s.createElement(be.G, { data: i }),
                          ),
                          (0, D.RA)(e),
                        ),
                    },
                    "(VO) " + (0, R.Xx)("#OptIn_Debug"),
                  ),
              ),
            ),
            s.createElement(
              "div",
              { className: Tr.GameInfo },
              s.createElement(Kr, { storeItem: r }),
              s.createElement(
                "div",
                { className: Tr.AppealWordsCtn },
                s.createElement(
                  "div",
                  null,
                  (0, R.Xx)("#OptIn_AppReview_Appeal_text"),
                ),
                s.createElement("p", null, i.jsondata.appeal_message),
                s.createElement(
                  "div",
                  null,
                  (0, R.Xx)("#OptIn_AppReview_Appeal_createtime"),
                  " ",
                  (0, R.$1)(i.jsondata.rtime_appeal_created),
                ),
              ),
            ),
          ),
          s.createElement(
            "div",
            { className: Tr.RowNumber },
            (n + 1).toLocaleString(),
          ),
        );
      }
      function Hr(e) {
        const {
            appid: t,
            registration: a,
            bAcceptAppeal: n,
            closeModal: i,
          } = e,
          [r] = (0, Qe.vs)(t, Nr),
          { fnUpdateAppealState: l } = (0, ze.du)(),
          o = (0, He.tx)();
        return o.bLoading
          ? s.createElement(He.NT, {
              state: o,
              strDialogTitle: (0, R.Xx)("#SalePage_Quiz_SubmitResponse"),
              closeModal: i,
            })
          : s.createElement(w.uH, {
              strTitle: n
                ? (0, R.Xx)("#OptIn_AppReview_Appeal_Accept")
                : (0, R.Xx)("#OptIn_AppReview_Appeal_Deny"),
              strDescription: (0, R.Xx)(
                "#OptIn_AppReview_Appeal_DialogVerify",
                r?.GetName() || "" + t,
              ),
              onCancel: i,
              onOK: async () => {
                o.fnSetLoading(!0);
                (await l(t, a, n))
                  ? o.fnSetSuccess(!0)
                  : (o.fnSetError(!0),
                    o.fnSetStrError(
                      "Check console or network tab for details.",
                    ));
              },
            });
      }
      function Vr(e) {
        return s.createElement(
          "div",
          null,
          s.createElement(
            m.zx,
            {
              onClick: (t) =>
                (0, g.AM)(
                  s.createElement(Xr, { ...e, bInvite: !0 }),
                  (0, D.RA)(t),
                ),
            },
            (0, R.Xx)("#OptIn_AppReview_InviteAll"),
          ),
          s.createElement(
            m.zx,
            {
              onClick: (t) =>
                (0, g.AM)(
                  s.createElement(Xr, { ...e, bInvite: !1 }),
                  (0, D.RA)(t),
                ),
            },
            (0, R.Xx)("#OptIn_AppReview_PruneAll"),
          ),
        );
      }
      function Xr(e) {
        const { closeModal: t, rgAppIDs: a, strOptInName: n, bInvite: i } = e,
          { fnChangeAppPruneState: r } = Cr(),
          [l, o] = (0, s.useState)(void 0),
          [c, m] = (0, s.useState)(void 0),
          [d, u] = (0, s.useState)(void 0),
          p = (0, s.useCallback)(async () => {
            m(!0),
              r(n, a, !i)
                .then((e) => {
                  e || o((0, R.Xx)("#OptIn_AppReview_ErrorBatch"));
                })
                .finally(() => u(!0));
          }, [i, r, a, n]);
        return s.createElement(
          w.uH,
          {
            strTitle: (0, R.Xx)(
              i
                ? "#OptIn_AppReview_BatchInvite_Title"
                : "$OptIn_AppReview_BatchPrune_Title",
            ),
            strDescription: (0, R.Xx)("#OptIn_AppReview_Batch_Description"),
            bDisableBackgroundDismiss: !0,
            onCancel: t,
            bOKDisabled: c,
            onOK: p,
            strOKButtonText: (0, R.Xx)("#Update"),
          },
          Boolean(c && !d) &&
            s.createElement(P.V, {
              string: (0, R.Xx)("#Saving"),
              size: "medium",
            }),
          Boolean(l) &&
            s.createElement("div", { className: k.ErrorStylesBackground }, l),
          Boolean(d && !l) &&
            s.createElement(
              "div",
              null,
              (0, R.Xx)("#OptIn_AppReview_Batch_Success"),
            ),
        );
      }
      function jr(e) {
        const { pageid: t } = e,
          a = (0, f.kQ)("optin_title", "application_config"),
          {
            rgInvitedAppIDs: n,
            rgPrunedAppIDs: i,
            rgPendingReviewAppIDs: r,
          } = (function () {
            const [e, t] = s.useState(Ir.Get().GetAsConsolidatedList());
            return (
              (0, Ye.Qg)(Ir.Get().GetConsolidatedListCallback(), t),
              {
                rgInvitedAppIDs: e.invited_appids,
                rgPrunedAppIDs: e.pruned_appids,
                rgPendingReviewAppIDs: e.pending_review_appids,
              }
            );
          })(),
          { rgPendingReviewRegistrations: l, bIsInError: o } = (0, ze.nw)(t),
          { rgAppToNotPrune: c, bIsLoadError: m } = (function (e) {
            const t = (0, F.useQuery)({
              queryKey: ["usePartnerOptInEmailedApps", e],
              queryFn: () =>
                (async function (e) {
                  const t = { sessionid: f.De.SESSIONID, opt_in_name: e },
                    a =
                      f.De.PARTNER_BASE_URL + "optin/ajaxgetapplisttonotprune",
                    n = await C().get(a, { params: t, withCredentials: !0 });
                  return n?.data?.appids || [];
                })(e),
              retry: !1,
            });
            return {
              rgAppToNotPrune: t.isLoading ? null : t.data,
              bIsLoadError: t.isError,
            };
          })(t);
        s.useEffect(() => {
          (0, f.kQ)("optin_webapi_token", "application_config")
            ? (0, kr.a)(!0)
            : console.error("OptInAppReviewLanding missing API token");
        }, []);
        const u = s.useMemo(() => {
            if (l) {
              const e = new Map();
              return l.forEach((t) => e.set(t.appid, t)), e;
            }
            return null;
          }, [l]),
          p = s.useMemo(
            () =>
              u
                ? r.filter((e) => {
                    if (!u.has(e)) return !0;
                    const t = u.get(e);
                    return Boolean(
                      !t.jsondata || !t.jsondata.accountid_appealing,
                    );
                  })
                : null,
            [u, r],
          ),
          _ = s.useMemo(
            () => l?.filter((e) => e.jsondata?.accountid_appealing),
            [l],
          );
        if (o || m)
          return (
            console.log(`OptInAppReviewLanding Review: ${o} NotPrune: ${m}`),
            s.createElement(
              "div",
              null,
              "Failed to loading pending review data.  User likely does not have sufficient permissions.",
            )
          );
        if (!(c && (r || n || i) && l && p))
          return s.createElement(P.V, {
            string: "Loading",
            size: "medium",
            position: "center",
          });
        const h = (e) =>
            window.sessionStorage.setItem("appreviewtab", `?tab=${e.key}`),
          g = [
            {
              name: (0, R.Xx)(
                "#OptIn_AppReview_PendingReviewApps",
                p?.length || 0,
              ),
              key: "review",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(qr, {
                  key: "reviewapp",
                  rgOrderedAppIDs: p,
                  pageid: t,
                  bPruned: !1,
                  bPendingReview: !0,
                  bShowPruningCriteria: !0,
                }),
              ),
              onClick: h,
            },
            {
              name: (0, R.Xx)(
                "#OptIn_AppReview_PendingAppealReview",
                _?.length || 0,
              ),
              key: "appeal",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(Br, {
                  key: "appealmap",
                  rgAppealReviewReg: _,
                  pageid: t,
                }),
              ),
              onClick: h,
            },
            {
              name: (0, R.Xx)("#OptIn_AppReview_InvitedApps", n?.length || 0),
              key: "invited",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(qr, {
                  key: "invitedapps",
                  rgOrderedAppIDs: n,
                  pageid: t,
                  bPruned: !1,
                  bPendingReview: !1,
                  rgNotToPruneList: c,
                }),
              ),
              onClick: h,
            },
            {
              name: (0, R.Xx)("#OptIn_AppReview_PrunedApps", i?.length || 0),
              key: "pruned",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(qr, {
                  key: "prunedapps",
                  rgOrderedAppIDs: i,
                  pageid: t,
                  bPruned: !0,
                  bPendingReview: !1,
                }),
              ),
              onClick: h,
            },
          ];
        return s.createElement(
          "div",
          { className: we().AdminPageCtn },
          s.createElement(
            "div",
            { className: we().PageTitle },
            (0, R.Xx)("#OptIn_AppReview", a),
          ),
          s.createElement(
            "div",
            { className: we().PageSubTitle },
            "Use the 'Prune' option to remove eligibility for that game. Pruned titles will not be eligible, invited, or receive any communication about this event.",
          ),
          s.createElement(E.n, { tabs: g }),
        );
      }
      function qr(e) {
        const {
            rgOrderedAppIDs: t,
            pageid: a,
            bPruned: n,
            rgNotToPruneList: i,
            bPendingReview: r,
            bShowPruningCriteria: l,
          } = e,
          [o, c] = s.useState(null),
          m = o ?? t;
        return s.createElement(
          "div",
          null,
          Boolean(r) && s.createElement(Vr, { strOptInName: a, rgAppIDs: m }),
          s.createElement(Or, { bShowPruningCriteria: l }),
          s.createElement(Rr, {
            pageid: a,
            rgOrderedAppIDs: t,
            fnSetFilteredAppID: c,
            rgNotToPruneList: i,
          }),
          m?.length > 0
            ? s.createElement(
                s.Fragment,
                null,
                m.map((e, t) =>
                  s.createElement(Wr, {
                    key: (n ? "prune" : "invited") + e,
                    pageid: a,
                    appid: e,
                    bInvited: !n && !r,
                    bPendingReview: r,
                    index: t,
                  }),
                ),
              )
            : s.createElement(
                "span",
                null,
                (0, R.Xx)("#OptIn_AppReview_EmptyList"),
              ),
        );
      }
      function Wr(e) {
        return s.createElement(
          Pr.Y,
          { placeholderHeight: "160px", rootMargin: "0px 0px 200px 0px" },
          s.createElement(zr, { ...e }),
        );
      }
      function zr(e) {
        const {
            appid: t,
            bInvited: a,
            pageid: n,
            index: i,
            bPendingReview: r,
          } = e,
          [l, o] = (0, Qe.vs)(t, Nr),
          { fnChangeAppPruneState: c } = Cr(),
          d = s.useMemo(() => ({ type: "game", id: t }), [t]);
        switch (o) {
          case 1:
            return s.createElement(
              "div",
              null,
              s.createElement(P.V, {
                position: "center",
                size: "small",
                string: (0, R.Xx)("#OptIn_AppReview_LoadingApp", t),
              }),
            );
          case 2:
            return s.createElement(
              "div",
              null,
              (0, R.Xx)("#OptIn_AppReview_FailedToLoadApp", t),
            );
        }
        return s.createElement(
          "div",
          { className: (0, v.Z)(Tr.Row, a ? Tr.Invited : Tr.Pruned) },
          s.createElement(
            wr.ll,
            { item: d },
            s.createElement("img", {
              className: Tr.CapsuleImg,
              src: l.GetAssets().GetMainCapsuleURL(),
            }),
          ),
          s.createElement(
            "div",
            { className: (0, v.Z)(Tr.Column) },
            s.createElement(
              "div",
              { className: Tr.TopSection },
              s.createElement(
                "div",
                { className: Tr.GameInfo },
                s.createElement(
                  "a",
                  { href: l.GetStorePageURL() },
                  s.createElement("div", { className: Tr.Title }, l.GetName()),
                ),
                s.createElement(
                  "div",
                  null,
                  (0, R.Xx)(
                    "#OptIn_AppReview_Developers",
                    l.GetDeveloperNames().join(","),
                  ),
                ),
                s.createElement(
                  "div",
                  null,
                  (0, R.Xx)(
                    "#OptIn_AppReview_Publishers",
                    l.GetPublisherNames().join(","),
                  ),
                ),
                s.createElement(
                  "div",
                  null,
                  (0, R.Xx)(
                    l.BIsComingSoon()
                      ? "#OptIn_AppReview_Comingsooon"
                      : "#OptIn_AppReview_Release",
                    l.GetFormattedSteamReleaseDate(),
                  ),
                ),
              ),
              s.createElement(
                "div",
                { className: Tr.ActionsCtn },
                s.createElement(
                  m.zx,
                  { onClick: () => c(n, [t], a || r) },
                  (0, R.Xx)(
                    a || r
                      ? "#OptIn_AppReview_Prune"
                      : "#OptIn_AppReview_Unprune",
                  ),
                ),
                Boolean(r) &&
                  s.createElement(
                    m.zx,
                    { onClick: () => c(n, [t], !1) },
                    (0, R.Xx)("#OptIn_AppReview_Invite"),
                  ),
                Boolean(f.L7.is_support && a) &&
                  s.createElement(Zr, { appid: t, pageid: n }),
              ),
            ),
            s.createElement(
              "div",
              { className: Tr.GameInfo },
              s.createElement(
                "div",
                { className: Tr.Desc },
                l.GetShortDescription(),
              ),
              s.createElement(Kr, { storeItem: l }),
            ),
          ),
          s.createElement(
            "div",
            { className: Tr.RowNumber },
            (i + 1).toLocaleString(),
          ),
        );
      }
      function Zr(e) {
        const { appid: t, pageid: a } = e,
          n = (function (e) {
            const [t, a] = (0, s.useState)(Ir.Get().GetStateForApp(e));
            return (0, Ye.Qg)(Ir.Get().GetStateForAppCallback(e), a), t;
          })(t),
          { fnChangeAppAdditionalFeaturingState: i } = {
            fnChangeAppAdditionalFeaturingState:
              Ir.Get().ChangeAppAdditionalFeaturingState,
          };
        return s.createElement(
          "div",
          { className: we().ValveOnlyBackground },
          s.createElement(
            m.zx,
            {
              onClick: () => {
                i(a, [t], !n.additionally_featured)
                  .then((e) => {
                    1 != e &&
                      (0, g.AM)(
                        s.createElement(w.JX, {
                          strDescription:
                            "Check the console for error messages",
                        }),
                        window,
                      );
                  })
                  .catch(() =>
                    (0, g.AM)(
                      s.createElement(w.JX, {
                        strDescription: "Check the console for error messages",
                      }),
                      window,
                    ),
                  );
              },
            },
            (0, R.Xx)(
              n.additionally_featured
                ? "❌ Remove App Featuring"
                : "➕ Add App Featuring",
            ),
          ),
        );
      }
      function Kr(e) {
        const { storeItem: t } = e,
          a = s.useMemo(() => t?.GetTags().map((e) => e.tagid), [t]),
          n = (0, Ar.Eq)(a);
        return s.createElement(
          "div",
          { className: Tr.StoreTags },
          (0, R.kQ)(
            "#OptIn_AppReview_Tags",
            s.createElement(
              s.Fragment,
              null,
              n.map((e) =>
                s.createElement("span", { key: "tag" + e.tagid }, e.name),
              ),
            ),
          ),
        );
      }
      var Qr = a(79397),
        Yr = a.n(Qr),
        Jr = a(3897),
        $r = a.n(Jr);
      function el(e) {
        const {
            storeItem: t,
            closeModal: a,
            optInDef: n,
            optInRegistration: i,
          } = e,
          [r, l] = (0, s.useState)(""),
          { fnUpdateOptInRegistrationJson: o } = (0, ze.dS)(),
          c = (0, te.Xj)(n.event_title, (0, ae.jM)(xe.De.LANGUAGE)),
          m = (0, He.tx)();
        return m.bLoading
          ? s.createElement(He.NT, {
              state: m,
              strDialogTitle: (0, R.Xx)(
                "#OptIn_Appeals_Control_Title",
                t.GetName(),
              ),
              closeModal: a,
            })
          : s.createElement(
              w.uH,
              {
                strTitle: (0, R.Xx)(
                  "#OptIn_Appeals_Control_Title",
                  t.GetName(),
                ),
                strOKButtonText: (0, R.Xx)("#OptIn_Appeals_Dialog_Submit"),
                bDisableBackgroundDismiss: !0,
                onCancel: a,
                onOK: async () => {
                  m.fnSetLoading(!0);
                  try {
                    const e = JSON.parse(
                      JSON.stringify(
                        "" !== i.jsondata && i.jsondata ? i.jsondata : {},
                      ),
                    );
                    (e.accountid_appealing = xe.L7.accountid),
                      (e.rtime_appeal_created = Math.floor(Date.now() / 1e3)),
                      (e.appeal_message = r),
                      (e.opt_in_name = n.pageid);
                    null == (await o(t.GetAppID(), e, !0))
                      ? (m.fnSetSuccess(!0),
                        m.fnSetStrSuccess(
                          (0, R.Xx)("#OptIn_Appeals_Control_Submitted"),
                        ))
                      : (m.fnSetError(!0),
                        m.fnSetStrError(
                          (0, R.Xx)("#OptIn_Appeals_Dialog_Failed"),
                        ));
                  } catch (e) {
                    const t = (0, T.l)(e);
                    console.error(
                      "OptInAppealsCreateDialog error " + t.strErrorMsg,
                      t,
                      e,
                    ),
                      m.fnSetError(!0),
                      m.fnSetStrError(
                        (0, R.Xx)("#OptIn_Appeals_Dialog_Failed"),
                      );
                  }
                },
              },
              s.createElement(
                "div",
                { className: $r().AppealsEntryForm },
                s.createElement(
                  "p",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_Dialog_Desc"),
                ),
                s.createElement(
                  "p",
                  null,
                  (0, R.yu)(
                    "#OptIn_Appeals_Dialog_Desc2",
                    s.createElement("a", { href: t.GetStorePageURL() }),
                    s.createElement("a", {
                      href: `${xe.De.PARTNER_BASE_URL}taxonomy/tagwizard/${t.GetAppID()}`,
                    }),
                  ),
                ),
                s.createElement(
                  "h3",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_Dialog_InputTitle"),
                ),
                s.createElement(
                  "p",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_Dialog_InputDesc"),
                ),
                s.createElement("textarea", {
                  value: r,
                  className: $r().AppealTextInput,
                  onChange: (e) => {
                    l(e.currentTarget.value);
                  },
                  ref: (e) => e && e.focus(),
                }),
                s.createElement(
                  "h3",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_Control_ReviewProcessTitle"),
                ),
                s.createElement(
                  "p",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_Control_Submitted_Desc", c),
                ),
              ),
            );
      }
      function tl(e) {
        const {
            optInDef: t,
            optInRegistration: a,
            storeItem: n,
            closeModal: i,
            bReject: r,
          } = e,
          { fnUpdateOptInRegistrationJson: l } = (0, ze.dS)(),
          o = (0, He.tx)();
        return o.bLoading
          ? s.createElement(He.NT, {
              state: o,
              strDialogTitle: (0, R.Xx)(
                r ? "Rejecting Appeal Data" : "Clearing Appeal Data",
                n.GetName(),
              ),
              closeModal: i,
            })
          : s.createElement(w.uH, {
              strTitle: r ? "Reject Appear" : "Clear Appeal data?",
              strDescription: "Are you sure?",
              bDisableBackgroundDismiss: !0,
              onCancel: i,
              onOK: async () => {
                o.fnSetLoading(!0);
                try {
                  const e = JSON.parse(
                    JSON.stringify(
                      "" !== a.jsondata && a.jsondata ? a.jsondata : {},
                    ),
                  );
                  (e.accountid_appealing = void 0),
                    (e.rtime_appeal_created = void 0),
                    (e.appeal_message = void 0),
                    (e.opt_in_name = t.pageid),
                    (e.appeal_rejected = void 0),
                    (e.reject_accountid = void 0);
                  null == (await l(n.GetAppID(), e, !1))
                    ? (o.fnSetSuccess(!0),
                      o.fnSetStrSuccess(
                        (0, R.Xx)("#OptIn_Appeals_Control_Submitted"),
                      ))
                    : (o.fnSetError(!0),
                      o.fnSetStrError(
                        (0, R.Xx)("#OptIn_Appeals_Dialog_Failed"),
                      ));
                } catch (e) {
                  const t = (0, T.l)(e);
                  console.error(
                    "ClearAppealDialog error " + t.strErrorMsg,
                    t,
                    e,
                  ),
                    o.fnSetError(!0),
                    o.fnSetStrError((0, R.Xx)("#OptIn_Appeals_Dialog_Failed"));
                }
              },
            });
      }
      function al(e) {
        const { optInDef: t } = e,
          a = (0, Be.fV)(t);
        return s.createElement(
          "div",
          { className: we().RightCol },
          s.createElement(
            "div",
            { className: we().ColHeader },
            Boolean(a) &&
              s.createElement("div", {
                className: we().ColHeaderImg,
                style: { backgroundImage: `url( '${a}' )` },
              }),
          ),
          s.createElement(
            "div",
            { className: we().SectionCtn },
            s.createElement(nl, { ...e }),
            Boolean(xe.L7.is_support) && s.createElement(il, { ...e }),
          ),
        );
      }
      function nl(e) {
        const { optInDef: t } = e;
        return s.createElement(dl, { optInDef: t });
      }
      function il(e) {
        const { optInDef: t, optInRegistration: a } = e,
          { fnUpdateAppToInvitation: n } = We();
        return s.createElement(
          s.Fragment,
          null,
          s.createElement("br", null),
          s.createElement("br", null),
          s.createElement(
            "div",
            { className: _().ValveOnlyBackground },
            s.createElement(
              "ul",
              null,
              s.createElement(
                "li",
                null,
                s.createElement(
                  "a",
                  {
                    href: `${xe.De.PARTNER_BASE_URL}optin/admin/edit/${t.pageid}`,
                  },
                  "Edit OptIn Definition",
                ),
              ),
              s.createElement(
                "li",
                null,
                s.createElement(
                  "a",
                  {
                    href: `${xe.De.PARTNER_BASE_URL}optin/appreview/${t.pageid}?tab=appeal`,
                  },
                  "Go to Appeals Review Page",
                ),
              ),
            ),
            s.createElement("br", null),
            s.createElement(
              m.zx,
              {
                onClick: (t) =>
                  (0, g.AM)(s.createElement(rl, { ...e }), (0, D.RA)(t)),
              },
              "(VO) Invite App to Participate",
            ),
            s.createElement("br", null),
            s.createElement(
              m.zx,
              {
                onClick: (e) =>
                  (0, g.AM)(
                    s.createElement(
                      w.uH,
                      { strTitle: (0, R.Xx)("#OptIn_Debug"), bAlertDialog: !0 },
                      s.createElement(be.G, { data: a }),
                    ),
                    (0, D.RA)(e),
                  ),
              },
              "(VO) " + (0, R.Xx)("#OptIn_Debug"),
            ),
            s.createElement(
              m.zx,
              {
                onClick: (e) =>
                  (0, g.AM)(
                    s.createElement(
                      w.uH,
                      {
                        strTitle: (0, R.Xx)("#OptIn_Def_Debug"),
                        bAlertDialog: !0,
                      },
                      s.createElement(be.G, { data: t }),
                    ),
                    (0, D.RA)(e),
                  ),
              },
              "(VO) " + (0, R.Xx)("#OptIn_Def_Debug"),
            ),
            Boolean(a.jsondata.accountid_appealing) &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  m.zx,
                  {
                    onClick: (t) =>
                      (0, g.AM)(
                        s.createElement(tl, { bReject: !1, ...e }),
                        (0, D.RA)(t),
                      ),
                  },
                  "Clear Appeal Data",
                ),
                s.createElement(
                  m.zx,
                  {
                    onClick: (e) =>
                      (0, g.AM)(
                        s.createElement(Hr, {
                          appid: a.appid,
                          registration: a,
                          bAcceptAppeal: !0,
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Accept Appeal and Email Requested",
                ),
                s.createElement(
                  m.zx,
                  {
                    onClick: (e) =>
                      (0, g.AM)(
                        s.createElement(Hr, {
                          appid: a.appid,
                          registration: a,
                          bAcceptAppeal: !1,
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "REJECT Appeal and Email Requested",
                ),
              ),
          ),
        );
      }
      function rl(e) {
        const { optInDef: t, optInRegistration: a, closeModal: n } = e,
          { fnUpdateAppToInvitation: i } = We(),
          r = (0, He.tx)();
        return r.bLoading
          ? s.createElement(He.NT, {
              state: r,
              strDialogTitle: "Inviting App to Participate",
              closeModal: n,
            })
          : s.createElement(
              w.uH,
              {
                strTitle: "Invite App to Participate",
                onCancel: n,
                onOK: () => {
                  r.fnSetLoading(!0),
                    i(t.pageid, [a.appid], !0, !1, !1)
                      .then((e) => {
                        1 == e
                          ? r.fnSetElSuccess(
                              s.createElement(
                                "div",
                                null,
                                s.createElement(
                                  "span",
                                  null,
                                  "Success. Please reload the page to verify.",
                                ),
                                s.createElement("br", null),
                                s.createElement(
                                  "a",
                                  {
                                    href: `${xe.De.PARTNER_BASE_URL}optin/sale/${t.pageid}/${a.appid}`,
                                  },
                                  "Or go to registration Page.",
                                ),
                              ),
                            )
                          : r.fnSetStrError("Failed with error code: " + e);
                      })
                      .catch(() =>
                        r.fnSetStrError(
                          "failed with exception, check console ouput.",
                        ),
                      );
                },
              },
              s.createElement(
                "div",
                null,
                "Confirm we want to invite this appear to register for ",
                t.event_title?.english,
                "? They will need to perform the registration after you invite completes",
              ),
            );
      }
      function ll(e) {
        const { appid: t, pageid: a } = e,
          [n] = (0, Qe.vs)(t, { include_release: !0, include_assets: !0 }),
          i = (0, f.kQ)("eligible_due_optin_def", "application_config"),
          r = (0, l.r)(a),
          o = (0, ze.Rz)(t, a);
        if (!r)
          return s.createElement(
            "div",
            null,
            (0, R.Xx)("#OptIn_Appeals_DoesNotExist", a),
          );
        const c = (0, te.Xj)(r.event_title, (0, ae.jM)(xe.De.LANGUAGE)),
          m = Math.floor(Date.now() / 1e3);
        return r.event_end_date < m
          ? s.createElement("div", null, (0, R.Xx)("#OptIn_Appeals_IsOver"))
          : n
            ? o.invited || o.opt_in || o.time_opted_out || i
              ? s.createElement(
                  "div",
                  null,
                  s.createElement(
                    "div",
                    null,
                    (0, R.Xx)(
                      "#OptIn_Appeals_AlreadyPartOfEvent",
                      n.GetName(),
                      c,
                    ),
                  ),
                  s.createElement(
                    "a",
                    { href: `${xe.De.PARTNER_BASE_URL}optin/sale/${a}/${t}` },
                    (0, R.Xx)("#OptIn_Appeals_RegistrationPage"),
                  ),
                )
              : s.createElement(
                  "div",
                  { className: we().AdminPageCtn },
                  s.createElement(
                    "div",
                    { className: we().PageTitle },
                    n.GetName(),
                    " (",
                    t,
                    ")",
                    s.createElement(
                      "span",
                      null,
                      (0, R.Xx)("#OptIn_Appeals_Title", c),
                    ),
                  ),
                  s.createElement("hr", null),
                  s.createElement(sl, {
                    optInDef: r,
                    optInRegistration: o,
                    storeItem: n,
                  }),
                )
            : s.createElement(P.V, {
                position: "center",
                string: (0, R.Xx)("#Loading"),
              });
      }
      function sl(e) {
        const { optInDef: t, optInRegistration: a, storeItem: n } = e,
          i = (0, te.Xj)(t.event_title, (0, ae.jM)(xe.De.LANGUAGE)),
          r = (0, Be.fV)(t),
          l = Boolean(a.jsondata?.rtime_appeal_created),
          o = Boolean(2 === a.appeal_state);
        let c = "#OptIn_Appeals_Title_Pruned";
        return (
          (a.accountid_appeal && 1 != a.appeal_state && 2 != a.appeal_state) ||
          (l && !o)
            ? (c = "#OptIn_Appeals_Title_AppealProcess")
            : (!a.pending_review && a.pruned) ||
              (c = "#OptIn_Appeals_Title_NotReviewed"),
          s.createElement(
            "div",
            { className: we().ColumnCtn },
            s.createElement(
              "div",
              { className: we().LeftCol },
              s.createElement(
                "div",
                { className: we().ColHeader },
                Boolean(r)
                  ? s.createElement("div", {
                      className: we().ColHeaderImg,
                      style: { backgroundImage: `url( '${r}' )` },
                    })
                  : Boolean(i) && s.createElement("div", null, i),
              ),
              s.createElement(
                "div",
                { className: (0, v.Z)(we().SectionCtn, Yr().AppealSummaryCtn) },
                s.createElement("img", {
                  className: Yr().CapsuleImg,
                  src: n?.GetAssets().GetHeaderURL(),
                }),
                s.createElement(
                  "div",
                  { className: Yr().AppealTitle },
                  (0, R.Xx)(c),
                ),
              ),
              !l && s.createElement(ol, { ...e }),
              s.createElement(cl, { ...e }),
            ),
            s.createElement(al, { ...e }),
          )
        );
      }
      function ol(e) {
        const { optInDef: t, storeItem: a, optInRegistration: n } = e;
        Boolean(n.jsondata?.rtime_appeal_created);
        let i = "#OptIn_Appeals_ReviewLine";
        (!n.pending_review && n.pruned) ||
          (i = "#OptIn_Appears_NotReviewed_ReviewLine");
        const r = (0, te.Xj)(t.event_title, (0, ae.jM)(xe.De.LANGUAGE)),
          l = (0, te.Xj)(t.appeals_text, (0, ae.jM)(xe.De.LANGUAGE), null);
        return s.createElement(
          "div",
          { className: we().SectionCtn },
          s.createElement("h1", null, (0, R.Xx)(i, a.GetName())),
          s.createElement("p", null, (0, R.Xx)("#OptIn_Appeals_ReviewLine_1")),
          s.createElement("p", null, (0, R.Xx)("#OptIn_Appeals_ReviewLine_1a")),
          s.createElement(
            "ul",
            { className: "bullets" },
            s.createElement(
              "li",
              null,
              (0, R.yu)(
                "#OptIn_Appeals_ReviewLine_2",
                s.createElement("a", {
                  href: `${xe.De.PARTNER_BASE_URL}taxonomy/tagwizard/${a.GetAppID()}`,
                }),
                s.createElement("b", null),
              ),
            ),
            s.createElement(
              "li",
              null,
              (0, R.yu)(
                "#OptIn_Appeals_ReviewLine_3",
                s.createElement("b", null),
              ),
            ),
          ),
          s.createElement("br", null),
          Boolean(l) &&
            s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "h1",
                null,
                (0, R.Xx)("#OptIn_Appeals_EligibilityTitle", r),
              ),
              s.createElement($i.d, { text: l }),
            ),
        );
      }
      function cl(e) {
        const { optInDef: t, optInRegistration: a, storeItem: n } = e;
        let i = !1;
        if (
          t.release_date_eligibility?.include_unreleased_games &&
          t.release_date_eligibility.release_after_date
        )
          if (n.BIsComingSoon()) {
            const e = (0, f.kQ)("rt_steam_release_date", "application_config");
            if (e < t.release_date_eligibility.release_after_date) {
              if (e > Math.floor(Date.now() / 1e3))
                return s.createElement(
                  "div",
                  { className: we().SectionCtn },
                  s.createElement(
                    "h1",
                    null,
                    (0, R.Xx)("#OptIn_Appeals_NotPossible_Title"),
                  ),
                  s.createElement(
                    "div",
                    { className: we().warning },
                    s.createElement(
                      "p",
                      null,
                      (0, R.Xx)(
                        "#OptIn_Appeals_NotPossible_Desc1",
                        (0, R.$1)(
                          t.release_date_eligibility.release_after_date,
                        ),
                      ),
                      " ",
                      (0, R.Xx)("#OptIn_Appeals_NotPossible_Desc2"),
                    ),
                    s.createElement(
                      "p",
                      null,
                      (0, R.yu)(
                        "#OptIn_Appeals_NotPossible_Desc3",
                        s.createElement("a", {
                          href:
                            xe.De.PARTNER_BASE_URL + "doc/store/release_dates",
                        }),
                      ),
                    ),
                  ),
                );
              i = !0;
            }
          } else if (
            !t.release_date_eligibility.include_released_games &&
            n.BIsReleased()
          )
            return s.createElement(
              "div",
              { className: we().SectionCtn },
              s.createElement(
                "h1",
                null,
                (0, R.Xx)("#OptIn_Appeals_NotPossible_Title"),
              ),
              s.createElement(
                "div",
                { className: we().warning },
                s.createElement(
                  "p",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_NotPossible_Desc4"),
                ),
              ),
            );
        return s.createElement(ml, { ...e, bShowReleaseDatePassed: i });
      }
      function ml(e) {
        const {
            optInDef: t,
            optInRegistration: a,
            storeItem: n,
            bShowReleaseDatePassed: i,
          } = e,
          r = Boolean(a.jsondata?.rtime_appeal_created),
          l = Boolean(2 === a.appeal_state),
          o = (0, te.Xj)(t.event_title, (0, ae.jM)(xe.De.LANGUAGE));
        let c = "#OptIn_Appeals_Control_Title",
          d = "#OptIn_Appeals_Control_Desc";
        return (
          2 == a.appeal_state
            ? ((c = "#OptIn_Appeals_Control_Rejected_Title"),
              (d = "#OptIn_Appeals_Control_Rejected_Desc"))
            : (!a.pending_review && a.pruned) ||
              (c = "#OptIn_Appeals_Control_NotReviewed_Title"),
          s.createElement(
            "div",
            { className: we().SectionCtn },
            !r &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement("h1", null, (0, R.Xx)(c, n.GetName())),
                s.createElement("p", null, (0, R.Xx)(d, n.GetName())),
              ),
            Boolean(i) &&
              s.createElement(
                "div",
                { className: we().warning },
                s.createElement(
                  "h3",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_Possible_WarningTitle"),
                ),
                s.createElement(
                  "p",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_Possible_warning"),
                ),
                s.createElement(
                  "p",
                  null,
                  (0, R.yu)(
                    "#OptIn_Appeals_NotPossible_Desc3",
                    s.createElement("a", {
                      href: xe.De.PARTNER_BASE_URL + "doc/store/release_dates",
                    }),
                  ),
                ),
              ),
            Boolean(!r) &&
              s.createElement(
                "div",
                { className: Yr().ButtonCtn },
                s.createElement(
                  m.KM,
                  {
                    onClick: (t) =>
                      (0, g.AM)(s.createElement(el, { ...e }), (0, D.RA)(t)),
                  },
                  (0, R.Xx)("#OptIn_Appeals_Control_Button"),
                ),
              ),
            Boolean(r && !l) &&
              s.createElement(
                "div",
                { className: (0, v.Z)(Yr().AppealResults, Yr().Submitted) },
                s.createElement(
                  "h2",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_Control_Submitted_Title"),
                ),
                s.createElement(
                  "p",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_Control_Submitted_Desc", o),
                ),
              ),
            Boolean(l) &&
              s.createElement(
                "div",
                { className: (0, v.Z)(Yr().AppealResults, Yr().Declined) },
                s.createElement(
                  "h2",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_Control_Declined"),
                ),
                s.createElement(
                  "p",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_Control_Declined_Desc1", o),
                ),
                s.createElement(
                  "p",
                  null,
                  (0, R.yu)(
                    "#OptIn_Appeals_Control_Declined_Desc2",
                    s.createElement("a", {
                      href: "https://partner.steamgames.com/doc/marketing/upcoming_events",
                    }),
                  ),
                ),
              ),
          )
        );
      }
      function dl(e) {
        const { optInDef: t } = e,
          a = (0, te.Xj)(t.event_title, (0, ae.jM)(xe.De.LANGUAGE)),
          n = t.public_doc_wiki_url,
          i = (0, te.Xj)(t.help_text, (0, ae.jM)(xe.De.LANGUAGE), null);
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            { className: we().TitleSmall },
            (0, R.Xx)("#DiscountDashboard_HelpAreaText"),
          ),
          Boolean(n) &&
            s.createElement(
              "div",
              null,
              (0, R.kQ)(
                "#OptIn_Appeals_HelpDoc",
                s.createElement(
                  "a",
                  { href: n },
                  (0, R.Xx)("#OptIn_Appeals_HelpDoc_link", a),
                ),
              ),
            ),
          Boolean(i)
            ? s.createElement("div", null, s.createElement($i.d, { text: i }))
            : s.createElement(
                "p",
                null,
                (0, R.yu)(
                  "#OptIn_Appeals_HelpDoc_General",
                  s.createElement("a", {
                    href: "https://partner.steamgames.com/doc/marketing/upcoming_events/themed_sales",
                  }),
                ),
              ),
          s.createElement(
            "div",
            { className: we().TitleSmall },
            (0, R.Xx)("#OptIn_Appeals_HelpDoc_NeedHelp"),
          ),
          s.createElement(
            "a",
            {
              href:
                xe.De.HELP_BASE_URL +
                "en/wizard/HelpWithPublishing?issueid=933",
            },
            (0, R.Xx)("#PricingDashboard_ContactUsButton"),
          ),
        );
      }
      function ul(e) {
        const t = e;
        return (
          t &&
          Array.isArray(t) &&
          t.length > 0 &&
          "number" == typeof t[0].appid &&
          "string" == typeof t[0].app_name
        );
      }
      function pl() {
        const [e, t] = (0, s.useState)(null);
        return (
          (0, s.useEffect)(() => {
            const e = (0, f.ip)("optin_registered", "application_config");
            ul(e) &&
              ("dev" === f.De.WEB_UNIVERSE &&
                console.log(
                  "useOptInRegistrationForDashboardNotPruned has " + e.length,
                ),
              t(
                e
                  .map((e) =>
                    e.jsondata && "" !== e.jsondata
                      ? { ...e, jsondata: JSON.parse(e.jsondata) }
                      : { ...e, jsondata: {} },
                  )
                  .filter((e) => e.jsondata?.opt_in),
              ));
          }, []),
          e
        );
      }
      var _l = a(86437),
        hl = a(47986);
      function gl(e) {
        const { pageid: t } = e,
          a = (0, l.r)(t),
          n = (0, s.useMemo)(
            () => (0, f.kQ)("partner_id", "application_config"),
            [],
          ),
          [i] = (0, Ga.DV)(n);
        if (!a)
          return s.createElement(
            "div",
            null,
            (0, R.Xx)("#OptIn_Appeals_DoesNotExist", t),
          );
        const r = (0, te.Xj)(a.event_title, (0, ae.jM)(xe.De.LANGUAGE));
        return s.createElement(
          "div",
          { className: we().AdminPageCtn },
          s.createElement(
            "div",
            { className: we().PageTitle },
            (0, R.Xx)("#OptIn_Title", r),
          ),
          s.createElement(
            "div",
            null,
            (0, R.Xx)("#OptIn_DashBoard", i.name || "", n),
          ),
          s.createElement("hr", null),
          s.createElement(El, { optInDef: a }),
        );
      }
      function El(e) {
        const { optInDef: t } = e,
          a = Math.floor(Date.now() / 1e3);
        return t.event_end_date < a
          ? s.createElement("div", null, (0, R.Xx)("#OptIn_Appeals_IsOver"))
          : s.createElement(
              "div",
              { className: we().ColumnCtn },
              s.createElement(
                "div",
                { className: we().LeftCol },
                t.event_end_date < a
                  ? s.createElement("div", null, (0, R.Xx)("#OptIn_IsOver"))
                  : s.createElement(
                      s.Fragment,
                      null,
                      s.createElement(Dl, { optInDef: t }),
                      s.createElement(fl, { optInDef: t }),
                      s.createElement(yl, { optInDef: t }),
                      s.createElement(Il, { optInDef: t }),
                    ),
              ),
              s.createElement(
                "div",
                { className: we().RightCol },
                s.createElement(Sl, { optInDef: t }),
                s.createElement(vl, { optInDef: t }),
                s.createElement(kl, { optInDef: t }),
              ),
            );
      }
      function Sl(e) {
        const { optInDef: t } = e,
          a =
            ((0, te.Xj)(t.event_title, (0, ae.jM)(xe.De.LANGUAGE)),
            (0, Be.fV)(t));
        return s.createElement(
          "div",
          { className: we().ColHeader },
          Boolean(a) &&
            s.createElement("div", {
              className: we().ColHeaderImg,
              style: { backgroundImage: `url( '${a}' )` },
            }),
          s.createElement(
            "div",
            { className: we().SmallText },
            (0, R.Xx)("#DiscountDashboard_DetailView_StartTimeLabel"),
            " ",
            s.createElement("span", null, (0, Qt.$1)(t.event_start_date), " "),
          ),
          s.createElement(
            "div",
            { className: we().SmallText },
            (0, R.Xx)("#DiscountDashboard_DetailView_EndTimeLabel"),
            " ",
            s.createElement("span", null, (0, Qt.$1)(t.event_end_date), " "),
          ),
        );
      }
      function vl(e) {
        const { optInDef: t } = e;
        return t.do_anytime?.discount_event_id
          ? s.createElement(
              "div",
              { className: we().SectionCtn },
              s.createElement(
                "div",
                { className: we().TitleSmall },
                (0, R.Xx)("#OptIn_EnterDiscount"),
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "a",
                  {
                    href: `${xe.De.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${t.do_anytime?.discount_event_id}`,
                  },
                  (0, R.Xx)("#OptIn_EnterDiscount_Button"),
                ),
              ),
            )
          : null;
      }
      function Dl(e) {
        const { optInDef: t } = e,
          a = (0, te.Xj)(t.event_title, (0, ae.jM)(xe.De.LANGUAGE)),
          n = (0, Be.fV)(t),
          i = (0, te.Xj)(t.description, (0, ae.jM)(xe.De.LANGUAGE), null),
          r = (0, te.Xj)(t.eligibility_text, (0, ae.jM)(xe.De.LANGUAGE), null);
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            { className: we().ColHeader },
            Boolean(n)
              ? s.createElement("div", {
                  className: we().ColHeaderImg,
                  style: { backgroundImage: `url( '${n}' )` },
                })
              : Boolean(a) && s.createElement("div", null, a),
          ),
          s.createElement(
            "div",
            { className: we().SectionCtn },
            Boolean(t.optin_deadline_date) &&
              s.createElement(
                "h1",
                null,
                (0, R.Xx)("#OptIn_Submission_Deadline"),
                " ",
                (0, Qt.$1)(t.optin_deadline_date),
              ),
            Boolean(i) && s.createElement($i.d, { text: i }),
            Boolean(r) &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "h3",
                  null,
                  (0, R.Xx)("#OptIn_Appeals_EligibilityTitle"),
                ),
                s.createElement($i.d, { text: r }),
                s.createElement("h3", null, (0, R.Xx)("#OptIn_OptInOut_Title")),
                s.createElement(
                  "div",
                  null,
                  (0, R.Xx)("#OptIn_RegInstruction"),
                  Boolean(t?.do_anytime?.discount_event_id) &&
                    (0, R.Xx)(
                      "#OptIn_DiscountParticipation",
                      (0, Qt.$1)(t.event_start_date),
                    ),
                ),
              ),
          ),
        );
      }
      function fl(e) {
        const { optInDef: t } = e,
          a = pl();
        return a && 0 != a.length
          ? s.createElement(
              "div",
              { className: we().SectionCtn },
              s.createElement("h1", null, (0, R.Xx)("#OptIn_Registered_Games")),
              s.createElement(
                "table",
                { className: ue().EligibleGamesTable },
                s.createElement(
                  "thead",
                  null,
                  s.createElement(
                    "tr",
                    null,
                    s.createElement(
                      "th",
                      null,
                      (0, R.Xx)("#OptIn_Table_Col_Game"),
                    ),
                    s.createElement(
                      "th",
                      null,
                      (0, R.Xx)("#OptIn_Table_Col_AppID"),
                    ),
                    s.createElement("th", null),
                  ),
                ),
                s.createElement(
                  "tbody",
                  null,
                  a.map((e) =>
                    s.createElement(bl, {
                      key: "registered_" + e.appid,
                      bReview: !0,
                      appid: e.appid,
                      appName: e.app_name,
                      optInDef: t,
                    }),
                  ),
                ),
              ),
            )
          : null;
      }
      function yl(e) {
        const { optInDef: t } = e,
          a = (function () {
            const [e, t] = (0, s.useState)(null);
            return (
              (0, s.useEffect)(() => {
                const e = (0, f.ip)(
                  "optin_opportunities",
                  "application_config",
                );
                ul(e) &&
                  ("dev" === f.De.WEB_UNIVERSE &&
                    console.log(
                      "useOptInOpportunitiesForDashboard has " + e.length,
                    ),
                  t(
                    e.map((e) =>
                      e.jsondata && "" !== e.jsondata
                        ? { ...e, jsondata: JSON.parse(e.jsondata) }
                        : { ...e, jsondata: {} },
                    ),
                  ));
              }, []),
              e
            );
          })(),
          n = pl();
        return (!a || 0 == a.length) && n?.length > 0
          ? null
          : s.createElement(
              "div",
              { className: we().SectionCtn },
              s.createElement("h1", null, (0, R.Xx)("#OptIn_Eligible_Games")),
              Boolean(!a || 0 == a.length)
                ? s.createElement(
                    "div",
                    { className: ue().NoEligibleCtn },
                    (0, R.Xx)("#OptIn_NoEligible_Games_Found"),
                  )
                : s.createElement(
                    "table",
                    { className: ue().EligibleGamesTable },
                    s.createElement(
                      "thead",
                      null,
                      s.createElement(
                        "tr",
                        null,
                        s.createElement(
                          "th",
                          null,
                          (0, R.Xx)("#OptIn_Table_Col_Game"),
                        ),
                        s.createElement(
                          "th",
                          null,
                          (0, R.Xx)("#OptIn_Table_Col_AppID"),
                        ),
                        s.createElement("th", null),
                      ),
                    ),
                    s.createElement(
                      "tbody",
                      null,
                      a.map((e) =>
                        s.createElement(bl, {
                          key: "opportunity_" + e.appid,
                          appid: e.appid,
                          appName: e.app_name,
                          optInDef: t,
                        }),
                      ),
                    ),
                  ),
            );
      }
      function bl(e) {
        const { appid: t, appName: a, optInDef: n, bReview: i } = e;
        return s.createElement(
          "tr",
          null,
          s.createElement("td", null, a),
          s.createElement("td", null, t),
          s.createElement(
            "td",
            null,
            s.createElement(
              m.KM,
              {
                onClick: (e) =>
                  (0, S.b8)(
                    e,
                    `${xe.De.PARTNER_BASE_URL}optin/sale/${n.pageid}/${t}`,
                  ),
              },
              (0, R.Xx)(i ? "#OptIn_ReviewReg" : "#OptIn_OptIn"),
            ),
          ),
        );
      }
      function Il(e) {
        const { optInDef: t } = e,
          [a, n] = (0, s.useState)(null),
          [i] = (0, Qe.jk)((0, _l.u$)(a), (0, _l.D3)(a), {
            include_assets: !0,
          }),
          r = a?.appid && 0 == i?.GetAppType(),
          l = (0, te.Xj)(t.appeals_text, (0, ae.jM)(xe.De.LANGUAGE));
        if (l?.length > 0)
          return s.createElement(
            "div",
            { className: we().SectionCtn },
            s.createElement(
              "h1",
              null,
              (0, R.Xx)("#OptIn_EligibleMissed_Title"),
            ),
            s.createElement("p", null, (0, R.Xx)("#OptIn_NoEligible_Desc1")),
            s.createElement(
              "ul",
              { className: "bullets" },
              s.createElement(
                "li",
                null,
                (0, R.Xx)("#OptIn_NoEligible_Point1"),
              ),
              s.createElement(
                "li",
                null,
                (0, R.Xx)("#OptIn_NoEligible_Point2"),
              ),
            ),
            s.createElement("p", null, (0, R.Xx)("#OptIn_NoEligible_Desc1_NF")),
            s.createElement(
              "div",
              { className: Qr.AppealsEntryPointCtn },
              s.createElement(
                "h3",
                null,
                (0, R.Xx)("#OptIn_EligibleMissed_GetStarted"),
              ),
              s.createElement("p", null, (0, R.Xx)("#OptIn_NoEligible_Desc2")),
              s.createElement(hl.u, {
                itemType: 0,
                strLabel: (0, R.Xx)("#OptIn_SearchGame"),
                autoFocus: !1,
                fnSetItemID: (e) => {
                  (a && a.appid == e) || n({ appid: e });
                },
              }),
              s.createElement(
                "div",
                { className: Qr.AppealSelectedApp },
                s.createElement(Cl, { oFeaturedItem: a, oStoreItem: i }),
                s.createElement(
                  m.KM,
                  {
                    disabled: !r,
                    onClick: (e) =>
                      (0, S.b8)(
                        e,
                        `${xe.De.PARTNER_BASE_URL}optin/appeal/${t.pageid}/${a?.appid}`,
                      ),
                  },
                  (0, R.Xx)(
                    r
                      ? "#OptIn_Appeals_Begin_Button"
                      : "#OptIn_SelectGameToAppeal",
                    i?.GetName(),
                  ),
                ),
              ),
            ),
          );
      }
      function Cl(e) {
        const { oFeaturedItem: t, oStoreItem: a } = e;
        return t && !a
          ? s.createElement(
              "div",
              null,
              (0, R.Xx)("#OptIn_LoadingAppDetails", t.appid),
            )
          : a
            ? s.createElement(
                "div",
                { className: Qr.SelectedApp },
                s.createElement("img", { src: a.GetAssets().GetHeaderURL() }),
                s.createElement(
                  "div",
                  null,
                  a.GetName(),
                  " ",
                  "(",
                  t.appid,
                  ")",
                ),
                Boolean(0 != a.GetAppType()) &&
                  s.createElement(
                    "div",
                    null,
                    (0, R.Xx)("#OptIn_Dashbroad_NotSupportType"),
                  ),
              )
            : null;
      }
      function kl(e) {
        const { optInDef: t } = e;
        return s.createElement(
          "div",
          { className: we().SectionCtn },
          s.createElement(dl, { optInDef: t }),
          Boolean(xe.L7.is_support) &&
            s.createElement(
              "div",
              { className: _().ValveOnlyBackground },
              s.createElement(
                "a",
                {
                  href: `${xe.De.PARTNER_BASE_URL}optin/admin/edit/${t.pageid}`,
                },
                "Edit OptIn Definition",
              ),
            ),
        );
      }
      var Al = a(86984),
        wl = a(22896),
        Pl = a(73799),
        Tl = a.n(Pl),
        Nl = a(79270);
      const Rl = s.createContext({
        loadOptInAppealsSummaryStats: async (e, t) =>
          await (function (e) {
            xl ||
              (xl = new (Tl())(
                async (t) => {
                  const a = U.gA.Init(V.Hj);
                  a.Body().set_opt_in_names([...t]);
                  const n = await V.u2.GetOptInAppealsSummaryStats(e, a);
                  if (!n.BSuccess())
                    throw `Failed to call GetOptInAppealsSummaryStats with details: ${n.GetErrorMessage()}`;
                  const i = new Map();
                  return (
                    n
                      .Body()
                      .summary()
                      .forEach((e) => {
                        const t = e.toObject();
                        i.set(t.opt_in_name, t);
                      }),
                    t.map((e) => i.get(e))
                  );
                },
                { maxBatchSize: 100 },
              ));
            return xl;
          })(t).load(e),
      });
      function Gl(e, t, a) {
        return {
          queryKey: ["OptInAppealsSummaryStats", a],
          queryFn: () => e.loadOptInAppealsSummaryStats(a, t),
          enabled: !!a,
        };
      }
      let xl;
      function Ll(e) {
        (0, s.useEffect)(() => {
          l.v.Get();
        }, []);
        const [t, a] = (0, u.Ar)("tab", "active"),
          n = (e) => a(e.key),
          i = [
            {
              name: `App Review (${l.v.Get().GetAppReviewOptIn()?.length || 0})`,
              key: "appreview",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(Bl, { list: l.v.Get().GetAppReviewOptIn() }),
              ),
              onClick: n,
            },
            {
              name: `Appeals Review (${l.v.Get().GetAppealReviewOptIn()?.length || 0})`,
              key: "appealss",
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(Bl, {
                  list: l.v.Get().GetAppealReviewOptIn(),
                  bAppeals: !0,
                }),
              ),
              onClick: n,
            },
          ];
        return s.createElement(
          d.SV,
          null,
          s.createElement(
            "div",
            { className: L().DashboardCtn },
            s.createElement(
              "h1",
              null,
              "Opt-In App Review and Appeals Review Dashboard",
            ),
            s.createElement("hr", null),
            s.createElement(
              "p",
              null,
              "OptIn in App Review have not been announced to partner and we are reviewing apps for inclusion",
            ),
            s.createElement(
              "p",
              null,
              "OptIn in Appeal Review are publically announced allowing Steamworks partners to appear our original decisions to not include a game in a Steam theme fest.",
            ),
            s.createElement(E.n, { tabs: i, startingTab: t }),
          ),
        );
      }
      function Bl(e) {
        const { list: t, bReverseOrder: a, bAppeals: n } = e,
          [i, r] = (0, u.Ar)("query", ""),
          l = (0, s.useMemo)(() => {
            const e = i.trim();
            return t
              .sort((e, t) =>
                a
                  ? e.sale_optin_enabled == t.sale_optin_enabled
                    ? t.event_start_date - e.event_start_date
                    : -1
                  : e.sale_optin_enabled == t.sale_optin_enabled
                    ? e.event_start_date - t.event_start_date
                    : e.sale_optin_enabled
                      ? -1
                      : 1,
              )
              .filter(
                (t) =>
                  0 == e.length ||
                  t.pageid.toLocaleLowerCase().includes(e) ||
                  t.opt_in_registration_title?.english
                    ?.toLocaleLowerCase()
                    .includes(e) ||
                  t.event_title?.english?.toLocaleLowerCase().includes(e),
              );
          }, [a, t, i]);
        return s.createElement(
          "div",
          null,
          s.createElement(m.II, {
            type: "string",
            value: i,
            onChange: (e) => r(e.currentTarget.value.toLocaleLowerCase()),
            label: "Filter",
            tooltip:
              "Filters the list to be those that contain the letters you typed exactly (case insenstive) on the page id or name",
            placeholder: "type here...",
          }),
          l.map((e) =>
            s.createElement(Ml, { key: e.pageid, def: e, bAppeals: n }),
          ),
        );
      }
      function Ml(e) {
        const { def: t, bAppeals: a } = e,
          n = t.event_title?.english || "No Name Assigned",
          i = (0, te.Xj)(t.appeals_text, (0, ae.jM)(f.De.LANGUAGE));
        return i?.length > 0
          ? s.createElement(
              "div",
              {
                key: t.pageid,
                className: (0, v.Z)(
                  L().OptInAdminRow,
                  b().TileContainer,
                  Boolean(a) ? L().OptinEnabled : "",
                ),
              },
              s.createElement(
                "div",
                { className: b().EventNameCtn },
                s.createElement(
                  "div",
                  { className: b().EventName },
                  Boolean(n) && n,
                  " ",
                  s.createElement("span", null, "(", t.pageid, ")"),
                ),
                s.createElement(
                  "div",
                  { className: b().DatesCtn },
                  s.createElement(
                    "span",
                    { className: b().DateAndTime },
                    s.createElement(h.H6, {
                      dateAndTime: t.event_start_date,
                      bSingleLine: !0,
                      bOnlyDate: !0,
                    }),
                  ),
                  " ",
                  s.createElement(
                    "span",
                    { className: b().DateAndTime },
                    "To ",
                    s.createElement(h.H6, {
                      dateAndTime: t.event_end_date,
                      bSingleLine: !0,
                      bOnlyDate: !0,
                    }),
                  ),
                ),
              ),
              s.createElement(
                "div",
                { className: b().EventDetailsCtn },
                s.createElement(
                  "div",
                  { className: L().StatsCtn },
                  a
                    ? s.createElement(Ol, { def: t })
                    : s.createElement(
                        "div",
                        { className: b().FeaturedApps },
                        s.createElement(
                          "div",
                          { className: b().BigNumber },
                          "??",
                        ),
                        s.createElement(
                          "span",
                          {
                            "data-tooltip-text":
                              "Number of apps requiring app review",
                            className: _().HelperTooltip,
                          },
                          "Outstanding App Review (?)",
                        ),
                      ),
                ),
                s.createElement(
                  "div",
                  { className: (0, v.Z)(L().Button, L().ButtonCtn) },
                  s.createElement(
                    "a",
                    {
                      href: `${f.De.PARTNER_BASE_URL}optin/appreview/${t.pageid}?tab=${a ? "review" : "appeal"}`,
                    },
                    "Open Review Tool",
                  ),
                ),
              ),
            )
          : null;
      }
      function Ol(e) {
        const { def: t } = e,
          a = (function (e) {
            const t = (0, Nl.i)(),
              a = s.useContext(Rl);
            return (0, F.useQuery)(Gl(a, t, e));
          })(t.pageid);
        return a && !a.isLoading && a.data
          ? a.isError || a.isLoadingError
            ? s.createElement("div", null, "Failed to load appeals summary")
            : s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "div",
                  { className: b().FeaturedApps },
                  s.createElement(
                    "div",
                    { className: b().BigNumber },
                    a.data?.open_appeals,
                  ),
                  s.createElement(
                    "span",
                    {
                      "data-tooltip-text":
                        "Number of appeals that are open requiring review",
                      className: _().HelperTooltip,
                    },
                    "Open Appeals to Review (?)",
                  ),
                ),
                s.createElement(
                  "div",
                  { className: b().FeaturedApps },
                  s.createElement(
                    "div",
                    { className: b().BigNumber },
                    a.data.accepted_appeals,
                  ),
                  s.createElement(
                    "span",
                    {
                      "data-tooltip-text": "Numbers appeals we accepted",
                      className: _().HelperTooltip,
                    },
                    "Accepted Appeals (?)",
                  ),
                ),
                s.createElement(
                  "div",
                  { className: b().FeaturedApps },
                  s.createElement(
                    "div",
                    { className: b().BigNumber },
                    a.data.reject_appeals,
                  ),
                  s.createElement(
                    "span",
                    {
                      "data-tooltip-text": "Numbers appeals we rejected",
                      className: _().HelperTooltip,
                    },
                    "Rejected Appeals (?)",
                  ),
                ),
              )
          : s.createElement(P.V, {
              size: "medium",
              string: (0, R.Xx)("#Loading"),
            });
      }
      var Fl = a(91398),
        Ul = a(35480);
      function Hl(e) {
        const { pageid: t } = e;
        return s.createElement(
          "div",
          { className: (0, v.Z)(we().AdminPageCtn, we().WidePageCtn) },
          s.createElement(
            "div",
            { className: we().PageTitle },
            "Survey Results ",
            t,
          ),
          s.createElement(Vl, { pageid: t }),
        );
      }
      function Vl(e) {
        const t = (function () {
          const [e] = (0, s.useState)(() =>
            (0, Li.kQ)("optin_survey_results", "application_config"),
          );
          return e;
        })();
        return s.createElement(
          "table",
          { className: Ul.ResultsTable },
          s.createElement(
            "thead",
            null,
            s.createElement(
              "tr",
              null,
              s.createElement("th", null, "#"),
              s.createElement("th", null, "Appid"),
              s.createElement("th", null, "AccountID"),
              s.createElement("th", null, "Satisfaction"),
              s.createElement("th", null, "Notes"),
              s.createElement("th", null, "Team Size"),
              s.createElement("th", null, "Meet Expectations?"),
              s.createElement("th", null, "Notes"),
              s.createElement("th", null, "Change Release Plan"),
              s.createElement("th", null, "Notes"),
              s.createElement("th", null, "Suggestions"),
            ),
          ),
          s.createElement(
            "tbody",
            null,
            t.map((e, t) =>
              s.createElement(Xl, {
                result: e,
                index: t,
                key: "survey_" + e.accountid + "_" + e.appid,
              }),
            ),
          ),
        );
      }
      function Xl(e) {
        const { result: t, index: a } = e;
        return s.createElement(
          "tr",
          null,
          s.createElement("td", null, a + 1),
          s.createElement("td", null, t.appid),
          s.createElement("td", null, t.accountid),
          s.createElement("td", null, t.satisfaction),
          s.createElement("td", null, t.satisfiction_description),
          s.createElement("td", null, t.team_size),
          s.createElement("td", null, t.meet_expectations ? "yes" : "no"),
          s.createElement("td", null, t.expectation_explanation),
          s.createElement("td", null, t.change_release_plans ? "yes" : "no"),
          s.createElement("td", null, t.change_release_description),
          s.createElement("td", null, t.suggestions),
        );
      }
      const jl = {
          OptinAdminDashboard: () => "/admin/",
          OptinAdminEdit: (e) => `/admin/edit/${e}`,
          OptinAdminAnalysis: (e) => `/admin/analysis/${e}`,
          OptinAdminDemoAnalysis: (e) => `/admin/demo_analysis/${e}`,
          OptinAdminSupport: (e) => `/admin/support/${e}`,
          OptInPartnerDashboard: (e) => `/sale*/${e}`,
          OptInApp: (e, t) => `/sale*/${e}/${t}`,
          OptInAppAppeal: (e, t) => `/appeal/${e}/${t}`,
          OptInAppReview: (e) => `/appreview/${e}`,
          OptInAppReviewDashboard: () => "/appreview_dashboard",
          OptInAppSurvey: (e) => `/survey/${e}`,
          OptInSurveyResults: (e) => `/surveyresults/${e}`,
        },
        ql = "sale_";
      function Wl(e) {
        return e?.startsWith(ql) ? e : ql + e;
      }
      function zl(e) {
        return (0, kr.N)()
          ? s.createElement(
              o.VK,
              { basename: (0, n.l)() + "optin/" },
              s.createElement(br, null),
              s.createElement(
                Na.rs,
                null,
                s.createElement(Na.AW, {
                  exact: !0,
                  path: n.Z.DiagData(),
                  render: (e) =>
                    s.createElement(be.m, {
                      ...e,
                      strConfigID: "application_config",
                    }),
                }),
                s.createElement(Na.AW, {
                  exact: !0,
                  path: jl.OptinAdminDashboard(),
                  component: Q,
                }),
                s.createElement(Na.AW, {
                  exact: !0,
                  path: jl.OptinAdminEdit(":pageid"),
                  render: (e) =>
                    s.createElement(
                      wl.F,
                      { pageid: e.match.params.pageid },
                      s.createElement(zi, null),
                    ),
                }),
                s.createElement(Na.AW, {
                  exact: !0,
                  path: jl.OptinAdminAnalysis(":pageid"),
                  render: (e) =>
                    s.createElement(
                      wl.F,
                      { pageid: e.match.params.pageid },
                      s.createElement(Al.RG, null),
                    ),
                }),
                s.createElement(Na.AW, {
                  exact: !0,
                  path: jl.OptinAdminDemoAnalysis(":pageid"),
                  render: (e) =>
                    s.createElement(
                      wl.i,
                      { pageid: e.match.params.pageid },
                      s.createElement(Fl.kK, { bShowOnlySummary: !1 }),
                    ),
                }),
                s.createElement(Na.AW, {
                  exact: !0,
                  path: jl.OptinAdminSupport(":appid"),
                  render: (e) =>
                    s.createElement(Yi, {
                      appid: Number.parseInt(e.match.params.appid),
                    }),
                }),
                s.createElement(Na.AW, {
                  path: jl.OptInApp(":partialpageid", ":appid"),
                  render: (e) =>
                    s.createElement(yr, {
                      appid: e.match.params.appid,
                      pageid: Wl(e.match.params.partialpageid),
                    }),
                }),
                s.createElement(Na.AW, {
                  path: jl.OptInAppReviewDashboard(),
                  component: Ll,
                }),
                s.createElement(Na.AW, {
                  path: jl.OptInAppReview(":pageid"),
                  render: (e) =>
                    s.createElement(jr, { pageid: e.match.params.pageid }),
                }),
                s.createElement(Na.AW, {
                  path: jl.OptInAppAppeal(":partialpageid", ":appid"),
                  render: (e) =>
                    s.createElement(ll, {
                      appid: Number.parseInt(e.match.params.appid),
                      pageid: Wl(e.match.params.partialpageid),
                    }),
                }),
                s.createElement(Na.AW, {
                  path: jl.OptInAppSurvey(":partialpageid"),
                  render: (e) =>
                    s.createElement(Oi, {
                      pageid: e.match.params.partialpageid,
                    }),
                }),
                s.createElement(Na.AW, {
                  path: jl.OptInSurveyResults(":partialpageid"),
                  render: (e) =>
                    s.createElement(Hl, {
                      pageid: e.match.params.partialpageid,
                    }),
                }),
                s.createElement(Na.AW, {
                  path: jl.OptInPartnerDashboard(":partialpageid"),
                  render: (e) =>
                    s.createElement(gl, {
                      pageid: Wl(e.match.params.partialpageid),
                    }),
                }),
                s.createElement(Na.AW, { component: i.R }),
              ),
            )
          : null;
      }
    },
    78105: (e, t, a) => {
      "use strict";
      function n(e, t) {
        const a = new Date(1e3 * e),
          n = t ? new Date(1e3 * t) : new Date(a);
        t || n.setDate(a.getDate() + 6);
        const i = a.toLocaleString("en-US", { month: "short" }),
          r = a.getDate(),
          l = n.toLocaleString("en-US", { month: "short" }),
          s = n.getDate();
        return i === l ? `${i} ${r} - ${s}` : `${i} ${r} - ${l} ${s}`;
      }
      function i(e) {
        let t = r(e);
        return t.endsWith("M") || t.endsWith("K")
          ? `$${t}`
          : new Intl.NumberFormat("en-US", {
              style: "currency",
              currency: "USD",
            }).format(Number(t));
      }
      function r(e) {
        let t;
        return (
          (t =
            Math.abs(e) >= 1e6
              ? (e / 1e6).toFixed(1) + "M"
              : Math.abs(e) >= 1e3
                ? (e / 1e3).toFixed(1) + "K"
                : e.toFixed(2)),
          t
        );
      }
      a.d(t, { Dt: () => i, H_: () => r, ZK: () => n });
    },
    40298: (e, t, a) => {
      "use strict";
      a.d(t, { kF: () => G, WE: () => O, j5: () => B });
      var n = a(43344),
        i = a.n(n),
        r = a(1698),
        l = a(51485),
        s = a(36342),
        o = a(30750),
        c = a(47427),
        m = a(1485),
        d = a(31846),
        u = a(18133),
        p = a.n(u),
        _ = a(82624),
        h = a(36876),
        g = a(77178),
        E = a(90069),
        S = a(46882),
        v = a(50423),
        D = a(68553),
        f = a(26475),
        y = a(86437),
        b = a(83743),
        I = a(65255),
        C = a(87380);
      function k(e) {
        const { oEditablePlan: t } = e,
          a = t.GetFeaturedItemType(),
          n = t.GetFeaturedItemID(),
          i = t.GetID(),
          s = (0, y.t9)(n, a),
          o = (0, l.Dv)(),
          d = Math.floor(Date.now() / 1e3),
          u = o?.GetDueDate() ?? t.GetStartDate() - r.hZ,
          _ = u <= d && u != r.l1,
          h = (0, C.A0)(t.GetID());
        return c.createElement(
          "div",
          null,
          c.createElement("h2", null, "Send to partner"),
          c.createElement(
            "div",
            { className: p().SendOptionsRow },
            c.createElement(
              "div",
              { className: p().EmailButtonsCtn },
              c.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                c.createElement(
                  "div",
                  { className: "DialogLabel" },
                  "Partner email",
                ),
                c.createElement(
                  m.zx,
                  {
                    disabled: _,
                    onClick: (e) =>
                      (0, E.AM)(
                        c.createElement(A, { oEditablePlan: t }),
                        (0, v.RA)(e),
                      ),
                  },
                  "Send Email Request",
                ),
                _ &&
                  c.createElement(
                    "div",
                    { className: p().Warning },
                    "Warning: due date is not in the future",
                  ),
              ),
              c.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                c.createElement(
                  "div",
                  { className: "DialogLabel" },
                  "Contacts",
                ),
                c.createElement(D.Z, {
                  nPartnerID: t.GetPartnerID(),
                  storeItemFilter: s,
                }),
              ),
            ),
            c.createElement(
              "div",
              null,
              c.createElement(m.II, {
                type: "text",
                label: "You can share this link with the Partner:",
                tooltip:
                  "Any member of the partner can view or upload assets using that link. Only needs to be member of the partner.",
                value: `${I.De.PARTNER_BASE_URL}promotion/assetportal/request/${i}`,
                bShowCopyAction: !0,
                onChange: () => {},
              }),
              c.createElement(m.II, {
                type: "text",
                label:
                  "For users WITHOUT a partner account, you can share this URL:",
                tooltip:
                  "This lets ANYONE with this URL to see existing assets and upload additional assets to this plan. They do not need to be logged in.",
                value: `${I.De.PARTNER_BASE_URL}promotion/assetportal/externalrequest/${i}?inputaccesskey=${h.oPlanContainer.input_access_key}`,
                bShowCopyAction: !0,
                onChange: () => {},
              }),
            ),
          ),
          c.createElement(w, { oEditablePlan: t }),
          c.createElement(T, null),
        );
      }
      function A(e) {
        const { oEditablePlan: t, closeModal: a } = e,
          { fnCreatePromoInvite: n } = (0, h.LL)(),
          i = (0, b.tx)(),
          s = (0, l.Dv)(),
          o = s?.GetDueDate() ?? t.GetStartDate() - r.hZ;
        return i.bLoading
          ? c.createElement(b.NT, {
              state: i,
              strDialogTitle: "Send Email To Partner",
              closeModal: a,
            })
          : c.createElement(g.uH, {
              strTitle: "Send Email To Partner",
              strDescription:
                "This will send an assets and discount event request to the partner",
              onCancel: a,
              onOK: function () {
                const e = {
                  type: 4,
                  oInviteItem: (0, y.Xm)(t.GetStoreItemKey()),
                  rtExpireTime: o,
                  nPartnerID: t.GetPartnerID(),
                  strPromotionPlanID: t.GetID(),
                  bRequireMarketingBanner: s.BIsMarketingMessageArtRequest(),
                  bRequireSpotlightBanner: s.BIsSpotlightArtRequest(),
                };
                i.fnSetLoading(!0),
                  n(e)
                    .then((e) => {
                      1 == e
                        ? (i.fnSetStrSuccess(
                            "Asset request sent! We sent an email to the users with communication permissions and publish app permission for the selected game. You can close this dialog.",
                          ),
                          i.fnSetSuccess(!0))
                        : 13 == e
                          ? (i.fnSetError(!0),
                            i.fnSetStrError(
                              "Unable to send asset request. The partner does not have a user set to receive communications.",
                            ))
                          : 8 == e
                            ? (i.fnSetError(!0),
                              i.fnSetStrError(
                                "Unable to send asset request. A parameter is invalid.",
                              ))
                            : (i.fnSetError(!0),
                              i.fnSetStrError(
                                "Failed to send asset request - eResult: " + e,
                              ));
                    })
                    .catch((e) => {
                      i.fnSetError(!0),
                        i.fnSetStrError(
                          "Failed to create invitation - check console/network logs",
                        );
                    });
              },
            });
      }
      function w(e) {
        const { oEditablePlan: t } = e,
          a = (0, h.bu)(t.GetID());
        return c.createElement(
          "div",
          null,
          c.createElement("h2", null, "Email History"),
          c.createElement(
            "div",
            { className: p().EmailHistory },
            Boolean(null == a) && c.createElement(S.V, { size: "medium" }),
            Boolean(null != a && 0 == a.length) &&
              c.createElement("div", null, "No previous emails sent"),
            a?.map((e) =>
              c.createElement(P, { key: "eh_" + e.inviteid, email: e }),
            ),
          ),
        );
      }
      function P(e) {
        const { email: t } = e;
        return c.createElement("div", null, (0, d.$1)(t.rtinvitetime));
      }
      function T(e) {
        const t = (0, l.Dv)();
        return c.createElement(
          "div",
          { className: p().AltAssetCtn },
          c.createElement("h2", null, "Alt asset location"),
          c.createElement(
            "p",
            null,
            "If the partner sent us assets some other way, add the URL below so the promo plan can move to the next step.",
          ),
          c.createElement(f.UR, {
            name: "Dropbox or Google Drive Link",
            index: 0,
            placeHolder:
              "Any link to a location such as Dropbox or Box or Google Drive that the partner has prepared and uploaded their art for the promotion.",
            id: t.GetArtInputLink(),
            fnSetID: t.SetInputArtworkLink,
            fnGetURL: (e) => e,
          }),
        );
      }
      var N = a(37485),
        R = a.n(N);
      function G(e) {
        const t = (0, s.Gn)(),
          [a, n, i, r, l] = (0, o.SZ)(() => [
            t.GetID(),
            t.GetPartnerRequireArtworkReview(),
            t.GetStoreItemKey(),
            t.GetPartnerID(),
            t.GetOriginalPartnerID(),
          ]);
        return c.createElement(
          "div",
          null,
          c.createElement(
            "div",
            { className: p().PartnerSettingCtn },
            c.createElement(_.x, {
              storeItemKey: i,
              nPartnerID: r,
              nOriginalPartnerID: l,
              fnUpdatePartnerID: t.SetPartnerID,
              showPartnerInitialSetWarning: !0,
              autoSelectPartnerFromStoreItem: !1,
            }),
            c.createElement(m.ji, {
              label:
                "Requires partner approval of final art assets we created (uncommon)",
              tooltip:
                "Only tick this if absolutely necessary. Limit this setting this to only those partners that are required to get external review by IP holders.",
              checked: n,
              onChange: (e) => t.SetPartnerRequireArtworkReview(e),
            }),
          ),
          c.createElement(
            "div",
            { className: p().SetupRow },
            c.createElement(x, null),
            c.createElement(
              "div",
              null,
              c.createElement(L, null),
              c.createElement(M, null),
            ),
          ),
          c.createElement("br", null),
          c.createElement(k, { oEditablePlan: t }),
        );
      }
      function x(e) {
        const { bReviewApprovals: t } = e;
        return c.createElement(
          "div",
          { className: p().AssetNeedsColumn },
          c.createElement("h3", null, "Required Assets"),
          r.Vd.filter((e) => !r._S.includes(e)).map((e) =>
            c.createElement(
              "div",
              { key: e, className: p().AssetTypeRow },
              c.createElement(B, {
                bReviewApprovals: t,
                type: e,
                index: "marketingmessage_art_2" === e ? 1 : void 0,
              }),
            ),
          ),
        );
      }
      function L(e) {
        const t = (0, s.Gn)(),
          a = (0, l.Dv)(),
          [n, u] = (0, c.useState)(null != a.GetDueDate()),
          [_, h] = (0, o.SZ)(() => [t.GetStartDate(), a.GetDueDate()]);
        return n
          ? c.createElement(
              c.Fragment,
              null,
              c.createElement("h3", null, "DUE DATE"),
              c.createElement(
                "div",
                { style: { paddingBottom: "10px" } },
                "Recommended due date is a week before the event starts. This won't prevent them from providing art after this point, but clarifies our expectations of the partner",
              ),
              c.createElement(
                "div",
                { className: p().EditDueDateContainer },
                h != r.l1 &&
                  c.createElement(i(), {
                    timeFormat: !1,
                    onChange: (e) => {
                      e.unix && a.SetDueDate(e.unix());
                    },
                    isValidDate: (e) =>
                      e.unix() <
                      R().unix(_).hour(0).seconds(0).minute(0).unix(),
                    value: h ? new Date(1e3 * h) : void 0,
                  }),
                c.createElement(
                  "span",
                  { className: p().ButtonDueDateASAP },
                  c.createElement(m.ji, {
                    label: (0, d.Xx)("#AssetRequest_DueDate_ASAP"),
                    onClick: () => {
                      a.GetDueDate() != r.l1
                        ? a.SetDueDate(r.l1)
                        : a.SetDueDate(_ - r.hZ);
                    },
                    checked: h == r.l1,
                  }),
                ),
              ),
              c.createElement(
                "p",
                null,
                "( Promotion Starts: ",
                (0, d.$1)(_),
                " )",
              ),
            )
          : c.createElement(
              c.Fragment,
              null,
              c.createElement("h3", null, "Due Date: "),
              c.createElement(
                "h2",
                null,
                O(h, _),
                c.createElement(
                  "div",
                  { className: p().DateCustomizeCtn },
                  c.createElement(
                    "span",
                    null,
                    c.createElement(m.ji, {
                      label: "Customize",
                      onClick: () => u(!0),
                      checked: !1,
                    }),
                  ),
                ),
              ),
            );
      }
      function B(e) {
        const {
            type: t,
            index: a,
            bReviewApprovals: n,
            bLocalizationRequest: i,
          } = e,
          d = (0, s.Gn)(),
          u = (0, l.Dv)(),
          _ = (0, o.SZ)(() => d.BHasPromotionFeaturingForArtRequirement(t, a)),
          h = (0, o.SZ)(() =>
            n
              ? u.BIsArtTypeReviewRequested(t)
              : i
                ? d.BHasArtworkLocalizationRequest(t)
                : u.BIsArtTypeRequested(t),
          ),
          [g, E] = (0, o.SZ)(() => [
            d.BHasTakeoverIDs(),
            d.BHasSteamChinaTakeoverID(),
          ]);
        return _
          ? c.createElement(m.ji, {
              label: (0, r.gl)(t),
              checked: h,
              onChange: (e) => {
                n
                  ? (u.ToggleArtReviewRequest(t, e),
                    u.SetContentHubTakeover(
                      e && "takeover_art" == t && !g && !E,
                    ))
                  : i
                    ? d.ToggleArtworkLocalizationRequest(t, e)
                    : (u.ToggleArtRequest(t, e),
                      u.SetContentHubTakeover(
                        e && "takeover_art" == t && !g && !E,
                      ));
              },
            })
          : c.createElement(
              "div",
              { className: p().TypeNotLinked },
              "No linked ",
              c.createElement("b", null, (0, r.gl)(t)),
            );
      }
      function M(e) {
        const t = (0, l.Dv)();
        return c.createElement(
          "div",
          { className: p().InstructionCtn },
          c.createElement("h3", null, "Special Instruction for the Dev?"),
          c.createElement("textarea", {
            className: "DialogTextInputBase",
            value: t.GetValveNote() || "",
            onChange: (e) => t.SetValveNote(e?.currentTarget?.value || ""),
          }),
          c.createElement(
            "p",
            null,
            "These instructions show up down below in big letters for the partner to see",
          ),
        );
      }
      function O(e, t) {
        return null != e
          ? e == r.l1
            ? (0, d.Xx)("#AssetRequest_DueDate_ASAP")
            : (0, d.$1)(e)
          : (0, d.$1)(t - r.hZ);
      }
    },
    92195: (e, t, a) => {
      "use strict";
      a.d(t, { Jr: () => C, Q: () => A, Sn: () => b });
      var n = a(52077),
        i = a(93727),
        r = a(43204),
        l = a(44107),
        s = a(87380),
        o = a(47427),
        c = a(86437),
        m = a(80886),
        d = a(77681),
        u = a.n(d),
        p = a(1485),
        _ = a(83743),
        h = a(77178),
        g = a(90069),
        E = a(46882),
        S = a(16649),
        v = a(13129),
        D = a(50423),
        f = a(17098),
        y = a(60688);
      function b(e) {
        const t = (0, r.fL)();
        return o.createElement(
          "div",
          { className: y.EditCtn },
          o.createElement(
            "div",
            { className: u().PageTitle },
            "Marketing Message - Partner Asset Request",
          ),
          o.createElement("hr", null),
          Boolean(t.BHasPlanAssetRequestGID())
            ? o.createElement(f.F, { bShowLinkToPromotionPlan: !0 })
            : o.createElement(I, { oEditableMessage: t }),
        );
      }
      function I(e) {
        const { oEditableMessage: t } = e;
        return o.createElement(
          "div",
          {
            className: (0, v.Z)(u().DefaultSectionCtn, u().ValveOnlyBackground),
          },
          o.createElement(
            "p",
            null,
            "Most marketing messages asset requests are handled by the overall promotion plans (think weekend deal etc...) as that would encompass all of the asset types in a single request (marketing message, spotlight etc...).",
          ),
          o.createElement(
            "p",
            null,
            "However, if this is a marketing message outside normal promotion boundarys (one off such as 'now available'), then you create an asset request here. NOTE: Under the covers this will a simple asset request only promotion plan.",
          ),
          o.createElement(
            p.zx,
            {
              onClick: (e) =>
                (0, g.AM)(
                  o.createElement(k, { oEditableMessage: t }),
                  (0, D.RA)(e),
                ),
            },
            "Create Asset Request",
          ),
        );
      }
      async function C(e, t, a, n, i) {
        const r = t.GetStoreItemID();
        let l = null;
        try {
          const e = {
              requested_store_item_type: (0, c.D3)(r),
              requested_store_item_id: (0, c.u$)(r),
              requested_type: "assetrequest",
              requested_promotion_name: t.GetName(),
              enable_input: !0,
              art_requests: ["marketingmessage_art"],
              input_artwork_url: "",
            },
            s = await a({
              type: "assetrequest",
              strName: t.GetName(),
              rtStartDate: t.GetStartRTime(),
              rtEndDate: t.GetEndRTime(),
              storeItemID: (0, c.u$)(r),
              storeItemType: (0, c.D3)(r),
              strMarketingMessageID: t.GetGID(),
              inputPipelineModel: e,
              nPartnerID: i,
            });
          if (s) {
            t.SetPlanAssetRequestGID(s);
            (await n(t))
              ? t.SaveSuccessClearDirty()
              : (l = {
                  strErrorMsg:
                    "Plan created... but failed to save marketing message",
                });
          } else l = { strErrorMsg: "Failed to create promotion plan." };
        } catch (e) {
          l = (0, S.l)(e);
        }
        return (
          l
            ? (e.fnSetError(!0),
              e.fnSetStrError(l.strErrorMsg),
              console.error(
                "CreateAssetRequestForMarketingMessage fail to create and associate plan: " +
                  l.strErrorMsg,
                l,
              ))
            : (e.fnSetSuccess(!0), e.fnSetStrSuccess("Asset Request Unlocked")),
          !l
        );
      }
      function k(e) {
        const { oEditableMessage: t, closeModal: a } = e,
          { fnAddNewPlan: n } = (0, s.$H)(),
          { fnUpdateMarketingMessage: i } = (0, l.jI)(),
          r = (0, _.tx)();
        return r.bLoading
          ? o.createElement(_.NT, {
              state: r,
              strDialogTitle: "Creating Asset Request",
              closeModal: a,
            })
          : o.createElement(h.uH, {
              strTitle: "Create Asset Request?",
              strDescription:
                "By clicking confirm, this will unlock the asset request for this marketing message only. It will create an assert request only promotion plan for the rest of operations and artwork workflow.",
              onCancel: a,
              onOK: async () => {
                r.fnSetLoading(!0), await C(r, t, n, i);
              },
            });
      }
      function A(e) {
        const t = (0, n.Rx)();
        return o.createElement(
          "div",
          { className: y.EditCtn },
          o.createElement(
            "div",
            { className: u().PageTitle },
            "Daily Deal - Partner Asset Request",
          ),
          o.createElement("hr", null),
          Boolean(t.BHasPromotionPlanAssetRequest())
            ? o.createElement(f.F, { bShowLinkToPromotionPlan: !0 })
            : o.createElement(w, { oEditableDailyDeal: t }),
        );
      }
      function w(e) {
        const { oEditableDailyDeal: t } = e;
        return o.createElement(
          "div",
          {
            className: (0, v.Z)(u().DefaultSectionCtn, u().ValveOnlyBackground),
          },
          o.createElement(
            "p",
            null,
            "Daily deal do not usually require asset request. They are usually self contain because of their existing store item capsule (app capsule, package capsule and bundle capsules).",
          ),
          o.createElement(
            "p",
            null,
            "However, if this is a daily deal is specifically for a sale page, then we need to request art for the advertising app's capsule and the sale event capsule and sale page background.",
          ),
          o.createElement(
            p.zx,
            {
              onClick: (e) =>
                (0, g.AM)(
                  o.createElement(P, { oEditableDailyDeal: t }),
                  (0, D.RA)(e),
                ),
            },
            "Create Asset Request",
          ),
        );
      }
      function P(e) {
        const { oEditableDailyDeal: t, closeModal: a } = e,
          { fnAddNewPlan: n } = (0, s.$H)(),
          r = t.GetStoreItemKey(),
          [l, d] = (0, m.jk)(r.id, (0, c.GV)(r.item_type), {}),
          { fnSaveDailyDeal: u } = (0, i.oQ)(),
          p = (0, _.tx)();
        return p.bLoading
          ? o.createElement(_.NT, {
              state: p,
              strDialogTitle: "Creating Asset Request",
              closeModal: a,
            })
          : o.createElement(
              h.uH,
              {
                strTitle: "Create Asset Request?",
                strDescription:
                  "By clicking confirm, this will unlock the asset request for this daily dea only. It will create an assert request only promotion plan for the rest of operations and artwork workflow.",
                onCancel: a,
                bOKDisabled: !l,
                onOK: async () => {
                  p.fnSetLoading(!0);
                  const e = t.GetStoreItemKey();
                  let a = null;
                  try {
                    const i = "Daily Deal - " + l.GetName(),
                      r = {
                        requested_store_item_type: (0, c.GV)(e.item_type),
                        requested_store_item_id: e.id,
                        requested_type: "assetrequest",
                        requested_promotion_name: i,
                        enable_input: !0,
                        art_requests: ["sale_header"],
                        input_artwork_url: "",
                      },
                      s = await n({
                        type: "assetrequest",
                        strName: i,
                        rtStartDate: t.GetStartDateRTime(),
                        rtEndDate: t.GetEndDateRTime(),
                        strDiscountEventID: t.GetDiscountEventID(),
                        storeItemID: e.id,
                        storeItemType: (0, c.GV)(e.item_type),
                        strDailyDealID: t.GetDealID(),
                        inputPipelineModel: r,
                      });
                    if (s) {
                      t.SetPromotionPlanAssetRequestID(s);
                      (await u(t.GetModel())) ||
                        (a = {
                          strErrorMsg:
                            "Plan created... but failed to save daily deal",
                        });
                    } else
                      a = { strErrorMsg: "Failed to create promotion plan." };
                  } catch (e) {
                    a = (0, S.l)(e);
                  }
                  a
                    ? (p.fnSetError(!0),
                      p.fnSetStrError(a.strErrorMsg),
                      console.error(
                        "CreateAssetRequestForMarketingMessage fail to create and associate plan: " +
                          a.strErrorMsg,
                        a,
                      ))
                    : (p.fnSetSuccess(!0),
                      p.fnSetStrSuccess("Asset Request Unlocked"));
                },
              },
              !l &&
                o.createElement(E.V, {
                  string: "Loading Store Item",
                  size: "medium",
                  position: "center",
                }),
            );
      }
    },
    17912: (e, t, a) => {
      "use strict";
      a.d(t, { oA: () => _e, v9: () => ce, Vc: () => le });
      var n = a(51485),
        i = a(30750),
        r = a(47427),
        l = a(77681),
        s = a.n(l),
        o = a(18133),
        c = a.n(o),
        m = a(1485),
        d = a(83743),
        u = a(77178),
        p = a(90069),
        _ = a(59728),
        h = a(50423),
        g = a(31846),
        E = a(65255);
      function S(e, t, a) {
        return `${E.De.BASE_URL_SHARED_CDN}store_item_assets/assetportal/preview//${e}/${t}/${a}`;
      }
      var v = a(56164),
        D = a(38071),
        f = a(98330),
        y = a(9466),
        b = a(62210),
        I = a(71472);
      function C(e) {
        const { promoAssetType: t, planID: a } = e,
          i = (0, r.useMemo)(() => [t], [t]),
          l = (0, n.Dv)(),
          s = (0, r.useMemo)(
            () => [D.IN.k_ESteamRealmGlobal, D.IN.k_ESteamRealmChina],
            [],
          ),
          [o] = (0, I.Ar)("inputaccesskey", null),
          m = (0, r.useCallback)(
            (e, a, n, i, r) => {
              (0, b.X)(
                null != n && n >= 0 && n < 31,
                "Unexpected value for elang: " + n,
              ),
                l.SetPreviewArt(n, t, e + (0, f.UQ)(i));
            },
            [l, t],
          );
        let d = "#AssetRequest_General_Upload",
          u = "#AssetRequest_General_Upload_def";
        switch (t) {
          case "marketingmessage_art":
          case "marketingmessage_art_2":
            u = "#AssetRequest_General_Upload_defgif";
            break;
          case "takeover_art":
            d = "#AssetRequest_General_Upload_takeover";
            break;
          case "takeover_mobile_art":
            d = "#AssetRequest_General_Upload_takeover_mobile";
            break;
          case "takeunder_art":
            d = "#AssetRequest_General_Upload_takeunder";
            break;
          case "takeunder_mobile_art":
            d = "#AssetRequest_General_Upload_takeunder_mobile";
            break;
          case "sale_header":
            d = "#AssetRequest_General_Upload_saleheader";
            break;
          case "sale_logo":
            d = "#AssetRequest_General_Upload_sale_logo";
            break;
          case "capsule":
            d = "#AssetRequest_General_Upload_event_capsule";
            break;
          case "product_banner":
            d = "#AssetRequest_General_Upload_productbanner";
            break;
          case "product_mobile_banner":
            d = "#AssetRequest_General_Upload_productbanner_mobile";
            break;
          case "localized_title_image":
            d = "#AssetRequest_General_Upload_localized_title_image";
        }
        let p = `${E.De.PARTNER_BASE_URL}promotion/assetportal/ajaxuploadpreviewasset/${a}`;
        return (
          o &&
            (p = `${E.De.PARTNER_BASE_URL}promotion/assetportal/ajaxuploadpreviewassetexternal/${a}?inputaccesskey=${o}`),
          r.createElement(
            "div",
            { className: c().UploadPreviewCtn },
            r.createElement(
              "h2",
              null,
              (0, g.Xx)(d),
              " ",
              r.createElement(
                "span",
                null,
                (0, g.Xx)("#AssetRequest_General_Upload_req"),
              ),
            ),
            r.createElement("div", null, (0, g.Xx)(u), " "),
            r.createElement(y.j, {
              rgSupportArtwork: i,
              rgRealmList: s,
              strUploadAjaxURL: p,
              fnOnUploadSuccess: m,
            }),
          )
        );
      }
      function k(e) {
        const { planIdentify: t } = e,
          a = (0, n.Dv)(),
          [l, s, o, m] = (0, i.SZ)(() => [
            a.BIsMarketingMessageArtRequest(),
            a.BHasPreviewArtOfType("marketingmessage_art"),
            a.BHasPreviewArtOfType("marketingmessage_art_2"),
            a.BIsMarketingMessageArtRequest_2(),
          ]);
        if (!l) return null;
        let d = s ? 1 : 0;
        o && (d += 1);
        let u = m ? 2 : 1;
        return r.createElement(
          "div",
          { className: c().AssetSection },
          r.createElement(
            v.ug,
            {
              className: c().TitleBar,
              title: (0, g.Xx)("#AssetRequest_MM_Title", `${d}/${u}`),
            },
            r.createElement(
              "div",
              { className: c().SectionCtn },
              r.createElement(
                "div",
                { className: c().AssetSpecs },
                r.createElement(_e, {
                  strTemplateURL:
                    "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                  strDocURL:
                    "https://partner.steamgames.com/doc/store/assets/promos",
                  strTemplateName: (0, g.Xx)("#AssetRequest_General_DropBox"),
                }),
                r.createElement(
                  "div",
                  null,
                  (0, g.Xx)("#AssetRequest_General_Size", 570, 600),
                ),
                r.createElement("br", null),
                r.createElement(
                  "div",
                  null,
                  (0, g.Xx)("#AssetRequest_MM_Usage"),
                ),
                r.createElement("br", null),
                r.createElement(
                  "ul",
                  null,
                  r.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_MM_Design"),
                  ),
                  r.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_MM_Design1"),
                  ),
                  r.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_MM_Hint"),
                  ),
                  r.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_MM_Animation"),
                  ),
                ),
              ),
              r.createElement(
                "div",
                { className: c().AssetUploadPreviewCtn },
                r.createElement(
                  "div",
                  { className: c().AssetUploadPreview },
                  r.createElement(C, {
                    planID: t.id,
                    promoAssetType: "marketingmessage_art",
                  }),
                  r.createElement(A, {
                    planIdentify: t,
                    promoAssetType: "marketingmessage_art",
                  }),
                ),
                Boolean(m) &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement("br", null),
                    r.createElement("br", null),
                    r.createElement(
                      "div",
                      { className: c().AssetUploadPreview },
                      r.createElement(C, {
                        planID: t.id,
                        promoAssetType: "marketingmessage_art_2",
                      }),
                      r.createElement(A, {
                        planIdentify: t,
                        promoAssetType: "marketingmessage_art_2",
                      }),
                    ),
                  ),
              ),
            ),
          ),
          r.createElement("br", null),
        );
      }
      function A(e) {
        const { planIdentify: t, promoAssetType: a } = e,
          i = (0, n.Dv)().GetPreviewArtOfType(a);
        return r.createElement(
          "div",
          { className: c().AssetRequestPreviewCtn },
          r.createElement("img", {
            src: i?.filename ? S(t.id, i.lang, i.filename) : void 0,
          }),
        );
      }
      var w = a(1698),
        P = a(80886),
        T = a(71741),
        N = a.n(T),
        R = a(38201),
        G = a(62613),
        x = a(46882),
        L = a(13129),
        B = a(60688),
        M = a(36342),
        O = a(82624),
        F = a(40298);
      function U(e) {
        const { planIdentify: t, bShowDetails: a } = e,
          l = (0, n.Dv)(),
          [o, c] = (0, i.SZ)(() => [
            l.GetArtRequests() || [],
            l.GetDueDate() ?? t.start_date - w.hZ,
          ]);
        return r.createElement(
          "div",
          { className: (0, L.Z)(s().RightCol, s().NoSticky) },
          r.createElement(
            "div",
            { className: s().SectionCtn },
            r.createElement(
              m.__,
              null,
              (0, g.Xx)("#AssetRequest_Type_default"),
            ),
            r.createElement(X, { ...e }),
          ),
          Boolean(a) &&
            r.createElement(
              "div",
              { className: s().SectionCtn },
              r.createElement(
                "div",
                null,
                (0, g.Xx)("#AssetRequest_Require_Title"),
              ),
              r.createElement(
                "div",
                null,
                o
                  .filter((e) => "marketingmessage_art_2" != e)
                  .map((e) =>
                    r.createElement(q, {
                      key: e,
                      name: (0, g.Xx)("#AssetRequest_ArtType_" + e),
                      dueDate: c,
                      startDate: t.start_date,
                      iconType: "PSD",
                    }),
                  ),
                r.createElement(q, {
                  name: (0, g.Xx)("#AssetRequest_ArtType_fonts"),
                  dueDate: c,
                  startDate: t.start_date,
                  iconType: "Font",
                }),
              ),
            ),
          Boolean(a) && r.createElement(H, { planIdentify: t }),
        );
      }
      function H(e) {
        return E.L7.is_support ? r.createElement(V, { ...e }) : null;
      }
      function V(e) {
        const { planIdentify: t } = e,
          a = (0, n.Dv)(),
          l = (0, M.Gn)(),
          o = (0, i.SZ)(() => l?.GetPartnerID());
        return r.createElement(
          "div",
          { className: s().SectionCtn },
          r.createElement(
            "div",
            { className: N().ValveOnlyBackground },
            r.createElement("div", null, "Support Only:"),
            r.createElement(
              "a",
              {
                href: `${E.De.PARTNER_BASE_URL}promotion/planning/edit/${t.id}`,
              },
              "Promotion Plan Link",
            ),
            r.createElement(O.t, {
              nPartnerID: t.permitted_partner_id || o,
              showPartnerUnsetWarning: !0,
            }),
            Boolean(a.GetSubmittingAccount()) &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  m.__,
                  null,
                  "Submitting Account: ",
                  r.createElement(
                    _.HP,
                    {
                      toolTipContent:
                        "This is the last account which was used to hit submit on this form.",
                    },
                    "(?)",
                  ),
                ),
                r.createElement(
                  "div",
                  { className: B.OwnerCtn },
                  r.createElement(
                    "div",
                    null,
                    r.createElement(R.N, {
                      accountID: a.GetSubmittingAccount(),
                    }),
                  ),
                ),
              ),
          ),
        );
      }
      function X(e) {
        const { planIdentify: t } = e;
        let a = (0, g.Xx)("#AssetRequest_Type_default"),
          n = (0, g.Xx)("#AssetRequest_MoreInfo_default"),
          i = "https://partner.steamgames.com/doc/store/assets/promos";
        switch (t.type) {
          case "midweek":
            (a = (0, g.Xx)("#AssetRequest_Type_" + t.type)),
              (n = (0, g.Xx)("#AssetRequest_MoreInfo_" + t.type)),
              (i = "https://partner.steamgames.com/doc/store/promo/midweek");
            break;
          case "weekenddeal":
            (a = (0, g.Xx)("#AssetRequest_Type_" + t.type)),
              (n = (0, g.Xx)("#AssetRequest_MoreInfo_" + t.type)),
              (i = "https://partner.steamgames.com/doc/store/promo/weekend");
        }
        return r.createElement(
          "div",
          { className: c().PromoDetailsCtn },
          r.createElement(j, { planIdentify: t }),
          r.createElement(
            "div",
            { className: c().PromoText },
            r.createElement("h2", null, a),
            r.createElement("div", null, (0, g.$1)(t.start_date)),
            r.createElement("div", null, (0, g.$1)(t.end_date)),
            r.createElement("br", null),
            r.createElement("a", { href: i }, n),
          ),
        );
      }
      function j(e) {
        const { planIdentify: t } = e,
          [a] = (0, P.jk)(t.store_item_id, t.store_item_type, {
            include_assets: !0,
          });
        return t.store_item_id
          ? r.createElement(
              r.Fragment,
              null,
              Boolean(a)
                ? r.createElement(
                    "div",
                    { className: c().FeaturedApp },
                    r.createElement(
                      _.HP,
                      { toolTipContent: a.GetName() },
                      r.createElement(
                        "a",
                        { href: a.GetStorePageURL() },
                        r.createElement("img", {
                          src: a?.GetAssets().GetHeaderURL(),
                        }),
                      ),
                    ),
                  )
                : r.createElement(x.V, { size: "medium" }),
            )
          : null;
      }
      function q(e) {
        const { name: t, iconType: a, dueDate: n, startDate: i } = e;
        return r.createElement(
          "div",
          { className: c().ArtTaskCtn },
          r.createElement(
            "div",
            { className: c().Icon },
            "PSD" == a
              ? r.createElement(G.YUK, null)
              : r.createElement(G.Zxw, null),
          ),
          r.createElement("div", { className: c().Asset }, t),
          r.createElement(
            "div",
            { className: c().Deadline },
            (0, g.Xx)("#AssetRequest_Deadline"),
            " ",
            r.createElement("span", null, (0, F.WE)(n, i)),
          ),
        );
      }
      var W = a(11619);
      function z(e) {
        const { planIdentify: t } = e,
          a = (0, n.Dv)(),
          [l, s] = (0, i.SZ)(() => [
            a.BIsSpotlightArtRequest(),
            a.BHasPreviewArtOfType("spotlight_art"),
          ]);
        return l
          ? r.createElement(
              "div",
              { className: c().AssetSection },
              r.createElement(
                v.ug,
                {
                  className: c().TitleBar,
                  title: (0, g.Xx)(
                    "#AssetRequest_Spotlight_Title",
                    s ? "1/1" : "0/1",
                  ),
                },
                r.createElement(
                  "div",
                  { className: c().SectionCtn },
                  r.createElement(
                    "div",
                    { className: c().AssetSpecs },
                    r.createElement(_e, {
                      strTemplateURL:
                        "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                      strDocURL:
                        "https://partner.steamgames.com/doc/store/assets/promos",
                      strTemplateName: (0, g.Xx)(
                        "#AssetRequest_General_DropBox",
                      ),
                    }),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_General_Size", 306, 260),
                    ),
                    r.createElement("br", null),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_Spotlight_Usage"),
                    ),
                    r.createElement("br", null),
                    r.createElement(
                      "ul",
                      null,
                      r.createElement(
                        "li",
                        null,
                        (0, g.Xx)("#AssetRequest_Spotlight_Design"),
                      ),
                      r.createElement(
                        "li",
                        null,
                        (0, g.Xx)("#AssetRequest_Spotlight_Design2"),
                      ),
                      r.createElement(
                        "li",
                        null,
                        (0, g.Xx)("#AssetRequest_Spotlight_Design3"),
                      ),
                      r.createElement(
                        "li",
                        null,
                        (0, g.Xx)("#AssetRequest_Spotlight_Design4"),
                      ),
                    ),
                  ),
                  r.createElement(
                    "div",
                    { className: c().AssetUploadPreviewCtn },
                    r.createElement(
                      "div",
                      { className: c().AssetUploadPreview },
                      r.createElement(C, {
                        planID: t.id,
                        promoAssetType: "spotlight_art",
                      }),
                      r.createElement(Z, { planIdentify: t }),
                    ),
                  ),
                ),
              ),
              r.createElement("br", null),
            )
          : null;
      }
      function Z(e) {
        const { planIdentify: t } = e,
          a = (0, n.Dv)().GetPreviewArtOfType("spotlight_art");
        return r.createElement(
          "div",
          { className: c().SpotlightPreviewCtn },
          r.createElement("img", {
            src: a?.filename ? S(t.id, a.lang, a.filename) : void 0,
          }),
          r.createElement(
            "div",
            { className: c().Content },
            r.createElement(
              "div",
              { className: c().Title },
              (0, g.Xx)("#AssetRequest_Type_" + t.type),
            ),
            r.createElement(
              "div",
              { className: c().Subtitle },
              (0, g.Xx)("#AssetRequest_Spotlight_End", (0, g.$1)(t.end_date)),
            ),
            r.createElement(W.Vh, {
              bIsPrePurchase: !1,
              bSingleLineMode: !1,
              nDiscountPercentage: 50,
              nBaseDiscountPercentage: null,
              strBestPurchasePriceFormatted: "$14.99",
              strBestPurchaseOriginalPriceFormatted: "$30.00",
              bHideDiscountPercentForCompliance: !1,
              bShowNewFlag: !1,
            }),
          ),
        );
      }
      var K = a(37563),
        Q = a(82756),
        Y = a(7073),
        J = a(81033),
        $ = a(95666);
      function ee(e) {
        const { planIdentify: t } = e,
          a = (0, n.Dv)(),
          [l, s, o, m] = (0, i.SZ)(() => [
            a.BIsTakeoverArtRequest(),
            a.BIsContentHubTakeoverArtRequest(),
            a.BHasPreviewArtOfType("takeover_art"),
            a.BHasPreviewArtOfType("takeover_mobile_art"),
          ]);
        if (!l) return null;
        let d = o ? 1 : 0;
        return (
          m && (d += 1),
          r.createElement(
            "div",
            { className: c().AssetSection },
            r.createElement(
              v.ug,
              {
                className: c().TitleBar,
                title: (0, g.Xx)(
                  s
                    ? "#AssetRequest_Hub_TakeOver_Title"
                    : "#AssetRequest_TakeOver_Title",
                  `${d}/2`,
                ),
              },
              r.createElement(
                "div",
                { className: c().SectionCtn },
                r.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  r.createElement(_e, {
                    strTemplateURL:
                      "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                    strDocURL:
                      "https://partner.steamgames.com/doc/store/assets/promos",
                    strTemplateName: (0, g.Xx)("#AssetRequest_General_DropBox"),
                  }),
                  r.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_General_Size", 1850, 450),
                  ),
                  r.createElement("br", null),
                  r.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_Mobile_Size", 500, 350),
                  ),
                  r.createElement("br", null),
                  r.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_TakeOver_Usage"),
                  ),
                  r.createElement("br", null),
                  r.createElement(
                    "ul",
                    null,
                    r.createElement(
                      "li",
                      null,
                      (0, g.Xx)("#AssetRequest_TakeOver_Design"),
                    ),
                    r.createElement(
                      "li",
                      null,
                      (0, g.Xx)("#AssetRequest_Takeover_Hint"),
                    ),
                    r.createElement(
                      "li",
                      null,
                      (0, g.Xx)("#AssetRequest_Takeover_Animation"),
                    ),
                  ),
                ),
                r.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  r.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    r.createElement(C, {
                      planID: t.id,
                      promoAssetType: "takeover_art",
                    }),
                    r.createElement(te, {
                      planIdentify: t,
                      promoAssetType: "takeover_art",
                    }),
                  ),
                  r.createElement("br", null),
                  r.createElement("br", null),
                  r.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    r.createElement(C, {
                      planID: t.id,
                      promoAssetType: "takeover_mobile_art",
                    }),
                    r.createElement(te, {
                      planIdentify: t,
                      promoAssetType: "takeover_mobile_art",
                    }),
                  ),
                ),
              ),
            ),
            r.createElement("br", null),
          )
        );
      }
      function te(e) {
        const { planIdentify: t, promoAssetType: a } = e,
          i = (0, n.Dv)().GetPreviewArtOfType(a);
        return r.createElement(
          "div",
          { className: c().AssetRequestPreviewCtn },
          r.createElement("img", {
            src: i?.filename ? S(t.id, i.lang, i.filename) : void 0,
          }),
        );
      }
      function ae(e) {
        const { planIdentify: t } = e,
          a = (0, n.Dv)(),
          [l, s, o] = (0, i.SZ)(() => [
            a.BIsTakeunderArtRequest(),
            a.BHasPreviewArtOfType("takeunder_art"),
            a.BHasPreviewArtOfType("takeunder_mobile_art"),
          ]);
        if (!l) return null;
        let m = s ? 1 : 0;
        return (
          o && (m += 1),
          r.createElement(
            "div",
            { className: c().AssetSection },
            r.createElement(
              v.ug,
              {
                className: c().TitleBar,
                title: (0, g.Xx)("#AssetRequest_Takeunder_Title", `${m}/2`),
              },
              r.createElement(
                "div",
                { className: c().SectionCtn },
                r.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  r.createElement(_e, {
                    strTemplateURL:
                      "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                    strDocURL:
                      "https://partner.steamgames.com/doc/store/assets/promos",
                    strTemplateName: (0, g.Xx)("#AssetRequest_General_DropBox"),
                  }),
                  r.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_General_Size", 940, 150),
                  ),
                  r.createElement("br", null),
                  r.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_Mobile_Size", 500, 160),
                  ),
                  r.createElement("br", null),
                  r.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_Takeunder_Usage"),
                  ),
                  r.createElement("br", null),
                  r.createElement(
                    "ul",
                    null,
                    r.createElement(
                      "li",
                      null,
                      (0, g.Xx)("#AssetRequest_Takeunder_Design"),
                    ),
                    r.createElement(
                      "li",
                      null,
                      (0, g.Xx)("#AssetRequest_Takeunder_Hint"),
                    ),
                  ),
                ),
                r.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  r.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    r.createElement(C, {
                      planID: t.id,
                      promoAssetType: "takeunder_art",
                    }),
                    r.createElement(ne, {
                      planIdentify: t,
                      promoAssetType: "takeunder_art",
                    }),
                  ),
                  r.createElement("br", null),
                  r.createElement("br", null),
                  r.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    r.createElement(C, {
                      planID: t.id,
                      promoAssetType: "takeunder_mobile_art",
                    }),
                    r.createElement(ne, {
                      planIdentify: t,
                      promoAssetType: "takeunder_mobile_art",
                    }),
                  ),
                ),
              ),
            ),
            r.createElement("br", null),
          )
        );
      }
      function ne(e) {
        const { planIdentify: t, promoAssetType: a } = e,
          i = (0, n.Dv)().GetPreviewArtOfType(a);
        return r.createElement(
          "div",
          { className: c().AssetRequestPreviewCtn },
          r.createElement("img", {
            src: i?.filename ? S(t.id, i.lang, i.filename) : void 0,
          }),
        );
      }
      function ie(e) {
        const { planIdentify: t } = e,
          a = (0, n.Dv)(),
          [l, s, o, m, d, u, p] = (0, i.SZ)(() => [
            a.BIsSalePageArtRequest(),
            a.BHasPreviewArtOfType("sale_header"),
            a.BHasPreviewArtOfType("sale_logo"),
            a.BHasPreviewArtOfType("capsule"),
            a.BHasPreviewArtOfType("product_banner"),
            a.BHasPreviewArtOfType("product_mobile_banner"),
            a.BHasPreviewArtOfType("localized_title_image"),
          ]);
        if (!l) return null;
        let _ = s ? 1 : 0;
        return (
          o && (_ += 1),
          m && (_ += 1),
          d && (_ += 1),
          u && (_ += 1),
          p && (_ += 1),
          r.createElement(
            "div",
            { className: c().AssetSection },
            r.createElement(
              v.ug,
              {
                className: c().TitleBar,
                title: (0, g.Xx)("#AssetRequest_SalePage_Title", `${_}/6`),
              },
              r.createElement(
                "div",
                { className: c().SectionCtn },
                r.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  r.createElement(_e, {
                    strTemplateURL:
                      "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                    strDocURL:
                      "https://partner.steamgames.com/doc/store/assets/promos",
                    strTemplateName: (0, g.Xx)("#AssetRequest_General_DropBox"),
                  }),
                  r.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_SalePage_Description"),
                  ),
                  r.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_SalePage_Background_Hint"),
                  ),
                  r.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    r.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, g.Xx)("#AssetRequest_SalePage_Background_Title"),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_General_Size_Min", 1200, 600),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_Background_Usage"),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_Background_Design"),
                    ),
                  ),
                  r.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    r.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, g.Xx)("#AssetRequest_SalePage_Logo_Title"),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_General_Size_Min", 940, 460),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_Logo_Usage"),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_Logo_Design"),
                    ),
                  ),
                  r.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    r.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, g.Xx)("#AssetRequest_SalePage_Cover_Title"),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_General_Size", 800, 450),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_Cover_Usage"),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_Cover_Design"),
                    ),
                  ),
                  r.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    r.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, g.Xx)("#AssetRequest_SalePage_StoreBanner_Title"),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_General_Size", 1100, 160),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_StoreBanner_Usage"),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_StoreBanner_Design"),
                    ),
                  ),
                  r.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    r.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, g.Xx)(
                        "#AssetRequest_SalePage_StoreBannerMobile_Title",
                      ),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_General_Size", 500, 160),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)(
                        "#AssetRequest_SalePage_StoreBannerMobile_Usage",
                      ),
                    ),
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)(
                        "#AssetRequest_SalePage_StoreBannerMobile_Design",
                      ),
                    ),
                  ),
                ),
                r.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  r.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    r.createElement(C, {
                      planID: t.id,
                      promoAssetType: "sale_header",
                    }),
                    r.createElement(re, {
                      planIdentify: t,
                      promoAssetType: "sale_header",
                    }),
                  ),
                  r.createElement("br", null),
                  r.createElement("br", null),
                  r.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    r.createElement(C, {
                      planID: t.id,
                      promoAssetType: "sale_logo",
                    }),
                    r.createElement(re, {
                      planIdentify: t,
                      promoAssetType: "sale_logo",
                    }),
                  ),
                  r.createElement("br", null),
                  r.createElement("br", null),
                  r.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    r.createElement(C, {
                      planID: t.id,
                      promoAssetType: "capsule",
                    }),
                    r.createElement(re, {
                      planIdentify: t,
                      promoAssetType: "capsule",
                    }),
                  ),
                  r.createElement("br", null),
                  r.createElement("br", null),
                  r.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    r.createElement(C, {
                      planID: t.id,
                      promoAssetType: "localized_title_image",
                    }),
                    r.createElement(re, {
                      planIdentify: t,
                      promoAssetType: "localized_title_image",
                    }),
                  ),
                  r.createElement("br", null),
                  r.createElement("br", null),
                  r.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    r.createElement(C, {
                      planID: t.id,
                      promoAssetType: "product_banner",
                    }),
                    r.createElement(re, {
                      planIdentify: t,
                      promoAssetType: "product_banner",
                    }),
                  ),
                  r.createElement("br", null),
                  r.createElement("br", null),
                  r.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    r.createElement(C, {
                      planID: t.id,
                      promoAssetType: "product_mobile_banner",
                    }),
                    r.createElement(re, {
                      planIdentify: t,
                      promoAssetType: "product_mobile_banner",
                    }),
                  ),
                ),
              ),
            ),
            r.createElement("br", null),
          )
        );
      }
      function re(e) {
        const { planIdentify: t, promoAssetType: a } = e,
          i = (0, n.Dv)().GetPreviewArtOfType(a);
        return r.createElement(
          "div",
          { className: c().AssetRequestPreviewCtn },
          r.createElement("img", {
            src: i?.filename ? S(t.id, i.lang, i.filename) : void 0,
          }),
        );
      }
      function le(e) {
        const { planIdentify: t, bAdminView: a } = e,
          l = (0, n.Dv)(),
          [o, d, u] = (0, i.SZ)(() => [
            l.GetModel().requested_promotion_name || "",
            Boolean(l.GetModel().submitting_accountid),
            Boolean(l.GetModel().asset_request_discount_event_id_clone),
          ]),
          [p, _] = (0, r.useState)(() => a || !d);
        return r.createElement(
          "div",
          { className: s().EditCtn },
          r.createElement(
            "div",
            { className: s().PageTitle },
            (0, g.Xx)("#AssetRequest_Title"),
            r.createElement("span", null, o),
          ),
          r.createElement("hr", null),
          Boolean(d) &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(oe, null),
              r.createElement("br", null),
              r.createElement("br", null),
            ),
          r.createElement(
            "div",
            { className: s().ColumnCtn },
            r.createElement(
              "div",
              { className: s().LeftCol },
              d &&
                u &&
                !a &&
                r.createElement(
                  r.Fragment,
                  null,
                  r.createElement(se, {
                    oInput: l,
                    partnerID: t.permitted_partner_id,
                  }),
                  r.createElement("br", null),
                  r.createElement("br", null),
                ),
              Boolean(p)
                ? r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(me, null),
                    r.createElement(ue, {
                      planIdentify: t,
                      fnSetShowDetails: _,
                    }),
                  )
                : r.createElement(
                    "div",
                    { className: c().ReviewSubmissionDetailsCtn },
                    r.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_Complete_SeeAll_Title"),
                    ),
                    r.createElement(
                      m.zx,
                      { onClick: () => _(!0) },
                      (0, g.Xx)("#AssetRequest_Complete_SeeAll_Button"),
                    ),
                  ),
            ),
            r.createElement(U, { planIdentify: t, bShowDetails: p }),
          ),
          Boolean(p) &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement("br", null),
              r.createElement(ee, { planIdentify: t }),
              r.createElement(ae, { planIdentify: t }),
              r.createElement(z, { planIdentify: t }),
              r.createElement(k, { planIdentify: t }),
              r.createElement(ie, { planIdentify: t }),
            ),
        );
      }
      function se(e) {
        const { oInput: t, partnerID: a } = e,
          n = (0, Y.hd)(t.GetDiscountEventID()),
          i = (0, J.vc)(t.GetDiscountEventID()),
          l = `${K.De.PARTNER_BASE_URL}promotion/discounts/dashboard/${a}?de=${t.GetDiscountEventID()}`;
        return r.createElement(
          "div",
          { className: (0, L.Z)(s().SectionCtn, s().Bright) },
          r.createElement(
            "h2",
            null,
            (0, g.Xx)("#AssetRequest_Complete_NextSteps"),
          ),
          r.createElement(
            "div",
            { className: c().DiscountReminderCtn },
            r.createElement(
              "div",
              null,
              (0, g.Xx)("#AssetRequest_Compelte_Reminder"),
            ),
            r.createElement(
              m.KM,
              { onClick: () => window.location.assign(l) },
              (0, g.Xx)("#AssetRequest_Compelte_DiscountTool"),
            ),
          ),
          r.createElement($.KP, { rgPackagesDiscounts: n, oDiscountEvent: i }),
        );
      }
      function oe(e) {
        return r.createElement(
          "div",
          { className: c().AssetRequestDoneCtn },
          r.createElement("div", { className: c().CheckMark }, "✓"),
          r.createElement(
            "div",
            { className: c().Body },
            r.createElement(
              "h2",
              null,
              (0, g.Xx)("#AssetRequest_Complete_Title"),
            ),
            r.createElement(
              "div",
              null,
              (0, g.Xx)("#AssetRequest_Complete_Desc"),
            ),
          ),
        );
      }
      function ce(e) {
        const [t] = (0, r.useState)(() =>
            (0, Q.kQ)("promotion_plan_identity", "application_config"),
          ),
          a = Math.floor(Date.now() / 1e3);
        return r.createElement(
          "div",
          { className: s().AdminPageCtn },
          Boolean(a > t.end_date) &&
            r.createElement(
              "div",
              null,
              "Warning: Promotion is over. No further access is granted.",
            ),
          r.createElement(le, { planIdentify: t, bAdminView: !1 }),
        );
      }
      function me(e) {
        const t = (0, n.Dv)();
        return r.createElement(
          "div",
          { className: (0, L.Z)(s().SectionCtn, s().Bright) },
          r.createElement("h2", null, (0, g.Xx)("#AssetRequest_Intro_Title")),
          r.createElement(
            "div",
            { className: s().SectionIntroRequirements },
            r.createElement(
              "ul",
              null,
              r.createElement(
                "li",
                null,
                (0, g.Xx)("#AssetRequest_Requirements_1"),
              ),
              r.createElement(
                "li",
                null,
                (0, g.Xx)("#AssetRequest_Requirements_2"),
                r.createElement(
                  "ul",
                  null,
                  r.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_Requirements_2a"),
                  ),
                  r.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_Requirements_2b"),
                  ),
                  r.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_Requirements_2c"),
                  ),
                ),
              ),
              r.createElement(
                "li",
                null,
                (0, g.Xx)("#AssetRequest_Requirements_3"),
              ),
              r.createElement(
                "li",
                null,
                (0, g.Xx)("#AssetRequest_Requirements_4"),
              ),
              r.createElement(
                "li",
                null,
                (0, g.yu)(
                  "#AssetRequest_Requirements_5",
                  r.createElement("a", {
                    target: "_blank",
                    href: `${K.De.PARTNER_BASE_URL}doc/store/assets/promos`,
                  }),
                ),
              ),
            ),
          ),
          Boolean(t.BHasValveNote()) &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement("br", null),
              r.createElement(m.__, null, (0, g.Xx)("#AssetRequest_Intro_Msg")),
              r.createElement(
                "div",
                { className: c().CustomMessage },
                t.GetValveNote(),
              ),
            ),
        );
      }
      function de(e) {
        const { bCompleted: t, bRequired: a, title: n, children: i } = e;
        return r.createElement(
          "div",
          null,
          r.createElement(
            "div",
            null,
            r.createElement(
              "div",
              { className: c().ChecklistTitleCtn },
              t
                ? r.createElement("span", { className: c().Completed }, "✓ ")
                : a
                  ? r.createElement(
                      "span",
                      { className: c().RequiredToggle },
                      "🔲 ",
                    )
                  : r.createElement(
                      "span",
                      { className: c().OptionalToggle },
                      "🔳 ",
                    ),
              r.createElement("span", { className: c().ChecklistTitle }, n),
              r.createElement(
                "span",
                {
                  className: (0, L.Z)({
                    [c().Required]: a,
                    [c().Optional]: !a,
                  }),
                },
                " ",
                (0, g.Xx)(
                  a
                    ? "#AssetRequest_General_Upload_req"
                    : "#AssetRequest_General_Upload_opt",
                ),
              ),
            ),
            r.createElement("div", { className: c().ChecklistDescription }, i),
          ),
        );
      }
      function ue(e) {
        const { fnSetShowDetails: t } = e,
          a = (0, n.Dv)(),
          [l, o, d, u, E, S, v, D, f, y, b, I, C, k, A, w, P, T, N, R] = (0,
          i.SZ)(() => [
            a.BIsSpotlightArtRequest(),
            a.BIsMarketingMessageArtRequest(),
            a.BIsMarketingMessageArtRequest_2(),
            a.BHasPreviewArtOfType("spotlight_art"),
            a.BHasPreviewArtOfType("marketingmessage_art"),
            a.BHasPreviewArtOfType("marketingmessage_art_2"),
            a.BHasPartnerNote(),
            a.GetPartnerNote(),
            a.GetArtInputLink(),
            a.BIsDirty(),
            a.GetAssetRequestContactInfo(),
            a.BIsTakeoverArtRequest(),
            a.BHasPreviewArtOfType("takeover_art") &&
              a.BHasPreviewArtOfType("takeover_mobile_art"),
            a.BIsTakeunderArtRequest(),
            a.BHasPreviewArtOfType("takeunder_art") &&
              a.BHasPreviewArtOfType("takeunder_mobile_art"),
            a.BIsSalePageArtRequest(),
            a.BHasPreviewArtOfType("sale_header") &&
              a.BHasPreviewArtOfType("sale_logo") &&
              a.BHasPreviewArtOfType("capsule") &&
              a.BHasPreviewArtOfType("product_banner") &&
              a.BHasPreviewArtOfType("product_mobile_banner") &&
              a.BHasPreviewArtOfType("localized_title_image"),
            a.GetSubmittingAccount(),
            a.BIsEventHeaderImageRequest(),
            a.BHasPreviewArtOfType("localized_title_image"),
          ]),
          G = f?.trim().length > 0,
          x =
            G &&
            b.trim().length > 0 &&
            (!l || u) &&
            (!o || E) &&
            (!d || S) &&
            (!N || R);
        return r.createElement(
          "div",
          { className: s().SectionCtn },
          r.createElement("h2", null, (0, g.Xx)("#AssetRequest_CheckList")),
          Boolean(I) &&
            r.createElement(
              de,
              {
                bCompleted: C,
                title: (0, g.Xx)("#AssetRequest_Check_Takeover"),
                bRequired: !0,
              },
              (0, g.Xx)("#AssetRequest_Check_Takeover_desc"),
            ),
          Boolean(k) &&
            r.createElement(
              de,
              {
                bCompleted: A,
                title: (0, g.Xx)("#AssetRequest_Check_Takeunder"),
                bRequired: !0,
              },
              (0, g.Xx)("#AssetRequest_Check_Takeunder_desc"),
            ),
          Boolean(w) &&
            r.createElement(
              de,
              {
                bCompleted: P,
                title: (0, g.Xx)("#AssetRequest_Check_SalePage"),
                bRequired: !0,
              },
              (0, g.Xx)("#AssetRequest_Check_SalePage_desc"),
            ),
          Boolean(l) &&
            r.createElement(
              de,
              {
                bCompleted: u,
                title: (0, g.Xx)("#AssetRequest_Check_Spotlight"),
                bRequired: !0,
              },
              (0, g.Xx)("#AssetRequest_Check_desc"),
            ),
          Boolean(o) &&
            r.createElement(
              de,
              {
                bCompleted: E,
                title: (0, g.Xx)("#AssetRequest_Check_MM"),
                bRequired: !0,
              },
              (0, g.Xx)("#AssetRequest_Check_desc"),
            ),
          Boolean(d) &&
            r.createElement(
              de,
              {
                bCompleted: S,
                title: (0, g.Xx)("#AssetRequest_Check_MM") + " #2",
                bRequired: !0,
              },
              (0, g.Xx)("#AssetRequest_Check_desc"),
            ),
          r.createElement(pe, null),
          r.createElement(
            de,
            {
              bCompleted: v,
              title: (0, g.Xx)("#AssetRequest_Check_ContactInfo"),
              bRequired: !0,
            },
            r.createElement(
              "div",
              null,
              (0, g.Xx)("#AssetRequest_Check_ContactInfo_desc"),
            ),
            r.createElement(
              "div",
              { className: c().InstructionsTextInput },
              r.createElement("textarea", {
                className: "DialogTextInputBase",
                placeholder: (0, g.Xx)(
                  "#AssetRequest_Check_ContactInfo_placeholder",
                ),
                value: b || "",
                onChange: (e) =>
                  a.SetAssetRequestContactInfo(e?.currentTarget?.value || ""),
              }),
            ),
          ),
          r.createElement(
            de,
            {
              bCompleted: v,
              title: (0, g.Xx)("#AssetRequest_Check_Special"),
              bRequired: !1,
            },
            r.createElement(
              "div",
              null,
              (0, g.Xx)("#AssetRequest_Check_Special_desc"),
            ),
            r.createElement(
              "div",
              { className: c().InstructionsTextInput },
              r.createElement("textarea", {
                className: "DialogTextInputBase",
                placeholder: (0, g.Xx)(
                  "#AssetRequest_Check_Special_placeholder",
                ),
                value: D || "",
                onChange: (e) =>
                  a.SetPartnerNote(e?.currentTarget?.value || ""),
              }),
            ),
          ),
          r.createElement("hr", null),
          r.createElement(
            _.HP,
            {
              toolTipContent: G
                ? void 0
                : (0, g.Xx)("#AssetRequest_InvalidLink"),
            },
            r.createElement(
              m.KM,
              {
                disabled: !x,
                className: c().SubmitButton,
                onClick: (e) =>
                  (0, p.AM)(
                    r.createElement(he, { strURL: f, fnSetShowDetails: t }),
                    (0, h.RA)(e),
                  ),
              },
              (0, g.Xx)(
                T
                  ? "#AssetRequest_Submitted_Button"
                  : "#AssetRequest_Submit_Button",
              ),
            ),
          ),
        );
      }
      function pe(e) {
        const t = (0, n.Dv)(),
          [a] = (0, i.SZ)(() => [t.GetArtInputLink()]);
        return r.createElement(
          de,
          {
            bCompleted: a?.length > 0 && m.II.validateUrl(a),
            title: (0, g.Xx)("#AssetRequest_Link_Title"),
            bRequired: !0,
          },
          r.createElement("div", null, (0, g.Xx)("#AssetRequest_Link_Desc")),
          r.createElement("div", null, (0, g.Xx)("#AssetRequest_Link_Step3")),
          r.createElement("br", null),
          r.createElement(m.II, {
            type: "text",
            label: (0, g.Xx)("#AssetRequest_Link_Title"),
            placeholder: (0, g.Xx)("#AssetRequest_Link_Placeholder"),
            value: a || "",
            mustBeURL: !0,
            onChange: (e) => t.SetInputArtworkLink(e.currentTarget.value),
          }),
        );
      }
      function _e(e) {
        const { strTemplateURL: t, strDocURL: a, strTemplateName: n } = e;
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "h2",
            null,
            (0, g.Xx)("#AssetRequest_General_SpecTitle"),
          ),
          r.createElement(
            "div",
            { className: c().LinkRow },
            r.createElement(
              "a",
              { href: t, target: "_blank" },
              (0, g.Xx)("#AssetRequest_General_Download", n),
            ),
            " ",
            "|",
            " ",
            r.createElement(
              "a",
              { href: a },
              (0, g.Xx)("#AssetRequest_General_SeeDocs"),
            ),
          ),
        );
      }
      function he(e) {
        const { closeModal: t, strURL: a, fnSetShowDetails: i } = e,
          { fnUpdatePipelineInputAsPartner: l } = ((0, n.Dv)(), (0, n.pY)()),
          [s] = (0, I.Ar)("inputaccesskey", void 0),
          o = (0, d.tx)();
        return o.bLoading
          ? r.createElement(d.NT, {
              state: o,
              strDialogTitle: (0, g.Xx)("#AssetRequest_Submit_Title"),
              closeModal: t,
            })
          : r.createElement(
              u.uH,
              {
                strTitle: (0, g.Xx)("#AssetRequest_Submit_Title"),
                onCancel: t,
                onOK: () => {
                  o.fnSetLoading(!0),
                    l(s)
                      .then((e) => {
                        e
                          ? (o.fnSetSuccess(!0),
                            o.fnSetStrSuccess(
                              (0, g.Xx)("#AssetRequest_Submitted"),
                            ),
                            i(!1))
                          : (o.fnSetError(!0),
                            o.fnSetStrError(
                              (0, g.Xx)("#Error_ErrorCommunicatingWithNetwork"),
                            ));
                      })
                      .catch(() => {
                        o.fnSetError(!0),
                          o.fnSetStrError(
                            (0, g.Xx)("#Error_ErrorCommunicatingWithNetwork"),
                          );
                      });
                },
              },
              r.createElement(
                "div",
                null,
                (0, g.Xx)("#AssetRequest_SubmitLink"),
              ),
            );
      }
    },
    17098: (e, t, a) => {
      "use strict";
      a.d(t, { F: () => g });
      var n = a(1698),
        i = a(51485),
        r = a(36342),
        l = a(47427),
        s = a(77681),
        o = a.n(s),
        c = a(1485),
        m = a(13129),
        d = a(65255),
        u = a(40298),
        p = a(17912),
        _ = a(45180);
      const h = [
        "takeover_webm_mobile_art",
        "takeover_mp4_mobile_art",
        "takeover_webm_art",
        "takeover_mp4_art",
      ];
      function g(e) {
        const { bShowLinkToPromotionPlan: t } = e,
          a = (0, r.Gn)(),
          s = (0, i.Dv)(),
          [g, E] = (0, l.useState)(s.BIsEnabled());
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            {
              className: (0, m.Z)(
                o().DefaultSectionCtn,
                o().ValveOnlyBackground,
              ),
            },
            l.createElement(
              "h2",
              { className: o().ValveOnlyTitle },
              "Valve Only",
            ),
            Boolean(g)
              ? l.createElement(u.kF, { bReviewApprovals: !1 })
              : l.createElement(c.ji, {
                  label: "Enable requesting featuring assets from partner?",
                  checked: g,
                  onChange: (e) => {
                    s.SetRequestedArt(
                      n.Vd.filter((e) => !h.includes(e)).filter((e) =>
                        a.BHasPromotionFeaturingForArtRequirement(
                          e,
                          "marketingmessage_art_2" === e ? 1 : void 0,
                        ),
                      ),
                    ),
                      (s.GetModel().requested_promotion_name = a.GetName()),
                      a.BHasDiscountEventID() &&
                        (s.GetModel().asset_request_discount_event_id_clone =
                          a.GetDiscountEventID()),
                      s.SetRequestEnabled(!0),
                      E(e);
                  },
                }),
          ),
          Boolean(t) &&
            l.createElement(
              "a",
              {
                href: `${d.De.PARTNER_BASE_URL}promotion/planning/edit/${s.GetPlanID()}`,
              },
              "Open Containing Promotion Plan",
            ),
          Boolean(g) &&
            l.createElement(p.Vc, {
              planIdentify: a.GetModel(),
              bAdminView: !0,
            }),
          l.createElement(
            "div",
            {
              className: (0, m.Z)(
                o().DefaultSectionCtn,
                o().ValveOnlyBackground,
                o().ActionBar,
              ),
            },
            l.createElement(_.u, { oEditablePlan: a }),
          ),
        );
      }
    },
    22412: (e, t, a) => {
      "use strict";
      a.d(t, { Z: () => o });
      var n = a(47427),
        i = a(31846),
        r = a(12251),
        l = a(46984),
        s = a(82701);
      function o(e) {
        const t =
            !e.rtStartDate ||
            !e.rtEndDate ||
            (0, l.U8)(
              new Date(1e3 * e.rtStartDate),
              new Date(1e3 * e.rtEndDate),
            ),
          a =
            e.rtStartDate &&
            e.rtEndDate &&
            (0, l.U8)(new Date(1e3 * e.rtStartDate), new Date()),
          o = !t && !a;
        if (e.rtStartDate && e.rtEndDate)
          return n.createElement(
            "div",
            { className: e.className },
            (0, r.o2)(e.rtStartDate, e.rtEndDate),
          );
        {
          const t = e.rtStartDate ? (0, i.$1)(e.rtStartDate, o) : "unset",
            a = e.rtEndDate ? (0, i.$1)(e.rtEndDate, o) : "unset";
          return n.createElement(
            "div",
            { className: e.className },
            n.createElement(
              "span",
              { className: e.rtStartDate ? "" : s.Unset },
              t,
            ),
            " -",
            n.createElement(
              "span",
              { className: e.rtEndDate ? "" : s.Unset },
              a,
            ),
          );
        }
      }
    },
    28922: (e, t, a) => {
      "use strict";
      function n(e, t, a) {
        if ("midweek" == e || "weekenddeal" == e) {
          const n = new Date(1e3 * t).getDay(),
            i = new Date(1e3 * a).getDay();
          return (
            t < a &&
            (("midweek" == e && 1 == n && 4 == i) ||
              ("weekenddeal" == e && 4 == n && 1 == i))
          );
        }
        return t < a;
      }
      function i(e, t, a) {
        if (2 == e) {
          const e = new Date(1e3 * t).getDay(),
            n = new Date(1e3 * a).getDay();
          return t < a && 4 == e && 1 == n;
        }
        if (11 == e) {
          const e = new Date(1e3 * t).getDay(),
            n = new Date(1e3 * a).getDay();
          return t < a && 1 == e && 4 == n;
        }
        return t < a;
      }
      function r(e) {
        const t = e ? new Date(1e3 * e) : new Date();
        return (
          t.setHours(10),
          t.setMinutes(0),
          t.setSeconds(0),
          Math.floor(t.getTime() / 1e3)
        );
      }
      function l(e, t) {
        if (t) return t;
        let a = e ? new Date(1e3 * e) : new Date();
        return (
          a.setDate(a.getDate() + 1),
          a.setHours(10),
          a.setMinutes(0),
          a.setSeconds(0),
          Math.floor(a.getTime() / 1e3)
        );
      }
      a.d(t, { ap: () => r, h9: () => l, hQ: () => n, yt: () => i });
    },
    46836: (e, t, a) => {
      "use strict";
      a.d(t, { Ai: () => C, ST: () => A, eS: () => k, zG: () => b });
      var n = a(36876),
        i = a(47427),
        r = a(80886),
        l = a(1485),
        s = a(77178),
        o = a(46882),
        c = a(31846),
        m = a(45651),
        d = a(69368),
        u = a(61178),
        p = a(37563),
        _ = a(81033),
        h = a(1698),
        g = a(16649),
        E = a(34083),
        S = a(93727),
        v = a(50900),
        D = a(46984),
        f = a(59350),
        y = a(86437);
      function b(e) {
        const {
            rtDay: t,
            closeModal: a,
            strInviteID: r,
            nMaxDiscountDays: l,
            nextDiscount: o,
          } = e,
          m = (0, n.Nt)(r);
        return m
          ? i.createElement(w, {
              rtDay: t,
              closeModal: a,
              invite: m,
              nMaxDiscountDays: l,
              nextDiscount: o,
            })
          : i.createElement(s.JX, {
              strDescription: (0, c.Xx)("#DailyDeals_NoInvitation"),
              closeModal: a,
            });
      }
      function I(e) {
        const t = "America/Los_Angeles",
          a = {
            weekday: "short",
            timeZoneName: "longGeneric",
            hour: "numeric",
          };
        let n,
          i = (0, c.$1)(e, a);
        return (
          t != Intl.DateTimeFormat().resolvedOptions().timeZone &&
            (n = (0, c.$1)(e, { ...a, timeZone: t })),
          { strLocal: i, strPacific: n }
        );
      }
      function C(e) {
        const { rtime: t, locTokenLocalTime: a } = e,
          { strLocal: n, strPacific: r } = I(t);
        let l = n;
        return (
          a && (l = (0, c.Xx)(a, l)),
          i.createElement(
            i.Fragment,
            null,
            i.createElement("div", null, l),
            !!r && i.createElement("div", null, r),
          )
        );
      }
      function k(e) {
        const { strLocal: t, strPacific: a } = I(e);
        let n = t;
        return a && (n += " (" + a + ")"), n;
      }
      function A(e) {
        let t = "";
        return (
          (t =
            1 == e
              ? (0, c.Xx)("#DailyDeals_AcceptInvite_Success")
              : 15 == e
                ? (0, c.Xx)("#DailyDeals_AcceptInvite_Error_AccessDenied")
                : 42 == e
                  ? (0, c.Xx)("#DailyDeals_AcceptInvite_Error_NotAvailable")
                  : (0, c.Xx)("#DailyDeals_AcceptInvite_Error")),
          t
        );
      }
      function w(e) {
        const {
            rtDay: t,
            closeModal: a,
            invite: o,
            nMaxDiscountDays: m,
            nextDiscount: b,
          } = e,
          [I, C] = i.useState(new Array()),
          [k, w] = i.useState(S.NB),
          [T, N] = i.useState({
            appid: o.appid,
            bundleid: o.bundleid,
            packageid: o.packageid,
          }),
          R = { appid: o.appid, bundleid: o.bundleid, packageid: o.packageid },
          [G, x] = i.useMemo(
            () => [T ? (0, y.u$)(T) : 0, T ? (0, y.D3)(T) : -1],
            [T],
          ),
          [L] = (0, r.jk)(G, x, f.$N),
          { fnAcceptInvitation: B } = (0, n.fZ)(),
          [M, O] = i.useState(""),
          F = (e) => {
            const t = A(e.errorCode);
            ("dev" != p.De.WEB_UNIVERSE && "beta" != p.De.WEB_UNIVERSE) ||
            1 == e.errorCode
              ? O(t)
              : O(
                  i.createElement(
                    i.Fragment,
                    null,
                    i.createElement("div", null, t),
                    i.createElement(
                      "div",
                      { style: { color: "red" } },
                      "(VO) error details:" +
                        e.errorCode +
                        ", " +
                        e.strErrorMsg,
                    ),
                  ),
                );
          },
          U = i.useCallback(async () => {
            const e = (0, v.Xq)(L);
            let a = "";
            if (14 == L.GetAppType())
              a = (0, _.Q)(
                e,
                e,
                h.FF.get("dailydeal"),
                [o.primary_partnerid],
                [],
              );
            else {
              const t =
                0 == L.GetStoreItemType()
                  ? [L.GetAppID()]
                  : L.GetIncludedAppIDs();
              a = (0, _.Q)(e, e, h.FF.get("dailydeal"), [], t);
            }
            await B(o.inviteid, t, k, a, !1)
              .then((e) => {
                F(e);
              })
              .catch((e) => {
                F((0, g.l)(e));
              });
          }, [L, B, o.inviteid, o.primary_partnerid, k, t]),
          H = i.useCallback(() => {
            a(),
              window.location.assign(
                `${p.De.PARTNER_BASE_URL}promotion${E.PromotionRoutes.DailyDealDashboard()}`,
              );
          }, [a]),
          V = k < S.NB || k > m,
          X = "America/Los_Angeles",
          j = {
            weekday: "short",
            timeZoneName: "longGeneric",
            hour: "numeric",
          },
          q = X != Intl.DateTimeFormat().resolvedOptions().timeZone,
          W = b
            ? Math.floor((b.rtDiscountStart - t + D._H.PerHour) / D._H.PerDay)
            : void 0;
        return i.createElement(
          s.RG,
          { onCancel: a },
          i.createElement(
            l.h4,
            null,
            " ",
            (0, c.Xx)("#DailyDeals_CreateFromInvite"),
            " ",
          ),
          i.createElement(
            l.uT,
            null,
            M
              ? i.createElement("div", { className: u.CreationDialogueBody }, M)
              : i.createElement(
                  "div",
                  null,
                  i.createElement(
                    "div",
                    { className: u.Accept_StartDate },
                    q &&
                      i.createElement(
                        "div",
                        null,
                        (0, c.$1)(t, { ...j, timeZone: X }),
                      ),
                    i.createElement("div", null, (0, c.$1)(t, j)),
                  ),
                  i.createElement(d.Ce, {
                    id: (0, y.u$)(R),
                    itemType: (0, y.D3)(R),
                  }),
                  i.createElement(P, {
                    nDiscountDays: k,
                    fnSetDiscountDays: w,
                    rgDiscountPackages: I,
                    fnSetDiscountPackages: C,
                    nStoreItemID: G,
                    eStoreItemType: x,
                    nMaxDiscountDays: m,
                    nDaysUntilNextDiscount: W,
                  }),
                  Boolean(o.appid) &&
                    i.createElement(d.CC, {
                      nAppID: o.appid,
                      oFeaturedItem: T,
                      fnSetFeaturedItem: N,
                    }),
                ),
          ),
          i.createElement(
            l.$_,
            null,
            M
              ? i.createElement(
                  l.zx,
                  { onClick: H },
                  (0, c.Xx)("#Button_Close"),
                )
              : i.createElement(l.o9, {
                  strOKText: (0, c.Xx)("#Button_Save"),
                  strCancelText: (0, c.Xx)("#Button_Cancel"),
                  onOK: U,
                  bOKDisabled: V,
                  onCancel: a,
                }),
          ),
        );
      }
      function P(e) {
        const {
            nDiscountDays: t,
            fnSetDiscountDays: a,
            rgDiscountPackages: n,
            fnSetDiscountPackages: s,
            nStoreItemID: d,
            eStoreItemType: p,
            nMaxDiscountDays: _,
            nDaysUntilNextDiscount: h,
          } = e,
          [g] = (0, r.jk)(d, p, f.$N);
        if (!g)
          return i.createElement(o.V, {
            size: "small",
            position: "center",
            string: (0, c.Xx)("#Loading"),
          });
        const E = _ ?? S.Ef,
          v =
            E < S.Ef && h > 0
              ? i.createElement(
                  "div",
                  { className: u.DiscountLimited },
                  (0, c.Xx)("#DailyDeals_New_DailiyDeal_DurationLimited", h, E),
                )
              : null;
        return i.createElement(
          "div",
          null,
          i.createElement(
            "div",
            { className: "DialogLabel" },
            (0, c.Xx)("#DailyDeals_New_DailyDeal"),
          ),
          i.createElement(
            "div",
            { className: u.DiscountCtn },
            i.createElement(
              "div",
              null,
              v,
              i.createElement(
                "div",
                null,
                E == S.NB
                  ? (0, c.Xx)("#DailyDeals_New_DailyDeal_Length_Min")
                  : (0, c.Xx)("#DailyDeals_New_DailyDeal_Length", S.NB, E),
              ),
              i.createElement(
                "div",
                { className: u.DiscountInputCtn },
                i.createElement(l.II, {
                  type: "number",
                  min: S.NB,
                  max: E,
                  value: t,
                  onChange: (e) =>
                    a(
                      (0, m.kE)(e?.currentTarget?.value)
                        ? Number.parseInt(e.currentTarget.value)
                        : 0,
                    ),
                }),
              ),
            ),
          ),
          Boolean(g) &&
            i.createElement(T, {
              rgDiscountPackages: n,
              fnSetDiscountPackages: s,
              oAppInfo: g,
            }),
        );
      }
      function T(e) {
        const {
            rgDiscountPackages: t,
            fnSetDiscountPackages: a,
            oAppInfo: n,
          } = e,
          r = n.GetAllPurchaseOptions()?.filter((e) => Boolean(e.packageid));
        return !r || r?.length <= 1
          ? null
          : i.createElement(
              "div",
              { className: u.PackageSelectCtn },
              i.createElement(
                "div",
                { className: "DialogLabel" },
                (0, c.Xx)("#DailyDeals_New_DiscountSelect"),
              ),
              r.map((e) =>
                i.createElement(l.ji, {
                  key: "package" + e.packageid,
                  label: e.purchase_option_name + " (" + e.packageid + ")",
                  checked: t.includes(e.packageid),
                  onChange: (n) => {
                    if (n) a([...t, e.packageid]);
                    else {
                      const n = t.indexOf(e.packageid);
                      if (n) {
                        const e = t.slice(n, 1);
                        a(e);
                      }
                    }
                  },
                }),
              ),
            );
      }
    },
    69368: (e, t, a) => {
      "use strict";
      a.d(t, { CC: () => R, Ce: () => P, WR: () => w, uF: () => x });
      var n = a(81033),
        i = a(93727),
        r = a(48674),
        l = a(47427),
        s = a(86437),
        o = a(80886),
        c = a(1485),
        m = a(83743),
        d = a(77178),
        u = a(46882),
        p = a(16649),
        _ = a(31846),
        h = a(45651),
        g = a(37563),
        E = a(61178),
        S = a(66692),
        v = a(95666),
        D = a(49972),
        f = a(72297),
        y = a(62613),
        b = a(59728),
        I = a(90960),
        C = a(50900),
        k = a(36876),
        A = a(46984);
      function w(e) {
        const { rtDay: t, closeModal: a } = e,
          [r, u] = l.useState(0),
          [h, E] = l.useState(void 0),
          [v] = (0, o.jk)((0, s.u$)(h), (0, s.D3)(h), {
            include_assets: !0,
            include_all_purchase_options: !0,
            include_platforms: !0,
          }),
          [f, y] = l.useState(""),
          { fnAddDailyDeal: b } = (0, i.TQ)(),
          { fnCreateDiscountEvent: I } = (0, n.z8)(),
          [k, A] = l.useState(!0),
          w = 0 == f.length || f.startsWith(g.De.STORE_BASE_URL),
          T = (0, m.tx)(),
          N = (0, l.useCallback)(
            (e, t, n, i) => {
              b(e, t, n, i).then((e) => {
                e ? a() : T.fnSetStrError((0, _.Xx)("#DailyDeals_New_Error"));
              });
            },
            [a, T, b],
          );
        return T.bLoading
          ? l.createElement(m.NT, {
              state: T,
              strDialogTitle: (0, _.Xx)("#DailyDeals_CreateNew", (0, _.$1)(t)),
              closeModal: a,
            })
          : l.createElement(
              d.uH,
              {
                strTitle: (0, _.Xx)("#DailyDeals_CreateNew", (0, _.$1)(t)),
                bDisableBackgroundDismiss: !0,
                onOK: () => {
                  const e = new Date(1e3 * t),
                    a = new Date(e);
                  a.setDate(a.getDate() + 7);
                  const n = Math.floor(a.getTime() / 1e3),
                    i = (0, C.Xq)(v);
                  T.fnSetLoading(!0),
                    k && 0 != r
                      ? I(
                          t,
                          n,
                          i,
                          i,
                          "#discount_desc_preset_daily",
                          [r],
                          h.appid ? [h.appid] : v?.GetIncludedAppIDs(),
                        )
                          .then((e) => N(h, t, f, e.id))
                          .catch((e) => {
                            T.fnSetStrError(
                              "Discount Event Creation Failed: " +
                                (0, p.l)(e).strErrorMsg,
                            );
                          })
                      : N(h, t, f, null);
                },
                onCancel: a,
                bOKDisabled:
                  !Boolean(h) || !Boolean(r) || !h || !w || T.bLoading,
              },
              l.createElement(
                "div",
                { className: "DailyDealEditor" },
                l.createElement(S.Ko, {
                  oChoice: h,
                  fnSetChoice: (e) => {
                    E(e), u(0);
                  },
                }),
                Boolean(h) &&
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(x, {
                      storeItemId: (0, s.u$)(h),
                      itemType: (0, s.D3)(h),
                    }),
                    l.createElement(P, {
                      id: (0, s.u$)(h),
                      itemType: (0, s.D3)(h),
                    }),
                  ),
                Boolean(h) &&
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(c.ji, {
                      label: "Create discount event",
                      checked: k && 0 != r,
                      onChange: A,
                      disabled: 0 == r,
                      tooltip:
                        "Uncheck the box to skip creating the discount event. You can create a discount event separately and associate with the daily deal. The discount event being present will let us find the package discount associated with the daily deal.",
                    }),
                    l.createElement(D.a, {
                      nStoreItemID: (0, s.u$)(h),
                      eStoreItemType: (0, s.D3)(h),
                      nPartnerID: r,
                      setPartnerID: u,
                    }),
                  ),
                l.createElement(c.II, {
                  type: "text",
                  label: (0, _.Xx)("#DailyDeals_New_LinkTo_Title"),
                  tooltip: "URL must started with " + g.De.STORE_BASE_URL,
                  placeholder: (0, _.Xx)("#DailyDeals_New_LinkTo_Placeholder"),
                  onChange: (e) => y(e?.currentTarget?.value || ""),
                }),
              ),
            );
      }
      function P(e) {
        const { id: t, itemType: a } = e,
          [n, i] = (0, o.jk)(t, a, {
            include_assets: !0,
            include_all_purchase_options: !0,
          });
        let r = g.De.PARTNER_BASE_URL + "apps/landing/" + t;
        switch (a) {
          case 1:
            r = g.De.PARTNER_BASE_URL + "store/packagelanding/" + t;
            break;
          case 2:
            r = g.De.PARTNER_BASE_URL + "bundles/view/" + t;
        }
        const s = Boolean(14 === n?.GetAppType());
        return l.createElement(
          "div",
          { className: E.DealCapCtn },
          l.createElement(
            "a",
            { href: n?.GetStorePageURL(), target: "_blank" },
            l.createElement("img", {
              className: E.DealCapImg,
              src: n?.GetAssets().GetHeaderURL(),
            }),
          ),
          l.createElement(
            "div",
            { className: E.DealNameCtn },
            l.createElement(
              "div",
              { className: E.DealName },
              l.createElement(
                "a",
                { href: r, target: "_blank" },
                s &&
                  l.createElement(
                    b.HP,
                    { toolTipContent: "Advertising App" },
                    l.createElement(y.wVt, { style: { width: "20px" } }),
                  ),
                n?.GetName() || t,
              ),
            ),
            s
              ? l.createElement(N, { oStoreItem: n })
              : l.createElement(T, {
                  oStoreItem: n,
                  eLoadState: i,
                  itemType: a,
                }),
          ),
        );
      }
      function T(e) {
        const { oStoreItem: t, eLoadState: a, itemType: n } = e,
          i = (0, I.eD)(t?.GetAppID());
        if (2 == a) {
          let e = (0, _.Xx)("#DailyDeals_App_NotAvailable");
          switch (n) {
            case 2:
              e = (0, _.Xx)("#DailyDeals_Bundle_NotAvailable");
              break;
            case 1:
              e = (0, _.Xx)("#DailyDeals_Package_NotAvailable");
          }
          return l.createElement("div", null, e);
        }
        let r = "?? ";
        return (
          (0, h.kE)(t?.GetBestPurchaseOption()?.final_price_in_cents)
            ? (r = (
                Number.parseInt(
                  t.GetBestPurchaseOption().final_price_in_cents,
                ) / 100
              ).toFixed(2))
            : i && (r = (i / 100).toFixed(2)),
          l.createElement(
            l.Fragment,
            null,
            l.createElement(v.Ll, { oAppInfo: t }),
            l.createElement(
              "div",
              { className: E.CurrentPrice },
              (0, _.Xx)("#DailyDeals_New_CurrentPrice", r),
            ),
            Boolean(t?.GetBestPurchaseOption()?.discount_pct) &&
              l.createElement(
                "div",
                { className: E.DiscountLiveWarning },
                (0, _.Xx)(
                  "#DailyDeals_New_WarningExistingDiscount",
                  t.GetBestPurchaseOption().discount_pct,
                ),
              ),
          )
        );
      }
      function N(e) {
        const { oStoreItem: t } = e,
          a = t.GetStorePageURLOverride();
        return a && 0 != a.trim().length
          ? c.II.validateUrl(a)
            ? l.createElement(
                "div",
                null,
                "Override URL: ",
                l.createElement("a", { href: a, target: "_blank" }, a),
              )
            : l.createElement(
                "div",
                { className: f.WarningStylesWithIcon },
                "Warning: linked provided invalid: ",
                a,
              )
          : l.createElement(
              "div",
              { className: f.WarningStylesWithIcon },
              "Warning: No override URL provided",
            );
      }
      function R(e) {
        const { nAppID: t, oFeaturedItem: a, fnSetFeaturedItem: n } = e,
          [i, m] = (0, o.vs)(t, { include_all_purchase_options: !0 });
        if (2 === m) return null;
        if (!i)
          return l.createElement(u.V, {
            size: "small",
            position: "center",
            string: (0, _.Xx)("#Loading"),
          });
        const d = i
          ?.GetAllPurchaseOptions()
          .filter((e) => Boolean(e.packageid || e.bundleid));
        if (d?.length > 1) {
          const e = new Array(),
            o = (0, s.y)({ appid: t });
          return (
            e.push(
              l.createElement(
                c.EU,
                { value: o, key: o },
                l.createElement(
                  "div",
                  { className: r.AvatarImageCtn },
                  l.createElement("img", {
                    src: i?.GetAssets()?.GetHeaderURL(),
                    className: r.AvatarImage,
                    alt: (0, _.Xx)("#DailyDeals_HeaderArtMissing", t),
                  }),
                ),
                (0, _.Xx)(
                  "#DailyDeals_Featured_App",
                  i.GetName() + " (" + i.GetID() + ")",
                ),
              ),
            ),
            d
              .filter((e) => !e.is_commercial_license)
              .forEach((t) => {
                e.push(
                  l.createElement(G, {
                    key: "key_" + t.packageid + "_" + t.bundleid,
                    purchaseOption: t,
                  }),
                );
              }),
            l.createElement(
              "div",
              { className: E.FeatureSelectCtn },
              l.createElement(
                "div",
                { className: "DialogLabel" },
                (0, _.Xx)("#DailyDeals_Featured_title"),
              ),
              l.createElement(
                "div",
                null,
                (0, _.Xx)("#DailyDeals_Featured_Desc"),
              ),
              l.createElement(
                c.SY,
                { value: (0, s.y)(a), onChange: (e) => n((0, s.hQ)(e)) },
                e,
              ),
            )
          );
        }
        return null;
      }
      function G(e) {
        const { purchaseOption: t } = e,
          a = (0, s.y)(t),
          n = t.packageid
            ? "#DailyDeals_Featured_Package"
            : "#DailyDeals_Featured_Bundle",
          i = (0, s.Bl)(void 0, t.packageid, t.bundleid),
          [m] = (0, o.jk)(i.id, (0, s.GV)(i.item_type), { include_assets: !0 });
        return l.createElement(
          c.EU,
          { key: a, value: a },
          Boolean(m) &&
            l.createElement(
              "div",
              { className: r.AvatarImageCtn },
              l.createElement("img", {
                src: m?.GetAssets()?.GetHeaderURL(),
                className: r.AvatarImage,
                alt: (0, _.Xx)(
                  "bundle" == i.item_type
                    ? "#DailyDeals_BundleHeaderArtMissing"
                    : "#DailyDeals_PackageHeaderArtMissing",
                  i.id,
                ),
              }),
            ),
          l.createElement(
            "div",
            { className: E.GameName },
            (0, _.Xx)(
              n,
              t.purchase_option_name + " (" + (t.packageid || t.bundleid) + ")",
            ),
          ),
        );
      }
      function x(e) {
        const { storeItemId: t, itemType: a } = e,
          n = (0, k.Bd)(1),
          r = (0, i.Mg)();
        if (
          n.find((e) => {
            const n = (0, s.u$)(e),
              i = (0, s.iV)(e);
            return n == t && i == a;
          })
        )
          return l.createElement(
            "p",
            { className: f.WarningStylesWithIcon },
            "Invite for this store item already exists",
          );
        const o = Date.now() / 1e3 - 3 * A._H.PerMonth,
          c = r.find(
            (e) =>
              e.store_item_id == t &&
              (0, C.Kd)(e.store_item_type) == a &&
              e.rtime32_start_time > o,
          );
        return c
          ? l.createElement(
              "p",
              { className: f.WarningStylesWithIcon },
              "A Daily Deal already exists for this store item on ",
              (0, _.$1)(c.rtime32_start_time),
            )
          : null;
      }
    },
    66692: (e, t, a) => {
      "use strict";
      a.d(t, { Ko: () => y, cP: () => v, r5: () => D });
      var n = a(99125),
        i = a(52077),
        r = a(93727),
        l = a(47427),
        s = a(15690),
        o = a(86437),
        c = a(1485),
        m = a(83743),
        d = a(10162),
        u = a(77178),
        p = a(23665),
        _ = a(31846),
        h = a(50900),
        g = a(47986),
        E = a(69368),
        S = a(46882);
      function v(e) {
        const { dealid: t, closeModal: a } = e,
          n = (0, r.V2)(t),
          { fnSaveDailyDeal: o } = (0, r.oQ)(),
          c = l.useMemo(() => (0, h.$)(n), [n]);
        return l.createElement(D, {
          oFeaturedItem: c,
          closeModal: a,
          onConfirmFeatureItem: async (e) => {
            const t = (0, h.GB)(e),
              a = s.Z.Get().GetStoreItem(
                t.store_item_id,
                (0, h.Kd)(t.store_item_type),
              ),
              r = { ...n, store_item_name: a?.GetName() ?? "", ...t };
            try {
              const e = await o(r);
              if (e) return i.KF.Get().InitDailyDealToEdit(r, !0), e;
            } catch (e) {}
            return !1;
          },
        });
      }
      function D(e) {
        const {
            oFeaturedItem: t,
            onConfirmFeatureItem: a,
            closeModal: i,
            bExcludeBundle: r,
            strTitleOverride: s,
            bIncludeHidden: c,
          } = e,
          [d, p] = l.useState(t),
          _ = (0, n.fL)(d),
          h = (0, m.tx)();
        if (h.bLoading)
          return l.createElement(m.NT, {
            state: h,
            strDialogTitle: s || "Update Featuring",
            closeModal: i,
          });
        const g = (0, o.Bl)(d?.appid, d?.packageid, d?.bundleid);
        return l.createElement(
          u.uH,
          {
            strTitle: s || "Update Featuring",
            bDisableBackgroundDismiss: !0,
            strOKButtonText: "Confirm and Save",
            onCancel: i,
            bOKDisabled:
              !d ||
              h.bLoading ||
              JSON.stringify(d) == JSON.stringify(t) ||
              !_.data,
            onOK: async () => {
              h.fnSetLoading(!0);
              try {
                (await a(d)) ? h.fnSetSuccess(!0) : h.fnSetError(!0);
              } catch (e) {
                h.fnSetError(!0);
              }
            },
          },
          l.createElement(y, {
            oChoice: d,
            fnSetChoice: p,
            bExcludeBundle: r,
            bIncludeHidden: c,
          }),
          l.createElement(E.Ce, { id: g.id, itemType: (0, o.GV)(g.item_type) }),
          Boolean(d?.appid) &&
            l.createElement(E.CC, {
              nAppID: d.appid,
              oFeaturedItem: d,
              fnSetFeaturedItem: p,
            }),
          l.createElement(f, { oFeaturedItem: d }),
        );
      }
      function f(e) {
        const { oFeaturedItem: t } = e,
          a = (0, n.fL)(t);
        if (!a || !t || !a.data) return null;
        if (a.isLoading)
          return l.createElement(S.V, {
            size: "small",
            string: "Loading Country Restrictions",
          });
        const i = a.data;
        if (!i.no_restrictions) {
          if (i.allowed_countries?.length > 0)
            return l.createElement(
              "div",
              null,
              "Country Allow List: ",
              i.allowed_countries.join(","),
            );
          if (i.restricted_countries?.length > 0)
            return l.createElement(
              "div",
              null,
              "Country Restriction List: ",
              i.restricted_countries.join(","),
            );
        }
        return null;
      }
      function y(e) {
        const {
            oChoice: t,
            fnSetChoice: a,
            bExcludeApp: n,
            bExcludePackage: i,
            bExcludeBundle: r,
            bIncludeHidden: s,
          } = e,
          o = [];
        return (
          n ||
            o.push({
              name: "App",
              key: "app",
              contents: l.createElement(
                d.SV,
                null,
                l.createElement(g.u, {
                  strLabel: (0, _.Xx)("#DailyDeals_New_SelectGame"),
                  itemType: 0,
                  fnSetItemID: (e) => {
                    t?.appid != e && a({ appid: e });
                  },
                }),
              ),
            }),
          i ||
            o.push({
              name: "Package",
              key: "package",
              contents: l.createElement(
                d.SV,
                null,
                l.createElement(g.u, {
                  strLabel: (0, _.Xx)("#DailyDeals_New_SelectPackage"),
                  itemType: 1,
                  fnSetItemID: (e) => {
                    t?.packageid != e && a({ packageid: e });
                  },
                }),
              ),
            }),
          r ||
            o.push({
              name: "Bundle",
              key: "bundle",
              contents: l.createElement(
                d.SV,
                null,
                l.createElement(g.u, {
                  strLabel: (0, _.Xx)("#DailyDeals_New_SelectBundle"),
                  itemType: 2,
                  fnSetItemID: (e) => {
                    t?.bundleid != e && a({ bundleid: e });
                  },
                }),
              ),
            }),
          s &&
            o.push({
              name: "Unpublished Items",
              key: "unpublished",
              contents: l.createElement(
                d.SV,
                null,
                l.createElement(b, { oChoice: t, fnSetChoice: a }),
              ),
            }),
          l.createElement(p.n, {
            tabs: o,
            bDisableRouting: !0,
            startingTab: "app",
          })
        );
      }
      function b(e) {
        const { oChoice: t, fnSetChoice: a } = e,
          n = (0, o.u$)(t),
          [i, r] = l.useState((0, o.D3)(t, 0));
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(c.II, {
            type: "number",
            value: n,
            label: "Enter Store Item ID #",
            onChange: (e) => {
              const t = Number.parseInt(e.currentTarget.value);
              if (null == t || Number.isNaN(t) || 0 === t) a(void 0);
              else
                switch (i) {
                  case 2:
                    a({ bundleid: t });
                    break;
                  case 1:
                    a({ packageid: t });
                    break;
                  default:
                    a({ appid: t });
                }
            },
          }),
          l.createElement(c.ry, {
            label: "Store Item Type",
            rgOptions: [
              { label: "Apps (all kinds)", data: 0 },
              { label: "Bundle", data: 2 },
              { label: "Package", data: 1 },
            ],
            onChange: (e) => r(e.data),
            contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
            selectedOption: i,
          }),
        );
      }
    },
    95666: (e, t, a) => {
      "use strict";
      a.d(t, {
        B9: () => w,
        KP: () => b,
        Ll: () => A,
        SG: () => y,
        bG: () => k,
      });
      var n = a(81033),
        i = a(7073),
        r = a(90960),
        l = a(47427),
        s = a(80886),
        o = a(1485),
        c = a(10162),
        m = a(85305),
        d = a(72297),
        u = a.n(d),
        p = a(13129),
        _ = a(31846),
        h = a(65255),
        g = a(34748),
        E = a(15282),
        S = a(93727),
        v = a(7492),
        D = a(46984),
        f = a(95518);
      function y(e) {
        const { oDailyDeal: t } = e,
          a = (0, n.vc)(t.discount_event_id?.toString()),
          {
            nDiscountPercentHigh: i,
            nDiscountPercentLow: r,
            dtDiscountStart: s,
            dtDiscountEnd: o,
            rgDiscounts: d,
          } = (0, S.Wp)(t);
        let u = "?? %",
          _ = null,
          E = null;
        var v, D;
        return (
          d.length > 0 &&
            null != r &&
            null != i &&
            (u = (v = r) == (D = i) ? v + "%" : v + "% - " + D + "%"),
          (_ = l.createElement(b, {
            rgPackagesDiscounts: d,
            oDiscountEvent: a,
            nDiscountStart: s,
            nDiscountEnd: o,
          })),
          a?.id &&
            (E = `${h.De.PARTNER_BASE_URL}admin/editdiscountevent/${a?.id}`),
          l.createElement(
            c.SV,
            null,
            l.createElement(
              m.tl,
              {
                hoverProps: { direction: "left", style: { minWidth: "350px" } },
                hoverContent: _,
                className: g.HoverCtn,
                strClickUrl: h.L7.is_support ? E : void 0,
              },
              l.createElement(
                "div",
                {
                  className: (0, p.Z)(
                    g.Pct,
                    "?? %" == u ? g.MissingDiscount : "",
                  ),
                },
                u,
              ),
            ),
          )
        );
      }
      function b(e) {
        const {
            rgPackagesDiscounts: t,
            oDiscountEvent: a,
            nBundleID: n,
            nDiscountStart: i,
            nDiscountEnd: r,
          } = e,
          o = t?.length ?? 0,
          c = t?.slice(0, Math.min(o, 10));
        (0, s.dY)(c?.map((e) => e.packageID) || [], {});
        const m = !(0, v.Z)() && h.L7.is_support;
        return l.createElement(
          "div",
          { className: g.HoverObject },
          l.createElement(
            "div",
            { className: "DialogLabel" },
            a
              ? (0, _.Xx)("#DailyDeals_DiscountEvent")
              : (0, _.Xx)("#DailyDeals_DiscountInfo"),
          ),
          l.createElement(
            "div",
            { className: g.HoverDetailsCtn },
            Boolean(a) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  { className: g.DiscountDates },
                  (0, _.$1)(a.start_date),
                  " - ",
                  (0, _.$1)(a.end_date),
                ),
              ),
            !Boolean(a) &&
              Boolean(i) &&
              Boolean(r) &&
              l.createElement(
                "div",
                { className: g.DiscountDates },
                (0, _.$1)(i),
                " - ",
                (0, _.$1)(r),
              ),
          ),
          m &&
            Boolean(a) &&
            !a.appids?.length &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "div",
                { className: u().WarningIconLayout },
                (0, _.Xx)("#DailyDeals_DiscountEvent_Incomplete"),
              ),
            ),
          l.createElement(
            "div",
            { className: g.DiscountedPackageList },
            Boolean(!c || 0 == c.length) &&
              l.createElement(
                "div",
                null,
                (0, _.Xx)("#DailyDeals_NoDiscountsEntered"),
              ),
            c?.map((e) =>
              l.createElement(C, {
                key: "dis_" + e.nDiscountID + "_" + e.nDiscountID,
                oDiscount: e,
              }),
            ),
            Boolean(o > 10) &&
              l.createElement(
                "div",
                null,
                (0, _.Xx)("#DailyDeals_MorePackages", o - 10),
              ),
          ),
          h.L7.is_support &&
            Boolean(n) &&
            l.createElement(I, { oDiscountEvent: a, bundleid: n }),
        );
      }
      function I(e) {
        const { oDiscountEvent: t, bundleid: a } = e,
          [i] = (0, s.yo)(a, { include_basic_info: !0 }),
          { fnUpdateDiscountEventAppAndPublisherList: r } = (0, n.Lr)();
        return i
          ? l.createElement(
              o.zx,
              {
                onClick: (e) => {
                  r(t.id, t.publisherids || [], i.GetIncludedAppIDs());
                },
              },
              "Update Discount Event's permitted AppIDs from Bundle Definition",
            )
          : null;
      }
      function C(e) {
        const { oDiscount: t } = e,
          [a] = (0, s.ie)(t.packageID, {});
        return a
          ? l.createElement(
              "div",
              { className: g.DiscountedPackage },
              a.GetName(),
              "( ",
              t.packageID,
              " ) @ ",
              l.createElement("div", null, t.nDiscountPct, "%"),
            )
          : l.createElement(
              "div",
              { className: g.DiscountedPackage },
              "( ",
              t.packageID,
              " ) @ ",
              l.createElement("div", null, t.nDiscountPct, "%"),
            );
      }
      function k(e) {
        const { strDiscountEventID: t, nBundleID: a } = e,
          r = (0, i.hd)(t),
          s = (0, n.vc)(t);
        return l.createElement(b, {
          rgPackagesDiscounts: r,
          oDiscountEvent: s,
          nBundleID: a,
        });
      }
      function A(e) {
        const { oAppInfo: t } = e,
          a = (0, r.q_)(t?.GetAppID());
        return t && a?.length > 0
          ? l.createElement(
              E.V,
              { rgPackagesToLoad: a, size: "small" },
              l.createElement(w, { rgPackageIDs: a }),
            )
          : l.createElement(
              "div",
              null,
              (0, _.Xx)("#DailyDeals_New_NoLastDiscount"),
            );
      }
      function w(e) {
        const {
            rgPackageIDs: t,
            bHidePackage: a,
            bShowDiscountEventName: r,
            bShowCooldownState: s,
          } = e,
          { mostRecentDiscount: o, bLoading: c } = (0, i.k1)(t),
          m = (0, n.vc)(o?.discountEventID);
        if (c) return null;
        if (!o)
          return l.createElement(
            "div",
            null,
            (0, _.Xx)("#DailyDeals_New_NoLastDiscount"),
          );
        const d = (0, _.vX)(o.rtStartDate),
          u = (0, _.vX)(o.rtEndDate),
          p = Date.now() / 1e3,
          E = "unique" == m?.collision_type ? 0 : f.Eh,
          S = o.rtEndDate + D._H.PerDay * E,
          v = s && S > p,
          y = p - 7884864,
          b =
            o.rtEndDate > p
              ? l.createElement(
                  l.Fragment,
                  null,
                  l.createElement(
                    "div",
                    { className: g.Inline },
                    (0, _.kQ)(
                      "#DailyDeals_New_LastDiscount_Ends",
                      l.createElement(
                        "span",
                        { className: g.ActiveDiscount },
                        (0, _.vX)(o.rtEndDate),
                      ),
                    ),
                  ),
                  a ? "" : l.createElement("br", null),
                )
              : l.createElement(
                  l.Fragment,
                  null,
                  a ? "" : l.createElement("br", null),
                );
        return l.createElement(
          "div",
          { className: g.LastDiscount },
          (0, _.kQ)(
            a
              ? "#DailyDeals_New_LastDiscount_SansPackage"
              : "#DailyDeals_New_LastDiscount",
            l.createElement(
              "span",
              { className: o.rtStartDate > y ? g.RecentDiscount : "" },
              d + " - " + u,
            ),
            o.nDiscountPct,
            a
              ? ""
              : l.createElement(
                  "a",
                  {
                    href: `${h.De.PARTNER_BASE_URL}packages/discounts/${o.packageID}`,
                  },
                  o.packageID,
                ),
            b,
          ),
          Boolean(r && o?.discountEventID) &&
            l.createElement(P, { strDiscountEventID: o.discountEventID }),
          v &&
            l.createElement(
              "div",
              { className: g.CooldownActive },
              (0, _.Xx)("#DailyDeals_New_CooldownActive", (0, _.vX)(S)),
            ),
        );
      }
      function P(e) {
        const { strDiscountEventID: t } = e,
          a = (0, n.vc)(t);
        return a ? l.createElement("div", null, a.name) : null;
      }
    },
    15282: (e, t, a) => {
      "use strict";
      a.d(t, { V: () => d, j: () => m });
      var n = a(80751),
        i = a.n(n),
        r = a(7073),
        l = a(47427),
        s = a(46882),
        o = a(31846),
        c = a(37563);
      function m(e) {
        const { bSkipLoadingPackages: t } = e,
          a = (0, c.kQ)("package_discount_to_batchload", "application_config");
        return t
          ? l.createElement(l.Fragment, null, e.children)
          : l.createElement(
              d,
              { rgPackagesToLoad: a, size: "medium" },
              e.children,
            );
      }
      function d(e) {
        const { rgPackagesToLoad: t } = e,
          a = (0, r.yI)(),
          [n, c] = l.useState(t?.length > 0);
        return (
          l.useEffect(() => {
            const e = i().CancelToken.source();
            return (
              t?.length > 0
                ? a(t).then(() => {
                    e.token.reason || c(!1);
                  })
                : c(!1),
              () => e.cancel("unmounting WithPackagesDiscountLoaded")
            );
          }, [a, t]),
          n
            ? l.createElement(s.V, {
                position: "center",
                string: (0, o.Xx)("#DailyDeals_LoadingPackageDiscounts"),
                size: e.size,
              })
            : l.createElement(l.Fragment, null, e.children)
        );
      }
    },
    90831: (e, t, a) => {
      "use strict";
      a.d(t, { V: () => y, d: () => b });
      var n = a(1698),
        i = a(81033),
        r = a(30750),
        l = a(47427),
        s = a(15459),
        o = a(15690),
        c = a(86437),
        m = a(80886),
        d = a(1485),
        u = a(83743),
        p = a(77178),
        _ = a(90069),
        h = a(46882),
        g = a(16649),
        E = a(50423),
        S = a(46984),
        v = a(49972),
        D = a(26475),
        f = a(60688);
      function y(e) {
        const { oEditablePlan: t } = e,
          a = (0, r.SZ)(() => t.GetStoreItemKey()),
          [i] = (0, m.jk)(a?.id, (0, c.YF)(a), { include_platforms: !0 });
        return l.createElement(
          "div",
          { className: f.LinkCtn },
          l.createElement(D.j_, {
            name: "Discount Event ID",
            placeHolder: "/admin/editdiscountevent/<grab this ID>",
            id: t.GetDiscountEventID(),
            fnSetID: t.SetDiscountEventID,
            fnGetURL: n.tA.GetDiscountEditURL,
          }),
          l.createElement(
            "div",
            { className: f.ButtonRow },
            Boolean(i)
              ? l.createElement(
                  d.zx,
                  {
                    onClick: (e) => {
                      (0, _.AM)(
                        l.createElement(I, { oEditablePlan: t, oStoreItem: i }),
                        (0, E.RA)(e),
                      );
                    },
                  },
                  "Create new",
                )
              : l.createElement(
                  "p",
                  null,
                  "Link an individual app in order to easily create a discount event from here. Otherwise, go to discount event editor to create manually.",
                ),
            l.createElement(
              d.zx,
              {
                onClick: (e) => {
                  (0, _.AM)(
                    l.createElement(C, { oEditablePlan: t }),
                    (0, E.RA)(e),
                  );
                },
              },
              "Select from existing",
            ),
          ),
        );
      }
      function b(e, t, a, i) {
        const r = new Date(1e3 * t);
        return `${n.j.get(e)} - ${String(r.getUTCMonth() + 1).padStart(2, "0")}/${String(r.getUTCDate()).padStart(2, "0")}/${String(r.getUTCFullYear()).padStart(2, "0")} - ${a?.GetName() ?? (0, c.y)(i)}`;
      }
      function I(e) {
        const { oEditablePlan: t, closeModal: a, oStoreItem: r } = e,
          s = t.GetType(),
          o = t.GetFeaturedItemID(),
          m = t.GetFeaturedItemType(),
          [_, h] = (0, l.useState)(
            b(
              s,
              t.GetStartDate(),
              r,
              (0, c.Bo)(r.GetID(), r.GetStoreItemType()),
            ),
          ),
          E = (0, l.useMemo)(() => {
            const e = [];
            return (
              Array.from(n.FF.values()).forEach((t) => {
                e.indexOf(t) && e.push(t);
              }),
              e.map((e) => ({ label: e, data: e }))
            );
          }, []),
          [D, y] = (0, l.useState)(n.FF.get(s)),
          [I, C] = (0, l.useState)(t.BHasDiscountEventID()),
          [k, A] = (0, l.useState)(0),
          { fnCreateDiscountEvent: w } = (0, i.z8)(),
          P = (0, u.tx)();
        return P.bLoading
          ? l.createElement(u.NT, {
              state: P,
              strDialogTitle: "Create New Discount Event",
              closeModal: a,
            })
          : I
            ? l.createElement(p.uH, {
                strTitle: "Create Discount Event?",
                strDescription: `You already have Discount Event with ID ${t.GetDiscountEventID()} associated with this promotion plan.  Are you sure you want to create a new one?`,
                onCancel: a,
                onOK: () => C(!1),
                strOKButtonText: "Create Discount Event Anyways",
              })
            : l.createElement(
                p.uH,
                {
                  strTitle: "Create New Discount Event",
                  strDescription:
                    "Create and link a discount event from date range and featured item from the existing plan? ",
                  onCancel: a,
                  bOKDisabled:
                    0 == _.trim().length ||
                    0 == D?.trim().length ||
                    (!t.BHasAssociatedSaleEvent() && !r) ||
                    P.bLoading,
                  bAllowFullSize: !0,
                  className: f.ModalMax,
                  onOK: async () => {
                    P.fnSetLoading(!0);
                    const e = t.GetStartDate(),
                      a = t.GetType();
                    let i = t.GetEndDate();
                    if (n.Ii.has(a)) {
                      i = e + n.Ii.get(a).nDaysDiscountEvent * S._H.PerDay;
                    }
                    await w(
                      e,
                      i,
                      _,
                      _,
                      D,
                      0 == k ? null : [k],
                      0 == m ? [o] : r?.GetIncludedAppIDs(),
                    )
                      .then((e) => {
                        e
                          ? (t.SetDiscountEventID(e.id),
                            P.fnSetStrSuccess(
                              "Create Discount Event Successful. Remember to Save the Promotion Plan.",
                            ))
                          : P.fnSetStrError(
                              "Create Discount Event failed. Check console output",
                            );
                      })
                      .catch((e) => {
                        const t =
                          "Discount Event Creation Failed: " +
                          (0, g.l)(e).strErrorMsg +
                          ". ";
                        console.log(
                          "discount event create failed",
                          (0, g.l)(e),
                          e,
                        ),
                          P.fnSetStrError(t);
                      });
                  },
                },
                l.createElement("br", null),
                l.createElement("br", null),
                l.createElement(d.II, {
                  value: _,
                  onChange: (e) => h(e.currentTarget.value),
                  label: "Internal Name",
                }),
                l.createElement(d.ry, {
                  label: "Discount Event Label",
                  rgOptions: E,
                  selectedOption: D,
                  onChange: (e) => y(e.data),
                }),
                l.createElement(v.a, {
                  nStoreItemID: o,
                  eStoreItemType: m,
                  nPartnerID: k,
                  setPartnerID: A,
                }),
              );
      }
      function C(e) {
        const { oEditablePlan: t, closeModal: a } = e,
          { rgDiscountEvents: n, eResult: r } = (0, i.BS)(),
          [c, m] = (0, l.useState)(null);
        (0, l.useEffect)(() => {
          if (n) {
            const e = new Set();
            n.forEach((t) => t.appids?.forEach((t) => e.add(t))),
              o.Z.Get().QueueMultipleAppRequests(Array.from(e), {});
          }
        }, [n]);
        const u = (0, l.useMemo)(
          () =>
            (n || []).map((e) => ({
              label: e.name,
              value: e.id,
              discountEvent: e,
            })),
          [n],
        );
        return n
          ? l.createElement(
              p.uH,
              {
                strTitle: "Select an Upcoming Discount Event",
                strDescription:
                  "This only surfaces active or upcoming Discount Event. This doesn't have access to archived discount events.",
                onCancel: a,
                closeModal: a,
                onOK: () => {
                  t.SetDiscountEventID(c);
                },
                bOKDisabled: Boolean(!c),
              },
              l.createElement(
                "div",
                { className: f.DiscountEventChooser },
                l.createElement(d.__, null, "Choose Discount Event:"),
                l.createElement(s.ZP, {
                  options: u,
                  value: u.find((e) => e.value === c),
                  onChange: (e) => m(e?.value || null),
                  isSearchable: !0,
                  isMulti: !1,
                  isClearable: !0,
                  filterOption: (e, t) => {
                    if (!Boolean(t)) return !0;
                    const a = t.toLowerCase(),
                      n = e.data.discountEvent;
                    return (
                      e.label.toLowerCase().search(a) >= 0 ||
                      n.opt_in_name?.toLowerCase().search(a) >= 0 ||
                      n.appids?.some((e) => {
                        const t = o.Z.Get().GetApp(e);
                        return t?.GetName().toLowerCase().search(a) >= 0;
                      })
                    );
                  },
                }),
              ),
            )
          : l.createElement(
              p.uH,
              { strTitle: "Loading Discount Events" },
              l.createElement(h.V, { string: "Loading", size: "medium" }),
            );
      }
    },
    87814: (e, t, a) => {
      "use strict";
      a.d(t, { QG: () => mt, bQ: () => it, Fv: () => ot });
      var n = a(4618),
        i = a(1698),
        r = a(36342),
        l = a(30750),
        s = a(47427),
        o = a(77681),
        c = a.n(o),
        m = a(1485),
        d = a(10162),
        u = a(71472),
        p = a(71741),
        _ = a.n(p),
        h = a(90069),
        g = a(23665),
        E = a(13129),
        S = a(50423),
        v = a(31846),
        D = a(12251),
        f = a(18133),
        y = a.n(f),
        b = a(40298),
        I = a(80751),
        C = a.n(I),
        k = a(65255),
        A = a(82756);
      const w = 4985300096;
      function P(e) {
        const t = new Date(1e3 * e);
        return `${t.getFullYear()}-${String(t.getUTCMonth() + 1).padStart(2, "0")}-${String(t.getUTCDate()).padStart(2, "0")}`;
      }
      function T(e) {
        const t = new Date(1e3 * e);
        return `${String(t.getUTCHours()).padStart(2, "0")}:${String(t.getUTCMinutes()).padStart(2, "0")}:00`;
      }
      var N = a(51915),
        R = a(83743),
        G = a(46984),
        x = a(83190),
        L = a(92012),
        B = a(64936),
        M = a(37047);
      const O = 1 * G._H.PerDay;
      function F(e) {
        const { closeModal: t, oEditablePlan: a, bSteamChinaOnly: n } = e,
          i = (0, B.zD)(),
          r = (function () {
            const [e] = (0, s.useState)(() =>
              (0, A.kQ)("mondays_webapi_token", "application_config"),
            );
            return (0, s.useCallback)(
              async (t) => {
                const a = {
                    date4: { date: P(t.rtDueDate), time: T(t.rtDueDate) },
                    priority: {
                      label: t.bHighPriority ? "ASAP ⚠️️" : "Medium",
                    },
                    link: { url: t.strFilesURL, text: t.strFilesURL },
                    link8: {
                      url: `${k.De.PARTNER_BASE_URL}promotion/assetportal/localization/${t.planid}`,
                      text: `${k.De.PARTNER_BASE_URL}promotion/assetportal/localization/${t.planid}`,
                    },
                    date8: { date: P(t.rtLiveDate), time: T(t.rtLiveDate) },
                    numbers: "" + t.nNumAssets,
                    long_text: t.strDescription,
                    text: t.strRequestorName,
                    link1: {
                      url: t.strInternalURL || "",
                      text: t.strInternalURL || "",
                    },
                  },
                  n = {
                    myItemName: t.strEventName,
                    columnVals: JSON.stringify(a),
                  },
                  i = `mutation ($myItemName: String!, $columnVals: JSON!) { create_item (board_id:${w}, item_name:$myItemName, column_values:$columnVals) { id } }`,
                  r = await C().post(
                    "https://api.monday.com/v2/",
                    JSON.stringify({ query: i, variables: JSON.stringify(n) }),
                    {
                      headers: {
                        Authorization: e,
                        "Content-Type": "application/json",
                      },
                    },
                  );
                return (
                  "dev" == k.De.WEB_UNIVERSE &&
                    console.log(
                      "asset localization workflow dev debug info: ",
                      r,
                    ),
                  r && 200 == r.status && r.data?.data?.create_item?.id
                    ? r.data?.data?.create_item?.id
                    : null
                );
              },
              [e],
            );
          })(),
          o = (0, N.IE)(k.L7.accountid),
          [c, d, u, p, _, h, g] = (0, l.SZ)(() => [
            a.GetID(),
            a.GetName(),
            a.GetStartDate(),
            a.GetEndDate(),
            a.GetArtworkLocalizationDropboxLink(),
            a.GetAssociatedAssetURLForHTML(),
            a.GetNumArtworkLocalizationRequired(),
          ]),
          [E, S] = (0, s.useState)(() => u - O),
          [f, y] = (0, s.useState)(() => E < i),
          [b, I] = (0, s.useState)(() =>
            n
              ? "Translate to Simplified Chinese Only"
              : "Translate to all supported language.",
          ),
          G = (0, R.tx)();
        return G.bLoading
          ? s.createElement(R.NT, {
              state: G,
              strDialogTitle: "Creating Localization Request...",
              closeModal: t,
            })
          : s.createElement(
              x.P,
              {
                strTitle: "Create Localization Request",
                strDescription:
                  "Create a localization request after you have uploaded the assets to dropbox. Note that the event starts on " +
                  (0, v.$1)(u) +
                  " @ " +
                  (0, D.Sc)(u),
                onCancel: t,
                onOK: async () => {
                  G.fnSetLoading(!0);
                  const e = {
                      planid: c,
                      strEventName: d,
                      rtDueDate: E,
                      rtLiveDate: u,
                      nNumAssets: g,
                      strDescription: b || "",
                      strRequestorName:
                        o?.data?.m_strPlayerName || "" + k.L7.accountid,
                      bHighPriority: f,
                      strFilesURL: _,
                      strInternalURL: h,
                    },
                    t = await r(e);
                  t
                    ? (a.SetArtworkLocalizationRequestTime(
                        Math.floor(Date.now() / 1e3),
                        t,
                      ),
                      G.fnSetSuccess(!0))
                    : (G.fnSetError(!0),
                      G.fnSetStrError(
                        "Chech console for errors and/or try again shortly",
                      ));
                },
              },
              s.createElement("br", null),
              s.createElement("br", null),
              s.createElement(L.A, {
                strDescription: "Choose Due Date",
                nEarliestTime: i,
                nLatestTime: p,
                fnGetTimeToUpdate: () => E,
                fnSetTimeToUpdate: S,
                bShowTimeZone: !0,
                strAlsoShowTimeZone: M.$,
              }),
              s.createElement("br", null),
              s.createElement(m.ji, {
                checked: f,
                onChange: y,
                label: "High Priority?",
              }),
              s.createElement("br", null),
              s.createElement("br", null),
              s.createElement(m.II, {
                type: "url",
                label: "DropBox Link",
                value: _,
                onChange: (e) =>
                  a.SetArtworkLocalizationDropboxLink(e.currentTarget.value),
              }),
              s.createElement(m.__, null, "Notes for Localization"),
              s.createElement("textarea", {
                rows: 10,
                cols: 80,
                value: b,
                onChange: (e) => I(e.currentTarget.value),
              }),
            );
      }
      var U = a(43527),
        H = a(50382),
        V = a(45180),
        X = a(38071),
        j = a(28995),
        q = a(25127),
        W = a(20417);
      class z {
        m_model = null;
        InitSaleAssetsToEdit(e, t = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(e),
                t && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new j.Es(e)),
            this.m_model
          );
        }
        GetSaleAssetsToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static s_Singleton;
        static Get() {
          return (
            z.s_Singleton ||
              ((z.s_Singleton = new z()),
              "dev" == k.De.WEB_UNIVERSE &&
                (window.g_SaleAssetEditStore = z.s_Singleton)),
            z.s_Singleton
          );
        }
        constructor() {}
      }
      var Z = a(27174),
        K = a(62698),
        Q = a(98330),
        Y = a(44174),
        J = a(9466),
        $ = a(8897),
        ee = a(46882),
        te = a(62210),
        ae = a(77178),
        ne = a(60688);
      function ie(e) {
        const { bIsDirty: t, fnOnRevert: a, fnOnSave: n, bSaveDisabled: i } = e;
        return s.createElement(
          "div",
          { className: (0, E.Z)(c().SectionCtn, c().ActionBar) },
          s.createElement(
            "div",
            { className: ne.ButtonRow },
            s.createElement(
              m.KM,
              {
                disabled: i,
                onClick: (e) =>
                  (0, h.AM)(s.createElement(re, { fnOnSave: n }), (0, S.RA)(e)),
              },
              (0, v.Xx)(t ? "#Button_Save" : "#Button_Saved"),
            ),
            s.createElement("div", { className: ne.ButtonRowSpacer }),
            s.createElement(
              m.zx,
              {
                disabled: !t,
                onClick: (e) =>
                  (0, h.AM)(
                    s.createElement(ae.uH, {
                      strTitle: (0, v.Xx)("#Dialog_AreYouSure"),
                      strDescription: (0, v.Xx)("#DailyDeals_UnsavedChanges"),
                      onOK: a,
                    }),
                    (0, S.RA)(e),
                  ),
              },
              (0, v.Xx)("#Button_Revert"),
            ),
          ),
        );
      }
      function re(e) {
        const { fnOnSave: t, closeModal: a } = e,
          [n, i] = s.useState(!0),
          [r, l] = s.useState(!1);
        return (
          s.useEffect(() => {
            t()
              .then((e) => {
                l(e);
              })
              .catch((e) => l(!1))
              .finally(() => i(!1));
          }, [t]),
          s.createElement(
            ae.uH,
            { strTitle: "Saving", bAlertDialog: !0, closeModal: a },
            Boolean(n)
              ? s.createElement(ee.V, {
                  size: "medium",
                  position: "center",
                  string: (0, v.Xx)("#Saving"),
                })
              : Boolean(r)
                ? s.createElement("div", null, "Save successful")
                : s.createElement(
                    "div",
                    null,
                    "Save failed. Please try again later (check consoles for details)",
                  ),
          )
        );
      }
      function le(e) {
        const {
            gidClanEvent: t,
            rgArtworkToDisplay: a,
            promotionPlanID: n,
          } = e,
          i = (function () {
            const e = (0, W.NW)(),
              [t, a] = s.useState(() => z.Get().GetSaleAssetsToEdit());
            return (
              (0, W.Qg)(t?.GetCallback(), (t) => {
                a(t), e();
              }),
              t
            );
          })();
        return s.createElement(
          "div",
          null,
          s.createElement(
            "div",
            { className: ne.EditCtn },
            s.createElement(
              "div",
              { className: c().PageTitle },
              "Sale Page - Asset Management",
            ),
            s.createElement("hr", null),
            s.createElement(
              "div",
              { className: c().ColumnCtn },
              s.createElement(
                "div",
                { className: c().LeftCol },
                s.createElement(se, {
                  oSaleAssetEdit: i,
                  rgArtworkToDisplay: a,
                }),
              ),
              s.createElement(me, {
                oSaleAssetEdit: i,
                rgArtworkToDisplay: a,
                promotionPlanID: n,
              }),
            ),
          ),
          s.createElement("br", null),
        );
      }
      function se(e) {
        const { oSaleAssetEdit: t, rgArtworkToDisplay: a } = e,
          n = (0, s.useMemo)(() => {
            const e = [
              "capsule",
              "sale_header",
              "sale_logo",
              "product_banner",
              "product_mobile_banner",
              "localized_title_image",
            ];
            return a ? a.filter((t) => e.includes(t)) : e;
          }, [a]),
          i = (0, s.useMemo)(
            () => [X.IN.k_ESteamRealmGlobal, X.IN.k_ESteamRealmChina],
            [],
          ),
          r = (0, s.useCallback)(
            (e, a, n, i, r, l, s) => {
              (0, te.X)(
                null != n && n >= 0 && n < 31,
                "Unexpected value for elang: " + n,
              );
              let o = null;
              switch (i) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  j.DU.forEach((e) => {
                    const t = Z.h1[(0, j.if)(e)];
                    l == t.width && (o = e);
                  }),
                    o || (o = "localized_sale_header");
              }
              o && t.SetImage(o, n, e + (0, Q.UQ)(i));
            },
            [t],
          );
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            { className: c().SectionCtn },
            s.createElement("h2", { className: "inline" }, "Sale Page Assets"),
            s.createElement("hr", null),
            s.createElement(J.j, {
              rgSupportArtwork: n,
              rgRealmList: i,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${k.De.PARTNER_BASE_URL}promotion/sales/ajaxuploadasset/${t.GetClanAccountID()}`,
              fnOnUploadSuccess: r,
            }),
            s.createElement(
              d.SV,
              null,
              s.createElement("br", null),
              j.DU.filter((e) => !a || ce(a, e)).map((e) => {
                const a = Z.h1[(0, j.if)(e)];
                return s.createElement(
                  "div",
                  { key: e },
                  s.createElement("h3", null, (0, j.Fm)(e)),
                  s.createElement(
                    "div",
                    null,
                    s.createElement(
                      "span",
                      null,
                      a.width,
                      "px by ",
                      a.height,
                      "px",
                    ),
                    " (.jpg,.png,.gif)",
                  ),
                  s.createElement(oe, { oSaleAssetEdit: t, assetType: e }),
                );
              }),
            ),
          ),
          s.createElement(ue, { oSaleAssetEdit: t }),
        );
      }
      function oe(e) {
        const { oSaleAssetEdit: t, assetType: a } = e,
          [n, i, r] = (0, l.SZ)(() => [
            t.GetAssetsObject(a),
            t.GetGID(),
            t.GetPromoModifyTime(),
          ]),
          o = n
            .map((e, t) => (e ? t : null))
            .filter((e) => null !== e)
            .sort(),
          m = (0, s.useCallback)(
            (e) =>
              31 != e && e >= 0 && n[e]?.length > 0
                ? K.aN.GenerateArtworkURLFromHashAndExtensions(
                    t.GetClanSteamID(),
                    n[e],
                  )
                : null,
            [n, t],
          );
        return s.createElement(
          "div",
          { className: c().MarketingMessage },
          s.createElement($.V, {
            rgAssetLangs: o,
            fnGetAssetUrl: m,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(a, e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(a),
          }),
        );
      }
      function ce(e, t) {
        switch (t) {
          case "localized_capsule_image":
            return e.includes("capsule");
          case "localized_sale_header":
            return e.includes("sale_header");
          case "localized_sale_logo":
            return e.includes("sale_logo");
          case "localized_sale_product_banner":
            return e.includes("product_banner");
          case "localized_sale_product_mobile_banner":
            return e.includes("product_mobile_banner");
          case "localized_title_image":
            return e.includes("localized_title_image");
        }
        return !1;
      }
      function me(e) {
        const {
          oSaleAssetEdit: t,
          rgArtworkToDisplay: a,
          promotionPlanID: n,
        } = e;
        return s.createElement(
          "div",
          { className: c().RightCol },
          s.createElement(
            "div",
            { className: c().SectionCtn },
            s.createElement(m.__, null, "Asset Progress"),
            j.DU.filter((e) => !a || ce(a, e)).map((e) =>
              s.createElement(
                "div",
                { key: "as_count_" + e },
                (0, j.Fm)(e),
                " ",
                t.GetAssetsObject(e).filter(Boolean).length,
                " / ",
                q._,
              ),
            ),
          ),
          s.createElement(
            "div",
            { className: c().SectionCtn },
            s.createElement(
              "a",
              {
                href: `${k.De.COMMUNITY_BASE_URL}gid/${t.GetClanSteamID().ConvertTo64BitString()}/partnerevents/edit/${t.GetGID()}?tab=sale`,
                target: "_blank",
              },
              "Open Sale Page Editor",
            ),
            Boolean(n) &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement("br", null),
                s.createElement(
                  "a",
                  {
                    href: `${k.De.PARTNER_BASE_URL}promotion/planning/edit/${n}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function de(e) {
        const { clanAccountID: t, gidClanEvent: a, children: n } = e,
          i = (0, Y.Jn)(t, a),
          [r, l] = s.useState(!1);
        return (
          s.useEffect(() => {
            i &&
              ((i.GID == z.Get().GetSaleAssetsToEdit()?.GetGID() && r) ||
                (!(function (e, t = !1) {
                  z.Get().InitSaleAssetsToEdit(e, t);
                })(i),
                l(!0)));
          }, [r, i]),
          r
            ? s.createElement(s.Fragment, null, n)
            : s.createElement(ee.V, {
                size: "medium",
                position: "center",
                string: (0, v.Xx)("#Loading"),
              })
        );
      }
      function ue(e) {
        const { oSaleAssetEdit: t } = e,
          { fnSaveSaleAssets: a } = (0, Y.zn)(),
          [n, i, r, o] = (0, l.SZ)(() => [
            t.BIsDirty(),
            t.GetGID(),
            t.GetClanAccountID(),
            t.GetAssetModel(),
          ]);
        return s.createElement(ie, {
          bIsDirty: n,
          fnOnRevert: () => t.RevertChanges(),
          bSaveDisabled: !1,
          fnOnSave: async () => {
            const e = await a(r, i, o);
            return e && t.Reset(Y.j1.GetClanEventModel(i)), e;
          },
        });
      }
      var pe = a(77936),
        _e = a(85556),
        he = a(54842),
        ge = a(45492),
        Ee = a(16997),
        Se = a(2026),
        ve = a(65650);
      class De {
        m_oSpotlight = null;
        m_originalSpotlight = null;
        m_bDirty = !1;
        m_callback = new ge.pB();
        constructor(e) {
          (0, he.rC)(this), this.Reset(e);
        }
        Reset(e) {
          (this.m_oSpotlight = JSON.parse(JSON.stringify(e))),
            (this.m_originalSpotlight = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oSpotlight;
        }
        GetName() {
          return this.m_oSpotlight.name;
        }
        GetType() {
          return this.m_oSpotlight.type;
        }
        GetCreator() {
          return this.m_oSpotlight.creator;
        }
        GetAssociationID() {
          return this.m_oSpotlight.association;
        }
        GetAssociationType() {
          return this.m_oSpotlight.association_type;
        }
        GetStartDate() {
          return this.m_oSpotlight.visibility?.startdate || 0;
        }
        GetEndDate() {
          return this.m_oSpotlight.visibility?.enddate || 0;
        }
        BIsVisible() {
          return this.m_oSpotlight.visibility?.visible;
        }
        GetTitle() {
          return this.m_oSpotlight.title;
        }
        GetAssetCount() {
          return (0, Se.rP)(this.m_oSpotlight.image);
        }
        GetAssetUpdateTime() {
          return this.m_oSpotlight.asset_mtime;
        }
        GetImage(e) {
          return this.GetKVLang(this.m_oSpotlight.image, e);
        }
        GetCurImage() {
          return this.GetKVLang(
            this.m_oSpotlight.image,
            ve.U.Get().GetCurEditLanguage(),
          );
        }
        GetAssetsObject() {
          return this.m_oSpotlight.image;
        }
        BHasHubTarget(e) {
          return (
            !(
              !this.m_oSpotlight.location ||
              !this.m_oSpotlight.location.hubTargets
            ) && this.m_oSpotlight.location.hubTargets?.includes(e)
          );
        }
        GetHubTargets() {
          return this.m_oSpotlight.location &&
            this.m_oSpotlight.location.hubTargets
            ? this.m_oSpotlight.location.hubTargets
            : [];
        }
        GetID() {
          return this.m_oSpotlight.id;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetCurImage(e) {
          this.SetImage(ve.U.Get().GetCurEditLanguage(), e), this.Dispatch();
        }
        SetImage(e, t) {
          this.m_oSpotlight.image || (this.m_oSpotlight.image = {}),
            this.SetKVLang(this.m_oSpotlight.image, e, t),
            this.Dispatch();
        }
        ClearAllAssetObjects() {
          (this.m_oSpotlight.image = {}), this.Dispatch();
        }
        DeleteAssetObjectLang(e) {
          const t = (0, pe.j_)(e);
          this.m_oSpotlight.image?.[t] &&
            (delete this.m_oSpotlight.image[t], this.Dispatch());
        }
        SetKVLang(e, t, a) {
          (0, Se.eJ)(e, t, a) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (0, Se.Y8)(e, t);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        RevertChanges() {
          (this.m_oSpotlight = JSON.parse(
            JSON.stringify(this.m_originalSpotlight),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
      }
      (0, _e.gn)([he.LO], De.prototype, "m_bDirty", void 0),
        (0, _e.gn)([Ee.a], De.prototype, "SetCurImage", null),
        (0, _e.gn)([he.aD.bound], De.prototype, "SetImage", null),
        (0, _e.gn)([Ee.a], De.prototype, "ClearAllAssetObjects", null),
        (0, _e.gn)([Ee.a], De.prototype, "DeleteAssetObjectLang", null),
        (0, _e.gn)([Ee.a], De.prototype, "RevertChanges", null);
      class fe {
        m_model = null;
        InitDailyDealToEdit(e, t = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(e),
                t && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new De(e)),
            this.m_model
          );
        }
        GetSpotlightToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static s_Singleton;
        static Get() {
          return (
            fe.s_Singleton ||
              ((fe.s_Singleton = new fe()),
              "dev" == k.De.WEB_UNIVERSE &&
                (window.g_SpotlightEditStore = fe.s_Singleton)),
            fe.s_Singleton
          );
        }
        constructor() {}
      }
      var ye = a(14839),
        be = a(72297);
      function Ie(e) {
        const { promotionPlanID: t } = e,
          a = (function () {
            const e = (0, W.NW)(),
              [t, a] = s.useState(() => fe.Get().GetSpotlightToEdit());
            return (
              (0, W.Qg)(t?.GetCallback(), (t) => {
                a(t), e();
              }),
              t
            );
          })();
        return s.createElement(
          "div",
          { className: ne.EditCtn },
          s.createElement(
            "div",
            { className: c().PageTitle },
            "Spotlight - Asset Management",
          ),
          s.createElement("hr", null),
          s.createElement(
            "div",
            { className: c().ColumnCtn },
            s.createElement(
              "div",
              { className: c().LeftCol },
              s.createElement(Ce, { oEditableSpotlight: a }),
            ),
            s.createElement(Ae, { oEditableSpotlight: a, promotionPlanID: t }),
          ),
          s.createElement("br", null),
        );
      }
      function Ce(e) {
        const { oEditableSpotlight: t } = e,
          a = (0, s.useMemo)(() => ["spotlight_art", "old_spotlight_art"], []),
          n = (0, s.useMemo)(() => [X.IN.k_ESteamRealmGlobal], []),
          i = (0, s.useCallback)(
            (e, a, n, i, r, l, s) => {
              switch (
                ((0, te.X)(
                  null != n && n >= 0 && n < 31,
                  "Unexpected value for elang: " + n,
                ),
                i)
              ) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  t.SetImage(n, a);
                  break;
                default:
                  console.log(
                    "MarketingMessageAssetDisplayLanding unexpected mimetype: " +
                      i,
                  );
              }
            },
            [t],
          );
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            { className: c().SectionCtn },
            s.createElement("h2", { className: "inline" }, "SPOTLIGHT ASSETS"),
            s.createElement("hr", null),
            Boolean("dev" == k.De.WEB_UNIVERSE) &&
              s.createElement(
                "div",
                { className: be.WarningStylesWithIcon },
                "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
              ),
            s.createElement(J.j, {
              rgSupportArtwork: a,
              rgRealmList: n,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${k.De.PARTNER_BASE_URL}cluster/ajaxuploadasset?clusterid=${t.GetID()}&clustertype=spotlights`,
              fnOnUploadSuccess: i,
            }),
            s.createElement(
              d.SV,
              null,
              s.createElement("br", null),
              s.createElement("h3", null, "Static Assets Only"),
              s.createElement(
                "div",
                null,
                s.createElement("span", null, "306px x 260px"),
                " (.jpg,.png,.gif)",
              ),
              s.createElement(ke, { oEditableSpotlight: t }),
            ),
          ),
          s.createElement(we, { oEditableSpotlight: t }),
        );
      }
      function ke(e) {
        const { oEditableSpotlight: t } = e,
          [a, n, i] = (0, l.SZ)(() => [
            t.GetAssetsObject(),
            t.GetID(),
            t.GetAssetUpdateTime(),
          ]),
          r = Object.keys(a || {})
            .sort()
            .map((e) => (0, pe.jM)(e)),
          o = (0, s.useCallback)(
            (e) => {
              const t = (0, pe.j_)(e);
              return a && a[t]
                ? (function (e, t, a, n) {
                    if (!n) return null;
                    const i = a ? "?t=" + a : "",
                      r = (0, pe.j_)(t);
                    return `${k.De.MEDIA_CDN_URL}steam/spotlights/${e}/${n[r]}${i}`;
                  })(n, e, i, a)
                : null;
            },
            [n, i, a],
          );
        return s.createElement(
          "div",
          { className: c().MarketingMessage },
          s.createElement($.V, {
            rgAssetLangs: r,
            fnGetAssetUrl: o,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(),
          }),
        );
      }
      function Ae(e) {
        const { oEditableSpotlight: t, promotionPlanID: a } = e,
          n = (0, l.SZ)(() => {
            let e = 0;
            const a = t.GetAssetsObject();
            for (let t = 0; t < 31; ++t) a && a[(0, pe.j_)(t)] && (e += 1);
            return e;
          });
        return s.createElement(
          "div",
          { className: c().RightCol },
          s.createElement(
            "div",
            { className: c().SectionCtn },
            s.createElement(m.__, null, "Asset Progress"),
            s.createElement("div", null, n, " / 29"),
          ),
          s.createElement(
            "div",
            { className: c().SectionCtn },
            s.createElement(
              "a",
              {
                href: `${k.De.PARTNER_BASE_URL}promotion/spotlight/edit/${t.GetID()}`,
                target: "_blank",
              },
              "Open Spotlight Editor",
            ),
            Boolean(a) &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement("br", null),
                s.createElement(
                  "a",
                  {
                    href: `${k.De.PARTNER_BASE_URL}promotion/planning/edit/${a}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function we(e) {
        const { oEditableSpotlight: t } = e,
          { fnSaveClusterAssets: a } = (0, ye.NW)(),
          [i, r, o, c] = (0, l.SZ)(() => [
            t.BIsDirty(),
            t.GetID(),
            t.GetModel(),
            t.GetAssetCount(),
          ]);
        return s.createElement(ie, {
          bIsDirty: i,
          bSaveDisabled: 0 == c,
          fnOnRevert: () => t.RevertChanges(),
          fnOnSave: async () => {
            const e = await a(n.R6.k_ConfigPage_Spotlight, o);
            return e && t.Reset((0, ye.Gj)(n.R6.k_ConfigPage_Spotlight, r)), e;
          },
        });
      }
      var Pe = a(41710),
        Te = a(28017);
      function Ne(e) {
        const { gid: t, children: a } = e,
          n = (0, Pe.dh)(t),
          [i, r] = s.useState(!1);
        return (
          s.useLayoutEffect(() => {
            n &&
              ((fe.Get().GetSpotlightToEdit()?.GetID() == n.id && i) ||
                (!(function (e, t = !1) {
                  fe.Get().InitDailyDealToEdit(e, t);
                })(n),
                r(!0)));
          }, [n, i, t]),
          n
            ? i
              ? s.createElement(s.Fragment, null, a)
              : s.createElement(ee.V, {
                  size: "medium",
                  position: "center",
                  string: (0, v.Xx)("#Loading"),
                })
            : s.createElement(
                "div",
                null,
                s.createElement("div", null, "Spotlight does not exist."),
                s.createElement(
                  Te.rU,
                  { to: "/spotlight/dashboard/" },
                  "Return to Spotlight Dashboard.",
                ),
              )
        );
      }
      var Re = a(20020),
        Ge = a(65311);
      class xe {
        m_oTakeover = null;
        m_originalTakeover = null;
        m_type = null;
        m_bDirty = !1;
        m_callback = new ge.pB();
        constructor(e, t) {
          (0, he.rC)(this), this.Reset(e, t);
        }
        Reset(e, t) {
          (this.m_oTakeover = JSON.parse(JSON.stringify(e))),
            (this.m_originalTakeover = JSON.parse(JSON.stringify(e))),
            (this.m_type = t),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oTakeover;
        }
        GetName() {
          return this.m_oTakeover.name;
        }
        GetType() {
          return this.m_type;
        }
        GetTypeString() {
          return (0, n.D9)(this.m_type);
        }
        GetCreator() {
          return this.m_oTakeover.creator;
        }
        GetAssociationID() {
          return this.m_oTakeover.association;
        }
        GetAssociationType() {
          return this.m_oTakeover.association_type;
        }
        GetStartDate() {
          return this.m_oTakeover.visibility?.startdate || 0;
        }
        GetEndDate() {
          return this.m_oTakeover.visibility?.enddate || 0;
        }
        BIsVisible() {
          return this.m_oTakeover.visibility?.visible;
        }
        GetPromoModifyTime() {
          return this.m_oTakeover.promo_mtime;
        }
        GetAssetCount() {
          let e = 0;
          return (
            Ge.y.forEach((t) => (e += (0, Se.rP)(this.GetAssetsObject(t)))), e
          );
        }
        GetAssetParams() {
          let e = {};
          return (
            this.m_oTakeover.page_bg_offset &&
              (e.page_bg_offset = this.m_oTakeover.page_bg_offset),
            this.m_oTakeover.page_bg_offset_mobile &&
              (e.page_bg_offset_mobile =
                this.m_oTakeover.page_bg_offset_mobile),
            this.m_oTakeover.defcon1_image_height &&
              (e.defcon1_image_height = this.m_oTakeover.defcon1_image_height),
            this.m_oTakeover.content_hub_image_height &&
              (e.content_hub_image_height =
                this.m_oTakeover.content_hub_image_height),
            this.m_oTakeover.defcon1_china_image_height &&
              (e.defcon1_china_image_height =
                this.m_oTakeover.defcon1_china_image_height),
            this.m_oTakeover.page_bg_color_left &&
              (e.page_bg_color_left = this.m_oTakeover.page_bg_color_left),
            this.m_oTakeover.page_bg_color_right &&
              (e.page_bg_color_right = this.m_oTakeover.page_bg_color_right),
            e
          );
        }
        GetAssetUpdateTime() {
          return this.m_oTakeover.promo_mtime;
        }
        GetImage(e, t) {
          return this.GetKVLang(this.m_oTakeover[e], t);
        }
        GetCurImage(e) {
          return this.GetKVLang(
            this.m_oTakeover[e],
            ve.U.Get().GetCurEditLanguage(),
          );
        }
        GetAssetsObject(e) {
          return this.m_oTakeover[e] || {};
        }
        GetLayout() {
          return this.m_oTakeover.layout;
        }
        GetBackgroundOffset() {
          return this.m_oTakeover.page_bg_offset || 0;
        }
        GetBackgroundMobileOffset() {
          return this.m_oTakeover.page_bg_offset_mobile || 0;
        }
        GetBackgroundImageHeight() {
          return "defcon1" == this.GetLayout()
            ? this.m_oTakeover.defcon1_image_height || 0
            : "defcon1_china" == this.GetLayout()
              ? this.m_oTakeover.defcon1_china_image_height || 0
              : ("content_hub" == this.GetLayout() &&
                  this.m_oTakeover.content_hub_image_height) ||
                0;
        }
        GetColorLeft() {
          return this.m_oTakeover.page_bg_color_left || "";
        }
        GetColorRight() {
          return this.m_oTakeover.page_bg_color_right || "";
        }
        GetID() {
          return this.m_oTakeover.id;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetCurImage(e, t) {
          this.SetImage(e, ve.U.Get().GetCurEditLanguage(), t), this.Dispatch();
        }
        SetImage(e, t, a) {
          this.m_oTakeover[e] || (this.m_oTakeover[e] = {}),
            this.SetKVLang(this.m_oTakeover[e], t, a),
            this.Dispatch();
        }
        ClearAllAssetObjects(e) {
          (this.m_oTakeover[e] = {}), this.Dispatch();
        }
        DeleteAssetObjectLang(e, t) {
          const a = (0, pe.j_)(t);
          this.m_oTakeover[e]?.[a] &&
            (delete this.m_oTakeover[e][a], this.Dispatch());
        }
        SetBackgroundOffset(e) {
          this.m_oTakeover.page_bg_offset != e &&
            ((this.m_oTakeover.page_bg_offset = e), this.Dispatch());
        }
        SetBackgroundMobileOffset(e) {
          this.m_oTakeover.page_bg_offset_mobile != e &&
            ((this.m_oTakeover.page_bg_offset_mobile = e), this.Dispatch());
        }
        SetBackgroundImageHeight(e) {
          "defcon1" == this.GetLayout()
            ? this.m_oTakeover.defcon1_image_height != e &&
              ((this.m_oTakeover.defcon1_image_height = e), this.Dispatch())
            : "defcon1_china" == this.GetLayout()
              ? this.m_oTakeover.defcon1_china_image_height != e &&
                ((this.m_oTakeover.defcon1_china_image_height = e),
                this.Dispatch())
              : "content_hub" == this.GetLayout() &&
                this.m_oTakeover.content_hub_image_height != e &&
                ((this.m_oTakeover.content_hub_image_height = e),
                this.Dispatch());
        }
        SetColorLeft(e) {
          this.m_oTakeover.page_bg_color_left != e &&
            ((this.m_oTakeover.page_bg_color_left = e), this.Dispatch());
        }
        SetColorRight(e) {
          this.m_oTakeover.page_bg_color_right != e &&
            ((this.m_oTakeover.page_bg_color_right = e), this.Dispatch());
        }
        SetKVLang(e, t, a) {
          (0, Se.eJ)(e, t, a) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (0, Se.Y8)(e, t);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        RevertChanges() {
          (this.m_oTakeover = JSON.parse(
            JSON.stringify(this.m_originalTakeover),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
      }
      (0, _e.gn)([he.LO], xe.prototype, "m_bDirty", void 0),
        (0, _e.gn)([Ee.a], xe.prototype, "SetCurImage", null),
        (0, _e.gn)([he.aD.bound], xe.prototype, "SetImage", null),
        (0, _e.gn)([Ee.a], xe.prototype, "ClearAllAssetObjects", null),
        (0, _e.gn)([Ee.a], xe.prototype, "DeleteAssetObjectLang", null),
        (0, _e.gn)([Ee.a], xe.prototype, "SetBackgroundOffset", null),
        (0, _e.gn)([Ee.a], xe.prototype, "SetBackgroundMobileOffset", null),
        (0, _e.gn)([Ee.a], xe.prototype, "SetBackgroundImageHeight", null),
        (0, _e.gn)([Ee.a], xe.prototype, "SetColorLeft", null),
        (0, _e.gn)([Ee.a], xe.prototype, "SetColorRight", null),
        (0, _e.gn)([Ee.a], xe.prototype, "RevertChanges", null);
      class Le {
        m_model = null;
        InitTakeoverToEdit(e, t, a = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(t, e),
                a && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new xe(t, e)),
            this.m_model
          );
        }
        GetTakeoverToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static s_Singleton;
        static Get() {
          return (
            Le.s_Singleton ||
              ((Le.s_Singleton = new Le()),
              "dev" == k.De.WEB_UNIVERSE &&
                (window.g_TakeoverEditStore = Le.s_Singleton)),
            Le.s_Singleton
          );
        }
        constructor() {}
      }
      function Be() {
        const e = (0, W.NW)(),
          [t, a] = s.useState(() => Le.Get().GetTakeoverToEdit());
        return (
          (0, W.Qg)(t?.GetCallback(), (t) => {
            a(t), e();
          }),
          t
        );
      }
      function Me(e) {
        const {
            bShowInternalControls: t,
            rgArtworkToDisplay: a,
            promotionPlanID: n,
          } = e,
          i = Be();
        return s.createElement(
          "div",
          { className: ne.EditCtn },
          s.createElement(
            "div",
            { className: c().PageTitle },
            i.GetTypeString(),
            " - Asset Management",
          ),
          s.createElement("hr", null),
          s.createElement(
            "div",
            { className: c().ColumnCtn },
            s.createElement(
              "div",
              { className: c().LeftCol },
              t && s.createElement(Oe, null),
              s.createElement(Ue, {
                oEditableTakeover: i,
                rgArtworkToDisplay: a,
              }),
            ),
            s.createElement(Ve, {
              oEditableTakeover: i,
              rgArtworkToDisplay: a,
              promotionPlanID: n,
            }),
          ),
        );
      }
      function Oe(e) {
        const t = Be(),
          [a, n, i, r, o] = (0, l.SZ)(() => [
            t.GetBackgroundOffset(),
            t.GetBackgroundMobileOffset(),
            t.GetBackgroundImageHeight(),
            t.GetColorLeft(),
            t.GetColorRight(),
          ]);
        return s.createElement(
          "div",
          { className: c().SectionCtn },
          s.createElement("h2", { className: "inline" }, "Asset Controls"),
          s.createElement("hr", null),
          s.createElement(
            "p",
            null,
            "Adjust the page background image settings",
          ),
          s.createElement(m.II, {
            type: "number",
            value: a,
            onChange: (e) =>
              t.SetBackgroundOffset(Number.parseInt(e.currentTarget.value)),
            label: "Pixel Offset",
            tooltip:
              "This value is how far away from the store header area to push content down (to let the background image be seen). The store header will cover the top 67px of the image. Default is 385",
            placeholder: "385",
          }),
          s.createElement(m.II, {
            type: "number",
            value: n,
            onChange: (e) =>
              t.SetBackgroundMobileOffset(
                Number.parseInt(e.currentTarget.value),
              ),
            label: "Mobile Pixel Offset",
            tooltip:
              "This value is how far away from the store header area on mobile to push content down (to let the background image be seen). This will likely be the mobile bg image assets height. Default is 350",
            placeholder: "350",
          }),
          s.createElement(m.II, {
            type: "number",
            value: i,
            onChange: (e) =>
              t.SetBackgroundImageHeight(
                Number.parseInt(e.currentTarget.value),
              ),
            label: "Image Height",
            tooltip: "in Pixels",
            placeholder: "450",
          }),
          s.createElement(
            "p",
            null,
            "Set the background RGB color that extends past the width of the image. A valid format would look like '0,0,0' (without the quotes) for black. Set each to the same value to use one solid background color.",
          ),
          s.createElement(m.II, {
            type: "text",
            value: r,
            onChange: (e) => t.SetColorLeft(e.currentTarget.value),
            label: "Left Background Color",
            placeholder: "255,255,255",
          }),
          s.createElement(m.II, {
            type: "text",
            value: o,
            onChange: (e) => t.SetColorRight(e.currentTarget.value),
            label: "Right Background Color",
            placeholder: "255,255,255",
          }),
        );
      }
      function Fe(e, t) {
        if (!t) return !0;
        switch (e) {
          case "page_bg":
            return t.includes("takeover_art");
          case "page_bg_mobile":
            return t.includes("takeover_mobile_art");
          case "mp4_page_bg":
            return t.includes("takeover_mp4_art");
          case "webm_page_bg":
          case "webm_page_bg_mobile":
            return t.includes("takeover_webm_mobile_art");
          case "mp4_page_bg_mobile":
            return t.includes("takeover_mp4_mobile_art");
        }
        return !1;
      }
      function Ue(e) {
        const { oEditableTakeover: t, rgArtworkToDisplay: a } = e,
          n = (0, s.useMemo)(() => {
            const e = [
              "takeover_art",
              "takeover_webm_art",
              "takeover_mp4_art",
              "takeover_mobile_art",
              "takeover_webm_mobile_art",
              "takeover_mp4_mobile_art",
            ];
            return a ? a.filter((t) => e.includes(t)) : e;
          }, [a]),
          i = (0, s.useMemo)(
            () => [X.IN.k_ESteamRealmGlobal, X.IN.k_ESteamRealmChina],
            [],
          ),
          r = (0, s.useCallback)(
            (e, a, n, i, r, l, s) => {
              (0, Re.X)(
                null != n && n >= 0 && n < 31,
                "Unexpected value for elang: " + n,
              );
              let o = null;
              switch (i) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  o =
                    l == Z.h1.takeover_art.width ? "page_bg" : "page_bg_mobile";
                  break;
                case "video/mp4":
                  o =
                    l == Z.h1.takeover_mp4_art.width
                      ? "mp4_page_bg"
                      : "webm_page_bg_mobile";
                  break;
                case "video/webm":
                  o =
                    l == Z.h1.takeover_webm_art.width
                      ? "webm_page_bg"
                      : "mp4_page_bg_mobile";
                  break;
                default:
                  console.log(
                    "TakeoverAssetDisplayLanding unexpected mimetype: " + i,
                  );
              }
              o && t.SetImage(o, n, a);
            },
            [t],
          );
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            { className: c().SectionCtn },
            s.createElement(
              "h2",
              { className: "inline" },
              "Takeover Assets (",
              t.GetTypeString(),
              ")",
            ),
            s.createElement("hr", null),
            Boolean("dev" == k.De.WEB_UNIVERSE) &&
              s.createElement(
                "div",
                { className: be.WarningStylesWithIcon },
                "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
              ),
            s.createElement(J.j, {
              rgSupportArtwork: n,
              rgRealmList: i,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${k.De.PARTNER_BASE_URL}cluster/ajaxuploadasset?clusterid=${t.GetID()}&clustertype=${t.GetTypeString()}`,
              fnOnUploadSuccess: r,
            }),
            s.createElement(
              d.SV,
              null,
              s.createElement("br", null),
              Fe("page_bg", a) &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement("h3", null, "Static Background Asset"),
                  s.createElement(
                    "div",
                    null,
                    s.createElement("span", null, "1850px by 450px"),
                    " (.jpg,.png,.gif)",
                  ),
                  s.createElement(He, {
                    oEditableTakeover: t,
                    assetType: "page_bg",
                  }),
                ),
              Fe("page_bg_mobile", a) &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement("h3", null, "Static Mobile Asset"),
                  s.createElement(
                    "div",
                    null,
                    s.createElement("span", null, "500px by 350px"),
                    " (.jpg,.png,.gif)",
                  ),
                  s.createElement(He, {
                    oEditableTakeover: t,
                    assetType: "page_bg_mobile",
                  }),
                ),
              Fe("webm_page_bg", a) &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement("h3", null, "Animated Background Webm"),
                  s.createElement(
                    "div",
                    null,
                    s.createElement("span", null, "1850px by 450px"),
                    " (.webm)",
                  ),
                  s.createElement(He, {
                    oEditableTakeover: t,
                    assetType: "webm_page_bg",
                  }),
                ),
              Fe("mp4_page_bg", a) &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement("h3", null, "Animated Background Mp4"),
                  s.createElement(
                    "div",
                    null,
                    s.createElement("span", null, "1850px by 450px"),
                    " (.mp4)",
                  ),
                  s.createElement(He, {
                    oEditableTakeover: t,
                    assetType: "mp4_page_bg",
                  }),
                ),
              Fe("webm_page_bg_mobile", a) &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement("h3", null, "Animated Mobile Webm"),
                  s.createElement(
                    "div",
                    null,
                    s.createElement("span", null, "500px by 350px"),
                    " (.webm)",
                  ),
                  s.createElement(He, {
                    oEditableTakeover: t,
                    assetType: "webm_page_bg_mobile",
                  }),
                ),
              Fe("mp4_page_bg_mobile", a) &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement("h3", null, "Animated Mobile Mp4"),
                  s.createElement(
                    "div",
                    null,
                    s.createElement("span", null, "500px by 350px"),
                    " (.mp4)",
                  ),
                  s.createElement(He, {
                    oEditableTakeover: t,
                    assetType: "mp4_page_bg_mobile",
                  }),
                ),
            ),
          ),
          s.createElement(Xe, { oEditableTakeover: t }),
        );
      }
      function He(e) {
        const { oEditableTakeover: t, assetType: a } = e,
          [i, r, o, m] = (0, l.SZ)(() => [
            t.GetAssetsObject(a),
            t.GetID(),
            t.GetPromoModifyTime(),
            t.GetType(),
          ]),
          d = Object.keys(i)
            .sort()
            .map((e) => (0, pe.jM)(e)),
          u = (0, s.useCallback)(
            (e) => {
              const t = (0, pe.j_)(e);
              return i[t]
                ? (function (e, t, a, i, r) {
                    if (!r) return null;
                    const l = i ? "?t=" + i : "",
                      s = (0, pe.j_)(a);
                    return `${k.De.MEDIA_CDN_URL}steam/clusters/${(0, n.D9)(e)}/${t}/${r[s]}${l}`;
                  })(m, r, e, o, i)
                : null;
            },
            [r, o, i, m],
          );
        return s.createElement(
          "div",
          { className: c().MarketingMessage },
          s.createElement($.V, {
            rgAssetLangs: d,
            fnGetAssetUrl: u,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(a, e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(a),
          }),
        );
      }
      function Ve(e) {
        const {
            oEditableTakeover: t,
            rgArtworkToDisplay: a,
            promotionPlanID: n,
          } = e,
          i = (0, l.SZ)(() => {
            const e = new Map();
            return (
              Ge.y.forEach((a) => {
                let n = 0;
                const i = t.GetAssetsObject(a);
                for (let e = 0; e < 31; ++e) i && i[(0, pe.j_)(e)] && (n += 1);
                e.set(a, n);
              }),
              e
            );
          });
        return s.createElement(
          "div",
          { className: c().RightCol },
          s.createElement(
            "div",
            { className: c().SectionCtn },
            s.createElement(m.__, null, "Asset Progress"),
            Ge.y
              .filter((e) => i.has(e) && Fe(e, a))
              .map((e) =>
                s.createElement(
                  "div",
                  { key: "as_" + e },
                  (0, Ge.P)(e),
                  ": ",
                  i.get(e),
                  " / 29",
                ),
              ),
          ),
          s.createElement(
            "div",
            { className: c().SectionCtn },
            s.createElement(
              "a",
              {
                href: `${k.De.PARTNER_BASE_URL}admin/store/pageclusteredit/${t.GetTypeString()}/${t.GetID()}`,
                target: "_blank",
              },
              "Open Takeover Editor",
            ),
            Boolean(n) &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement("br", null),
                s.createElement(
                  "a",
                  {
                    href: `${k.De.PARTNER_BASE_URL}promotion/planning/edit/${n}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function Xe(e) {
        const { oEditableTakeover: t } = e,
          { fnSaveClusterAssets: a } = (0, ye.NW)(),
          [n, i, r, o, c, m] = (0, l.SZ)(() => [
            t.BIsDirty(),
            t.GetType(),
            t.GetID(),
            t.GetModel(),
            t.GetAssetCount(),
            t.GetAssetParams(),
          ]);
        return s.createElement(ie, {
          bIsDirty: n,
          fnOnRevert: () => t.RevertChanges(),
          bSaveDisabled: 0 == c,
          fnOnSave: async () => {
            const e = await a(i, o, m);
            return e && t.Reset((0, ye.Gj)(i, r), i), e;
          },
        });
      }
      function je(e) {
        const { id: t, type: a, children: i } = e,
          r = (0, ye.NU)(a, t),
          [l, o] = s.useState(!1);
        return (
          s.useLayoutEffect(() => {
            r &&
              ((Le.Get().GetTakeoverToEdit()?.GetID() == r.id && l) ||
                (!(function (e, t, a = !1) {
                  Le.Get().InitTakeoverToEdit(e, t, a);
                })(a, r),
                o(!0)));
          }, [r, l, t, a]),
          r
            ? l
              ? s.createElement(s.Fragment, null, i)
              : s.createElement(ee.V, {
                  size: "medium",
                  position: "center",
                  string: (0, v.Xx)("#Loading"),
                })
            : s.createElement(
                "div",
                null,
                s.createElement("div", null, "Takeover does not exist."),
                s.createElement(
                  Te.rU,
                  {
                    to: `${k.De.PARTNER_BASE_URL}admin/store/pageclusteredit/${(0, n.D9)(a)}`,
                  },
                  "Return to Takeover Dashboard.",
                ),
              )
        );
      }
      var qe = a(28306);
      class We {
        m_oTakeunder = null;
        m_originalTakeover = null;
        m_type = n.R6.k_ConfigPage_Takeunder;
        m_bDirty = !1;
        m_callback = new ge.pB();
        constructor(e) {
          (0, he.rC)(this), this.Reset(e);
        }
        Reset(e) {
          (this.m_oTakeunder = JSON.parse(JSON.stringify(e))),
            (this.m_originalTakeover = JSON.parse(JSON.stringify(e))),
            (this.m_type = n.R6.k_ConfigPage_Takeunder),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oTakeunder;
        }
        GetName() {
          return this.m_oTakeunder.name;
        }
        GetType() {
          return this.m_type;
        }
        GetTypeString() {
          return (0, n.D9)(this.m_type);
        }
        GetCreator() {
          return this.m_oTakeunder.creator;
        }
        GetAssociationID() {
          return this.m_oTakeunder.association;
        }
        GetAssociationType() {
          return this.m_oTakeunder.association_type;
        }
        GetStartDate() {
          return this.m_oTakeunder.visibility?.startdate || 0;
        }
        GetEndDate() {
          return this.m_oTakeunder.visibility?.enddate || 0;
        }
        BIsVisible() {
          return this.m_oTakeunder.visibility?.visible;
        }
        GetPromoModifyTime() {
          return this.m_oTakeunder.promo_mtime;
        }
        GetAssetCount() {
          let e = 0;
          return (
            qe.y.forEach((t) => (e += (0, Se.rP)(this.GetAssetsObject(t)))), e
          );
        }
        GetAssetUpdateTime() {
          return this.m_oTakeunder.promo_mtime;
        }
        GetImage(e, t) {
          return this.GetKVLang(this.m_oTakeunder[e], t);
        }
        GetCurImage(e) {
          return this.GetKVLang(
            this.m_oTakeunder[e],
            ve.U.Get().GetCurEditLanguage(),
          );
        }
        GetAssetsObject(e) {
          return this.m_oTakeunder[e] || {};
        }
        GetID() {
          return this.m_oTakeunder.id;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetCurImage(e, t) {
          this.SetImage(e, ve.U.Get().GetCurEditLanguage(), t), this.Dispatch();
        }
        SetImage(e, t, a) {
          this.m_oTakeunder[e] || (this.m_oTakeunder[e] = {}),
            this.SetKVLang(this.m_oTakeunder[e], t, a),
            this.Dispatch();
        }
        ClearAllAssetObjects(e) {
          (this.m_oTakeunder[e] = {}), this.Dispatch();
        }
        DeleteAssetObjectLang(e, t) {
          const a = (0, pe.j_)(t);
          this.m_oTakeunder[e]?.[a] &&
            (delete this.m_oTakeunder[e][a], this.Dispatch());
        }
        SetKVLang(e, t, a) {
          (0, Se.eJ)(e, t, a) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (0, Se.Y8)(e, t);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        RevertChanges() {
          (this.m_oTakeunder = JSON.parse(
            JSON.stringify(this.m_originalTakeover),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
      }
      (0, _e.gn)([he.LO], We.prototype, "m_bDirty", void 0),
        (0, _e.gn)([Ee.a], We.prototype, "SetCurImage", null),
        (0, _e.gn)([he.aD.bound], We.prototype, "SetImage", null),
        (0, _e.gn)([Ee.a], We.prototype, "ClearAllAssetObjects", null),
        (0, _e.gn)([Ee.a], We.prototype, "DeleteAssetObjectLang", null),
        (0, _e.gn)([Ee.a], We.prototype, "RevertChanges", null);
      class ze {
        m_model = null;
        InitTakeunderToEdit(e, t = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(e),
                t && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new We(e)),
            this.m_model
          );
        }
        GetTakeunderToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static s_Singleton;
        static Get() {
          return (
            ze.s_Singleton ||
              ((ze.s_Singleton = new ze()),
              "dev" == k.De.WEB_UNIVERSE &&
                (window.g_takeunderEditStore = ze.s_Singleton)),
            ze.s_Singleton
          );
        }
        constructor() {}
      }
      function Ze(e) {
        const { rgArtworkToDisplay: t, promotionPlanID: a } = e,
          n = (function () {
            const e = (0, W.NW)(),
              [t, a] = s.useState(() => ze.Get().GetTakeunderToEdit());
            return (
              (0, W.Qg)(t?.GetCallback(), (t) => {
                a(t), e();
              }),
              t
            );
          })();
        return s.createElement(
          "div",
          { className: ne.EditCtn },
          s.createElement(
            "div",
            { className: c().PageTitle },
            "Front Page Takeunder - Asset Management",
          ),
          s.createElement("hr", null),
          s.createElement(
            "div",
            { className: c().ColumnCtn },
            s.createElement(
              "div",
              { className: c().LeftCol },
              s.createElement(Qe, {
                oEditableTakeunder: n,
                rgArtworkToDisplay: t,
              }),
            ),
            s.createElement(Je, {
              oEditableTakeunder: n,
              rgArtworkToDisplay: t,
              promotionPlanID: a,
            }),
          ),
        );
      }
      function Ke(e, t) {
        if (!t) return !0;
        switch (e) {
          case "takeunder_desktop":
            return t.includes("takeunder_art");
          case "takeunder_mobile":
            return t.includes("takeunder_mobile_art");
        }
        return !1;
      }
      function Qe(e) {
        const { oEditableTakeunder: t, rgArtworkToDisplay: a } = e,
          n = (0, s.useMemo)(() => {
            const e = ["takeunder_art", "takeunder_mobile_art"];
            return a ? a.filter((t) => e.includes(t)) : e;
          }, [a]),
          i = (0, s.useMemo)(() => [X.IN.k_ESteamRealmGlobal], []),
          r = (0, s.useCallback)(
            (e, a, n, i, r, l, s) => {
              (0, Re.X)(
                null != n && n >= 0 && n < 31,
                "Unexpected value for elang: " + n,
              );
              let o = null;
              switch (i) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  o =
                    l == Z.h1.takeunder_art.width
                      ? "takeunder_desktop"
                      : "takeunder_mobile";
                  break;
                default:
                  console.log(
                    "TakeunderAssetDisplayLanding unexpected mimetype: " + i,
                  );
              }
              o && t.SetImage(o, n, a);
            },
            [t],
          );
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            { className: c().SectionCtn },
            s.createElement(
              "h2",
              { className: "inline" },
              "Frontpage Takeunder Assets",
            ),
            s.createElement("hr", null),
            Boolean("dev" == k.De.WEB_UNIVERSE) &&
              s.createElement(
                "div",
                { className: be.WarningStylesWithIcon },
                "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
              ),
            s.createElement(J.j, {
              rgSupportArtwork: n,
              rgRealmList: i,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${k.De.PARTNER_BASE_URL}cluster/ajaxuploadasset?clusterid=${t.GetID()}&clustertype=${t.GetTypeString()}`,
              fnOnUploadSuccess: r,
            }),
            s.createElement(
              d.SV,
              null,
              s.createElement("br", null),
              Ke("takeunder_desktop", a) &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement("h3", null, "Takeunder Banner Asset"),
                  s.createElement(
                    "div",
                    null,
                    s.createElement("span", null, "940 by 150px"),
                    " (.jpg,.png,.gif)",
                  ),
                  s.createElement(Ye, {
                    oEditableTakeunder: t,
                    assetType: "takeunder_desktop",
                  }),
                ),
              Ke("takeunder_mobile", a) &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement("h3", null, "Takeunder Banner Mobile Asset"),
                  s.createElement(
                    "div",
                    null,
                    s.createElement("span", null, "500px by 160"),
                    " (.jpg,.png,.gif)",
                  ),
                  s.createElement(Ye, {
                    oEditableTakeunder: t,
                    assetType: "takeunder_mobile",
                  }),
                ),
            ),
          ),
          s.createElement($e, { oEditableTakeunder: t }),
        );
      }
      function Ye(e) {
        const { oEditableTakeunder: t, assetType: a } = e,
          [i, r, o, m] = (0, l.SZ)(() => [
            t.GetAssetsObject(a),
            t.GetID(),
            t.GetPromoModifyTime(),
            t.GetType(),
          ]),
          d = Object.keys(i)
            .sort()
            .map((e) => (0, pe.jM)(e)),
          u = (0, s.useCallback)(
            (e) => {
              const t = (0, pe.j_)(e);
              return i[t]
                ? (function (e, t, a, i, r) {
                    if (!r) return null;
                    const l = i ? "?t=" + i : "",
                      s = (0, pe.j_)(a);
                    return `${k.De.MEDIA_CDN_URL}steam/clusters/${(0, n.D9)(e)}/${t}/${r[s]}${l}`;
                  })(m, r, e, o, i)
                : null;
            },
            [r, o, i, m],
          );
        return s.createElement(
          "div",
          { className: c().MarketingMessage },
          s.createElement($.V, {
            rgAssetLangs: d,
            fnGetAssetUrl: u,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(a, e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(a),
          }),
        );
      }
      function Je(e) {
        const {
            oEditableTakeunder: t,
            rgArtworkToDisplay: a,
            promotionPlanID: n,
          } = e,
          i = (0, l.SZ)(() => {
            const e = new Map();
            return (
              qe.y.forEach((a) => {
                let n = 0;
                const i = t.GetAssetsObject(a);
                for (let e = 0; e < 31; ++e) i && i[(0, pe.j_)(e)] && (n += 1);
                e.set(a, n);
              }),
              e
            );
          });
        return s.createElement(
          "div",
          { className: c().RightCol },
          s.createElement(
            "div",
            { className: c().SectionCtn },
            s.createElement(m.__, null, "Asset Progress"),
            qe.y
              .filter((e) => i.has(e) && Ke(e, a))
              .map((e) =>
                s.createElement(
                  "div",
                  { key: "as_" + e },
                  (0, qe.a)(e),
                  ": ",
                  i.get(e),
                  " / 29",
                ),
              ),
          ),
          s.createElement(
            "div",
            { className: c().SectionCtn },
            s.createElement(
              "a",
              {
                href: `${k.De.PARTNER_BASE_URL}admin/store/pageclusteredit/${t.GetTypeString()}/${t.GetID()}`,
                target: "_blank",
              },
              "Open Takeunder Editor",
            ),
            Boolean(n) &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement("br", null),
                s.createElement(
                  "a",
                  {
                    href: `${k.De.PARTNER_BASE_URL}promotion/planning/edit/${n}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function $e(e) {
        const { oEditableTakeunder: t } = e,
          { fnSaveClusterAssets: a } = (0, ye.NW)(),
          [i, r, o, c] = (0, l.SZ)(() => [
            t.BIsDirty(),
            t.GetID(),
            t.GetModel(),
            t.GetAssetCount(),
          ]);
        return s.createElement(ie, {
          bIsDirty: i,
          bSaveDisabled: 0 == c,
          fnOnRevert: () => t.RevertChanges(),
          fnOnSave: async () => {
            const e = await a(n.R6.k_ConfigPage_Takeunder, o);
            return e && t.Reset((0, ye.Gj)(n.R6.k_ConfigPage_Takeunder, r)), e;
          },
        });
      }
      function et(e) {
        const { id: t, children: a } = e,
          i = (0, ye.NU)(n.R6.k_ConfigPage_Takeunder, t),
          [r, l] = s.useState(!1);
        return (
          s.useLayoutEffect(() => {
            i &&
              ((ze.Get().GetTakeunderToEdit()?.GetID() == i.id && r) ||
                (!(function (e, t = !1) {
                  ze.Get().InitTakeunderToEdit(e, t);
                })(i),
                l(!0)));
          }, [i, r, t]),
          i
            ? r
              ? s.createElement(s.Fragment, null, a)
              : s.createElement(ee.V, {
                  size: "medium",
                  position: "center",
                  string: (0, v.Xx)("#Loading"),
                })
            : s.createElement(
                "div",
                null,
                s.createElement("div", null, "Takeunder does not exist."),
                s.createElement(
                  Te.rU,
                  {
                    to: `${k.De.PARTNER_BASE_URL}admin/store/pageclusteredit/takeunder}`,
                  },
                  "Return to Takeunder Dashboard.",
                ),
              )
        );
      }
      var tt = a(63734),
        at = a(56164);
      function nt(e) {
        const { rtTime: t } = e;
        return s.createElement(
          "span",
          null,
          (0, v.$1)(t),
          " as ",
          (0, D.Sc)(t),
        );
      }
      function it(e) {
        const t = (0, r.Gn)(),
          [a, n, i] = (0, l.SZ)(() => [
            t.GetArtworkLocalizationDropboxLink(),
            t.GetArtworkLocalizationTaskID(),
            t.GetArtworkLocalizationRequests(),
          ]);
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            {
              className: (0, E.Z)(
                c().DefaultSectionCtn,
                c().ValveOnlyBackground,
              ),
            },
            s.createElement(
              "h2",
              { className: c().ValveOnlyTitle },
              "Valve Only",
            ),
            s.createElement(
              "p",
              null,
              "This page is for communicating with BluePrint localization team for assets they require localization work.",
            ),
            s.createElement(m.II, {
              type: "url",
              label: "DropBox Link",
              value: a,
              onChange: (e) =>
                t.SetArtworkLocalizationDropboxLink(e.currentTarget.value),
            }),
            s.createElement(
              at.ug,
              { title: "Required Assets", bStartMinimized: Boolean(n) },
              s.createElement(st, null),
            ),
            Boolean(!n) ? s.createElement(rt, null) : s.createElement(lt, null),
          ),
          s.createElement(dt, {
            bShowInternalControls: !1,
            bDisableRouting: !0,
            rgArtworkToDisplay: i,
          }),
          s.createElement(
            "div",
            {
              className: (0, E.Z)(
                c().DefaultSectionCtn,
                c().ValveOnlyBackground,
                c().ActionBar,
              ),
            },
            s.createElement(V.u, { oEditablePlan: t }),
          ),
        );
      }
      function rt(e) {
        const t = (0, r.Gn)(),
          [a, n] = (0, l.SZ)(() => [
            t.BHasArtworkLocalizationSteamChinaOnly(),
            t.GetNumArtworkLocalizationRequired(),
          ]);
        return s.createElement(
          "div",
          null,
          s.createElement("h3", null, "Required Languages"),
          s.createElement(m.ji, {
            label: "Only Steam China Localization",
            tooltip:
              "If checked, we only want English and Simplified Chinese. Otherwise, we want all of the languages Steam supports",
            checked: a,
            onChange: (e) => t.SetArtworkLocalizationSteamChinaOnly(e),
          }),
          s.createElement(
            m.zx,
            {
              disabled: 0 == n,
              onClick: (e) =>
                (0, h.AM)(
                  s.createElement(F, { oEditablePlan: t, bSteamChinaOnly: a }),
                  (0, S.RA)(e),
                ),
            },
            "Create Monday Localization Request",
          ),
          s.createElement("br", null),
        );
      }
      function lt(e) {
        const t = (0, r.Gn)(),
          [a, n, i] = (0, l.SZ)(() => [
            t.GetArtworkLocationUploadAssetURL(),
            t.GetArtworkLocalizationRequestTime(),
            t.GetArtworkLocalizationTaskID(),
          ]);
        return s.createElement(
          "div",
          null,
          s.createElement("br", null),
          s.createElement("h3", null, "Localization Request has been created"),
          s.createElement(
            "div",
            null,
            "Localization Request Initiated at ",
            s.createElement(nt, { rtTime: n }),
            ".",
            s.createElement(
              "a",
              {
                href: `https://valve-loc.monday.com/boards/4985300096/pulses/${i}`,
              },
              "Open Task",
            ),
          ),
          s.createElement(
            "a",
            { href: a, target: "_blank" },
            "Page Localization Team will see for Asset Upload",
          ),
        );
      }
      function st(e) {
        return s.createElement(
          "div",
          { className: y().AssetNeedsColumn },
          s.createElement("h3", null, "Required Assets"),
          s.createElement(
            "p",
            null,
            "Choose the assets below which require localization support. Once that is complete, make ther request to initialize the localization process via their tracking tools",
          ),
          i.Vd.map((e) =>
            s.createElement(
              "div",
              { key: e, className: y().AssetTypeRow },
              s.createElement(b.j5, {
                type: e,
                bLocalizationRequest: !0,
                index: "marketingmessage_art_2" === e ? 1 : void 0,
              }),
            ),
          ),
        );
      }
      function ot(e) {
        const { planid: t } = e;
        return s.createElement(
          tt.aX,
          { planid: t, bCanBeMissing: !1 },
          s.createElement(ct, null),
        );
      }
      function ct(e) {
        const t = (0, r.Gn)(),
          a = (0, l.SZ)(() => t.GetArtworkLocalizationRequests());
        return s.createElement(dt, {
          strHeaderName: t.GetName(),
          bShowInternalControls: !1,
          rgArtworkToDisplay: a,
        });
      }
      function mt(e) {
        return s.createElement(
          "div",
          { className: (0, E.Z)(c().DefaultSectionCtn) },
          s.createElement("h2", null, "Asset Upload"),
          s.createElement(
            "p",
            null,
            "This is the single place where we can upload and review all of the assets required by this promotion plan without having to visit any other promotion tools.",
          ),
          s.createElement(
            "p",
            null,
            "Note: Please remember to save the uploaded files per page as they have their own save logic.",
          ),
          s.createElement("br", null),
          s.createElement("br", null),
          s.createElement(dt, {
            bShowInternalControls: !0,
            bDisableRouting: !0,
          }),
        );
      }
      function dt(e) {
        const {
            bShowInternalControls: t,
            rgArtworkToDisplay: a,
            bDisableRouting: l,
            strHeaderName: o,
          } = e,
          [c, m] = (0, u.Ar)("loc_tab", "current"),
          p = (e) => m(e.key),
          h = (0, r.Gn)(),
          E = new Array(),
          S = new Array();
        return (
          !h.BHasMarketingMessages(0) ||
            (a && !a.includes("marketingmessage_art")) ||
            E.push({
              artworkType: "marketingmessage_art",
              id: h.GetMarketingMessageID(0),
              bShowInternalControls: t,
              promotionPlanID: h.GetID(),
            }),
          !h.BHasMarketingMessages(1) ||
            (a && !a.includes("marketingmessage_art_2")) ||
            E.push({
              artworkType: "marketingmessage_art_2",
              id: h.GetMarketingMessageID(1),
              bShowInternalControls: t,
              promotionPlanID: h.GetID(),
            }),
          !h.BHasSpotlightIDs(0) ||
            (a && !a.includes("spotlight_art")) ||
            E.push({
              artworkType: "spotlight_art",
              id: h.GetSpotlightIDs(0),
              promotionPlanID: h.GetID(),
            }),
          h.BHasTakeoverIDs(0) &&
            (!a ||
              a.includes("takeover_art") ||
              a.includes("takeover_mobile_art")) &&
            E.push({
              artworkType: "takeover_art",
              id: h.GetTakeoverID(0),
              type: n.R6.k_ConfigPage_Takeover,
              bShowInternalControls: t,
              promotionPlanID: h.GetID(),
            }),
          h.BHasSteamChinaTakeoverID(0) &&
            (!a ||
              a.includes("takeover_art") ||
              a.includes("takeover_mobile_art")) &&
            E.push({
              artworkType: "takeover_art",
              id: h.GetSteamChinaTakeoverID(0),
              type: n.R6.k_ConfigPage_TakeoverSteamChina,
              bShowInternalControls: t,
              promotionPlanID: h.GetID(),
            }),
          h.BHasContentHubTakeoverIDs(0) &&
            (!a ||
              a.includes("takeover_art") ||
              a.includes("takeover_mobile_art")) &&
            E.push({
              artworkType: "takeover_art",
              id: h.GetContentHubTakeoverID(0),
              type: h.GetContentHubTakeoverType(0),
              bShowInternalControls: t,
              promotionPlanID: h.GetID(),
            }),
          h.BHasTakeunderIDs(0) &&
            (!a ||
              a.includes("takeunder_art") ||
              a.includes("takeunder_mobile_art")) &&
            E.push({
              artworkType: "takeunder_art",
              id: h.GetTakeunderID(0),
              type: n.R6.k_ConfigPage_Takeunder,
              promotionPlanID: h.GetID(),
            }),
          h.BHasAssociatedSaleEvent() &&
            (!a ||
              a.includes("sale_header") ||
              a.includes("sale_logo") ||
              a.includes("capsule")) &&
            E.push({
              artworkType: "sale_header",
              clanAccountID: h.GetSaleClanAccountID(),
              gidClanEvent: h.GetSaleClanEventGID(),
              promotionPlanID: h.GetID(),
            }),
          E.forEach((e) => {
            S.push({
              name: (0, i.gl)(e.artworkType),
              key: (e.type ? (0, n.D9)(e.type) + "_" : "") + e.artworkType,
              status: s.createElement(ut, { ...e, rgArtworkToDisplay: a }),
              contents: s.createElement(
                d.SV,
                null,
                s.createElement(pt, { ...e, rgArtworkToDisplay: a }),
              ),
              onClick: p,
            });
          }),
          s.createElement(
            "div",
            null,
            Boolean(o) &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement("h1", null, o),
                s.createElement("hr", null),
              ),
            s.createElement(g.n, { tabs: S, bDisableRouting: l }),
            s.createElement("div", { className: _().ClearThings }),
          )
        );
      }
      function ut(e) {
        return s.createElement("div", null, "status todo");
      }
      function pt(e) {
        const {
          artworkType: t,
          id: a,
          type: n,
          clanAccountID: i,
          gidClanEvent: r,
          bShowInternalControls: l,
          rgArtworkToDisplay: o,
          promotionPlanID: c,
        } = e;
        switch (t) {
          case "marketingmessage_art":
          case "marketingmessage_art_2":
            return s.createElement(
              H.R,
              { gid: a },
              s.createElement(U.H, {
                bAssetUploadOnly: !l,
                promotionPlanID: c,
              }),
            );
          case "spotlight_art":
            return s.createElement(
              Ne,
              { gid: a },
              s.createElement(Ie, { promotionPlanID: c }),
            );
          case "takeover_art":
          case "takeover_mobile_art":
          case "takeover_webm_art":
          case "takeover_mp4_art":
          case "takeover_webm_mobile_art":
          case "takeover_mp4_mobile_art":
            return s.createElement(
              je,
              { id: a, type: n },
              s.createElement(Me, {
                bShowInternalControls: l,
                rgArtworkToDisplay: o,
                promotionPlanID: c,
              }),
            );
          case "takeunder_art":
          case "takeunder_mobile_art":
            return s.createElement(
              et,
              { id: a },
              s.createElement(Ze, {
                rgArtworkToDisplay: o,
                promotionPlanID: c,
              }),
            );
          case "sale_header":
          case "sale_logo":
          case "capsule":
          case "product_banner":
          case "product_mobile_banner":
          case "localized_title_image":
            return s.createElement(
              de,
              { clanAccountID: i, gidClanEvent: r },
              s.createElement(le, {
                gidClanEvent: r,
                rgArtworkToDisplay: o,
                promotionPlanID: c,
              }),
            );
          default:
            return s.createElement("div", null, "Not Built yet.");
        }
      }
    },
    58606: (e, t, a) => {
      "use strict";
      a.d(t, { C: () => m, x: () => d });
      var n = a(13913),
        i = a(47427),
        r = a(77681),
        l = a.n(r),
        s = a(1485),
        o = a(5094),
        c = a(65255);
      function m(e) {
        const { oEditableMessage: t, promotionPlanID: a } = e;
        return i.createElement(
          "div",
          { className: l().RightCol },
          i.createElement(
            "div",
            { className: l().SectionCtn },
            i.createElement(s.__, null, "Asset Progress"),
            i.createElement(d, { oEditableMessage: t }),
          ),
          i.createElement(
            "div",
            { className: l().SectionCtn },
            i.createElement(
              "a",
              {
                href: `${c.De.PARTNER_BASE_URL}promotion/marketingmessages/edit/${t.GetGID()}`,
                target: "_blank",
              },
              "Open Marketing Message Editor",
            ),
            Boolean(a) &&
              i.createElement(
                i.Fragment,
                null,
                i.createElement("br", null),
                i.createElement(
                  "a",
                  {
                    href: `${c.De.PARTNER_BASE_URL}promotion/planning/edit/${a}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function d(e) {
        const { oEditableMessage: t } = e,
          {
            bMinimumAssetsSetup: a,
            nAssetSetup: r,
            nCompleteAssetRequired: l,
            bMatchingVideoAssets: s,
            strCustomTemplateType: c,
            nPosterCount: m,
            nSubtitleCount: d,
          } = (0, n.AD)(t.GetGID());
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(o.x, { bDone: a, name: `Assets (${r}/${l})` }),
          !c &&
            void 0 !== s &&
            i.createElement(o.x, {
              bDone: s,
              name: "Animated Assets (webm + mp4)",
              tooltip:
                "Animated assets require matching mp4, webm and images for every langauage where there is an mp4 or webm supplied.  Must at lesat provide 1 animated asset for this setting.",
            }),
          "featured_video" === c &&
            i.createElement(
              i.Fragment,
              null,
              i.createElement(o.x, {
                bDone: s,
                name: "Featured Video",
                tooltip: "Requries both .webm and .mp4 for featuring to work",
              }),
              i.createElement(o.x, {
                bDone: m > 0,
                name: `Poster Assets (${m}/${l})`,
              }),
              i.createElement(o.x, {
                bDone: d > 0,
                name: `Subtitles (${d}/${l})`,
              }),
            ),
        );
      }
    },
    43527: (e, t, a) => {
      "use strict";
      a.d(t, { H: () => P });
      var n = a(38071),
        i = a(77936),
        r = a(43204),
        l = a(30750),
        s = a(47427),
        o = a(27174),
        c = a(98330),
        m = a(77681),
        d = a.n(m),
        u = a(9466),
        p = a(8897),
        _ = a(1485),
        h = a(10162),
        g = a(72297),
        E = a(71741),
        S = a.n(E),
        v = a(77671),
        D = a(77178),
        f = a(90069),
        y = a(62210),
        b = a(13129),
        I = a(50423),
        C = a(65255),
        k = a(58606),
        A = a(65612),
        w = a(60688);
      function P(e) {
        const { bAssetUploadOnly: t, promotionPlanID: a } = e,
          n = (0, r.fL)();
        return s.createElement(
          "div",
          null,
          s.createElement(
            "div",
            { className: w.EditCtn },
            s.createElement(
              "div",
              { className: d().PageTitle },
              "Marketing Message - Asset Management",
            ),
            s.createElement("hr", null),
            s.createElement(
              "div",
              { className: d().ColumnCtn },
              s.createElement(
                "div",
                { className: d().LeftCol },
                Boolean(!t) && s.createElement(T, { oEditableMessage: n }),
                s.createElement(x, { oEditableMessage: n }),
              ),
              s.createElement(k.C, {
                oEditableMessage: n,
                bAssetUploadOnly: t,
                promotionPlanID: a,
              }),
            ),
            s.createElement("br", null),
          ),
        );
      }
      function T(e) {
        const t = (0, r.fL)(),
          [a] = (0, l.SZ)(() => [t.GetInternalAssetURL()]);
        return s.createElement(
          "div",
          { className: d().SectionCtn },
          s.createElement(_.__, null, "Internal Assets Location"),
          s.createElement(_.II, {
            type: "text",
            value: a,
            placeholder: "enter fileserver location",
            onChange: (e) => t.SetInternalAssetURL(e.currentTarget.value),
            tooltip:
              "Valve Only: Lets us refer to a folder on \\fileserver for communicating where we are keeping the assets for the event or a similar part event",
          }),
          s.createElement("br", null),
          s.createElement("br", null),
          s.createElement(N, { oEditableMessage: t }),
          s.createElement(R, { oEditableMessage: t }),
        );
      }
      function N(e) {
        const t = (0, r.fL)(),
          [a, n] = (0, s.useState)(
            (function (e) {
              if (e.BHasAnimatedAssets()) return "mm_animated_image";
              if ("featured_video" === e.GetCustomTemplate())
                return "mm_featured_video";
              return "mm_image";
            })(t),
          ),
          i = (0, s.useMemo)(
            () => [
              {
                label: "Static Image",
                data: "mm_image",
                tooltip: "Limit to .jpg and .png without animations",
              },
              {
                label: "Animated Image (webm + mp4)",
                data: "mm_animated_image",
                tooltip:
                  "Requires .webm and .mp4 for animated background; support static image fallback for low bandwidth users",
              },
              {
                label: "Featured Video",
                data: "mm_featured_video",
                tooltip:
                  "Primary focus in an embedded video as part of the IM.  Regular image is the background and only top 300px is not covered by the video.",
              },
            ],
            [],
          );
        return s.createElement(_.ry, {
          label: "Maketing Message Display",
          strClassName: (0, b.Z)(S().DropDownScroll),
          rgOptions: i,
          selectedOption: a,
          onChange: (e) => {
            switch (e.data) {
              case "mm_image":
                t.SetAnimatedAssetsEnabled(!1), t.ClearCustomTemplate();
                break;
              case "mm_animated_image":
                t.SetAnimatedAssetsEnabled(!0), t.ClearCustomTemplate();
                break;
              case "mm_featured_video":
                t.SetAnimatedAssetsEnabled(!1),
                  t.SetCustomTemplate("featured_video");
            }
            n(e.data);
          },
        });
      }
      function R(e) {
        const { oEditableMessage: t } = e,
          [a, n, i] = (0, l.SZ)(() => [
            t.GetCustomTemplate(),
            t.GetFeaturedVideoMP4Url() || "",
            t.GetFeaturedVideoWebMUrl() || "",
          ]);
        return "featured_video" != a
          ? null
          : s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                "We need both a .webm and .mp4 of the featured video. They need to be uploaded to CDN.",
                s.createElement(
                  "a",
                  {
                    href: "https://confluence.valve.org/pages/viewpage.action?pageId=131008106",
                  },
                  "Here is how",
                ),
                ". Also here are a ",
                s.createElement(
                  "a",
                  {
                    href: "https://confluence.valve.org/display/STEAM/Marketing+Message+Template%3A+Featured+Video",
                  },
                  "few instructions about this type",
                ),
                ".",
              ),
              s.createElement(_.II, {
                type: "url",
                label: "MP4 (1920x1080)",
                value: n,
                onChange: (e) =>
                  t.SetFeaturedVideoMP4Url(e.currentTarget.value),
              }),
              s.createElement(G, {
                strURL: n,
                mimetype: "video/mp4",
                extension: ".mp4",
              }),
              s.createElement(_.II, {
                type: "url",
                label: "WebM (1920x1080)",
                value: i,
                onChange: (e) =>
                  t.SetFeaturedVideoWebMUrl(e.currentTarget.value),
              }),
              s.createElement(G, {
                strURL: i,
                mimetype: "video/webm",
                extension: ".webm",
              }),
            );
      }
      function G(e) {
        const { strURL: t, extension: a, mimetype: n } = e;
        if (!t || 0 == t.trim().length) return null;
        const i = !(0, r.V4)(t, a);
        return s.createElement(
          "div",
          null,
          i
            ? s.createElement(
                "div",
                { className: g.ErrorStylesWithIcon },
                "Error: URL format is wrong or missing extensions (",
                a,
                ")",
              )
            : s.createElement(
                _.zx,
                {
                  onClick: (e) =>
                    (0, f.AM)(
                      s.createElement(
                        D.uH,
                        { strTitle: "Preview " + a, bAllowFullSize: !0 },
                        s.createElement(
                          "video",
                          { controls: !0, muted: !0, height: "270" },
                          s.createElement("source", { src: t, type: n }),
                        ),
                      ),
                      (0, I.RA)(e),
                    ),
                },
                "Preview",
              ),
        );
      }
      function x(e) {
        const { oEditableMessage: t } = e,
          [a, i, r, m, p] = (0, l.SZ)(() => [
            t.GetRealm(),
            t.GetAssetsObject("ll_image"),
            t.BHasAnimatedAssets(),
            "featured_video" === t.GetCustomTemplate(),
            t.GetGID(),
          ]),
          _ = Boolean(0 != a),
          E = (0, s.useMemo)(() => {
            const e = ["localized_marketing_message"];
            return (
              r
                ? (e.push("localized_marketingmessage_mp4"),
                  e.push("localized_marketingmessage_webm"),
                  (0, y.X)(
                    !m,
                    "Animated Image and Featured video are mutually exclusive.",
                  ))
                : m &&
                  (e.push("localized_marketingmessage_background"),
                  e.push("localized_marketingmessage_poster"),
                  e.push("localized_subtitles")),
              e
            );
          }, [r, m]),
          S = (0, s.useMemo)(
            () => [n.IN.k_ESteamRealmGlobal, n.IN.k_ESteamRealmChina],
            [],
          ),
          v = (0, s.useCallback)(
            (e, a, n, i, r, l, s) => {
              (0, y.X)(
                null != n && n >= 0 && n < 31,
                "Unexpected value for elang: " + n + " " + p,
              );
              let m = null;
              switch (i) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                case "image/webp":
                  m =
                    l == o.h1.localized_marketingmessage_poster.width
                      ? "poster"
                      : "localized_marketingmessage_background" === r
                        ? "background"
                        : "ll_image";
                  break;
                case "video/mp4":
                  m = "mp4";
                  break;
                case "video/webm":
                  m = "webm";
                  break;
                case "text/srt":
                case "text/vtt":
                  m = "subtitles";
                  break;
                default:
                  console.log(
                    "MarketingMessageAssetDisplayLanding unexpected mimetype: " +
                      i,
                  );
              }
              m && t.SetTemplateAssetImagePath(e + (0, c.UQ)(i), m, n);
            },
            [t, p],
          );
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            { className: d().SectionCtn },
            s.createElement(
              "h2",
              { className: "inline" },
              "MARKETING MESSAGE ASSETS",
            ),
            s.createElement("hr", null),
            Boolean(_ && (!i || !i.sc_schinese)) &&
              s.createElement(
                "div",
                { className: g.WarningStylesWithIcon },
                s.createElement(
                  "div",
                  null,
                  "Marketing Message will appear in Steam China, we require a Steam China Simplified Chinese Asset. Please ensure the sc_schinese asset handles these two cases:",
                ),
                s.createElement(
                  "ol",
                  null,
                  s.createElement(
                    "li",
                    null,
                    "If we mention Steam, in Steam China has a specific name: ",
                    s.createElement("img", {
                      src:
                        C.De.STORE_CDN_URL +
                        "public/shared/images/header/logo_steamchina.svg?t=962016",
                      height: "40",
                    }),
                  ),
                  s.createElement(
                    "li",
                    null,
                    "If there is a time in the artwork, then it must localized to China Standard Time",
                  ),
                ),
              ),
            Boolean("dev" == C.De.WEB_UNIVERSE) &&
              s.createElement(
                "div",
                { className: g.WarningStylesWithIcon },
                "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
              ),
            s.createElement(u.j, {
              rgSupportArtwork: E,
              rgRealmList: S,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${C.De.PARTNER_BASE_URL}promotion/marketingmessages/ajaxuploadasset/${t.GetGID()}`,
              fnOnUploadSuccess: v,
            }),
            s.createElement(
              h.SV,
              null,
              s.createElement("br", null),
              s.createElement("h3", null, "Static Assets Only"),
              s.createElement(
                "div",
                null,
                s.createElement("span", null, "570px by 600px"),
                " (.jpg,.png,.gif,.webp)",
              ),
              s.createElement(M, {
                oEditableMessage: t,
                assetType: "ll_image",
              }),
              s.createElement(L, { oEditableMessage: t }),
              s.createElement(B, { oEditableMessage: t }),
            ),
          ),
          s.createElement(A.p, { oEditableMessage: t }),
        );
      }
      function L(e) {
        const { oEditableMessage: t } = e,
          [a] = (0, l.SZ)(() => [t.BHasAnimatedAssets()]);
        return a
          ? s.createElement(
              "div",
              null,
              s.createElement("br", null),
              s.createElement("h3", null, "Animated Assets"),
              s.createElement(
                "div",
                null,
                "Animated Assets require both matching .webm/.mp4 files. Will fallback to static assets if animated asset is missing or client is setup for low-bandwidth mode.",
              ),
              s.createElement("br", null),
              s.createElement(_.__, null, "WebM"),
              s.createElement(
                "div",
                null,
                ".Webm 570px by 600px (required for Steam Client)",
              ),
              s.createElement(M, { oEditableMessage: t, assetType: "webm" }),
              s.createElement("br", null),
              s.createElement(_.__, null, "MP4"),
              s.createElement(
                "div",
                null,
                ".Mp4 570px by 600px (required for iOS)",
              ),
              s.createElement(M, { oEditableMessage: t, assetType: "mp4" }),
            )
          : null;
      }
      function B(e) {
        const { oEditableMessage: t } = e,
          [a] = (0, l.SZ)(() => [t.GetCustomTemplate()]);
        return "featured_video" != a
          ? null
          : s.createElement(
              "div",
              null,
              s.createElement("br", null),
              s.createElement(
                "h3",
                null,
                "Feature Video Template Specific Assets",
              ),
              s.createElement("br", null),
              s.createElement(_.__, null, "Background Image"),
              s.createElement(
                "div",
                null,
                s.createElement("span", null, "570px by 600px"),
                " (Video sits on top of this asset; .png/.jpg) ",
              ),
              s.createElement(M, {
                oEditableMessage: t,
                assetType: "background",
              }),
              s.createElement("br", null),
              s.createElement(_.__, null, "Poster Image"),
              s.createElement(
                "div",
                null,
                s.createElement("span", null, "528px by 297px"),
                " (localized video poster image; shown on top of video prior to play; .png/.jpg)",
              ),
              s.createElement(M, { oEditableMessage: t, assetType: "poster" }),
              s.createElement("br", null),
              s.createElement(_.__, null, "Subtitles"),
              s.createElement(
                "div",
                null,
                ".vtt/.srt format (include extension or mapping will fail)",
              ),
              s.createElement(M, {
                oEditableMessage: t,
                assetType: "subtitles",
              }),
            );
      }
      function M(e) {
        const { oEditableMessage: t, assetType: a } = e,
          [n, r, o] = (0, l.SZ)(() => [
            t.GetAssetsObject(a),
            t.GetGID(),
            t.GetAssetsModifyTime(),
          ]),
          c = Object.keys(n)
            .sort()
            .map((e) => (0, i.jM)(e)),
          m = (0, s.useCallback)(
            (e) => {
              const t = (0, i.j_)(e);
              return n[t] ? (0, v.i)(r, e, o, n[t]) : null;
            },
            [r, o, n],
          );
        return s.createElement(
          "div",
          { className: d().MarketingMessage },
          s.createElement(p.V, {
            rgAssetLangs: c,
            fnGetAssetUrl: m,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(a, e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(a),
          }),
        );
      }
    },
    79173: (e, t, a) => {
      "use strict";
      a.d(t, { AF: () => L, aR: () => G, vN: () => x });
      var n = a(256),
        i = a(44107),
        r = a(58515),
        l = a.n(r),
        s = a(47427),
        o = a(86437),
        c = a(80886),
        m = a(1485),
        d = a(83743),
        u = a(72297),
        p = a(71741),
        _ = a.n(p),
        h = a(92012),
        g = a(77178),
        E = a(62613),
        S = a(59728),
        v = a(13129),
        D = a(37563),
        f = a(28922),
        y = a(69368),
        b = a(66692),
        I = a(32088),
        C = a(31455),
        k = a(84676),
        A = a(34083),
        w = a(82624),
        P = a(92195),
        T = a(17160),
        N = a(87380);
      const R = [11, 9, 12, 11, 2];
      function G(e) {
        const {
            rtInitialDate: t,
            closeModal: a,
            rtInitialEndDate: n,
            initialType: r,
            bAllowPromotionPlanCreate: p,
          } = e,
          [_, h] = s.useState(r || 1),
          [v, I] = s.useState(""),
          [k, G] = s.useState((0, f.ap)(t)),
          [B, M] = s.useState((0, f.h9)(t, n)),
          [O, F] = s.useState(p),
          [U, H] = s.useState(null),
          [V, X] = s.useState(null),
          j = (0, s.useMemo)(() => (0, o.B_)(V), [V]),
          [q] = (0, c.jk)((0, o.u$)(V), (0, o.D3)(V), {
            include_assets: !0,
            include_all_purchase_options: !0,
            include_platforms: !0,
          });
        (0, s.useEffect)(() => {
          p && F(V && !R.includes(_));
        }, [_, p, V]);
        const { fnCreateMarketingMessage: W } = (0, i.oT)(),
          z = (0, d.tx)(),
          { fnAddNewPlan: Z } = (0, N.$H)(),
          { fnUpdateMarketingMessage: K } = (0, i.jI)();
        if (z.bLoading)
          return s.createElement(d.NT, {
            state: z,
            strDialogTitle: "Creating Marketing Message",
            closeModal: a,
          });
        const Q = (V?.appid || V?.bundleid || V?.packageid) && !D.L7.is_support;
        return s.createElement(
          g.uH,
          {
            strTitle: "Create Marketing Message",
            onCancel: a,
            bAllowFullSize: !0,
            bDisableBackgroundDismiss: !0,
            bOKDisabled:
              0 === v.trim().length ||
              z.bLoading ||
              !(0, f.yt)(_, k, B) ||
              (Q && !q) ||
              (O && !U),
            onOK: async () => {
              z.fnSetLoading(!0);
              const e = (0, C.v)(v, _, k, B, "#msg_action_details", q);
              try {
                const t = await W(e, !0);
                if (t) {
                  let e = !0;
                  if (O) {
                    const a = new T.bZ((0, i._5)(t));
                    e = await (0, P.Jr)(z, a, Z, K, U);
                  }
                  return void (
                    e &&
                    z.fnSetElSuccess(
                      s.createElement(
                        "div",
                        null,
                        s.createElement(
                          "div",
                          null,
                          "Successfully Created Marketing Message",
                        ),
                        s.createElement("br", null),
                        s.createElement(
                          "a",
                          {
                            href:
                              D.De.PARTNER_BASE_URL +
                              "/promotion" +
                              A.PromotionRoutes.MarketingMessageEditor(t),
                          },
                          "Edit Marketing Message",
                        ),
                      ),
                    )
                  );
                }
              } catch (e) {}
              z.fnSetStrError(
                "Failed to create Marketing Message. Check console",
              );
            },
          },
          s.createElement(m.__, null, "Choose Marketing Message Type:"),
          s.createElement(x, { type: _, setType: h }),
          s.createElement(m.II, {
            type: "text",
            label: "Internal Name",
            tooltip:
              "Internal name used for us to identify the promotion, not visible outside of this tool",
            value: v,
            onChange: (e) => I(e?.currentTarget?.value || ""),
          }),
          s.createElement(m.__, null, "Marketing Message Type:"),
          s.createElement(x, { type: _, setType: h }),
          s.createElement(L, {
            type: _,
            rtStartTime: k,
            setStartTime: G,
            rtEndTime: B,
            setEndTime: M,
          }),
          s.createElement(
            m.__,
            null,
            "Optional Featuring Target:",
            Boolean(V) &&
              s.createElement(
                S.HP,
                {
                  className: l().ProgressIconError,
                  onClick: () => X(null),
                  toolTipContent: "Clear the Featuring Target",
                },
                s.createElement(E.X, null),
              ),
          ),
          Boolean(V) &&
            s.createElement(
              s.Fragment,
              null,
              s.createElement(y.Ce, {
                id: (0, o.u$)(V),
                itemType: (0, o.D3)(V),
              }),
              Boolean(p) &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(m.ji, {
                    label: "Create Asset Request (via promotion plan)?",
                    tooltip:
                      "Useful for standalone marketing messages which we want to request assets from partners. Underlying request/review flow is managed by an asset request only promotion plan.",
                    checked: O,
                    onChange: F,
                  }),
                  s.createElement(w.x, {
                    nPartnerID: U,
                    storeItemKey: j,
                    fnUpdatePartnerID: H,
                    autoSelectPartnerFromStoreItem: !0,
                  }),
                ),
            ),
          Boolean(V && !q) &&
            s.createElement(
              s.Fragment,
              null,
              D.L7.is_support
                ? s.createElement(
                    "div",
                    { className: u.WarningStylesWithIcon },
                    "Warning: Game is not visible on the Steam store. Beware if not published before featuring, we will link to nowhere.",
                  )
                : s.createElement(
                    "div",
                    { className: u.ErrorStylesWithIcon },
                    "Error: Invalid choice, game not visible on the Steam store.",
                  ),
            ),
          s.createElement(b.Ko, {
            oChoice: V,
            fnSetChoice: X,
            bIncludeHidden: !0,
          }),
        );
      }
      function x(e) {
        const { type: t, setType: a } = e,
          i = (0, s.useMemo)(() => {
            const e = new Array();
            return (
              n.JZ.forEach((t) => {
                e.push({ label: (0, n.W_)(t), data: t });
              }),
              e
            );
          }, []);
        return s.createElement(m.ry, {
          strDropDownClassName: _().DropDownScroll,
          rgOptions: i,
          selectedOption: t,
          onChange: (e) => a(e.data),
        });
      }
      function L(e) {
        const {
          type: t,
          rtStartTime: a,
          setStartTime: n,
          rtEndTime: i,
          setEndTime: r,
        } = e;
        switch (t) {
          case 2:
            return s.createElement(
              "div",
              { className: (0, v.Z)(I.DateCtn, "DateCtn") },
              s.createElement(k.nz, { ...e, type: "weekenddeal" }),
            );
          case 11:
            return s.createElement(
              "div",
              { className: (0, v.Z)(I.DateCtn, "DateCtn") },
              s.createElement(k.nz, { ...e, type: "midweek" }),
            );
        }
        return s.createElement(
          "div",
          { className: (0, v.Z)(I.DateCtn, "DateCtn") },
          s.createElement(h.A, {
            strDescription: "Start Date/Time",
            nEarliestTime: 0,
            fnGetTimeToUpdate: () => a,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: () => !0,
            bShowTimeZone: !0,
          }),
          s.createElement(h.A, {
            strDescription: "End Date/Time",
            nEarliestTime: 0,
            fnGetTimeToUpdate: () => i,
            fnSetTimeToUpdate: r,
            fnIsValidDateTime: () => !0,
            bShowTimeZone: !0,
          }),
        );
      }
    },
    65612: (e, t, a) => {
      "use strict";
      a.d(t, { Q: () => b, p: () => f });
      var n = a(44107),
        i = a(30750),
        r = a(47427),
        l = a(86437),
        s = a(80886),
        o = a(1485),
        c = a(72297),
        m = a(77178),
        d = a(90069),
        u = a(46882),
        p = a(50423),
        _ = a(13129),
        h = a(31846),
        g = a(37563),
        E = a(60688),
        S = a(77681),
        v = a.n(S),
        D = a(20020);
      function f(e) {
        const { oEditableMessage: t } = e,
          a = (0, i.SZ)(() => t.BIsDirty());
        return r.createElement(
          "div",
          { className: (0, _.Z)(v().SectionCtn, v().ActionBar) },
          r.createElement(
            "div",
            { className: E.ButtonRow },
            r.createElement(
              o.KM,
              {
                onClick: (e) =>
                  (0, d.AM)(
                    r.createElement(y, { oEditableMessage: t }),
                    (0, p.RA)(e),
                  ),
              },
              (0, h.Xx)(a ? "#Button_Save" : "#Button_Saved"),
            ),
            r.createElement("div", { className: E.ButtonRowSpacer }),
            r.createElement(
              o.zx,
              {
                onClick: (e) => {
                  (0, d.AM)(
                    r.createElement(I, { oEditableMessage: t }),
                    (0, p.RA)(e),
                  );
                },
              },
              (0, h.Xx)("#Button_Delete"),
            ),
            r.createElement(
              o.zx,
              {
                disabled: !a,
                onClick: (e) =>
                  (0, d.AM)(
                    r.createElement(m.uH, {
                      strTitle: (0, h.Xx)("#Dialog_AreYouSure"),
                      strDescription: (0, h.Xx)("#DailyDeals_UnsavedChanges"),
                      onOK: () => t.RevertChanges(),
                    }),
                    (0, p.RA)(e),
                  ),
              },
              (0, h.Xx)("#Button_Revert"),
            ),
          ),
        );
      }
      function y(e) {
        const { oEditableMessage: t, closeModal: a } = e,
          n = t.GetUserMessageFilters();
        return (
          (0, D.X)("and" == n.clause, "Unexpected usefilter structure"),
          0 == t.GetType()
            ? r.createElement(m.uH, {
                bAlertDialog: !0,
                bDestructiveWarning: !0,
                strTitle: "Save Not Possible",
                strDescription:
                  "Invalid Marketing Message type '----------'. Please correct in editor tab before attempting to save",
                closeModal: a,
              })
            : n.children.some((e, a) => !t.BHasSomeIDForAndUserFilter(a))
              ? r.createElement(m.uH, {
                  bAlertDialog: !0,
                  bDestructiveWarning: !0,
                  strTitle: "Save Not Possible",
                  strDescription:
                    "Incomplete Marketing Message User Filter settings. No user can see this marketing message in the current setup.",
                  closeModal: a,
                })
              : r.createElement(b, { oEditableMessage: t, closeModal: a })
        );
      }
      function b(e) {
        const { oEditableMessage: t, closeModal: a } = e,
          { fnUpdateMarketingMessage: i } = (0, n.jI)(),
          [l, s] = r.useState(!0),
          [o, c] = r.useState(!1);
        return (
          r.useEffect(() => {
            i(t)
              .then((e) => {
                c(e), t.SaveSuccessClearDirty();
              })
              .catch((e) => c(!1))
              .finally(() => s(!1));
          }, [i, t]),
          r.createElement(
            m.uH,
            { strTitle: "Saving", bAlertDialog: !0, closeModal: a },
            Boolean(l)
              ? r.createElement(u.V, {
                  size: "medium",
                  position: "center",
                  string: (0, h.Xx)("#Saving"),
                })
              : Boolean(o)
                ? r.createElement("div", null, "Save successful")
                : r.createElement(
                    "div",
                    null,
                    "Save failed. Please try again later (check consoles for details)",
                  ),
          )
        );
      }
      function I(e) {
        const { oEditableMessage: t, closeModal: a } = e,
          [i, s] = r.useState(!1),
          [o, d] = r.useState(void 0),
          { fnDeleteMarketingMessage: p } = (0, n.BA)();
        return r.createElement(
          m.uH,
          {
            strTitle: "Delete Marketing Message?",
            strDescription:
              "Only delete this message if it has never been shown to customers. Are you sure you want to remove the promotion plan for the following? This can't be undone, but a new one can be created if needed.  This only removes the record from the Steam database. If this message has already been published, the files published will remain on the web cluster.",
            onCancel: a,
            onOK: () => {
              s(!0),
                p(t.GetModel()).then((e) => {
                  e
                    ? (window.location.href =
                        g.De.PARTNER_BASE_URL + "promotion/planning/dashboard")
                    : d("Failed To Delete, check console");
                });
            },
            bOKDisabled: i,
          },
          Boolean(t.BHasFeaturedStoreItem()) &&
            r.createElement(C, {
              id: t.GetStoreItemKey().id,
              storeItemType: (0, l.GV)(t.GetStoreItemKey().item_type),
            }),
          Boolean(i && !o) &&
            r.createElement(u.V, {
              size: "medium",
              position: "center",
              string: (0, h.Xx)("#Deleting"),
            }),
          Boolean(o) && r.createElement("div", { className: c.ErrorStyles }, o),
        );
      }
      function C(e) {
        const { id: t, storeItemType: a } = e,
          [n] = (0, s.jk)(t, a, { include_basic_info: !0, include_assets: !0 });
        return n
          ? r.createElement(
              "div",
              null,
              r.createElement("img", {
                src:
                  n.GetAssets().GetSmallCapsuleURL() ||
                  n.GetAssets().GetHeaderURL(),
              }),
              r.createElement(
                "span",
                null,
                "Name: ",
                n.GetName(),
                " (",
                n.GetID(),
                ")",
              ),
            )
          : r.createElement(u.V, {
              size: "medium",
              position: "center",
              string: (0, h.Xx)("#Loading"),
            });
      }
    },
    50382: (e, t, a) => {
      "use strict";
      a.d(t, { W: () => Se, R: () => Ee });
      var n = a(256),
        i = a(43204),
        r = a(44107),
        l = a(51485),
        s = a(58515),
        o = a.n(s),
        c = a(30750),
        m = a(47427),
        d = a(28017),
        u = a(15690),
        p = a(86437),
        _ = a(80886),
        h = a(77681),
        g = a.n(h),
        E = a(1485),
        S = a(10162),
        v = a(72297),
        D = a(71741),
        f = a.n(D),
        y = a(90069),
        b = a(62613),
        I = a(23665),
        C = a(46882),
        k = a(59728),
        A = a(13129),
        w = a(50423),
        P = a(31846),
        T = a(92195),
        N = a(69368),
        R = a(43527),
        G = a(77178),
        x = a(77912);
      function L(e) {
        const { oEditableMessage: t, storeItem: a, closeModal: n } = e;
        return m.createElement(
          G.uH,
          {
            strTitle: "Update Dynamic Filters",
            strDescription:
              "Changing to this marketing message type. Update the user dynamic filter to preferred setup for this type?",
            onCancel: n,
            bDestructiveWarning: !0,
            onOK: () => {
              t.ReplaceUserFilter((0, x.a)(a, t.GetType())), n && n();
            },
          },
          m.createElement(
            "div",
            null,
            "Note: The user dynamic filter can be updated afterward too",
          ),
        );
      }
      var B = a(65255),
        M = a(66692),
        O = a(99125);
      function F(e) {
        const { oEditableMessage: t, closeModal: a } = e;
        return m.createElement(M.r5, {
          oFeaturedItem: t.GetStoreItemID(),
          closeModal: a,
          bIncludeHidden: !0,
          onConfirmFeatureItem: async (e) => {
            const a = (0, O.Ur)(e);
            return (
              a &&
                (a.no_restrictions
                  ? t.ClearCountryRestrictions()
                  : a.allowed_countries
                    ? t.SetCountryAllow(a.allowed_countries.join(","))
                    : a.restricted_countries &&
                      t.SetCountryAllow(a.restricted_countries.join(","))),
              e.appid
                ? (t.SetAssociation(1, e.appid),
                  t.SetLinkURL(`${B.De.STORE_BASE_URL}app/${e.appid}`),
                  U(t, e))
                : e.packageid
                  ? (t.SetAssociation(2, e.packageid),
                    t.SetLinkURL(`${B.De.STORE_BASE_URL}subs/${e.packageid}`),
                    U(t, e))
                  : e.bundleid
                    ? (t.SetAssociation(5, e.bundleid),
                      t.SetLinkURL(
                        `${B.De.STORE_BASE_URL}bundle/${e.bundleid}`,
                      ),
                      U(t, void 0))
                    : (t.SetAssociation(0, 0),
                      t.SetLinkURL(null),
                      U(t, void 0)),
              !0
            );
          },
        });
      }
      function U(e, t) {
        if (!e.BIsNoFilterRequired())
          if (t) {
            const a = u.Z.Get().GetStoreItem((0, p.u$)(t), (0, p.D3)(t));
            a
              ? e.ReplaceUserFilter((0, x.a)(a, e.GetType()))
              : (console.log(
                  "DEV: We do not have the item in memory, how is this possible:",
                  t,
                ),
                e.ClearUserDynamicFilter());
          } else e.ClearUserDynamicFilter();
      }
      var H = a(79173),
        V = a(71630);
      function X(e) {
        const t = (0, i.fL)(),
          a = (0, c.SZ)(() => t.BIsDirty()),
          n = t.GetModel(),
          [r] = (0, c.SZ)(() => [n.creator_name]),
          l = [
            {
              name: "Main Message",
              key: "mainmessage",
              contents: m.createElement(
                "div",
                null,
                m.createElement(V.G, { data: n }),
              ),
            },
            {
              name: "Template Vars",
              key: "templatevars",
              contents: m.createElement(
                S.SV,
                null,
                m.createElement(V.G, { data: t.GetTemplateVarsModel() || {} }),
              ),
            },
            {
              name: "Additional Restrictions",
              key: "additionalrestriction",
              contents: m.createElement(
                S.SV,
                null,
                m.createElement(V.G, {
                  data: t.GetAdditionalRestrictionModel() || {},
                }),
                m.createElement(
                  E.zx,
                  { onClick: () => t.ClearUserFilters() },
                  "Clear user Filters",
                ),
              ),
            },
          ];
        return m.createElement(
          "div",
          null,
          m.createElement("div", null, "Is dirty?: ", a ? "true" : "false"),
          Boolean(r) &&
            m.createElement(
              "div",
              { className: g().SectionCtn },
              m.createElement(E.__, null, "Creator:"),
              m.createElement("div", null, r),
            ),
          m.createElement("br", null),
          m.createElement("br", null),
          m.createElement("hr", null),
          m.createElement(I.n, {
            tabs: l,
            bDisableRouting: !0,
            startingTab: "mainmessage",
          }),
          m.createElement("div", { className: f().ClearThings }),
        );
      }
      var j = a(65612),
        q = a(8285),
        W = a(34083),
        z = a(36342);
      function Z(e) {
        const { fnBIsPlanDirty: t } = (0, i.tr)(),
          a = (0, i.fL)(),
          { fnBIsPlanInputPipelineDirty: n } = (0, l.R0)(),
          { fnBIsPlanDirty: r } = (0, z.u9)(),
          s = (0, z.Gn)(),
          o = (0, l.Dv)();
        m.useEffect(
          () => (
            (window.onbeforeunload = () =>
              t() || n() || r()
                ? (0, P.Xx)("#DailyDeals_UnsavedChanges")
                : null),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [t, n, r],
        );
        return m.createElement(q.NL, {
          message: (e) =>
            !((a && t()) || (o && n()) || (s && r())) ||
            e.pathname ==
              W.PromotionRoutes.MarketingMessageEditor(a.GetGID()) ||
            (0, P.Xx)("#DailyDeals_UnsavedChanges"),
        });
      }
      var K = a(77936),
        Q = a(84106),
        Y = a.n(Q),
        J = a(15459);
      function $(e) {
        const { oEditableMessage: t } = e,
          a = (0, m.useMemo)(
            () => [
              { label: "Steam Global (not Steam China)", data: 0 },
              { label: "Steam China (not Steam Global)", data: 1 },
              { label: "Steam Global and Steam China", data: 2 },
            ],
            [],
          );
        return m.createElement(
          "div",
          { className: (0, A.Z)(g().SectionCtn, Y().MessageCtn) },
          m.createElement(E.ry, {
            label: "REALM",
            strClassName: (0, A.Z)(f().DropDownScroll),
            rgOptions: a,
            selectedOption: t.GetRealm(),
            onChange: (e) => {
              t.SetRealm(e.data),
                t.SetMustUseClientLanguage(void 0),
                t.SetCountryAllow(void 0),
                t.SetCountryDeny(void 0),
                1 == e.data
                  ? t.SetAndConvertURL(
                      "https://store.steampowered.com",
                      "https://store.steamchina.com",
                    )
                  : t.SetAndConvertURL(
                      "https://store.steamchina.com",
                      "https://store.steampowered.com",
                    );
            },
          }),
          m.createElement(ee, { oEditableMessage: t }),
          m.createElement(te, { oEditableMessage: t }),
        );
      }
      function ee(e) {
        const { oEditableMessage: t } = e,
          a = (0, m.useMemo)(
            () => [
              { label: "Show To:", data: !0 },
              { label: "Hide From:", data: !1 },
            ],
            [],
          ),
          n = (0, m.useCallback)(
            (e, a) => {
              e
                ? (t.SetCountryAllow(a), t.SetCountryDeny(void 0))
                : (t.SetCountryAllow(void 0), t.SetCountryDeny(a));
            },
            [t],
          ),
          [i, r, l] = (0, c.SZ)(() => [
            t.GetRealm(),
            t.BIsCountryShow(),
            t.BIsCountryShow() ? t.GetCountryAllow() : t.GetCountryDeny(),
          ]);
        if (1 == i)
          return m.createElement(
            m.Fragment,
            null,
            m.createElement(E.__, null, "COUNTRY RESTRICTIONS"),
            m.createElement(
              "div",
              null,
              "Country restriction not supported when targeting Steam China Realm.",
            ),
          );
        let s = !1;
        return (
          2 == i &&
            l?.length > 0 &&
            (s = r
              ? !l.toLowerCase().includes("cn")
              : l.toLowerCase().includes("cn")),
          m.createElement(
            m.Fragment,
            null,
            m.createElement(E.__, null, "COUNTRY RESTRICTIONS"),
            s &&
              m.createElement(
                "div",
                { className: v.WarningStylesWithIcon },
                "Steam China Realm set BUT country list ",
                r ? "dot not include " : "excludes ",
                " China.",
              ),
            m.createElement(
              "div",
              {
                className: (0, A.Z)(
                  g().FlexRow,
                  g().MarginBottom,
                  Y().MessageCtn,
                ),
              },
              m.createElement(E.ry, {
                strClassName: (0, A.Z)(f().DropDownScroll, Y().CountryInOut),
                rgOptions: a,
                selectedOption: r,
                onChange: (e) => {
                  n(e.data, l);
                },
              }),
              m.createElement(
                "div",
                { className: Y().CountryText },
                m.createElement(E.II, {
                  type: "text",
                  value: l,
                  placeholder:
                    "Comma separated lists of 2 letter country codes...",
                  bShowClearAction: !0,
                  onChange: (e) => {
                    n(r, e.target.value);
                  },
                }),
                m.createElement(
                  "a",
                  {
                    href: "#",
                    onClick: (e) => {
                      e.preventDefault(), n(r, "CA,US,MX");
                    },
                  },
                  "North America",
                ),
                " ",
                m.createElement(
                  "a",
                  {
                    href: "#",
                    onClick: (e) => {
                      e.preventDefault(),
                        n(
                          r,
                          "BS,PA,BZ,CR,SV,GT,HN,NI,VE,CO,GY,SR,GF,BR,PE,BO,PY,UY,AR,CL,EC",
                        );
                    },
                  },
                  "Central And South America",
                ),
                " ",
                m.createElement(
                  "a",
                  {
                    href: "#",
                    onClick: (e) => {
                      e.preventDefault(),
                        n(
                          r,
                          "AT,BE,BG,CY,CZ,DK,EE,FI,FR,GR,HU,IS,IE,IT,LV,LT,LU,MT,NL,NO,PL,RO,SK,SI,ES,SE,CH,UK,GB,PT",
                        );
                    },
                  },
                  "Europe",
                ),
                " ",
                m.createElement(
                  "a",
                  {
                    href: "#",
                    onClick: (e) => {
                      e.preventDefault(),
                        n(
                          r,
                          "NO,SE,FI,DK,PT,ES,FR,IT,AT,CH,LU,LI,BE,NL,IE,UK,GB",
                        );
                    },
                  },
                  "Western Europe",
                ),
                " ",
              ),
            ),
          )
        );
      }
      function te(e) {
        const { oEditableMessage: t } = e,
          [a, n, i] = (0, c.SZ)(() => [
            t.GetRealm(),
            t.GetSteamRealmsForLanguage(),
            t
              .GetMustUseClientLanguage()
              .split(",")
              .map((e) => (0, K.jM)(e, -1)),
          ]),
          r = 2 == a,
          l = (0, m.useMemo)(
            () =>
              P.LJ.GetLanguageListForRealms(n).map((e) => {
                const t = (0, K.j_)(e);
                return { value: e, label: (0, P.Xx)("#Language_" + t) };
              }),
            [n],
          );
        return 1 == a
          ? m.createElement(
              m.Fragment,
              null,
              m.createElement(E.__, null, "LANGUAGE RESTRICTIONS"),
              m.createElement(
                "div",
                null,
                "Language restrictions are not supported for Steam China. There is only a single language that is Steam China Simplified Chinese",
              ),
            )
          : m.createElement(
              m.Fragment,
              null,
              m.createElement(E.__, null, "LANGUAGE RESTRICTIONS"),
              r
                ? m.createElement(
                    "div",
                    null,
                    "Only restriction available in Steam China Simplified Chinese(SCSC). When set will show to both SCSC clients and Simplified Chinese client in ROW",
                  )
                : m.createElement(
                    "div",
                    null,
                    "Show only to Steam Clients that are set to the specified language (use case: game just added a new language)",
                  ),
              Boolean(i.some((e) => 27 == e || 5 == e)) &&
                m.createElement(
                  "div",
                  { className: v.WarningStylesWithIcon },
                  "Note: LATAM and Spanish will fallback to each other.  Steam China Simplified Chinese will fallback to simplified chinese.",
                ),
              Boolean(i.some((e) => 29 == e)) &&
                m.createElement(
                  "div",
                  { className: v.WarningStylesWithIcon },
                  "Note: Steam China Simplified Chinese will fallback to simplified chinese.",
                ),
              m.createElement(
                "div",
                { style: { marginBottom: "12px" } },
                m.createElement(J.ZP, {
                  isSearchable: !0,
                  isMulti: !0,
                  options: l,
                  value: l.filter((e) => i.some((t) => t == e.value)),
                  onChange: (e) => {
                    t.SetMustUseClientLanguage(
                      e.map((e) => (0, K.j_)(e.value)).join(","),
                    );
                  },
                }),
              ),
            );
      }
      function ae(e) {
        const { oEditableMessage: t } = e;
        return t.BHasLegacyRestrictions()
          ? m.createElement(
              "div",
              { className: g().SectionCtn },
              m.createElement(E.__, null, "LEGACY RESTRICTIONS (READ ONLY)"),
              m.createElement("br", null),
              Boolean(t.GetMustOwnAppID()) &&
                m.createElement(E.II, {
                  type: "text",
                  label: "Must Own AppID",
                  disabled: !0,
                  value: t.GetMustOwnAppID(),
                }),
              Boolean(t.GetMustNotOwnAppID()) &&
                m.createElement(E.II, {
                  type: "text",
                  label: "Must Not Own AppID",
                  disabled: !0,
                  value: t.GetMustNotOwnAppID(),
                }),
              Boolean(t.GetMustOwnPackageID()) &&
                m.createElement(E.II, {
                  type: "text",
                  label: "Must Own PackageID",
                  disabled: !0,
                  value: t.GetMustOwnPackageID(),
                }),
              Boolean(t.GetMustNotOwnPackageID()) &&
                m.createElement(E.II, {
                  type: "text",
                  label: "Must Not Own PackageID",
                  disabled: !0,
                  value: t.GetMustNotOwnPackageID(),
                }),
              Boolean(t.GetMustHaveLaunchedAppID()) &&
                m.createElement(E.II, {
                  type: "text",
                  label: "Must have Launched AppID",
                  disabled: !0,
                  value: t.GetMustHaveLaunchedAppID(),
                }),
              m.createElement(
                "div",
                { className: Y().RemoveLegacyBtn },
                m.createElement(
                  E.zx,
                  { onClick: () => t.ClearAllLegacyRestrictions() },
                  "Clear Legacy Restrictions",
                ),
              ),
            )
          : null;
      }
      var ne = a(5094),
        ie = a(13913),
        re = a(53545),
        le = a(38149),
        se = a.n(le),
        oe = a(60688);
      function ce(e) {
        const t = (0, i.fL)(),
          a = (0, m.useMemo)(
            () => n.X3.map((e) => ({ label: (0, P.Xx)(e), data: e })),
            [],
          );
        return m.createElement(
          "div",
          null,
          m.createElement(
            "div",
            { className: oe.EditCtn },
            m.createElement(
              "div",
              { className: g().PageTitle },
              "Marketing Message - Asset Management",
            ),
            m.createElement("hr", null),
            m.createElement(
              "div",
              { className: g().ColumnCtn },
              m.createElement(
                "div",
                { className: g().LeftCol },
                m.createElement(
                  "div",
                  { className: g().SectionCtn },
                  m.createElement(
                    E.__,
                    null,
                    "BUTTON TEXT ",
                    m.createElement(
                      "span",
                      { className: "DialogInputRequirementLabel" },
                      "Required",
                    ),
                  ),
                  m.createElement(E.ry, {
                    strDropDownClassName: (0, A.Z)(f().DropDownScroll),
                    rgOptions: a,
                    selectedOption: t.GetButtonToken(),
                    onChange: (e) => t.SetButtonToken(e.data),
                  }),
                  m.createElement(de, { oEditableMessage: t }),
                  m.createElement("br", null),
                  m.createElement("br", null),
                  m.createElement(E.__, null, "PRICE DISPLAY"),
                  m.createElement(E.ji, {
                    checked: !t.BHidePriceOnMessage(),
                    onChange: (e) => t.SetHidePriceOnMessage(!e),
                    label: "Display current price on message",
                  }),
                  m.createElement(me, { oEditableMessage: t }),
                  m.createElement(ue, { oEditableMessage: t }),
                ),
                m.createElement(j.p, { oEditableMessage: t }),
              ),
            ),
          ),
        );
      }
      function me(e) {
        const { oEditableMessage: t } = e,
          a = [
            { label: "None selected", data: ie.j6.k_StoreInvalidState },
            {
              label: "Pre-Purchase State",
              data: ie.j6.k_StorePrePurchase,
              tooltip:
                "Requires a coming soon page AND it must be purchaseable",
            },
            { label: "Coming Soon", data: ie.j6.k_StoreComingSoon },
            {
              label: "Early Access",
              data: ie.j6.k_StoreEarlyAccess,
              tooltip: "Specifically release into early access",
            },
            {
              label: "General Availability",
              data: ie.j6.k_StoreGeneralAvailability,
              tooltip: "Released somewhere that isn't early access",
            },
          ];
        return m.createElement(E.ry, {
          label: "Store Item Release Controls",
          tooltip:
            "When specified, requires the associated store item to be at a very specified state for the IM to be marked ready",
          rgOptions: a,
          onChange: (e) => t.SetAssociatedItemReleaseState(e.data),
          contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
          selectedOption: t.GetAssociatedItemReleaseState(),
        });
      }
      function de(e) {
        const { oEditableMessage: t } = e,
          [a, n, i, r] = (0, c.SZ)(() => [
            t.BUseCustomLegalText(),
            t.GetCustomLegalText(),
            t.GetLegalTextPartnerName(),
            t.BExplicitNoLegalPartnerNeeded(),
          ]),
          l = a ? n : (0, re.Eg)(i);
        return m.createElement(
          m.Fragment,
          null,
          m.createElement(E.__, null, "LEGAL TEXT"),
          m.createElement(
            "div",
            { className: se().legalSectionCtn },
            m.createElement(
              "div",
              { className: se().subSection },
              m.createElement(E.ji, {
                label: "Use custom legal text",
                checked: a,
                onChange: (e) => t.SetUseCustomLegalText(e),
              }),
              a
                ? m.createElement("textarea", {
                    value: n,
                    onChange: (e) =>
                      t.SetCustomLegalText(e.currentTarget.value),
                    style: { width: "620px", height: "80px" },
                  })
                : m.createElement(
                    m.Fragment,
                    null,
                    Boolean(!r) &&
                      m.createElement(E.II, {
                        type: "text",
                        label: "PARTNER NAME TO INSERT INTO LEGAL LINE",
                        value: i,
                        onChange: (e) =>
                          t.SetLegalTextPartnerName(e.target.value),
                        placeholder:
                          "Enter company name; preview will update below",
                      }),
                    m.createElement(E.ji, {
                      checked: r,
                      onChange: (e) => t.SetExplicitNoLegalPartnerNeeded(e),
                      label: "Explicit: Do not need to enter a partners name",
                      tooltip:
                        "Messages for our own events do not need to enter an additional partners name",
                    }),
                  ),
              m.createElement("br", null),
              m.createElement(E.__, null, "LEGAL TEXT PREVEIW"),
            ),
            m.createElement(
              "div",
              { className: se().previewSection },
              m.createElement("div", {
                className: se().LegalPreview,
                dangerouslySetInnerHTML: { __html: l },
              }),
            ),
          ),
        );
      }
      function ue(e) {
        const { oEditableMessage: t } = e,
          [a] = (0, c.SZ)(() => [t.GetCustomTemplate()]),
          n = (0, re.wM)(a || ""),
          [i, r] = (0, m.useState)(() => !!n);
        return m.createElement(
          m.Fragment,
          null,
          m.createElement(E.__, null, "REPLAY EVENT"),
          m.createElement(E.ji, {
            label: "Is Replay Event",
            checked: i,
            onChange: () => r(!i),
          }),
          i &&
            m.createElement(E.II, {
              mustBeNumeric: !0,
              rangeMin: 2022,
              maxChars: 4,
              onChange: (e) => {
                const a = Number(e.target.value);
                isNaN(a) || t.SetCustomTemplate(`replay${a}`);
              },
              label: "Year for replay event",
              value: n,
            }),
        );
      }
      var pe = a(72722),
        _e = a(63734),
        he = a(22364),
        ge = a(43746);
      function Ee(e) {
        const { gid: t, children: a } = e,
          n = (0, r.Q2)(t),
          [l, s] = m.useState(!1);
        return (
          m.useLayoutEffect(() => {
            n &&
              (((0, i.ld)()?.GetGID() == n.gid && l) ||
                ((0, i.vt)(n, !0), s(!0)));
          }, [n, l, t]),
          n
            ? l
              ? m.createElement(m.Fragment, null, a)
              : m.createElement(C.V, {
                  size: "medium",
                  position: "center",
                  string: (0, P.Xx)("#Loading"),
                })
            : m.createElement(
                "div",
                null,
                m.createElement(
                  "div",
                  null,
                  "Marketing Message does not exist.",
                ),
                m.createElement(
                  d.rU,
                  { to: "/marketingmessages/dashboard/" },
                  "Return to Marketing Message Dashboard.",
                ),
              )
        );
      }
      function Se(e) {
        return m.createElement(Ee, { gid: e.gid }, m.createElement(ve, null));
      }
      function ve(e) {
        const t = (0, i.fL)(),
          a = (0, c.SZ)(() => t.GetPlanAssetRequestGID());
        return m.createElement(
          "div",
          { className: g().AdminPageCtn },
          m.createElement(
            _e.aX,
            { planid: a, bCanBeMissing: !0 },
            m.createElement(Z, null),
            m.createElement(
              "div",
              { className: (0, A.Z)(f().FlexRowWrapSpaceBetweenContainer) },
              m.createElement(
                d.rU,
                {
                  to: "/marketingmessages/dashboard/",
                  className: g().DashLink,
                },
                m.createElement(b.Ehc, { angle: 270 }),
                m.createElement(
                  "div",
                  null,
                  "Return to Marketing Message Dashboard",
                ),
              ),
              m.createElement(
                d.rU,
                { to: "/planning/dashboard/", className: g().DashLink },
                m.createElement(
                  "div",
                  null,
                  "Go to Promotion Planning Dashboard",
                ),
                m.createElement(b.Ehc, { angle: 90 }),
              ),
            ),
            m.createElement(De, null),
          ),
        );
      }
      function De(e) {
        const t = (0, l.Dv)(),
          a = (0, c.SZ)(() => t && t.BIsDirty()),
          n = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          i = [
            {
              name: "Editor Tab",
              key: "editor",
              contents: m.createElement(S.SV, null, m.createElement(fe, null)),
              onClick: n,
            },
            {
              name: "Assets Tab",
              key: "assets",
              contents: m.createElement(S.SV, null, m.createElement(R.H, null)),
              onClick: n,
            },
            {
              name: (a ? "* " : "") + "Asset Request",
              key: "request",
              tooltip: a ? "Please Save Asset Request" : null,
              contents: m.createElement(
                S.SV,
                null,
                m.createElement(T.Sn, null),
              ),
              onClick: n,
            },
            {
              name: "Options Tab",
              key: "option",
              contents: m.createElement(S.SV, null, m.createElement(ce, null)),
              onClick: n,
            },
            {
              name: "Preview Tab",
              key: "preview",
              contents: m.createElement(
                S.SV,
                null,
                m.createElement(pe.u, null),
              ),
              onClick: n,
            },
            {
              name: "Debug Tab",
              key: "debug",
              contents: m.createElement(S.SV, null, m.createElement(X, null)),
              onClick: n,
            },
          ];
        return m.createElement(
          m.Fragment,
          null,
          m.createElement(I.n, { tabs: i }),
          m.createElement("div", { className: f().ClearThings }),
        );
      }
      function fe(e) {
        const t = (0, i.fL)();
        return m.createElement(
          "div",
          null,
          m.createElement(
            "div",
            { className: oe.EditCtn },
            m.createElement(
              "div",
              { className: g().PageTitle },
              "Marketing Message - Edit Details",
            ),
            m.createElement("hr", null),
            m.createElement(
              "div",
              { className: g().ColumnCtn },
              m.createElement(
                "div",
                { className: g().LeftCol },
                m.createElement(ye, { oEditableMessage: t }),
                m.createElement(Ie, { oEditableMessage: t }),
                m.createElement(x.A, { oEditableMessage: t }),
                m.createElement($, { oEditableMessage: t }),
                m.createElement(ae, { oEditableMessage: t }),
                m.createElement(ke, { oEditableMessage: t }),
                m.createElement(Ae, { oEditableMessage: t }),
                m.createElement(j.p, { oEditableMessage: t }),
              ),
              m.createElement(ne.F, { oEditableMessage: t }),
            ),
          ),
        );
      }
      function ye(e) {
        const { oEditableMessage: t } = e,
          a = (0, c.SZ)(() => t.GetStoreItemID()),
          n = (0, m.useCallback)(
            (e) => {
              if ((t.SetType(e), a)) {
                const n = u.Z.Get().GetStoreItem((0, p.u$)(a), (0, p.D3)(a));
                (function (e) {
                  return 10 === e;
                })(e) &&
                  (0, y.AM)(
                    m.createElement(L, { oEditableMessage: t, storeItem: n }),
                    window,
                  );
              }
            },
            [t, a],
          );
        return m.createElement(
          "div",
          { className: g().SectionCtn },
          m.createElement(E.II, {
            type: "text",
            label: "Internal Name",
            className: oe.PromoName,
            requiredLabel: (0, P.Xx)("#Steamworks_Generic_Required"),
            value: t.GetName(),
            onChange: (e) => t.SetName(e?.currentTarget?.value || ""),
          }),
          m.createElement(
            "div",
            { className: (0, A.Z)(f().FlexRowContainer, oe.EventDetailsCtn) },
            m.createElement(
              "div",
              { className: oe.TypeCtn },
              m.createElement(E.__, null, "Type:"),
              m.createElement(H.vN, { type: t.GetType(), setType: n }),
              m.createElement(H.AF, {
                type: t.GetType(),
                rtStartTime: t.GetStartRTime(),
                setStartTime: t.SetMessageStartTime,
                rtEndTime: t.GetEndRTime(),
                setEndTime: t.SetMessageEndTime,
              }),
            ),
            m.createElement(
              "div",
              { className: oe.AdminNotesCtn },
              m.createElement(E.__, null, "Admin Notes:"),
              m.createElement("textarea", {
                className: "DialogTextInputBase",
                value: t.GetAdminNotes() || "",
                onChange: (e) => t.SetAdminNote(e?.currentTarget?.value || ""),
              }),
            ),
          ),
        );
      }
      const be = {
        include_assets: !0,
        include_basic_info: !0,
        include_release: !0,
      };
      function Ie(e) {
        const { oEditableMessage: t } = e,
          [a, n] = (0, c.SZ)(() => [
            t.GetStoreItemKey(),
            t.BExplicitNoAssociationItem(),
          ]),
          [i, r] = (0, m.useState)(t.BHasAssociatedSaleEvent()),
          [l] = (0, _.jk)(a?.id, (0, p.GV)(a?.item_type), be);
        return m.createElement(
          "div",
          { className: g().SectionCtn },
          m.createElement(
            "div",
            { className: oe.FeatureSelectCtn },
            m.createElement(
              "div",
              { className: oe.FeatureSelectBtn },
              m.createElement(
                E.zx,
                {
                  onClick: (e) => {
                    (0, y.AM)(
                      m.createElement(F, { oEditableMessage: t }),
                      (0, w.RA)(e),
                    );
                  },
                },
                "Change Selected Product",
              ),
              Boolean(a)
                ? m.createElement(
                    k.HP,
                    {
                      className: o().ProgressIconError,
                      onClick: () => {
                        t.ClearAssociation();
                      },
                      toolTipContent: "Clear the Featuring Target",
                    },
                    m.createElement(b.X, null),
                  )
                : m.createElement(E.ji, {
                    label: "No Item Needed?",
                    checked: n,
                    onChange: (e) => t.SetExplicitNoAssociatedItem(e),
                    tooltip:
                      "When true, it means the marketing message is global and unrelated to a specific item.  For example, Client Update or Seasonal sale.",
                  }),
            ),
            m.createElement(E.__, null, "Target App / Package / Bundles:"),
            m.createElement(
              "div",
              null,
              "Actions click through to this store page and show prices from this:",
            ),
            Boolean(!l)
              ? m.createElement(
                  "div",
                  { className: oe.TargetGamePlaceholder },
                  a ? `${a.id}/${a.item_type}` : "Nothing associated yet",
                )
              : m.createElement(N.Ce, {
                  id: a.id,
                  itemType: l.GetStoreItemType(),
                }),
            m.createElement(Ce, { oEditableMessage: t }),
            Boolean(14 == l?.GetAppType()) &&
              m.createElement(
                m.Fragment,
                null,
                i
                  ? m.createElement(he.Eu, { oEditablePlan: t })
                  : m.createElement(E.ji, {
                      checked: !1,
                      label:
                        "Associated Store Item is an advertising app. Do we intend to point to a sales page?",
                      onChange: r,
                    }),
              ),
          ),
        );
      }
      function Ce(e) {
        const { oEditableMessage: t } = e,
          [a, i] = (0, c.SZ)(() => [t.GetRealm(), t.GetLinkURL()]),
          r = (0, n.IN)(a, i);
        return m.createElement(
          "div",
          null,
          m.createElement(E.II, {
            type: "url",
            label: "Link URL",
            mustBeURL: !0,
            fnStrValidateURL: ge.f,
            value: i,
            requiredLabel: (0, P.Xx)("#Steamworks_Generic_Required"),
            onChange: (e) => t.SetLinkURL(e.target.value),
          }),
          Boolean(!r && 1 == a) &&
            m.createElement(
              "div",
              { className: v.WarningStylesWithIcon },
              "Since we are displaying in Steam China only, the URL must start with the following: https://store.steamchina.com/",
            ),
          Boolean(!r && 2 == a) &&
            m.createElement(
              "div",
              { className: v.WarningStylesWithIcon },
              "Since we are displaying in both ROW and Steam China only, the URL must start with the global store: https://store.steampowered.com/. Note: We will automatically remap the store appropriately when dispaly in Steam China.",
            ),
        );
      }
      function ke(e) {
        const { oEditableMessage: t } = e;
        return m.createElement(
          "div",
          { className: g().SectionCtn },
          m.createElement(E.__, null, "PLATFORMS"),
          m.createElement(E.ji, {
            label: "Windows",
            checked: t.BHasPlatformWindows(),
            onChange: t.SetPlatformWindows,
          }),
          m.createElement(E.ji, {
            label: "Mac",
            checked: t.BHasPlatformMac(),
            onChange: t.SetPlatformMac,
          }),
          m.createElement(E.ji, {
            label: "Linux",
            checked: t.BHasPlatformLinux(),
            onChange: t.SetPlatformLinux,
          }),
        );
      }
      function Ae(e) {
        const { oEditableMessage: t } = e;
        return m.createElement(
          "div",
          { className: g().SectionCtn },
          m.createElement(E.II, {
            type: "text",
            label: "MINIMUM CLIENT PACKAGE VERSION",
            mustBeNumeric: !0,
            placeholder: "min",
            value: t.GetMustHaveClientPackageGTE() || "",
            onChange: (e) => t.SetMustHaveClientPackageGTE(e.target.value),
          }),
          m.createElement(E.II, {
            type: "text",
            label: "MAXIMUM CLIENT PACKAGE VERSION",
            mustBeNumeric: !0,
            placeholder: "man",
            value: t.GetMustHaveClientPackageLTE() || "",
            onChange: (e) => t.SetMustHaveClientPackageLTE(e.target.value),
          }),
        );
      }
    },
    5094: (e, t, a) => {
      "use strict";
      a.d(t, { F: () => T, x: () => O });
      var n = a(13913),
        i = a(71945),
        r = a(30750),
        l = a(47427),
        s = a(77681),
        o = a.n(s),
        c = a(1485),
        m = a(10162),
        d = a(71741),
        u = a.n(d),
        p = a(77671),
        _ = a(77178),
        h = a(90069),
        g = a(62613),
        E = a(59728),
        S = a(13129),
        v = a(50423),
        D = a(12251),
        f = a(37563),
        y = a(58606),
        b = a(65612),
        I = a(84106),
        C = a.n(I),
        k = a(72722),
        A = a(23871),
        w = a(82283),
        P = a(46475);
      function T(e) {
        const { oEditableMessage: t } = e,
          a = (0, r.SZ)(() => t.BIsAccountInWatchList(f.L7.accountid));
        return l.createElement(
          "div",
          { className: o().RightCol },
          l.createElement(R, { oEditableMessage: t }),
          l.createElement(F, { oEditableMessage: t }),
          l.createElement(
            "div",
            { className: o().SectionCtn },
            l.createElement(N, { oEditableMessage: t }),
          ),
          l.createElement(
            "div",
            { className: o().SectionCtn },
            l.createElement(c.__, null, "Valve Actors"),
            l.createElement("div", null, "Creator: ", t.GetCreatorName()),
            l.createElement(
              c.zx,
              {
                onClick: () => {
                  a
                    ? t.RemoveFromWatchList(f.L7.accountid)
                    : t.AddToWatchList(f.L7.accountid);
                },
              },
              a ? "Remove From Watch List" : "Add to Watch List",
            ),
          ),
          l.createElement(
            "div",
            { className: o().SectionCtn },
            l.createElement(c.__, null, "General Links"),
            l.createElement(
              "a",
              {
                href: "https://confluence.valve.org/display/SteamBiz/Curated+Promotion+Thresholds",
              },
              "Admin Guidelines",
            ),
            "  |  ",
            l.createElement(
              "a",
              { href: f.De.PARTNER_BASE_URL + "doc/store/assets/promos" },
              "Partner-Facing Docs",
            ),
          ),
        );
      }
      function N(e) {
        const t = new URLSearchParams(),
          { oEditableMessage: a } = e;
        return (
          t.set("name", a.GetModel().title),
          t.set("marketingmessageid", a.GetGID()),
          t.set("start", "" + a.GetStartRTime()),
          l.createElement(
            "a",
            {
              href:
                f.De.PARTNER_BASE_URL +
                "public/downloadics.php?" +
                t.toString(),
            },
            l.createElement("span", {
              className: "iconLink icon_download icon_inline",
            }),
            "Download Calendar Reminder Event",
          )
        );
      }
      function R(e) {
        const { oEditableMessage: t } = e;
        switch ((0, r.SZ)(() => t.GetVisibilty())) {
          case 2:
            return l.createElement(x, { oEditableMessage: t });
          case 3:
            return l.createElement(L, { oEditableMessage: t });
          default:
            return l.createElement(B, { oEditableMessage: t });
        }
      }
      const G = 2147483647;
      function x(e) {
        const { oEditableMessage: t } = e;
        return l.createElement(
          "div",
          { className: o().SectionCtn },
          l.createElement(c.__, null, "STATUS:"),
          l.createElement("h2", null, "PUBLIC!"),
          l.createElement(
            "div",
            { className: o().HalfWidthBtnCtn },
            l.createElement(
              c.zx,
              {
                onClick: (e) => {
                  t.SetVisibility(1),
                    (0, h.AM)(
                      l.createElement(b.Q, { oEditableMessage: t }),
                      (0, v.RA)(e),
                    );
                },
              },
              "Set Private",
            ),
          ),
          l.createElement(
            "div",
            null,
            "Will be visible ",
            (0, D.o2)(t.GetStartRTime(), t.GetEndRTime() || G),
          ),
          l.createElement(U, { oEditableMessage: t }),
        );
      }
      function L(e) {
        const { oEditableMessage: t } = e,
          a =
            f.De.PARTNER_BASE_URL +
            "promotion/marketingmessages/partnerpreview/" +
            t.GetGID();
        return l.createElement(
          "div",
          { className: o().SectionCtn },
          l.createElement(c.__, null, "STATUS:"),
          l.createElement(
            "h2",
            { className: C().ApprovedForPublishStatus },
            "Approved For Partner Publishing",
          ),
          l.createElement(
            "div",
            { className: C().PartnerPreviewLink },
            "Partner Preview Link: ",
            l.createElement("a", { href: a }, a),
          ),
          l.createElement(
            "div",
            { className: o().HalfWidthBtnCtn },
            l.createElement(
              c.zx,
              {
                onClick: (e) => {
                  t.SetVisibility(1),
                    (0, h.AM)(
                      l.createElement(b.Q, { oEditableMessage: t }),
                      (0, v.RA)(e),
                    );
                },
              },
              "Set Private",
            ),
            l.createElement(
              c.zx,
              {
                className: "Primary",
                onClick: (e) => {
                  t.SetVisibility(2),
                    (0, h.AM)(
                      l.createElement(b.Q, { oEditableMessage: t }),
                      (0, v.RA)(e),
                    );
                },
              },
              "Set Public",
            ),
          ),
          l.createElement(
            "div",
            null,
            "Visbility range set to ",
            (0, D.o2)(t.GetStartRTime(), t.GetEndRTime() || G),
          ),
          l.createElement(
            "div",
            null,
            "Partner publishing is available until ",
            (0, D.$1)(t.GetEndRTime() || G),
          ),
          l.createElement(U, { oEditableMessage: t }),
        );
      }
      function B(e) {
        const { oEditableMessage: t } = e,
          {
            bDateSet: a,
            bItemAssociated: i,
            bFiltersSetup: r,
            bValidLink: s,
            bButtonTokenEntered: m,
            bExplicitNoItemAssociation: d,
            bLegalLineHandled: u,
            bAdvertisingAppWithoutURL: p,
            eStoreItemMarketingMessageState: _,
          } = (0, n.Pl)(t.GetGID()),
          g = (0, n.ws)(t.GetGID());
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            { className: o().SectionCtn },
            l.createElement(c.__, null, "STATUS:"),
            l.createElement(
              "div",
              null,
              g
                ? l.createElement("h2", null, "Checklist Complete!")
                : l.createElement("h2", null, "Checklist Incomplete / Private"),
            ),
            Boolean(g) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  { className: o().HalfWidthBtnCtn },
                  l.createElement(
                    c.zx,
                    {
                      onClick: (e) => {
                        t.SetVisibility(2),
                          (0, h.AM)(
                            l.createElement(b.Q, { oEditableMessage: t }),
                            (0, v.RA)(e),
                          );
                      },
                      className: "Primary",
                    },
                    "Set Public",
                  ),
                  l.createElement(
                    c.zx,
                    {
                      onClick: (e) => {
                        t.SetVisibility(3),
                          (0, h.AM)(
                            l.createElement(b.Q, { oEditableMessage: t }),
                            (0, v.RA)(e),
                          );
                      },
                      className: C().SecondaryButton,
                    },
                    "Approve For Partner Publishing",
                  ),
                ),
                l.createElement(
                  "div",
                  null,
                  "Once public, will be visible ",
                  (0, D.o2)(t.GetStartRTime(), t.GetEndRTime() || G),
                ),
                l.createElement(
                  "div",
                  null,
                  "Partner publishing would be available until ",
                  (0, D.$1)(t.GetEndRTime() || G),
                ),
              ),
          ),
          l.createElement(
            "div",
            { className: o().SectionCtn },
            l.createElement(c.__, null, "PROGRESS"),
            l.createElement(O, { bDone: a, name: "Date Set" }),
            l.createElement(O, {
              bDone: i,
              name: d ? "No Item Associated Needed" : "Item Associated",
              tooltip: d
                ? "Explicitly disabled the need for an associated store item; useful for seasonal sale IMs"
                : void 0,
            }),
            l.createElement(O, { bDone: s, name: "Valid Link Entered" }),
            l.createElement(O, { bDone: r, name: "Visibility Conditions Set" }),
            l.createElement(O, {
              bDone: m,
              name: "Button Text Selected (on assets tab)",
            }),
            l.createElement(O, {
              bDone: u,
              name: "Legal Partner Name (on options tab)",
            }),
            p &&
              l.createElement(O, {
                bDone: !1,
                name: "Associated Adverting App without URL",
              }),
            Boolean(!d) &&
              l.createElement(
                l.Fragment,
                null,
                Boolean(
                  _ == n.j6.k_StoreInvalidState || _ == n.j6.k_StoreUnavailable,
                ) &&
                  l.createElement(O, {
                    bDone: !1,
                    name: "Associated Item is not store visible",
                  }),
              ),
            l.createElement(M, {
              oEditableMessage: t,
              eStoreItemMarketingMessageState: _,
            }),
            l.createElement(y.x, { oEditableMessage: t }),
          ),
        );
      }
      function M(e) {
        const { oEditableMessage: t, eStoreItemMarketingMessageState: a } = e;
        if (!t.BHasAssociatedItemReleaseState()) return null;
        const i = t.GetAssociatedItemReleaseState();
        let r = "Associated Item Requires Pre-purchase state";
        return (
          i == n.j6.k_StoreComingSoon
            ? (r = "Associated Item Required a coming soon page")
            : i == n.j6.k_StoreEarlyAccess
              ? (r = "Associated Item Required Early Access")
              : i == n.j6.k_StoreGeneralAvailability &&
                (r = "Associated Item Required General Availability"),
          l.createElement(O, { bDone: i === a, name: r })
        );
      }
      function O(e) {
        const { bDone: t, name: a, tooltip: n } = e;
        return l.createElement(
          "div",
          { className: o().StatusLineItemCtn },
          l.createElement(
            "span",
            {
              className: (0, S.Z)(o().StatusIcon, t ? o().StatusIconDone : ""),
            },
            t ? l.createElement(g.JrY, null) : l.createElement(g.X, null),
          ),
          l.createElement(E.HP, { toolTipContent: n }, a),
        );
      }
      function F(e) {
        const { oEditableMessage: t } = e,
          a = (0, w.E)(),
          [n, i, s, m] = (0, r.SZ)(() => [
            t.GetGID(),
            t.GetRealm(),
            t.GetAssetsObject("ll_image"),
            t.GetAssetsModifyTime() || 0,
          ]),
          d = 0 != i,
          u = 1 != i;
        return l.createElement(
          "div",
          { className: o().SectionCtn },
          l.createElement(c.__, null, "Preview:"),
          Boolean(u) &&
            l.createElement(k.l, {
              cc: "US",
              l: "english",
              msg: "Open Marketing Message",
            }),
          Boolean(d) &&
            l.createElement(k.l, {
              cc: "CN",
              l: "english",
              msg: "Open Marketing Message in Steam China",
            }),
          Boolean(u && s && s.english) &&
            l.createElement(
              "div",
              { className: C().MessageImagePreview },
              l.createElement(
                "div",
                { className: C().ScopeNameGlobal },
                "Steam Global Art:",
              ),
              l.createElement("img", { src: (0, p.i)(n, 0, m, s.english) }),
            ),
          Boolean(d && s && s.sc_schinese) &&
            l.createElement(
              "div",
              { className: C().MessageImagePreview },
              l.createElement(
                "div",
                { className: C().ScopeNameChina },
                "Steam China Art:",
              ),
              l.createElement("img", {
                src: (0, p.i)(n, 29, m, s.sc_schinese),
              }),
            ),
          Boolean(a) &&
            l.createElement(
              "div",
              null,
              "* DLC Override Possible. See preview tab for more info",
            ),
        );
      }
      function U(e) {
        const { oEditableMessage: t } = e,
          a = (0, r.SZ)(() => t.GetGID());
        return (0, i.bg)(a) <= 0
          ? null
          : l.createElement(
              m.SV,
              null,
              l.createElement("br", null),
              l.createElement(
                c.__,
                null,
                "Seen by users:",
                l.createElement(
                  E.HP,
                  {
                    toolTipContent:
                      "Stats computed hourly. Only includes stats after June 1, 2023",
                  },
                  l.createElement("span", { className: u().tooltip_Ctn }, "?"),
                ),
              ),
              l.createElement(A.j$, { gid: a }),
              l.createElement(
                c.__,
                null,
                "Carousel index seen at by users:",
                l.createElement(
                  E.HP,
                  {
                    toolTipContent:
                      "Shows where in the carousel the user saw this message.",
                  },
                  l.createElement("span", { className: u().tooltip_Ctn }, "?"),
                ),
              ),
              l.createElement(A.g1, { gid: a }),
              l.createElement(H, { oEditableMessage: t }),
              l.createElement(
                c.zx,
                {
                  onClick: (e) => {
                    (0, h.AM)(
                      l.createElement(
                        _.RG,
                        { bAllowFullSize: !0 },
                        l.createElement(
                          "div",
                          {
                            style: {
                              width: "90vw",
                              maxWidth: "90%",
                              margin: "0 auto",
                            },
                          },
                          l.createElement(A.j$, { gid: a }),
                        ),
                      ),
                      (0, v.RA)(e),
                    );
                  },
                },
                "Expand",
              ),
            );
      }
      function H(e) {
        const t = (0, w.E)(),
          { oEditableMessage: a } = e;
        return t ? l.createElement(V, { oEditableMessage: a }) : null;
      }
      function V(e) {
        const { oEditableMessage: t } = e,
          a = (0, P.AL)(t.GetStoreItemKey().id, 4),
          n = (0, r.SZ)(() => t.GetGID());
        return Boolean(a?.length > 0)
          ? l.createElement(
              "div",
              null,
              l.createElement(
                c.__,
                null,
                "DLC Template Seen by users:",
                l.createElement(
                  E.HP,
                  {
                    toolTipContent:
                      "The above includes all templates, this only includes the DLC template shown",
                  },
                  l.createElement("span", { className: u().tooltip_Ctn }, "?"),
                ),
              ),
              l.createElement(A.j$, { gid: n, templateType: 4 }),
            )
          : null;
      }
    },
    77912: (e, t, a) => {
      "use strict";
      a.d(t, { A: () => b, a: () => T });
      var n = a(256),
        i = a(47427),
        r = a(80886),
        l = a(77681),
        s = a.n(l),
        o = a(71741),
        c = a.n(o),
        m = a(87935),
        d = a.n(m),
        u = a(1485),
        p = a(77178),
        _ = a(90069),
        h = a(62210),
        g = a(13129),
        E = a(50423),
        S = a(47986),
        v = a(62613),
        D = a(59728),
        f = a(30750),
        y = a(72297);
      function b(e) {
        const { oEditableMessage: t } = e,
          a = t.GetUserMessageFilters();
        (0, h.X)("and" == a.clause, "Unexpected usefilter structure");
        const n = (0, f.SZ)(() => t.BIsNoFilterRequired());
        return i.createElement(
          "div",
          { className: s().SectionCtn },
          i.createElement(
            u.__,
            null,
            "CONDITIONS FOR DISPLAY ",
            i.createElement(
              "span",
              { className: "DialogInputRequirementLabel" },
              "Required",
            ),
          ),
          Boolean(!n) &&
            i.createElement(I, { andFilter: a, oEditableMessage: t }),
          i.createElement("br", null),
          i.createElement(u.ji, {
            label: "Show to all users; no filters to be applied.",
            tooltip:
              "Checking this to on will show to all users in the Steam Realm. This will also clear any dynamic filters associated with the marketing messages including legacy filter settings.",
            checked: n,
            onChange: (e) => {
              t.SetNoFiltersRequired(e),
                e && (t.ClearUserFilters(), t.ClearAllLegacyRestrictions());
            },
          }),
        );
      }
      function I(e) {
        const { andFilter: t, oEditableMessage: a } = e;
        return (
          (0, h.X)("and" == t.clause, "Expected And Filter"),
          i.createElement(
            i.Fragment,
            null,
            t.children.map((e, t) =>
              i.createElement(
                i.Fragment,
                { key: e.temp_id },
                i.createElement(k, {
                  orFilter: e,
                  andIndex: t,
                  oEditableMessage: a,
                }),
              ),
            ),
            i.createElement(
              "div",
              { className: d().AddConditionBtnCtn },
              i.createElement(
                u.zx,
                { onClick: () => a.AddNewAndUserFilter() },
                "+ ",
                i.createElement(
                  "strong",
                  null,
                  i.createElement("i", null, "And"),
                ),
                " Condition",
              ),
            ),
          )
        );
      }
      function C(e) {
        const { strTitle: t, onOK: a, strTooltip: n } = e;
        return i.createElement(
          D.HP,
          { toolTipContent: i.createElement(D.vd, null, n || t) },
          i.createElement(v.X, {
            onClick: (e) =>
              (0, _.AM)(
                i.createElement(p.uH, {
                  strTitle: t,
                  strDescription: "Are you sure?",
                  onOK: a,
                }),
                (0, E.RA)(e),
              ),
          }),
        );
      }
      function k(e) {
        const { orFilter: t, oEditableMessage: a, andIndex: n } = e;
        return (
          (0, h.X)("or" == t.clause, "Expected OR Filter"),
          i.createElement(
            i.Fragment,
            null,
            i.createElement(
              "div",
              { className: d().ConditionContainer },
              t.children.map((e, r) =>
                i.createElement(
                  i.Fragment,
                  { key: e.temp_id },
                  n > 0
                    ? i.createElement(
                        "div",
                        { className: d().ConditionTitle },
                        i.createElement(
                          "div",
                          null,
                          i.createElement(
                            "div",
                            { className: d().ConditionTitleAnd },
                            "And ",
                          ),
                          "must also meet one of these criteria",
                          Boolean(!a.BHasSomeIDForAndUserFilter(n)) &&
                            i.createElement(
                              "div",
                              { className: y.WarningStylesWithIcon },
                              "Warning: List empty. No user will be able to see this message.",
                            ),
                        ),
                        i.createElement(
                          "div",
                          { className: d().RemoveConditionBtn },
                          i.createElement(C, {
                            strTitle: "Remove Must Clause",
                            onOK: () => a.RemoveAndUserFilter(n),
                          }),
                        ),
                      )
                    : 0 == r
                      ? i.createElement(
                          "div",
                          { className: (0, g.Z)(d().ConditionTitle) },
                          i.createElement(
                            "div",
                            null,
                            i.createElement(
                              "div",
                              { className: d().ConditionTitleAnd },
                              "Must ",
                            ),
                            "meet one of these criteria",
                            Boolean(!a.BHasSomeIDForAndUserFilter(n)) &&
                              i.createElement(
                                "div",
                                { className: y.WarningStylesWithIcon },
                                "Warning: List empty. No user will be able to see this message.",
                              ),
                          ),
                          i.createElement(
                            "div",
                            { className: d().RemoveConditionBtn },
                            i.createElement(C, {
                              strTitle: "Remove Must Clause",
                              onOK: () => a.RemoveAndUserFilter(n),
                            }),
                          ),
                        )
                      : i.createElement(
                          "div",
                          {
                            className: (0, g.Z)(
                              d().ConditionTitle,
                              d().ConditionTitleOr,
                            ),
                          },
                          "OR...",
                        ),
                  i.createElement(
                    "div",
                    { className: d().CaseContainer },
                    i.createElement(A, {
                      clause: t.clause,
                      filter: e,
                      fnUpdateFilter: (e) => a.UpdateUserFilter(e, n, r),
                      onRemoveOrClause: () => a.RemoveOrUserFilterAt(n, r),
                    }),
                  ),
                ),
              ),
              i.createElement(
                "div",
                { className: d().AddCaseBtnCtn },
                i.createElement(
                  u.zx,
                  { onClick: () => a.AddNewOrUserFilter(n) },
                  "+ ",
                  i.createElement(
                    "strong",
                    null,
                    i.createElement("i", null, "OR"),
                  ),
                  " Condition",
                ),
              ),
            ),
          )
        );
      }
      function A(e) {
        const {
            filter: t,
            fnUpdateFilter: a,
            clause: r,
            onRemoveOrClause: l,
          } = e,
          s = (0, i.useMemo)(
            () =>
              n.Hq.map((e) => ({
                label: (0, n.Rt)(e),
                data: e,
                tooltip: (0, n.$p)(e),
              })),
            [],
          );
        return i.createElement(
          "div",
          null,
          i.createElement(
            "div",
            { className: d().CaseTypeSelectCtn },
            i.createElement(
              "div",
              { className: d().CaseTypeSelect },
              i.createElement(u.ry, {
                strDropDownClassName: (0, g.Z)(c().DropDownScroll),
                rgOptions: s,
                selectedOption: t.filter_type,
                onChange: (e) => {
                  const i = { filter_type: e.data, id_list: [...t.id_list] };
                  (0, n.KZ)(i.filter_type) !== (0, n.KZ)(t.filter_type) &&
                    (i.id_list = []),
                    a(i);
                },
              }),
            ),
            i.createElement(
              "div",
              { className: d().RemoveCaseBtn },
              i.createElement(C, {
                strTitle: "Remove Or Filter Clause",
                onOK: l,
              }),
            ),
          ),
          i.createElement(
            "div",
            { className: d().ConditionDescription },
            "Add one or more product for this condition.",
          ),
          i.createElement(
            "div",
            { className: d().SelectedProductList },
            t.id_list.map((e) =>
              i.createElement(w, {
                key: "item" + t.temp_id + "_" + e,
                filter_type: t.filter_type,
                id: e,
                fnRemoveItem: () => {
                  const n = t.id_list.findIndex((t) => t == e);
                  (0, h.X)(n >= 0, `Did not find ${e} in list`),
                    t.id_list.splice(n, 1);
                  const i = {
                    filter_type: t.filter_type,
                    id_list: [...t.id_list],
                  };
                  a(i);
                },
              }),
            ),
            i.createElement(
              "div",
              { className: d().AddProductBtnCtn },
              i.createElement(
                u.zx,
                {
                  onClick: (e) =>
                    (0, _.AM)(
                      i.createElement(P, {
                        filter: t,
                        onSelected: (e) => {
                          const n = {
                            filter_type: t.filter_type,
                            id_list: [...t.id_list, e],
                          };
                          a(n);
                        },
                      }),
                      (0, E.RA)(e),
                    ),
                },
                "+",
                (0, n.KZ)(t.filter_type) ? " PACKAGE" : " APP",
              ),
            ),
          ),
        );
      }
      function w(e) {
        const { filter_type: t, id: a, fnRemoveItem: l } = e,
          s = (0, n.KZ)(t) ? 1 : 0,
          [o] = (0, r.jk)(a, s, {});
        let c;
        return (
          (c = o
            ? `${o.GetName()} (${a})`
            : i.createElement(
                i.Fragment,
                null,
                i.createElement(
                  "i",
                  null,
                  "Hidden " + (0 == s ? "App" : "Package"),
                ),
                " ",
                `(${a})`,
              )),
          i.createElement(
            "div",
            { className: d().SelectedProductCtn },
            i.createElement(
              "div",
              { className: d().SelectedProduct },
              c,
              i.createElement(
                "div",
                { className: d().RemoveSelectedProductBtn },
                i.createElement(C, {
                  strTitle: i.createElement(
                    i.Fragment,
                    null,
                    "Remove ",
                    c,
                    "?",
                  ),
                  onOK: l,
                }),
              ),
            ),
            i.createElement("span", null, "Or"),
          )
        );
      }
      function P(e) {
        const { closeModal: t, filter: a, onSelected: l } = e,
          [s, o] = (0, i.useState)(null),
          c = (0, n.KZ)(a.filter_type),
          m = c ? 1 : 0,
          [_] = (0, r.jk)(s, m, {}),
          [h, g] = (0, i.useState)(!1);
        return i.createElement(
          p.uH,
          {
            strTitle: c ? "Add Package" : "Add App",
            closeModal: t,
            onOK: () => l(s),
            bOKDisabled: null === s,
          },
          i.createElement(
            "div",
            { className: d().AppSelectCtn },
            i.createElement(u.ji, {
              label: "Include Retired apps?",
              checked: h,
              onChange: g,
            }),
            i.createElement(S.u, {
              fnSetItemID: o,
              itemType: m,
              fnFilterID: (e) => !a.id_list || !a.id_list.includes(e),
              bIncludeRetired: h,
            }),
            Boolean(_) &&
              i.createElement(
                "div",
                { className: d().ItemToAdd },
                "Add Item? ",
                i.createElement("b", null, _.GetName(), " (", s, ")"),
              ),
          ),
        );
      }
      function T(e, t) {
        let a = null;
        if (4 == e.GetAppType() || 11 == e.GetAppType())
          (a = {
            clause: "and",
            children: [
              {
                clause: "or",
                children: [{ filter_type: 1, id_list: [e.GetParentAppID()] }],
              },
              {
                clause: "or",
                children: [{ filter_type: 2, id_list: [e.GetID()] }],
              },
            ],
          }),
            10 === t &&
              (a.children[0].children.push({
                filter_type: 6,
                id_list: [e.GetID()],
              }),
              a.children[0].children.push({
                filter_type: 5,
                id_list: [e.GetID()],
              }));
        else if (0 == e.GetStoreItemType() && 10 === t)
          a = {
            clause: "and",
            children: [
              {
                clause: "or",
                children: [
                  { filter_type: 1, id_list: [e.GetID()] },
                  { filter_type: 6, id_list: [e.GetID()] },
                  { filter_type: 5, id_list: [e.GetID()] },
                ],
              },
            ],
          };
        else {
          a = {
            clause: "and",
            children: [
              {
                clause: "or",
                children: [
                  {
                    filter_type: 0 == e.GetStoreItemType() ? 2 : 4,
                    id_list: [e.GetID()],
                  },
                ],
              },
            ],
          };
        }
        return a;
      }
    },
    72722: (e, t, a) => {
      "use strict";
      a.d(t, { l: () => S, u: () => g });
      var n = a(43204),
        i = a(30750),
        r = a(47427),
        l = a(77936),
        s = a(77681),
        o = a.n(s),
        c = a(46475),
        m = a(82283);
      function d(e) {
        return (0, m.E)() ? r.createElement(u, { ...e }) : null;
      }
      function u(e) {
        const { cc: t, l: a } = e,
          i = (0, n.fL)(),
          l = (0, c.AL)(i.GetStoreItemKey().id, 4);
        return l && 0 !== l.length
          ? r.createElement(
              "div",
              null,
              r.createElement(
                "div",
                null,
                "For Owners: Show Popular DLC Version",
              ),
              r.createElement(
                "a",
                {
                  href: "https://confluence.valve.org/display/STEAM/Marketing+Message+-+DLC+Fallback+Operations",
                  target: "_blank",
                },
                "For more information about the override in general",
              ),
              [4, 3, 2, 1].map((e) =>
                l.length >= e
                  ? r.createElement(S, {
                      key: "preview_dlc_" + e,
                      cc: t,
                      l: a,
                      msg: `Show ${e} DLC`,
                      rgDLCOverride: l.slice(0, e),
                    })
                  : null,
              ),
            )
          : null;
      }
      var p = a(42960),
        _ = a(60688),
        h = a(59728);
      function g(e) {
        (0, n.fL)();
        const t = (0, r.useMemo)(() => {
          const e = new Array();
          for (let t = 0; t < 31; ++t) {
            const a = (0, l.j_)(t);
            e.push(
              r.createElement(E, { key: "lang" + t, cc: "US", l: a, msg: a }),
            );
          }
          return e;
        }, []);
        return r.createElement(
          "div",
          null,
          r.createElement(
            "div",
            { className: _.EditCtn },
            r.createElement(
              "div",
              { className: o().PageTitle },
              "Preview Marketing Messages",
            ),
            r.createElement("hr", null),
            r.createElement(d, { cc: "US", l: "english" }),
            r.createElement("div", null, "Languages:"),
            t,
            r.createElement("div", null, "Select Countries:"),
            r.createElement(E, { cc: "US", l: "english", msg: "US" }),
            r.createElement(E, { cc: "FR", l: "french", msg: "FR" }),
            r.createElement(E, { cc: "DE", l: "german", msg: "DE" }),
            r.createElement(E, { cc: "UK", l: "english", msg: "UK" }),
            r.createElement(E, { cc: "CN", l: "schinese", msg: "CN" }),
            r.createElement(E, {
              cc: "CN",
              l: "sc_schinese",
              msg: "Steam China",
              bForceSteamChina: !0,
            }),
          ),
        );
      }
      function E(e) {
        const t = (0, n.fL)(),
          [a, l] = (0, i.SZ)(() => [
            t.BHasAnimatedAssets(),
            "featured_video" == t.GetCustomTemplate(),
          ]);
        return r.createElement(
          "div",
          { className: p.PreviewRow },
          r.createElement(S, { ...e }),
          Boolean(a || l) &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement("span", { className: p.Spacer }, "   "),
              r.createElement(S, {
                ...e,
                msg: "static version",
                bShowLowBandwidth: !0,
              }),
            ),
        );
      }
      function S(e) {
        const {
            cc: t,
            l: a,
            msg: i,
            bForceSteamChina: l,
            bShowLowBandwidth: s,
            rgDLCOverride: o,
          } = e,
          c = (0, n.fL)().GetPreviewURL(t, a, l, s, o);
        return r.createElement(
          h.HP,
          { toolTipContent: c },
          r.createElement(
            "a",
            {
              href: "#",
              onClick: (e) => {
                e.preventDefault(), console.log("preview url clicked", c);
                window
                  .open(
                    c,
                    "marketing_message",
                    "height=720,width=700,resize=yes,scrollbars=yes",
                  )
                  .focus();
              },
            },
            i,
          ),
        );
      }
    },
    31455: (e, t, a) => {
      "use strict";
      a.d(t, { q: () => I, v: () => C });
      var n = a(256),
        i = a(1698),
        r = a(44107),
        l = a(20840),
        s = a(47427),
        o = a(15459),
        c = a(15690),
        m = a(86437),
        d = a(80886),
        u = a(1485),
        p = a(77178),
        _ = a(90069),
        h = a(46882),
        g = a(50423),
        E = a(31846),
        S = a(37563),
        v = a(26475),
        D = a(60688),
        f = a(83743),
        y = a(16649),
        b = a(77912);
      function I(e) {
        const { oEditablePlan: t, index: a } = e;
        return s.createElement(
          "div",
          { className: D.LinkCtn },
          s.createElement(v.UR, {
            name: "Marketing Message " + (a + 1) + " ID",
            placeHolder: "/marketing/message/<grab this ID>",
            id: t.GetMarketingMessageID(a),
            index: a,
            fnSetID: t.SetMarketingMessageID,
            fnGetURL: i.tA.GetMarketingMesssageEditURL,
          }),
          s.createElement(
            "div",
            { className: D.ButtonRow },
            s.createElement(
              u.zx,
              {
                onClick: (e) => {
                  (0, _.AM)(
                    s.createElement(k, { oEditablePlan: t, index: a }),
                    (0, g.RA)(e),
                  );
                },
              },
              "Create new",
            ),
            s.createElement(
              u.zx,
              {
                onClick: (e) => {
                  (0, _.AM)(
                    s.createElement(w, { oEditablePlan: t, index: a }),
                    (0, g.RA)(e),
                  );
                },
              },
              "Select from existing",
            ),
          ),
        );
      }
      function C(e, t, a, i, r, l) {
        let s, o;
        if (l)
          switch (l.GetStoreItemType()) {
            case 0:
              (s = `${S.De.STORE_BASE_URL}app/${l.GetID()}`), (o = 2);
              break;
            case 1:
              (s = `${S.De.STORE_BASE_URL}sub/${l.GetID()}`), (o = 4);
              break;
            case 2:
              s = `${S.De.STORE_BASE_URL}bundle/${l.GetID()}`;
          }
        const c = {};
        o && ((c.no_filters_required = !1), (c.user_filters = (0, b.a)(l, t)));
        const d = {
            type: "image",
            button_text: r,
            linkurl: s,
            hide_price: 10 === t,
          },
          u = {
            title: e,
            type: t,
            creator_name: S.L7.account_name,
            visibility: 1,
            start_date: a,
            end_date: i,
            flags: 0,
            country_deny: "",
            ownership_restrictions_overridden: !0,
            template_type: "image",
            template_vars_json: JSON.stringify(d),
            additional_restrictions_json: JSON.stringify(c),
            association_type: 0,
          };
        return (
          l &&
            ((u.associated_id = l.GetID()),
            (u.association_type = (0, m.RB)(l.GetStoreItemType())),
            (u.associated_name = l.GetName() || "")),
          l?.GetPlatforms()?.windows &&
            (u.flags |= n.j.k_EMarketingMessageFlagsPlatformWindows),
          l?.GetPlatforms()?.mac &&
            (u.flags |= n.j.k_EMarketingMessageFlagsPlatformMac),
          l?.GetPlatforms()?.steamos_linux &&
            (u.flags |= n.j.k_EMarketingMessageFlagsPlatformLinux),
          u
        );
      }
      function k(e) {
        const { oEditablePlan: t, index: a, closeModal: i } = e,
          [l] = (0, d.jk)(t.GetFeaturedItemID(), t.GetFeaturedItemType(), {
            include_platforms: !0,
          }),
          [o, c] = (0, s.useState)(t.GetName()),
          [m, _] = (0, s.useState)(2),
          h = (0, s.useMemo)(
            () => n.JZ.map((e) => ({ label: (0, n.W_)(e), data: e })),
            [],
          ),
          [g, E] = (0, s.useState)(t.BHasMarketingMessages(a)),
          [S, v] = (0, s.useState)("#msg_action_details"),
          { fnCreateMarketingMessage: b } = (0, r.oT)(),
          I = (0, f.tx)();
        return I.bLoading
          ? s.createElement(f.NT, {
              state: I,
              strDialogTitle: "Create New Marketing Message?",
              closeModal: i,
            })
          : g
            ? s.createElement(p.uH, {
                strTitle: "Create New Marketing Message?",
                strDescription: `You already have Marketing Message with ID ${t.GetMarketingMessageID(a)} associated with this promotion plan.  Are you sure you want to create a new one?`,
                onCancel: i,
                onOK: () => E(!1),
                strOKButtonText: "Create New Marketing Message Anyways",
              })
            : s.createElement(
                p.uH,
                {
                  strTitle: "Create New Marketing Message?",
                  strDescription:
                    "Create and link a Marketing Message from date range and featured item from the existing plan? Any additional customization can be done in the Marketing Message editor directly. NOTE: We did not fill in country restrictions, so need to double check if those are required.",
                  onCancel: i,
                  className: D.CreationDialogCtn,
                  bOKDisabled:
                    0 == o.trim().length ||
                    0 == m ||
                    (!t.BHasAssociatedSaleEvent() && !l) ||
                    0 == S.trim().length ||
                    I.bLoading,
                  bAllowFullSize: !0,
                  onOK: () => {
                    I.fnSetLoading(!0);
                    const e = C(
                      o,
                      m,
                      t.GetStartDate(),
                      t.GetEndDate(),
                      S || "#msg_action_details",
                      l,
                    );
                    b(e, !0)
                      .then((e) => {
                        e
                          ? (t.SetMarketingMessageID(e, a),
                            I.fnSetStrSuccess(
                              "Create Marketing Message Successful. Remember to Save the Promotion Plan.",
                            ))
                          : I.fnSetStrError(
                              "Create Marketing Message failed. Check console output",
                            );
                      })
                      .catch((e) => {
                        const t =
                          "marketing message Event Failed: " +
                          (0, y.l)(e).strErrorMsg +
                          ". ";
                        console.log(
                          "marketing message create failed",
                          (0, y.l)(e),
                          e,
                        ),
                          I.fnSetStrError(t);
                      });
                  },
                },
                s.createElement("br", null),
                s.createElement("br", null),
                s.createElement(u.II, {
                  value: o,
                  onChange: (e) => c(e.currentTarget.value),
                  label: "Internal Name",
                }),
                s.createElement(u.ry, {
                  label: "Type",
                  rgOptions: h,
                  selectedOption: m,
                  onChange: (e) => _(e.data),
                }),
                s.createElement(
                  "div",
                  { className: D.LargeSelectorCtn },
                  s.createElement(A, { selected: S, fnSetSelected: v }),
                ),
              );
      }
      function A(e) {
        const { selected: t, fnSetSelected: a } = e,
          n = (0, l.X)(),
          i = (0, s.useMemo)(
            () =>
              Object.keys(n || [])
                .filter((e) => "string" == typeof n[e] && e.startsWith("msg_"))
                .map((e) => ({ label: `${n[e]} (#${e})`, value: `#${e}` })),
            [n],
          );
        return n
          ? s.createElement(
              s.Fragment,
              null,
              s.createElement(u.__, null, "Template Button text:"),
              s.createElement(o.ZP, {
                options: i,
                value: i.find((e) => e.value === t),
                onChange: (e) => a(e.value),
                isSearchable: !0,
              }),
            )
          : s.createElement(h.V, {
              string: "Loading Marketing Tokens",
              position: "center",
              size: "medium",
            });
      }
      function w(e) {
        const { oEditablePlan: t, closeModal: a, index: n } = e,
          i = (0, r.O4)(),
          [l, d] = (0, s.useState)(null);
        (0, s.useEffect)(() => {
          if (i) {
            const e = [1, 2, 5],
              t = i.filter(
                (t) => t.associated_id && e.includes(t.association_type),
              );
            c.Z.Get().QueueMultipleStoreItemRequests(
              t.map((e) => e.associated_id),
              t.map((e) => (0, m.mm)(e.association_type)),
              {},
            );
          }
        }, [i]);
        const _ = (0, s.useMemo)(
          () =>
            i?.map((e) => ({
              label: e.title,
              value: e.gid,
              marketingmessage: e,
            })),
          [i],
        );
        return i
          ? s.createElement(
              p.uH,
              {
                strTitle: "Select an Existing Marketing Message",
                strDescription:
                  "This only surfaces active or upcoming Marketing Message. This doesn't have access to archived Marketing Message.",
                onCancel: a,
                closeModal: a,
                onOK: () => {
                  t.SetMarketingMessageID(l, n);
                },
                bOKDisabled: Boolean(!l),
              },
              s.createElement(
                "div",
                { className: D.LinkMsgModalCtn },
                s.createElement(u.__, null, "Choose Marketing Message:"),
                s.createElement(o.ZP, {
                  options: _,
                  value: _.find((e) => e.value === l),
                  onChange: (e) => d(e?.value || null),
                  isSearchable: !0,
                  isMulti: !1,
                  isClearable: !0,
                  filterOption: (e, t) => {
                    if (!Boolean(t)) return !0;
                    const a = t.toLowerCase(),
                      n = e.data.marketingmessage,
                      i = c.Z.Get().GetStoreItem(
                        n.associated_id,
                        (0, m.mm)(n.association_type),
                      );
                    return (
                      e.label.toLowerCase().search(a) >= 0 ||
                      n.creator_name.toLowerCase().search(a) >= 0 ||
                      i?.GetName().toLowerCase().search(a) >= 0
                    );
                  },
                }),
              ),
            )
          : s.createElement(h.V, {
              string: (0, E.Xx)("#Loading"),
              position: "center",
              size: "medium",
            });
      }
    },
    23871: (e, t, a) => {
      "use strict";
      a.d(t, {
        Me: () => k,
        RU: () => D,
        c8: () => A,
        g1: () => C,
        j$: () => f,
      });
      var n = a(71945),
        i = a(47427),
        r = a(8114),
        l = a(22559),
        s = a(48359),
        o = a(56886),
        c = a(72236),
        m = a(28531),
        d = a(84965),
        u = a(90291),
        p = a(10162),
        _ = a(46882),
        h = a(59728),
        g = a(31846),
        E = a(12251),
        S = a(24549),
        v = a(36578);
      function D(e) {
        const { templateType: t } = e,
          a = (0, n.I0)(),
          [r, l, s] = (0, i.useMemo)(() => {
            if (!a) return [0, 0, []];
            const e = y(a, t);
            let n = 0,
              i = 0;
            return (
              e.forEach((e) => {
                e.seen_count > n && (n = e.seen_count), (i += e.seen_count);
              }),
              [n, i, e.sort((e, t) => e.rt_time_hour - t.rt_time_hour)]
            );
          }, [a, t]);
        return a
          ? i.createElement(
              "div",
              { className: v.DashStatsContainer },
              i.createElement(
                "div",
                { className: v.Chart },
                i.createElement(
                  p.SV,
                  null,
                  i.createElement(b, { Data: s, nPeak: r }),
                ),
              ),
              i.createElement(
                "div",
                { className: v.Stats },
                i.createElement(
                  "div",
                  { className: v.CurrentStats },
                  i.createElement(
                    "div",
                    { className: v.StatsTitle },
                    (0, S.AV)(l),
                  ),
                  i.createElement(
                    "div",
                    { className: v.StatSubtitle },
                    i.createElement(
                      "span",
                      { className: v.Now },
                      "Total Seen over last 7 days",
                    ),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: v.PeakStats },
                  i.createElement(
                    "div",
                    { className: v.StatsTitle },
                    (0, S.AV)(r),
                  ),
                  i.createElement(
                    "div",
                    { className: v.StatSubtitle },
                    i.createElement(
                      "span",
                      { className: v.Concurrent },
                      "Peak Hourly Views",
                    ),
                  ),
                ),
              ),
            )
          : i.createElement(_.V, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function f(e) {
        const { gid: t, templateType: a } = e,
          r = (0, n.mz)(t),
          [l, s, o] = (0, i.useMemo)(() => {
            if (!r) return [0, 0, []];
            const e = y(r, a);
            let t = 0,
              n = 0;
            return (
              e.forEach((e) => {
                e.seen_count > t && (t = e.seen_count), (n += e.seen_count);
              }),
              [t, n, e.sort((e, t) => e.rt_time_hour - t.rt_time_hour)]
            );
          }, [r, a]);
        return r
          ? i.createElement(
              "div",
              { className: v.DashStatsContainer },
              i.createElement(
                "div",
                { className: v.Chart },
                i.createElement(
                  p.SV,
                  null,
                  i.createElement(b, { Data: o, nPeak: l }),
                ),
              ),
              i.createElement(
                "div",
                { className: v.Stats },
                i.createElement(
                  "div",
                  { className: v.CurrentStats },
                  i.createElement(
                    "div",
                    { className: v.StatsTitle },
                    (0, S.AV)(s),
                  ),
                  i.createElement(
                    "div",
                    { className: v.StatSubtitle },
                    i.createElement("span", { className: v.Now }, "Total Seen"),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: v.PeakStats },
                  i.createElement(
                    "div",
                    { className: v.StatsTitle },
                    (0, S.AV)(l),
                  ),
                  i.createElement(
                    "div",
                    { className: v.StatSubtitle },
                    i.createElement(
                      "span",
                      { className: v.Concurrent },
                      "Peak Hourly Views",
                    ),
                  ),
                ),
              ),
            )
          : i.createElement(_.V, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function y(e, t) {
        const a = new Map();
        return (
          e.forEach((e) => {
            (t && e.template_type != t) ||
              (a.has(e.rt_time_hour)
                ? a.set(e.rt_time_hour, a.get(e.rt_time_hour) + e.seen_count)
                : a.set(e.rt_time_hour, e.seen_count));
          }),
          Array.from(a).map((e) => ({ rt_time_hour: e[0], seen_count: e[1] }))
        );
      }
      const b = i.memo((e) => {
        const { Data: t, nPeak: a } = e;
        return i.createElement(
          r.h,
          { width: "100%", height: "100%" },
          i.createElement(
            l.c,
            {
              data: t,
              margin: { top: 25, left: 0, right: 0, bottom: 0 },
              barGap: 10,
            },
            i.createElement(
              "defs",
              null,
              i.createElement(
                "linearGradient",
                { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                i.createElement("stop", { stopColor: "#1A9FFF" }),
                i.createElement("stop", {
                  offset: "0.01",
                  stopColor: "#1A9FFF",
                }),
                i.createElement("stop", {
                  offset: "0.0101",
                  stopColor: "#1A9FFF",
                  stopOpacity: "0.5",
                }),
                i.createElement("stop", {
                  offset: "1",
                  stopColor: "#30363D",
                  stopOpacity: "0.5",
                }),
              ),
            ),
            i.createElement(s.q, { vertical: !1, stroke: "#a0aab6" }),
            i.createElement(o.B, {
              tickFormatter: S.X_,
              tick: { fill: "white" },
              axisLine: !1,
            }),
            i.createElement(c.u, { content: i.createElement(I, null) }),
            i.createElement(m.$, {
              dataKey: "seen_count",
              barSize: 2,
              fill: "url( #bar_linear )",
            }),
            i.createElement(d.d, {
              y: a,
              stroke: "#82FF01",
              strokeDasharray: "6",
            }),
          ),
        );
      });
      function I({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload;
          return i.createElement(
            h.gz,
            null,
            i.createElement("b", null, (0, S.AV)(e.seen_count)),
            " views at ",
            (0, g.$1)(e.rt_time_hour),
            " ",
            (0, E.Sc)(e.rt_time_hour),
          );
        }
        return null;
      }
      function C(e) {
        const { gid: t, templateType: a } = e,
          r = (0, n.mz)(t),
          [l, s] = (0, i.useMemo)(() => {
            if (!r) return [0, []];
            const e = k(r, a);
            let t = 0,
              n = 0;
            e.forEach((e) => {
              e.seen_count > n && (n = e.seen_count),
                e.display_index > t && (t = e.display_index);
            });
            for (let a = 0; a < t; ++a) {
              e.findIndex((e) => e.display_index == a) < 0 &&
                e.push({ display_index: a, seen_count: 0 });
            }
            return [n, e.sort((e, t) => e.display_index - t.display_index)];
          }, [r, a]);
        return r
          ? i.createElement(
              "div",
              { className: v.DashStatsContainer },
              i.createElement(
                "div",
                { className: v.Chart },
                i.createElement(
                  p.SV,
                  null,
                  i.createElement(A, { Data: s, nPeak: l }),
                ),
              ),
            )
          : i.createElement(_.V, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function k(e, t) {
        const a = new Map();
        return (
          e.forEach((e) => {
            (t && e.template_type != t) ||
              (a.has(e.display_index)
                ? a.set(e.display_index, a.get(e.display_index) + e.seen_count)
                : a.set(e.display_index, e.seen_count));
          }),
          Array.from(a).map((e) => ({ display_index: e[0], seen_count: e[1] }))
        );
      }
      const A = i.memo((e) => {
        const { Data: t, nPeak: a } = e;
        return i.createElement(
          r.h,
          { width: "100%", height: "100%" },
          i.createElement(
            l.c,
            {
              data: t,
              margin: { top: 25, left: 0, right: 0, bottom: 0 },
              barGap: 10,
            },
            i.createElement(
              "defs",
              null,
              i.createElement(
                "linearGradient",
                { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                i.createElement("stop", { stopColor: "#1A9FFF" }),
                i.createElement("stop", {
                  offset: "0.01",
                  stopColor: "#1A9FFF",
                }),
                i.createElement("stop", {
                  offset: "0.0101",
                  stopColor: "#1A9FFF",
                  stopOpacity: "0.5",
                }),
                i.createElement("stop", {
                  offset: "1",
                  stopColor: "#30363D",
                  stopOpacity: "0.5",
                }),
              ),
            ),
            i.createElement(s.q, { vertical: !1, stroke: "#a0aab6" }),
            i.createElement(o.B, {
              tickFormatter: S.X_,
              tick: { fill: "white" },
              axisLine: !1,
            }),
            i.createElement(c.u, { content: i.createElement(w, null) }),
            i.createElement(m.$, {
              dataKey: "seen_count",
              barSize: 2,
              fill: "url( #bar_linear )",
            }),
            i.createElement(d.d, {
              y: a,
              stroke: "#82FF01",
              strokeDasharray: "6",
            }),
            i.createElement(u.K, { interval: 0 }),
          ),
        );
      });
      function w({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload;
          return i.createElement(
            h.gz,
            null,
            i.createElement("b", null, (0, S.AV)(e.seen_count)),
            " views at display index data ",
            e.display_index,
          );
        }
        return null;
      }
    },
    68553: (e, t, a) => {
      "use strict";
      a.d(t, { Z: () => _ });
      var n = a(2467),
        i = a(45844),
        r = a(47427),
        l = a(35427),
        s = a(1485),
        o = a(72297),
        c = a(77178),
        m = a(90069),
        d = a(46882),
        u = a(86437),
        p = a(80886);
      function _(e) {
        const {
            nPartnerID: t,
            bAllowedCustomContacts: a,
            storeItemFilter: n,
          } = e,
          [l, c] = (0, r.useState)(!1),
          [d, _] = (0, r.useState)(void 0),
          E = (0, i.N)(t),
          [S] = (0, p.jk)(n.id, (0, u.GV)(n.item_type), {}),
          v = r.useMemo(
            () =>
              0 == S?.GetStoreItemType() ? [S.GetID()] : S?.GetIncludedAppIDs(),
            [S],
          ),
          D = (0, r.useMemo)(() => {
            if (v && v.length > 0) {
              let e = new Array();
              if (
                (E?.forEach((t, a) => {
                  v.some((e) => t.includes(e)) && (e = e.concat(a));
                }),
                e.length > 0)
              )
                return (
                  _(
                    "Contact list is filtered to accounts with ManagePricing rights for the store item.",
                  ),
                  e
                );
            }
            return (
              _(
                "Warning: No communication accounts exist with ManagePricing rights for the store item.",
              ),
              E ? [...E.keys()] : []
            );
          }, [v, E]),
          f = (0, r.useMemo)(() => !(!t || !D) && !D.length, [D, t]);
        return r.createElement(
          r.Fragment,
          null,
          D?.length > 0
            ? r.createElement(
                s.zx,
                {
                  onClick: () => {
                    (0, m.AM)(
                      r.createElement(g, { rgAccountIDs: D, description: d }),
                      window,
                    );
                  },
                },
                "See contact list (",
                D.length,
                ")",
              )
            : f &&
                r.createElement(
                  "span",
                  { className: o.ErrorStylesBackground },
                  "Cannot Send Invite: The selected partner does not have any users with communication preference enabeld.",
                ),
          Boolean(a) &&
            r.createElement(
              r.Fragment,
              null,
              l
                ? r.createElement(h, null)
                : r.createElement(
                    s.zx,
                    { onClick: () => c(!0) },
                    "Add more contacts?",
                  ),
            ),
        );
      }
      function h(e) {
        return r.createElement(
          "div",
          null,
          r.createElement(
            "div",
            null,
            "Partner Contants ",
            r.createElement("span", null, "(one per line)"),
          ),
          r.createElement("textarea", {
            cols: 60,
            value: "",
            onChange: (e) => {},
          }),
        );
      }
      function g(e) {
        const { rgAccountIDs: t, closeModal: a, description: i } = e,
          { fnHintLoadPartnerUserInfo: s } = (0, n.AV)(),
          o = (0, r.useMemo)(
            () => t.map((e) => l.K.InitFromAccountID(e).ConvertTo64BitString()),
            [t],
          ),
          [m, u] = (0, r.useState)(!0);
        return (
          (0, r.useEffect)(() => {
            s(o).finally(() => u(!1));
          }, [o, s]),
          m
            ? r.createElement(d.V, null)
            : r.createElement(
                c.uH,
                {
                  strTitle: "Partner Contact List",
                  bAlertDialog: !0,
                  closeModal: a,
                },
                r.createElement(
                  "div",
                  null,
                  "This is the list of members of the Partner who have opted into promotion related communication. They will be notified to take action on this request.",
                ),
                !!i &&
                  r.createElement("div", { style: { padding: "10px 0px" } }, i),
                r.createElement("br", null),
                r.createElement(
                  "table",
                  { className: "landingTable" },
                  r.createElement(
                    "tr",
                    null,
                    r.createElement("th", null, "Persona"),
                    r.createElement("th", null, "Account Name"),
                    r.createElement("th", null, "Email Address"),
                  ),
                  t.map((e) => r.createElement(E, { key: e, accountID: e })),
                ),
              )
        );
      }
      function E(e) {
        const { accountID: t } = e,
          a = (0, n.cm)(t);
        return r.createElement(
          "tr",
          null,
          Boolean(a)
            ? r.createElement(
                r.Fragment,
                null,
                r.createElement("td", null, a.persona),
                r.createElement("td", null, a.accountname),
                r.createElement("td", null, a.email),
              )
            : r.createElement(
                "td",
                { colSpan: 3 },
                "SteamID: ",
                l.K.InitFromAccountID(t).ConvertTo64BitString(),
                " ",
              ),
        );
      }
    },
    82624: (e, t, a) => {
      "use strict";
      a.d(t, { t: () => _, x: () => u });
      var n = a(83831),
        i = a(49781),
        r = a(47427),
        l = a(86437),
        s = a(1485),
        o = a(13129),
        c = a(72297),
        m = a(18133),
        d = a.n(m);
      function u(e) {
        const {
          nPartnerID: t,
          nOriginalPartnerID: a,
          storeItemKey: n,
          fnUpdatePartnerID: i,
          showPartnerUnsetWarning: l,
          showPartnerSuggestions: o,
          showPartnerInitialSetWarning: c,
          autoSelectPartnerFromStoreItem: m,
        } = e;
        return r.createElement(
          "div",
          { className: d().PartnerIdRow },
          r.createElement(s.II, {
            type: "text",
            label: "Partner ID To Allow Access",
            tooltip:
              "Numerical ID. Only users who are members of this partner will be able to see this promotion plan",
            value: t || "",
            onChange: (e) => {
              if (e.currentTarget?.value?.trim().length > 0) {
                const t = Number.parseInt(e.currentTarget.value);
                i(t);
              } else i(null);
            },
          }),
          r.createElement(p, {
            nPartnerID: t,
            nOriginalPartnerID: a,
            storeItemKey: n,
            fnUpdatePartnerID: i,
            showPartnerUnsetWarning: l ?? !0,
            showPartnerSuggestions: o ?? !0,
            showPartnerInitialSetWarning: c,
            autoSelectPartnerFromStoreItem: m,
          }),
        );
      }
      function p(e) {
        const {
            storeItemKey: t,
            nPartnerID: a,
            nOriginalPartnerID: n,
            fnUpdatePartnerID: o,
            showPartnerUnsetWarning: c,
            showPartnerSuggestions: m,
            showPartnerInitialSetWarning: u,
            autoSelectPartnerFromStoreItem: p,
          } = e,
          h = (0, i.Gk)(t?.id, (0, l.GV)(t?.item_type)),
          g = (!a || a !== n) && h?.filter((e) => e.partner_id != a).length > 0;
        return (
          (0, r.useEffect)(() => {
            p && h && 1 == h.length && o && o(h.at(0).partner_id);
          }, [p, h, o]),
          r.createElement(
            r.Fragment,
            null,
            r.createElement(_, {
              nPartnerID: a,
              nOriginalPartnerID: n,
              showPartnerUnsetWarning: c,
              showPartnerInitialSetWarning: u,
            }),
            Boolean(m && g) &&
              r.createElement(
                "div",
                { className: d().SetObviousPartner },
                h.map((e) =>
                  r.createElement(
                    s.zx,
                    { key: e.partner_id, onClick: () => o(e.partner_id) },
                    "Select Partner: ",
                    e.name,
                    " (",
                    e.partner_id,
                    ")",
                  ),
                ),
              ),
          )
        );
      }
      function _(e) {
        const {
            nPartnerID: t,
            nOriginalPartnerID: a,
            showPartnerUnsetWarning: i,
            showPartnerInitialSetWarning: l,
          } = e,
          [s] = (0, n.DV)(t);
        return i && !t
          ? r.createElement(
              "div",
              { className: (0, o.Z)(c.ErrorStylesWithIcon, c.ErrorFloatBelow) },
              "No Partner ID set; no partner can access this request",
            )
          : l && void 0 !== a && a <= 1 && t > 1
            ? r.createElement(
                "div",
                {
                  className: (0, o.Z)(
                    c.WarningStylesWithIcon,
                    c.WarningFloatBelow,
                  ),
                },
                "This promotion plan will be visible to this partner and show up on their dashboard",
              )
            : s
              ? r.createElement(
                  "div",
                  { className: d().PartnerLink },
                  r.createElement(
                    "a",
                    { href: s.partner_url },
                    s.name,
                    " (",
                    s.partnerid,
                    ")",
                  ),
                )
              : null;
      }
    },
    9071: (e, t, a) => {
      "use strict";
      a.d(t, { _: () => Z, h: () => K });
      var n = a(76330),
        i = a(1698),
        r = a(51485),
        l = a(36342),
        s = a(87380),
        o = a(47427),
        c = a(51915),
        m = a(77681),
        d = a.n(m),
        u = a(1485),
        p = a(10162),
        _ = a(71472),
        h = a(71741),
        g = a.n(h),
        E = a(90069),
        S = a(23665),
        v = a(13129),
        D = a(50423),
        f = a(46984),
        y = a(37563),
        b = a(15282),
        I = a(16783),
        C = a.n(I),
        k = a(84676);
      const A = "steam_promo_calendar_filter";
      function w(e, t) {
        const a = window.localStorage.getItem(A) || "",
          n =
            window.location.search &&
            !/^\?month=\d+$/.test(window.location.search),
          i = new URLSearchParams(n ? window.location.search : a),
          r = new Set(
            Array.from(e).filter(
              (e) => !(i.has(e) && 0 == Number.parseInt(i.get(e))),
            ),
          );
        return (
          Array.from(t).forEach((e) => {
            i.has(e) && 1 == Number.parseInt(i.get(e)) && r.add(e);
          }),
          r
        );
      }
      var P = a(7073),
        T = a(93727),
        N = a(37485),
        R = a.n(N),
        G = a(84084),
        x = a(8285),
        L = a(64936),
        B = a(65255),
        M = a(34083),
        O = a(26475),
        F = a(59728);
      const U = (0, G.Zt)(R());
      function H(e) {
        const t = Math.floor(e.getTime() / 1e3) + 86400;
        if (L.JW.GetTimeNowWithOverride() > t)
          return { className: "DayInThePast" };
      }
      function V(e) {
        const {
            viewDate: t,
            fnSetMonthDelta: a,
            nOwnerAccountToFilter: n,
            fnSkipLoadingDailyDealPages: r,
          } = e,
          [l, c] = o.useState(() => w(i.Rg, i.ti)),
          m = (0, x.k6)(),
          d = (0, s.yw)(),
          u = (0, o.useMemo)(
            () =>
              n
                ? d.filter(
                    (e) =>
                      (!e.owner_account_id && e.creator_account_id == n) ||
                      e.owner_account_id == n ||
                      e.artwork_owner_account_id == n ||
                      e.operator_account_id == n ||
                      e.reviewed_by_account == n ||
                      e.watch_list?.includes(n),
                  )
                : d,
            [d, n],
          ),
          p = (0, T.Mg)();
        (0, o.useEffect)(() => {
          r(!l.has("dailydeal"));
        }, [l, r]);
        const [_, h] = o.useState(12),
          g = (0, s.l7)(_, i.b5);
        _ < 6 * q(new Date(), t) && h(6 * q(new Date(), t));
        const S = (0, o.useMemo)(() => {
          const e = u
            .filter((e) => l.size == i.nR.length || l.has(e.type))
            .map((e) => {
              let t,
                a = e.name;
              if (
                (e.intention && "none" != e.intention
                  ? (t = [i.R7.get(e.intention)])
                  : e.type && i.ex.has(e.type) && (t = i.ex.get(e.type)),
                t?.length)
              ) {
                for (const e of t)
                  a = a.replace(new RegExp("^" + e + "\\s*[:-]\\s*", "i"), "");
                a = t[0] + " - " + a;
              }
              const n = {
                promotionPlan: e,
                bIsChecked: !!e.reviewed_by_account,
                sTooltip: e.promotion_planner_notes,
              };
              return {
                allDay: !1,
                title: a,
                start: new Date(1e3 * e.start_date),
                end: new Date(1e3 * (e.end_date - 39600 - 1)),
                resource: n,
              };
            });
          let t = [];
          l.has("dailydeal") &&
            (t = p
              .filter((e) => !e.cancelled)
              .map((e) => {
                const t =
                    e.discount_event_id &&
                    (0, P.LT)(e.discount_event_id.toString())?.length > 0,
                  a = { dailyDealGid: e.gid, bIsChecked: t };
                return {
                  allDay: !1,
                  title: e.store_item_name,
                  start: new Date(1e3 * e.rtime32_start_time),
                  end: new Date(1e3 * (e.rtime32_start_time + 39600)),
                  resource: a,
                };
              }));
          const a = [];
          return (
            l.forEach((e) => {
              const t = i.Ii.get(e);
              g?.get(e)?.forEach((n) => {
                const r = n.rgPlans.length < t.nMaxSlots,
                  l = { week: n };
                a.push({
                  allDay: !1,
                  title:
                    i.j.get(e) +
                    " " +
                    (r
                      ? t.nMaxSlots - n.rgPlans.length + " Available"
                      : " No slots"),
                  start: new Date(1e3 * (n.rtWeekStart + t.rtStartModifier)),
                  end: new Date(
                    1e3 * (n.rtWeekStart + t.rtEndModifier - 39600 - 1),
                  ),
                  resource: l,
                });
              });
            }),
            [...e, ...t, ...a]
          );
        }, [u, l, p, g]);
        return o.createElement(
          "div",
          { className: C().CalendarCtn },
          o.createElement(j, {
            rgVisiblePromotionTypes: l,
            fnSetVisiblePromotionTypes: c,
            rgAvailableTypes: i.nR,
          }),
          o.createElement(G.f, {
            views: ["month"],
            popup: !0,
            defaultView: "month",
            localizer: U,
            date: t,
            onNavigate: (e) => {
              const t = q(new Date(), e);
              _ < 5 * t && h(5 * t), a(q(new Date(), e));
            },
            events: S,
            dayPropGetter: H,
            style: { height: 2400 },
            showMultiDayTimes: !0,
            onSelectEvent: (e, t) => {
              const a = e.resource;
              if (a.dailyDealGid)
                t.ctrlKey || t.metaKey
                  ? window.open(
                      `${B.De.PARTNER_BASE_URL}/promotion/${M.PromotionRoutes.DailyDealEditor(e.resource)}`,
                      "_blank",
                    )
                  : m.push(M.PromotionRoutes.DailyDealEditor(e.resource));
              else if (a.promotionPlan) {
                const a = e.resource.promotionPlan;
                t.ctrlKey || t.metaKey
                  ? window.open(
                      `${B.De.PARTNER_BASE_URL}/promotion/${M.PromotionRoutes.PromotionPlanEditor(a.id)}`,
                      "_blank",
                    )
                  : m.push(M.PromotionRoutes.PromotionPlanEditor(a.id));
              } else
                a.week &&
                  (0, E.AM)(
                    o.createElement(k.Vt, {
                      rtInitialDate: Math.floor(e.start.getTime() / 1e3),
                      initialType: a.week.type,
                      rtInitialEndDate:
                        Math.floor(e.end.getTime() / 1e3) + 39600 + 1,
                    }),
                    window,
                  );
            },
            eventPropGetter: (e) => (0, O.Z4)(e.resource),
            components: { event: X },
          }),
        );
      }
      const X = (e) => {
        const t = e.event.resource;
        return o.createElement(
          "span",
          {
            className: (0, v.Z)(
              C().EventContainer,
              t.bIsChecked ? C().Complete : C().Incomplete,
            ),
          },
          void 0 !== t.bIsChecked && (t.bIsChecked ? "🗹 " : "☐ "),
          t.sTooltip &&
            o.createElement(
              F.HP,
              {
                className: C().EventNotesTooltipIndicator,
                toolTipContent: o.createElement(F.vd, null, t.sTooltip),
              },
              "(ℹ️) ",
            ),
          e.title,
        );
      };
      function j(e) {
        const {
          rgVisiblePromotionTypes: t,
          fnSetVisiblePromotionTypes: a,
          rgAvailableTypes: n,
        } = e;
        return o.createElement(
          "div",
          { className: C().filtersCtn },
          n
            .filter((e) => !i.oP.has(e))
            .map((e) =>
              o.createElement(u.ji, {
                key: e,
                label: i.j.get(e),
                checked: t.has(e),
                className: e,
                onChange: (n) => {
                  const r = new Set(t),
                    l = new URLSearchParams(window.location.search);
                  n
                    ? (r.add(e), i.ti.has(e) ? l.set(e, "1") : l.delete(e))
                    : (r.delete(e), i.ti.has(e) ? l.delete(e) : l.set(e, "0")),
                    window.history.replaceState({}, "", "?" + l.toString()),
                    l.delete("month"),
                    window.localStorage.setItem(A, "?" + l.toString()),
                    a(r);
                },
              }),
            ),
        );
      }
      function q(e, t) {
        return (
          t.getMonth() - e.getMonth() + 12 * (t.getFullYear() - e.getFullYear())
        );
      }
      var W = a(10816),
        z = a(69176);
      function Z(e) {
        const t = (0, c.Qv)(e);
        return t?.m_strPlayerName || t?.m_strAccountName || "" + e;
      }
      function K(e) {
        const { fnResetDirtyPlan: t } = (0, l.u9)(),
          { fnResetDirtyPlanInputPipeline: a } = (0, r.R0)(),
          [m, h] = (0, _.Ar)("tab", "current"),
          [y, I] = (0, o.useState)(""),
          [A, P] = (0, _.Ar)("filter_account", 0),
          [T, N] = (0, o.useState)(() => !w(i.Rg, i.ti).has("dailydeal"));
        (0, c.vP)(n.J.map((e) => e.id)),
          o.useLayoutEffect(() => {
            t(), a();
          }, [t, a]);
        const [R, G] = (0, _.Ar)("month", 0),
          x = (0, o.useMemo)(() => {
            const e = new Date(),
              t = e.getMonth();
            return 0 != R && e.setDate(1), e.setMonth(t + R), e;
          }, [R]),
          L = (0, s.yw)(),
          B = (0, o.useMemo)(
            () =>
              A
                ? L.filter(
                    (e) =>
                      (!e.owner_account_id && e.creator_account_id == A) ||
                      e.owner_account_id == A ||
                      e.artwork_owner_account_id == A ||
                      e.operator_account_id == A ||
                      e.reviewed_by_account == A ||
                      e.watch_list?.includes(A),
                  )
                : L,
            [L, A],
          ),
          [M, O, F, U, H, X, j, q, W] = (0, o.useMemo)(() => {
            const e = new Array(),
              t = new Array(),
              a = new Array(),
              n = new Array(),
              i = new Array(),
              r = new Array(),
              l = new Array(),
              o = new Array(),
              c = new Array();
            return (
              B.forEach((m) => {
                let d = !0;
                if (y?.trim().length > 0) {
                  const e = y.toLocaleLowerCase();
                  (d =
                    m.admin_notes?.toLocaleLowerCase().indexOf(e) >= 0 ||
                    m.name?.toLocaleLowerCase().indexOf(e) >= 0 ||
                    Z(m.owner_account_id || m.creator_account_id)
                      .toLocaleLowerCase()
                      .indexOf(e) >= 0 ||
                    Z(m.artwork_owner_account_id)
                      .toLocaleLowerCase()
                      .indexOf(e) >= 0 ||
                    Z(m.operator_account_id).toLocaleLowerCase().indexOf(e) >=
                      0 ||
                    ("" + m.store_item_id).indexOf(e) >= 0),
                    d && o.push(m.id);
                }
                if (d && "vacation" != m.type) {
                  const o = Math.floor(Date.now() / 1e3);
                  if (Boolean(m.reviewed_by_account || m.end_date < o))
                    m.start_date > o && c.push(m.id);
                  else if (Boolean(m.artwork_completed_time)) l.push(m.id);
                  else if (Boolean(m.artwork_localization_task_id))
                    r.push(m.id);
                  else {
                    const r = (0, s.eQ)(m.id);
                    Boolean(
                      m.partner_requires_art_review &&
                        m.partner_review_create_time &&
                        (!r.approvals_provided ||
                          r.approvals_provided.length !=
                            r.approval_requests.length),
                    )
                      ? i.push(m.id)
                      : Boolean(m.delivery_review_time)
                        ? n.push(m.id)
                        : Boolean(
                              r?.submitting_accountid || m.associated_asset_url,
                            )
                          ? a.push(m.id)
                          : Boolean(r?.art_requests?.length > 0)
                            ? t.push(m.id)
                            : e.push(m.id);
                  }
                }
              }),
              [e, t, a, n, i, r, l, c, o]
            );
          }, [B, y]),
          K = (e) => h(e.key),
          J = [
            {
              name: "Calendar",
              key: "current",
              contents: o.createElement(
                p.SV,
                null,
                o.createElement(
                  b.j,
                  { bSkipLoadingPackages: T },
                  o.createElement(V, {
                    viewDate: x,
                    fnSetMonthDelta: G,
                    nOwnerAccountToFilter: A,
                    fnSkipLoadingDailyDealPages: N,
                  }),
                ),
              ),
              onClick: K,
            },
            {
              name: `Tentative (${M?.length || 0})`,
              key: "tentative",
              tooltip: "Plan is tentative until an artwork URL is entered",
              contents: o.createElement(
                p.SV,
                null,
                o.createElement(z.N, {
                  planIDs: M,
                  nUrgentWindowInSeconds: 6 * f._H.PerDay,
                }),
              ),
              onClick: K,
            },
            {
              name: `Awaiting Partner (${O?.length || 0})`,
              key: "await_partner",
              tooltip:
                "Items appear here if they have their asset request tab enabled and the artwork not yet submitted.",
              contents: o.createElement(
                p.SV,
                null,
                o.createElement(z.N, {
                  planIDs: O,
                  nUrgentWindowInSeconds: 6 * f._H.PerDay,
                }),
              ),
              onClick: K,
            },
            {
              name: `Delivery Ops Review (${F?.length || 0})`,
              key: "delivery_review",
              tooltip:
                "Parnter has submitted the artwork and we are awaiting operation to review the art matches the guidelines",
              contents: o.createElement(
                p.SV,
                null,
                o.createElement(z.N, {
                  planIDs: F,
                  bAllowAutoRefresh: !0,
                  sortByUnclaimedField: "operator_account_id",
                }),
              ),
              onClick: K,
            },
            {
              name: `Awaiting Design (${U?.length || 0})`,
              key: "await_artteam",
              contents: o.createElement(
                p.SV,
                null,
                o.createElement(z.N, {
                  planIDs: U,
                  sortByUnclaimedField: "artwork_owner_account_id",
                  bAllowAutoRefresh: !0,
                  nUrgentWindowInSeconds: 1 * f._H.PerDay,
                }),
              ),
              onClick: K,
            },
            {
              name: `Awaiting Partner Approvals (${H?.length || 0})`,
              tooltip:
                "On case where are required to provide assets for the partner to review prior to launch of the promotion",
              key: "await_approvals",
              contents: o.createElement(
                p.SV,
                null,
                o.createElement(z.N, { planIDs: H }),
              ),
              onClick: K,
            },
            {
              name: `Waiting on Loc (${X?.length || 0})`,
              key: "await_locteam",
              contents: o.createElement(
                p.SV,
                null,
                o.createElement(z.N, {
                  planIDs: X,
                  nUrgentWindowInSeconds: 1 * f._H.PerDay,
                }),
              ),
              onClick: K,
            },
            {
              name: `Awaiting Ops Review (${j?.length || 0})`,
              key: "await_review",
              contents: o.createElement(
                p.SV,
                null,
                o.createElement(z.N, {
                  planIDs: j,
                  bAllowAutoRefresh: !0,
                  sortByUnclaimedField: "operator_account_id",
                }),
              ),
              onClick: K,
            },
            {
              name: `Reviewed, Not Live Yet (${q?.length || 0})`,
              key: "reviewed",
              contents: o.createElement(
                p.SV,
                null,
                o.createElement(z.N, {
                  planIDs: q,
                  bAllowAutoRefresh: !1,
                  sortByUnclaimedField: "operator_account_id",
                }),
              ),
              onClick: K,
            },
          ];
        return (
          y.trim().length > 0 &&
            J.push({
              name: `Search Results (${W?.length || 0})`,
              key: "search",
              contents: o.createElement(
                p.SV,
                null,
                o.createElement(z.N, { planIDs: W }),
              ),
              onClick: K,
            }),
          o.createElement(
            "div",
            {
              className: (0, v.Z)(
                C().Container,
                d().AdminPageCtn,
                d().WidePageCtn,
              ),
            },
            o.createElement(
              "div",
              { className: d().PageTitleFlexCtn },
              o.createElement(
                "div",
                { className: d().PageTitle },
                "Promotion Planning Tool (VO) ",
              ),
              o.createElement(
                "div",
                { className: C().CreateNewCtn },
                o.createElement(u.II, {
                  type: "text",
                  placeholder: "Search promos",
                  tooltip:
                    "Only an in-memory search of plan name, admin notes and store item id",
                  value: y,
                  onChange: (e) => {
                    I(e?.currentTarget?.value || ""),
                      e?.currentTarget?.value.trim().length > 0
                        ? h("search")
                        : h("current");
                  },
                }),
                o.createElement(
                  u.KM,
                  {
                    onClick: (e) =>
                      (0, E.AM)(o.createElement(k.Vt, null), (0, D.RA)(e)),
                  },
                  "Create New Promotion",
                ),
                o.createElement(Q, { nAccountID: A, fnSetAccountFilter: P }),
              ),
            ),
            o.createElement("hr", { className: "VO" }),
            o.createElement(S.n, { tabs: J }),
            o.createElement("div", { className: g().ClearThings }),
            o.createElement("hr", { className: "VO" }),
            o.createElement(Y, null),
          )
        );
      }
      function Q(e) {
        return o.createElement(W.$t, {
          ...e,
          rgAdditional: [{ data: null, label: "Show All Users Plan" }],
        });
      }
      function Y(e) {
        return o.createElement(
          "div",
          { className: C().OtherLinks },
          o.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/dailydeals/dashboard" },
            "Daily Deal Calendar",
          ),
          o.createElement(
            "a",
            {
              href:
                y.De.PARTNER_BASE_URL + "promotion/marketingmessages/dashboard",
            },
            "Marketing Messages List",
          ),
          o.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/spotlights/dashboard" },
            "Spotlights List",
          ),
          o.createElement(
            "a",
            {
              href:
                y.De.PARTNER_BASE_URL + "promotion/discountevents/dashboard",
            },
            "Discount Events List (WIP)",
          ),
          o.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/planning/themes" },
            "Theme Fests Ideation Dashboard",
          ),
          o.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/planning/salesrank" },
            "Sales Rank Planning Dashboard",
          ),
          o.createElement(
            "a",
            {
              href:
                y.De.PARTNER_BASE_URL + "promotion/invitationplanner/dashboard",
            },
            "Promotion Invitation Planner Dashboard",
          ),
          o.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/themesales/dashboard" },
            "Theme Fests / Next Fest Progress Tracking Dashboard",
          ),
          o.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/planning/migration" },
            "Bulk Data Migration",
          ),
          o.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/analysis/curated" },
            "Key Longitudinal Analysis of Featured Franchises Report",
          ),
        );
      }
    },
    34083: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { PromotionRoutes: () => Lr, default: () => Br });
      var n = a(760),
        i = a(52077),
        r = (a(43204), a(51485), a(36342), a(26519)),
        l = a(47427),
        s = a(28017),
        o = a(8285),
        c = a(9781),
        m = a(71630),
        d = a(69406),
        u = (a(34345), a(37563)),
        p = a(20391),
        _ = a(17912);
      var h = a(93727),
        g = a(49781),
        E = a(30750);
      var S = a(51915),
        v = a(86437),
        D = a(80886),
        f = a(77681),
        y = a.n(f),
        b = a(1485),
        I = a(83743),
        C = a(10162),
        k = a(72297),
        A = a.n(k),
        w = a(71741),
        P = a.n(w),
        T = a(77178),
        N = a(90069),
        R = a(62613),
        G = a(23665),
        x = a(46882),
        L = a(56164),
        B = a(13129),
        M = a(50423),
        O = a(31846),
        F = a(50900),
        U = a(92195),
        H = a(69368),
        V = a(66692);
      function X(e) {
        const t = (0, i.Rx)(),
          a = t.BIsDirty();
        return l.createElement(
          "div",
          null,
          l.createElement("div", null, "Debug Panel"),
          l.createElement("hr", null),
          l.createElement("div", null, "Is dirty?: ", a),
          l.createElement(m.G, { data: t.GetModel() }),
        );
      }
      var j = a(95666),
        q = a(66370);
      function W(e) {
        const [t] = (0, i.wH)(),
          a = (0, i.Rx)();
        l.useEffect(
          () => (
            (window.onbeforeunload = () =>
              t() ? (0, O.Xx)("#DailyDeals_UnsavedChanges") : null),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [t],
        );
        return l.createElement(o.NL, {
          message: (e) =>
            !a ||
            !t() ||
            e.pathname == "promotion/" + Lr.DailyDealEditor(a.GetDealID()) ||
            (0, O.Xx)("#DailyDeals_UnsavedChanges"),
        });
      }
      var z = a(22364);
      function Z(e) {
        const { dealid: t } = e,
          a = (0, h.V2)(t),
          [n, r] = l.useState(!1);
        if (
          (l.useEffect(() => {
            void 0 !== a &&
              (null !== a && i.KF.Get().InitDailyDealToEdit(a), r(!0));
          }, [a, t]),
          !n)
        )
          return l.createElement(x.V, {
            size: "medium",
            position: "center",
            string: (0, O.Xx)("#Loading"),
          });
        if (!a)
          return l.createElement(
            "div",
            null,
            l.createElement("div", null, (0, O.Xx)("#DailyDeals_NotExist")),
            l.createElement(
              s.rU,
              { to: Lr.DailyDealDashboard() },
              (0, O.Xx)("#DailyDeals_Dashboard"),
            ),
          );
        const o = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          c = [
            {
              name: "Editor Tab",
              key: "editor",
              contents: l.createElement(C.SV, null, l.createElement(K, null)),
              onClick: o,
            },
            {
              name: "Asset Request",
              key: "request",
              contents: l.createElement(C.SV, null, l.createElement(U.Q, null)),
              onClick: o,
            },
            {
              name: "Debug Tab",
              key: "debug",
              contents: l.createElement(C.SV, null, l.createElement(X, null)),
              onClick: o,
            },
          ];
        return l.createElement(
          "div",
          { className: y().AdminPageCtn },
          l.createElement(W, null),
          l.createElement(
            "div",
            { className: q.ButtonRow },
            l.createElement(
              s.rU,
              {
                to:
                  Lr.DailyDealDashboard() +
                  (window.sessionStorage.getItem("dailyDealPageIndex") || ""),
                className: (0, B.Z)(y().DashLink, q.DashLink),
              },
              l.createElement(R.Ehc, { angle: 270 }),
              l.createElement("div", null, "Return to Daily Deal Dashboard"),
            ),
            l.createElement(
              "a",
              {
                href: u.De.PARTNER_BASE_URL + "promotion/planning/dashboard",
                className: (0, B.Z)(y().DashLink, q.DashLink),
              },
              l.createElement(
                "div",
                null,
                "Go to Promotion Planning Dashboard",
              ),
            ),
          ),
          l.createElement(G.n, { tabs: c }),
          l.createElement("div", { className: P().ClearThings }),
        );
      }
      function K(e) {
        const t = (0, i.Rx)(),
          a = (0, S.IE)(t?.GetCreatorID()),
          n = (0, S.IE)(t?.GetInvitationAccountID()),
          r = (0, E.SZ)(() => t.BIsCancelled());
        return l.createElement(
          "div",
          { className: q.EditCtn },
          l.createElement(
            "div",
            { className: y().PageTitle },
            "Daily Deal ",
            l.createElement("span", null, "Edit Details"),
            Boolean(r) &&
              l.createElement(
                "span",
                { className: A().WarningStylesBackground },
                "!!Cancelled!!",
              ),
          ),
          l.createElement("hr", null),
          l.createElement(
            "div",
            { className: y().ColumnCtn },
            l.createElement(
              "div",
              { className: y().LeftCol },
              l.createElement(
                "div",
                { className: y().SectionCtn },
                l.createElement(b.__, null, "Start Date:"),
                l.createElement(
                  "div",
                  { className: q.PromoTitle },
                  (0, O.$1)(t.GetModel()?.rtime32_start_time),
                ),
                !!n?.data &&
                  l.createElement(
                    b.__,
                    null,
                    `Invited By: ${n.data.m_strPlayerName}`,
                  ),
                l.createElement(
                  b.__,
                  null,
                  `Created By: ${a?.data?.m_strPlayerName || t?.GetCreatorID()}`,
                ),
                l.createElement(b.__, null, "Visibility:"),
                l.createElement(b.ji, {
                  checked: t.BHidePrices(),
                  onChange: t.SetVisiblity,
                  label: "Hide Price",
                }),
                l.createElement(
                  "div",
                  { className: P().FlexRowContainer },
                  l.createElement(b.II, {
                    type: "Text",
                    label: "Discount Event ID",
                    onChange: (e) =>
                      t.SetDiscountEventID(e?.currentTarget?.value || ""),
                    value: t.GetDiscountEventID(),
                  }),
                  Boolean(t.BHasDiscountEventID()) &&
                    l.createElement(
                      "div",
                      { className: q.DiscountEventLinks },
                      l.createElement(
                        "a",
                        {
                          href:
                            u.De.PARTNER_BASE_URL +
                            "admin/editdiscountevent/" +
                            t.GetDiscountEventID(),
                          target: "_blank",
                        },
                        "Edit Discount Event",
                      ),
                      l.createElement(
                        "a",
                        {
                          href:
                            u.De.PARTNER_BASE_URL +
                            "admin/discounttaglookup?tag=" +
                            t.GetDiscountEventID(),
                          target: "_blank",
                        },
                        "Audit Packages for Discount Event",
                      ),
                    ),
                ),
                l.createElement(
                  "div",
                  {
                    className: (0, B.Z)(P().FlexRowContainer, q.OverrideURLCtn),
                  },
                  l.createElement(b.II, {
                    type: "Text",
                    label:
                      "Override URL (must point to the store or it will be ignored)",
                    onChange: (e) =>
                      t.SetOverrideURL(e?.currentTarget?.value || ""),
                    placeholder: u.De.STORE_BASE_URL,
                    value: t.GetOverrideURL(),
                  }),
                  Boolean(t.BHasOverrideURL()) &&
                    l.createElement(
                      "div",
                      { className: q.TestLink },
                      Boolean(
                        (s = t.GetOverrideURL())
                          .trim()
                          .startsWith(u.De.STORE_BASE_URL) ||
                          s
                            .trim()
                            .startsWith("https://store.steampowered.com") ||
                          s.trim().startsWith("https://steam.steamchina.com"),
                      )
                        ? l.createElement(
                            "a",
                            { href: t.GetOverrideURL(), target: "_blank" },
                            "Test URL",
                          )
                        : l.createElement(
                            "div",
                            { className: y().warning },
                            "Warning: Override URL must start steam store URL",
                          ),
                    ),
                ),
                l.createElement(b.__, null, "Admin Notes:"),
                l.createElement("textarea", {
                  className: (0, B.Z)(
                    "DialogTextInputBase",
                    q.DailyDealAdminNotes,
                  ),
                  onChange: (e) => t.SetNotes(e?.currentTarget?.value || ""),
                  value: t.GetNotes(),
                }),
              ),
              l.createElement(
                "div",
                { className: y().SectionCtn },
                l.createElement(b.__, null, "Associated Editor Links:"),
                l.createElement(z.cE, { oEditablePlan: t }),
              ),
              l.createElement(
                "div",
                { className: y().SectionCtn },
                l.createElement(j.bG, {
                  strDiscountEventID: t.GetDiscountEventID(),
                  nBundleID:
                    2 == t.GetModel()?.store_item_type
                      ? t.GetModel()?.store_item_id
                      : void 0,
                }),
              ),
              l.createElement(
                "div",
                { className: y().SectionCtn },
                l.createElement(z.Eu, {
                  oEditablePlan: t,
                  bUseSalePageType: !0,
                }),
              ),
              l.createElement(
                "div",
                { className: y().SectionCtn },
                l.createElement(Y, { oEditableDailyDeal: t }),
                "Note: deleting a deal here just deletes the Daily Deal visibility, not the underlying discount event, nor the discount itself.",
              ),
            ),
            l.createElement(Q, { oEditableDailyDeal: t }),
          ),
        );
        var s;
      }
      function Q(e) {
        const { oEditableDailyDeal: t } = e,
          a = (0, h.To)(t.GetDealID()),
          n = t.GetStoreItemKey(),
          i = (0, g.UZ)(t.GetStoreItemKey()),
          [r, s] = (0, D.jk)(n.id, (0, v.GV)(n.item_type), {
            include_assets: !0,
            include_basic_info: !0,
          }),
          o = new URLSearchParams(),
          c = r ? r.GetName() : `type: ${n.item_type} id: ${n.id}`;
        return (
          o.set("name", c),
          o.set("dailydealid", t.GetDealID()),
          o.set("start", "" + a),
          l.createElement(
            "div",
            { className: y().RightCol },
            l.createElement(
              "div",
              { className: y().SectionCtn },
              r
                ? l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(b.__, null, "Association:"),
                    l.createElement(H.Ce, {
                      id: n.id,
                      itemType: r.GetStoreItemType(),
                    }),
                  )
                : c,
              l.createElement(
                "div",
                { className: q.UpdateBtnCtn },
                l.createElement(
                  b.zx,
                  {
                    onClick: (e) =>
                      (0, N.AM)(
                        l.createElement(V.cP, { dealid: t.GetDealID() }),
                        (0, M.RA)(e),
                      ),
                  },
                  "Change Selected Product",
                ),
              ),
            ),
            l.createElement(
              "div",
              { className: y().SectionCtn },
              l.createElement(
                "a",
                {
                  href:
                    u.De.PARTNER_BASE_URL +
                    "public/downloadics.php?" +
                    o.toString(),
                },
                l.createElement("span", {
                  className: "iconLink icon_download icon_inline",
                }),
                "Download Calendar Reminder Event",
              ),
              l.createElement("br", null),
              l.createElement("br", null),
              l.createElement(
                "a",
                {
                  href:
                    u.De.PARTNER_BASE_URL + "doc/marketing/discounts/dailydeal",
                },
                l.createElement("span", {
                  className: "iconLink icon_documentation icon_inline",
                }),
                "See Daily Deal documentation",
              ),
              i?.map((e) =>
                l.createElement(
                  "div",
                  { key: e.partner_id },
                  l.createElement("br", null),
                  l.createElement(
                    "a",
                    {
                      href: `${u.De.PARTNER_BASE_URL}promotion/dailydeals/dashboard/${e.partner_id}`,
                    },
                    "See ",
                    e.name,
                    " Daily Deal Dashboard",
                  ),
                ),
              ),
            ),
          )
        );
      }
      function Y(e) {
        const { oEditableDailyDeal: t } = e,
          a = (0, E.SZ)(() => t.BIsDirty()),
          n = (0, E.SZ)(() => t.BIsCancelled());
        return l.createElement(
          "div",
          { className: q.ButtonRow },
          !n &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                b.KM,
                {
                  disabled: !a,
                  onClick: (e) =>
                    (0, N.AM)(l.createElement(J, null), (0, M.RA)(e)),
                },
                (0, O.Xx)(a ? "#Button_Save" : "#Button_Saved"),
              ),
              l.createElement(
                b.zx,
                {
                  onClick: (e) => {
                    (0, N.AM)(
                      l.createElement($, {
                        oEditableDailyDeal: t,
                        bDelete: !1,
                      }),
                      (0, M.RA)(e),
                    );
                  },
                },
                "Delete",
              ),
            ),
          !n &&
            l.createElement(
              b.zx,
              {
                disabled: !a,
                onClick: (e) =>
                  (0, N.AM)(
                    l.createElement(T.uH, {
                      strTitle: (0, O.Xx)("#Dialog_AreYouSure"),
                      strDescription: (0, O.Xx)("#DailyDeals_UnsavedChanges"),
                      onOK: () => t.RevertChanges(),
                    }),
                    (0, M.RA)(e),
                  ),
              },
              (0, O.Xx)("#Button_Revert"),
            ),
        );
      }
      function J(e) {
        const { closeModal: t } = e,
          a = (0, i.Rx)(),
          { fnSaveDailyDeal: n } = (0, h.oQ)(),
          [r, s] = l.useState(!0),
          [o, c] = l.useState(!1);
        return (
          l.useEffect(() => {
            n(a.GetModel())
              .then(c)
              .catch((e) => c(!1))
              .finally(() => s(!1));
          }, []),
          l.createElement(
            T.uH,
            { strTitle: "Saving", bAlertDialog: !0, closeModal: t },
            Boolean(r)
              ? l.createElement(x.V, {
                  size: "medium",
                  position: "center",
                  string: (0, O.Xx)("#Saving"),
                })
              : Boolean(o)
                ? l.createElement("div", null, "Save successful")
                : l.createElement(
                    "div",
                    null,
                    "Save failed. Please try again later",
                  ),
          )
        );
      }
      function $(e) {
        const { oEditableDailyDeal: t, closeModal: a, bDelete: n } = e,
          { fnRemoveDailyDeal: i, fnCancelDailyDeal: r } = (0, h.oQ)(),
          [s, o] = (0, F.K4)(t.GetModel()),
          [c] = (0, D.jk)(s, o, { include_basic_info: !0, include_assets: !0 }),
          m = (0, I.tx)();
        return m.bLoading
          ? l.createElement(I.NT, {
              state: m,
              strDialogTitle: n ? "Remove Daily Deal" : "Cancel Daily Deal",
              closeModal: a,
            })
          : l.createElement(
              T.uH,
              {
                strTitle: n ? "Remove Daily Deal?" : "Cancel Daily Deal?",
                strDescription: n
                  ? "Are you sure you want to remove the daily deal for the following? This can't be undone, but a new one can be created if needed. This will only delete the daily deal featuring; this has no effect on the discount event associated with the daily deal."
                  : "Are you sure you want to cancel this daily deal? A cancelled deal will no longer appear on the calendar, however, it will appear in the list of cancelled daily deals on the partner daily deal dashboard. Cancelled daily deals can no longer be edited.",
                onCancel: a,
                onOK: () => {
                  m.fnSetLoading(!0),
                    (n ? i(t.GetDealID()) : r(t.GetDealID()))
                      .then((e) => {
                        e
                          ? (window.location.href =
                              u.De.PARTNER_BASE_URL +
                              "promotion" +
                              Lr.DailyDealDashboard())
                          : (m.fnSetError(!0),
                            m.fnSetStrError(
                              `Failed To ${n ? "Delete" : "Cancel"}, check console`,
                            ));
                      })
                      .catch((e) => {
                        m.fnSetError(!0),
                          m.fnSetStrError(
                            `Failed To ${n ? "Delete" : "Cancel"}, check console`,
                          );
                      });
                },
              },
              Boolean(c)
                ? l.createElement(
                    "div",
                    { className: q.DeleteDialogBody },
                    l.createElement(
                      "div",
                      null,
                      l.createElement("img", {
                        src:
                          c.GetAssets().GetSmallCapsuleURL() ||
                          c.GetAssets().GetHeaderURL(),
                      }),
                    ),
                    l.createElement(
                      "span",
                      null,
                      "Name: ",
                      c.GetName(),
                      " (",
                      c.GetID(),
                      ")",
                    ),
                  )
                : l.createElement(x.V, {
                    size: "medium",
                    position: "center",
                    string: (0, O.Xx)("#Loading"),
                  }),
            );
      }
      var ee = a(15282),
        te = a(81033),
        ae = a(83831),
        ne = a(7492),
        ie = a(59350),
        re = a(36876),
        le = a(46984),
        se = a(71472),
        oe = a(80751),
        ce = a.n(oe),
        me = a(45492),
        de = a(97266),
        ue = a(64936),
        pe = a(59728),
        _e = a(72226),
        he = a(58538);
      function ge(e) {
        const { fnCreateCalendarEntries: t, nMaxWeeksToDisplay: a } = e,
          n = Math.ceil(a / Se) - 1,
          [i, r] = (0, se.Ar)("page", 0),
          s = i < 0 ? 0 : i >= n ? n : i,
          o = (0, F.wv)(ue.JW.GetTimeNowWithOverride()),
          [c, m] = l.useState(o + s * le._H.PerWeek * Se),
          d = (e) => {
            window.sessionStorage.setItem("dailyDealPageIndex", `?page=${e}`),
              r(e),
              m(o + e * le._H.PerWeek * Se);
          };
        return l.createElement(
          "div",
          { className: _e.CalendarGridCtn },
          l.createElement(
            "div",
            { className: _e.NavBar },
            l.createElement(
              "div",
              { className: _e.NavButtonLeftCtn },
              s > 0 &&
                l.createElement(
                  b.zx,
                  { className: _e.NavButton, onClick: () => d(s - 1) },
                  l.createElement(he.Ehc, { direction: "left" }),
                ),
            ),
            l.createElement(
              "div",
              { className: _e.NavButtonRightCtn },
              s < n &&
                l.createElement(
                  b.zx,
                  { className: _e.NavButton, onClick: () => d(s + 1) },
                  l.createElement(he.Ehc, { direction: "right" }),
                ),
            ),
          ),
          l.createElement(
            "div",
            { className: _e.CalendarGrid },
            l.createElement(Ee, null),
            t(c),
          ),
        );
      }
      function Ee() {
        const e = new Array();
        for (let t = 0; t < 7; ++t)
          e.push(
            l.createElement(
              "div",
              { className: _e.CalendarDate, key: "calheader_" + t },
              l.createElement(
                "div",
                { className: _e.DayOfTheWeek },
                (0, O.Xx)("#DailyDeals_Day_" + t),
              ),
            ),
          );
        return l.createElement("div", { className: _e.CalendarRow }, e);
      }
      const Se = 4;
      function ve(e) {
        return u.L7.is_support
          ? l.createElement(ge, {
              nMaxWeeksToDisplay: 1e3,
              fnCreateCalendarEntries: (e) => {
                const t = new Array();
                for (let a = 0; a < Se; ++a) {
                  const n = e + a * le._H.PerWeek;
                  t.push(
                    l.createElement(De, { key: "calrow" + a, rtFirstDay: n }),
                  );
                }
                return t;
              },
            })
          : null;
      }
      function De(e) {
        const { rtFirstDay: t } = e,
          a = new Array();
        for (let e = 0; e < 7; ++e) {
          const n = (0, F.Rf)(t + e * le._H.PerDay);
          a.push(l.createElement(ye, { key: "calday" + n, rtDay: n }));
        }
        return l.createElement(
          "div",
          { className: _e.CalendarRow },
          a.map((e) =>
            l.createElement(
              "div",
              { className: _e.CalendarDate, key: "col_" + e.key },
              e,
            ),
          ),
        );
      }
      function fe(e) {
        const { rtDay: t, children: a } = e,
          n = ue.JW.GetTimeNowWithOverride(),
          i = t < n,
          r = (0, F.Rf)(t) == (0, F.Rf)(n),
          s = (0, F.g8)(t);
        return l.createElement(
          "div",
          {
            className: (0, B.Z)({
              [_e.DealSection]: !0,
              [_e.PastEntry]: i && !r,
              [_e.TodayEntry]: r,
              [_e.FutureEntry]: !i && !r,
            }),
          },
          l.createElement("div", { className: _e.DayName }, s),
          a,
        );
      }
      function ye(e) {
        const { rtDay: t } = e,
          a = (0, h.nt)(t),
          n = ue.JW.GetTimeNowWithOverride(),
          i = new Array(),
          r = t < n,
          s = (0, F.Rf)(t) == (0, F.Rf)(n);
        if (!r || (s && u.L7.is_support))
          if (1 == a?.length && (0, h.W7)(a[0]))
            i.push(
              l.createElement(Ae, { key: "block_" + t, rtDay: t, bAdd: !1 }),
            );
          else {
            for (let e = a ? a.length : 0; e < 4; ++e)
              i.push(
                l.createElement(
                  "div",
                  {
                    key: "slot" + e,
                    className: (0, B.Z)(_e.DailyDealCtn, _e.Available),
                  },
                  l.createElement(
                    b.zx,
                    {
                      onClick: (e) => {
                        (0, N.AM)(
                          l.createElement(H.WR, { rtDay: t }),
                          (0, M.RA)(e),
                        );
                      },
                    },
                    (0, O.Xx)("#DailyDeals_Select"),
                  ),
                ),
              );
            (a && 0 != a?.length) ||
              i.push(
                l.createElement(Ae, { key: "block_" + t, rtDay: t, bAdd: !0 }),
              );
          }
        else
          s &&
            1 == a?.length &&
            (0, h.W7)(a[0]) &&
            i.push(
              l.createElement(Ae, { key: "block_" + t, rtDay: t, bAdd: !1 }),
            );
        return l.createElement(
          fe,
          { rtDay: t },
          a?.map((e) => l.createElement(be, { key: e.gid, oDailyDeal: e })),
          i,
        );
      }
      function be(e) {
        const { oDailyDeal: t } = e,
          a = (0, te.vc)(t.discount_event_id?.toString());
        if ((0, h.W7)(t)) {
          const e = a?.name || (0, O.Xx)(t.store_item_name);
          return l.createElement(
            "div",
            { className: _e.Blocked },
            l.createElement(
              pe.HP,
              { toolTipContent: (0, O.Xx)("#DailyDeals_Blackout_ttip") },
              e,
            ),
          );
        }
        const [n, i] = (0, F.K4)(t);
        return -1 == i
          ? l.createElement(
              "div",
              { className: (0, B.Z)(_e.DailyDealCtn, _e.Reserved) },
              t.store_item_name,
            )
          : l.createElement(Ce, { oDailyDeal: t });
      }
      function Ie(e) {
        const { oDailyDeal: t, bShowName: a } = e,
          [n, i] = (0, F.K4)(t),
          [r, s] = (0, D.jk)(n, i, {
            include_basic_info: !0,
            include_assets: !0,
          });
        return r || 2 == s
          ? l.createElement(
              l.Fragment,
              null,
              r?.GetAssets().GetHeaderURL()
                ? l.createElement("img", {
                    src: r.GetAssets().GetHeaderURL(),
                    className: _e.DailyDealImage,
                  })
                : l.createElement(
                    "div",
                    { className: _e.DailyDealImageFallback },
                    2 == i
                      ? (0, O.Xx)("#DailyDeals_Bundle")
                      : (0, O.Xx)("#DailyDeals_ImageMissing"),
                  ),
              Boolean(a) &&
                l.createElement(
                  "div",
                  null,
                  r?.GetName() || "unknown",
                  " (",
                  n,
                  ")",
                ),
              l.createElement(
                "div",
                null,
                l.createElement(j.SG, { oDailyDeal: t }),
                (0, F.lw)(t) &&
                  l.createElement(
                    pe.HP,
                    { toolTipContent: (0, F.$d)(t) },
                    l.createElement(
                      "div",
                      { className: _e.NotesIcon },
                      l.createElement(R.daM, null),
                    ),
                  ),
              ),
            )
          : l.createElement(
              "div",
              { className: _e.DailyDealCtn },
              l.createElement(x.V, {
                size: "small",
                position: "center",
                string: `Loading ${n}-${i}`,
              }),
            );
      }
      function Ce(e) {
        const { oDailyDeal: t } = e;
        return l.createElement(
          s.rU,
          {
            to: Lr.DailyDealEditor(t.gid),
            className: (0, B.Z)({ [_e.DailyDealCtn]: !0, [_e.Taken]: !0 }),
          },
          l.createElement(Ie, { ...e }),
        );
      }
      function ke(e) {
        const { rtDay: t, bAdd: a } = e,
          n = l.createRef(),
          i = (0, h.Oc)(),
          { rgMajorSaleDiscountEvents: r, eResult: s } = (0, te.zp)(!1),
          o = (0, l.useMemo)(() => {
            let e = [{ label: "", data: "0" }];
            return (
              r?.forEach((t) => {
                e = e.concat({ label: t.name, data: t.id });
              }),
              e
            );
          }, [r]);
        return l.createElement(
          T.uH,
          {
            strTitle: "Block out",
            onOK: () => i(t, a, parseInt(n.current?.state.value.data)),
            closeModal: e.closeModal,
            onCancel: e.closeModal,
            strDescription:
              "Are you sure you want to " +
              (a ? "add" : "remove") +
              " this block out date?  Block out prevents daily deals from being scheduled on this date: " +
              (0, O.$1)(t),
          },
          a &&
            l.createElement(
              "div",
              { className: _e.MajorSaleDropdown },
              l.createElement(b.ry, {
                strDefaultLabel: "",
                rgOptions: o,
                selectedOption: "0",
                label: "Major Sale",
                dropDownControlRef: n,
              }),
            ),
        );
      }
      function Ae(e) {
        const { rtDay: t, bAdd: a } = e;
        return l.createElement(
          b.zx,
          {
            onClick: (e) => {
              (0, N.AM)(
                l.createElement(ke, { rtDay: t, bAdd: a }),
                (0, M.RA)(e),
              );
            },
          },
          l.createElement(
            pe.HP,
            {
              toolTipContent:
                "Block out days prevent users or Admin from registering daily deals",
            },
            a ? "Block out day (VO)" : "Remove Block out",
          ),
        );
      }
      function we(e) {
        const [t, a] = l.useState(""),
          [n] = l.useState(new me.Ar()),
          [i, r] = l.useState(new Array()),
          [s, o] = l.useState(!1),
          c = l.useCallback(async (e) => {
            o(!0);
            const t = { json: 1, search: e },
              a = `${u.De.PARTNER_BASE_URL}promotion/dailydeals/ajaxsearcharchives`,
              n = await ce().get(a, { params: t, withCredentials: !0 });
            200 == n?.status &&
              1 == n.data?.success &&
              r(
                n.data.matches.sort(
                  (e, t) => t.rtime32_start_time - e.rtime32_start_time,
                ),
              ),
              o(!1);
          }, []),
          m = l.useCallback(
            (e) => {
              const t = e?.target?.value?.toLocaleLowerCase();
              if (t)
                if ((n.Cancel(), a(t), t.trim().length > 1)) {
                  const e = 1e3;
                  n.Schedule(e, () => c(t));
                } else n.Cancel();
            },
            [n, c],
          );
        return l.createElement(
          "div",
          { className: de.SearchCtn },
          l.createElement(
            "div",
            null,
            "Search Upcoming, Active, and Archived Daily Deals",
          ),
          l.createElement("hr", null),
          l.createElement(b.II, {
            type: "text",
            label: "Search",
            placeholder: "Enter Name or App ID (3 characters at least)",
            onChange: m,
            disabled: s,
          }),
          Boolean(s) &&
            l.createElement(x.V, { size: "small", position: "center" }),
          Boolean(t && i.length > 0)
            ? l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  { className: "DialogLabel" },
                  "Matching Results:",
                ),
                i.map((e) => l.createElement(Pe, { deal: e, key: e.gid })),
              )
            : l.createElement(
                "div",
                { className: "DialogLabel" },
                "No matching results",
              ),
        );
      }
      function Pe(e) {
        const { deal: t } = e,
          {
            nDiscountPercentHigh: a,
            dtDiscountStart: n,
            dtDiscountEnd: i,
          } = (0, h.Wp)(t);
        let r = l.useMemo(() => (0, h.sm)(t, a), [t, a]),
          s = null;
        return (
          r == h.O7.DealFailed &&
            (s = l.createElement(Ht, {
              strMessage: (0, O.Xx)("#DailyDeals_DealFailed"),
            })),
          r == h.O7.DealCompleted &&
            (s = l.createElement(
              Ht,
              null,
              l.createElement(Vt, {
                deal: t,
                eDealState: r,
                dtDiscountStart: n,
                dtDiscountEnd: i,
              }),
            )),
          r == h.O7.Cancelled &&
            (s = l.createElement(Ht, {
              strMessage: (0, O.Xx)("#DailyDeals_DealCancelled"),
            })),
          l.createElement(
            "div",
            { className: de.ResultRow },
            l.createElement(
              "div",
              {
                style: {
                  minWidth: "400px",
                  wordWrap: "break-word",
                  maxWidth: "400px",
                },
              },
              l.createElement(Ce, { oDailyDeal: t, bShowName: !0 }),
            ),
            l.createElement(
              "span",
              {
                style: { width: "200px", paddingLeft: 10, alignSelf: "center" },
              },
              (0, O.$1)(t.rtime32_start_time, !1),
            ),
            s,
          )
        );
      }
      var Te = a(47316),
        Ne = a.n(Te),
        Re = a(33687),
        Ge = a(95518),
        xe = a(62210),
        Le = a(82756),
        Be = a(46836),
        Me = a(16649),
        Oe = a(7073);
      const Fe = 4;
      function Ue(e) {
        const { strInviteID: t } = e,
          a = (0, re.Nt)(t),
          n = (0, Re.HN)(),
          i = (0, Oe.u3)(a.packageid),
          r = (0, Re.og)([a.appid], { bExcludeExpired: !1 }),
          { rgDiscountEvents: s, eResult: o } = (0, te.BS)(
            a.primary_partnerid,
            !0,
          ),
          c = l.useMemo(() => {
            let e = [];
            return (
              a?.appid
                ? (e = Ze(r?.get(a.appid), s))
                : a?.packageid && i?.length > 0
                  ? (e = Ze({ discounts: i }, s))
                  : a?.bundleid && n && (e = n),
              e
            );
          }, [a?.appid, a?.packageid, a?.bundleid, r, s, i, n]);
        return !a ||
          null == o ||
          (a.appid && !r) ||
          (a.packageid && !i) ||
          (a.bundleid && !n)
          ? l.createElement(x.V, {
              string: (0, O.Xx)("#DailyDeals_LoadingDiscountInfo"),
              size: "medium",
              position: "center",
            })
          : l.createElement(ge, {
              nMaxWeeksToDisplay: 26,
              fnCreateCalendarEntries: (e) => {
                const a = new Array();
                for (let n = 0; n < Se; ++n) {
                  const i = e + n * le._H.PerWeek;
                  a.push(
                    l.createElement(He, {
                      key: "calrow" + n,
                      rtFirstDay: i,
                      strInviteID: t,
                      rgDiscountConflict: c,
                    }),
                  );
                }
                return a;
              },
            });
      }
      function He(e) {
        const { rtFirstDay: t, strInviteID: a, rgDiscountConflict: n } = e,
          i = (0, re.Nt)(a),
          r = new Array();
        for (let e = 0; e < 7; ++e) {
          const s = (0, F.Rf)(t + e * le._H.PerDay);
          let o,
            c = "",
            m = !1,
            d = "",
            u = null;
          n.length > 0 &&
            n.forEach((e) => {
              e.rtConflictStart <= s && e.rtConflictEnd > s
                ? (i?.appid || i?.packageid) &&
                  e.rtDiscountStart <= s &&
                  s + le._H.PerDay <= e.rtDiscountEnd
                  ? (!o || e.nHighestDiscount > o) &&
                    ((o = e.nHighestDiscount),
                    (c = e.strDiscountName),
                    (m = e.bMajorSale))
                  : (d && (d += ", "),
                    (d += i?.bundleid
                      ? (0, O.Xx)("#DailyDeals_BundleCooldownConflict")
                      : e.description))
                : !u && e.rtConflictStart > s && (u = e);
            }),
            r.push(
              l.createElement(Ve, {
                key: "calday" + s,
                rtDay: s,
                nDiscount: o,
                bMajorSale: m,
                strInviteID: a,
                strConflict: d,
                strDiscountName: c,
                nextDiscount: u,
              }),
            );
        }
        return l.createElement(
          "div",
          { className: _e.CalendarRow },
          r.map((e) =>
            l.createElement(
              "div",
              { className: _e.CalendarDate, key: "col_" + e.key },
              e,
            ),
          ),
        );
      }
      function Ve(e) {
        const {
            rtDay: t,
            strInviteID: a,
            strConflict: n,
            nextDiscount: i,
            nDiscount: r,
            strDiscountName: s,
            bMajorSale: o,
          } = e,
          c = (0, h.nt)(t),
          m = (0, h.hc)(t),
          d = m?.filter((e) => e.eType == h.Lu.k_ScheduleSlot).length || 0,
          u = m?.find((e) => e.eType == h.Lu.k_BlockDate),
          p = Boolean(u),
          _ = c?.length || 0;
        let g = h.Ef;
        if (!n && i?.rtConflictStart) {
          const e = Math.floor(
            (i.rtConflictStart + le._H.PerHour - t) / le._H.PerDay,
          );
          (0, xe.X)(
            i.rtConflictStart > t && e > 0,
            "days until next cooldown conflict is not greater than 0",
          ),
            e > 0 && (g = Math.min(h.Ef, h.NB + (e - 1)));
        }
        const E = ue.JW.GetTimeNowWithOverride(),
          S = t > E,
          v = Fe - (_ + d),
          D = !n && S && !p && v > 0 && !o;
        return l.createElement(
          fe,
          { rtDay: t },
          l.createElement(je, { rgDailyDeals: c }),
          Boolean(D) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(qe, {
                nAvailableSlots: v,
                onClick: (e) => {
                  (0, N.AM)(
                    r
                      ? l.createElement(Xe, { rtDay: t, strInviteID: a })
                      : l.createElement(Be.zG, {
                          rtDay: t,
                          strInviteID: a,
                          nMaxDiscountDays: g,
                          nextDiscount: i,
                        }),
                    (0, M.RA)(e),
                  );
                },
              }),
              Boolean(r) &&
                l.createElement(
                  "div",
                  { className: _e.ExistingDiscountCtn },
                  l.createElement(
                    "div",
                    { className: _e.Title },
                    (0, O.Xx)("#DailyDeals_ExistingDiscount"),
                  ),
                  l.createElement("div", null, s),
                  l.createElement("div", null, r, " %"),
                ),
            ),
          Boolean(o) &&
            l.createElement(
              "div",
              { className: _e.ExistingDiscountCtn },
              l.createElement(
                "div",
                { className: _e.Title },
                (0, O.Xx)("#DailyDeals_ExistingDiscount"),
              ),
              l.createElement("div", null, s),
              l.createElement("div", null, r, " %"),
            ),
          Boolean(!D && S && n) && l.createElement(ze, { strConflict: n }),
          Boolean(!D && S && !n) &&
            l.createElement(We, { strReason: p ? u?.name : void 0 }),
        );
      }
      function Xe(e) {
        const { rtDay: t, strInviteID: a, closeModal: n } = e,
          i = (0, ne.Z)(),
          r = (0, re.Nt)(a),
          { fnAcceptInvitation: s } = (0, re.fZ)(),
          o = (0, I.tx)();
        if (!r)
          return l.createElement(T.JX, {
            strDescription: (0, O.Xx)("#DailyDeals_NoInvitation"),
            closeModal: n,
          });
        const c = (0, O.Xx)("#DailyDeals_CreateNew", (0, O.$1)(t));
        return o.bLoading
          ? l.createElement(I.NT, {
              state: o,
              strDialogTitle: c,
              closeModal: n,
            })
          : l.createElement(T.uH, {
              onCancel: n,
              strTitle: c,
              strDescription: (0, O.Xx)("#DailyDeals_ReuseDesc"),
              onOK: async () => {
                o.fnSetLoading(!0);
                let e = 1;
                if (i != r.primary_partnerid)
                  (e = 15),
                    console.error(
                      `AcceptInviteWithExistingDiscount: invite partner id ${r.primary_partnerid} does not match starting partnerid ${i}`,
                    );
                else
                  try {
                    e = (await s(a, t, 0, "", !0)).errorCode;
                  } catch (t) {
                    const a = (0, Me.l)(t);
                    console.error(
                      "AcceptInviteWithExistingDiscount hit error: " +
                        t.strErrorMsg,
                    ),
                      (e = a.errorCode);
                  }
                1 == e
                  ? o.fnSetSuccess(!0)
                  : (o.fnSetError(!0), o.fnSetStrError((0, Be.ST)(e)));
              },
            });
      }
      function je(e) {
        const { rgDailyDeals: t } = e;
        return l.createElement(
          l.Fragment,
          null,
          t?.map((e) =>
            l.createElement(
              "div",
              {
                key: e.gid,
                className: (0, B.Z)({
                  [_e.DailyDealCtn]: !0,
                  [_e.Taken]: !0,
                  [_e.InviteTaken]: !0,
                }),
              },
              l.createElement(Ie, { oDailyDeal: e }),
            ),
          ),
        );
      }
      function qe(e) {
        const { nAvailableSlots: t, onClick: a } = e;
        return l.createElement(
          "div",
          { className: (0, B.Z)(_e.DailyDealCtn, _e.Available) },
          l.createElement(
            "div",
            { className: _e.DailyDealAvailableSlots },
            (0, O.Xx)("#DailyDeals_NumAvailable", t),
          ),
          l.createElement(
            b.zx,
            { onClick: a },
            (0, O.Xx)("#DailyDeals_Select"),
          ),
        );
      }
      function We(e) {
        const { strReason: t } = e;
        return l.createElement(
          "div",
          { className: (0, B.Z)(_e.DailyDealCtn, _e.Blocked) },
          !!t && l.createElement("div", null, t),
          (0, O.Xx)("#DailyDeals_UnavailableDate"),
        );
      }
      function ze(e) {
        const { strConflict: t } = e;
        return l.createElement(
          pe.HP,
          {
            className: (0, B.Z)(_e.DailyDealCtn, _e.ConflictWarning),
            toolTipContent: t,
            direction: "top",
          },
          l.createElement(
            "div",
            null,
            (0, O.Xx)("#DiscountDashboard_ConflictWarning"),
          ),
          l.createElement(R.WWB, null),
        );
      }
      function Ze(e, t) {
        let a = new Array();
        const n = (h.NB - 1) * le._H.PerDay,
          i = n + Ge.Eh * le._H.PerDay,
          r = Ge.Eh * le._H.PerDay,
          l = Number.parseInt(
            "" + (0, Le.kQ)("most_recent_price_increase", "application_config"),
          );
        return (
          (0, F.Rf)(Math.floor(Date.now() / 1e3)) < l + Ge.LX &&
            a.push({
              rtConflictStart: l - i,
              rtConflictEnd: l + r,
              description: (0, O.Xx)("#DailyDeals_PriceIncrease"),
              bMajorSale: !1,
            }),
          e && !e.is_free && e.discounts && 0 != e.discounts.length
            ? (e.discounts.forEach((e) => {
                const l =
                  e.strDiscountName ??
                  (0, O.Xx)("#Existing_Discount", (0, O.$1)(e.rtStartDate));
                let s = !1;
                if (e.discountEventID && t) {
                  const a = t.find((t) => t.id == e.discountEventID);
                  a && (s = "unique" == a.collision_type);
                }
                a.push({
                  rtConflictStart: s ? e.rtStartDate - n : e.rtStartDate - i,
                  rtConflictEnd: s ? e.rtEndDate : e.rtEndDate + r,
                  description: l,
                  rtDiscountStart: e.rtStartDate,
                  rtDiscountEnd: e.rtEndDate,
                  nHighestDiscount: e.nDiscountPct,
                  strDiscountName: e.strDiscountName,
                  bMajorSale: s,
                });
              }),
              a.sort((e, t) => e.rtConflictStart - t.rtConflictStart),
              a)
            : a
        );
      }
      var Ke = a(3928),
        Qe = a(17597),
        Ye = a(82624),
        Je = a(68553),
        $e = a(37047),
        et = a(83179),
        tt = a(79270),
        at = a(42718);
      function nt(e) {
        const { closeModal: t, storeItemID: a, storeItemType: n } = e,
          [i, r] = l.useState(() => {
            const e = (0, v.Bo)(a, n);
            return Boolean(e) ? e : {};
          }),
          s = l.useMemo(() => (0, v.B_)(i), [i]),
          [o, c] = l.useState(30),
          [m, d] = l.useState(0),
          { fnCreatePromoInvite: u } = (0, re.LL)(),
          p = (0, at.useQueryClient)(),
          [_, h] = l.useState(0),
          g = (e) => {
            p.invalidateQueries((0, ie.df)(E)), h(e);
          },
          [E, S] = l.useState(null),
          D = Date.now() / 1e3,
          f = (0, tt.i)(),
          y = (0, ie.Nm)(E, f),
          C = [{ label: "", data: 0 }];
        y?.length > 0 &&
          y.forEach((e) => {
            C.push({ label: e.app_name, data: e.appid });
          });
        const k = (0, I.tx)();
        return k.bLoading
          ? l.createElement(I.NT, {
              state: k,
              strDialogTitle: "Send an Invitation",
              closeModal: t,
            })
          : l.createElement(
              T.uH,
              {
                strTitle: "Send an Invitation",
                strDescription:
                  "Search for a game, bundle, or package to send a Daily Deal invitation.",
                bOKDisabled: !(i.appid || i.bundleid || i.packageid) || !E,
                onOK: () => {
                  k.fnSetLoading(!0);
                  const e = {
                    type: 1,
                    oInviteItem: _ ? (0, v.Bo)(_, 0) : i,
                    rtExpireTime: (0, $e._)(D + o * le._H.PerDay),
                    nPartnerID: E,
                    bRequireSalePage: 0 != m,
                    eRequireSalePageType: m,
                  };
                  u(e)
                    .then((e) => {
                      1 == e
                        ? (k.fnSetStrSuccess(
                            "Invitation created! We sent an email to the users with communication permissions and publish app permission for the selected game. You can close this dialog.",
                          ),
                          k.fnSetSuccess(!0))
                        : 13 == e
                          ? (k.fnSetError(!0),
                            k.fnSetStrError(
                              "Unable to create invitation. The partner does not have a user set to receive communications.",
                            ))
                          : (k.fnSetError(!0),
                            k.fnSetStrError(
                              "Failed to create invitation - check console/network logs",
                            ));
                    })
                    .catch((e) => {
                      k.fnSetError(!0),
                        k.fnSetStrError(
                          "Failed to create invitation - check console/network logs",
                        );
                    });
                },
                onCancel: t,
              },
              l.createElement("br", null),
              l.createElement(
                "div",
                { className: Qe.DialogCtn },
                l.createElement(V.Ko, {
                  oChoice: i,
                  fnSetChoice: r,
                  bExcludeBundle: !1,
                  bExcludePackage: !1,
                }),
                Boolean((i.appid || i.bundleid || i.packageid) && !m) &&
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(H.uF, {
                      storeItemId: s?.id,
                      itemType: (0, v.GV)(s?.item_type),
                    }),
                    l.createElement(H.Ce, {
                      id: s?.id,
                      itemType: (0, v.GV)(s?.item_type),
                    }),
                  ),
                !!m && l.createElement("div", null, "Store Item ID: ", s?.id),
              ),
              l.createElement(
                "div",
                { className: Qe.DialogCtn },
                l.createElement(b.II, {
                  value: o,
                  label:
                    "Number of days that the invite is valid for (default is 30)",
                  min: "1",
                  max: "360",
                  type: "number",
                  onChange: (e) => c(Number.parseInt(e.currentTarget.value)),
                }),
              ),
              l.createElement(
                "div",
                { className: Qe.DialogCtn },
                l.createElement(b.ry, {
                  label: "Require a sale page?",
                  rgOptions: z.MZ,
                  selectedOption: m,
                  onChange: (e) => d(e.data),
                  contextMenuPositionOptions: { bDisablePopTop: !0 },
                }),
              ),
              Boolean(s) &&
                l.createElement(it, {
                  nPartnerIDToContact: E,
                  fnSetPartnerIDToContact: S,
                  storeItemKey: s,
                }),
              !!m &&
                l.createElement(
                  "div",
                  { className: Ne()(Qe.DialogCtn, Qe.AdvertisingAppSection) },
                  l.createElement(b.ry, {
                    label: "Advertising Apps",
                    rgOptions: C,
                    selectedOption: _,
                    onChange: (e) => h(e.data),
                    contextMenuPositionOptions: { bDisablePopTop: !0 },
                  }),
                  "or",
                  l.createElement(
                    b.zx,
                    {
                      onClick: () =>
                        (0, N.AM)(
                          l.createElement(rt, {
                            partnerID: E,
                            fnAppCreated: g,
                          }),
                          window,
                        ),
                    },
                    "Create One",
                  ),
                ),
            );
      }
      function it(e) {
        const {
          nPartnerIDToContact: t,
          fnSetPartnerIDToContact: a,
          storeItemKey: n,
        } = e;
        return l.createElement(
          "div",
          null,
          l.createElement(Ye.x, {
            nPartnerID: t,
            fnUpdatePartnerID: a,
            storeItemKey: n,
            autoSelectPartnerFromStoreItem: !0,
          }),
          l.createElement(Je.Z, { nPartnerID: t, storeItemFilter: n }),
        );
      }
      function rt(e) {
        const { closeModal: t, fnAppCreated: a, partnerID: n } = e,
          [i, r] = l.useState(""),
          [s, o] = l.useState(""),
          c = (0, et.zg)(i, n),
          [m, d] = l.useState(!1),
          u = l.useCallback(() => {
            d(!0),
              c
                .mutateAsync()
                .then((e) => {
                  e ? (a(e), t()) : o("Failed creating advertising app");
                })
                .catch((e) => {
                  o(
                    "Create advertising app failed " + (0, Me.l)(e).strErrorMsg,
                  );
                }),
              d(!1);
          }, [t, c, a]);
        return l.createElement(
          T.RG,
          { closeModal: t },
          l.createElement(b.h4, null, "Create Advertising App"),
          l.createElement(
            b.uT,
            null,
            l.createElement("br", null),
            l.createElement(b.II, {
              value: i,
              label: "Give it a name",
              type: "text",
              onChange: (e) => r(e.currentTarget.value),
            }),
            l.createElement("div", null, "Will create under partner ", n),
            m && l.createElement(x.V, { size: "small", position: "center" }),
            !!s && l.createElement("div", { style: { color: "red" } }, s),
          ),
          l.createElement(
            b.$_,
            null,
            l.createElement(b.o9, {
              onCancel: t,
              bOKDisabled: !i,
              onOK: u,
              strOKText: "Create",
            }),
          ),
        );
      }
      var lt = a(58509);
      function st(e) {
        return l.createElement(
          "div",
          { className: lt.InfoRow },
          l.createElement(
            "div",
            { className: lt.InfoSection },
            l.createElement(
              "div",
              { className: lt.Title },
              (0, O.Xx)("#DailyDeals_Info_How"),
            ),
            l.createElement(
              "div",
              null,
              (0, O.Xx)("#DailyDeals_Info_How_Overview"),
            ),
            l.createElement(
              "ul",
              null,
              l.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_How1")),
              l.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_How2")),
              l.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_How3")),
              l.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_How4")),
              l.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_How5")),
            ),
            l.createElement(
              "div",
              { className: lt.MoreInfo },
              (0, O.kQ)(
                "#DailyDeals_Info_Question",
                l.createElement(
                  "a",
                  {
                    href:
                      u.De.HELP_BASE_URL +
                      "en/wizard/HelpWithPublishing?issueid=919",
                  },
                  (0, O.Xx)("#DailyDeals_Info_Contact"),
                ),
              ),
            ),
          ),
          l.createElement(
            "div",
            { className: lt.InfoSection },
            l.createElement(
              "div",
              { className: lt.Title },
              (0, O.Xx)("#DailyDeals_Info_Best"),
            ),
            l.createElement(
              "ul",
              null,
              l.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_Best1")),
              l.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_Best2")),
            ),
            l.createElement(
              "div",
              { className: lt.MoreInfo },
              (0, O.yu)(
                "#DailyDeals_Info_Best_ReadMore",
                l.createElement("a", {
                  href: `${u.De.PARTNER_BASE_URL}doc/marketing/discounts/dailydeal`,
                  target: "_blank",
                }),
              ),
            ),
          ),
        );
      }
      function ot(e) {
        return l.createElement(
          "div",
          { className: lt.InfoRow },
          l.createElement(
            "div",
            { className: lt.InfoSection },
            l.createElement(
              "div",
              { className: lt.Title },
              (0, O.Xx)("#DailyDeals_Visibility"),
            ),
            l.createElement("img", {
              className: lt.DDVisibilityExample,
              src: "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/DailyDealVisibilityExample.jpg",
              alt: "Daily Deal Example",
            }),
          ),
        );
      }
      function ct() {
        return l.createElement(
          "div",
          { className: lt.PartnerFooter },
          l.createElement(st, null),
          l.createElement(ot, null),
        );
      }
      var mt = a(14609),
        dt = a(15690),
        ut = a(10816),
        pt = a(76330);
      const _t = 6;
      function ht(e) {
        const t = (0, re.Bd)(1),
          [a, n] = (0, l.useState)(""),
          [i, r] = (0, l.useState)(0),
          { rgAppIDs: s, rgBundleIDs: o } = (0, ie.lY)(null, t);
        (0, D.wZ)(s, ie.$N), (0, D.Jx)(o, ie.$N);
        const c = l.useMemo(() => {
            let e = new Set(t.map((e) => e.invite_account));
            return Array.from(e);
          }, [t]),
          m = l.useMemo(() => {
            let e = [];
            return (
              t.map((t) => {
                if (!(i > 0 && t.invite_account != i)) {
                  if (a?.trim().length > 0) {
                    const e = Number.parseInt(a);
                    let n = null;
                    if (
                      (t.appid
                        ? (n = dt.Z.Get().GetApp(t.appid))
                        : t.bundleid
                          ? (n = dt.Z.Get().GetBundle(t.bundleid))
                          : t.packageid &&
                            (n = dt.Z.Get().GetPackage(t.packageid)),
                      n &&
                        n.GetID() != e &&
                        !n.GetName().toLowerCase().includes(a.toLowerCase()))
                    )
                      return;
                  }
                  e.push(t);
                }
              }),
              e
            );
          }, [t, a, i]);
        return u.L7.is_support
          ? l.createElement(
              "div",
              { className: Ke.InvitedAppsCtn },
              l.createElement(
                "div",
                { className: Ke.InviteTitleCtn },
                l.createElement(
                  "div",
                  { className: Ke.InviteBtnCtn },
                  l.createElement(
                    b.KM,
                    {
                      onClick: (e) =>
                        (0, N.AM)(l.createElement(nt, null), (0, M.RA)(e)),
                    },
                    "Create New Invite...",
                  ),
                  l.createElement(
                    b.zx,
                    {
                      onClick: (e) =>
                        (0, mt.b8)(
                          e,
                          `${u.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard`,
                        ),
                    },
                    "Goto Invitation Planner →",
                  ),
                ),
              ),
              l.createElement(
                "div",
                { className: Ke.SearchCtn },
                l.createElement(b.II, {
                  className: Ke.SearchInput,
                  type: "string",
                  value: a,
                  placeholder: "Search name or id",
                  onChange: (e) => n(e.currentTarget.value),
                }),
                l.createElement(ut.$t, {
                  nAccountID: i,
                  rgAccountListFilter: c,
                  fnSetAccountFilter: r,
                  className: Ne()(Ke.ValveAccountDropdown),
                  rgAdditional: [{ data: null, label: "Sent by anyone" }],
                }),
              ),
              l.createElement("br", null),
              l.createElement("h2", null, "Outstanding Invitations"),
              m.map((e) =>
                l.createElement(
                  "div",
                  { key: "promo_" + e.inviteid },
                  l.createElement(
                    Mt,
                    { invite: e, containerClass: Ke.InviteItemAdminList },
                    l.createElement(vt, { promo: e }),
                  ),
                  l.createElement(
                    "div",
                    { className: Ke.ValveAdminInvitedBy },
                    "(VO) invited by ",
                    pt.J.find((t) => t.id == e.invite_account)?.displayName,
                  ),
                ),
              ),
            )
          : null;
      }
      function gt(e) {
        const { strInviteID: t } = e,
          a = (0, re.Nt)(t);
        return a
          ? 0 != a.rtdatechosen
            ? l.createElement(Et, {
                strMessage: (0, O.Xx)("#DailyDeals_InviteAlreadyAccepted"),
              })
            : a.rtexpiretime < Date.now() / 1e3
              ? l.createElement(Et, {
                  strMessage: (0, O.Xx)(
                    "#DailyDeals_InviteExpired",
                    (0, O.$1)(a.rtexpiretime),
                  ),
                })
              : l.createElement(
                  "div",
                  { className: Ne()(y().AdminPageCtn, "Partner") },
                  l.createElement(
                    "div",
                    { style: { paddingBottom: 20 } },
                    l.createElement(St, { promo: a }),
                  ),
                  l.createElement(Ue, { strInviteID: t }),
                  l.createElement(ct, null),
                )
          : l.createElement(Et, {
              strMessage: (0, O.Xx)("#DailyDeals_InvalidInvite"),
            });
      }
      function Et(e) {
        const { strMessage: t } = e;
        return l.createElement(
          "div",
          { className: Ke.InviteNotAvailableContainer },
          l.createElement("div", { className: Ke.WhyUnavailable }, t),
          l.createElement(
            "div",
            { className: Ke.ReturnToDashboard },
            (0, O.kQ)(
              "#DailyDeals_ReturnLink",
              l.createElement(
                "a",
                {
                  href: `${u.De.PARTNER_BASE_URL}promotion${Lr.DailyDealDashboard()}`,
                },
                (0, O.Xx)("#DailyDeals_Dashboard"),
              ),
            ),
          ),
        );
      }
      function St(e) {
        const { promo: t } = e,
          [a] = (0, ie.gL)(t);
        return l.createElement(
          "div",
          { className: Ke.InvitePageHeader },
          l.createElement(
            s.rU,
            { to: Lr.DailyDealPartnerDashboard("" + t.primary_partnerid) },
            (0, O.Xx)("#DailyDeals_Dashboard"),
          ),
          l.createElement(
            "div",
            { className: Ke.InviteTitle },
            (0, O.Xx)("#DailyDeals_Invite_Dashboard_Header"),
            l.createElement(
              "span",
              { className: Ke.InviteTitle_AppName },
              a?.GetName(),
            ),
          ),
          l.createElement("hr", null),
          l.createElement(
            "div",
            { className: Ke.InvitedAppCtn },
            l.createElement(Bt, { invite: t }),
            l.createElement(
              "div",
              { className: Ke.InvitedAppInfo },
              l.createElement(
                "div",
                null,
                (0, O.Xx)("#DailyDeals_Partner_InviteDesc_row1", _t),
              ),
              l.createElement(
                "div",
                null,
                (0, O.Xx)("#DailyDeals_Partner_InviteDesc_row2"),
              ),
              l.createElement(
                "div",
                null,
                (0, O.Xx)(
                  "#DailyDeals_Partner_InviteDesc_row3",
                  (0, O.$1)(t.rtexpiretime),
                ),
              ),
            ),
          ),
        );
      }
      function vt(e) {
        const { promo: t } = e;
        return l.createElement(
          "div",
          { className: Ke.InviteAdminButtons },
          l.createElement(
            b.zx,
            {
              onClick: (e) =>
                (0, N.AM)(l.createElement(Dt, { promo: t }), (0, M.RA)(e)),
            },
            "Cancel Invitation",
          ),
          l.createElement(
            b.zx,
            {
              onClick: (e) =>
                (0, N.AM)(l.createElement(ft, { promo: t }), (0, M.RA)(e)),
            },
            "Resend Invitation Email",
          ),
        );
      }
      function Dt(e) {
        const { promo: t, closeModal: a } = e,
          { fnCancelInvite: n } = (0, re.cw)(),
          i = (0, I.tx)();
        return i.bLoading
          ? l.createElement(I.NT, {
              state: i,
              strDialogTitle: "Cancel Promo Invitation",
              closeModal: a,
            })
          : l.createElement(T.uH, {
              strTitle: "Cancel Promo Invitation",
              strDescription:
                "Are you sure you want to cancel this invitation?  The Partner will no longer be able to schedule this promotion",
              onCancel: a,
              onOK: () => {
                i.fnSetLoading(!0),
                  n(t.inviteid)
                    .then((e) => {
                      e
                        ? (i.fnSetSuccess(!0),
                          i.fnSetStrSuccess(
                            "Invitation is now cancelled.  You can close this dialog.",
                          ))
                        : (i.fnSetError(!0),
                          i.fnSetStrError(
                            "Failed to cancel invitation. Please check console for errors",
                          ));
                    })
                    .catch(() => {
                      i.fnSetError(!0),
                        i.fnSetStrError(
                          "Failed to cancel invitation. Please check console for errors",
                        );
                    });
              },
            });
      }
      function ft(e) {
        const { promo: t, closeModal: a } = e,
          { fnResendInvitationEmail: n } = (0, re.wF)(),
          i = (0, I.tx)();
        return i.bLoading
          ? l.createElement(I.NT, {
              state: i,
              strDialogTitle: "Resend Invitation Email",
              closeModal: a,
            })
          : l.createElement(T.uH, {
              strTitle: "Resend Invitation Email",
              strDescription:
                "Are you sure you want to re-send this email? It will fire to the partner associated with the app to their user who opted in to receive communication",
              onCancel: a,
              onOK: () => {
                i.fnSetLoading(!0),
                  n(t.inviteid)
                    .then((e) => {
                      e
                        ? (i.fnSetSuccess(!0),
                          i.fnSetStrSuccess(
                            "Email has fired. You can close this dialog",
                          ))
                        : (i.fnSetError(!0),
                          i.fnSetStrError(
                            "Failed to resend invitation email. Please check console for errors",
                          ));
                    })
                    .catch(() => {
                      i.fnSetError(!0),
                        i.fnSetStrError(
                          "Failed to resend invitation email. Please check console for errors",
                        );
                    });
              },
            });
      }
      class yt {
        m_promotionStats = null;
        GetPromotionStats() {
          return this.m_promotionStats;
        }
        static s_Singleton;
        static Get() {
          return (
            yt.s_Singleton ||
              ((yt.s_Singleton = new yt()),
              yt.s_Singleton.Init(),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_PromoStatsStore = yt.s_Singleton)),
            yt.s_Singleton
          );
        }
        Init() {
          this.m_promotionStats = (0, u.kQ)(
            "promotion_stats",
            "application_config",
          );
        }
      }
      var bt = a(89183),
        It = a.n(bt);
      function Ct() {
        const e = yt.Get().GetPromotionStats();
        if (!e) return null;
        const t = e.daily_deal_total_slots ?? 0,
          a = e.daily_deal_scheduled ?? 0,
          n = e.daily_deal_open_invites ?? 0,
          i = e.daily_deal_pct_available ?? 0,
          r = e.daily_deal_pct_minus_invites ?? 0,
          s = e.daily_deal_calendar_days_available ?? 0;
        let o = Math.trunc(0.7 * t) - (a + n);
        const c =
            o > 0
              ? l.createElement(
                  "div",
                  null,
                  l.createElement("span", { className: It().MaxInvites }, o),
                  " spots available (?)",
                )
              : l.createElement(
                  "div",
                  { className: It().FullyBooked },
                  "Please wait to send additional invites (?)",
                ),
          m = l.createElement(
            "div",
            { className: It().TooltipContainer },
            "Scheduled Daily Deals: ",
            l.createElement("b", null, a),
            l.createElement("br", null),
            "Outstanding invites: ",
            l.createElement("b", null, n),
            l.createElement("br", null),
            "Slots available: ",
            l.createElement("b", null, t - a, "/", t, " (", i, "%)"),
            l.createElement("br", null),
            "Slots available if all invites accept: ",
            l.createElement("b", null, t - a - n, "/", t, " (", r, "%)"),
            l.createElement("br", null),
            "Calendar days available to invites: ",
            l.createElement("b", null, s),
            l.createElement("br", null),
          );
        return l.createElement(
          "div",
          { className: It().PromotionPlanningStatsContainer },
          l.createElement(
            pe.HP,
            { toolTipContent: m, direction: "top", bTopmost: !0 },
            c,
          ),
        );
      }
      function kt() {
        const [e, t] = (0, se.Ar)("tab", "calendar"),
          a = (e) => t(e.key),
          n = [
            {
              name: "Calendar",
              key: "calendar",
              contents: l.createElement(C.SV, null, l.createElement(ve, null)),
              onClick: a,
            },
            {
              name: "Invitation",
              key: "invites",
              contents: l.createElement(C.SV, null, l.createElement(ht, null)),
              onClick: a,
            },
            {
              name: "Search",
              key: "search",
              contents: l.createElement(C.SV, null, l.createElement(we, null)),
              onClick: a,
            },
          ];
        return l.createElement(
          "div",
          { className: y().AdminPageCtn },
          l.createElement(
            "div",
            { className: y().PageTitle },
            "Daily Deal Scheduler (VO)",
          ),
          l.createElement(
            "div",
            { style: { display: "flex", justifyContent: "space-between" } },
            l.createElement(
              "div",
              null,
              "This view is Valve-only. To see the view as a partner, simply append a partnerID to the end of the URL",
            ),
            l.createElement(Ct, null),
          ),
          l.createElement("hr", { className: "VO" }),
          l.createElement(G.n, { tabs: n, startingTab: e }),
        );
      }
      var At = a(14717),
        wt = a(12015),
        Pt = a(92012);
      function Tt(e) {
        const [t, a] = (0, i.wH)(),
          n = (0, ne.Z)(),
          r = !n && u.L7.is_support;
        return (
          l.useEffect(() => a(), [a]),
          l.createElement(
            C.SV,
            null,
            Boolean(r)
              ? l.createElement(kt, null)
              : l.createElement(Nt, { strPublisherID: n.toString() }),
          )
        );
      }
      function Nt(e) {
        const { strPublisherID: t } = e,
          a = (0, re.Bd)(1),
          n = Number.parseInt(t),
          [i] = (0, ae.DV)(n),
          r = (0, h.Mg)(),
          [s, o] = (0, l.useMemo)(() => {
            let e = new Array(),
              t = new Array();
            const n = Date.now() / 1e3;
            return (
              a.forEach((a) => {
                !a.cancelled && !a.rtaccepttime && a.rtexpiretime > n
                  ? e.push(a)
                  : t.push(a);
              }),
              [e, t]
            );
          }, [a]),
          c = (0, h.hx)(r),
          [m, d, u] = (0, l.useMemo)(() => {
            let e = new Array(),
              t = new Array(),
              a = new Array();
            const n = Date.now() / 1e3;
            return (
              r.forEach((i, r) => {
                if (i.store_item_id) {
                  const { nDiscountPercentHigh: l } = c[r],
                    s = (0, te.fH)(i.discount_event_id.toString());
                  !i.cancelled && 0 == l && i.rtime32_start_time > n
                    ? t.push(i)
                    : i.cancelled ||
                        s?.end_date < n ||
                        (!s && i.rtime32_start_time + le._H.PerDay < n)
                      ? a.push(i)
                      : e.push(i);
                }
              }),
              [t, e, a]
            );
          }, [r, c]);
        return n
          ? !c && r?.length > 0
            ? l.createElement(x.V, {
                string: (0, O.Xx)("#DailyDeals_LoadingDiscountInfo"),
                size: "medium",
                position: "center",
              })
            : l.createElement(
                "div",
                { className: (0, B.Z)(y().AdminPageCtn, "Partner") },
                l.createElement(
                  "div",
                  { className: y().PageTitle },
                  i?.name
                    ? (0, O.kQ)(
                        "#DailyDeals_Dashboard_Partner_Title",
                        l.createElement("span", null, i.name),
                      )
                    : (0, O.Xx)("#DailyDeals_Dashboard"),
                  " ",
                  l.createElement(
                    "div",
                    { className: y().Beta },
                    (0, O.Xx)("#NewToolTitleSuffix_Beta"),
                  ),
                ),
                l.createElement("hr", null),
                l.createElement(Rt, {
                  rgInvites: s,
                  rgIncompleteDeals: m,
                  strPublisherID: t,
                }),
                l.createElement(Gt, { rgDeals: d, strPublisherID: t }),
                l.createElement(xt, {
                  rgInvites: o,
                  rgDeals: u,
                  strPublisherID: t,
                }),
                l.createElement(ct, null),
              )
          : l.createElement(
              "div",
              null,
              (0, O.Xx)("#DailyDeals_InvalidPartner"),
            );
      }
      function Rt(e) {
        const { rgInvites: t, rgIncompleteDeals: a, strPublisherID: n } = e;
        return 0 == t.length && 0 == a.length
          ? l.createElement(
              "div",
              null,
              l.createElement(
                "div",
                { className: At.PartnerDashboard_InvitationHeader },
                (0, O.Xx)("#DailyDeals_PartnerDashboard_Invitations"),
              ),
              l.createElement(
                "div",
                { className: At.PartnerDashboard_NoInvites },
                (0, O.yu)(
                  "#DailyDeals_PartnerDashboard_NoInvites",
                  l.createElement("a", {
                    href: `${u.De.PARTNER_BASE_URL}doc/marketing/discounts/dailydeal`,
                    target: "_blank",
                  }),
                ),
              ),
            )
          : l.createElement(
              "div",
              null,
              l.createElement(
                "div",
                { className: At.PartnerDashboard_InvitationHeader },
                (0, O.Xx)("#DailyDeals_PartnerDashboard_Incomplete"),
                l.createElement(
                  "span",
                  { className: At.PartnerDashboard_Incomplete_Description },
                  (0, O.Xx)(
                    "#DailyDeals_PartnerDashboard_Incomplete_Description",
                  ),
                ),
              ),
              t.map((e) =>
                l.createElement(Mt, {
                  key: "invite_" + e.inviteid,
                  strPublisherID: n,
                  invite: e,
                  containerClass: At.PartnerDashboard_Invite,
                }),
              ),
              a.map((e) =>
                l.createElement(Lt, {
                  key: "inc_" + e.gid,
                  deal: e,
                  strPublisherID: n,
                }),
              ),
            );
      }
      function Gt(e) {
        const { rgDeals: t, strPublisherID: a } = e;
        return l.createElement(
          "div",
          null,
          l.createElement(
            "div",
            { className: At.PartnerDashboard_ScheduledHeader },
            (0, O.Xx)("#DailyDeals_PartnerDashboard_Scheduled"),
          ),
          0 == t.length
            ? l.createElement(
                "div",
                { className: At.PartnerDashboard_NoInvites },
                (0, O.Xx)("#DailyDeals_PartnerDashboard_NoScheduled"),
              )
            : l.createElement(
                l.Fragment,
                null,
                t.map((e) =>
                  l.createElement(Lt, {
                    key: "ud_" + e.gid,
                    deal: e,
                    strPublisherID: a,
                  }),
                ),
              ),
        );
      }
      function xt(e) {
        const { rgInvites: t, rgDeals: a, strPublisherID: n } = e;
        return 0 == t.length && 0 == a.length
          ? null
          : l.createElement(
              "div",
              null,
              l.createElement(
                L.ug,
                {
                  bStartMinimized: !0,
                  title: (0, O.Xx)(
                    "#DailyDeals_PartnerDashboard_Archive",
                    t.length + a.length,
                  ),
                  className: At.PartnerDashboard_ArchiveHeader,
                },
                a.map((e) =>
                  l.createElement(Lt, {
                    key: "ud_" + e.gid,
                    deal: e,
                    strPublisherID: n,
                  }),
                ),
                t.map((e) =>
                  l.createElement(Mt, {
                    key: "invite_" + e.inviteid,
                    invite: e,
                    strPublisherID: n,
                  }),
                ),
              ),
            );
      }
      function Lt(e) {
        const { deal: t, strPublisherID: a } = e,
          { nDiscountPercentHigh: n } = (0, h.Wp)(t),
          i = l.useMemo(() => (0, h.sm)(t, n), [t, n]),
          [r] = (0, D.jk)(t.store_item_id, (0, F.Kd)(t.store_item_type), {
            include_assets: !0,
          });
        return r
          ? l.createElement(
              "div",
              {
                className: (0, B.Z)(
                  At.DailyDeal_Container,
                  i == h.O7.Cancelled ? At.Cancelled : "",
                ),
              },
              l.createElement("img", {
                src: r.GetAssets().GetHeaderURL(),
                alt: (0, O.Xx)("#DailyDeals_HeaderArtMissing", r.GetName()),
              }),
              l.createElement(Ft, { deal: t, strPublisherID: a }),
            )
          : l.createElement(x.V, {
              string: (0, O.Xx)("#Loading"),
              size: "small",
              position: "center",
            });
      }
      function Bt(e) {
        const { invite: t } = e,
          [a, n] = (0, ie.gL)(t);
        let i = u.De.PARTNER_BASE_URL;
        return (
          t.appid
            ? (i += "apps/landing/" + t.appid)
            : t.bundleid
              ? (i += "bundles/view/" + t.bundleid)
              : t.packageid && (i += "store/packagelanding/" + t.packageid),
          a
            ? l.createElement(
                "a",
                { href: i },
                l.createElement("img", {
                  src: a.GetAssets().GetHeaderURL(),
                  alt: (0, O.Xx)("#DailyDeals_HeaderArtMissing", a.GetName()),
                }),
              )
            : t.bundleid && 2 == n
              ? l.createElement(
                  "a",
                  { href: i },
                  (0, O.Xx)("#DailyDeals_Bundle"),
                  " ",
                  t.bundleid,
                )
              : t.appid && 2 == n
                ? l.createElement(
                    "a",
                    { href: i },
                    (0, O.Xx)("#DailyDeals_App"),
                    " ",
                    t.appid,
                  )
                : (t.packageid &&
                    2 == n &&
                    console.error("Unavailable store package:", t.packageid),
                  l.createElement(x.V, {
                    string: (0, O.Xx)("#Loading"),
                    size: "small",
                    position: "center",
                  }))
        );
      }
      function Mt(e) {
        const {
            strPublisherID: t,
            invite: a,
            containerClass: n,
            children: i,
          } = e,
          r = l.useMemo(() => (0, re.tN)(a), [a]);
        return l.createElement(
          "div",
          {
            className: (0, B.Z)(
              At.DailyDeal_Container,
              n,
              r == h.O7.Cancelled || r == h.O7.InviteExpired
                ? At.Cancelled
                : "",
            ),
          },
          l.createElement(Bt, { invite: a }),
          l.createElement(Ot, { invite: a, strPublisherID: t }, i),
        );
      }
      function Ot(e) {
        const { invite: t, strPublisherID: a, children: n } = e,
          i = l.useMemo(() => (0, re.tN)(t), [t]);
        if (i == h.O7.Unknown) return null;
        if (i == h.O7.InviteExpired)
          return l.createElement(Ht, {
            strMessage: (0, O.Xx)(
              "#DailyDeals_InviteExpired",
              (0, Be.eS)(t?.rtexpiretime),
            ),
          });
        if (i == h.O7.Cancelled)
          return l.createElement(Ht, {
            strMessage: (0, O.Xx)("#DailyDeals_InviteCancelled"),
          });
        let r = null,
          s = null;
        const o = () => {
          window.location.assign(
            `${u.De.PARTNER_BASE_URL}promotion${Lr.DailyDealInviteDashboard(t?.inviteid.toString())}`,
          );
        };
        return (
          i == h.O7.InviteActive
            ? ((r = l.createElement(
                b.zx,
                { className: At.DailyDealButton, onClick: o },
                (0, O.Xx)("#DailyDeals_PickDate"),
              )),
              (s = l.createElement(
                b.zx,
                {
                  className: (0, B.Z)(At.DailyDealButton, At.Disabled),
                  disabled: !0,
                },
                (0, O.Xx)("#DailyDeals_Button_MustFirstPickDate"),
              )))
            : i == h.O7.InviteAccepted &&
              (r = l.createElement(
                "div",
                null,
                (0, O.Xx)("#DailyDeals_Invite_Accepted"),
              )),
          l.createElement(
            Ut,
            { inviteBody: r, discountBody: s, invite: t, displayState: i },
            n,
          )
        );
      }
      function Ft(e) {
        const { deal: t, strPublisherID: a, children: n } = e,
          {
            nDiscountPercentHigh: i,
            dtDiscountStart: s,
            dtDiscountEnd: o,
          } = (0, h.Wp)(t);
        let c = l.useMemo(() => (0, h.sm)(t, i), [t, i]);
        if (!t) return null;
        if (c == h.O7.DealFailed)
          return l.createElement(Ht, {
            strMessage: (0, O.Xx)("#DailyDeals_DealFailed"),
          });
        if (c == h.O7.DealCompleted)
          return l.createElement(
            Ht,
            null,
            l.createElement(Vt, {
              deal: t,
              eDealState: c,
              dtDiscountStart: s,
              dtDiscountEnd: o,
            }),
          );
        if (c == h.O7.Cancelled)
          return l.createElement(Ht, {
            strMessage: (0, O.Xx)("#DailyDeals_DealCancelled"),
          });
        let m = null,
          d = null;
        const p = `${u.De.PARTNER_BASE_URL}promotion/discounts${r.G.DiscountDashboard(a ?? "")}?de=${t.discount_event_id}&dd=1`;
        switch (c) {
          case h.O7.InviteAccepted:
            (m = l.createElement(
              "div",
              { className: At.FeaturedDate },
              l.createElement(Be.Ai, { rtime: t.rtime32_start_time }),
            )),
              (d = l.createElement(
                b.zx,
                {
                  className: At.DailyDealButton,
                  onClick: () => window.location.assign(p),
                },
                (0, O.Xx)("#DailyDeals_Button_EnterDiscounts"),
              ));
            break;
          case h.O7.DealReady:
            (m = l.createElement(Vt, {
              deal: t,
              eDealState: c,
              dtDiscountStart: s,
              dtDiscountEnd: o,
            })),
              (d = l.createElement(
                "div",
                { className: At.DiscountButtonRow },
                l.createElement(
                  "div",
                  { className: (0, B.Z)(At.DiscountPercentage) },
                  l.createElement(j.SG, { oDailyDeal: t }),
                ),
                l.createElement(
                  b.zx,
                  {
                    className: (0, B.Z)(At.DailyDealButton, At.EditDiscounts),
                    onClick: () => window.location.assign(p),
                  },
                  (0, O.Xx)("#DailyDeals_Button_EditDiscounts"),
                ),
              ));
            break;
          case h.O7.DealLive:
            (m = l.createElement(Vt, {
              deal: t,
              eDealState: c,
              dtDiscountStart: s,
              dtDiscountEnd: o,
            })),
              (d = l.createElement(
                b.zx,
                {
                  className: (0, B.Z)(
                    At.DailyDealButton,
                    At.DiscountPercentage,
                  ),
                  disabled: !0,
                },
                l.createElement(j.SG, { oDailyDeal: t }),
              ));
        }
        return l.createElement(
          Ut,
          { inviteBody: m, discountBody: d, displayState: c, deal: t },
          n,
        );
      }
      function Ut(e) {
        const {
            inviteBody: t,
            discountBody: a,
            invite: n,
            displayState: i,
            children: r,
            deal: s,
          } = e,
          o = n?.rtexpiretime
            ? (0, O.Xx)(
                "#DailyDeals_Checkbox_PickDate_By",
                (0, Be.eS)(n.rtexpiretime),
              )
            : (0, O.Xx)("#DailyDeals_PickDate"),
          c =
            i >= h.O7.InviteAccepted
              ? l.createElement(b.ji, {
                  className: (0, B.Z)(At.DailyDealCheckbox),
                  label: o,
                  checked: !0,
                  disabled: !0,
                })
              : l.createElement(
                  "div",
                  { className: (0, B.Z)(At.DailyDealTitle, At.Orange) },
                  o,
                ),
          m = (0, O.Xx)("#DailyDeals_Checkbox_EnterDiscount"),
          d =
            i >= h.O7.DealReady
              ? l.createElement(b.ji, {
                  className: (0, B.Z)(At.DailyDealCheckbox),
                  label: m,
                  checked: !0,
                  disabled: !0,
                })
              : l.createElement(
                  "div",
                  { className: (0, B.Z)(At.DailyDealTitle, At.Orange) },
                  m,
                );
        let p = null,
          _ = "";
        if (s?.partner_jsondata) {
          const e = JSON.parse(s.partner_jsondata);
          if (e && e.require_sale_page) {
            const t = e.require_sale_page_type || 1;
            (p = l.createElement(jt, { deal: s, eRequireSalePageType: t })),
              (_ = qt(t));
          }
        } else if (n?.require_sale_page) {
          const e = n.require_sale_page_type || 1;
          (p = l.createElement(jt, { eRequireSalePageType: e })), (_ = qt(e));
        }
        return l.createElement(
          "div",
          { className: At.DailyDealStatusContainer },
          l.createElement(
            "div",
            { className: At.Column },
            c,
            l.createElement("div", { className: At.InviteBody }, t),
          ),
          !!p &&
            l.createElement(
              "div",
              { className: At.Column },
              l.createElement(
                "div",
                { className: (0, B.Z)(At.DailyDealTitle, At.Orange) },
                _,
              ),
              l.createElement("div", { className: At.SalePageBody }, p),
            ),
          l.createElement(
            "div",
            { className: At.Column },
            d,
            l.createElement("div", { className: At.DiscountBody }, a),
          ),
          r,
          Boolean(u.L7.is_support && s) &&
            l.createElement(
              "a",
              {
                className: P().ValveOnlyAdminBackground,
                href: `${u.De.PARTNER_BASE_URL}promotion/dailydeals/edit/${s.gid}`,
              },
              "Edit Deal (VO)",
            ),
        );
      }
      function Ht(e) {
        const { strMessage: t, children: a } = e;
        return l.createElement(
          "div",
          { className: At.DailyDealStatusContainer },
          l.createElement(
            "div",
            { className: (0, B.Z)(At.Column, At.BasicResult) },
            !!t && l.createElement("div", null, t),
            a,
          ),
        );
      }
      function Vt(e) {
        const {
          deal: t,
          eDealState: a,
          dtDiscountStart: n,
          dtDiscountEnd: i,
        } = e;
        let r = null;
        return (
          (r =
            a == h.O7.DealLive
              ? l.createElement(
                  "div",
                  { className: At.Orange },
                  (0, O.Xx)("#DailyDeals_ActiveDeal"),
                )
              : l.createElement(Be.Ai, {
                  rtime: t.rtime32_start_time,
                  locTokenLocalTime: "#DailyDeals_Feature_Date",
                })),
          l.createElement(
            "div",
            null,
            l.createElement("div", { className: At.FeaturedDate }, r),
            l.createElement(
              "div",
              null,
              (0, O.Xx)(
                "#DailyDeals_Discount_Dates",
                (0, O.$1)(n),
                (0, O.$1)(i),
              ),
            ),
          )
        );
      }
      function Xt(e) {
        const {
            closeModal: t,
            deal: a,
            clanID: n,
            clanName: i,
            eRequireSalePageType: r,
          } = e,
          s = (0, at.useQueryClient)(),
          [o, c] = (0, l.useState)(a.rtime32_start_time),
          [m, d] = (0, l.useState)(a.rtime32_start_time + le._H.PerWeek),
          p = Math.floor(Date.now() / 1e3),
          [_, g] = (0, l.useState)(""),
          { fnSetDailyDealSalePage: E } = (0, h.oQ)(),
          S = (0, ne.Z)(),
          [v, D] = l.useState(!1);
        return l.createElement(
          T.RG,
          { onCancel: t },
          l.createElement(
            b.h4,
            null,
            (function (e) {
              switch (e) {
                case 1:
                  return (0, O.Xx)(
                    "#DailyDeals_CreateSalePage_Title_Publisher",
                  );
                case 2:
                  return (0, O.Xx)("#DailyDeals_CreateSalePage_Title_Showcase");
                case 4:
                  return (0, O.Xx)("#DailyDeals_CreateSalePage_Title_Theme");
                case 3:
                  return (0, O.Xx)("#DailyDeals_CreateSalePage_Title_Region");
                case 0:
                  return "";
              }
            })(r),
          ),
          l.createElement(
            b.uT,
            null,
            l.createElement(
              "div",
              { className: At.CreateSalePageBody },
              l.createElement(
                "div",
                null,
                (0, O.Xx)("#DailyDeals_SalePage_CreatorHome_Label"),
                ": ",
                i,
              ),
              l.createElement(
                "div",
                { className: At.CreateSalePageStartDate },
                l.createElement(Pt.A, {
                  bShowTimeZone: !0,
                  fnIsValidDateTime: () => o <= a.rtime32_start_time,
                  strDescription: (0, O.Xx)("#DailyDeals_SalePage_SaleStart"),
                  nEarliestTime: p,
                  fnGetTimeToUpdate: () => o,
                  fnSetTimeToUpdate: c,
                }),
              ),
              l.createElement(
                "div",
                { className: At.CreateSalePageEndDate },
                l.createElement(Pt.A, {
                  bShowTimeZone: !0,
                  fnIsValidDateTime: () =>
                    m >= a.rtime32_start_time + le._H.PerDay,
                  strDescription: (0, O.Xx)("#DailyDeals_SalePage_SaleEnd"),
                  nEarliestTime: p,
                  fnGetTimeToUpdate: () => m,
                  fnSetTimeToUpdate: d,
                }),
              ),
              !!_ &&
                l.createElement(
                  "div",
                  { className: At.CreateSalePageError },
                  _,
                ),
              v &&
                l.createElement(x.V, {
                  className: At.InProgressThrobber,
                  size: "small",
                }),
            ),
          ),
          l.createElement(
            b.$_,
            null,
            l.createElement(b.o9, {
              onCancel: t,
              onOK: async () => {
                D(!0);
                const e = await E(a.gid, S, n, o, m);
                D(!1),
                  e
                    ? (s.invalidateQueries((0, ie.rt)(u.L7.accountid)), t())
                    : g(
                        (0, O.Xx)("#DailyDeals_SalePage_ErrorCreatingSalePage"),
                      );
              },
              strOKText: (0, O.Xx)("#Button_Continue"),
            }),
          ),
        );
      }
      function jt(e) {
        const { deal: t, eRequireSalePageType: a } = e,
          n = (0, at.useQueryClient)(),
          { fnSetDailyDealSalePage: i } = (0, h.oQ)(),
          r = (0, tt.i)(),
          s = (0, ne.Z)(),
          o = (0, ie.sD)(u.L7.accountid, r),
          [c, m] = (0, l.useState)(
            JSON.parse(t?.partner_jsondata ?? "{}").sale_clan_account ?? 0,
          ),
          d = (0, l.useMemo)(
            () => o?.find((e) => e.clan_account_id == c),
            [o, c],
          ),
          [p, _] = (0, l.useState)(
            JSON.parse(t?.partner_jsondata ?? "{}").sale_clan_event_gid ?? "",
          ),
          g = u.De.PARTNER_BASE_URL + "doc/store/creator_homepage",
          E = (0, l.useMemo)(
            () =>
              o
                ? o.map((e) => ({
                    label: e.clan_name,
                    data: e.clan_account_id.toString(),
                  }))
                : [],
            [o],
          ),
          S = (0, l.useMemo)(() => {
            const e = o?.find((e) => e.clan_account_id == c);
            if (e) {
              let n = e.sale_pages
                .filter(
                  (e) =>
                    e.start_time <= t?.rtime32_start_time &&
                    e.end_time > t?.rtime32_start_time + le._H.PerDay &&
                    (!a || e.external_sale_event_type == a),
                )
                .map((e) => ({ label: e.name, data: e.gid_clan_event }));
              return (
                n.length && n.push({ label: "", data: "" }),
                p &&
                  !n.find((e) => e.data == p) &&
                  n.push({ label: p, data: p }),
                n
              );
            }
            return [];
          }, [t?.rtime32_start_time, o, c, p, a]);
        return t
          ? !c || !p || (o?.length && o?.find((e) => e.clan_account_id == c))
            ? o?.length
              ? l.createElement(
                  "div",
                  { className: At.SalePageContainer },
                  l.createElement(
                    "div",
                    { className: At.SalePageLabel },
                    (0, O.Xx)("#DailyDeals_SalePage_CreatorHome_Label"),
                  ),
                  l.createElement(
                    "div",
                    { className: At.GroupDropdown },
                    l.createElement(b.TW, {
                      selectedOption: c.toString(),
                      menuLabel: "clan",
                      rgOptions: E,
                      onChange: (e) => m(parseInt(e.data)),
                    }),
                  ),
                  !!c &&
                    !!S.length &&
                    l.createElement(
                      l.Fragment,
                      null,
                      l.createElement(
                        "div",
                        { className: At.SalePageLabel },
                        (0, O.Xx)("#DailyDeals_SalePage_SalePage_Label"),
                      ),
                      l.createElement(
                        "div",
                        { className: At.SalePageDropdown },
                        l.createElement(b.TW, {
                          selectedOption: p.toString(),
                          menuLabel: "salepage",
                          rgOptions: S,
                          onChange: (e) =>
                            ((e) => {
                              if (e == p) return;
                              _(e);
                              const a = o
                                .find((e) => e.clan_account_id == c)
                                ?.sale_pages?.find(
                                  (t) => t.gid_clan_event == e,
                                );
                              a
                                ? (i(
                                    t.gid,
                                    s,
                                    c,
                                    a.start_time,
                                    a.end_time,
                                    a.gid_clan_event,
                                  ),
                                  n.invalidateQueries(
                                    (0, ie.rt)(u.L7.accountid),
                                  ))
                                : (0, wt.F0)(
                                    "Daily Deals - failed to set the daily deal sale page.  Unexpected error loading sale page id:" +
                                      e,
                                  );
                            })(e.data),
                        }),
                      ),
                    ),
                  !!c &&
                    !p &&
                    l.createElement(
                      b.zx,
                      {
                        onClick: (e) => {
                          (0, N.AM)(
                            l.createElement(Xt, {
                              deal: t,
                              clanID: c,
                              clanName: d.clan_name,
                              eRequireSalePageType: a,
                            }),
                            (0, M.RA)(e),
                          );
                        },
                      },
                      qt(a),
                    ),
                )
              : l.createElement(
                  "div",
                  {
                    className: (0, B.Z)(
                      At.SalePageContainer,
                      At.MissingCreatorHome,
                    ),
                  },
                  (0, O.kQ)(
                    "#DailyDeals_SalePage_MissingCreatorHome",
                    l.createElement(
                      "a",
                      { href: g },
                      (0, O.Xx)("#DailyDeals_SalePage_CreateCreatorHomeLink"),
                    ),
                  ),
                )
            : l.createElement(
                "div",
                { className: At.SalePageContainer },
                l.createElement(
                  "div",
                  null,
                  (0, O.Xx)("#DailyDeals_SalePage_SalePageCreated"),
                ),
              )
          : l.createElement(
              "div",
              { className: At.SalePageContainer },
              l.createElement(
                b.zx,
                {
                  className: (0, B.Z)(At.DailyDealButton, At.Disabled),
                  disabled: !0,
                },
                (0, O.Xx)("#DailyDeals_Button_MustFirstPickDate"),
              ),
            );
      }
      function qt(e) {
        switch (e) {
          case 1:
            return (0, O.Xx)("#DailyDeals_SelectSalePage_Title_Publisher");
          case 2:
            return (0, O.Xx)("#DailyDeals_SelectSalePage_Title_Showcase");
          case 4:
            return (0, O.Xx)("#DailyDeals_SelectSalePage_Title_Theme");
          case 3:
            return (0, O.Xx)("#DailyDeals_SelectSalePage_Title_Region");
          case 0:
            return "";
        }
      }
      var Wt = a(256),
        zt = a(44107),
        Zt = a(54842),
        Kt = a(37485),
        Qt = a.n(Kt),
        Yt = a(84084),
        Jt = a(45651),
        $t = a(79173),
        ea = a(54917),
        ta = a(22412),
        aa = a(82701),
        na = a(13913),
        ia = a(71945),
        ra = a(24549),
        la = a(65255);
      class sa {
        m_mapAppToMMStats = new Map();
        m_mapAppToMMStatsPromises = new Map();
        GetKey(e, t, a) {
          return `${e}_${t}_${a}`;
        }
        async LoadAppMarketingMessageStats(e, t, a) {
          const n = this.GetKey(e, t, a);
          return (
            this.m_mapAppToMMStatsPromises.has(n) ||
              this.m_mapAppToMMStatsPromises.set(
                n,
                this.InternalLoadAppMarketingMessageStats(e, t, a),
              ),
            this.m_mapAppToMMStatsPromises.get(n)
          );
        }
        async InternalLoadAppMarketingMessageStats(e, t, a) {
          let n = null;
          try {
            const i = this.GetKey(e, t, a),
              r =
                la.De.PARTNER_BASE_URL +
                "promotion/marketingmessages/ajaxgetsnrmetrics",
              l = {
                sessionid: la.De.SESSIONID,
                appid: e,
                rtStartDate: t,
                rtEndDate: a,
              },
              s = await ce().get(r, { params: l, withCredentials: !0 });
            if (
              200 == s?.status &&
              1 == s?.data?.success &&
              s?.data?.marketing_message_total
            )
              return (
                this.m_mapAppToMMStats.set(i, s.data.marketing_message_total),
                s.data.marketing_message_total
              );
            n = (0, Me.l)(s);
          } catch (e) {
            n = (0, Me.l)(e);
          }
          return (
            console.error(
              "CFeaturingStatsStore.InternalLoadAppMarketingMessageStats failed: " +
                n?.strErrorMsg,
              n,
            ),
            null
          );
        }
        static s_Singleton;
        static Get() {
          return (
            sa.s_Singleton ||
              ((sa.s_Singleton = new sa()),
              "dev" == la.De.WEB_UNIVERSE &&
                (window.g_FeaturingStatsStore = sa.s_Singleton)),
            sa.s_Singleton
          );
        }
        constructor() {}
      }
      function oa(e) {
        const { marketingMessageID: t } = e,
          a = (0, o.k6)(),
          n = (0, zt.Q2)(t),
          i = (0, na.Br)(t);
        if (!n) return l.createElement(x.V, { string: t, size: "small" });
        const r = ue.JW.GetTimeNowWithOverride(),
          s = n.start_date > r,
          c = n.start_date < r && 1 == n.visibility,
          m = Boolean(2 == n.visibility),
          d = Boolean(3 == n.visibility);
        return l.createElement(
          "div",
          {
            className: (0, B.Z)({
              [aa.RowCtn]: !0,
              [aa.Public]: m,
              [aa.Future]: s,
              [aa.Approved]: !m && d,
              [aa.Ready]: !m && i && !d,
            }),
            onClick: (e) => {
              e.ctrlKey || e.metaKey
                ? window.open(
                    `${la.De.PARTNER_BASE_URL}/promotion/${Lr.MarketingMessageEditor(t)}`,
                    "_blank",
                  )
                : a.push(Lr.MarketingMessageEditor(t));
            },
          },
          l.createElement(
            "div",
            { className: (0, B.Z)(aa.Row, aa.Primary) },
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.ItemName) },
              n.title,
              Boolean(s && 2 == n.visibility) &&
                l.createElement(
                  "span",
                  { className: aa.WillBecomeVisible },
                  "Will automatically become visible on ",
                  (0, O.$1)(n.start_date, !0),
                ),
            ),
            l.createElement(
              "div",
              {
                className: (0, B.Z)({
                  [aa.Col]: !0,
                  [aa.Type]: !0,
                  [aa.Deal]: Boolean(
                    2 == n.type || 11 == n.type || 12 == n.type,
                  ),
                }),
              },
              l.createElement("span", null, (0, Wt.W_)(n.type)),
            ),
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.Date) },
              l.createElement(
                "span",
                { className: (0, B.Z)({ [aa.MissedRelease]: c }) },
                l.createElement(ta.Z, {
                  rtStartDate: n.start_date,
                  rtEndDate: n.end_date,
                }),
              ),
            ),
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.Creator) },
              n.creator_name,
            ),
          ),
          l.createElement(
            "div",
            { className: aa.Row },
            m &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement(ca, { gid: n.gid }),
                l.createElement(ma, { oMarketingMessage: n }),
              ),
            l.createElement(ua, { flags: n.flags }),
            l.createElement(pa, {
              strCountries: n.country_allow || n.country_deny,
              bAllowList: n.country_allow?.length > 0,
            }),
            l.createElement(_a, {
              strPrefix: "only owners of",
              storeItemID: { id: n.must_own_appid, item_type: "app" },
            }),
            l.createElement(_a, {
              strPrefix: "except owners of",
              storeItemID: { id: n.must_not_own_appid, item_type: "app" },
            }),
            l.createElement(_a, {
              strPrefix: "only owners of",
              storeItemID: { id: n.must_not_own_packageid, item_type: "sub" },
            }),
            l.createElement(_a, {
              strPrefix: "except owners of",
              storeItemID: { id: n.must_not_own_packageid, item_type: "sub" },
            }),
            l.createElement(_a, {
              strPrefix: "only users who have launched",
              storeItemID: { id: n.must_have_launched_appid, item_type: "app" },
            }),
          ),
        );
      }
      function ca(e) {
        const { gid: t } = e,
          a = (0, ia.bg)(t);
        return a <= 0
          ? null
          : l.createElement(
              "div",
              { className: aa.ViewsColumn },
              l.createElement(
                "div",
                { className: aa.ViewsCtn },
                l.createElement("span", null, "Views:"),
                (0, ra.AV)(a),
              ),
            );
      }
      function ma(e) {
        const { oMarketingMessage: t } = e;
        return 1 == t.association_type && t.start_date && t.end_date
          ? l.createElement(da, {
              appid: t.associated_id,
              oMarketingMessage: t,
            })
          : null;
      }
      function da(e) {
        const { appid: t, oMarketingMessage: a } = e,
          n = (function (e, t, a) {
            const [n, i] = l.useState(null);
            return (
              l.useEffect(() => {
                n ||
                  sa
                    .Get()
                    .LoadAppMarketingMessageStats(e, t, a)
                    .then((e) => i(e));
              }, [e, t, a, n]),
              n
            );
          })(t, a.start_date, a.end_date);
        return n && 0 != n.impression
          ? l.createElement(
              "div",
              { className: aa.ViewsColumn },
              l.createElement(
                "div",
                { className: aa.ViewsCtn },
                "SNR: Views/Impressions = ( ",
                (0, ra.AV)(n.views),
                " / ",
                (0, ra.AV)(n.impression),
                " ) =",
                n.impression ? (0, ra.AV)((n.views / n.impression) * 100) : 0,
                " %",
              ),
            )
          : null;
      }
      function ua(e) {
        const { flags: t } = e;
        return 0 == (Wt.j.k_EMarketingMessageFlagsPlatformRestrictions & t)
          ? null
          : l.createElement(
              "div",
              { className: aa.CapsulePlatform },
              Boolean(Wt.j.k_EMarketingMessageFlagsPlatformWindows & t) &&
                l.createElement(R.Bh5, null),
              Boolean(Wt.j.k_EMarketingMessageFlagsPlatformMac & t) &&
                l.createElement(R.uZu, null),
              Boolean(Wt.j.k_EMarketingMessageFlagsPlatformLinux & t) &&
                l.createElement(R.ui7, null),
            );
      }
      function pa(e) {
        const { strCountries: t, bAllowList: a } = e;
        return t && 0 != t?.trim().length
          ? l.createElement(
              "div",
              { className: aa.CountryList },
              a ? "ONLY: " : "NOT: ",
              t,
            )
          : null;
      }
      function _a(e) {
        const { storeItemID: t, strPrefix: a } = e,
          [n, i] = (0, D.jk)(t.id, (0, v.GV)(t.item_type), {});
        return t.id
          ? n || 1 != i
            ? 2 == i
              ? l.createElement(
                  "div",
                  null,
                  "Failed to load ",
                  t.id,
                  " - ",
                  t.item_type,
                )
              : l.createElement(
                  "div",
                  { className: aa.OwnerLimit },
                  a,
                  " ",
                  n.GetName(),
                  " (",
                  t.id,
                  ")",
                )
            : l.createElement(x.V, { size: "small" })
          : null;
      }
      var ha = a(16783),
        ga = a.n(ha),
        Ea = a(23871),
        Sa = a(36578);
      function va(e) {
        const t = (0, ia.I0)();
        return t
          ? l.createElement(
              "div",
              null,
              l.createElement(
                "div",
                null,
                "To see live stats, go to the",
                l.createElement(
                  "a",
                  {
                    href: "https://grafana.valve.org/steam/d/d03d8518-eccd-4a49-96bc-480f87e6faf5/marketing-message-prioritization?orgId=2&refresh=1m&from=now-3h&to=now",
                    target: "_blank",
                  },
                  "Graphana Page",
                ),
              ),
              l.createElement("br", null),
              l.createElement("br", null),
              l.createElement(Da, { rgStats: t }),
              l.createElement(
                b.__,
                null,
                "DLC Template:",
                l.createElement(
                  pe.HP,
                  {
                    toolTipContent:
                      "Shows how many users saw the DLC template override version of the message.",
                  },
                  l.createElement("span", { className: P().tooltip_Ctn }, "?"),
                ),
              ),
              l.createElement(Ea.RU, { templateType: 4 }),
            )
          : l.createElement(x.V, { string: "loading" });
      }
      function Da(e) {
        const { rgStats: t, templateType: a } = e,
          [n, i, r, s] = (0, l.useMemo)(() => {
            if (!t) return [0, 0, 0, []];
            const e = (0, Ea.Me)(t, a);
            let n = 0,
              i = 0,
              r = 0,
              l = 0;
            e.forEach((e) => {
              e.seen_count > i && (i = e.seen_count),
                e.display_index > 0 && (r += e.seen_count),
                (l += e.seen_count),
                e.display_index > n && (n = e.display_index);
            });
            for (let t = 0; t < n; ++t) {
              e.findIndex((e) => e.display_index == t) < 0 &&
                e.push({ display_index: t, seen_count: 0 });
            }
            return [
              i,
              l,
              r,
              e.sort((e, t) => e.display_index - t.display_index),
            ];
          }, [t, a]);
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            b.__,
            null,
            "Carousel index seen at by users (NOTE Broken until after Prop Oct 12, 2023):",
            l.createElement(
              pe.HP,
              {
                toolTipContent:
                  "Shows where in the carousel the user saw this message.",
              },
              l.createElement("span", { className: P().tooltip_Ctn }, "?"),
            ),
          ),
          l.createElement(
            "div",
            { className: Sa.DashStatsContainer },
            l.createElement(
              "div",
              { className: Sa.Chart },
              l.createElement(
                C.SV,
                null,
                l.createElement(Ea.c8, { Data: s, nPeak: n }),
              ),
            ),
            l.createElement(
              "div",
              { className: Sa.Stats },
              l.createElement(
                "div",
                { className: Sa.CurrentStats },
                l.createElement(
                  "div",
                  { className: Sa.StatsTitle },
                  (0, ra.AV)(r),
                ),
                l.createElement(
                  "div",
                  { className: Sa.StatSubtitle },
                  l.createElement(
                    "span",
                    { className: Sa.Now },
                    "Total Scrolls",
                  ),
                ),
              ),
              l.createElement(
                "div",
                { className: Sa.PeakStats },
                l.createElement(
                  "div",
                  { className: Sa.StatsTitle },
                  i > 0 ? (0, ra.AV)(r / i) : 0,
                  " %",
                ),
                l.createElement(
                  "div",
                  { className: Sa.StatSubtitle },
                  l.createElement(
                    "span",
                    { className: Sa.Concurrent },
                    "Percentage Scrolling",
                  ),
                ),
              ),
            ),
          ),
        );
      }
      const fa = (0, Yt.Zt)(Qt());
      function ya(e) {
        const t = (e) =>
            window.sessionStorage.setItem(
              "marketingmessagedashboardtab",
              `?tab=${e.key}`,
            ),
          a = [
            {
              name: "Active or Upcoming",
              key: "current",
              contents: l.createElement(C.SV, null, l.createElement(Pa, null)),
              onClick: t,
            },
            {
              name: "Calendar View",
              key: "calendar",
              contents: l.createElement(C.SV, null, l.createElement(Ta, null)),
              onClick: t,
            },
            {
              name: "Watch List",
              key: "watch",
              contents: l.createElement(C.SV, null, l.createElement(Ga, null)),
              onClick: t,
            },
            {
              name: "Search all",
              key: "search",
              contents: l.createElement(C.SV, null, l.createElement(Ra, null)),
              onClick: t,
            },
            {
              name: "Charts",
              key: "charts",
              contents: l.createElement(C.SV, null, l.createElement(va, null)),
              onClick: t,
            },
          ];
        return l.createElement(
          "div",
          {
            className: (0, B.Z)(
              ga().Container,
              y().AdminPageCtn,
              y().WidePageCtn,
            ),
          },
          l.createElement(ba, null),
          l.createElement(Ea.RU, null),
          l.createElement(
            "div",
            { className: ga().CreateNewCtn },
            l.createElement(
              b.zx,
              {
                onClick: (e) =>
                  (0, N.AM)(
                    l.createElement($t.aR, { bAllowPromotionPlanCreate: !0 }),
                    (0, M.RA)(e),
                  ),
              },
              "Create New",
            ),
          ),
          l.createElement(G.n, { tabs: a }),
          l.createElement("div", { className: P().ClearThings }),
        );
      }
      function ba(e) {
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            null,
            l.createElement(
              "div",
              { className: y().PageTitle },
              "Marketing Message Dashboard (VO) ",
            ),
            l.createElement(
              "div",
              { className: ea.HeaderButtons },
              l.createElement(
                "a",
                {
                  href: "https://confluence.valve.org/display/SteamBiz/Curated+Promotion+Thresholds",
                },
                "Admin Guidelines",
              ),
              "  |  ",
              l.createElement(
                "a",
                { href: u.De.PARTNER_BASE_URL + "doc/store/assets/promos" },
                "Store Promo Graphical Asset Documentation",
              ),
              "  |  ",
              l.createElement(
                "a",
                {
                  href: "https://grafana.valve.org/steam/d/d03d8518-eccd-4a49-96bc-480f87e6faf5/marketing-message-prioritization",
                },
                "Graphana: Prioritization Stats Page",
              ),
            ),
          ),
          l.createElement("hr", { className: "VO" }),
        );
      }
      var Ia, Ca;
      !(function (e) {
        (e[(e.k_DisplayAll = 0)] = "k_DisplayAll"),
          (e[(e.k_DisplayPublic = 1)] = "k_DisplayPublic"),
          (e[(e.k_DisplayStaged = 2)] = "k_DisplayStaged"),
          (e[(e.k_DisplayBeta = 3)] = "k_DisplayBeta"),
          (e[(e.k_DisplayBetaPastStart = 4)] = "k_DisplayBetaPastStart"),
          (e[(e.k_DisplayGift = 5)] = "k_DisplayGift"),
          (e[(e.k_DisplayAprrovedForPublishing = 6)] =
            "k_DisplayAprrovedForPublishing");
      })(Ia || (Ia = {})),
        (function (e) {
          (e[(e.k_SortByPriority = 0)] = "k_SortByPriority"),
            (e[(e.k_SortByStartDate = 1)] = "k_SortByStartDate");
        })(Ca || (Ca = {}));
      const ka = { 2: 0, 3: 1, 1: 2 };
      function Aa(e, t, a, n) {
        let i = (0, zt.O4)();
        if (!i || 0 == i.length) return null;
        if (
          (n &&
            (i = i.filter(
              (e) =>
                e.creator_name == u.L7.account_name ||
                e.additional_restrictions?.includes("" + u.L7.accountid),
            )),
          t.trim().length > 0)
        ) {
          const e = t.toLowerCase(),
            a = (0, Jt.kE)(t) ? Number.parseInt(t) : void 0;
          i = i.filter(
            (t) =>
              t.title.toLowerCase().includes(e) ||
              (a &&
                (t.associated_id == a ||
                  ("" + t.associated_id).includes("" + a))),
          );
        }
        const r = ue.JW.GetTimeNowWithOverride();
        return (
          (i = i.filter(
            (t) =>
              (e == Ia.k_DisplayAll && 8 != t.type) ||
              (e == Ia.k_DisplayPublic &&
                2 == t.visibility &&
                t.start_date <= r &&
                8 != t.type) ||
              (e == Ia.k_DisplayStaged &&
                2 == t.visibility &&
                t.start_date > r &&
                8 != t.type) ||
              (e == Ia.k_DisplayBeta && 1 == t.visibility && 8 != t.type) ||
              (e == Ia.k_DisplayBetaPastStart &&
                1 == t.visibility &&
                t.start_date &&
                t.start_date <= r &&
                8 != t.type) ||
              (e == Ia.k_DisplayGift && 8 == t.type) ||
              (e == Ia.k_DisplayAprrovedForPublishing &&
                3 == t.visibility &&
                8 != t.type),
          )),
          a == Ca.k_SortByPriority
            ? i.sort((e, t) => t.priority - e.priority)
            : a == Ca.k_SortByStartDate &&
              i.sort((e, t) => {
                if (e.visibility != t.visibility)
                  return ka[e.visibility] - ka[t.visibility];
                const a = !e.start_date,
                  n = !t.start_date;
                return a && n
                  ? (e.title || "").localeCompare(t.title || "")
                  : a || n
                    ? a
                      ? 1
                      : -1
                    : e.start_date - t.start_date;
              }),
          i
        );
      }
      function wa(e) {
        const {
            display: t,
            fnSetDisplay: a,
            sort: n,
            fnSetSort: i,
            strSearch: r,
            fnSetSearch: s,
          } = e,
          o = [
            { label: "Show All", data: Ia.k_DisplayAll },
            { label: "Show Visible", data: Ia.k_DisplayPublic },
            {
              label: "Show Staged (automatically become visible when starts)",
              data: Ia.k_DisplayStaged,
            },
            { label: "Show Hidden", data: Ia.k_DisplayBeta },
            { label: "Show Hidden but Late", data: Ia.k_DisplayBetaPastStart },
            { label: "Show Gifting Messages", data: Ia.k_DisplayGift },
            {
              label: "Show Approved For Publishing Messages",
              data: Ia.k_DisplayAprrovedForPublishing,
            },
          ],
          c = [
            { label: "Sort By Start Date", data: Ca.k_SortByStartDate },
            { label: "Sort By Priority", data: Ca.k_SortByPriority },
          ];
        return l.createElement(
          "div",
          { className: ga().FilterRow },
          l.createElement(
            "div",
            { className: ga().VisibilityFilterCtn },
            l.createElement(b.ry, {
              label: "Visibility Filter",
              rgOptions: o,
              onChange: (e) => a(e.data),
              contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
              selectedOption: t,
            }),
          ),
          Boolean(i) &&
            l.createElement(
              "div",
              { className: ga().VisibilityFilterCtn },
              l.createElement(b.ry, {
                label: "Sort",
                rgOptions: c,
                onChange: (e) => i(e.data),
                contextMenuPositionOptions: {
                  bMatchWidth: !0,
                  bFitToWindow: !0,
                },
                selectedOption: n,
              }),
            ),
          l.createElement(
            "div",
            {
              className: (0, B.Z)(
                ga().VisibilityFilterCtn,
                ga().MarketingMessageSearch,
              ),
            },
            l.createElement(b.II, {
              label: "Search",
              placeholder: "Enter Message Title",
              value: r,
              onChange: (e) => s(e.currentTarget.value),
            }),
          ),
        );
      }
      function Pa(e) {
        const [t, a] = (0, l.useState)(Ia.k_DisplayAll),
          [n, i] = (0, l.useState)(Ca.k_SortByStartDate),
          [r, s] = (0, l.useState)(""),
          o = Aa(t, r, n);
        return l.createElement(
          "div",
          null,
          l.createElement(wa, {
            display: t,
            fnSetDisplay: a,
            sort: n,
            fnSetSort: i,
            strSearch: r,
            fnSetSearch: s,
          }),
          l.createElement("div", null, "Present and Future Marketing Messages"),
          l.createElement(Na, { rows: o }),
        );
      }
      function Ta(e) {
        const [t, a] = (0, l.useState)(Ia.k_DisplayAll),
          [n, i] = (0, l.useState)(""),
          r = Aa(t, n),
          s = (0, l.useMemo)(
            () =>
              r
                .filter((e) => e.start_date && e.end_date)
                .map((e) => ({
                  allDay: !1,
                  title: e.title,
                  start: new Date(1e3 * e.start_date),
                  end: new Date(1e3 * (e.end_date - 36e3 - 1)),
                  resource: e,
                })),
            [r],
          ),
          o = [Yt.kO.MONTH, Yt.kO.WEEK, Yt.kO.DAY, Yt.kO.AGENDA];
        return l.createElement(
          "div",
          null,
          l.createElement(wa, {
            display: t,
            fnSetDisplay: a,
            strSearch: n,
            fnSetSearch: i,
          }),
          l.createElement("h1", null, "Calendar View of Marketing Messages"),
          l.createElement(Yt.f, {
            views: o,
            popup: !0,
            defaultView: "month",
            localizer: fa,
            events: s,
            style: { height: 1e3 },
            showMultiDayTimes: !0,
            onSelectEvent: (e) =>
              console.log("selected ", (0, Zt.ZN)(e.resource)),
            eventPropGetter: (e) => ({
              style: { color: 2 == e.resource.visibility ? "red" : "white" },
            }),
          }),
          l.createElement(
            "h1",
            null,
            "Remaining Marketing Messages without Dates",
          ),
          l.createElement(Na, {
            rows: r.filter((e) => !e.start_date || !e.end_date),
          }),
        );
      }
      function Na(e) {
        const { rows: t } = e;
        return null == t
          ? l.createElement(x.V, {
              string: (0, O.Xx)("#Loading"),
              size: "medium",
              position: "center",
            })
          : 0 == t.length
            ? l.createElement("div", null, "No matching marketing messages")
            : l.createElement(
                l.Fragment,
                null,
                t.map((e) =>
                  l.createElement(oa, {
                    key: e.gid,
                    marketingMessageID: e.gid,
                  }),
                ),
              );
      }
      function Ra(e) {
        const [t, a] = (0, l.useState)(""),
          [n, i] = (0, l.useState)(0),
          r = [{ label: "Any", data: 0 }];
        for (let e = 1; e < 9; ++e) r.push({ label: (0, Wt.W_)(e), data: e });
        const s = (0, zt.Sw)(),
          [o, c] = (0, l.useState)(null),
          [m, d] = (0, l.useState)(!1);
        return l.createElement(
          "div",
          null,
          l.createElement(
            "h2",
            null,
            "Find a marketing message: Past, Present or Future",
          ),
          l.createElement("hr", null),
          l.createElement(
            "p",
            null,
            "Filter by the marketing message type and/or the part of the title",
          ),
          l.createElement(b.ry, {
            label: "Marketing Message Type",
            rgOptions: r,
            onChange: (e) => i(e.data),
            contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
            selectedOption: n,
          }),
          l.createElement("br", null),
          l.createElement(b.II, {
            type: "text",
            label: "Filter by Title",
            placeholder: "type here",
            value: t,
            onChange: (e) => a(e.currentTarget.value),
          }),
          l.createElement(
            b.KM,
            {
              onClick: () => {
                d(!0),
                  s(n, t).then((e) => {
                    d(!1), c(e);
                  });
              },
            },
            "Search",
          ),
          m &&
            l.createElement(x.V, {
              string: (0, O.Xx)("#Loading"),
              position: "center",
              size: "medium",
            }),
          Boolean(0 == o?.length) && l.createElement("div", null, "No Results"),
          Boolean(o?.length > 1) && l.createElement(Na, { rows: o }),
        );
      }
      function Ga(e) {
        const [t, a] = (0, l.useState)(Ia.k_DisplayAll),
          [n, i] = (0, l.useState)(Ca.k_SortByStartDate),
          [r, s] = (0, l.useState)(""),
          o = Aa(t, r, n, !0);
        return l.createElement(
          "div",
          null,
          l.createElement(wa, {
            display: t,
            fnSetDisplay: a,
            sort: n,
            fnSetSort: i,
            strSearch: r,
            fnSetSearch: s,
          }),
          l.createElement(
            "div",
            null,
            "These are marketing messagse that either you created or have explicitly added yourself to the watch list",
          ),
          l.createElement("br", null),
          l.createElement(Na, { rows: o }),
        );
      }
      var xa = a(50382),
        La = a(9071),
        Ba = a(63734),
        Ma = a(8062),
        Oa = a(85305),
        Fa = a(64893);
      function Ua(e) {
        const t = (0, Ma.r7)();
        return l.createElement(
          "div",
          null,
          l.createElement(
            "div",
            null,
            l.createElement(
              "div",
              { className: Fa.DashTitleBar },
              l.createElement("h1", null, "Sales Rank Dashboard"),
            ),
            l.createElement(
              "div",
              { className: Fa.DashDescription },
              "Use the filters below fo find games to invite to curated promotion deals.",
            ),
          ),
          null == t
            ? l.createElement(x.V, {
                string: (0, O.Xx)("#Loading"),
                position: "center",
                size: "medium",
              })
            : l.createElement(Ha, { rgTopData: t }),
        );
      }
      function Ha(e) {
        const { rgTopData: t } = e,
          a = (0, l.useMemo)(() => t.top_apps.map((e) => e.appid), [t]),
          n = (0, Ma.Aq)(t.num_days_history, a);
        return l.createElement(
          "div",
          null,
          l.createElement("div", null, "TODO: Eligibilty Drop Down"),
          l.createElement("div", null, "TODO: Partner Option List"),
          l.createElement("div", null, "Eligible Results: ", t.total_games),
          l.createElement(
            "table",
            null,
            l.createElement(
              "thead",
              null,
              l.createElement(
                "tr",
                null,
                l.createElement("th", null, "Game"),
                l.createElement("th", null, "Release Date"),
                l.createElement("th", null, "Last Discount"),
                l.createElement(
                  "th",
                  { colSpan: 3 },
                  "Trailing ",
                  t.num_days_history,
                  " days",
                ),
                l.createElement("th", null, "Positive Review Score"),
                l.createElement("th", null, "Eligible"),
                l.createElement("th", null),
              ),
              l.createElement(
                "tr",
                null,
                l.createElement("th", null),
                l.createElement("th", null),
                l.createElement("th", null),
                l.createElement("th", null, "Package Rev"),
                l.createElement("th", null, "Days Discounted"),
                l.createElement(
                  "th",
                  null,
                  "Rank  ",
                  l.createElement(
                    pe.HP,
                    {
                      toolTipContent: "Includes all Rev: Packages + MTX + DLC",
                    },
                    "(?)",
                  ),
                ),
                l.createElement("th", null),
                l.createElement("th", null),
                l.createElement("th", null),
              ),
            ),
            l.createElement(
              "tbody",
              null,
              t.top_apps.map((e) =>
                l.createElement(Xa, {
                  key: "appid" + e.appid,
                  rgAppInfo: e,
                  appSummaries: n,
                }),
              ),
            ),
          ),
        );
      }
      const Va = {
        month: "short",
        day: "numeric",
        year: "numeric",
        weekday: void 0,
      };
      function Xa(e) {
        const { rgAppInfo: t, appSummaries: a } = e,
          [n] = (0, D.vs)(t.appid, {
            include_reviews: !0,
            include_release: !0,
            include_assets: !0,
          });
        return n
          ? l.createElement(
              "tr",
              null,
              l.createElement(
                "td",
                null,
                l.createElement(
                  Oa.ll,
                  {
                    item: { type: "game", id: t.appid },
                    hoverProps: {
                      direction: "overlay",
                      style: { minWidth: "320px", maxWidth: "320px" },
                    },
                    className: Fa.GameItem,
                  },
                  l.createElement("img", {
                    src: n.GetAssets().GetCommunityIconURL(),
                    style: { width: 32 },
                  }),
                ),
                l.createElement(
                  "div",
                  null,
                  l.createElement(
                    "a",
                    { href: n.GetStorePageURL() },
                    n.GetName(),
                  ),
                  " ",
                  "(",
                  l.createElement(
                    "a",
                    {
                      href: la.De.PARTNER_BASE_URL + "apps/landing/" + t.appid,
                    },
                    t.appid,
                  ),
                  ")",
                ),
              ),
              l.createElement(
                "td",
                null,
                (0, O.$1)(n.GetReleaseDateRTime(), Va),
              ),
              l.createElement("td", null, "TODO Discount"),
              l.createElement(
                "td",
                null,
                "$",
                Math.floor(
                  (a?.GetAppSaleSummary(t.appid)?.gross_sales_usd || 0) / 100,
                ).toLocaleString(),
              ),
              l.createElement("td", null, "TODO Discount Rev"),
              l.createElement("td", null, "#", t.long_term_sale_rank + 1),
              l.createElement(
                "td",
                null,
                n?.GetUnfilteredReviewSummary().percent_positive,
                "%",
              ),
              l.createElement("td", null, "TODO Eligible"),
              l.createElement("td", null, "TODO BUTTONS"),
            )
          : null;
      }
      var ja = a(41710);
      function qa(e) {
        const { spotlightID: t } = e,
          a = (0, ja.dh)(t);
        return a
          ? l.createElement(
              "div",
              {
                className: (0, B.Z)({
                  [aa.RowCtn]: !0,
                  [aa.Public]: Boolean(a.visibility?.visible),
                }),
                onClick: () =>
                  (window.location.href =
                    u.De.PARTNER_BASE_URL + "admin/store/spotlight/" + t),
              },
              l.createElement(
                "div",
                { className: (0, B.Z)(aa.Row, aa.Primary) },
                l.createElement(
                  "div",
                  { className: (0, B.Z)(aa.Col, aa.ItemName) },
                  a.name,
                ),
                l.createElement(
                  "div",
                  { className: (0, B.Z)(aa.Col, aa.Type) },
                  a.type,
                ),
                l.createElement(ta.Z, {
                  className: (0, B.Z)(aa.Col, aa.Date),
                  rtStartDate: a.visibility?.startdate,
                  rtEndDate: a.visibility?.enddate,
                }),
                l.createElement(
                  "div",
                  { className: (0, B.Z)(aa.Col, aa.Creator) },
                  a.creator,
                ),
                l.createElement(
                  "div",
                  { className: (0, B.Z)(aa.Col, aa.Visibility) },
                  Boolean(a.visibility?.visible) ? "public" : "beta",
                ),
              ),
              l.createElement(
                "div",
                { className: aa.Row },
                l.createElement(
                  "div",
                  { className: aa.Col },
                  a.location?.hubTargets?.join(", "),
                ),
              ),
            )
          : l.createElement(x.V, { string: t, size: "small" });
      }
      const Wa = (0, Yt.Zt)(Qt());
      function za(e) {
        const t = (e) =>
            window.sessionStorage.setItem(
              "spotlightdashboardtab",
              `?tab=${e.key}`,
            ),
          a = [
            {
              name: "Active or Upcoming Spotlights",
              key: "current",
              contents: l.createElement(C.SV, null, l.createElement(Ya, null)),
              onClick: t,
            },
            {
              name: "Calendar View",
              key: "calendar",
              contents: l.createElement(C.SV, null, l.createElement($a, null)),
              onClick: t,
            },
            {
              name: "Search all Spotlights",
              key: "search",
              contents: l.createElement(C.SV, null, l.createElement(Ja, null)),
              onClick: t,
            },
          ];
        return l.createElement(
          "div",
          {
            className: (0, B.Z)(
              ga().Container,
              y().AdminPageCtn,
              y().WidePageCtn,
            ),
          },
          l.createElement(
            "div",
            { className: y().PageTitle },
            "Spotlight Dashboard (VO) ",
          ),
          l.createElement("hr", { className: "VO" }),
          l.createElement(
            "div",
            { className: ga().CreateNewCtn },
            l.createElement(
              b.zx,
              { onClick: (e) => console.log("TODO") },
              "Create New Spotlight",
            ),
          ),
          l.createElement(G.n, { tabs: a }),
          l.createElement("div", { className: P().ClearThings }),
        );
      }
      var Za;
      function Ka(e) {
        const t = (0, ja.Og)();
        return t && e != Za.k_DisplayAll
          ? t.filter(
              (t) =>
                (e == Za.k_DisplayPublic && Boolean(t.visibility?.visible)) ||
                (e == Za.k_DisplayBeta && !Boolean(t.visibility?.visible)),
            )
          : t;
      }
      function Qa(e) {
        const { display: t, fnSetDisplay: a } = e,
          n = [
            { label: "Show All", data: Za.k_DisplayAll },
            { label: "Show Visible", data: Za.k_DisplayPublic },
            { label: "Show Hidden", data: Za.k_DisplayBeta },
          ];
        return l.createElement(
          "div",
          { className: ga().FilterRow },
          l.createElement(
            "div",
            { className: ga().VisibilityFilterCtn },
            l.createElement(b.ry, {
              label: "Visibility Filter",
              tooltip: "Limit the Spotlights based on their visibility",
              rgOptions: n,
              onChange: (e) => a(e.data),
              contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
              selectedOption: t,
            }),
          ),
        );
      }
      function Ya(e) {
        const [t, a] = (0, l.useState)(Za.k_DisplayAll),
          n = Ka(t);
        return l.createElement(
          "div",
          null,
          l.createElement(Qa, { display: t, fnSetDisplay: a }),
          l.createElement("div", null, "Present and Future Spotlights"),
          l.createElement("hr", null),
          l.createElement(
            "div",
            null,
            "Partner facing documentation with specs for spotlight assets:",
            l.createElement(
              "a",
              {
                href: "https://partner.steamgames.com/doc/store/assets/promos",
                target: "_blank",
              },
              "https://partner.steamgames.com/doc/store/assets/promos",
            ),
          ),
          l.createElement(en, { rows: n }),
        );
      }
      function Ja(e) {
        return l.createElement("div", null, "todo");
      }
      function $a(e) {
        const [t, a] = (0, l.useState)(Za.k_DisplayAll),
          n = Ka(t),
          i = (0, l.useMemo)(
            () =>
              n
                .filter((e) => e.visibility?.startdate && e.visibility?.enddate)
                .map((e) => ({
                  allDay: !1,
                  title: e.name,
                  start: new Date(1e3 * e.visibility.startdate),
                  end: new Date(1e3 * (e.visibility.enddate - 36e3 - 1)),
                  resource: e,
                })),
            [n],
          ),
          r = [Yt.kO.MONTH, Yt.kO.WEEK, Yt.kO.DAY, Yt.kO.AGENDA];
        return l.createElement(
          "div",
          null,
          l.createElement(Qa, { display: t, fnSetDisplay: a }),
          l.createElement("h1", null, "Calendar View of Spotlights"),
          l.createElement(Yt.f, {
            views: r,
            popup: !0,
            defaultView: "month",
            localizer: Wa,
            events: i,
            style: { height: 1e3 },
            showMultiDayTimes: !0,
            onSelectEvent: (e) =>
              console.log("selected ", (0, Zt.ZN)(e.resource)),
            eventPropGetter: (e) => {
              const t = e.resource;
              return {
                style: {
                  color: Boolean(t.visibility?.visible) ? "red" : "white",
                },
              };
            },
          }),
          l.createElement("h1", null, "Remaining Spotlights without Dates"),
          l.createElement(en, {
            rows: n.filter(
              (e) => !e.visibility?.startdate || !e.visibility?.enddate,
            ),
          }),
        );
      }
      function en(e) {
        const { rows: t } = e;
        return l.createElement(
          l.Fragment,
          null,
          t.map((e) => l.createElement(qa, { key: e.id, spotlightID: e.id })),
        );
      }
      !(function (e) {
        (e[(e.k_DisplayAll = 0)] = "k_DisplayAll"),
          (e[(e.k_DisplayPublic = 1)] = "k_DisplayPublic"),
          (e[(e.k_DisplayBeta = 2)] = "k_DisplayBeta");
      })(Za || (Za = {}));
      var tn = a(80127),
        an = a(77936),
        nn = a(99892),
        rn = a.n(nn),
        ln = a(44237),
        sn = a(79545),
        on = a(20020),
        cn = a(77581);
      class mn {
        m_steamInterface;
        m_publisherID;
        async GetPartnerPreviewByID(e) {
          const t = sn.gA.Init(ln.Vi);
          t.Body().set_gid(e), t.Body().set_partnerid(this.m_publisherID);
          const a = await ln.Bn.GetPartnerMessagePreview(
            this.m_steamInterface.GetServiceTransport(),
            t,
          );
          if (1 != a.GetEResult())
            throw `Error loading message preview, id: ${e}, error: ${a.GetEResult()}`;
          return a.Body().message();
        }
        async PartnerPublishByID(e) {
          const t = sn.gA.Init(ln.Vt);
          t.Body().set_gid(e), t.Body().set_partnerid(this.m_publisherID);
          return (
            1 ==
            (
              await ln.Bn.PublishPartnerMessage(
                this.m_steamInterface.GetServiceTransport(),
                t,
              )
            ).GetEResult()
          );
        }
        static s_Singleton;
        static Get() {
          return (
            mn.s_Singleton ||
              ((mn.s_Singleton = new mn()),
              mn.s_Singleton.Init(),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_MarketingMessagePreviewStore = mn.s_Singleton)),
            mn.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, u.kQ)(
              "promotion_operation_token",
              "application_config",
            ),
            t = (0, u.kQ)("publisherid", "application_config");
          (0, on.X)(Boolean(e), "require promotion_operation_token"),
            "dev" == u.De.WEB_UNIVERSE &&
              console.log(
                `DEV_DEBUG Initializing CMarketingMessagePartnerPreviewStore with access token ${e} and publisherID ${t}`,
              ),
            (this.m_steamInterface = new cn.J(u.De.WEBAPI_BASE_URL, e)),
            (this.m_publisherID = t);
        }
      }
      var dn = a(77671);
      function un(e) {
        const { gid: t } = e,
          a =
            ((n = t),
            (0, at.useQuery)(["GetPartnerPreviewMessage", n], () =>
              mn.Get().GetPartnerPreviewByID(n),
            ));
        var n;
        if (a.isLoading)
          return l.createElement(x.V, {
            className: rn().Throbber,
            position: "center",
          });
        if (a.isError)
          return l.createElement(
            "div",
            { className: rn().LoadError },
            (0, O.Xx)("#MarketingMessage_PartnerPreview_Error"),
          );
        const i = a.data.visibility();
        return 3 !== i && 2 !== i
          ? l.createElement(
              "div",
              { className: rn().LoadError },
              (0, O.Xx)("#MarketingMessage_PartnerPreview_Error"),
            )
          : l.createElement(pn, { marketingMessage: a.data });
      }
      function pn(e) {
        const { marketingMessage: t } = e,
          a = t.visibility(),
          [n, i] = l.useState(2 === a),
          r = new Date(1e3 * t.start_date()).toLocaleString(
            O.Yt.GetPreferredLocales(),
            {
              month: "short",
              day: "numeric",
              hour: "numeric",
              timeZone: "America/Los_Angeles",
            },
          ),
          s = new Date(1e3 * t.end_date()).toLocaleString(
            O.Yt.GetPreferredLocales(),
            {
              month: "short",
              day: "numeric",
              hour: "numeric",
              timeZone: "America/Los_Angeles",
            },
          );
        return l.createElement(
          "div",
          { className: y().AdminPageCtn },
          l.createElement(
            "div",
            { className: rn().Header },
            l.createElement(
              "div",
              { className: rn().LeftCol },
              l.createElement(
                "h1",
                null,
                (0, O.Xx)("#MarketingMessage_PartnerPreview_Header_Status"),
              ),
              l.createElement(
                "div",
                { className: (0, B.Z)(rn().Status, n && rn().Public) },
                (0, O.Xx)(
                  n
                    ? "#MarketingMessage_PartnerPreview_Header_Public"
                    : "#MarketingMessage_PartnerPreview_Header_Approved",
                ),
              ),
              !n && l.createElement(_n, { gid: t.gid(), setIsPublic: i }),
              !n &&
                l.createElement(
                  "span",
                  null,
                  (0, O.Xx)(
                    "#MarketingMessage_PartnerPreview_Publish_Availability",
                    s,
                  ),
                ),
              l.createElement(
                "span",
                null,
                (0, O.Xx)(
                  "#MarketingMessage_PartnerPreview_Publish_VisibilityRange",
                  r,
                  s,
                ),
              ),
            ),
            l.createElement(
              "div",
              { className: rn().RightCol },
              l.createElement(gn, { marketingMessage: t }),
              l.createElement(
                "a",
                {
                  target: "_blank",
                  href: u.De.PARTNER_BASE_URL + "doc/store/assets/promos",
                },
                (0, O.Xx)("#MarketingMessage_PartnerPreview_DocLink"),
              ),
            ),
          ),
          l.createElement(En, { marketingMessage: t }),
        );
      }
      function _n(e) {
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            b.zx,
            {
              className: rn().PublishButton,
              onClick: () => {
                (0, N.AM)(
                  l.createElement(hn, {
                    gid: e.gid,
                    setIsPublic: e.setIsPublic,
                  }),
                  window,
                );
              },
            },
            (0, O.Xx)("#MarketingMessage_PartnerPreview_Button_SetPublic"),
          ),
        );
      }
      function hn(e) {
        const { gid: t, setIsPublic: a, closeModal: n } = e,
          i = (0, I.tx)();
        if (i.bLoading)
          return l.createElement(I.NT, {
            state: i,
            strDialogTitle: (0, O.Xx)(
              "#MarketingMessage_PartnerPreview_ModalTitle",
            ),
            closeModal: n,
          });
        return l.createElement(T.uH, {
          strTitle: (0, O.Xx)("#MarketingMessage_PartnerPreview_ModalTitle"),
          onOK: () => {
            var e;
            i.fnSetLoading(!0),
              ((e = t), mn.Get().PartnerPublishByID(e)).then((e) => {
                e
                  ? (i.fnSetSuccess(!0),
                    i.fnSetStrSuccess(
                      (0, O.Xx)(
                        "#MarketingMessage_PartnerPreview_Button_SetPublicSuccess",
                      ),
                    ),
                    a(!0))
                  : (i.fnSetError(!0),
                    i.fnSetStrError(
                      (0, O.Xx)(
                        "#MarketingMessage_PartnerPreview_Button_SetPublicFailed",
                      ),
                    ));
              });
          },
          onCancel: n,
        });
      }
      function gn(e) {
        const { marketingMessage: t } = e,
          a = new URLSearchParams();
        return (
          a.set(
            "name",
            (0, O.Xx)("#MarketingMessagePreview_Email_Reminder", t.title()),
          ),
          a.set("marketingmessagepartnerpreview", t.gid()),
          a.set("start", "" + t.start_date),
          a.set(
            "description",
            (0, O.Xx)("#MarketingMessagePreview_Email_PreviewLink"),
          ),
          l.createElement(
            "a",
            {
              href:
                u.De.PARTNER_BASE_URL +
                "public/downloadics.php?" +
                a.toString(),
            },
            l.createElement("span", {
              className: "iconLink icon_download icon_inline",
            }),
            (0, O.Xx)("#MarketingMessage_PartnerPreview_DownloadReminderEvent"),
          )
        );
      }
      function En(e) {
        const { marketingMessage: t } = e;
        return l.createElement(
          "div",
          { className: rn().PreviewCtn },
          l.createElement(Sn, { marketingMessage: t }),
          l.createElement(vn, { marketingMessage: t }),
        );
      }
      function Sn(e) {
        const { marketingMessage: t } = e;
        let a = null,
          n = 0;
        if (t.template_vars_json()) {
          const e = JSON.parse(t.template_vars_json());
          (a = e.ll_image), (n = e.last_asset_mtime || 0);
        }
        return l.createElement(
          "div",
          { className: rn().ArtPreviews },
          Boolean(a && a.english) &&
            l.createElement(
              "div",
              { className: rn().MessageImagePreview },
              l.createElement(
                "div",
                { className: rn().PreviewHeader },
                (0, O.Xx)("#MarketingMessage_PartnerPreview_PreviewGlobal"),
              ),
              l.createElement("img", {
                src: (0, dn.i)(t.gid(), 0, n, a.english),
              }),
            ),
          Boolean(a && a.sc_schinese) &&
            l.createElement(
              "div",
              { className: rn().MessageImagePreview },
              l.createElement(
                "div",
                { className: rn().PreviewHeader },
                (0, O.Xx)("#MarketingMessage_PartnerPreview_PreviewSC"),
              ),
              l.createElement("img", {
                src: (0, dn.i)(t.gid(), 29, n, a.sc_schinese),
              }),
            ),
        );
      }
      function vn(e) {
        const { marketingMessage: t } = e,
          a = (0, l.useMemo)(() => {
            const e = [];
            for (let t = 0; t < 31; ++t) {
              const a = (0, an.j_)(t),
                n = (0, O.Xx)("#Language_" + a);
              e.push({ cc: "US", language: a, label: n });
            }
            return e;
          }, []);
        return l.createElement(
          "div",
          { className: rn().LanguagePreviewLinks },
          l.createElement(
            "div",
            { className: rn().PreviewHeader },
            (0, O.Xx)("#MarketingMessage_PartnerPreview_PreviewLanguages"),
          ),
          l.createElement(
            "div",
            { className: rn().PreviewButtons },
            a.map((e) =>
              l.createElement(
                b.zx,
                {
                  key: e.label,
                  className: rn().LangPreviewButton,
                  onClick: (a) => {
                    const n = `${u.De.PARTNER_BASE_URL}marketingmessages/messagepreview/${t.gid()}/?cc=${e.cc}&l=${e.language}`;
                    a.preventDefault();
                    window
                      .open(
                        n,
                        "marketing_message",
                        "height=720,width=700,resize=yes,scrollbars=yes",
                      )
                      .focus();
                  },
                },
                e.label,
              ),
            ),
          ),
        );
      }
      function Dn(e) {
        const { discountEventID: t } = e,
          a = (0, te.vc)(t);
        if (!a)
          return l.createElement(x.V, {
            string: "loading: " + t,
            size: "small",
          });
        const n = ue.JW.GetTimeNowWithOverride();
        return l.createElement(
          "div",
          {
            className: (0, B.Z)({
              [aa.RowCtn]: !0,
              [aa.Public]: Boolean(a.start_date <= n && a.end_date > n),
            }),
            onClick: () =>
              (window.location.href =
                u.De.PARTNER_BASE_URL + "promotion/discountevents/edit/" + t),
          },
          l.createElement(
            "div",
            { className: (0, B.Z)(aa.Row, aa.Primary) },
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.ItemName) },
              a.name,
            ),
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.Type) },
              a.type,
            ),
            l.createElement(ta.Z, {
              className: (0, B.Z)(aa.Col, aa.Date),
              rtStartDate: a.start_date,
              rtEndDate: a.end_date,
            }),
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.Creator) },
              a.collision_type,
            ),
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.Visibility) },
              "additional notes?",
            ),
          ),
          l.createElement("div", { className: aa.Row }, "todo?"),
        );
      }
      const fn = (0, Yt.Zt)(Qt());
      function yn(e) {
        const t = (e) =>
            window.sessionStorage.setItem(
              "discounteventdashboardtab",
              `?tab=${e.key}`,
            ),
          a = [
            {
              name: "Discount Events Table",
              key: "current",
              contents: l.createElement(C.SV, null, l.createElement(kn, null)),
              onClick: t,
            },
            {
              name: "Calendar View",
              key: "calendar",
              contents: l.createElement(C.SV, null, l.createElement(wn, null)),
              onClick: t,
            },
            {
              name: "Search all discount events",
              key: "search",
              contents: l.createElement(C.SV, null, l.createElement(An, null)),
              onClick: t,
            },
          ];
        return l.createElement(
          "div",
          {
            className: (0, B.Z)(
              ga().Container,
              y().AdminPageCtn,
              y().WidePageCtn,
            ),
          },
          l.createElement(
            "div",
            { className: y().PageTitle },
            "Discount Event Dashboard (VO) ",
          ),
          l.createElement("hr", { className: "VO" }),
          l.createElement(
            "div",
            { className: ga().CreateNewCtn },
            l.createElement(
              "div",
              null,
              "This page is only visible to end editable by Valve",
            ),
            l.createElement(
              "p",
              null,
              "Note: Events up to 30 days ago and any future events are shown below. Do not delete old events unless the event did not occur.",
            ),
            l.createElement(
              b.zx,
              { onClick: (e) => console.log("TODO") },
              "Create New Discount EVent",
            ),
          ),
          l.createElement(G.n, { tabs: a }),
          l.createElement("div", { className: P().ClearThings }),
        );
      }
      var bn;
      function In(e) {
        const { rgDiscountEvents: t } = (0, te.BS)();
        if (t && e != bn.k_DisplayAll) {
          const a = ue.JW.GetTimeNowWithOverride();
          return t.filter((t) => {
            const n = t.start_date <= a && t.end_date >= a,
              i = t.start_date > a,
              r = t.end_date < a;
            return (
              (e == bn.k_DisplayActiveAndUpcoming && Boolean(n || i)) ||
              (e == bn.k_DisplayActive && n) ||
              (e == bn.k_DisplayUpcoming && i) ||
              (e == bn.k_DisplayExpired && r)
            );
          });
        }
        return t;
      }
      function Cn(e) {
        const { display: t, fnSetDisplay: a } = e,
          n = [
            {
              label: "Show Active And Upcoming",
              data: bn.k_DisplayActiveAndUpcoming,
            },
            { label: "Show Active Only", data: bn.k_DisplayActive },
            { label: "Show Upcoming Only", data: bn.k_DisplayUpcoming },
            { label: "Show Expired Only", data: bn.k_DisplayExpired },
            { label: "Show All", data: bn.k_DisplayAll },
          ];
        return l.createElement(
          "div",
          { className: ga().FilterRow },
          l.createElement(
            "div",
            { className: ga().VisibilityFilterCtn },
            l.createElement(b.ry, {
              label: "Visibility Filter",
              tooltip: "Limit the discount events based on their visibility",
              rgOptions: n,
              onChange: (e) => a(e.data),
              contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
              selectedOption: t,
            }),
          ),
        );
      }
      function kn(e) {
        const [t, a] = (0, l.useState)(bn.k_DisplayActiveAndUpcoming),
          n = In(t);
        return l.createElement(
          "div",
          null,
          l.createElement(Cn, { display: t, fnSetDisplay: a }),
          l.createElement("hr", null),
          l.createElement(Pn, { rows: n }),
        );
      }
      function An(e) {
        return l.createElement("div", null, "todo");
      }
      function wn(e) {
        const [t, a] = (0, l.useState)(bn.k_DisplayActiveAndUpcoming),
          n = In(t),
          i = (0, l.useMemo)(
            () =>
              n.map((e) => ({
                allDay: !1,
                title: e.name,
                start: new Date(1e3 * e.start_date),
                end: new Date(1e3 * (e.end_date - 36e3 - 1)),
                resource: e,
              })),
            [n],
          ),
          r = [Yt.kO.MONTH, Yt.kO.WEEK, Yt.kO.DAY, Yt.kO.AGENDA],
          s = ue.JW.GetTimeNowWithOverride();
        return l.createElement(
          "div",
          null,
          l.createElement(Cn, { display: t, fnSetDisplay: a }),
          l.createElement("h1", null, "Calendar View of Discount Events"),
          l.createElement(Yt.f, {
            views: r,
            popup: !0,
            defaultView: "month",
            localizer: fn,
            events: i,
            style: { height: 1e3 },
            showMultiDayTimes: !0,
            onSelectEvent: (e) =>
              console.log("selected ", (0, Zt.ZN)(e.resource)),
            eventPropGetter: (e) => {
              const t = e.resource;
              return {
                style: {
                  color: Boolean(t.start_date <= s && t.end_date >= s)
                    ? "green"
                    : "blue",
                },
              };
            },
          }),
          l.createElement("h1", null, "Remaining Discount Event without Dates"),
          l.createElement(Pn, {
            rows: n.filter((e) => e.start_date <= s && e.end_date >= s),
          }),
        );
      }
      function Pn(e) {
        const { rows: t } = e;
        return l.createElement(
          l.Fragment,
          null,
          t.map((e) =>
            l.createElement(Dn, { key: e.id, discountEventID: e.id }),
          ),
        );
      }
      !(function (e) {
        (e[(e.k_DisplayActiveAndUpcoming = 0)] = "k_DisplayActiveAndUpcoming"),
          (e[(e.k_DisplayActive = 1)] = "k_DisplayActive"),
          (e[(e.k_DisplayUpcoming = 2)] = "k_DisplayUpcoming"),
          (e[(e.k_DisplayExpired = 3)] = "k_DisplayExpired"),
          (e[(e.k_DisplayAll = 4)] = "k_DisplayAll");
      })(bn || (bn = {}));
      var Tn = a(85556),
        Nn = a(16997);
      class Rn {
        m_oDiscountEvent = null;
        m_originalDiscountEvent = null;
        m_bDirty = !1;
        m_callback = new me.pB();
        constructor(e) {
          (0, Zt.rC)(this), this.Reset(e);
        }
        Reset(e) {
          (this.m_originalDiscountEvent = JSON.parse(JSON.stringify(e))),
            (this.m_oDiscountEvent = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oDiscountEvent;
        }
        GetID() {
          return this.m_oDiscountEvent.id;
        }
        GetType() {
          return this.m_oDiscountEvent.type;
        }
        GetName() {
          return this.m_oDiscountEvent.name;
        }
        GetDescription() {
          return this.m_oDiscountEvent.description;
        }
        GetStartDate() {
          return this.m_oDiscountEvent.start_date;
        }
        GetEndDate() {
          return this.m_oDiscountEvent.end_date;
        }
        GetAppIDs() {
          return this.m_oDiscountEvent.appids;
        }
        GetPublisherIDs() {
          return this.m_oDiscountEvent.publisherids;
        }
        GetCollisionType() {
          return this.m_oDiscountEvent.collision_type;
        }
        GetCutOffTime() {
          return this.m_oDiscountEvent.cutoff;
        }
        GetEventString() {
          return this.m_oDiscountEvent.event;
        }
        GetHeaderString() {
          return this.m_oDiscountEvent.header;
        }
        GetTooltip() {
          return this.m_oDiscountEvent.tooltip;
        }
        BPreventWeeklong() {
          return "on" == this.m_oDiscountEvent.prevent_weeklong;
        }
        GetPreventWeeklong() {
          return this.m_oDiscountEvent.prevent_weeklong;
        }
        GetOptInName() {
          return this.m_oDiscountEvent.opt_in_name;
        }
        SetName(e) {
          this.m_oDiscountEvent.name != e &&
            ((this.m_oDiscountEvent.name = e), this.Dispatch());
        }
        SetStartDate(e) {
          this.m_oDiscountEvent.start_date != e &&
            ((this.m_oDiscountEvent.start_date = e), this.Dispatch());
        }
        SetEndDate(e) {
          this.m_oDiscountEvent.end_date != e &&
            ((this.m_oDiscountEvent.end_date = e), this.Dispatch());
        }
        SetOptInName(e) {
          this.m_oDiscountEvent.opt_in_name != e &&
            ((this.m_oDiscountEvent.opt_in_name = e), this.Dispatch());
        }
        RevertChanges() {
          (this.m_oDiscountEvent = JSON.parse(
            JSON.stringify(this.m_originalDiscountEvent),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, Tn.gn)([Zt.LO], Rn.prototype, "m_bDirty", void 0),
        (0, Tn.gn)([Nn.a], Rn.prototype, "SetName", null),
        (0, Tn.gn)([Nn.a], Rn.prototype, "SetStartDate", null),
        (0, Tn.gn)([Nn.a], Rn.prototype, "SetEndDate", null),
        (0, Tn.gn)([Nn.a], Rn.prototype, "SetOptInName", null),
        (0, Tn.gn)([Nn.a], Rn.prototype, "RevertChanges", null);
      var Gn = a(20417);
      class xn {
        m_model = null;
        InitDiscountEventToEdit(e, t = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(e),
                t && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new Rn(e)),
            this.m_model
          );
        }
        GetDiscountEventToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static s_Singleton;
        static Get() {
          return (
            xn.s_Singleton ||
              ((xn.s_Singleton = new xn()),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_DiscountEventEditStore = xn.s_Singleton)),
            xn.s_Singleton
          );
        }
        constructor() {}
      }
      function Ln() {
        const e = (0, Gn.NW)(),
          [t, a] = l.useState(xn.Get().GetDiscountEventToEdit());
        return (
          (0, Gn.Qg)(t?.GetCallback(), (t) => {
            a(t), e();
          }),
          t
        );
      }
      function Bn(e) {
        const [t] = [
            l.useCallback(
              () =>
                !!xn.Get().GetDiscountEventToEdit() &&
                xn.Get().GetDiscountEventToEdit().BIsDirty(),
              [],
            ),
            l.useCallback(() => {
              xn.Get().ClearEditModel();
            }, []),
          ],
          a = Ln();
        l.useEffect(
          () => (
            (window.onbeforeunload = () =>
              t() ? (0, O.Xx)("#DailyDeals_UnsavedChanges") : null),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [t],
        );
        return l.createElement(o.NL, {
          message: (e) =>
            !a ||
            !t() ||
            e.pathname == "promotion/" + Lr.DiscountEventEditor(a.GetID()) ||
            (0, O.Xx)("#DailyDeals_UnsavedChanges"),
        });
      }
      function Mn(e) {
        const { discountEventID: t } = e,
          a = (0, te.vc)(t),
          [n, i] = l.useState(!1);
        if (
          (l.useEffect(() => {
            a && (xn.Get().InitDiscountEventToEdit(a), i(!0));
          }, [a, t]),
          !a)
        )
          return l.createElement(
            "div",
            null,
            l.createElement("div", null, "Cannot find discount event ", t),
            l.createElement(
              s.rU,
              { to: Lr.DiscountEventDashboard() },
              "Return to discount event dashboard",
            ),
          );
        if (!n)
          return l.createElement(x.V, {
            size: "medium",
            position: "center",
            string: (0, O.Xx)("#Loading"),
          });
        const r = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          o = [
            {
              name: "Editor Tab",
              key: "editor",
              contents: l.createElement(C.SV, null, l.createElement(On, null)),
              onClick: r,
            },
            {
              name: "Debug Tab",
              key: "debug",
              contents: l.createElement(C.SV, null, l.createElement(Fn, null)),
              onClick: r,
            },
          ];
        return l.createElement(
          "div",
          { className: y().AdminPageCtn },
          l.createElement(Bn, null),
          l.createElement(
            "div",
            { className: q.ButtonRow },
            l.createElement(
              s.rU,
              {
                to: Lr.DiscountEventDashboard(),
                className: (0, B.Z)(y().DashLink, q.DashLink),
              },
              l.createElement(R.Ehc, { angle: 270 }),
              l.createElement(
                "div",
                null,
                "Return to Discount Event Dashboard",
              ),
            ),
            l.createElement(
              "a",
              {
                href: la.De.PARTNER_BASE_URL + "promotion/planning/dashboard",
                className: (0, B.Z)(y().DashLink, q.DashLink),
              },
              l.createElement(
                "div",
                null,
                "Go to Promotion Planning Dashboard",
              ),
            ),
          ),
          l.createElement(G.n, { tabs: o }),
          l.createElement("div", { className: P().ClearThings }),
        );
      }
      function On(e) {
        Ln();
        return l.createElement(
          "div",
          { className: q.EditCtn },
          l.createElement(
            "div",
            { className: y().PageTitle },
            "Discount Event ",
            l.createElement("span", null, "Edit Details"),
          ),
          l.createElement("hr", null),
          l.createElement(
            "div",
            null,
            "This page is only visible to and editable by Valve",
          ),
          l.createElement("br", null),
          l.createElement(
            "div",
            { className: y().ColumnCtn },
            l.createElement("div", { className: y().LeftCol }),
          ),
        );
      }
      function Fn(e) {
        const t = Ln(),
          a = t.BIsDirty();
        return l.createElement(
          "div",
          null,
          l.createElement("div", null, "Debug Panel"),
          l.createElement("hr", null),
          l.createElement("div", null, "Is dirty?: ", a),
          l.createElement(m.G, { data: t.GetModel() }),
        );
      }
      var Un = a(1698),
        Hn = a(69155),
        Vn = a(90960),
        Xn = a(5697),
        jn = a(73799),
        qn = a.n(jn),
        Wn = (a(2041), a(87380));
      const zn = l.createContext({
        loadAppPromoSaleFeaturing: async (e, t) =>
          await (function (e) {
            Kn ||
              (Kn = new (qn())(
                async (t) => {
                  const a = sn.gA.Init(Xn.Al);
                  a.Body().set_appids([...t]),
                    a.Body().set_exclude_direct_featuring(!0),
                    a.Body().set_exclude_sales(!1);
                  const n = await Xn.nd.GetAllPlansForApps(e, a);
                  if (!n.BSuccess())
                    throw `Failed to load app featuring on promo plans details: ${n.GetErrorMessage()}`;
                  const i = new Map();
                  n.Body()
                    .plans()
                    .forEach((e) => {
                      const t = e.toObject();
                      (0, Wn.kA)(t);
                      const a = JSON.parse(t.admin_jsondata);
                      a.sale_clan_event_gid &&
                        (i.has(a.sale_clan_event_gid)
                          ? i.get(a.sale_clan_event_gid).push(t.promotion_id)
                          : i.set(a.sale_clan_event_gid, [t.promotion_id]));
                    });
                  const r = new Map();
                  return (
                    n
                      .Body()
                      .apps_included_in_sales()
                      .forEach((e) => {
                        const t = e.toObject();
                        t.appids.forEach((e) => {
                          r.has(e) || r.set(e, new Array());
                          const a = i.get(t.clan_event_gid);
                          a && a.forEach((t) => r.get(e).push(t));
                        });
                      }),
                    t.map((e) => r.get(e))
                  );
                },
                { maxBatchSize: 10 },
              ));
            return Kn;
          })(t).load(e),
      });
      function Zn(e, t, a) {
        return {
          queryKey: ["AppFeaturedOnPromoPlan", a],
          queryFn: () => e.loadAppPromoSaleFeaturing(a, t),
          enabled: !!a,
        };
      }
      let Kn;
      function Qn() {
        const e = (0, Wn.XL)(),
          t = (function () {
            const [e] = (0, l.useState)(() => {
              const e = (0, Le.kQ)(
                  "marketing_messages_metadataonly",
                  "application_config",
                ),
                t = new Map();
              return e
                ? (e.forEach((e) => {
                    if (e.associated_id) {
                      let a = -1;
                      switch (e.association_type) {
                        case 1:
                          a = 0;
                          break;
                        case 2:
                          a = 1;
                          break;
                        case 5:
                          a = 2;
                      }
                      if (-1 != a) {
                        const n = (0, v.qw)(e.associated_id, a);
                        t.has(n) ? t.get(n).push(e) : t.set(n, [e]);
                      }
                    }
                  }),
                  t)
                : t;
            });
            return e;
          })(),
          a = (0, h.JE)(),
          n = (0, re.P9)(),
          i = (0, Wn.yw)();
        return {
          mapStoreItemToPlans: e,
          mapStoreItemToMMs: t,
          mapStoreItemToDailyDeals: a,
          mapStoreItemToInvites: n,
          mapMMFeaturedInPlans: (0, l.useMemo)(() => {
            const e = new Map();
            return (
              i.map((t) => {
                t.marketing_message_ids &&
                  t.marketing_message_ids.forEach((a) => e.set(a, t.id));
              }),
              e
            );
          }, [i]),
        };
      }
      var Yn = a(62738),
        Jn = a(87225);
      class $n {
        m_mapPartnerToContactInfo = new Map();
        m_mapPromisePartnerLoading = new Map();
        async FetchValvePartnerContacts(e) {
          const t =
              u.De.PARTNER_BASE_URL + "actions/ajaxgetpartnervalvecontacts",
            a = { sessionid: u.De.SESSIONID, strPartnerIDs: e.join(",") },
            n = await ce().get(t, { params: a, withCredentials: !0 });
          return 200 == n?.status && 1 == n?.data.success
            ? n.data.contacts
            : [];
        }
        async LoadValvePartnerContact(e) {
          return e
            ? this.m_mapPartnerToContactInfo.has(e)
              ? this.m_mapPartnerToContactInfo.get(e)
              : (this.m_mapPromisePartnerLoading.has(e) ||
                  this.m_mapPromisePartnerLoading.set(
                    e,
                    this.InternalLoadValvePartnerContact(e),
                  ),
                this.m_mapPromisePartnerLoading.get(e))
            : [];
        }
        async InternalLoadValvePartnerContact(e) {
          return this.FetchValvePartnerContacts([e]);
        }
        static s_Singleton;
        static Get() {
          return (
            $n.s_Singleton ||
              (($n.s_Singleton = new $n()),
              $n.s_Singleton.Init(),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_PartnerValveContactStore = $n.s_Singleton)),
            $n.s_Singleton
          );
        }
        Init() {
          const e = (0, u.ip)(
            "partner_valve_contact_list",
            "application_config",
          );
          e &&
            e.forEach((e) => {
              this.m_mapPartnerToContactInfo.has(e.partnerid)
                ? this.m_mapPartnerToContactInfo.get(e.partnerid).push(e)
                : this.m_mapPartnerToContactInfo.set(e.partnerid, [e]);
            });
        }
      }
      function ei(e, t, a) {
        const [n, i] = (0, l.useState)(null),
          r = (function (e) {
            const { data: t, isLoading: a } = (0, at.useQuery)(
              ["PartnerValveContactByPartnerID", e],
              () => $n.Get().LoadValvePartnerContact(e),
            );
            return a ? null : t;
          })(e);
        return (
          (0, l.useEffect)(() => {
            if (r?.length > 0) {
              const e = r
                .filter((e) => !e.appid || e.appid == t)
                .filter(
                  (e) =>
                    "any" == a ||
                    ("business" == a && e.is_business_contact) ||
                    ("tech" == a && e.is_tech_contact),
                )
                .map((e) => new Yn.Kg(e.steamid).GetAccountID());
              i(Jn.kp(e));
            }
          }, [r, t, a]),
          n
        );
      }
      var ti = a(95315),
        ai = a(98199),
        ni = a.n(ai),
        ii = a(22042),
        ri = a(11619),
        li = a(38201),
        si = a(63816),
        oi = a(86984),
        ci = a(40810);
      function mi(e) {
        const { strLabel: t, strToolTip: a, fnSetPartner: n, className: i } = e,
          { fnFindPartnerByName: r } = (0, ae.kr)(),
          s = (0, l.useRef)(null),
          o = (0, l.useRef)(null),
          c = (0, l.useRef)(0),
          m = (0, l.useRef)();
        (0, l.useEffect)(
          () => () => {
            window.clearTimeout(c.current),
              s.current && s.current("SearchForPartner: unmounting"),
              o.current && o.current.Hide();
          },
          [],
        );
        const d = (0, l.useCallback)(
          async (e) => {
            const t = e.target.value;
            t &&
              0 != t.trim().length &&
              (window.clearTimeout(c.current),
              s.current && s.current("SearchForPartner: new request"),
              (c.current = window.setTimeout(async () => {
                const e = ce().CancelToken.source();
                s.current = e.cancel;
                try {
                  const a = await r(t);
                  if (e.token.reason) return;
                  o.current = (0, ti.yV)(
                    l.createElement(di, { list: a, fnSetPartner: n }),
                    m.current.element,
                    {
                      bOverlapHorizontal: !0,
                      bMatchWidth: !0,
                      bFitToWindow: !0,
                      bDisablePopTop: !0,
                      bNoFocusWhenShown: !0,
                      bSkipFocusWhenReady: !0,
                    },
                  );
                } catch (t) {
                  if (e.token.reason) return;
                  const a = (0, Me.l)(t);
                  console.log(
                    "SearchForPartner.SearchPartnerStore error " +
                      a.strErrorMsg,
                    a,
                  );
                }
              }, 300)));
          },
          [r, n],
        );
        return l.createElement(
          C.SV,
          null,
          l.createElement(b.II, {
            type: "text",
            label: t,
            className: i,
            placeholder: "Search partner names",
            onChange: d,
            onBlur: (e) => setTimeout(() => o.current && o.current.Hide(), 200),
            ref: m,
            tooltip: a,
          }),
        );
      }
      function di(e) {
        const { list: t, fnSetPartner: a } = e;
        return l.createElement(
          ii.xV,
          { className: ci.SearchResults },
          t.map((e) =>
            l.createElement(
              ii.Zo,
              { key: "curatorresult" + e.partnerid, onSelected: () => a(e) },
              l.createElement(
                "div",
                { style: { display: "flex", alignItems: "center" } },
                e.name,
                " (",
                e.partnerid,
                ")",
              ),
            ),
          ),
        );
      }
      var ui = a(47986),
        pi = a(84676),
        _i = a(98973),
        hi = a.n(_i);
      class gi {
        m_mapAppToPartners = new Map();
        GetMap() {
          return this.m_mapAppToPartners;
        }
        static s_Singleton;
        static Get() {
          return (
            gi.s_Singleton ||
              ((gi.s_Singleton = new gi()), gi.s_Singleton.Init()),
            gi.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, Le.kQ)("app_paid_publishers", "application_config");
          console.log("LIST:", e),
            e.forEach((e) => {
              this.m_mapAppToPartners.has(e.appid) ||
                this.m_mapAppToPartners.set(e.appid, new Array()),
                this.m_mapAppToPartners.get(e.appid).push(...e.publisherid);
            });
        }
      }
      function Ei(e) {
        const t = (function () {
          const [e, t] = (0, l.useState)(() => gi.Get().GetMap());
          return e;
        })();
        return (0, l.useMemo)(() => (e && t.has(e) ? t.get(e) : []), [e, t]);
      }
      const Si = 60;
      function vi(e) {
        return l.createElement(
          "div",
          {
            className: (0, B.Z)(
              ga().Container,
              y().AdminPageCtn,
              y().WidePageCtn,
            ),
          },
          l.createElement(
            "div",
            { className: (0, B.Z)(y().PageTitle, ni().PageTitle) },
            l.createElement("div", null, "Promo Invitation Planner (VO)"),
            l.createElement(Ct, null),
          ),
          l.createElement("hr", { className: "VO" }),
          l.createElement(yi, null),
        );
      }
      const Di = 180 * le._H.PerDay,
        fi = 90 * le._H.PerDay;
      function yi(e) {
        const t = (function () {
            const [e] = (0, l.useState)(() =>
              (0, Le.kQ)("candidate_app_info", "application_config"),
            );
            return e;
          })(),
          a = (0, l.useMemo)(
            () =>
              [...t].sort(
                (e, t) =>
                  (-1 != e.modified_sales_rank ? e.modified_sales_rank : 1e5) -
                  (-1 != t.modified_sales_rank ? t.modified_sales_rank : 1e5),
              ),
            [t],
          ),
          n = Qn(),
          [i] = (0, se.Ar)("appidlist", ""),
          [r] = (0, se.Ar)("partneridlist", ""),
          [s] = (0, se.Ar)("bundleid", ""),
          o = i?.length > 0 || r?.length > 0 || s?.length > 0,
          [c, m] = (0, se.Ar)("freetoplay", o),
          [d, u] = (0, se.Ar)("adultonly", o),
          [p, _] = (0, se.Ar)("earlyaccess", !0),
          [h, g] = (0, se.Ar)("recentorupcomingfeaturing", o),
          [E, S] = (0, se.Ar)("recentorupcomingrelease", o),
          [D, f] = (0, se.Ar)("vr_required", o),
          [y, I] = (0, se.Ar)("unfeatured", !1),
          [k, A] = (0, se.Ar)("unassigned", !1),
          [w, P] = (0, se.Ar)("software", !0),
          [T, N] = (0, se.Ar)("excludetags", ""),
          [R, G] = (0, se.Ar)("requiretags", ""),
          [x, L] = (0, se.Ar)("rt_feature_start", 0),
          [B, M] = (0, se.Ar)("rt_feature_end", 0),
          O = (e, t, a, n) => {
            const i = a.split(","),
              r = i.findIndex((t) => t == e.toString());
            if (t && -1 == r) {
              let t = a;
              t.length > 0 && (t += ","), n(t + e);
            } else t || -1 == r || (i.splice(r, 1), n(i.toString()));
          },
          [F, U] = (0, l.useMemo)(() => {
            if (d && c && p && h && E && D && !y && w && !T)
              return [[...a], a.map((e) => e.appid)];
            const e = Math.floor(Date.now() / 1e3) - fi,
              t = Math.floor(Date.now() / 1e3) - Di,
              i = new Set(T.split(",")),
              r = new Set(R.split(",")),
              l = a.filter((a) => {
                if (!d && a.content_descriptors?.includes(3)) return !1;
                if (!c && a.freetoplay) return !1;
                if (!p && a.earlyaccess) return !1;
                if (
                  !E &&
                  Math.floor(new Date(a.release_date).getTime() / 1e3) > e
                )
                  return !1;
                if (!h || y) {
                  const e = (function (e, t) {
                    let a = 0;
                    const n = (0, v.qw)(t.appid, 0);
                    return e.mapStoreItemToInvites.get(n)?.length > 0
                      ? Math.floor(Date.now() / 1e3)
                      : (e.mapStoreItemToDailyDeals.get(n)?.forEach((e) => {
                          e.rtime32_start_time > a &&
                            (a = e.rtime32_start_time);
                        }),
                        e.mapStoreItemToPlans.get(n)?.forEach((e) => {
                          "assetrequest" != e.type &&
                            e.start_date > a &&
                            (a = e.start_date);
                        }),
                        a);
                  })(n, a);
                  if (!h && e > t) return !1;
                  if (y && 0 != e) return !1;
                }
                if (!D && a.vr_required) return !1;
                if (!w && "software" == a.type) return !1;
                if (T) {
                  if (a.tagids.split(",").filter((e) => i.has(e)).length > 0)
                    return !1;
                }
                if (R) {
                  let e = a.tagids.split(",");
                  if (r.size != e.filter((e) => r.has(e)).length) return !1;
                }
                return !0;
              });
            return [l, l.map((e) => e.appid)];
          }, [a, c, d, p, y, E, D, h, n, w, T, R]);
        "dev" == la.De.WEB_UNIVERSE &&
          console.log("DEV_DEBUG: candidates apps", a, F);
        const H =
          (c ? "&freetoplay=true" : "") +
          (d ? "&adultonly=true" : "") +
          (p ? "" : "&earlyaccess=false") +
          (h ? "&recentorupcomingfeaturing=true" : "") +
          (E ? "&recentorupcomingrelease=true" : "") +
          (D ? "&vr_required=true" : "") +
          (y ? "&unfeatured=true" : "") +
          (r ? "&partneridlist=" + r : "") +
          (w ? "" : "&software=false") +
          (k ? "&unassigned=true" : "") +
          (T ? "&excludetags=" + T : "") +
          (R ? "&requiretags=" + R : "") +
          (s ? "&bundleid=" + s : "") +
          (B && x ? "&rt_feature_start=" + x + "&rt_feature_end=" + B : "");
        return l.createElement(
          C.SV,
          null,
          l.createElement(
            "div",
            { className: ni().FilterRow },
            l.createElement(
              "div",
              { className: ni().FiltersWrap },
              l.createElement(b.ji, {
                label: "EA",
                className: ni().Filter,
                tooltip: "Early Access games",
                checked: p,
                onChange: _,
              }),
              l.createElement(b.ji, {
                label: "F2P",
                className: ni().Filter,
                checked: c,
                onChange: m,
              }),
              l.createElement(b.ji, {
                label: "AO",
                className: ni().Filter,
                checked: d,
                onChange: u,
              }),
              l.createElement(b.ji, {
                label: "VR",
                className: ni().Filter,
                checked: D,
                onChange: f,
                tooltip:
                  "Include games that require VR to play? Does not affect desktop games that also have VR support",
              }),
              l.createElement(b.ji, {
                label: "New Release",
                className: ni().Filter,
                tooltip:
                  "Include games released in the past 3 months or future?",
                checked: E,
                onChange: S,
              }),
              l.createElement(b.ji, {
                label: "Recent/Future Featuring",
                className: ni().Filter,
                tooltip:
                  "Include games featured in the future, now, or within the past 6 months?",
                checked: h,
                onChange: g,
              }),
              l.createElement(b.ji, {
                label: "Software",
                className: ni().Filter,
                checked: w,
                onChange: P,
                tooltip: "Include apps that are the software type.",
              }),
              l.createElement(b.ji, {
                label: "Unfeatured Only",
                className: ni().Filter,
                checked: y,
                onChange: I,
                tooltip:
                  "Only shows game that we do not have any recorded featuring for.",
              }),
              l.createElement(b.ji, {
                label: "No Valve Contact Only",
                className: ni().Filter,
                checked: k,
                onChange: (e) => {
                  A(e), window.location.reload();
                },
                tooltip: "Only shows games that do not have a Valve contact.",
              }),
            ),
            l.createElement(
              "div",
              { className: ni().CollectionControlsContainer },
              l.createElement(
                "div",
                { className: ni().Filter },
                l.createElement(Vi, {
                  strLabel: "Exclude Tag",
                  fnOnTagSelected: (e, t) => {
                    O(e, t, T, N);
                  },
                  strSelectedTagIDs: T,
                }),
              ),
              l.createElement(
                "div",
                { className: ni().Filter },
                l.createElement(Vi, {
                  strLabel: "Require Tag",
                  fnOnTagSelected: (e, t) => {
                    O(e, t, R, G);
                  },
                  strSelectedTagIDs: R,
                }),
              ),
              l.createElement(bi, null),
            ),
            l.createElement(Xi, {
              rtUpcomingFeatureStart: x,
              rtUpcomingFeatureEnd: B,
              setUpcomingFeatureStart: L,
              setUpcomingFeatureEnd: M,
              strQueryPlan: H,
            }),
          ),
          l.createElement(Ci, { nDisplayedApps: U.length, strQueryParams: H }),
          l.createElement(ki, {
            rgCandidateApps: F,
            rgAppIDs: U,
            oFeaturingMaps: n,
          }),
          l.createElement(Ci, { nDisplayedApps: U.length, strQueryParams: H }),
        );
      }
      function bi(e) {
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(mi, {
            strLabel: "By Partner",
            className: ni().Filter,
            strToolTip:
              "Show the invitation data but limited to the specific partner",
            fnSetPartner: (e) =>
              (0, mt.R6)(
                window,
                `${la.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?partneridlist=${e.partnerid}`,
              ),
          }),
          l.createElement(ui.u, {
            itemType: 0,
            className: ni().Filter,
            strLabel: "Find an App",
            tooltip: "Loads the page with the app specified",
            fnSetItemID: (e) =>
              (0, mt.R6)(
                window,
                `${la.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?appidlist=${e}`,
              ),
          }),
          l.createElement(ui.u, {
            itemType: 2,
            className: ni().Filter,
            strLabel: "Find a Bundle",
            tooltip:
              "Loadsthe bundle specified and pulls all of its underlying apps",
            fnSetItemID: (e) =>
              (0, mt.R6)(
                window,
                `${la.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?bundleid=${e}`,
              ),
          }),
          l.createElement(
            "div",
            { className: ni().AppInputCtn },
            l.createElement(b.__, null, "Multiple Apps"),
            l.createElement(
              b.zx,
              {
                onClick: (e) =>
                  (0, N.AM)(l.createElement(Ii, null), (0, M.RA)(e)),
              },
              "Look Up Multiple Apps...",
            ),
          ),
        );
      }
      function Ii(e) {
        const { closeModal: t } = e,
          [a, n] = l.useState("");
        return l.createElement(
          T.uH,
          {
            strTitle: "View App List",
            strDescription:
              "Opens an invitation page with the apps list below.",
            onCancel: t,
            onOK: () => {
              const e = a
                .replace(/\n/g, "|")
                .split("|")
                .map((e) => {
                  const t = Number.parseInt(e);
                  return t > 0 ? t : null;
                })
                .filter(Boolean)
                .join(",");
              (0, mt.R6)(
                window,
                `${la.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?appidlist=${e}`,
              );
            },
            bOKDisabled: 0 == a.trim().length,
          },
          l.createElement("div", null, "Enter App IDs seperated by new lines:"),
          l.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => n(e.currentTarget.value),
            value: a,
            autoFocus: !0,
          }),
        );
      }
      function Ci(e) {
        const { nDisplayedApps: t, strQueryParams: a } = e,
          [n] = (0, se.Ar)("start", 1),
          [i] = (0, se.Ar)("count", 50),
          [r] = (0, l.useState)(
            () => Boolean((0, Le.kQ)("rank_range", "application_config")) || !1,
          ),
          [s] = (0, l.useState)(() =>
            (0, Le.kQ)("rank_range_size", "application_config"),
          ),
          [o] = (0, l.useState)(() =>
            (0, Le.kQ)("total_apps", "application_config"),
          ),
          c = r || o > i,
          m = !!r || n + i - 1 < o,
          d = r ? n + s : n + i;
        let u = null;
        if (r)
          u = l.createElement(
            "div",
            null,
            "Showing ",
            t,
            " Apps between Long Term Sales rank ",
            n,
            " to ",
            n + (s - 1),
            ".",
          );
        else if (c) {
          const e = m ? n + (i - 1) : o;
          u = l.createElement(
            "div",
            null,
            "Showing ",
            t,
            " Apps between ",
            n,
            " to ",
            e,
            " of ",
            o,
            " total",
          );
        } else u = l.createElement("div", null, "Showing ", t, " Apps of ", o);
        return l.createElement(
          "div",
          { className: ni().PagingRow },
          Boolean(c) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "a",
                {
                  href:
                    n > 0
                      ? `${la.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?start=${Jt.Lh(n - i, 0, Number.MAX_SAFE_INTEGER)}&count=${i}${a}`
                      : "#",
                },
                l.createElement(b.zx, { disabled: n <= 1 }, "<", " Prev Page"),
              ),
              l.createElement(
                "a",
                {
                  href: m
                    ? `${la.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?start=${d}&count=${i}${a}`
                    : "#",
                },
                l.createElement(b.zx, { disabled: !m }, "Next Page ", ">"),
              ),
            ),
          u,
        );
      }
      function ki(e) {
        const { rgCandidateApps: t, rgAppIDs: a, oFeaturingMaps: n } = e,
          i = (0, ue.zD)(),
          r = i - le._H.PerDay * (Si + 1),
          s = (0, Ma.dI)(r, i - le._H.PerDay, a),
          o = (function () {
            const [e] = (0, l.useState)(() =>
              (0, Le.kQ)("upcoming_discount_app_details", "application_config"),
            );
            return (0, l.useMemo)(() => {
              const t = new Map();
              return e?.length > 0 && e.forEach((e) => t.set(e.appid, e)), t;
            }, [e]);
          })();
        return l.createElement(
          "table",
          { className: (0, B.Z)(ni().CandidateTable, "landingTable") },
          l.createElement(
            "thead",
            null,
            l.createElement(
              "tr",
              null,
              l.createElement("th", { colSpan: 5 }),
              l.createElement(
                "th",
                { colSpan: 2, className: (0, B.Z)(ni().CandidateHeader) },
                "Trailing ",
                Si,
                " days",
              ),
              l.createElement("th", null),
            ),
            l.createElement(
              "tr",
              null,
              l.createElement("th", null, "Rank"),
              l.createElement(
                "th",
                null,
                l.createElement(
                  "div",
                  { className: ni().ModRankHeaderContent },
                  "Mod Rank ",
                  l.createElement(
                    "div",
                    { className: ni().HeaderDownArrowSVG },
                    l.createElement(R.$gZ, null),
                  ),
                ),
              ),
              l.createElement("th", null, "Game"),
              l.createElement("th", null, "Last Discount and Featuring"),
              l.createElement("th", null, "Deepest Discount"),
              l.createElement("th", null, "Package Rev"),
              l.createElement("th", null, "Days in Discount"),
              l.createElement("th", null, "actions"),
            ),
          ),
          l.createElement(
            "tbody",
            null,
            t.map((e) =>
              l.createElement(Ai, {
                key: e.appid,
                appInfo: e,
                oFeaturingMaps: n,
                oRevenueSummary: s,
                oUpcomingAppDiscountInfo: o.get(e.appid),
              }),
            ),
          ),
        );
      }
      function Ai(e) {
        const {
          appInfo: t,
          oFeaturingMaps: a,
          oRevenueSummary: n,
          oUpcomingAppDiscountInfo: i,
        } = e;
        return l.createElement(
          "tr",
          { className: ni().CandidateRow },
          l.createElement(
            "td",
            { className: ni().SalesRank },
            t.long_term_sales_rank,
          ),
          l.createElement(
            "td",
            { className: ni().SalesRank },
            t.modified_sales_rank >= 0 ? t.modified_sales_rank : "",
          ),
          l.createElement(
            "td",
            null,
            l.createElement(Li, { appInfo: t }),
            l.createElement(Ui, { appInfo: t }),
          ),
          l.createElement(
            "td",
            null,
            l.createElement(
              "div",
              null,
              Boolean(i) &&
                l.createElement(Pi, { oUpcomingAppDiscountInfo: i }),
              l.createElement(Mi, { appInfo: t }),
              l.createElement(Bi, { appInfo: t, oFeaturingMaps: a }),
            ),
          ),
          l.createElement("td", null, l.createElement(Oi, { appInfo: t })),
          l.createElement(
            "td",
            null,
            l.createElement(
              "div",
              { className: ni().ModifiedRevenue },
              l.createElement(
                "div",
                null,
                "Gross: ",
                Boolean(n)
                  ? (0, oi._2)(
                      n.GetAppSaleSummary(t.appid)?.gross_sales_usd / 100 || 0,
                    )
                  : l.createElement(x.V, { size: "small" }),
              ),
              l.createElement(
                "div",
                null,
                "Mod Gross: ",
                (0, oi._2)(t.app_revenue / 1e4 || 0),
              ),
              l.createElement(
                "div",
                null,
                "Mod Adj: ",
                (0, oi._2)(t.modified_app_revenue / 1e4 || 0),
              ),
            ),
          ),
          l.createElement(
            "td",
            { className: ni().DaysInDiscount },
            l.createElement(Ti, { appInfo: t }),
          ),
          l.createElement(
            "td",
            { className: ni().InviteActions },
            l.createElement(Ri, { appInfo: t, oFeaturingMaps: a }),
          ),
        );
      }
      function wi(e) {
        return new Intl.NumberFormat("en-US", {
          style: "currency",
          currency: "USD",
          minimumFractionDigits: 2,
          maximumFractionDigits: 2,
        }).format(e / 100);
      }
      function Pi(e) {
        const { oUpcomingAppDiscountInfo: t } = e,
          [a] = (0, D.ie)(t.cheapest_package_id, {});
        return l.createElement(
          "div",
          null,
          l.createElement("div", null, "Upcoming: ", t.cheapest_discount_name),
          l.createElement(si.J, {
            startTimestamp: t.rtime_discount_start,
            endTimestamp: t.rtime_discount_end,
            largeDate: !1,
          }),
          l.createElement(
            "div",
            null,
            "Cheapest Package: ",
            a?.GetName() || "",
            " (",
            t.cheapest_package_id,
            ")",
          ),
          l.createElement(ri.Vh, {
            bSingleLineMode: !0,
            nBaseDiscountPercentage: 0,
            nDiscountPercentage: t.discount_percentage,
            strBestPurchaseOriginalPriceFormatted: wi(
              t.package_original_price_usd,
            ),
            strBestPurchasePriceFormatted: wi(t.discounted_price_usd),
            bIsPrePurchase: !1,
            bHideDiscountPercentForCompliance: !1,
            bShowNewFlag: !1,
          }),
          Boolean(t.num_discounted_packages > 1) &&
            l.createElement(
              "div",
              null,
              "Includes ",
              t.num_discounted_packages,
              " additional packages",
            ),
        );
      }
      function Ti(e) {
        const { appInfo: t } = e,
          a = (0, Vn.q_)(t.appid);
        return a
          ? l.createElement(
              ee.V,
              { rgPackagesToLoad: a, size: "small" },
              l.createElement(Ni, { rgPackageIDs: a }),
            )
          : l.createElement(x.V, { string: "Loading Packages", size: "small" });
      }
      function Ni(e) {
        const { rgPackageIDs: t } = e,
          a = (0, ue.zD)(),
          n = a - le._H.PerDay * (Si + 1),
          { nDaysInDiscount: i } = (0, Oe.L1)(t, n, a - le._H.PerDay);
        return l.createElement(l.Fragment, null, i);
      }
      function Ri(e) {
        const { appInfo: t, oFeaturingMaps: a } = e,
          n = (0, v.qw)(t.appid, 0),
          i = a.mapStoreItemToInvites.get(n);
        return i?.length > 0
          ? l.createElement("div", null, "N/A")
          : l.createElement(
              "div",
              null,
              l.createElement(
                b.KM,
                {
                  onClick: (e) =>
                    (0, N.AM)(
                      l.createElement(nt, {
                        storeItemType: 0,
                        storeItemID: t.appid,
                      }),
                      (0, M.RA)(e),
                    ),
                },
                "Invite...",
              ),
            );
      }
      const Gi = "en-US",
        xi = { month: "long", day: "numeric", year: "numeric" };
      function Li(e) {
        const { appInfo: t } = e,
          a = new Date(t.release_date),
          n = (0, l.useMemo)(() => ({ id: t.appid, type: "game" }), [t]),
          i = (0, Vn.q_)(t.appid),
          r = (0, Vn.eD)(t.appid),
          s = new Date(t.release_date).getTime() / 1e3;
        return l.createElement(
          "div",
          { className: ni().AppCtn },
          l.createElement(
            Oa.ll,
            {
              item: n,
              hoverProps: {
                direction: "overlay",
                style: { minWidth: "320px" },
              },
            },
            l.createElement("img", {
              className: ni().AppImgCtn,
              src: `https://cdn.cloudflare.steamstatic.com/steam/apps/${t.appid}/capsule_231x87.jpg`,
              loading: "lazy",
              alt: t.name,
            }),
          ),
          l.createElement(
            "div",
            null,
            l.createElement(
              "div",
              { className: ni().AppName },
              l.createElement(
                "a",
                {
                  href: `${la.De.PARTNER_BASE_URL}apps/landing/${t.appid}`,
                  target: "_blank",
                },
                t.name,
                " (",
                t.appid,
                ")",
              ),
              l.createElement("br", null),
              Boolean(t.freetoplay) &&
                l.createElement(
                  "span",
                  { className: ni().F2p },
                  "Free to Play",
                ),
              Boolean(t.earlyaccess) &&
                l.createElement("span", { className: ni().Ea }, "Early Access"),
              Boolean(t.vr_required) &&
                l.createElement(
                  "span",
                  { className: ni().VrRequired },
                  "VR Required",
                ),
              Boolean(t.vr_support && !t.vr_required) &&
                l.createElement(
                  "span",
                  { className: ni().VrSupported },
                  "VR Supported",
                ),
              Boolean(t.content_descriptors?.includes(3)) &&
                l.createElement("span", { className: ni().Ao }, "Adult Only"),
            ),
            l.createElement(
              "div",
              null,
              "Released: ",
              l.createElement(
                "b",
                null,
                l.createElement(
                  pe.HP,
                  {
                    toolTipContent: a.toLocaleDateString(Gi, xi),
                    className: ni().Inline,
                  },
                  (0, O.vX)(s),
                ),
              ),
            ),
            l.createElement(
              "div",
              null,
              "Reviews: ",
              t.reviews_filtered_positive,
              " / ",
              t.reviews_filtered_negative + t.reviews_filtered_positive,
              "; score: ",
              t.reviews_filtered_score,
            ),
            l.createElement(
              "div",
              null,
              i?.length || 0,
              " packages: Lowest USD ",
              (0, oi.y_)(r / 100),
            ),
          ),
        );
      }
      function Bi(e) {
        const { appInfo: t, oFeaturingMaps: a } = e,
          {
            mapStoreItemToPlans: n,
            mapStoreItemToDailyDeals: i,
            mapStoreItemToMMs: r,
            mapStoreItemToInvites: s,
          } = a,
          o = (0, v.qw)(t.appid, 0),
          c = n.get(o)?.sort((e, t) => t.start_date - e.start_date),
          m = i
            .get(o)
            ?.sort((e, t) => t.rtime32_start_time - e.rtime32_start_time),
          d = s.get(o)?.filter((e) => 1 == e.type),
          u = r
            .get(o)
            ?.filter((e) => !a.mapMMFeaturedInPlans.has(e.gid))
            .sort((e, t) => t.start_date - e.start_date),
          p = (function (e) {
            const t = (0, tt.i)(),
              a = l.useContext(zn);
            return (0, at.useQuery)(Zn(a, t, e));
          })(t.appid)
            ?.data?.map(Wn.J2)
            .filter(Boolean)
            .sort((e, t) => t.start_date - e.start_date),
          _ = Date.now() / 1e3,
          h = Date.now() / 1e3 - 1578e4,
          g = (0, l.useMemo)(() => {
            const e = new Array();
            return (
              p?.forEach((t) =>
                e.push({ date: t.start_date, type: "sp", promo: t }),
              ),
              c?.forEach((t) =>
                e.push({ date: t.start_date, type: "pp", promo: t }),
              ),
              m?.forEach((t) =>
                e.push({ date: t.rtime32_start_time, type: "dd", promo: t }),
              ),
              u?.forEach((t) =>
                e.push({ date: t.start_date, type: "mm", promo: t }),
              ),
              e.sort((e, t) => t.date - e.date)
            );
          }, [m, u, c, p]);
        return l.createElement(
          l.Fragment,
          null,
          Boolean(d || p || c || m || u) &&
            l.createElement(
              "div",
              { className: ni().RecentPromos },
              d?.map((e) =>
                l.createElement(
                  "div",
                  {
                    key: "invite_" + e.inviteid,
                    className: (0, B.Z)(ni().Promo, ni().OpenInvite),
                  },
                  "Open Daily Deal Invite (expires ",
                  (0, O.vX)(e.rtexpiretime),
                  ")",
                ),
              ),
              g.map((e) => {
                if ("sp" == e.type) {
                  const t = e.promo;
                  return l.createElement(
                    "div",
                    {
                      key: "saleplan_" + t.id,
                      className: (0, B.Z)(
                        ni().Promo,
                        t.start_date > _ ? ni().Upcoming : "",
                        t.start_date > h ? ni().Recent : "",
                      ),
                    },
                    l.createElement(
                      "a",
                      {
                        href: `${la.De.PARTNER_BASE_URL}promotion/planning/edit/${t.id}`,
                        target: "_blank",
                      },
                      l.createElement(
                        "b",
                        null,
                        (0, O.vX)(new Date(t.start_date).getTime()),
                      ),
                      " ",
                      l.createElement(
                        "b",
                        null,
                        Un.j.get(t.type),
                        " Sale Page",
                      ),
                      " ",
                      l.createElement("span", null, t.name),
                    ),
                  );
                }
                if ("pp" == e.type) {
                  const t = e.promo;
                  return l.createElement(
                    "div",
                    {
                      key: "plan_" + t.id,
                      className: (0, B.Z)(
                        ni().Promo,
                        t.start_date > _ ? ni().Upcoming : "",
                        t.start_date > h ? ni().Recent : "",
                      ),
                    },
                    l.createElement(
                      "a",
                      {
                        href: `${la.De.PARTNER_BASE_URL}promotion/planning/edit/${t.id}`,
                        target: "_blank",
                      },
                      l.createElement(
                        "b",
                        null,
                        (0, O.vX)(new Date(t.start_date).getTime()),
                      ),
                      " ",
                      l.createElement("b", null, Un.j.get(t.type)),
                      " ",
                      l.createElement("span", null, t.name),
                    ),
                  );
                }
                if ("dd" == e.type) {
                  const t = e.promo;
                  return l.createElement(
                    "div",
                    {
                      key: "dd_" + t.gid,
                      className: (0, B.Z)(
                        ni().Promo,
                        t.rtime32_start_time > _ ? ni().Upcoming : "",
                        t.rtime32_start_time > h ? ni().Recent : "",
                      ),
                    },
                    l.createElement(
                      "a",
                      {
                        href: `${la.De.PARTNER_BASE_URL}promotion/dailydeals/edit/${t.gid}`,
                        target: "_blank",
                      },
                      l.createElement(
                        "b",
                        null,
                        (0, O.vX)(new Date(t.rtime32_start_time).getTime()),
                      ),
                      " ",
                      l.createElement("b", null, "Daily Deal "),
                    ),
                  );
                }
                if ("mm" == e.type) {
                  const t = e.promo;
                  return l.createElement(
                    "div",
                    {
                      key: "mm_" + t.gid,
                      className: (0, B.Z)(
                        ni().Promo,
                        t.start_date > _ ? ni().Upcoming : "",
                        t.start_date > h ? ni().Recent : "",
                      ),
                    },
                    l.createElement(
                      "a",
                      {
                        href: `${la.De.PARTNER_BASE_URL}promotion/marketingmessages/edit/${t.gid}`,
                        target: "_blank",
                      },
                      l.createElement(
                        "b",
                        null,
                        (0, O.vX)(new Date(t.start_date).getTime()),
                      ),
                      " ",
                      l.createElement("b", null, "MM"),
                      " ",
                      l.createElement("span", null, t.title),
                    ),
                  );
                }
                return null;
              }),
            ),
        );
      }
      function Mi(e) {
        const { appInfo: t } = e,
          a = (0, Vn.q_)(t.appid);
        return a
          ? l.createElement(
              ee.V,
              { rgPackagesToLoad: a, size: "small" },
              l.createElement(j.B9, {
                rgPackageIDs: a,
                bHidePackage: !0,
                bShowDiscountEventName: !0,
                bShowCooldownState: !0,
              }),
            )
          : l.createElement(x.V, { string: "Loading Packages", size: "small" });
      }
      function Oi(e) {
        const { appInfo: t } = e,
          a = (0, Vn.q_)(t.appid);
        return a
          ? l.createElement(
              ee.V,
              { rgPackagesToLoad: a, size: "small" },
              l.createElement(Fi, { rgPackageIDs: a }),
            )
          : null;
      }
      function Fi(e) {
        const t = (0, Oe.ls)(e.rgPackageIDs);
        return t
          ? l.createElement(
              "div",
              { className: ni().DiscountPercent },
              t.nDiscountPct,
              " %",
            )
          : l.createElement("div", null, "N/A");
      }
      function Ui(e) {
        const { appInfo: t } = e,
          a = Ei(t.appid);
        return l.createElement(
          l.Fragment,
          null,
          a.map((e) =>
            l.createElement(Hi, {
              key: t.appid + "_partner_" + e,
              partnerID: e,
              appInfo: t,
            }),
          ),
        );
      }
      function Hi(e) {
        const { partnerID: t, appInfo: a } = e,
          [n] = (0, ae.DV)(t),
          i = ei(t, a.appid, "business");
        return n
          ? l.createElement(
              "div",
              { className: ni().PartnerCol },
              l.createElement(
                "div",
                { className: ni().PartnerName },
                l.createElement("b", null, n.name, " (", t, ")"),
              ),
              l.createElement(
                "div",
                null,
                Boolean(i?.length > 0) &&
                  l.createElement(
                    "div",
                    { className: ni().BizContactsCtn },
                    i.map((e) =>
                      l.createElement(
                        "div",
                        {
                          className: ni().BizContact,
                          key: "user+" + t + "_" + e,
                        },
                        l.createElement(li.N, { accountID: e, bHideName: !1 }),
                      ),
                    ),
                  ),
              ),
            )
          : null;
      }
      function Vi(e) {
        const { strLabel: t, fnOnTagSelected: a, strSelectedTagIDs: n } = e,
          { rgTags: i, rgCategories: r } = (0, Hn.bA)(),
          s = (0, l.useRef)(),
          o = (0, l.useRef)(),
          c = (0, l.useCallback)(
            (e) => {
              if (i) {
                let t = i?.findIndex((t) => t.tagid == e);
                return -1 != t ? i[t].name : "??";
              }
              return "";
            },
            [i],
          ),
          m = (0, l.useMemo)(() => {
            const e = i
              ?.map((e) =>
                l.createElement(
                  ii.Zo,
                  { key: e.name, onSelected: () => a(e.tagid, !0) },
                  e.name,
                ),
              )
              .sort((e, t) => (0, mt.KL)(e.key, t.key));
            return e;
          }, [a, i]);
        return l.createElement(
          "div",
          { className: ni().StoreTagChooser },
          l.createElement(b.II, {
            label: t,
            onBlur: (e) => setTimeout(() => s.current?.Hide(), 300),
            ref: o,
            onChange: (e) =>
              ((e) => {
                if ((s.current?.Hide(), !Jt.kE(e) && e.length < 2)) return;
                const t = e.toLowerCase();
                let a = m?.filter((e) => e.key.toLowerCase().includes(t));
                0 != a.length &&
                  ((s.current = (0, ti.yV)(
                    l.createElement(ii.xV, null, a),
                    o.current.element,
                    {
                      bRetainOnHide: !1,
                      bSkipFocusWhenReady: !0,
                      bOverlapHorizontal: !0,
                    },
                  )),
                  s.current.Show());
              })(e.currentTarget.value),
          }),
          l.createElement(
            "div",
            { className: ni().SelectedTags },
            i?.length > 0 &&
              !!n &&
              n
                .split(",")
                .map((e) =>
                  l.createElement(
                    b.zx,
                    { key: e, onClick: () => a(parseInt(e), !1) },
                    c(parseInt(e)),
                    l.createElement(
                      "div",
                      { className: ni().ButtonRemove },
                      "x",
                    ),
                  ),
                ),
          ),
        );
      }
      function Xi(e) {
        const {
            rtUpcomingFeatureStart: t,
            rtUpcomingFeatureEnd: a,
            setUpcomingFeatureStart: n,
            setUpcomingFeatureEnd: i,
            strQueryPlan: r,
          } = e,
          [s, o] = (0, l.useState)(() => {
            return (
              (e = t),
              1 === _i.tz(1e3 * e, "America/Los_Angeles").day()
                ? "midweek"
                : "weekenddeal"
            );
            var e;
          });
        return l.createElement(
          "div",
          { className: ni().CuratedPromoFinderCtn },
          l.createElement(b.__, null, "Upcoming Featuring Finder"),
          l.createElement(
            b.SY,
            {
              value: s,
              onChange: (e) => {
                o(e);
              },
            },
            l.createElement(b.EU, { value: "midweek" }, "Midweek"),
            l.createElement(b.EU, { value: "weekenddeal" }, "Weekend"),
          ),
          l.createElement(
            "div",
            { className: ni().FeaturingFinderDropDown },
            l.createElement(pi.nz, {
              type: s,
              rtStartTime: t,
              rtEndTime: a,
              setStartTime: n,
              setEndTime: i,
            }),
            l.createElement(
              "a",
              {
                href: `${la.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?start=0&count=50${r}`,
                className: (0, B.Z)(
                  y().Button,
                  P().Button,
                  ni().FeaturingFinderGOButton,
                ),
              },
              "GO!",
            ),
          ),
        );
      }
      function ji(e) {
        const [t, a] = (0, l.useState)(""),
          n = (0, Wn.yw)(),
          i = (0, l.useMemo)(
            () =>
              n?.filter(
                (e) =>
                  ("themesale" == e.type || "nextfest" == e.type) &&
                  (0 == t.trim().length ||
                    e.admin_notes.includes(t) ||
                    e.name.includes(t)),
              ),
            [n, t],
          );
        return l.createElement(
          "div",
          {
            className: (0, B.Z)(
              ga().Container,
              y().AdminPageCtn,
              y().WidePageCtn,
            ),
          },
          l.createElement(
            "div",
            { className: y().PageTitleFlexCtn },
            l.createElement(
              "div",
              { className: y().PageTitle },
              "Theme Sales Operations Dashboard (VO) ",
            ),
            l.createElement(
              "div",
              { className: ga().CreateNewCtn },
              l.createElement(b.II, {
                type: "text",
                placeholder: "Search promos",
                tooltip:
                  "Only an in-memory search of plan name, admin notes and store item id",
                value: t,
                onChange: (e) => a(e?.currentTarget?.value || ""),
              }),
              l.createElement(
                b.KM,
                {
                  onClick: (e) =>
                    (0, N.AM)(l.createElement(zi, null), (0, M.RA)(e)),
                },
                "Create New Theme Sale / Next Fest",
              ),
            ),
          ),
          l.createElement("hr", { className: "VO" }),
          l.createElement(qi, { rgPlans: i }),
        );
      }
      function qi(e) {
        const { rgPlans: t } = e;
        return l.createElement(
          "table",
          { className: (0, B.Z)(ga().CandidateTable, "landingTable") },
          l.createElement(
            "thead",
            null,
            l.createElement(
              "tr",
              null,
              l.createElement("th", null, "Theme"),
              l.createElement("th", null, "Date"),
              l.createElement("th", null, "Opt In"),
              l.createElement("th", null, "Emails"),
              l.createElement("th", null, "Sale Page"),
              l.createElement("th", null, "Advertising App"),
              l.createElement("th", null, "Marketing Message"),
              l.createElement("th", null, "Spotlight"),
              l.createElement("th", null, "Takeover"),
              l.createElement("th", null, "Takeunder"),
              l.createElement("th", null, "Trailer"),
              l.createElement("th", null, "Blog"),
            ),
          ),
          l.createElement(
            "tbody",
            null,
            t.map((e) => l.createElement(Wi, { key: e.id, plan: e })),
          ),
        );
      }
      function Wi(e) {
        const { plan: t } = e;
        return l.createElement("tr", null, l.createElement("td", null, t.name));
      }
      function zi(e) {
        const { closeModal: t } = e,
          a = (0, I.tx)();
        return a.bLoading
          ? l.createElement(I.NT, {
              state: a,
              strDialogTitle: "Creating Theme Sale...",
              closeModal: t,
            })
          : l.createElement(
              T.uH,
              {
                strTitle: "Create Theme Sale",
                strDescription:
                  "Depending on the type, this will automatically create the elements we expect to have for the theme sale.",
                onCancel: t,
              },
              "TODO",
            );
      }
      var Zi = a(75876),
        Ki = a.n(Zi);
      function Qi(e) {
        return l.createElement(
          "div",
          { className: Ki().Container },
          l.createElement("h1", null, "Data Migration Tools"),
          l.createElement("div", null, l.createElement(Yi, null)),
        );
      }
      function Yi(e) {
        const t = (0, Wn.yw)(),
          { fnUpdatePlan: a } = (0, Wn.$H)(),
          [n, i] = l.useState(!1),
          [r, s] = l.useState(""),
          [o, c] = l.useState(""),
          [m, d] = l.useState(!1),
          u = l.useRef(!1),
          p = (e, t) => {
            s(e.join("\n").trim()), c(t.join("\n").trim());
          };
        return l.createElement(
          l.Fragment,
          null,
          l.createElement("h2", null, "Refresh Promotion Plan Data"),
          l.createElement(
            "div",
            null,
            "Loads and resaves all specified promotion plans, specified by IDs. This causes generated data such as the PartnerReadonlyJson to get refreshed.",
          ),
          l.createElement(
            "div",
            { className: Ki().ExpanderContainer },
            l.createElement(
              "div",
              { className: Ki().Expander, onClick: () => i(!n) },
              n ? "[-]" : "[+]",
            ),
            n &&
              l.createElement(
                "div",
                { className: Ki().Expanded },
                l.createElement(
                  "div",
                  null,
                  "Click Load IDs below to load promotion plans from the server into the to be processed text box below. By default, only the last six months of promotion plans are included. If you need to backfill earlier, change convar nPromotionPlanningActiveSecondsPreviously first.",
                ),
                l.createElement(
                  "div",
                  { className: Ki().DataMigrationListContainer },
                  l.createElement(
                    "div",
                    null,
                    l.createElement(
                      "div",
                      null,
                      "IDs to process: (one per line)",
                    ),
                    l.createElement("textarea", {
                      className: Ki().DataMigrationTextArea,
                      value: r,
                      onChange: (e) => s(e.target.value),
                    }),
                  ),
                  l.createElement(
                    "div",
                    null,
                    l.createElement("div", null, "Processed IDs:"),
                    l.createElement("textarea", {
                      className: Ki().DataMigrationTextArea,
                      value: o,
                      onChange: (e) => c(e.target.value),
                    }),
                  ),
                ),
                l.createElement(
                  "div",
                  { className: Ki().DataMigrationButtonContainer },
                  !m &&
                    l.createElement(
                      "button",
                      {
                        className: Ki().DataMigrationButton,
                        onClick: () => {
                          s(
                            t
                              .filter((e) => !!e.id)
                              .map((e) => e.id)
                              .join("\n")
                              .trim(),
                          ),
                            c("");
                        },
                      },
                      "Load IDs",
                    ),
                  !m &&
                    l.createElement(
                      "button",
                      {
                        className: Ki().DataMigrationButton,
                        onClick: () => {
                          d(!0),
                            (async function (e, t, a, n, i, r) {
                              a.current = !0;
                              const l = i
                                .split(/,|\n/)
                                .filter((e) => e.trim().length > 0);
                              let s = [];
                              console.log("RefreshPromotionPlans", l);
                              for (; l.length > 0 && a.current; ) {
                                const a = 4;
                                console.log("unprocessed", l);
                                const n = l.slice(0, Math.min(a, l.length)),
                                  i = n.map(async (a) => {
                                    const n = e.find((e) => e.id === a);
                                    console.log("processing id", n.id, n);
                                    const i = await t(void 0, n, null, null);
                                    console.log(
                                      i
                                        ? "successfully processed id"
                                        : "failed to process id",
                                      n.id,
                                    );
                                  });
                                await Promise.all(i),
                                  (s = s.concat(n)),
                                  l.splice(0, n.length),
                                  r(l, s);
                              }
                              (a.current = !1), n();
                            })(t, a, u, () => d(!1), r, p);
                        },
                      },
                      "Start",
                    ),
                  m &&
                    l.createElement(
                      "button",
                      {
                        className: Ki().DataMigrationButton,
                        onClick: () => (u.current = !1),
                      },
                      "Stop",
                    ),
                ),
              ),
          ),
        );
      }
      var Ji = a(87814),
        $i = a(13550);
      function er() {
        const [e] = (0, l.useState)(() =>
            (0, Le.kQ)("analysis_plan_ids", "application_config"),
          ),
          t = (0, $i.h9)(e);
        return (0, l.useMemo)(() => {
          const e = t.filter((e) => !e.isLoading),
            a = t.some((e) => e.isLoading);
          if (!e || 0 == e.length || a) return null;
          const n = new Map();
          e.forEach((e) => {
            if (e.data) {
              const t = {
                  promoPlan: (0, Wn.J2)(e.data.promoID),
                  rgPackageSales: e.data.rgPackageSales,
                },
                a = (function (e) {
                  const t = new Date(1e3 * e),
                    a = t.getDay();
                  if (
                    1 === a &&
                    10 === t.getHours() &&
                    0 === t.getMinutes() &&
                    0 === t.getSeconds() &&
                    0 === t.getMilliseconds()
                  )
                    return e;
                  const n = 0 === a ? 6 : a - 1;
                  return (
                    t.setDate(t.getDate() - n),
                    t.setHours(10, 0, 0, 0),
                    Math.floor(t.getTime() / 1e3)
                  );
                })(t.promoPlan.start_date);
              n.has(a) ||
                n.set(a, { rtWeekStart: a, rgMidweeks: [], rgWeekends: [] });
              const i = n.get(a);
              "midweek" == t.promoPlan.type
                ? i.rgMidweeks.push(t)
                : "weekenddeal" == t.promoPlan.type && i.rgWeekends.push(t);
            }
          });
          let i = Array.from(n.values());
          return (
            i.forEach((e) => {
              let t = 0,
                a = 0;
              e.rgMidweeks &&
                (e.rgMidweeks.forEach((e) => {
                  let n = 0,
                    i = 0;
                  e.rgPackageSales.forEach((e) => {
                    (n += Number.parseInt(e.gross_sales_usdx100)),
                      (i += e.gross_units_sold);
                  }),
                    (e.summaryUSD = Math.floor(n / 1e4)),
                    (e.summaryUnits = i),
                    (t += e.summaryUSD),
                    (a += e.summaryUnits);
                }),
                e.rgMidweeks.sort((e, t) => t.summaryUSD - e.summaryUSD)),
                e.rgWeekends &&
                  (e.rgWeekends.forEach((e) => {
                    let n = 0,
                      i = 0;
                    e.rgPackageSales.forEach((e) => {
                      (n += Number.parseInt(e.gross_sales_usdx100)),
                        (i += e.gross_units_sold);
                    }),
                      (e.summaryUSD = Math.floor(n / 1e4)),
                      (e.summaryUnits = i),
                      (t += e.summaryUSD),
                      (a += e.summaryUnits);
                  }),
                  e.rgWeekends.sort((e, t) => t.summaryUSD - e.summaryUSD)),
                (e.summaryUSD = t),
                (e.summaryUnits = a);
            }),
            i.sort((e, t) => e.rtWeekStart - t.rtWeekStart),
            i
          );
        }, [t]);
      }
      var tr = a(8114),
        ar = a(22559),
        nr = a(48359),
        ir = a(56886),
        rr = a(72236),
        lr = a(28531),
        sr = a(90291),
        or = a(79569),
        cr = a.n(or),
        mr = a(78105);
      const dr = l.memo((e) => {
        const { data: t, fnSelectedData: a } = e,
          n = (0, l.useRef)(void 0),
          i = (0, l.useCallback)(
            (e, a) => (t[a]?.USD ? (0, mr.ZK)(t[a].rtTimeStart) : ""),
            [t],
          );
        return l.createElement(
          "div",
          { className: cr().ChartContainer },
          l.createElement(
            "div",
            { className: cr().Chart },
            l.createElement(
              C.SV,
              null,
              l.createElement(
                tr.h,
                { width: "100%", height: "100%" },
                l.createElement(
                  ar.c,
                  {
                    data: t,
                    layout: "horizontal",
                    margin: { top: 25, left: 0, right: 0, bottom: 0 },
                    barGap: 30,
                    onClick: (e, t) => {
                      if (e?.activePayload?.length > 0) {
                        const t = e.activePayload[0].payload;
                        t && a(t);
                      }
                    },
                  },
                  l.createElement(
                    "defs",
                    null,
                    l.createElement(
                      "linearGradient",
                      { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                      l.createElement("stop", { stopColor: "#1A9FFF" }),
                      l.createElement("stop", {
                        offset: "1",
                        stopColor: "#1A9FFF",
                        stopOpacity: "1",
                      }),
                    ),
                  ),
                  l.createElement(nr.q, { vertical: !1, stroke: "#a0aab6" }),
                  l.createElement(ir.B, {
                    tickFormatter: mr.Dt,
                    tick: { fill: "white" },
                    axisLine: !0,
                  }),
                  l.createElement(rr.u, {
                    wrapperStyle: { outline: "none" },
                    allowEscapeViewBox: { x: !1, y: !0 },
                    isAnimationActive: !1,
                    offset: 0,
                    content: l.createElement(ur, null),
                  }),
                  l.createElement(lr.$, {
                    dataKey: "USD",
                    barSize: 60,
                    fill: "url( #bar_linear )",
                    onMouseEnter: () => (n.current = "USD"),
                    onMouseOut: () => (n.current = void 0),
                  }),
                  l.createElement(sr.K, {
                    interval: 0,
                    tick: l.createElement(pr, null),
                    tickFormatter: i,
                  }),
                ),
              ),
            ),
          ),
        );
      });
      function ur({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload;
          return l.createElement(
            pe.gz,
            null,
            l.createElement("b", null, (0, mr.Dt)(Number.parseInt(e.USD))),
            " on ",
            (0, mr.ZK)(Number.parseInt(e.rtTimeStart)),
          );
        }
        return null;
      }
      function pr(e) {
        const { x: t, y: a, payload: n } = e,
          i = e.tickFormatter(n.value, n.index);
        return l.createElement(
          "g",
          { transform: `translate(${t},${a})` },
          l.createElement(
            "text",
            {
              x: 0,
              y: 0,
              dy: 16,
              textAnchor: "middle",
              fill: "#FFFFFF",
              transform: "rotate(0)",
              fontSize: "11px",
            },
            i,
          ),
        );
      }
      var _r = a(46750),
        hr = a.n(_r),
        gr = a(13153),
        Er = a(88579),
        Sr = a(53545),
        vr = a(35019),
        Dr = a.n(vr);
      const fr = l.memo((e) => {
        const { data: t, fnSetSelected: a } = e,
          n = (function (e, t) {
            const a = Math.max(...e.map((e) => e.USD)) / (t - 1);
            return Array.from({ length: t }, (e, t) => t * a);
          })(t, 6);
        return l.createElement(
          tr.h,
          { width: "100%", height: 400 },
          l.createElement(
            gr.v,
            {
              layout: "vertical",
              width: 500,
              height: 300,
              data: t,
              margin: { top: 40, right: 30, left: 20, bottom: 5 },
              onClick: (e, t) => {
                if (e?.activePayload?.length > 0) {
                  const t = e.activePayload[0].payload;
                  t && a(t.name);
                }
              },
            },
            l.createElement(
              "defs",
              null,
              l.createElement(
                "linearGradient",
                { id: "colorUSD", x1: "0", y1: "0", x2: "1", y2: "1" },
                l.createElement("stop", {
                  offset: "0%",
                  stopColor: "#93D329",
                  stopOpacity: 1,
                }),
                l.createElement("stop", {
                  offset: "100%",
                  stopColor: "#93D329",
                  stopOpacity: 1,
                }),
              ),
              l.createElement(
                "linearGradient",
                { id: "colorUNITS", x1: "0", y1: "0", x2: "1", y2: "1" },
                l.createElement("stop", {
                  offset: "0%",
                  stopColor: "#808080",
                  stopOpacity: 1,
                }),
                l.createElement("stop", {
                  offset: "100%",
                  stopColor: "#808080",
                  stopOpacity: 1,
                }),
              ),
            ),
            l.createElement(nr.q, { strokeDasharray: "1", stroke: "#3E454C" }),
            l.createElement(sr.K, {
              type: "number",
              orientation: "bottom",
              tick: { fill: "white" },
              domain: [0, "dataMax"],
              label: {
                value: "USD",
                position: "insideBottomRight",
                offset: -5,
              },
              ticks: n,
              tickFormatter: (e, t) => (0, mr.Dt)(e),
            }),
            l.createElement(ir.B, {
              dataKey: "name",
              type: "category",
              padding: { top: 14 },
              tick: { fill: "white", textAnchor: "end" },
              width: 150,
            }),
            l.createElement(rr.u, {
              wrapperStyle: { outline: "none" },
              allowEscapeViewBox: { x: !1, y: !0 },
              isAnimationActive: !1,
              itemStyle: { background: "black" },
              offset: 0,
              content: l.createElement(yr, null),
            }),
            l.createElement(Er.D, null),
            l.createElement(lr.$, {
              dataKey: "USD",
              fill: "url(#colorUSD)",
              animationBegin: 0,
              animationDuration: 1500,
            }),
            l.createElement(lr.$, {
              dataKey: "units",
              fill: "url(#colorUNITS)",
              animationBegin: 500,
              animationDuration: 1500,
            }),
          ),
        );
      });
      function yr({ active: e, payload: t }) {
        const a = e && t && t.length,
          n = a ? t[0].payload.promoPlan : void 0,
          i = (0, zt.Q2)(n?.marketing_message_ids?.[0]),
          r = l.useMemo(() => {
            if (!i) return null;
            const e = (0, Sr.r8)(i.template_vars_json);
            if (e)
              for (let t = 0; t < 31; ++t) {
                const a = (0, an.j_)(t);
                if (a in e.ll_image)
                  return (0, dn.i)(i.gid, t, e.last_asset_mtime, e.ll_image[a]);
              }
            return null;
          }, [i]);
        if (a) {
          const e = t[0].payload,
            a = e.units;
          return l.createElement(
            pe.gz,
            { className: Dr().PromoHover },
            l.createElement("img", { src: r, className: Dr().ToolTipImage }),
            l.createElement(
              "div",
              { className: Dr().PromoInfo },
              l.createElement("h4", null, e.name),
              l.createElement(
                "p",
                null,
                (0, mr.Dt)(Number.parseInt(e.USD)),
                " revenue",
              ),
              l.createElement("p", null, a.toLocaleString(), " gross units"),
            ),
          );
        }
        return null;
      }
      const br = l.createContext({
        loadPackageDiscountSummary: async (e) =>
          null == e
            ? null
            : await (function () {
                Cr ||
                  (Cr = new (qn())(
                    async (e) => {
                      const t = { rgPackageIDs: e.join(",") },
                        a = `${la.De.PARTNER_BASE_URL}promotion/analysis/ajaxgetpromotionplanpackagediscountsummary`,
                        n = await ce().get(a, { params: t });
                      if (200 != n?.status || !n.data || !n.data)
                        throw `Failed to load discount package summary: ${n?.data?.msg}`;
                      const i = new Map(),
                        r = new Map();
                      return (
                        n.data.discount_summary.forEach((e) => {
                          i.has(e.packageid) ||
                            i.set(e.packageid, {
                              packageID: e.packageid,
                              combinedDiscounts: [],
                              packageInfo: [],
                            }),
                            i.get(e.packageid).packageInfo.push(e),
                            r.has(e.combineddiscountid) ||
                              r.set(e.combineddiscountid, []),
                            r.get(e.combineddiscountid).push(e.packageid);
                        }),
                        n.data.combined_discount_map.forEach((e) => {
                          r.get(e.combineddiscountid).forEach((t) => {
                            i.get(t).combinedDiscounts.push(e);
                          });
                        }),
                        e.map((e) => i.get(e))
                      );
                    },
                    { maxBatchSize: 10 },
                  ));
                return Cr;
              })().load(e),
      });
      function Ir(e, t) {
        return {
          queryKey: ["PackageDiscountSummaryQuery", t],
          queryFn: () => e.loadPackageDiscountSummary(t),
          enabled: !!t,
        };
      }
      let Cr;
      function kr(e, t, a) {
        const n = (function (e) {
          const t = l.useContext(br),
            a = (0, at.useQuery)(Ir(t, e));
          return a.isLoading ? null : a.data;
        })(e);
        return (0, l.useMemo)(() => {
          if (!n) return;
          let i = n.combinedDiscounts.findIndex(
            (e) =>
              e.discount_record[0].start_date - 14400 <= t &&
              e.discount_record[0].end_date + 14400 >= a,
          );
          if (i < 0) return null;
          const r = n.combinedDiscounts[i].combineddiscountid;
          let l = n.packageInfo.findIndex((e) => e.combineddiscountid == r);
          if (l < 0) return null;
          const s = n.combinedDiscounts[i].discount_record[0],
            o = n.packageInfo[l];
          return {
            packageID: e,
            partnerID: o.partnerid,
            gross_sales_usd: Math.floor(
              Number.parseInt(o.gross_sales_usdx100) / 1e4,
            ),
            gross_units_sold: o.gross_units_sold,
            discountid: s.discountid,
            percentage: s.percentage,
            discount_name: s.discount_name,
            discount_occurance: s.discount_occurrence,
            discount_start_date: s.start_date,
            discount_end_date: s.end_date,
            usd_price: s.usd_price,
          };
        }, [e, a, t, n]);
      }
      function Ar(e) {
        const t = hi().tz(`${e} 10:00:00`, "America/Los_Angeles").valueOf();
        return Math.floor(t / 1e3);
      }
      function wr(e) {
        const { promo: t } = e,
          [a, n] = (0, l.useState)(5),
          [i, r, s] = (0, l.useMemo)(() => {
            const e = new Map(),
              a = new Set();
            t.rgPackageSales.forEach((t) => {
              a.add(t.date),
                e.has(t.packageid) ||
                  e.set(t.packageid, {
                    packageid: t.packageid,
                    gross_sales_usd: 0,
                    gross_units_sold: 0,
                  });
              let n = e.get(t.packageid);
              (n.gross_sales_usd += Math.floor(
                Number.parseInt(t.gross_sales_usdx100) / 1e4,
              )),
                (n.gross_units_sold += t.gross_units_sold);
            });
            const n = Array.from(e.values());
            n.sort((e, t) => t.gross_sales_usd - e.gross_sales_usd);
            let i = Ar(t.rgPackageSales[0].date),
              r = i;
            return (
              Array.from(a).forEach((e) => {
                let t = Ar(e);
                t > r && (r = t), i > t && (i = t);
              }),
              [n, i, r]
            );
          }, [t]);
        return l.createElement(
          "div",
          { className: _r.PromoDetails },
          l.createElement(
            "h4",
            null,
            t.promoPlan.name,
            " ",
            l.createElement(
              "a",
              {
                href: `${la.De.PARTNER_BASE_URL}promotion/planning/edit/${t.promoPlan.id}`,
                target: "_blank",
              },
              "See promo plan",
            ),
          ),
          l.createElement("br", null),
          l.createElement(
            "div",
            {
              className: (0, B.Z)(aa.Row, aa.Primary, aa.HeaderRow, aa.Compact),
            },
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.ItemName) },
              "Package Name",
            ),
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.Revenue) },
              "Revenue",
            ),
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.Revenue) },
              "Units",
            ),
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.Small) },
              "%",
            ),
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.Small) },
              "$",
            ),
          ),
          l.createElement(
            "div",
            null,
            i
              .slice(0, a)
              .map((e) =>
                l.createElement(Pr, {
                  key: e.packageid,
                  row: e,
                  rtStartDate: r,
                  rtEndDate: s,
                }),
              ),
          ),
          Boolean(a < i.length) &&
            l.createElement(b.zx, { onClick: () => n(i.length) }, "Show All"),
          Boolean(a > 5) &&
            l.createElement(b.zx, { onClick: () => n(5) }, "Show Less"),
        );
      }
      function Pr(e) {
        const { row: t, rtStartDate: a, rtEndDate: n } = e,
          [i] = (0, D.ie)(t.packageid, {}),
          r = Math.floor(t.gross_sales_usd);
        return l.createElement(
          "div",
          { className: (0, B.Z)(aa.RowCtn, aa.Compact) },
          l.createElement(
            "div",
            { className: (0, B.Z)(aa.Row, aa.Primary) },
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.ItemName) },
              i?.GetName() || "",
              " (",
              t.packageid,
              ")",
            ),
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.Revenue) },
              (0, mr.Dt)(r),
            ),
            l.createElement(
              "div",
              { className: (0, B.Z)(aa.Col, aa.Revenue) },
              t.gross_units_sold.toLocaleString(),
            ),
            l.createElement(Tr, {
              packageID: t.packageid,
              storeItem: i,
              rtStartDate: a,
              rtEndDate: n,
            }),
          ),
        );
      }
      function Tr(e) {
        const { packageID: t, storeItem: a, rtStartDate: n, rtEndDate: i } = e,
          r = kr(t, n, i);
        return a?.BIsFree() && !a?.BIsFreeTemporary()
          ? l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "div",
                { className: (0, B.Z)(aa.Col, aa.Small) },
                "-",
              ),
              l.createElement(
                "div",
                { className: (0, B.Z)(aa.Col, aa.Small) },
                "FREE",
              ),
            )
          : r
            ? l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  { className: (0, B.Z)(aa.Col, aa.Small) },
                  r.percentage,
                ),
                l.createElement(
                  "div",
                  { className: (0, B.Z)(aa.Col, aa.Small) },
                  (0, mr.Dt)(
                    (Number.parseInt(r.usd_price) / 100) *
                      (1 - r.percentage / 100),
                  ),
                ),
              )
            : l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  { className: (0, B.Z)(aa.Col, aa.Small) },
                  "???",
                ),
                l.createElement(
                  "div",
                  { className: (0, B.Z)(aa.Col, aa.Small) },
                  "???",
                ),
              );
      }
      function Nr(e) {
        const t = er();
        return l.createElement(
          "div",
          { className: (0, B.Z)(y().AdminPageCtn, y().WidePageCtn) },
          l.createElement(
            "div",
            { className: y().PageTitle },
            "Weekend and Midweek Deal Performance",
          ),
          l.createElement("hr", null),
          l.createElement(
            "p",
            null,
            "Key Longitudinal Analysis of Featured Franchises Report ",
            l.createElement("span", null, "(K.L.A.F.F. Report)"),
          ),
          Boolean(!t || 0 == t?.length)
            ? l.createElement(x.V, {
                string: "Loading",
                position: "center",
                size: "medium",
              })
            : l.createElement(Rr, { rgWeeklyPlanAndResults: t }),
        );
      }
      function Rr(e) {
        const { rgWeeklyPlanAndResults: t } = e,
          [a, n] = (0, se.Ar)("rtime_week", t[t.length - 1].rtWeekStart),
          [i, r] = (0, l.useState)(() => {
            const e = t.findIndex((e) => e.rtWeekStart === a);
            return e >= 0 ? t[e] : t[t.length - 1];
          });
        return l.createElement(
          "div",
          null,
          l.createElement(xr, {
            rgWeeklyPlanAndResults: t,
            fnSetSelectedWeek: (e) => {
              r(e), n(e.rtWeekStart);
            },
          }),
          l.createElement(Gr, {
            type: "weekenddeal",
            week: i,
            key: "wd" + i.rtWeekStart,
          }),
          l.createElement(Gr, {
            type: "midweek",
            week: i,
            key: "mid" + i.rtWeekStart,
          }),
        );
      }
      function Gr(e) {
        const { type: t, week: a } = e,
          n = "midweek" == t ? a.rgMidweeks : a.rgWeekends,
          [i, r] = (0, l.useState)(() => (n?.length > 0 ? n[0] : null)),
          s = (0, l.useMemo)(
            () =>
              n.map((e) => ({
                name: e.promoPlan.name,
                units: e.summaryUnits,
                USD: e.summaryUSD,
                promoPlan: e.promoPlan,
              })),
            [n],
          );
        let o = "";
        return (
          n.length > 0 &&
            (o = (0, mr.ZK)(
              n[0].promoPlan.start_date,
              n[0].promoPlan.end_date,
            )),
          l.createElement(
            "div",
            { className: (0, B.Z)(hr().WithBox, hr().SideBySide) },
            l.createElement(
              "div",
              { className: (0, B.Z)(hr().GraphCtn) },
              l.createElement("h3", null, Un.j.get(t), " - ", o),
              l.createElement(fr, {
                data: s,
                fnSetSelected: (e) => {
                  let t = n.findIndex((t) => t.promoPlan.name == e);
                  t >= 0 && r(n[t]);
                },
              }),
            ),
            i && l.createElement(wr, { promo: i }),
          )
        );
      }
      function xr(e) {
        const { rgWeeklyPlanAndResults: t, fnSetSelectedWeek: a } = e,
          n = (0, l.useMemo)(
            () =>
              t.map((e) => ({ rtTimeStart: e.rtWeekStart, USD: e.summaryUSD })),
            [t],
          );
        return l.createElement(
          "div",
          { className: hr().WithBox },
          l.createElement("h3", null, "Weekly Promo Comparison"),
          l.createElement(dr, {
            data: n,
            fnSelectedData: (e) => {
              if (e) {
                const n = t.findIndex((t) => t.rtWeekStart == e.rtTimeStart);
                n >= 0 && n < t.length && a(t[n]);
              }
            },
          }),
        );
      }
      const Lr = {
        DailyDealDashboard: () => "/dailydeals/dashboard",
        DailyDealPartnerDashboard: (e) => `/dailydeals/dashboard/${e}`,
        DailyDealInviteDashboard: (e) => `/dailydeals/invite/${e}`,
        DailyDealEditor: (e) => `/dailydeals/edit/${e}`,
        DiscountPages: () => "/discounts",
        PartnerSaleDashboard: (e) => `/saleevents/dashboard/${e}`,
        PartnerPlanningAssetRequest: (e) => `/assetportal/request/${e}`,
        PartnerPlanningAssetRequestExternal: (e) =>
          `/assetportal/externalrequest/${e}`,
        PromotionPlanning: () => "/planning/dashboard/",
        PromotionPlanEditor: (e) => `/planning/edit/${e}`,
        InvitationPlanner: () => "/invitationplanner/",
        SpotlightDashboard: () => "/spotlights/(dashboard)",
        SpotlightEditor: (e) => `/spotlights/edit/${e}`,
        MarketingMessageDashboard: () => "/marketingmessages/(dashboard)",
        MarketingMessageEditor: (e) => `/marketingmessages/edit/${e}`,
        MarketingMessagePartnerPreview: (e) =>
          `/marketingmessages/partnerpreview/${e}`,
        PromotionThemeFestPlanning: () => "/planning/themes",
        DiscountEventDashboard: () => "/discountevents/(dashboard)",
        DiscountEventEditor: (e) => `/discountevents/edit/${e}`,
        ThemeSalesDashboard: () => "/themesales/(dashboard)",
        SalesRankDashboard: () => "/planning/salesrank",
        LocalizationAssetPortal: (e) => `/assetportal/localization/${e}`,
        CuratedPromotionAnalysis: () => "/analysis/(curated)",
        DataMigration: () => "/planning/migration",
      };
      function Br(e) {
        (0, l.useEffect)(() => {
          0;
        }, []);
        return (0, c.N)()
          ? l.createElement(
              s.VK,
              { basename: (0, n.l)() + "promotion/" },
              l.createElement(
                o.rs,
                null,
                l.createElement(o.AW, {
                  exact: !0,
                  path: n.Z.DiagData(),
                  render: (e) =>
                    l.createElement(m.m, {
                      ...e,
                      strConfigID: "application_config",
                    }),
                }),
                l.createElement(o.AW, {
                  exact: !0,
                  path: Lr.DailyDealDashboard(),
                  render: (e) =>
                    l.createElement(ee.j, null, l.createElement(Tt, null)),
                }),
                l.createElement(o.AW, {
                  exact: !0,
                  path: Lr.DailyDealPartnerDashboard(":publisherid(\\d+)"),
                  render: (e) =>
                    l.createElement(
                      ee.j,
                      null,
                      l.createElement(Nt, {
                        strPublisherID: e.match.params.publisherid,
                      }),
                    ),
                }),
                l.createElement(o.AW, {
                  exact: !0,
                  path: Lr.DailyDealInviteDashboard(":inviteid(\\d+)"),
                  render: (e) =>
                    l.createElement(
                      ee.j,
                      null,
                      l.createElement(gt, {
                        strInviteID: e.match.params.inviteid,
                      }),
                    ),
                }),
                l.createElement(o.AW, {
                  exact: !0,
                  path: Lr.DailyDealEditor(":dealid"),
                  render: (e) =>
                    l.createElement(
                      ee.j,
                      null,
                      l.createElement(Z, { dealid: e.match.params.dealid }),
                    ),
                }),
                l.createElement(o.AW, {
                  path: Lr.DiscountPages(),
                  component: r.L,
                }),
                l.createElement(o.AW, {
                  path: Lr.PartnerSaleDashboard(":publisherid(\\d+)"),
                  component: p.K,
                }),
                l.createElement(o.AW, {
                  path: Lr.PartnerPlanningAssetRequest(":planid"),
                  component: _.v9,
                }),
                l.createElement(o.AW, {
                  path: Lr.PartnerPlanningAssetRequestExternal(":planid"),
                  component: _.v9,
                }),
                l.createElement(o.AW, {
                  path: Lr.LocalizationAssetPortal(":planid"),
                  render: (e) =>
                    l.createElement(Ji.Fv, { planid: e.match.params.planid }),
                }),
                l.createElement(o.AW, {
                  exact: !0,
                  path: Lr.MarketingMessagePartnerPreview(":gid"),
                  render: (e) =>
                    l.createElement(un, { gid: e.match.params.gid }),
                }),
                l.createElement(o.AW, {
                  path: Lr.PromotionPlanning(),
                  component: La.h,
                }),
                l.createElement(o.AW, {
                  exact: !0,
                  path: Lr.PromotionPlanEditor(":planid"),
                  render: (e) =>
                    l.createElement(Ba.pt, { planid: e.match.params.planid }),
                }),
                l.createElement(o.AW, {
                  path: Lr.InvitationPlanner(),
                  component: vi,
                }),
                l.createElement(o.AW, {
                  path: Lr.SpotlightDashboard(),
                  component: za,
                }),
                l.createElement(o.AW, {
                  path: Lr.DiscountEventDashboard(),
                  component: yn,
                }),
                l.createElement(o.AW, {
                  exact: !0,
                  path: Lr.DiscountEventEditor(":discounteventid"),
                  render: (e) =>
                    l.createElement(Mn, {
                      discountEventID: e.match.params.discounteventid,
                    }),
                }),
                l.createElement(o.AW, {
                  path: Lr.MarketingMessageDashboard(),
                  component: ya,
                }),
                l.createElement(o.AW, {
                  exact: !0,
                  path: Lr.MarketingMessageEditor(":gid"),
                  render: (e) =>
                    l.createElement(xa.W, { gid: e.match.params.gid }),
                }),
                l.createElement(o.AW, {
                  path: Lr.PromotionThemeFestPlanning(),
                  component: tn.L3,
                }),
                l.createElement(o.AW, {
                  path: Lr.SalesRankDashboard(),
                  component: Ua,
                }),
                l.createElement(o.AW, {
                  path: Lr.ThemeSalesDashboard(),
                  component: ji,
                }),
                l.createElement(o.AW, {
                  path: Lr.CuratedPromotionAnalysis(),
                  component: Nr,
                }),
                l.createElement(o.AW, {
                  path: Lr.DataMigration(),
                  component: Qi,
                }),
                l.createElement(o.AW, { component: d.R }),
              ),
            )
          : null;
      }
    },
    84676: (e, t, a) => {
      "use strict";
      a.d(t, {
        IH: () => M,
        Vt: () => L,
        nz: () => F,
        oJ: () => B,
        tv: () => O,
      });
      var n = a(4618),
        i = a(1698),
        r = a(81033),
        l = a(44107),
        s = a(87380),
        o = a(41710),
        c = a(26286),
        m = a(47427),
        d = a(86437),
        u = a(80886),
        p = a(1485),
        _ = a(72297),
        h = a(71741),
        g = a.n(h),
        E = a(92012),
        S = a(77178),
        v = a(46882),
        D = a(16649),
        f = a(13129),
        y = a(31846),
        b = a(46984),
        I = a(37563),
        C = a(28922),
        k = a(69368),
        A = a(66692),
        w = a(90831),
        P = a(31455),
        T = a(34083),
        N = a(78676),
        R = a(49972),
        G = a(83891),
        x = a(98973);
      function L(e) {
        const {
            rtInitialDate: t,
            initialType: a,
            closeModal: h,
            rtInitialEndDate: g,
          } = e,
          [E, L] = m.useState(a || "saleevent"),
          [M, F] = m.useState(""),
          [U, H] = m.useState((0, C.ap)(t)),
          [V, X] = m.useState((0, C.h9)(t, g)),
          { fnAddNewPlan: j } = (0, s.$H)(),
          { fnAddNewSpotlight: q } = (0, o.Oo)(),
          { fnCreateCluster: W } = (0, c.b)(),
          { fnCreateMarketingMessage: z } = (0, l.oT)(),
          [Z, K] = m.useState(null),
          [Q, Y] = m.useState(!1),
          [J, $] = m.useState(!1),
          [ee, te] = m.useState(void 0),
          [ae, ne] = m.useState(0),
          { fnCreateDiscountEvent: ie } = (0, r.z8)(),
          [re, le] = m.useState("assetrequest" != E),
          [se, oe] = (0, m.useState)(!0),
          [ce, me] = (0, m.useState)(!0),
          [de, ue] = (0, m.useState)(!1),
          [pe, _e] = (0, m.useState)("important" == E),
          [he, ge] = m.useState("important" == E);
        (0, m.useEffect)(() => {
          ue("important" == E), _e("important" == E);
        }, [E]);
        const [Ee, Se] = (0, m.useState)(null),
          [ve, De] = (0, m.useState)(!1),
          [fe] = (0, u.jk)((0, d.u$)(Z), (0, d.D3)(Z), {
            include_assets: !0,
            include_all_purchase_options: !0,
            include_platforms: !0,
          }),
          ye = (0, m.useCallback)(
            (e, t, a, n, i, r, l, s, o, c, m, d, u) => {
              j({
                type: e,
                strName: t,
                rtStartDate: a,
                rtEndDate: n,
                strDiscountEventID: i,
                nPartnerID: r,
                storeItemID: l,
                storeItemType: s,
                strSpotlightID: o,
                strMarketingMessageID: c,
                strTakeoverID: m,
                strTakeunderID: d,
              }).then((e) => {
                e
                  ? (Se(e),
                    u ||
                      (window.location.href =
                        I.De.PARTNER_BASE_URL +
                        "promotion" +
                        T.PromotionRoutes.PromotionPlanEditor(e)))
                  : te(
                      "Failed to create promotion, check browser console logs for details",
                    );
              });
            },
            [j],
          ),
          be = Boolean("vacation" == E);
        let Ie = null;
        return (
          ve &&
            (Ie =
              "All slots are already reserved. Please be thoughtful if you are adding a new entry."),
          m.createElement(
            S.uH,
            {
              strTitle: "Create Promotion Planning Entry",
              className: (0, f.Z)({ [N.Vacation]: "vacation" == E }),
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              onCancel: h,
              bOKDisabled:
                0 == M.trim().length || J || !(0, C.hQ)(E, U, V) || (Z && !fe),
              onOK: async () => {
                $(!0);
                let e = null,
                  t = null,
                  a = null,
                  r = null,
                  l = null,
                  s = null;
                if (re && 0 != ae && !Q && !be) {
                  let t = V;
                  if (i.Ii.has(E)) {
                    const e = i.Ii.get(E);
                    t = U + e.nDaysDiscountEvent * b._H.PerDay;
                  }
                  const a = (0, w.d)(E, U, fe, Z);
                  await ie(
                    U,
                    t,
                    a,
                    a,
                    i.FF.get(E),
                    [ae],
                    Z.appid ? [Z.appid] : fe?.GetIncludedAppIDs(),
                  )
                    .then((t) => (e = t.id))
                    .catch((e) => {
                      (s =
                        "Discount Event Creation Failed: " +
                        (0, D.l)(e).strErrorMsg +
                        ". "),
                        te(s);
                    });
                }
                if (se && fe && !Q && !be) {
                  const e = (0, G.i)(
                    M,
                    "Weekend Deal",
                    U,
                    V,
                    "midweek" == E
                      ? "#spotlight_midweek_madness"
                      : "#spotlight_weekend_deal",
                    "#promo_ends_custom",
                    fe,
                  );
                  await q(e)
                    .then((e) => {
                      e
                        ? (t = e)
                        : (Boolean(s) || (s = ""),
                          (s += "Spotlight Creation Failed, check console. "),
                          te(s));
                    })
                    .catch((e) =>
                      te(
                        "Spotlight Creation Failed: " + (0, D.l)(e).strErrorMsg,
                      ),
                    );
                }
                if (ce && fe && !Q && !be) {
                  const e = (0, P.v)(M, 2, U, V, "#msg_action_details", fe);
                  await z(e, !0)
                    .then((e) => {
                      e
                        ? (a = e)
                        : (Boolean(s) || (s = ""),
                          (s +=
                            "Marketing Message Creation Failed, check console. "),
                          te(s));
                    })
                    .catch((e) =>
                      te(
                        "Marketing Message Creation Failed: " +
                          (0, D.l)(e).strErrorMsg,
                      ),
                    );
                }
                !de ||
                  Q ||
                  be ||
                  (await W(n.R6.k_ConfigPage_Takeover, M, U, V)
                    .then((e) => {
                      e
                        ? (r = e)
                        : (Boolean(s) || (s = ""),
                          (s += "Takeover Creation Failed, check console. "),
                          te(s));
                    })
                    .catch((e) =>
                      te(
                        "Takeover Create Creation Failed: " +
                          (0, D.l)(e).strErrorMsg,
                      ),
                    )),
                  !pe ||
                    Q ||
                    be ||
                    (await W(n.R6.k_ConfigPage_Takeunder, M, U, V)
                      .then((e) => {
                        e
                          ? (l = e)
                          : (Boolean(s) || (s = ""),
                            (s += "Takeover Creation Failed, check console. "),
                            te(s));
                      })
                      .catch((e) =>
                        te(
                          "Takeover Create Creation Failed: " +
                            (0, D.l)(e).strErrorMsg,
                        ),
                      )),
                  ye(
                    E,
                    M,
                    U,
                    V,
                    e,
                    ae,
                    Z && !be ? (0, d.u$)(Z) : void 0,
                    Z && !be ? (0, d.D3)(Z) : void 0,
                    t,
                    a,
                    r,
                    l,
                    s,
                  );
              },
            },
            m.createElement(
              "div",
              { className: (0, f.Z)({ [N.Container]: !0 }) },
              Boolean(J && !ee) &&
                m.createElement(v.V, {
                  size: "medium",
                  position: "center",
                  string: (0, y.Xx)("#Saving"),
                }),
              Boolean(ee) &&
                m.createElement("div", { className: _.ErrorStyles }, ee),
              Boolean(Ie) &&
                m.createElement(
                  "div",
                  { className: _.WarningStylesBackground },
                  Ie,
                ),
              Boolean(Ee) &&
                m.createElement(
                  m.Fragment,
                  null,
                  m.createElement("p", null, "Promotion Plan was created."),
                  m.createElement(
                    "a",
                    {
                      href:
                        I.De.PARTNER_BASE_URL +
                        "promotion" +
                        T.PromotionRoutes.PromotionPlanEditor(Ee),
                    },
                    "Open New Plan in Editor",
                  ),
                ),
              m.createElement(p.__, null, "Choose Promotion Type:"),
              m.createElement(B, {
                type: E,
                setType: (e) => {
                  "assetrequest" == e && le(!1), L(e);
                },
              }),
              m.createElement(p.II, {
                type: "text",
                label: "Promotion Name",
                tooltip:
                  "Internal name used for us to identify the promotion, not visible outside of this tool",
                value: M,
                onChange: (e) => F(e?.currentTarget?.value || ""),
              }),
              m.createElement(O, {
                type: E,
                rtStartTime: U,
                setStartTime: H,
                rtEndTime: V,
                setEndTime: X,
                fnSetSlotFull: De,
              }),
              Boolean(
                ("midweek" == E || "weekenddeal" == E) &&
                  U > 0 &&
                  V > 0 &&
                  (function (e) {
                    const t = x.tz(1e3 * e, "America/Los_Angeles").day();
                    return 1 === t || 4 === t;
                  })(U),
              ) &&
                m.createElement(
                  "div",
                  null,
                  "Need ideas?",
                  m.createElement(
                    "a",
                    {
                      href: `${I.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?rt_feature_start=${U}&rt_feature_end=${V}`,
                      target: "_blank",
                    },
                    "Check out the invitation planner",
                  ),
                ),
              Boolean(!be) &&
                m.createElement(
                  m.Fragment,
                  null,
                  m.createElement(p.__, null, "Optional Featuring Target:"),
                  Boolean(Z) &&
                    m.createElement(k.Ce, {
                      id: (0, d.u$)(Z),
                      itemType: (0, d.D3)(Z),
                    }),
                  Boolean(Z && !fe) &&
                    m.createElement(
                      "div",
                      { className: _.ErrorStylesWithIcon },
                      "Error: Invalid choice, game not Steam store visible.",
                    ),
                  m.createElement(A.Ko, { oChoice: Z, fnSetChoice: K }),
                  Boolean(Z) &&
                    m.createElement(
                      m.Fragment,
                      null,
                      m.createElement(p.ji, {
                        label: "Tentative Plan",
                        checked: Q,
                        onChange: Y,
                        tooltip:
                          "Check if we aren't confirmed on the date and thus do not want to create any specific featuring, but we want to hold onto this time on the calendar",
                      }),
                      Boolean(!Q) &&
                        m.createElement(
                          m.Fragment,
                          null,
                          m.createElement(p.ji, {
                            label: "Create discount event",
                            checked: re && 0 != ae,
                            onChange: le,
                            disabled: 0 == ae || "assetrequest" == E,
                            tooltip:
                              "Uncheck the box to skip creating the discount event. You can create a discount event separately and associate with the daily deal. The discount event being present will let us find the package discount associated with the daily deal.",
                          }),
                          m.createElement(p.ji, {
                            label: "Create Spotlight",
                            tooltip:
                              "Create a spotlight for the same duration as the plan. This can be edited seperately or created and linked afterwards.",
                            onChange: oe,
                            checked: se,
                          }),
                          m.createElement(p.ji, {
                            label: "Create Marketing Message",
                            tooltip:
                              "Create a Marketing Message for the same duration as the plan. This can be edited seperately or created and linked afterwards.",
                            onChange: me,
                            checked: ce,
                          }),
                          m.createElement(p.ji, {
                            label: "Create Frontpage Takeover",
                            tooltip:
                              "Create a Fronpage Takeover for the same duration as the plan. This can be edited seperately or created and linked afterwards.",
                            onChange: ue,
                            checked: de,
                          }),
                          m.createElement(p.ji, {
                            label: "Create Takeunder",
                            tooltip:
                              "Create a Takeunder for the same duration as the plan. This can be edited seperately or created and linked afterwards.",
                            onChange: _e,
                            checked: pe,
                          }),
                          m.createElement(R.a, {
                            nStoreItemID: (0, d.u$)(Z),
                            eStoreItemType: (0, d.D3)(Z),
                            nPartnerID: ae,
                            setPartnerID: ne,
                          }),
                          !1,
                        ),
                    ),
                ),
            ),
          )
        );
      }
      function B(e) {
        const { type: t, setType: a } = e,
          n = (0, m.useMemo)(
            () =>
              [
                {
                  type: "midweek",
                  tooltip: "Runs Monday 10am until Thursday 10am",
                },
                {
                  type: "weekenddeal",
                  tooltip: "Runs Thursday 10am until Monday 10am",
                },
                {
                  type: "saleevent",
                  tooltip:
                    "Use for any partner sale event, date range and length not fixed.",
                },
                {
                  type: "informational",
                  tooltip:
                    "Best to indicate items of interest for example Hawaii.  Or for launch, pre-purchase, FP2 important events in Steam with featuring.",
                },
                {
                  type: "vacation",
                  tooltip:
                    "SteamBiz or adjacent folk away and might need backup coverage",
                },
                {
                  type: "important",
                  tooltip:
                    "Gives the item a different background color to call it out.",
                },
                {
                  type: "preload",
                  tooltip: "Major game preload being identified",
                },
                { type: "themesale", tooltip: 'Steam Offical "Theme" Fest' },
                { type: "nextfest", tooltip: "Steam Next Fest" },
                {
                  type: "assetrequest",
                  tooltip: "Asset Request For Marketing Messages Only",
                },
                {
                  type: "seasonalsale",
                  tooltip: "Steam Offical Seasonal Sale",
                },
              ]
                .filter((e) => !i.oP.has(e.type) || e.type == t)
                .map((e) => ({
                  label: i.j.get(e.type),
                  tooltip: e.tooltip,
                  data: e.type,
                })),
            [],
          );
        return m.createElement(p.ry, {
          strDropDownClassName: g().DropDownScroll,
          rgOptions: n,
          selectedOption: t,
          onChange: (e) => a(e.data),
        });
      }
      function M(e) {
        const { intention: t, setIntention: a } = e,
          n = (0, m.useMemo)(() => {
            const e = new Array();
            return (
              e.push({
                label: i.R7.get("none"),
                data: "none",
                tooltip: "No special intentions",
              }),
              e.push({
                label: i.R7.get("takeover"),
                data: "takeover",
                tooltip: "Takeover is the highest possible special visibility",
              }),
              e.push({
                label: i.R7.get("takeunder"),
                data: "takeunder",
                tooltip: "Takeunder is the highest possible special visibility",
              }),
              e.push({
                label: i.R7.get("hub_takeover"),
                data: "hub_takeover",
                tooltip: "Takeover on a particular content hub",
              }),
              e.push({
                label: i.R7.get("steamchina_takeover"),
                data: "steamchina_takeover",
                tooltip:
                  "This is intended for Steam China and may receive a takeover in SteamChina",
              }),
              e.push({
                label: i.R7.get("steamchina_only"),
                data: "steamchina_only",
                tooltip: "This is intended to only surface in Steam China",
              }),
              e
            );
          }, []);
        return m.createElement(p.ry, {
          strDropDownClassName: g().DropDownScroll,
          rgOptions: n,
          selectedOption: t,
          onChange: (e) => a(e.data),
        });
      }
      function O(e) {
        const {
          type: t,
          rtStartTime: a,
          setStartTime: n,
          rtEndTime: i,
          setEndTime: r,
        } = e;
        switch (t) {
          case "weekenddeal":
          case "midweek":
            return m.createElement(
              "div",
              { className: (0, f.Z)(N.DateCtn, "DateCtn") },
              m.createElement(F, { ...e }),
              " ",
            );
        }
        return m.createElement(
          "div",
          { className: (0, f.Z)(N.DateCtn, "DateCtn") },
          m.createElement(E.A, {
            strDescription: "Promotion Start Date/Time",
            nEarliestTime: 0,
            fnGetTimeToUpdate: () => a,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: () => !0,
            bShowTimeZone: !0,
          }),
          m.createElement(E.A, {
            strDescription: "Promotion End Date/Time",
            nEarliestTime: 0,
            fnGetTimeToUpdate: () => i,
            fnSetTimeToUpdate: r,
            fnIsValidDateTime: () => !0,
            bShowTimeZone: !0,
          }),
        );
      }
      function F(e) {
        const {
            type: t,
            rtStartTime: a,
            setStartTime: n,
            setEndTime: r,
            fnSetSlotFull: l,
          } = e,
          o = (0, m.useMemo)(() => [t], [t]),
          c = (0, s.l7)(104, o),
          d = (0, m.useMemo)(() => {
            const e = i.Ii.get(t),
              a = c?.get(t)?.map((t) => {
                let a = e.nMaxSlots - t.rgPlans?.length;
                a < 0 && (a = 0);
                const n = new Date(1e3 * (t.rtWeekStart + e.rtStartModifier));
                return (
                  n.setHours(10),
                  {
                    label: e.fnRenderWeekDisplayForSelection(t.rtWeekStart, a),
                    data: Math.floor(n.getTime() / 1e3),
                  }
                );
              });
            return a;
          }, [c, t]);
        return (
          (0, m.useEffect)(() => {
            if (l && c) {
              const e = i.Ii.get(t),
                n = c?.get(t)?.find((t) => {
                  const n = new Date(1e3 * (t.rtWeekStart + e.rtStartModifier));
                  return n.setHours(10), Math.floor(n.getTime() / 1e3) == a;
                }),
                r = e.nMaxSlots - n?.rgPlans?.length;
              l(r <= 0);
            }
          }, [c, a, t, l]),
          m.createElement(
            m.Fragment,
            null,
            m.createElement(p.__, null, "Choose a week:"),
            m.createElement(p.ry, {
              strDropDownClassName: g().DropDownScroll,
              rgOptions: d,
              selectedOption: a,
              onChange: (e) => {
                const a = i.Ii.get(t);
                n(e.data), r(e.data + a.rtDays * b._H.PerDay);
              },
            }),
          )
        );
      }
    },
    49972: (e, t, a) => {
      "use strict";
      a.d(t, { a: () => u });
      var n = a(49781),
        i = a(47427),
        r = a(1485),
        l = a(72297),
        s = a(46882),
        o = a(31846),
        c = a(37563),
        m = a(61178),
        d = a(80886);
      function u(e) {
        const {
            nStoreItemID: t,
            eStoreItemType: a,
            nPartnerID: u,
            setPartnerID: p,
          } = e,
          _ = (0, n.Gk)(t, a),
          [h] = (0, d.jk)(t, a, {});
        if (
          (i.useEffect(() => {
            0 == u && _?.length > 0 && p(_[0].partner_id);
          }, [u, _, p]),
          0 === _?.length)
        )
          return 14 == h?.GetAppType()
            ? i.createElement(
                "div",
                { className: l.WarningStylesBackground },
                "Plan is featuring an advertising app, which will make the discount event visible to no one.  Remember to update the app or partner list afterwards",
              )
            : i.createElement(
                "div",
                { className: l.ErrorStylesBackground },
                "Cannot create discount event. Could not identify an owning partner for selected app. System uses payment rules to make the partner determination. Did you create an advertising app without a payment rule? Can be update via publisher page.",
              );
        if (!_ || 0 == u)
          return i.createElement(s.V, {
            size: "medium",
            position: "center",
            string: (0, o.Xx)("#Loading"),
          });
        const g = new Map();
        return (
          _.forEach((e) => {
            g.has(e.partner_id) || g.set(e.partner_id, e);
          }),
          0 == g.size
            ? i.createElement(
                "div",
                null,
                "Error: Cannot determine partner associated with id ",
                t,
                " type ",
                a,
              )
            : 1 == g.size
              ? i.createElement(
                  "div",
                  { className: m.AssociatedPartnerCtn },
                  i.createElement(
                    "div",
                    { className: "DialogLabel" },
                    "Partner for Discount Event:",
                  ),
                  i.createElement(
                    "a",
                    {
                      href:
                        c.De.PARTNER_BASE_URL +
                        "pub/publisher/" +
                        _[0].partner_id,
                      target: "_blank",
                    },
                    _[0].name,
                    " (",
                    _[0].partner_id,
                    ")",
                  ),
                )
              : i.createElement(
                  "div",
                  null,
                  i.createElement(
                    "div",
                    null,
                    "Choose Partner for Discount Event:",
                  ),
                  i.createElement(
                    r.SY,
                    { value: u, onChange: (e) => p(e) },
                    Array.from(g.values()).map((e) =>
                      i.createElement(
                        r.EU,
                        {
                          key: "partnerid" + e.partner_id,
                          value: e.partner_id,
                        },
                        i.createElement(
                          "a",
                          {
                            href:
                              c.De.PARTNER_BASE_URL +
                              "pub/publisher/" +
                              e.partner_id,
                            target: "_blank",
                          },
                          e.name,
                          " (",
                          e.partner_id,
                          ")",
                        ),
                      ),
                    ),
                  ),
                )
        );
      }
    },
    45180: (e, t, a) => {
      "use strict";
      a.d(t, { u: () => S });
      var n = a(51485),
        i = a(36342),
        r = a(87380),
        l = a(30750),
        s = a(47427),
        o = a(80886),
        c = a(1485),
        m = a(72297),
        d = a(77178),
        u = a(90069),
        p = a(46882),
        _ = a(50423),
        h = a(31846),
        g = a(37563),
        E = a(60688);
      function S(e) {
        const { oEditablePlan: t } = e,
          a = (0, n.Dv)(),
          i = (0, l.SZ)(() => t.BIsDirty() || a.BIsDirty());
        return s.createElement(
          "div",
          { className: E.ButtonRow },
          s.createElement(
            c.KM,
            {
              onClick: (e) => (0, u.AM)(s.createElement(v, null), (0, _.RA)(e)),
            },
            (0, h.Xx)(i ? "#Button_Save" : "#Button_Saved"),
          ),
          s.createElement("div", { className: E.ButtonRowSpacer }),
          s.createElement(
            c.zx,
            {
              onClick: (e) => {
                (0, u.AM)(
                  s.createElement(D, { oEditablePlan: t }),
                  (0, _.RA)(e),
                );
              },
            },
            (0, h.Xx)("#Button_Delete"),
          ),
          s.createElement(
            c.zx,
            {
              disabled: !i,
              onClick: (e) =>
                (0, u.AM)(
                  s.createElement(d.uH, {
                    strTitle: (0, h.Xx)("#Dialog_AreYouSure"),
                    strDescription: (0, h.Xx)("#DailyDeals_UnsavedChanges"),
                    onOK: () => t.RevertChanges(),
                  }),
                  (0, _.RA)(e),
                ),
            },
            (0, h.Xx)("#Button_Revert"),
          ),
        );
      }
      function v(e) {
        const { closeModal: t } = e,
          a = (0, i.Gn)(),
          l = (0, n.Dv)(),
          { fnUpdatePlan: o } = (0, r.$H)(),
          [c, m] = s.useState(!0),
          [u, _] = s.useState(!1);
        return (
          s.useEffect(() => {
            const e = l.GetModel();
            o(a.GetPartnerID(), a.GetModel(), void 0, e)
              .then((e) => {
                _(e), a.SaveSuccessClearDirty(), l.SaveSuccessClearDirty();
              })
              .catch((e) => _(!1))
              .finally(() => m(!1));
          }, []),
          s.createElement(
            d.uH,
            { strTitle: "Saving", bAlertDialog: !0, closeModal: t },
            Boolean(c)
              ? s.createElement(p.V, {
                  size: "medium",
                  position: "center",
                  string: (0, h.Xx)("#Saving"),
                })
              : Boolean(u)
                ? s.createElement("div", null, "Save successful")
                : s.createElement(
                    "div",
                    null,
                    "Save failed. Please try again later (check consoles for details)",
                  ),
          )
        );
      }
      function D(e) {
        const { oEditablePlan: t, closeModal: a } = e,
          [n, i] = s.useState(!1),
          [l, o] = s.useState(void 0),
          { fnDeletePlan: c } = (0, r.$H)();
        return s.createElement(
          d.uH,
          {
            strTitle: "Remove Promotion Plan?",
            strDescription:
              "Are you sure you want to remove the promotion plan for the following? This can't be undone, but a new one can be created if needed.  This will only delete the promotion plan itself; this has no effect on the discount event or other associated featuring of the plan.",
            onCancel: a,
            onOK: () => {
              i(!0),
                c(t.GetModel().id).then((e) => {
                  e
                    ? (window.location.href =
                        g.De.PARTNER_BASE_URL + "promotion/planning/dashboard")
                    : o("Failed To Delete, check console");
                });
            },
            bOKDisabled: n,
          },
          Boolean(t.BHasFeaturedStoreItem()) &&
            s.createElement(
              "div",
              { style: { paddingTop: "15px" } },
              s.createElement(f, {
                id: t.GetModel().store_item_id,
                storeItemType: t.GetModel().store_item_type,
              }),
            ),
          Boolean(n && !l) &&
            s.createElement(p.V, {
              size: "medium",
              position: "center",
              string: (0, h.Xx)("#Deleting"),
            }),
          Boolean(l) && s.createElement("div", { className: m.ErrorStyles }, l),
        );
      }
      function f(e) {
        const { id: t, storeItemType: a } = e,
          [n] = (0, o.jk)(t, a, { include_basic_info: !0, include_assets: !0 });
        return n
          ? s.createElement(
              "div",
              null,
              s.createElement("div", null, n.GetName(), " (", n.GetID(), ")"),
              s.createElement(
                "div",
                null,
                s.createElement("img", {
                  src:
                    n.GetAssets().GetSmallCapsuleURL() ||
                    n.GetAssets().GetHeaderURL(),
                }),
              ),
            )
          : s.createElement(p.V, {
              size: "medium",
              position: "center",
              string: (0, h.Xx)("#Loading"),
            });
      }
    },
    26475: (e, t, a) => {
      "use strict";
      a.d(t, {
        UR: () => m,
        Z4: () => p,
        Zk: () => u,
        id: () => d,
        j_: () => c,
      });
      var n = a(1485),
        i = a(60688),
        r = a(47427),
        l = a(1698),
        s = a(13129),
        o = a(9071);
      function c(e) {
        const {
          name: t,
          id: a,
          fnSetID: l,
          fnGetURL: s,
          placeHolder: o,
          tooltip: c,
        } = e;
        return r.createElement(
          "div",
          { className: i.InputContainer },
          r.createElement(n.II, {
            type: "text",
            label: t,
            value: a || "",
            onChange: (e) => l(e?.currentTarget?.value || ""),
            placeholder: o,
            tooltip: c,
          }),
          r.createElement(d, { ...e, showSimplifiedOpenText: !0 }),
        );
      }
      function m(e) {
        const {
          name: t,
          id: a,
          fnSetID: l,
          index: s,
          placeHolder: o,
          tooltip: c,
        } = e;
        return r.createElement(
          "div",
          { className: i.InputContainer },
          r.createElement(n.II, {
            type: "text",
            label: t,
            value: a || "",
            onChange: (e) => l(e?.currentTarget?.value || "", s),
            placeholder: o,
            tooltip: c,
          }),
          r.createElement(u, { ...e, showSimplifiedOpenText: !0 }),
        );
      }
      function d(e) {
        const {
          name: t,
          type: a,
          id: l,
          showSimplifiedOpenText: c,
          fnGetURL: m,
          fnGetReviewed: d,
          fnSetReviewed: u,
          fnDisplayStatus: p,
        } = e;
        if (("number" == typeof l && l > 0) || l?.length > 0) {
          const e = r.createElement(
            "a",
            {
              href: m(l),
              target: "_blank",
              onClick: (e) => e.stopPropagation(),
            },
            c
              ? "Open"
              : r.createElement(
                  r.Fragment,
                  null,
                  r.createElement("b", null, a, t && a ? ": " : ""),
                  t,
                ),
          );
          return r.createElement(
            "div",
            { className: (0, s.Z)(i.PreviewLinkCtn) },
            Boolean(d)
              ? r.createElement(n.ji, {
                  label: e,
                  checked: Boolean(d()),
                  onChange: u,
                  tooltip: d() ? `Reviewed by ${(0, o._)(d())}` : void 0,
                })
              : e,
            Boolean(p) && p(l),
          );
        }
        return null;
      }
      function u(e) {
        const {
          name: t,
          type: a,
          id: l,
          showSimplifiedOpenText: c,
          fnGetURL: m,
          index: d,
          fnGetReviewed: u,
          fnSetReviewed: p,
          fnDisplayStatus: _,
        } = e;
        if (l?.length > 0) {
          const e = r.createElement(
            "a",
            {
              href: m(l, d),
              target: "_blank",
              onClick: (e) => e.stopPropagation(),
            },
            c
              ? "Open"
              : r.createElement(
                  r.Fragment,
                  null,
                  r.createElement("b", null, a, t && a ? ": " : ""),
                  t,
                ),
          );
          return r.createElement(
            "div",
            {
              className: (0, s.Z)(
                i.PreviewLinkCtn,
                Boolean(u && u(d)) && i.Complete,
              ),
            },
            Boolean(u)
              ? r.createElement(n.ji, {
                  label: e,
                  checked: Boolean(u(d)),
                  onChange: (e) => p(e, d),
                  tooltip: u(d) ? `Reviewed by ${(0, o._)(u(d))}` : void 0,
                })
              : e,
            Boolean(_) && _(l),
          );
        }
        return null;
      }
      function p(e) {
        let t = "",
          a = "",
          n = !1;
        if (e.dailyDealGid) t = l.pk.get("dailydeal");
        else if (e.promotionPlan) {
          const a = e.promotionPlan;
          t = l.pk.get(a.type);
          const i =
              (a.takeover_ids?.length > 0 && Boolean(a.takeover_ids[0])) ||
              (a.steamchina_takeover_ids?.length > 0 &&
                Boolean(a.steamchina_takeover_ids[0])),
            r = a.takeunder_ids?.length > 0 && Boolean(a.takeunder_ids[0]),
            s =
              "weekenddeal" != a.type &&
              "midweek" != a.type &&
              a.contenthub_takeover_ids?.length > 0 &&
              Boolean(a.contenthub_takeover_ids[0]);
          a.bgcolor
            ? (t = a.bgcolor)
            : i || "takeover" == a.intention
              ? ((t = "#3c7c50"), (n = !i))
              : r || "takeunder" == a.intention
                ? ((t = "#993a21"), (n = !r))
                : (s || "hub_takeover" == a.intention) &&
                  ((t = "#A3B367"), (n = !s));
        } else e.week && ((t = "#353840"), (a = "1px dashed #4273bd"));
        return {
          style: {
            backgroundColor: t,
            border: a,
            backgroundImage: n
              ? "repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,.1) 5px, rgba(255,255,255,.1) 10px)"
              : void 0,
          },
        };
      }
    },
    43746: (e, t, a) => {
      "use strict";
      a.d(t, { f: () => r, l: () => i });
      var n = a(13499);
      function i(e) {
        if (!e) return !1;
        const t = (0, n.FM)(e).toLocaleLowerCase();
        return (
          "store.steampowered.com" == t ||
          "store.steamchina.com" == t ||
          "steamcommunity.com" == t
        );
      }
      function r(e) {
        return i(e) ? null : "Link must point to store or community";
      }
    },
    83190: (e, t, a) => {
      "use strict";
      a.d(t, { P: () => c });
      var n = a(51485),
        i = a(36342),
        r = a(87380),
        l = a(47427),
        s = a(83743),
        o = a(77178);
      function c(e) {
        const { fnUpdatePlan: t } = (0, r.$H)(),
          a = (0, i.Gn)(),
          c = (0, n.Dv)(),
          m = (0, s.tx)();
        return m.bLoading
          ? l.createElement(s.NT, {
              state: m,
              strDialogTitle: "Saving Plan",
              closeModal: e.closeModal,
            })
          : l.createElement(
              o.uH,
              {
                ...e,
                closeModal: void 0,
                onOK: async () => {
                  m.bLoading ||
                    (m.fnSetLoading(!0),
                    e.onOK && (await e.onOK()),
                    t(a.GetPartnerID(), a.GetModel(), void 0, c.GetModel())
                      .then((e) => {
                        m.fnSetSuccess(e),
                          e
                            ? m.fnSetStrSuccess(
                                "Status update and Save successful",
                              )
                            : m.fnSetStrError(
                                "Save failed. Please try again later (check consoles for details)",
                              ),
                          a.SaveSuccessClearDirty(),
                          c.SaveSuccessClearDirty();
                      })
                      .catch((e) => m.fnSetSuccess(!1)));
                },
                onCancel: () => {
                  e.onCancel && e.onCancel(), e.closeModal && e.closeModal();
                },
              },
              e.children,
            );
      }
    },
    63734: (e, t, a) => {
      "use strict";
      a.d(t, { o6: () => $e, pt: () => Qe, aX: () => Ke });
      var n = a(4618),
        i = a(1698),
        r = a(81033),
        l = a(44107),
        s = a(51485),
        o = a(36342),
        c = a(87380),
        m = a(41710),
        d = a(30750),
        u = a(47427),
        p = a(28017),
        _ = a(80886),
        h = a(77681),
        g = a.n(h),
        E = a(1485),
        S = a(10162),
        v = a(71741),
        D = a.n(v),
        f = a(90069),
        y = a(62613),
        b = a(23665),
        I = a(46882),
        C = a(56164),
        k = a(13129),
        A = a(50423),
        w = a(31846),
        P = a(17098),
        T = a(77178),
        N = a(26475),
        R = a(60688),
        G = a(83743),
        x = a(26286),
        L = a(15459),
        B = a(69368);
      function M(e) {
        const { oEditablePlan: t, clusterType: a, index: r } = e,
          l = (0, n.II)(a);
        return u.createElement(
          "div",
          { className: R.LinkCtn },
          u.createElement(N.UR, {
            name: l + " ID",
            placeHolder: (0, n.bG)(a),
            id: t.GetClusterID(a, 0),
            index: 0,
            fnSetID: (e, n) => t.SetClusterID(a, e, n),
            fnGetURL: (e, t) => i.tA.GetClusterEditURL(a, e),
          }),
          u.createElement(
            "div",
            { className: R.ButtonRow },
            u.createElement(
              E.zx,
              {
                onClick: (e) => {
                  (0, f.AM)(
                    u.createElement(F, {
                      oEditablePlan: t,
                      clusterType: a,
                      index: r,
                    }),
                    (0, A.RA)(e),
                  );
                },
              },
              "Create new",
            ),
            u.createElement(
              E.zx,
              {
                onClick: (e) => {
                  (0, f.AM)(
                    u.createElement(U, {
                      oEditablePlan: t,
                      clusterType: a,
                      index: r,
                    }),
                    (0, A.RA)(e),
                  );
                },
              },
              "Select from existing",
            ),
          ),
        );
      }
      function O(e) {
        const { index: t, oEditablePlan: a } = e,
          [i, r] = (0, u.useState)(n.R6.k_ConfigPage_FreeToPlay_Takeover),
          l = (0, u.useMemo)(
            () =>
              Object.values(n.R6)
                .filter((e) => "content_hub" == (0, n.He)(e))
                .map((e) => ({ value: e, label: (0, n.II)(e) })),
            [],
          );
        return (
          u.useEffect(() => {
            for (let e = 0; e < a.GetContentHubTakeoverCount(); e++)
              if (a.GetContentHubTakeoverType(e)) {
                r(a.GetContentHubTakeoverType(e));
                break;
              }
          }, [r, a]),
          u.createElement(
            u.Fragment,
            null,
            u.createElement(L.ZP, {
              isSearchable: !0,
              styles: { option: (e) => ({ ...e, color: "#444444" }) },
              options: l,
              value: l.find((e) => e.value == i),
              onChange: (e) => r(e.value),
            }),
            u.createElement(M, { index: t, oEditablePlan: a, clusterType: i }),
          )
        );
      }
      function F(e) {
        const { closeModal: t, oEditablePlan: a, clusterType: i, index: r } = e,
          [l, s] = (0, u.useState)(a.GetName()),
          [o, c] = (0, u.useState)(""),
          m = "Create New " + (0, n.II)(i),
          { fnCreateCluster: p } = (0, x.b)(),
          [h, g] = (0, d.SZ)(() => [
            a.GetFeaturedItemID(),
            a.GetFeaturedItemType(),
          ]),
          [S] = (0, _.jk)(h, g, {});
        (0, u.useEffect)(() => {
          if (S) {
            let e = S.GetStorePageURLWithOverride();
            i == n.R6.k_ConfigPage_TakeoverSteamChina &&
              e.replace(/steampowered\.com/g, "steamchina.com"),
              c(e);
          }
        }, [S, i]);
        const v = (0, G.tx)();
        return v.bLoading
          ? u.createElement(G.NT, {
              state: v,
              strDialogTitle: m,
              closeModal: t,
            })
          : u.createElement(
              T.uH,
              {
                strTitle: m,
                onCancel: t,
                bOKDisabled: !l || 0 == l.trim().length,
                onOK: async () => {
                  v.fnSetLoading(!0);
                  const e = await p(
                    i,
                    l,
                    a.GetStartDate(),
                    a.GetEndDate(),
                    o,
                    h,
                    g,
                  );
                  e
                    ? (a.SetClusterID(i, e, r),
                      v.fnSetStrSuccess(
                        m + " was successfull; remember to save.",
                      ))
                    : v.fnSetStrError("Failed to create cluster: " + m);
                },
              },
              u.createElement(E.II, {
                type: "text",
                label: "Name",
                value: l,
                onChange: (e) => s(e.currentTarget.value),
              }),
              u.createElement("div", null, "Associated Items"),
              u.createElement(B.Ce, { id: h, itemType: g }),
              u.createElement(E.II, {
                type: "text",
                label: "Target URL",
                value: o,
                onChange: (e) => c(e.currentTarget.value),
              }),
            );
      }
      function U(e) {
        const { closeModal: t, oEditablePlan: a, clusterType: i } = e,
          r = (0, n.II)(i);
        return u.createElement(T.uH, {
          strTitle: "Choose Existing " + r,
          strDescription: "Not Built Yet",
          closeModal: t,
        });
      }
      var H = a(95666),
        V = a(90831),
        X = a(31455),
        j = a(86437),
        q = a(66692);
      function W(e) {
        const {
            storeItemID: t,
            storeItemType: a,
            closeModal: n,
            fnSetStoreItemFeature: i,
          } = e,
          [r, l] = u.useState((0, j.Bo)(t, a));
        return u.createElement(
          T.uH,
          {
            strTitle: "Update Item Featuring",
            bDisableBackgroundDismiss: !0,
            onOK: () => {
              r && i((0, j.u$)(r), (0, j.D3)(r)), n();
            },
            onCancel: n,
          },
          Boolean(r)
            ? u.createElement(B.Ce, { id: t, itemType: a })
            : u.createElement("div", null, "No featured store item selected."),
          u.createElement(q.Ko, { oChoice: r, fnSetChoice: l }),
        );
      }
      var z = a(84676),
        Z = a(45180),
        K = a(71630),
        Q = a(38201),
        Y = a(54842),
        J = a(20417),
        $ = a(37563),
        ee = a(85556),
        te = a(16997),
        ae = a(45492);
      class ne {
        m_oRequest = null;
        m_originalPlan = null;
        m_planID;
        m_bDirty = !1;
        m_callback = new ae.pB();
        m_storeItemKey = null;
        constructor(e, t) {
          (0, Y.rC)(this), this.Reset(e, t);
        }
        Reset(e, t) {
          (this.m_originalPlan = JSON.parse(JSON.stringify(t))),
            (this.m_oRequest = JSON.parse(JSON.stringify(t))),
            (this.m_bDirty = !1),
            (this.m_planID = e),
            this.m_oRequest.store_item_id &&
              (this.m_storeItemKey = (0, j.t9)(
                this.m_oRequest.store_item_id,
                this.m_oRequest.store_item_type,
              ));
        }
        SaveSuccessClearDirty() {
          (this.m_originalPlan = JSON.parse(JSON.stringify(this.m_oRequest))),
            (this.m_bDirty = !1);
        }
        GetPlan() {
          return this.m_oRequest;
        }
        GetPlanID() {
          return this.m_planID;
        }
        GetModel() {
          return this.m_oRequest;
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetType() {
          return this.m_oRequest.type;
        }
        GetStartDate() {
          return this.m_oRequest.start_date;
        }
        GetEndDate() {
          return this.m_oRequest.end_date;
        }
        BHasFeaturedStoreItem() {
          return Boolean(this.m_oRequest.store_item_id);
        }
        GetStoreItemKey() {
          return this.m_storeItemKey;
        }
        GetFeaturedItemID() {
          return this.m_oRequest.store_item_id;
        }
        GetFeaturedItemType() {
          return this.m_oRequest.store_item_type;
        }
        GetRequestNotes() {
          return this.m_oRequest.request_notes;
        }
        SetType(e) {
          this.m_oRequest.type !== e &&
            ((this.m_oRequest.type = e), this.Dispatch());
        }
        SetStartDate(e) {
          this.m_oRequest.start_date !== e &&
            ((this.m_oRequest.start_date = e), this.Dispatch());
        }
        SetEndDate(e) {
          this.m_oRequest.end_date !== e &&
            ((this.m_oRequest.end_date = e), this.Dispatch());
        }
        SetFeaturedStoreItem(e, t) {
          (this.m_oRequest.store_item_id == e &&
            this.m_oRequest.store_item_type == t) ||
            ((this.m_oRequest.store_item_id = e),
            (this.m_oRequest.store_item_type = t),
            (this.m_storeItemKey = (0, j.t9)(
              this.m_oRequest.store_item_id,
              this.m_oRequest.store_item_type,
            )),
            this.Dispatch());
        }
        SetRequestNote(e) {
          this.m_oRequest.request_notes !== e &&
            ((this.m_oRequest.request_notes = e), this.Dispatch());
        }
        RevertChanges() {
          (this.m_oRequest = JSON.parse(JSON.stringify(this.m_originalPlan))),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, ee.gn)([Y.LO], ne.prototype, "m_bDirty", void 0),
        (0, ee.gn)([te.a], ne.prototype, "SetType", null),
        (0, ee.gn)([te.a], ne.prototype, "SetStartDate", null),
        (0, ee.gn)([te.a], ne.prototype, "SetEndDate", null),
        (0, ee.gn)([te.a], ne.prototype, "SetFeaturedStoreItem", null),
        (0, ee.gn)([te.a], ne.prototype, "SetRequestNote", null),
        (0, ee.gn)([te.a], ne.prototype, "RevertChanges", null);
      class ie {
        m_model = null;
        InitPromotionPlanToEdit(e, t, a = !1) {
          return (
            "dev" == $.De.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CPromotionPlanPartnerEditStore.InitPromotionPlanToEdit with model: " +
                  Boolean(this.m_model),
                (0, Y.ZN)(t),
              ),
            this.m_model
              ? (this.m_model.Reset(e, t),
                a && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new ne(e, t)),
            this.m_model
          );
        }
        GetPromotionPlanToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static s_Singleton;
        static Get() {
          return (
            ie.s_Singleton ||
              ((ie.s_Singleton = new ie()),
              "dev" == $.De.WEB_UNIVERSE &&
                (window.g_PromotionPlanPartnerEditStore = ie.s_Singleton)),
            ie.s_Singleton
          );
        }
        constructor() {}
      }
      function re() {
        const e = (0, J.NW)(),
          [t, a] = u.useState(ie.Get().GetPromotionPlanToEdit());
        return (
          (0, J.Qg)(t?.GetCallback(), (t) => {
            a(t), e();
          }),
          t
        );
      }
      function le(e) {
        const t = (0, o.Gn)(),
          a = (0, s.Dv)(),
          n = re(),
          i = t.BIsDirty() || a.BIsDirty() || n?.BIsDirty(),
          [r] = (0, d.SZ)(() => [t.GetDiscountEventID()]),
          l = [
            {
              name: "Admin Info",
              key: "admininfo",
              contents: u.createElement(ce, null),
            },
          ];
        return (
          r &&
            l.push({
              name: "Discount Event",
              key: "discountevent",
              contents: u.createElement(
                S.SV,
                null,
                u.createElement(oe, { strDiscountEventID: r }),
              ),
            }),
          u.createElement(
            "div",
            null,
            u.createElement("div", null, "Is dirty?: ", i ? "true" : "false"),
            u.createElement(se, null),
            u.createElement("br", null),
            u.createElement("br", null),
            u.createElement("hr", null),
            u.createElement(b.n, {
              tabs: l,
              bDisableRouting: !0,
              startingTab: "mainmessage",
            }),
            u.createElement("div", { className: D().ClearThings }),
          )
        );
      }
      function se(e) {
        const t = (0, o.Gn)().GetModel(),
          [a, n, i, r, l, s] = (0, d.SZ)(() => [
            t.owner_account_id,
            t.creator_account_id,
            t.artwork_owner_account_id,
            t.admin_accounts,
            t.reviewed_by_account,
            t.operator_account_id,
          ]);
        return u.createElement(
          u.Fragment,
          null,
          Boolean(n) &&
            u.createElement(
              "div",
              { className: g().SectionCtn },
              u.createElement(E.__, null, "Creator:"),
              u.createElement(Q.N, { accountID: n }),
            ),
          Boolean(a) &&
            u.createElement(
              "div",
              { className: g().SectionCtn },
              u.createElement(E.__, null, "Owner:"),
              u.createElement(Q.N, { accountID: a }),
            ),
          Boolean(i) &&
            u.createElement(
              "div",
              { className: g().SectionCtn },
              u.createElement(E.__, null, "Artwork Owner:"),
              u.createElement(Q.N, { accountID: i }),
            ),
          Boolean(l) &&
            u.createElement(
              "div",
              { className: g().SectionCtn },
              u.createElement(E.__, null, "Reviewer:"),
              u.createElement(Q.N, { accountID: l }),
            ),
          Boolean(l) &&
            u.createElement(
              "div",
              { className: g().SectionCtn },
              u.createElement(E.__, null, "Operator Owner:"),
              u.createElement(Q.N, { accountID: s }),
            ),
          Boolean(r?.length > 0) &&
            u.createElement(
              "div",
              { className: g().SectionCtn },
              u.createElement(E.__, null, "All Editors of the Plan:"),
              r?.map((e) =>
                u.createElement(Q.N, { key: "editor" + e, accountID: e }),
              ),
            ),
        );
      }
      function oe(e) {
        const { strDiscountEventID: t } = e,
          a = (0, r.vc)(t);
        return u.createElement(K.G, { data: a });
      }
      function ce(e) {
        const t = (0, o.Gn)(),
          a = (0, s.Dv)(),
          n = re(),
          i = t.BIsDirty() || a.BIsDirty() || n?.BIsDirty(),
          r = t.GetModel();
        return u.createElement(
          u.Fragment,
          null,
          u.createElement("div", null, "Is Dirty: ", i),
          u.createElement("h1", null, "Admin Model:"),
          u.createElement(K.G, { data: r }),
          u.createElement("h1", null, "Partner Inputs to Art Pipeline:"),
          u.createElement(K.G, { data: a.GetModel() }),
          u.createElement(
            E.zx,
            { onClick: () => a.ClearInput() },
            "Clear Partner Inputs",
          ),
          u.createElement("h1", null, "Partner Promotion Plan Request"),
          u.createElement(K.G, { data: n?.GetModel() || {} }),
        );
      }
      var me = a(8285),
        de = a(34083);
      function ue(e) {
        const { fnBIsPlanDirty: t } = (0, o.u9)(),
          { fnBIsPlanInputPipelineDirty: a } = (0, s.R0)(),
          { fnBIsPlanPartnerRequestDirty: n } = {
            fnBIsPlanPartnerRequestDirty: u.useCallback(
              () =>
                !!ie.Get().GetPromotionPlanToEdit() &&
                ie.Get().GetPromotionPlanToEdit().BIsDirty(),
              [],
            ),
            fnResetDirtyPlanPartnerRequest: u.useCallback(() => {
              ie.Get().ClearEditModel();
            }, []),
          },
          i = (0, o.Gn)(),
          r = (0, s.Dv)(),
          l = re();
        u.useEffect(
          () => (
            (window.onbeforeunload = () =>
              t() || a() || n()
                ? (0, w.Xx)("#DailyDeals_UnsavedChanges")
                : null),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [t, a, n],
        );
        return u.createElement(me.NL, {
          message: (e) =>
            !((i && t()) || (r && a()) || (l && n())) ||
            e.pathname == de.PromotionRoutes.PromotionPlanEditor(i.GetID()) ||
            (0, w.Xx)("#DailyDeals_UnsavedChanges"),
        });
      }
      var pe = a(10816),
        _e = a(65311),
        he = a(14839),
        ge = a(13913),
        Ee = a(25127),
        Se = a(28306),
        ve = a(44174),
        De = a(28995),
        fe = a(43746);
      function ye(e) {
        const { gid: t } = e,
          a = (0, ge.I)(t),
          n = (0, ge.sB)(t);
        if (!a && !n) return null;
        const {
            eVisibility: i,
            bDateSet: r,
            bItemAssociated: l,
            bFiltersSetup: s,
            bValidLink: o,
            bLegalLineHandled: c,
          } = a,
          {
            bMinimumAssetsSetup: m,
            nAssetSetup: d,
            nCompleteAssetRequired: p,
            bMatchingVideoAssets: _,
          } = n;
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            { className: R.StatusRow },
            u.createElement(
              "span",
              null,
              "Visibility: ",
              2 == i ? "Public" : "Draft",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, r && R.Complete) },
              r ? "🗹 " : "☐ ",
              " Date",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, l && R.Complete) },
              l ? "🗹 " : "☐ ",
              " Item Associated",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, s && R.Complete) },
              s ? "🗹 " : "☐ ",
              " Filters",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, m && R.Complete) },
              m ? "🗹 " : "☐ ",
              " Assets (",
              d,
              "/",
              p,
              ")",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, o && R.Complete) },
              o ? "🗹 " : "☐ ",
              " ValidLink",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, c && R.Complete) },
              c ? "🗹 " : "☐ ",
              " Legal",
            ),
            void 0 !== _ &&
              u.createElement(
                "span",
                { className: (0, k.Z)(R.Status, _ && R.Complete) },
                _ ? "🗹 " : "☐ ",
                " Animated Assets",
              ),
          ),
        );
      }
      function be(e) {
        const { id: t } = e,
          a = (0, m.dh)(t);
        if (!a) return null;
        const n = Boolean(a.visibility.visible),
          i =
            a.visibility.startdate &&
            a.visibility.enddate &&
            a.visibility.enddate > a.visibility.startdate,
          r =
            a.association?.appid ||
            a.association?.packageid ||
            a.association?.bundleid,
          l = a.image ? Object.keys(a.image).length : 0,
          s = l >= Ee._,
          o = a.association?.url,
          c = Boolean(o);
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            { className: R.StatusRow },
            u.createElement(
              "span",
              null,
              "Visibility: ",
              n ? "Public" : "Draft",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, i && R.Complete) },
              i ? "🗹 " : "☐ ",
              " Date",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, r && R.Complete) },
              r ? "🗹 " : "☐ ",
              " Item Associated",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, c && R.Complete) },
              c ? "🗹 " : "☐ ",
              " Valid Link",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, s && R.Complete) },
              s ? "🗹 " : "☐ ",
              " Assets (",
              l,
              "/",
              Ee._,
              ")",
            ),
          ),
          Boolean(c && !(0, fe.l)(o)) &&
            u.createElement(
              "div",
              { className: (0, k.Z)(R.StatusRow, R.StatusAlert) },
              "Error: Spotlight has an overide URL which isn't store or community. Check for typos.",
            ),
        );
      }
      function Ie(e) {
        const { id: t, type: a } = e,
          n = (0, he.NU)(a, t);
        if (!n) return null;
        const i = Boolean(n.visibility.visible),
          r =
            n.visibility.startdate &&
            n.visibility.enddate &&
            n.visibility.enddate > n.visibility.startdate,
          l =
            n.association?.appid ||
            n.association?.packageid ||
            n.association?.bundleid,
          s = n.association?.url || n.page_bg_url,
          o = Boolean(s);
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            { className: R.StatusRow },
            u.createElement(
              "span",
              { className: R.Visibility },
              "Visibility: ",
              i ? "Public" : "Draft",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, r && R.Complete) },
              r ? "🗹 " : "☐ ",
              " Date",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, l && R.Complete) },
              l ? "🗹 " : "☐ ",
              " Item Associated",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, o && R.Complete) },
              o ? "🗹 " : "☐ ",
              " Valid Link",
            ),
            _e.y.map((e) => {
              const t = Object.keys(n[e] ?? []).length,
                i = t >= Ee._;
              return u.createElement(
                "span",
                { key: a + "_" + e },
                i ? "🗹 " : "☐ ",
                " ",
                (0, _e.P)(e),
                " ",
                "(",
                t,
                "/",
                Ee._,
                ")",
              );
            }),
          ),
          Boolean(o && !(0, fe.l)(s)) &&
            u.createElement(
              "div",
              { className: (0, k.Z)(R.StatusRow, R.StatusAlert) },
              "Error: Takeover has an overide URL which isn't store or community. Check for typos.",
            ),
        );
      }
      function Ce(e) {
        const { id: t } = e,
          a = (0, he.NU)(n.R6.k_ConfigPage_Takeunder, t);
        if (!a) return null;
        const i = Boolean(a.visibility.visible),
          r =
            a.visibility.startdate &&
            a.visibility.enddate &&
            a.visibility.enddate > a.visibility.startdate,
          l =
            a.association?.appid ||
            a.association?.packageid ||
            a.association?.bundleid,
          s = a.association?.url || a.takeunder_url,
          o = Boolean(s),
          c = /steam[-_]?deck/i.test(s || ""),
          m = /\/deckverified\//i.test(s || "");
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            { className: R.StatusRow },
            u.createElement(
              "span",
              null,
              "Visibility: ",
              i ? "Public" : "Draft",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, r && R.Complete) },
              r ? "🗹 " : "☐ ",
              " Date",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, l && R.Complete) },
              l ? "🗹 " : "☐ ",
              " Item Associated",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(R.Status, o && R.Complete) },
              o ? "🗹 " : "☐ ",
              " Valid Link",
            ),
            Se.y.map((e) => {
              const t = Object.keys(a[e] ?? []).length,
                n = t >= Ee._;
              return u.createElement(
                "span",
                { key: "takeunder_" + e },
                n ? "🗹 " : "☐ ",
                " ",
                (0, Se.a)(e),
                " ",
                "(",
                t,
                "/",
                Ee._,
                ")",
              );
            }),
          ),
          Boolean(c && !m) &&
            u.createElement(
              "div",
              { className: (0, k.Z)(R.StatusRow, R.StatusAlert) },
              "Error: This take under should be updated to convert /sale/ to /deckverified/ to reduce deck advertising on front page",
            ),
          Boolean(o && !(0, fe.l)(s)) &&
            u.createElement(
              "div",
              { className: (0, k.Z)(R.StatusRow, R.StatusAlert) },
              "Error: Takeunder has an override URL which isn't store or community. Check for typos.",
            ),
        );
      }
      function ke(e) {
        const { clanAccountID: t, gidClanEvent: a } = e,
          n = (0, ve.Jn)(t, a);
        if (!n) return null;
        const i = Boolean(n.BIsVisibleEvent()),
          r =
            n.GetStartTimeAndDateUnixSeconds() &&
            n.GetEndTimeAndDateUnixSeconds() &&
            n.GetEndTimeAndDateUnixSeconds() >
              n.GetStartTimeAndDateUnixSeconds(),
          l = Boolean(
            n?.jsondata?.sale_vanity_id_valve_approved_for_sale_subpath,
          );
        return u.createElement(
          "div",
          { className: R.StatusRow },
          u.createElement("span", null, "Visibility: ", i ? "Public" : "Draft"),
          u.createElement(
            "span",
            { className: (0, k.Z)(R.Status, r && R.Complete) },
            r ? "🗹 " : "☐ ",
            " Date",
          ),
          u.createElement(
            "span",
            {
              className: (0, k.Z)(
                R.Status,
                n?.jsondata?.sale_associated_advertising_appid && R.Complete,
              ),
            },
            n?.jsondata?.sale_associated_advertising_appid ? "🗹 " : "☐ ",
            " Advertising App",
          ),
          u.createElement(
            "span",
            { className: (0, k.Z)(R.Status, l && R.Complete) },
            l ? "🗹 " : "☐ ",
            " Valid Link",
          ),
          De.DU.map((e) => {
            const t = (n.jsondata[e] ?? []).filter(Boolean).length,
              a = t >= Ee._;
            return u.createElement(
              "span",
              { key: "takeunder_" + e },
              a ? "🗹 " : "☐ ",
              " ",
              (0, De.Fm)(e),
              " ",
              "(",
              t,
              "/",
              Ee._,
              ")",
            );
          }),
        );
      }
      function Ae(e) {
        const { strDiscountEventID: t, oEditablePlan: a } = e,
          n = (0, r.vc)(t),
          [i, l, s] = (0, d.SZ)(() => [
            a.GetSaleClanAccountID(),
            a.GetSaleClanEventGID(),
            a.GetOptInID(),
          ]),
          [o] = (0, _.vs)(n?.appids?.[0], {}),
          c = (0, ve.Jn)(i, l);
        if (
          0 == n?.appids?.length &&
          0 == n?.publisherids?.length &&
          0 == n?.opt_in_name?.length
        )
          return u.createElement(
            "div",
            { className: R.StatusRow },
            u.createElement(
              "span",
              null,
              "Warning: Discount Event is visible to ALL Partners.",
            ),
            u.createElement(
              "span",
              null,
              "unique" == n.collision_type ? "🗹 " : "☐ ",
              "Seasonal Sale Setting",
            ),
          );
        if (1 == n?.appids?.length && 14 == o?.GetAppType())
          return u.createElement(
            "div",
            { className: (0, k.Z)(R.StatusRow, R.StatusAlert) },
            "Warning: Discount Event is targeting advertising app; visible to no one.",
          );
        if (s && n)
          return u.createElement(
            "div",
            { className: R.StatusRow },
            u.createElement(
              "span",
              null,
              n.opt_in_name ? "🗹 " : "☐ ",
              "OptIn Associated",
            ),
            Boolean(n.appids?.length > 0 || n.publisherids?.length > 0) &&
              u.createElement(
                "span",
                null,
                "Error: App or Partner List specified",
              ),
          );
        const m = c?.GetSaleFeaturedAppsCount() || 0;
        return u.createElement(
          "div",
          { className: R.StatusRow },
          Boolean(m) &&
            u.createElement(
              "span",
              null,
              n?.appids?.length >= m ? "🗹 " : "☐ ",
              "Apps From Sale (",
              n?.appids?.length || 0,
              "/",
              m,
              ")",
            ),
        );
      }
      var we,
        Pe = a(22364),
        Te = a(83891),
        Ne = a(64578),
        Re = a(72297);
      function Ge(e) {
        const { oEditablePlan: t } = e,
          a = (function () {
            const [e] = (0, u.useState)(() => {
              const e = new Map();
              return (
                e.set("midweek", [
                  we.k_Spotlight,
                  we.k_MarketingMessage,
                  we.k_DiscountEvent,
                ]),
                e.set("weekenddeal", [
                  we.k_Spotlight,
                  we.k_MarketingMessage,
                  we.k_DiscountEvent,
                ]),
                e.set("saleevent", [we.k_SalePage]),
                e.set("themesale", [
                  we.k_TakeOver,
                  we.k_TakeUnder,
                  we.k_AdvertisingApp,
                  we.k_Spotlight,
                  we.k_MarketingMessage,
                  we.k_SalePage,
                  we.k_DiscountEvent,
                  we.k_OptIn,
                  we.k_SlackChannel,
                  we.k_AssetKit,
                ]),
                e.set("nextfest", [
                  we.k_TakeOver,
                  we.k_TakeUnder,
                  we.k_AdvertisingApp,
                  we.k_Spotlight,
                  we.k_MarketingMessage,
                  we.k_SalePage,
                  we.k_OptIn,
                  we.k_SlackChannel,
                  we.k_AssetKit,
                ]),
                e.set("seasonalsale", [we.k_AssetKit]),
                e.set("informational", []),
                e.set("dailydeal", []),
                e.set("vacation", []),
                e.set("important", []),
                e.set("preload", []),
                e.set("assetrequest", []),
                e
              );
            });
            return e;
          })(),
          [n, i, r, l, s, o, c, m, p, _, h, g, S, v, D] = (0, d.SZ)(() => [
            t.GetType(),
            t.BRequiresSalePage(),
            t.GetSaleClanAccountID(),
            t.GetSpotlightIDs(0),
            t.GetMarketingMessageID(0),
            t.GetTakeoverID(0),
            t.GetTakeunderID(0),
            t.GetAdvertisingAppID(),
            t.GetOptInID(),
            t.GetSlackChannel(),
            t.GetDiscountEventID(),
            t.GetFeaturingIntention(),
            t.GetAssetKitURL(),
            t.GetSteamChinaTakeoverID(0),
            t.GetContentHubTakeoverCount(),
          ]),
          f = a.get(n),
          y = [];
        return (
          f.includes(we.k_TakeOver) &&
            !o &&
            y.push(
              "Promotion requires a Takeover which hasn't been linked yet.",
            ),
          f.includes(we.k_TakeUnder) &&
            !c &&
            y.push(
              "Promotion requires a Takeunder which hasn't been linked yet.",
            ),
          f.includes(we.k_Spotlight) &&
            !l &&
            y.push(
              "Promotion requires a Spotlight which hasn't been linked yet.",
            ),
          f.includes(we.k_MarketingMessage) &&
            !s &&
            y.push(
              "Promotion requires a Marketing Message which hasn't been linked yet.",
            ),
          f.includes(we.k_DiscountEvent) &&
            !h &&
            y.push(
              "Promotion requires a Discount Event which hasn't been linked yet.",
            ),
          f.includes(we.k_OptIn) &&
            !p &&
            y.push(
              "Promotion requires an OptIn Admin which hasn't been linked yet.",
            ),
          f.includes(we.k_SlackChannel) &&
            !_ &&
            y.push(
              "Promotion requires a Slack Channel for coordination, which hasn't been linked yet.",
            ),
          f.includes(we.k_AdvertisingApp) &&
            !m &&
            y.push(
              "Promotion requires an Advertising App or Config App which hasn't been linked yet.",
            ),
          (!i && !f.includes(we.k_SalePage)) ||
            r ||
            y.push(
              "Promotion requires a Sale page which hasn't been linked yet.",
            ),
          f.includes(we.k_AssetKit) &&
            !S &&
            y.push(
              "Promotion requires an Asset Kit which hasn't been linked yet.",
            ),
          "takeover" != g ||
            o ||
            y.push(
              "Promotion's highest featuring requires a Takeover which isn't linked.",
            ),
          "takeunder" != g ||
            c ||
            y.push(
              "Promotion's highest featuring requires a Takeunder which isn't linked.",
            ),
          "hub_takeover" == g &&
            0 == D &&
            y.push(
              "Promotion's highest featuring requires a Content Hub Takeover which isn't linked.",
            ),
          "steamchina_takeover" != g ||
            v ||
            y.push(
              "Promotion requires a Steam China Takeover which isn't linked.",
            ),
          y.length > 0 &&
            u.createElement(
              "div",
              { className: Ne.WarningsContainer },
              u.createElement(E.__, null, "Setup warnings:"),
              u.createElement(
                "div",
                null,
                y.map((e) =>
                  u.createElement(
                    "div",
                    {
                      key: e,
                      className: (0, k.Z)(
                        Ne.PreviewLinkCtn,
                        Ne.Incomplete,
                        Re.WarningStylesWithIcon,
                        Ne.WarningItem,
                      ),
                    },
                    e,
                  ),
                ),
              ),
            )
        );
      }
      !(function (e) {
        (e.k_TakeOver = "takeover"),
          (e.k_TakeUnder = "takeunder"),
          (e.k_AdvertisingApp = "adapp"),
          (e.k_Spotlight = "spotlight"),
          (e.k_MarketingMessage = "marketingmessage"),
          (e.k_SalePage = "salepage"),
          (e.k_DiscountEvent = "discountevent"),
          (e.k_OptIn = "optin"),
          (e.k_SlackChannel = "slack"),
          (e.k_AssetKit = "assetkit");
      })(we || (we = {}));
      var xe = a(83179),
        Le = a(16649),
        Be = a(65255),
        Me = a(51723),
        Oe = a(82624);
      function Fe(e) {
        const { oEditablePlan: t } = e;
        return u.createElement(
          "div",
          { className: R.LinkCtn },
          u.createElement(N.j_, {
            name: "Advertising AppID",
            placeHolder: "/app/landing/<grab this ID>",
            id: t.GetAdvertisingAppID() ? "" + t.GetAdvertisingAppID() : null,
            fnSetID: t.SetAdvertisingAppIDFromString,
            fnGetURL: i.tA.GetAdvertingAppLandingURL,
          }),
          u.createElement(
            "div",
            { className: R.ButtonRow },
            u.createElement(
              E.zx,
              {
                onClick: (e) => {
                  (0, f.AM)(
                    u.createElement(Ue, { oEditablePlan: t }),
                    (0, A.RA)(e),
                  );
                },
              },
              "Create new",
            ),
          ),
        );
      }
      function Ue(e) {
        const { oEditablePlan: t, closeModal: a } = e,
          [n, i] = (0, u.useState)(t.GetName() + " Advertising App"),
          [r, l] = (0, u.useState)(t.BHasAdvertisingAppID()),
          [s, o] = (0, u.useState)(() => t.GetPartnerID() || xe.w$),
          [c, m] = (0, d.SZ)(() => [
            t.GetFeaturedItemID(),
            t.GetFeaturedItemType(),
          ]),
          p = u.useMemo(() => (0, j.t9)(c, m), [c, m]),
          _ = (0, xe.zg)(n, s),
          h = (0, G.tx)();
        return h.bLoading
          ? u.createElement(G.NT, {
              state: h,
              strDialogTitle: "Creating Advertising App",
              closeModal: a,
            })
          : r
            ? u.createElement(T.uH, {
                strTitle: "Create New Advertising App?",
                strDescription: `You already have appid with ID ${t.GetAdvertisingAppID()} associated with this promotion plan.  Are you sure you want to create a new one?`,
                onCancel: a,
                onOK: () => l(!1),
                strOKButtonText: "Create New Advertising App Anyways",
              })
            : u.createElement(
                T.uH,
                {
                  strTitle: "Create New Advertising App?",
                  strDescription:
                    "Creates and links the advertising app to this promotion. We always create the advertising app on the special 504 publisher ID.",
                  onCancel: a,
                  className: R.CreationDialogCtn,
                  bOKDisabled: 0 == n.trim().length,
                  bAllowFullSize: !0,
                  onOK: async () => {
                    h.fnSetLoading(!0),
                      _.mutateAsync()
                        .then((e) => {
                          e
                            ? (t.SetAdvertisingAppID(e),
                              t.BHasFeaturedStoreItem() ||
                                t.SetFeaturedStoreItem(e, 0),
                              h.fnSetStrSuccess(
                                "Created Advertising App: " + e,
                              ))
                            : h.fnSetStrError(
                                "Failed to create app, see console for details",
                              );
                        })
                        .catch((e) => {
                          const t =
                            "ad app Creation Failed: " +
                            (0, Le.l)(e).strErrorMsg +
                            ". ";
                          console.log(t, e), h.fnSetStrError(t);
                        });
                  },
                },
                u.createElement(E.II, {
                  value: n,
                  onChange: (e) => i(e.currentTarget.value),
                  label: "Advertising App Name",
                  tooltip:
                    "If we are using the advertising app for granting community or loyalty point items, beware the advertising name will appear on the point shop, so choose the name more carefully",
                }),
                u.createElement(Oe.x, {
                  nPartnerID: s,
                  fnUpdatePartnerID: o,
                  storeItemKey: p,
                  autoSelectPartnerFromStoreItem: !0,
                }),
                u.createElement(Me.v, {
                  accountID: Be.L7.accountid,
                  partnerID: s,
                  fnSetPartnerID: o,
                  strLabel: "Choose Partner Who Owns The Advertising App",
                  strTooltip:
                    "For our internal events, it should remain partner id 504; for partner events we should use the correct partner id so that the discount event will cover the adverting app and we will pull the correct date information.",
                }),
              );
      }
      function He(e) {
        (0, o.Gn)(), (0, s.Dv)();
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            {
              className: (0, k.Z)(
                g().DefaultSectionCtn,
                g().ValveOnlyBackground,
              ),
            },
            u.createElement(
              "h2",
              { className: g().ValveOnlyTitle },
              "Valve Only",
            ),
            u.createElement(
              "div",
              null,
              "TODO: Will only appear if approvals are required.",
            ),
          ),
        );
      }
      var Ve = a(87814),
        Xe = a(59728),
        je = a(64936),
        qe = a(72200),
        We = a(37190);
      function ze(e) {
        const t = (0, o.Gn)(),
          a = (0, je.zD)(),
          [n, i] = (0, d.SZ)(() => [
            t.BHasAssociatedSaleEvent(),
            t.GetEndDate(),
          ]);
        return n
          ? a < i
            ? u.createElement(
                "div",
                null,
                "Will show results with the event is over... come back later.",
              )
            : u.createElement(
                "div",
                { className: (0, k.Z)(g().DefaultSectionCtn) },
                u.createElement(
                  "h2",
                  { className: g().ValveOnlyTitle },
                  "Sale Page Results",
                ),
                u.createElement("hr", null),
                u.createElement(Ze, { oEditablePlan: t }),
              )
          : u.createElement(
              "div",
              null,
              "Note: We only support results for promo plans with associated Sale Pages",
            );
      }
      function Ze(e) {
        const { oEditablePlan: t } = e,
          [a, n] = (0, d.SZ)(() => [
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
          ]),
          i = (0, We.e)(a, n),
          r = (0, u.useMemo)(
            () => ({
              clanAccountID: a,
              clanEventGID: n,
              strEventName: t.GetName(),
              rtStartTime: t.GetStartDate(),
              rtEndTime: t.GetEndDate(),
              bVisible: !0,
            }),
            [a, n, t],
          );
        return u.createElement(
          S.SV,
          null,
          Boolean(i)
            ? u.createElement(qe._o, { saleDesc: r })
            : u.createElement(I.V, { string: "Loading" }),
        );
      }
      function Ke(e) {
        const { planid: t, children: a, bCanBeMissing: n, bForceReload: i } = e,
          [r, l] = u.useState(!1),
          m = i ? !r : i,
          { oPlanContainer: d, bError: _ } = (0, c.A0)(t, m),
          h = (0, u.useMemo)(
            () => (d ? JSON.parse(d.admin_jsondata) : null),
            [d],
          ),
          g = (0, c.xq)(t),
          [E, S] = u.useState(() => !m && (0, o.oN)()?.GetID() == t);
        return (
          u.useLayoutEffect(() => {
            d &&
              h &&
              g &&
              ((0, o.oN)()?.GetID() != h.id || m) &&
              ((0, o.xn)(d.partner_id, h), (0, s.z9)(h.id, g), S(!0), l(!0));
          }, [h, d, g, t, m]),
          _ && !n
            ? u.createElement(
                "div",
                null,
                u.createElement("div", null, "Promotion Plan does not exist."),
                u.createElement(
                  p.rU,
                  { to: "/planning/dashboard/" },
                  "Return to Promotion Planning Dashboard.",
                ),
              )
            : (n && !t) || E || _
              ? u.createElement(u.Fragment, null, a, " ")
              : u.createElement(I.V, {
                  size: "medium",
                  position: "center",
                  string: (0, w.Xx)("#Loading"),
                })
        );
      }
      function Qe(e) {
        const { planid: t } = e,
          a = (0, s.Dv)(),
          n = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          i = [
            {
              name: "Editor Tab",
              key: "editor",
              contents: u.createElement(S.SV, null, u.createElement(Je, null)),
              onClick: n,
            },
            {
              name: "Asset Request",
              key: "assets",
              contents: u.createElement(
                S.SV,
                null,
                u.createElement(P.F, { bShowLinkToPromotionPlan: !1 }),
              ),
              onClick: n,
            },
            {
              name: "Asset Uploads",
              key: "upload",
              contents: u.createElement(
                S.SV,
                null,
                u.createElement(Ve.QG, null),
              ),
              onClick: n,
            },
          ];
        return (
          a?.BHasAnyArtTypeReviewRequested() &&
            i.push({
              name: "Asset Approvals",
              key: "approvals",
              contents: u.createElement(S.SV, null, u.createElement(He, null)),
              onClick: n,
            }),
          i.push({
            name: "Asset Localization",
            key: "localization",
            contents: u.createElement(S.SV, null, u.createElement(Ve.bQ, null)),
            onClick: n,
          }),
          i.push({
            name: "Results",
            key: "results",
            contents: u.createElement(S.SV, null, u.createElement(ze, null)),
            onClick: n,
          }),
          i.push({
            name: "Debug Tab",
            key: "debug",
            contents: u.createElement(S.SV, null, u.createElement(le, null)),
            onClick: n,
          }),
          u.createElement(
            Ke,
            { planid: t, bForceReload: !0 },
            u.createElement(
              "div",
              { className: g().AdminPageCtn },
              u.createElement(ue, null),
              u.createElement(Ye, null),
              u.createElement(b.n, { tabs: i }),
              u.createElement("div", { className: D().ClearThings }),
            ),
          )
        );
      }
      function Ye(e) {
        const t = (0, o.Gn)(),
          a = new Date(),
          n = (0, d.SZ)(() => new Date(1e3 * t.GetStartDate())),
          i =
            12 * n.getFullYear() +
            n.getMonth() -
            (12 * a.getFullYear() + a.getMonth());
        return u.createElement(
          p.rU,
          {
            to:
              `/planning/dashboard/?month=${i}` +
              (window.sessionStorage.getItem("promotionPageIndex") || ""),
            className: g().DashLink,
          },
          u.createElement(y.Ehc, { angle: 270 }),
          u.createElement("div", null, "Return to Dashboard"),
        );
      }
      function Je(e) {
        const t = (0, o.Gn)();
        return u.createElement(
          "div",
          null,
          u.createElement(
            "div",
            { className: R.EditCtn },
            u.createElement(
              "div",
              { className: g().PageTitle },
              "Promotion Plan - Edit Details",
            ),
            u.createElement("hr", null),
            u.createElement(
              "div",
              { className: g().ColumnCtn },
              u.createElement(
                "div",
                { className: g().LeftCol },
                u.createElement(
                  S.SV,
                  null,
                  u.createElement(
                    "div",
                    { className: g().SectionCtn },
                    u.createElement(E.II, {
                      type: "text",
                      label: "Promotion Name:",
                      tooltip:
                        "These names are visible to partners if they can see this plan or asset request.",
                      className: R.PromoName,
                      value: t.GetName(),
                      onChange: (e) => t.SetName(e?.currentTarget?.value || ""),
                    }),
                    u.createElement(
                      "div",
                      {
                        className: (0, k.Z)(
                          D().FlexRowContainer,
                          R.EventDetailsCtn,
                        ),
                      },
                      u.createElement(
                        "div",
                        { className: R.TypeCtn },
                        u.createElement(E.__, null, "Promotion Type:"),
                        u.createElement(z.oJ, {
                          type: t.GetType(),
                          setType: t.SetType,
                        }),
                        u.createElement(
                          E.__,
                          null,
                          "Highest Intended Featuring:",
                          u.createElement(
                            Xe.HP,
                            {
                              toolTipContent:
                                "Highest level featuring we are intended for this plan",
                            },
                            "(?)",
                          ),
                        ),
                        u.createElement(z.IH, {
                          intention: t.GetFeaturingIntention(),
                          setIntention: t.SetFeaturingIntention,
                        }),
                        u.createElement(z.tv, {
                          type: t.GetType(),
                          rtStartTime: t.GetStartDate(),
                          rtEndTime: t.GetEndDate(),
                          setStartTime: t.SetStartDate,
                          setEndTime: t.SetEndDate,
                        }),
                      ),
                      u.createElement(
                        "div",
                        { className: R.AdminNotesCtn },
                        u.createElement(E.__, null, "Admin Notes:"),
                        u.createElement("textarea", {
                          className: (0, k.Z)(
                            "DialogTextInputBase",
                            R.AdminNotesText,
                          ),
                          value: t.GetAdminNotes() || "",
                          onChange: (e) =>
                            t.SetAdminNote(e?.currentTarget?.value || ""),
                        }),
                        u.createElement(E.__, null, "Promotion Planner Notes:"),
                        u.createElement("textarea", {
                          className: (0, k.Z)(
                            "DialogTextInputBase",
                            R.PromotionPlannerText,
                          ),
                          value: t.GetPromotionPlannerNote() || "",
                          onChange: (e) =>
                            t.SetPromotionPlannerNote(
                              e?.currentTarget?.value || "",
                            ),
                        }),
                      ),
                    ),
                  ),
                ),
                u.createElement(
                  S.SV,
                  null,
                  u.createElement(
                    "div",
                    { className: g().SectionCtn },
                    u.createElement($e, { oEditablePlan: t }),
                    u.createElement(Ge, { oEditablePlan: t }),
                  ),
                ),
                Boolean(t.BHasDiscountEventID()) &&
                  u.createElement(
                    "div",
                    { className: g().SectionCtn },
                    u.createElement(H.bG, {
                      strDiscountEventID: t.GetDiscountEventID(),
                      nBundleID:
                        2 == t.GetFeaturedItemType()
                          ? t.GetFeaturedItemID()
                          : void 0,
                    }),
                  ),
                u.createElement(
                  S.SV,
                  null,
                  u.createElement(
                    "div",
                    { className: g().SectionCtn },
                    u.createElement(et, { oEditablePlan: t }),
                  ),
                ),
                u.createElement(
                  S.SV,
                  null,
                  u.createElement(
                    "div",
                    { className: (0, k.Z)(g().SectionCtn, g().ActionBar) },
                    u.createElement(Z.u, { oEditablePlan: t }),
                  ),
                ),
              ),
              u.createElement(
                S.SV,
                null,
                u.createElement(pe.S7, { oEditablePlan: t }),
              ),
            ),
            u.createElement(
              "span",
              null,
              "Note: Deleting a promotion record does not delete the associated featuring items (discount event, takeover, spotlight, sale page etc...)",
            ),
          ),
        );
      }
      function $e(e) {
        const { oEditablePlan: t } = e,
          [a, o, c, p, h, g, v, D, y] = (0, d.SZ)(() => [
            t.GetSpotlightIDs(0),
            t.GetDiscountEventID(),
            t.GetMarketingMessageID(0),
            t.GetMarketingMessageID(1),
            t.GetAdvertisingAppID(),
            t.GetFeaturedItemID(),
            t.GetFeaturedItemType(),
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
          ]),
          b = (0, m.dh)(a),
          I = (0, r.vc)(o),
          C = (0, l.Q2)(c),
          k = (0, l.Q2)(p),
          [w] = (0, _.vs)(h, {}),
          P = (0, s.Dv)(),
          [T, G, x] = (0, d.SZ)(() => [
            t.GetStoreItemKey(),
            t.GetPartnerID(),
            t.GetOriginalPartnerID(),
          ]);
        return u.createElement(
          "div",
          { className: R.PreviewLinksCtn },
          u.createElement(
            "div",
            { className: R.FeatureSelectCtn },
            u.createElement(
              "div",
              { className: R.FeatureSelectBtn },
              u.createElement(
                E.zx,
                {
                  onClick: (e) =>
                    (0, f.AM)(
                      u.createElement(W, {
                        storeItemID: g,
                        storeItemType: v,
                        fnSetStoreItemFeature: t.SetFeaturedStoreItem,
                      }),
                      (0, A.RA)(e),
                    ),
                },
                t.BHasFeaturedStoreItem()
                  ? "Change Featured Store Item"
                  : "Feature Store Item",
              ),
            ),
            Boolean(t.BHasFeaturedStoreItem()) &&
              u.createElement(
                u.Fragment,
                null,
                u.createElement(E.__, null, "Associated app/package/bundle:"),
                Boolean(0 == v) &&
                  u.createElement(
                    "a",
                    {
                      href: `${Be.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?appidlist=${g}`,
                    },
                    "Show Promotion History",
                  ),
                u.createElement(B.Ce, { id: g, itemType: v }),
              ),
          ),
          !i.kj.has(t.GetType()) &&
            u.createElement(Oe.x, {
              storeItemKey: T,
              showPartnerUnsetWarning: !1,
              showPartnerSuggestions: !1,
              showPartnerInitialSetWarning: !0,
              nPartnerID: G,
              nOriginalPartnerID: x,
              fnUpdatePartnerID: t.SetPartnerID,
              autoSelectPartnerFromStoreItem: !1,
            }),
          u.createElement(E.__, null, "Associated Editor Links:"),
          u.createElement(
            "p",
            null,
            "Tick box to indicate completion of each item. Click link to go to associated editor.",
          ),
          u.createElement(N.id, {
            name: I ? I.name : "",
            type: "Discount Event",
            id: t.GetDiscountEventID(),
            fnGetURL: i.tA.GetDiscountEditURL,
            fnGetReviewed: t.GetDiscountEventReviewed,
            fnSetReviewed: t.SetDiscountEventReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(
                S.SV,
                null,
                u.createElement(Ae, {
                  strDiscountEventID: e,
                  oEditablePlan: t,
                }),
              ),
          }),
          u.createElement(N.Zk, {
            name: C ? C.title : "",
            type: "Marketing Message",
            id: t.GetMarketingMessageID(0),
            index: 0,
            fnGetURL: i.tA.GetMarketingMesssageEditURL,
            fnGetReviewed: t.GetMarketingMessageReviewed,
            fnSetReviewed: t.SetMarketingMessageReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(S.SV, null, u.createElement(ye, { gid: e })),
          }),
          u.createElement(N.Zk, {
            name: k ? k.title : "",
            type: "Marketing Message 2",
            id: t.GetMarketingMessageID(1),
            index: 1,
            fnGetURL: i.tA.GetMarketingMesssageEditURL,
            fnGetReviewed: t.GetMarketingMessageReviewed,
            fnSetReviewed: t.SetMarketingMessageReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(S.SV, null, u.createElement(ye, { gid: e })),
          }),
          u.createElement(N.Zk, {
            name: b ? b.name : "",
            type: "Spotlight",
            id: t.GetSpotlightIDs(0),
            index: 0,
            fnGetURL: i.tA.GetSpotlightEditURL,
            fnGetReviewed: t.GetSpotlightReviewed,
            fnSetReviewed: t.SetSpotlightReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(S.SV, null, u.createElement(be, { id: e })),
          }),
          u.createElement(N.id, {
            name: "",
            type: "External Partner Assets",
            id: P.GetArtInputLink(),
            fnGetURL: (e) => e,
            fnGetReviewed: t.GetPartnerArtworkSubmissionReviewed,
            fnSetReviewed: t.SetPartnerArtworkSubmissionReviewed,
          }),
          u.createElement(N.id, {
            name: "",
            type: "Sale Page",
            id: t.GetSaleEditEventURL(),
            fnGetURL: (e) => e,
            fnGetReviewed: t.GetSalePageReviewed,
            fnSetReviewed: t.SetSaleEventReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(
                S.SV,
                null,
                u.createElement(ke, { gidClanEvent: y, clanAccountID: D }),
              ),
          }),
          u.createElement(Pe.cE, { oEditablePlan: t }),
          u.createElement(N.id, {
            name: w ? w.GetName() : "",
            type: "Advertising AppID",
            id: t.GetAdvertisingAppID() ? "" + t.GetAdvertisingAppID() : null,
            fnGetURL: i.tA.GetAdvertingAppLandingURL,
            fnGetReviewed: t.GetAdvertisingReviewed,
            fnSetReviewed: t.SetAdvertisingAppIDReviewed,
          }),
          u.createElement(N.Zk, {
            name: "",
            type: "Frontpage Takeover",
            id: t.GetTakeoverID(0),
            index: 0,
            fnGetURL: i.tA.GetTakeoverEditURL,
            fnGetReviewed: t.GetTakeoverReviewed,
            fnSetReviewed: t.SetTakeoverReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(
                S.SV,
                null,
                u.createElement(Ie, {
                  id: e,
                  type: n.R6.k_ConfigPage_Takeover,
                }),
              ),
          }),
          u.createElement(N.Zk, {
            name: (0, n.II)(t.GetContentHubTakeoverType(0)),
            type: "Content Hub Takeovers",
            id: t.GetContentHubTakeoverID(0),
            index: 0,
            fnGetURL: (e) =>
              i.tA.GetContentHubTakeoverEditURL(
                t.GetContentHubTakeoverType(0),
                e,
              ),
            fnGetReviewed: t.GetContentHubTakeoverReviewed,
            fnSetReviewed: t.SetContentHubTakeoverReviewed,
          }),
          u.createElement(N.Zk, {
            name: "",
            type: "Takeunder",
            index: 0,
            id: t.GetTakeunderID(0),
            fnGetURL: i.tA.GetTakeunderEditURL,
            fnGetReviewed: t.GetTakeunderReviewed,
            fnSetReviewed: t.SetTakeunderReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(S.SV, null, u.createElement(Ce, { id: e })),
          }),
          u.createElement(N.id, {
            name: "",
            type: "Opt-In Admin",
            id: t.GetOptInID(),
            fnGetURL: i.tA.GetOptInEditURL,
            fnGetReviewed: t.GetOptInReviewed,
            fnSetReviewed: t.SetOptInReviewed,
          }),
          u.createElement(N.id, {
            name: "",
            type: "Giveaway Controls",
            id: t.GetGiveawayID(),
            fnGetURL: i.tA.GetGiveawayControlsURL,
            fnGetReviewed: t.GetGiveawayReviewed,
            fnSetReviewed: t.SetGiveawayReviewed,
          }),
          u.createElement(N.id, {
            name: "",
            type: "Internal Wiki / Confluence Page",
            id: t.GetInternalWikiURL(),
            fnGetURL: (e) => e,
          }),
          u.createElement(N.id, {
            name: "",
            type: "Asset Kit",
            id: t.GetAssetKitURL(),
            fnGetURL: (e) => e,
          }),
          u.createElement(N.id, {
            name: t.GetSlackChannel(),
            type: "Slack Channel",
            id: t.GetSlackChannelAsURL(),
            fnGetURL: (e) => e,
          }),
          u.createElement(N.Zk, {
            name: "",
            type: "Steam China Frontpage Takeover",
            index: 0,
            id: t.GetSteamChinaTakeoverID(0),
            fnGetURL: i.tA.GetSteamChinaTakeoverEditURL,
            fnGetReviewed: t.GetSteamChinaTakeoverReviewed,
            fnSetReviewed: t.SetSteamChinaTakeoverReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(
                S.SV,
                null,
                u.createElement(Ie, {
                  id: e,
                  type: n.R6.k_ConfigPage_TakeoverSteamChina,
                }),
              ),
          }),
        );
      }
      function et(e) {
        const { oEditablePlan: t } = e;
        t.GetType();
        return u.createElement(
          C.ug,
          {
            title: "Link Editor",
            tooltip:
              "Allows you to change the associated featuring with this promotion",
            bStartMinimized: !0,
          },
          u.createElement(
            "div",
            { className: R.LinksCtn },
            u.createElement(Fe, { oEditablePlan: t }),
            u.createElement(V.V, { oEditablePlan: t }),
            u.createElement(X.q, { index: 0, oEditablePlan: t }),
            u.createElement(X.q, { index: 1, oEditablePlan: t }),
            u.createElement(Te.M, { index: 0, oEditablePlan: t }),
            u.createElement(Pe.Eu, { oEditablePlan: t }),
            u.createElement(M, {
              index: 0,
              oEditablePlan: t,
              clusterType: n.R6.k_ConfigPage_Takeover,
            }),
            u.createElement(O, { index: 0, oEditablePlan: t }),
            u.createElement(M, {
              index: 0,
              oEditablePlan: t,
              clusterType: n.R6.k_ConfigPage_Takeunder,
            }),
            u.createElement(
              "div",
              { className: R.LinkCtn },
              u.createElement(N.j_, {
                name: "Opt-In Admin ID",
                placeHolder: "/optin/admin/edit/<grab this ID>",
                id: t.GetOptInID(),
                fnSetID: t.SetOptInID,
                fnGetURL: i.tA.GetOptInEditURL,
              }),
            ),
            u.createElement(
              "div",
              { className: R.LinkCtn },
              u.createElement(N.j_, {
                name: "Giveaway ID",
                placeHolder:
                  "/giveaways/control/<grab this ID> (only after it has been published)",
                id: t.GetGiveawayID(),
                fnSetID: t.SetGiveawayID,
                fnGetURL: i.tA.GetGiveawayControlsURL,
              }),
            ),
            u.createElement(
              "div",
              { className: R.LinkCtn },
              u.createElement(N.j_, {
                name: "Internal Wiki or Confluence Page Link",
                placeHolder: "https://confluence.valve.org/display/etc...",
                id: t.GetInternalWikiURL(),
                fnSetID: t.SetInternalWikiURL,
                fnGetURL: (e) => e,
              }),
            ),
            u.createElement(
              "div",
              { className: R.LinkCtn },
              u.createElement(N.j_, {
                name: "Asset Kit (Usually a Dropbox link)",
                placeHolder: "https://www.dropbox.com/s/h9gjz...",
                id: t.GetAssetKitURL(),
                fnSetID: t.SetAssetKitURL,
                fnGetURL: (e) => e,
              }),
            ),
            u.createElement(
              "div",
              { className: R.LinkCtn },
              u.createElement(N.j_, {
                name: "Slack Channel Link",
                placeHolder: "Example #steam-sale-festival-fest",
                id: t.GetSlackChannel(),
                fnSetID: t.SetSlackChannel,
                tooltip: "Include the '#' is optional",
                fnGetURL: t.GetSlackChannelAsURL,
              }),
            ),
            u.createElement(M, {
              index: 0,
              oEditablePlan: t,
              clusterType: n.R6.k_ConfigPage_TakeoverSteamChina,
            }),
          ),
        );
      }
    },
    10816: (e, t, a) => {
      "use strict";
      a.d(t, { l4: () => _e, S7: () => he, $t: () => Se });
      var n = a(76330),
        i = a(30750),
        r = a(47427),
        l = a(64936),
        s = a(51915),
        o = a(77681),
        c = a.n(o),
        m = a(1485),
        d = a(10162),
        u = a(71741),
        p = a.n(u),
        _ = a(38201),
        h = a(58538),
        g = a(77178),
        E = a(90069),
        S = a(59728),
        v = a(13129),
        D = a(50423),
        f = a(31846),
        y = a(12251),
        b = a(37563),
        I = a(86984),
        C = a(91398),
        k = a(22896),
        A = a(81033),
        w = a(8062),
        P = a(46882);
      function T(e) {
        const {
          nNumDiscountDays: t,
          strNumDaysString: a,
          nTotalDiscountSalesUSD: n,
          nPercentLift: i,
          strPercentLift: l,
          bPercentLiftIsDollar: s,
        } = e;
        return r.createElement(
          "div",
          { className: c().StatReportCtn },
          r.createElement(
            "div",
            { className: c().Stat },
            r.createElement("div", { className: c().BigStat }, t),
            r.createElement(
              "div",
              { className: c().SmallText },
              a || "Discount Days",
            ),
          ),
          r.createElement(
            "div",
            { className: c().Stat },
            r.createElement(
              "div",
              { className: c().BigStat },
              "$",
              n.toLocaleString(void 0, { maximumFractionDigits: 0 }),
            ),
            r.createElement("div", { className: c().SmallText }, "Total Sales"),
          ),
          s
            ? r.createElement(
                r.Fragment,
                null,
                void 0 !== i &&
                  r.createElement(
                    "div",
                    { className: c().Stat },
                    r.createElement(
                      "div",
                      { className: c().BigStat },
                      "$",
                      i.toLocaleString(void 0, { maximumFractionDigits: 0 }),
                    ),
                    r.createElement(
                      "div",
                      { className: c().SmallText },
                      l || "Daily Avg.",
                    ),
                  ),
              )
            : r.createElement(
                r.Fragment,
                null,
                void 0 !== i &&
                  r.createElement(
                    "div",
                    { className: c().Stat },
                    r.createElement(
                      "div",
                      { className: c().BigStat },
                      (100 * i).toLocaleString(void 0, {
                        maximumFractionDigits: 0,
                      }),
                      "%",
                    ),
                    r.createElement(
                      "div",
                      { className: c().SmallText },
                      l || "Change in daily avg.",
                    ),
                  ),
              ),
        );
      }
      function N(e) {
        const { strDiscountEventID: t } = e,
          a = (0, A.K$)(t);
        return a && a.rgAppList && 0 != a.rgAppList.length
          ? r.createElement(G, {
              oDiscountEvent: a.oDiscountEvent,
              rgAppList: a.rgAppList,
            })
          : null;
      }
      const R = 365;
      function G(e) {
        const { rgAppList: t, oDiscountEvent: a } = e,
          n = (0, w.Aq)(R, t),
          i = (0, w.dI)(a.start_date, a.end_date, t);
        if (!n || !i)
          return r.createElement(P.V, {
            string: "Loading",
            size: "medium",
            position: "center",
          });
        const l = Math.max(1, Math.ceil((a.end_date - a.start_date) / 86400)),
          s = n.GetTotalSummary().gross_sales_usd / R / 100,
          o = i.GetTotalSummary().gross_sales_usd / l / 100,
          m = i.GetTotalSummary().gross_sales_usd / 100,
          d = s > 0 ? o / s : 0;
        return r.createElement(
          "div",
          null,
          r.createElement("h3", null, "Discount Summary(with overcounting)"),
          r.createElement(T, {
            nNumDiscountDays: l,
            nTotalDiscountSalesUSD: m,
            nPercentLift: d,
          }),
          r.createElement(
            "div",
            { className: c().IncreaseRateInfo },
            "Daily average revenue during sale period ($",
            o.toLocaleString(void 0, { maximumFractionDigits: 0 }),
            ") vs. average daily revenue over the previous year ($",
            s.toLocaleString(void 0, { maximumFractionDigits: 0 }),
            ").",
          ),
        );
      }
      var x = a(16783),
        L = a(83190),
        B = a(63734),
        M = a(60688);
      function O(e) {
        const { oEditablePlan: t } = e;
        return t.BHasArtworkOwner()
          ? t.BIsArtworkCompleted()
            ? r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  "div",
                  { className: M.OwnerColCtn },
                  r.createElement(m.__, null, "Designer"),
                  r.createElement(
                    "div",
                    { className: M.OwnerCtn },
                    r.createElement(
                      "div",
                      null,
                      r.createElement(_.N, { accountID: t.GetArtworkOwner() }),
                    ),
                  ),
                  r.createElement("br", null),
                  r.createElement(m.__, null, "Completed:"),
                  r.createElement(_e, { rtime: t.GetArtworkCompleteTime() }),
                ),
              )
            : r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  "div",
                  { className: M.OwnerColCtn },
                  r.createElement(
                    m.__,
                    null,
                    "Designer ",
                    r.createElement(
                      S.HP,
                      {
                        toolTipContent:
                          "This person will be downloading assets, creating necessary banners, and routing assets for localization.",
                      },
                      "(?)",
                    ),
                  ),
                  r.createElement(
                    "div",
                    { className: M.OwnerCtn },
                    r.createElement(
                      "div",
                      null,
                      r.createElement(_.N, { accountID: t.GetArtworkOwner() }),
                    ),
                  ),
                  r.createElement(
                    m.Yz,
                    {
                      onClick: (e) =>
                        (0, E.AM)(
                          r.createElement(F, {
                            oEditablePlan: t,
                            bTakeOwnership: !1,
                          }),
                          (0, D.RA)(e),
                        ),
                    },
                    "Clear Ownership",
                  ),
                  r.createElement(
                    m.Yz,
                    {
                      onClick: (e) =>
                        (0, E.AM)(
                          r.createElement(H, { oEditablePlan: t }),
                          (0, D.RA)(e),
                        ),
                    },
                    "Mark As Completed",
                  ),
                ),
              )
          : r.createElement(
              r.Fragment,
              null,
              r.createElement(
                "div",
                { className: M.OwnerColCtn },
                r.createElement(
                  m.__,
                  null,
                  "Designer ",
                  r.createElement(
                    S.HP,
                    {
                      toolTipContent:
                        "This person will be downloading assets, creating necessary banners, and routing assets for localization.",
                    },
                    "(?)",
                  ),
                ),
                r.createElement(
                  m.Yz,
                  {
                    onClick: (e) =>
                      (0, E.AM)(
                        r.createElement(F, {
                          oEditablePlan: t,
                          bTakeOwnership: !0,
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Claim",
                ),
              ),
            );
      }
      function F(e) {
        const { oEditablePlan: t, closeModal: a, bTakeOwnership: n } = e;
        return r.createElement(L.P, {
          strTitle: n
            ? "Claim Ownership of Production Design?"
            : "Remove ownership of production design",
          strDescription: n
            ? "Do you want to cliam ownership of the artwork and localizations required for this plans promotion?"
            : "Remove the current owner of the production design on this event?",
          closeModal: a,
          onOK: () => {
            n
              ? t.SetArtworkOwnerAccountID(b.L7.accountid)
              : t.SetArtworkOwnerAccountID(null);
          },
          onCancel: a,
        });
      }
      function U(e) {
        const { oEditablePlan: t, closeModal: a, bTakeOwnership: n } = e;
        return r.createElement(L.P, {
          strTitle: n
            ? "Claim Operations Ownership?"
            : "Remove operator ownership",
          strDescription: n
            ? "Do you want to cliam ownership of the operations for this plans promotion? This means reviewing and verifying all of require items are provided before the promotion needs to go live."
            : "Remove the current owner of the operations owner this promotion plan?",
          closeModal: a,
          onOK: () => {
            n
              ? t.SetOperatorOwnerAccountID(b.L7.accountid)
              : t.SetOperatorOwnerAccountID(null);
          },
          onCancel: a,
        });
      }
      function H(e) {
        const { oEditablePlan: t, closeModal: a } = e;
        return r.createElement(
          L.P,
          {
            strTitle: "Complete the production Design",
            strDescription:
              "Please verify the production design aspect is completed. All of the localized artwork is uploading into each of the appropriate featuring for this plan.",
            closeModal: a,
            onOK: () =>
              t.SetArtworkCompleted(Math.floor(new Date().getTime() / 1e3)),
          },
          r.createElement("br", null),
          r.createElement(B.o6, { oEditablePlan: t }),
        );
      }
      var V,
        X = a(26475),
        j = a(87380),
        q = a(65255);
      function W(e) {
        const { oEditablePlan: t } = e;
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            { className: M.OwnerColCtn },
            r.createElement(
              m.__,
              null,
              "Operations ",
              r.createElement(
                S.HP,
                {
                  toolTipContent:
                    "This person is making sure the plan is coming together and everything is reviewed and ready to run.",
                },
                "(?)",
              ),
            ),
            Boolean(t.BHasOperatorOwner())
              ? r.createElement(
                  r.Fragment,
                  null,
                  r.createElement(
                    "div",
                    { className: M.OwnerCtn },
                    r.createElement(
                      "div",
                      null,
                      r.createElement(_.N, {
                        accountID: t.GetOperatorAccountID(),
                      }),
                    ),
                  ),
                  r.createElement(
                    m.Yz,
                    {
                      onClick: (e) =>
                        (0, E.AM)(
                          r.createElement(U, {
                            oEditablePlan: t,
                            bTakeOwnership: !1,
                          }),
                          (0, D.RA)(e),
                        ),
                    },
                    "Clear Ownership",
                  ),
                )
              : r.createElement(
                  m.Yz,
                  {
                    onClick: (e) =>
                      (0, E.AM)(
                        r.createElement(U, {
                          oEditablePlan: t,
                          bTakeOwnership: !0,
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Claim",
                ),
          ),
        );
      }
      function z(e) {
        const { oEditablePlan: t } = e,
          a = (0, j.eQ)(t.GetID()),
          [n, l] = (0, i.SZ)(() => [
            t.GetDeliveryReviewNotes(),
            t.GetAssociatedAssetURL(),
          ]);
        return (a && a.submitting_accountid && a.input_artwork_url) || l
          ? r.createElement(
              "div",
              null,
              r.createElement(Z, { oEditablePlan: t }),
              Boolean(n?.trim().length > 0) &&
                r.createElement(
                  "div",
                  null,
                  r.createElement(m.__, null, "Operation Notes on Assets"),
                  r.createElement("textarea", {
                    value: n,
                    disabled: !0,
                    className: M.AssetNotes,
                  }),
                ),
              r.createElement(m.II, {
                type: "text",
                label: "Partner Provided Assets",
                tooltip:
                  "Asset URL submitted by the partner; the same as the one found in the asset request tab",
                value: a.input_artwork_url || l,
                mustBeURL: !0,
                onChange: () => {},
                bShowCopyAction: !0,
              }),
            )
          : null;
      }
      function Z(e) {
        const { oEditablePlan: t } = e,
          [a, n] = (0, i.SZ)(() => [
            t.BIsDeliveryReviewed(),
            t.GetEndDate() < l.JW.GetTimeNowWithOverride(),
          ]);
        return n
          ? null
          : r.createElement(
              r.Fragment,
              null,
              Boolean(a)
                ? r.createElement(Y, { oEditablePlan: t })
                : r.createElement(Q, { oEditablePlan: t }),
            );
      }
      function K(e) {
        const { oEditablePlan: t } = e,
          a = (0, j.eQ)(t.GetID()),
          n = (0, r.useMemo)(
            () =>
              t.GetArtworkCompleteTime()
                ? V.k_LocalizationDone
                : t.GetArtworkLocalizationTaskID()
                  ? V.k_DesignComplete
                  : t.GetDeliveryReviewTime()
                    ? V.k_DeliveryReviewed
                    : a?.submitting_rtime || t.GetAssociatedAssetURL()
                      ? V.k_AssetSubmitted
                      : V.k_AwaitingPartner,
            [t, a],
          );
        return r.createElement(
          r.Fragment,
          null,
          r.createElement("h2", null, "Asset Process"),
          r.createElement(
            "div",
            { className: M.AssetTimelineCtn },
            r.createElement(
              "div",
              { className: (0, v.Z)(n == V.k_AssetSubmitted && M.ActiveState) },
              "Partner Submitted",
            ),
            r.createElement(
              "div",
              {
                className: (0, v.Z)(n == V.k_DeliveryReviewed && M.ActiveState),
              },
              "Delivery Approved",
            ),
            r.createElement(
              "div",
              { className: (0, v.Z)(n == V.k_DesignComplete && M.ActiveState) },
              "Design Complete",
            ),
            r.createElement(
              "div",
              {
                className: (0, v.Z)(n == V.k_LocalizationDone && M.ActiveState),
              },
              "Localization Complete",
            ),
          ),
        );
      }
      function Q(e) {
        const { oEditablePlan: t } = e;
        return r.createElement(
          "div",
          { className: (0, v.Z)(M.StatusCtn, M.Incomplete) },
          r.createElement(
            m.zx,
            {
              className: M.StatusBtn,
              onClick: (e) =>
                (0, E.AM)(
                  r.createElement(J, { oEditablePlan: t, bReviewVerify: !0 }),
                  (0, D.RA)(e),
                ),
            },
            "Review Asset Delivery",
          ),
        );
      }
      function Y(e) {
        const { oEditablePlan: t } = e,
          [a, n] = (0, i.SZ)(() => [
            t.GetDeliveryReviewTime(),
            t.GetDeliveryReviewAccount(),
          ]);
        return r.createElement(
          "div",
          { className: (0, v.Z)(M.StatusCtn, M.Complete) },
          r.createElement(
            "div",
            { className: M.ReviewedCtn },
            r.createElement(
              "div",
              { className: M.OwnerCtn },
              r.createElement(
                "div",
                null,
                r.createElement(_.N, { accountID: n }),
              ),
              r.createElement(
                m.zx,
                {
                  className: M.StatusBtn,
                  onClick: (e) =>
                    (0, E.AM)(
                      r.createElement(J, {
                        oEditablePlan: t,
                        bReviewVerify: !1,
                      }),
                      (0, D.RA)(e),
                    ),
                },
                "Clear Asset Status",
              ),
            ),
            r.createElement(
              "div",
              null,
              "Reviewed: ",
              (0, f.$1)(a),
              "@ ",
              (0, y.Sc)(a, { bForce24HourClock: !1 }),
            ),
          ),
        );
      }
      function J(e) {
        const { oEditablePlan: t, closeModal: a, bReviewVerify: n } = e,
          i = (0, j.eQ)(t.GetID()),
          [l, s] = (0, r.useState)(t.GetDeliveryReviewNotes());
        return r.createElement(
          L.P,
          {
            strTitle: n
              ? "Asset Delivery Review?"
              : "Clear Assert Delivery Review Status",
            strDescription: n
              ? "Is the Asset Delivery Reviewed?"
              : "Remove the asset delivery review status from this plan?",
            closeModal: a,
            bAllowFullSize: !0,
            bDisableBackgroundDismiss: !0,
            onOK: () => {
              n
                ? t.SetDeliveryReviewedAccountAndTime(
                    q.L7.accountid,
                    Math.floor(new Date().getTime() / 1e3),
                    l,
                  )
                : t.ClearDeliveryReviewedStatus();
            },
          },
          Boolean(n) &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                "p",
                null,
                "Have you verified the following in their URL folder?",
                r.createElement(
                  "ol",
                  null,
                  r.createElement(
                    "li",
                    null,
                    "Does it include layered PSD file",
                  ),
                  r.createElement("li", null, "Are assets high quality"),
                  r.createElement("li", null, "No burned in dates"),
                  r.createElement(
                    "li",
                    null,
                    "No burned in discounts (unless publisher/franchie sales)",
                  ),
                  r.createElement("li", null, "Font file recommended?"),
                  r.createElement("li", null, "No logo or trademark parade"),
                ),
              ),
              r.createElement(
                "div",
                null,
                "Optional: Notes for Art Team about Assets",
              ),
              r.createElement("textarea", {
                cols: 120,
                rows: 10,
                onChange: (e) => s(e.currentTarget.value),
                value: l,
                autoFocus: !0,
              }),
              r.createElement(m.II, {
                type: "text",
                label: "Partner Provided Assets",
                tooltip:
                  "Asset URL submitted by the partner; the same as the one found in the asset request tab",
                value: i.input_artwork_url,
                mustBeURL: !0,
                onChange: () => {},
                bShowCopyAction: !0,
              }),
            ),
        );
      }
      !(function (e) {
        (e[(e.k_AwaitingPartner = 0)] = "k_AwaitingPartner"),
          (e[(e.k_AssetSubmitted = 1)] = "k_AssetSubmitted"),
          (e[(e.k_DeliveryReviewed = 2)] = "k_DeliveryReviewed"),
          (e[(e.k_DesignComplete = 3)] = "k_DesignComplete"),
          (e[(e.k_LocalizationDone = 4)] = "k_LocalizationDone");
      })(V || (V = {}));
      var $ = a(13550),
        ee = a(8114),
        te = a(22559),
        ae = a(48359),
        ne = a(56886),
        ie = a(72236),
        re = a(28531),
        le = a(84965),
        se = a(24549),
        oe = a(36578);
      function ce(e) {
        const { promotionID: t, displayType: a } = e,
          n = (0, $.HI)(t),
          [i, l, s] = (0, r.useMemo)(() => {
            if (!n) return [0, 0, []];
            const e = (function (e, t) {
              const a = new Map();
              return (
                e.forEach((e) => {
                  const n =
                    "sales" == t
                      ? Number.parseInt(e.gross_sales_usdx100) / 1e4
                      : e.gross_units_sold;
                  a.has(e.date)
                    ? a.set(e.date, a.get(e.date) + n)
                    : a.set(e.date, n);
                }),
                Array.from(a).map((e) => ({
                  date: e[0],
                  value: Math.floor(e[1]),
                }))
              );
            })(n, a);
            let t = 0,
              i = 0;
            return (
              e.forEach((e) => {
                e.value > t && (t = e.value), (i += e.value);
              }),
              [
                t,
                i,
                e.sort(
                  (e, t) =>
                    new Date(e.date).getTime() - new Date(t.date).getTime(),
                ),
              ]
            );
          }, [n, a]);
        return n && 0 != n.length
          ? r.createElement(
              "div",
              { className: oe.DashStatsContainer },
              r.createElement(
                "div",
                { className: oe.Chart },
                r.createElement(
                  d.SV,
                  null,
                  r.createElement(me, { Data: s, nPeak: i }),
                ),
              ),
              r.createElement(
                "div",
                { className: oe.Stats },
                r.createElement(
                  "div",
                  { className: oe.CurrentStats },
                  r.createElement(
                    "div",
                    { className: oe.StatsTitle },
                    (0, se.AV)(l),
                  ),
                  r.createElement(
                    "div",
                    { className: oe.StatSubtitle },
                    r.createElement(
                      "span",
                      { className: oe.Now },
                      "sales" == a ? "Gross Sale USD" : "Gross Units",
                    ),
                  ),
                ),
                r.createElement(
                  "div",
                  { className: oe.PeakStats },
                  r.createElement(
                    "div",
                    { className: oe.StatsTitle },
                    (0, se.AV)(i),
                  ),
                  r.createElement(
                    "div",
                    { className: oe.StatSubtitle },
                    r.createElement(
                      "span",
                      { className: oe.Concurrent },
                      "sales" == a ? "Peak Gross Sales" : "Peak Gross Units",
                    ),
                  ),
                ),
              ),
            )
          : r.createElement(P.V, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      const me = r.memo((e) => {
        const { Data: t, nPeak: a } = e;
        return r.createElement(
          ee.h,
          { width: "100%", height: "100%" },
          r.createElement(
            te.c,
            {
              data: t,
              margin: { top: 25, left: 0, right: 0, bottom: 0 },
              barGap: 30,
            },
            r.createElement(
              "defs",
              null,
              r.createElement(
                "linearGradient",
                { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                r.createElement("stop", { stopColor: "#1A9FFF" }),
                r.createElement("stop", {
                  offset: "1",
                  stopColor: "#1A9FFF",
                  stopOpacity: "1",
                }),
              ),
            ),
            r.createElement(ae.q, { vertical: !1, stroke: "#a0aab6" }),
            r.createElement(ne.B, {
              tickFormatter: se.X_,
              tick: { fill: "white" },
              axisLine: !1,
            }),
            r.createElement(ie.u, { content: r.createElement(de, null) }),
            r.createElement(re.$, {
              dataKey: "value",
              barSize: 40,
              fill: "url( #bar_linear )",
            }),
            r.createElement(le.d, {
              y: a,
              stroke: "#82FF01",
              strokeDasharray: "6",
            }),
          ),
        );
      });
      function de({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload;
          return r.createElement(
            S.gz,
            null,
            r.createElement("b", null, (0, se.AV)(e.value)),
            " on date ",
            e.date,
          );
        }
        return null;
      }
      function ue(e) {
        const { oEditablePlan: t } = e,
          [a] = (0, i.SZ)(() => [t.GetID()]),
          n = (0, $.HI)(a),
          [l, s] = (0, r.useMemo)(() => {
            if (!n) return [0, 0];
            let e = 0;
            const t = new Map();
            return (
              n.forEach((a) => {
                (e += Number.parseInt(a.gross_sales_usdx100) / 1e4),
                  t.set(a.date, a.date);
              }),
              [Array.from(t.keys()).length, e]
            );
          }, [n]);
        if (!n)
          return r.createElement(P.V, {
            string: "Loading",
            size: "medium",
            position: "center",
          });
        const o = s / l;
        return r.createElement(
          "div",
          null,
          r.createElement("h3", null, "Featuring Summary"),
          r.createElement(T, {
            nNumDiscountDays: l,
            strNumDaysString: "Promo Days",
            nTotalDiscountSalesUSD: s,
            nPercentLift: o,
            strPercentLift: "Avg Daily Sales",
            bPercentLiftIsDollar: !0,
          }),
          r.createElement("br", null),
          r.createElement("h3", null, "Daily Featuring Sales"),
          r.createElement(ce, { promotionID: a, displayType: "sales" }),
          r.createElement("br", null),
          r.createElement("h3", null, "Daily Featuring Units"),
          r.createElement(ce, { promotionID: a, displayType: "units" }),
        );
      }
      var pe = a(56164);
      function _e(e) {
        return r.createElement(
          r.Fragment,
          null,
          (0, f.$1)(e.rtime),
          "\t@",
          (0, y.Sc)(e.rtime, { bForce24HourClock: !1 }),
        );
      }
      function he(e) {
        const { oEditablePlan: t } = e,
          [a] = (0, i.SZ)(() => [
            t.GetEndDate() < l.JW.GetTimeNowWithOverride(),
          ]);
        return r.createElement(
          "div",
          { className: c().RightCol },
          r.createElement(
            "div",
            { className: c().SectionCtn },
            r.createElement(De, { oEditablePlan: t }),
            r.createElement(fe, { oEditablePlan: t }),
          ),
          Boolean(a)
            ? r.createElement(
                pe.ug,
                { title: "Shipping Status", bStartMinimized: a },
                r.createElement(ge, { oEditablePlan: t }),
              )
            : r.createElement(ge, { oEditablePlan: t }),
        );
      }
      function ge(e) {
        const { oEditablePlan: t } = e,
          [a] = (0, i.SZ)(() => [t.BOnWatchList(b.L7.accountid)]);
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            { className: c().SectionCtn },
            r.createElement(
              "div",
              { className: M.OwnersRowCtn },
              r.createElement(W, { oEditablePlan: t }),
              r.createElement(O, { oEditablePlan: t }),
              r.createElement(
                "div",
                { className: M.OwnerColCtn },
                r.createElement(
                  m.__,
                  null,
                  "Biz ",
                  r.createElement(
                    S.HP,
                    {
                      toolTipContent:
                        "This person is typically in contact with the external partner, and responsible for answering questions about the promotion for internal Art and Operations teams.",
                    },
                    "(?)",
                  ),
                ),
                r.createElement(
                  "div",
                  { className: M.OwnerCtn },
                  r.createElement(
                    "div",
                    null,
                    r.createElement(_.N, { accountID: t.GetOwnerAccountID() }),
                  ),
                ),
                r.createElement(
                  m.Yz,
                  {
                    onClick: (e) =>
                      (0, E.AM)(
                        r.createElement(Ee, { oEditablePlan: t }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Change",
                ),
              ),
            ),
          ),
          r.createElement(
            "div",
            { className: c().SectionCtn },
            r.createElement(K, { oEditablePlan: t }),
            r.createElement(
              "div",
              { className: (0, v.Z)(M.LinkCtn, M.AssetField) },
              r.createElement(X.j_, {
                name: "Internal Asset Location",
                placeHolder:
                  "Any path where you can find the assets associated with this promo, like on Valve file server; no validation done.",
                id: t.GetAssociatedAssetURL(),
                fnSetID: t.SetAssociatedAssetURL,
                fnGetURL: (e) => e,
              }),
            ),
            r.createElement(z, { oEditablePlan: t }),
          ),
          Boolean(t.GetPlan().create_time) &&
            r.createElement(
              "div",
              { className: c().SectionCtn },
              r.createElement(m.__, null, "Plan initially created By:"),
              r.createElement(
                "div",
                { className: M.UserCtn },
                r.createElement(
                  "div",
                  { className: M.OwnerCtn },
                  r.createElement(
                    "div",
                    null,
                    r.createElement(_.N, {
                      accountID: t.GetPlan().creator_account_id,
                    }),
                  ),
                ),
              ),
              "Created at ",
              r.createElement(_e, { rtime: t.GetPlan().create_time }),
            ),
          Boolean(t.GetPlan().last_modified_account) &&
            r.createElement(
              "div",
              { className: c().SectionCtn },
              r.createElement(m.__, null, "Last Updated By:"),
              r.createElement(
                "div",
                { className: M.UserCtn },
                r.createElement(
                  "div",
                  { className: M.OwnerCtn },
                  r.createElement(
                    "div",
                    null,
                    r.createElement(_.N, {
                      accountID: t.GetPlan().last_modified_account,
                    }),
                  ),
                ),
              ),
              "Updated at ",
              r.createElement(_e, { rtime: t.GetPlan().last_modified_time }),
            ),
          r.createElement(
            "div",
            { className: c().SectionCtn },
            r.createElement(
              m.zx,
              {
                onClick: () => {
                  t.BOnWatchList(b.L7.accountid)
                    ? t.RemoveFromWatchList(b.L7.accountid)
                    : t.AddToWatchList(b.L7.accountid);
                },
              },
              a ? "Remove from my watch list" : "Add to my watch list",
            ),
          ),
          r.createElement(ke, { oEditablePlan: t }),
        );
      }
      function Ee(e) {
        const { oEditablePlan: t, closeModal: a } = e,
          [n, i] = (0, r.useState)(t.GetOwnerAccountID());
        return r.createElement(
          g.uH,
          {
            strTitle: "Change Plan Owner",
            strDescription:
              "Change the primary contact and person responsible for this promotion",
            closeModal: a,
            bOKDisabled: !n,
            onOK: () => t.SetPlanOwnerAccountID(n),
          },
          r.createElement(Se, { nAccountID: n, fnSetAccountFilter: i }),
        );
      }
      function Se(e) {
        const {
            nAccountID: t,
            fnSetAccountFilter: a,
            rgAdditional: i,
            rgAccountListFilter: l,
            className: s,
          } = e,
          o = n.J.map((e) => ({
            label: r.createElement(ve, {
              key: e.id,
              accountID: e.id,
              displayName: e.displayName,
            }),
            data: e.id,
          }));
        let c = [];
        return (
          l
            ? o.map((e) => {
                m.V$(e) && -1 != l.findIndex((t) => e.data == t) && c.push(e);
              })
            : c.push(...o),
          i && i.forEach((e) => c.push(e)),
          r.createElement(
            "div",
            { className: (0, v.Z)(x.AccountSelectCtn, s) },
            r.createElement(m.ry, {
              strDropDownClassName: (0, v.Z)(p().DropDownScroll, x.AccountList),
              rgOptions: c,
              selectedOption: t ? Number.parseInt("" + t) : null,
              onChange: (e) => a(e.data),
              bDisableMouseOverlay: !0,
              contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
            }),
          )
        );
      }
      function ve(e) {
        const { accountID: t, displayName: a } = e,
          { data: n } = (0, s.IE)(t);
        return r.createElement(
          r.Fragment,
          null,
          r.createElement("b", null, a),
          " (",
          n ? n.m_strPlayerName : t,
          ")",
        );
      }
      function De(e) {
        const t = new URLSearchParams(),
          { oEditablePlan: a } = e;
        return (
          t.set("name", a.GetModel().name),
          t.set("promotionplanid", a.GetID()),
          t.set("start", "" + a.GetStartDate()),
          r.createElement(
            "a",
            {
              href:
                b.De.PARTNER_BASE_URL +
                "public/downloadics.php?" +
                t.toString(),
              className: M.CalDownload,
            },
            r.createElement(h.EWE, null),
          )
        );
      }
      function fe(e) {
        const { oEditablePlan: t } = e,
          [a, n] = (0, i.SZ)(() => [
            t.BIsReviewed(),
            t.GetEndDate() < l.JW.GetTimeNowWithOverride(),
          ]);
        return r.createElement(
          r.Fragment,
          null,
          Boolean(n) && r.createElement(Ie, { oEditablePlan: t }),
          Boolean(!n && a) && r.createElement(be, { oEditablePlan: t }),
          Boolean(!n && !a) && r.createElement(ye, { oEditablePlan: t }),
        );
      }
      function ye(e) {
        const { oEditablePlan: t } = e;
        return r.createElement(
          "div",
          { className: (0, v.Z)(M.StatusCtn, M.Incomplete) },
          r.createElement(
            "div",
            { className: M.ReviewState },
            r.createElement("span", null, "Incomplete"),
          ),
          r.createElement(
            m.zx,
            {
              className: M.StatusBtn,
              onClick: (e) =>
                (0, E.AM)(
                  r.createElement(Ce, { oEditablePlan: t, bReviewVerify: !0 }),
                  (0, D.RA)(e),
                ),
            },
            "Mark as Reviewed",
          ),
        );
      }
      function be(e) {
        const { oEditablePlan: t } = e,
          a = t.GetReviewedAccount();
        return r.createElement(
          "div",
          { className: (0, v.Z)(M.StatusCtn, M.Complete) },
          r.createElement(
            "div",
            { className: M.ReviewedCtn },
            r.createElement(
              "div",
              { className: M.ReviewState },
              r.createElement(h.MCw, null),
              r.createElement("span", null, " Reviewed and ready to go! "),
            ),
            r.createElement(
              "div",
              { className: M.OwnerCtn },
              r.createElement(
                "div",
                null,
                r.createElement(_.N, { accountID: a }),
              ),
              r.createElement(
                m.zx,
                {
                  className: M.StatusBtn,
                  onClick: (e) =>
                    (0, E.AM)(
                      r.createElement(Ce, {
                        oEditablePlan: t,
                        bReviewVerify: !1,
                      }),
                      (0, D.RA)(e),
                    ),
                },
                "Clear Reviewed Status",
              ),
            ),
            r.createElement(
              "div",
              null,
              "Reviewed At ",
              (0, f.$1)(t.GetReviewedTime()),
              "@ ",
              (0, y.Sc)(t.GetReviewedTime(), { bForce24HourClock: !1 }),
            ),
          ),
        );
      }
      function Ie(e) {
        const { oEditablePlan: t } = e,
          [a, n, l, s, o, c, m, u, p] = (0, i.SZ)(() => [
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
            t.GetFeaturedItemID(),
            t.GetFeaturedItemType(),
            t.GetStartDate(),
            t.GetEndDate(),
            t.GetDiscountEventID(),
            t.GetOptInID(),
            t.GetType(),
          ]),
          [_, h] = (0, r.useMemo)(
            () => [new Date(1e3 * o), new Date(1e3 * c)],
            [o, c],
          ),
          g = `?dateStart=${_.getFullYear()}-${(_.getMonth() + 1).toString().padStart(2, "0")}-${_.getDate().toString().padStart(2, "0")}&dateEnd=${h.getFullYear()}-${(h.getMonth() + 1).toString().padStart(2, "0")}-${h.getDate().toString().padStart(2, "0")}`;
        return r.createElement(
          "div",
          { className: (0, v.Z)(M.StatusCtn, M.Past) },
          r.createElement(
            "div",
            { className: M.ReviewedCtn },
            r.createElement(
              "div",
              { className: M.ReviewState },
              r.createElement("span", null, " This promo is over "),
            ),
            Boolean(a || l || u) &&
              r.createElement(
                "div",
                null,
                r.createElement(ue, { oEditablePlan: t }),
                Boolean(u) &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(
                      d.SV,
                      null,
                      r.createElement(
                        k.F,
                        { pageid: u },
                        r.createElement(I.RG, { bShowOnlySummary: !0 }),
                        r.createElement(
                          "a",
                          {
                            href: `${b.De.PARTNER_BASE_URL}optin/admin/analysis/${u}`,
                          },
                          "Theme Sale Detailed Sales Stats",
                        ),
                        r.createElement(C.kK, { bShowOnlySummary: !0 }),
                        r.createElement(
                          "a",
                          {
                            href: `${b.De.PARTNER_BASE_URL}optin/admin/demo_analysis/${u}`,
                          },
                          "Theme Sale Demo Play Stats",
                        ),
                      ),
                    ),
                  ),
                Boolean(m) &&
                  r.createElement(
                    d.SV,
                    null,
                    r.createElement(N, { strDiscountEventID: m }),
                    r.createElement("br", null),
                  ),
                Boolean(a && n) &&
                  r.createElement(
                    "div",
                    null,
                    r.createElement(
                      "a",
                      {
                        href: `${b.De.STATS_BASE_URL}sales/details/?gid=${n}&clanid=${a}`,
                        target: "_blank",
                      },
                      "See detailed sale page promo stats",
                    ),
                  ),
                Boolean(0 == s) &&
                  r.createElement(
                    "div",
                    null,
                    r.createElement(
                      "a",
                      {
                        href: `${b.De.STATS_BASE_URL}app/details/${l}/${g}`,
                        target: "_blank",
                      },
                      "See detailed game promo stats",
                    ),
                  ),
                Boolean(1 == s) &&
                  r.createElement(
                    "div",
                    null,
                    r.createElement(
                      "a",
                      {
                        href: `${b.De.STATS_BASE_URL}package/details/${l}/${g}`,
                        target: "_blank",
                      },
                      "Package stats here",
                    ),
                  ),
                Boolean(2 == s) &&
                  r.createElement(
                    "div",
                    null,
                    r.createElement(
                      "a",
                      {
                        href: `${b.De.STATS_BASE_URL}bundles/details/${l}/${g}`,
                        target: "_blank",
                      },
                      "Bundle stats here",
                    ),
                  ),
              ),
          ),
        );
      }
      function Ce(e) {
        const { oEditablePlan: t, closeModal: a, bReviewVerify: n } = e;
        return r.createElement(
          L.P,
          {
            strTitle: n ? "Plan Review?" : "Clear Plan Review Status",
            strDescription: n
              ? "Is the Plan Reviewed?"
              : "Remove the review status from this plan?",
            closeModal: a,
            onOK: () => {
              n
                ? t.SetReviewedAccountAndTime(
                    b.L7.accountid,
                    Math.floor(new Date().getTime() / 1e3),
                  )
                : t.ClearReviewedStatus();
            },
          },
          Boolean(n) &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                "p",
                null,
                "Have you verified the dates, settings, discounts, and assets are ready for all of the links below?",
              ),
              r.createElement(B.o6, { oEditablePlan: t }),
            ),
        );
      }
      function ke(e) {
        const { oEditablePlan: t } = e,
          [a, n, l] = (0, i.SZ)(() => [
            t.BRequireBroadcastModeration(),
            t.GetBroadcastModerationNotes(),
            t.BIsModerationScheduled(),
          ]);
        return r.createElement(
          "div",
          { className: c().SectionCtn },
          r.createElement(m.__, null, "Broadcast Moderation"),
          r.createElement(
            "p",
            null,
            "Record whether we would like to have Keywords support broadcast chat moderation for this event. Still requires external coordination.",
          ),
          r.createElement(m.ji, {
            label: "Broadcast Moderation Needed",
            checked: a,
            onChange: t.SetRequireBroadcastModeration,
          }),
          Boolean(a) &&
            r.createElement(
              "div",
              { className: c().Indent },
              r.createElement(
                "div",
                { className: M.BroadcastNotes },
                r.createElement(m.__, null, "Broadcast Schedule Notes:"),
                r.createElement("textarea", {
                  className: "DialogTextInputBase",
                  value: n || "",
                  onChange: (e) =>
                    t.SetBroadcastModerationNotes(
                      e?.currentTarget?.value || "",
                    ),
                }),
              ),
              r.createElement(m.ji, {
                label: "Has Moderation Been Scheduled?",
                checked: l,
                onChange: t.SetModerationIsScheduled,
              }),
              r.createElement(
                "a",
                {
                  href: "https://confluence.valve.org/display/STEAM/How+to+Request+Moderation",
                },
                "How to Request Broadcast Moderation",
              ),
            ),
        );
      }
    },
    69176: (e, t, a) => {
      "use strict";
      a.d(t, { N: () => I });
      var n = a(87380),
        i = a(47427),
        r = a(8285),
        l = a(64936),
        s = a(51915),
        o = a(1485),
        c = a(71741),
        m = a.n(c),
        d = a(13129),
        u = a(65255),
        p = a(22412),
        _ = a(82701),
        h = a(34083),
        g = a(26475),
        E = a(24289),
        S = a(46984);
      function v(e) {
        const { countDownUntil: t, fnCallbackOnZero: a, ...n } = e,
          [r, l] = (0, i.useState)(
            Math.floor(Math.max(0, t.getTime() - E.zO()) / 1e3),
          ),
          s = i.useRef(null);
        i.useEffect(() => (y(s, t, l), () => f(s)), [t]),
          i.useEffect(() => {
            0 == r && a && a();
          }, [a, r]);
        const o = Math.floor(r / S._H.PerHour),
          c = Math.floor((r - o * S._H.PerHour) / S._H.PerMinute),
          m = Math.floor(r - (o * S._H.PerHour + c * S._H.PerMinute));
        return i.createElement(
          "span",
          { style: { fontFamily: "monospace" }, ...n },
          D(o),
          ":",
          D(c),
          ":",
          D(m),
        );
      }
      function D(e) {
        return e.toString().padStart(2, "0");
      }
      function f(e) {
        e?.current && (window.clearTimeout(e.current), (e.current = null));
      }
      function y(e, t, a) {
        f(e);
        const n = E.zO(),
          i = Math.floor(Math.max(0, t.getTime() - n) / 1e3);
        a(i),
          i >= 0 && e && (e.current = window.setTimeout(() => y(e, t, a), 1e3));
      }
      var b = a(46882);
      function I(e) {
        const {
            planIDs: t,
            bExcludeHideButton: a,
            bHideTypeField: r,
            bShowProgress: s,
            sortByUnclaimedField: c,
            bHideDoneByDefault: u,
            bAllowAutoRefresh: p,
            nUrgentWindowInSeconds: h,
          } = e,
          [g, E] = (0, i.useState)(!0),
          [S, v] = (0, i.useState)(u),
          [D, f] = (0, i.useState)(!0),
          y = (0, i.useMemo)(() => {
            let e = 0;
            return (
              t.forEach((t) => {
                (0, n.J2)(t).reviewed_by_account && (e += 1);
              }),
              e
            );
          }, [t]);
        if (0 == t?.length)
          return i.createElement(
            "div",
            { className: _.NoResults },
            "No Items to Show",
          );
        const b = l.JW.GetTimeNowWithOverride();
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            "div",
            { className: m().FlexRowContainer },
            !a &&
              i.createElement(o.ji, {
                label: "Hide Past Events",
                checked: g,
                onChange: E,
              }),
            i.createElement(o.ji, {
              label: `Hide Fully Reviewed (${y})`,
              checked: S,
              onChange: v,
            }),
            Boolean(c) &&
              i.createElement(o.ji, {
                label: "Sort Unclaimed First",
                checked: D,
                onChange: f,
              }),
            Boolean(p) && i.createElement(T, null),
          ),
          i.createElement(
            "div",
            { className: (0, d.Z)(_.Row, _.Primary, _.HeaderRow) },
            i.createElement(
              "div",
              { className: (0, d.Z)(_.Col, _.ItemName) },
              "Plan Name",
            ),
            !r &&
              i.createElement(
                "div",
                { className: (0, d.Z)(_.Col, _.Type) },
                "Promo Type",
              ),
            i.createElement(
              "div",
              { className: (0, d.Z)(_.Col, _.Date) },
              "Date Range",
            ),
            i.createElement(
              "div",
              { className: (0, d.Z)(_.Col, _.Creator) },
              "Plan Owner",
            ),
            i.createElement(
              "div",
              { className: (0, d.Z)(_.Col, _.Creator) },
              "Operator",
            ),
            i.createElement(
              "div",
              { className: (0, d.Z)(_.Col, _.Creator) },
              "Production Designer",
            ),
          ),
          i.createElement(
            "div",
            null,
            t
              .filter((e) => !g || (0, n.J2)(e)?.end_date > b)
              .filter((e) => !S || !(0, n.J2)(e)?.reviewed_by_account)
              .sort((e, t) => {
                const a = (0, n.J2)(e),
                  i = (0, n.J2)(t);
                if (D && c) {
                  if (!a[c]) return -1;
                  if (!i[c]) return 1;
                }
                return a?.start_date - i?.start_date;
              })
              .map((e) =>
                i.createElement(C, {
                  key: e,
                  planID: e,
                  bHideTypeField: r,
                  bShowProgress: s,
                  nUrgentWindowInSeconds: h,
                }),
              ),
          ),
        );
      }
      function C(e) {
        const {
            planID: t,
            bHideTypeField: a,
            bShowProgress: l,
            nUrgentWindowInSeconds: s,
          } = e,
          o = (0, n.ve)(t),
          c = (0, r.k6)(),
          m = Math.floor(Date.now() / 1e3) + s,
          E = s && o.start_date < m;
        return i.createElement(
          "div",
          {
            className: (0, d.Z)(_.RowCtn, E ? _.Soon : ""),
            onClick: (e) => {
              const a = !/promotion\/dashboard/.test(window.location.href);
              e.ctrlKey || e.metaKey || a
                ? window.open(
                    `${u.De.PARTNER_BASE_URL}/promotion/${h.PromotionRoutes.PromotionPlanEditor(t)}`,
                    e.ctrlKey || e.metaKey ? "_blank" : void 0,
                  )
                : c.push(h.PromotionRoutes.PromotionPlanEditor(t));
            },
            style: (0, g.Z4)({ promotionPlan: o }).style,
          },
          i.createElement(
            "div",
            { className: (0, d.Z)(_.Row, _.Primary) },
            i.createElement(
              "div",
              { className: (0, d.Z)(_.Col, _.ItemName) },
              o.name,
              l && i.createElement(A, { planAdmin: o }),
            ),
            !a &&
              i.createElement(
                "div",
                { className: (0, d.Z)(_.Col, _.Type) },
                o.type,
              ),
            i.createElement(p.Z, {
              className: (0, d.Z)(_.Col, _.Date, E ? _.Soon : ""),
              rtStartDate: o.start_date,
              rtEndDate: o.end_date,
            }),
            i.createElement(
              "div",
              { className: (0, d.Z)(_.Col, _.Creator) },
              i.createElement(w, {
                accountid: o.owner_account_id || o.creator_account_id,
              }),
            ),
            i.createElement(
              "div",
              { className: (0, d.Z)(_.Col, _.Creator) },
              i.createElement(w, { accountid: o.operator_account_id }),
            ),
            i.createElement(
              "div",
              { className: (0, d.Z)(_.Col, _.Creator) },
              i.createElement(w, { accountid: o.artwork_owner_account_id }),
            ),
            i.createElement(
              "div",
              null,
              Boolean(o.reviewed_by_account) &&
                i.createElement("span", null, "✔"),
            ),
          ),
        );
      }
      function k(e) {
        return !e?.some((e) => !e);
      }
      function A(e) {
        const { planAdmin: t } = e;
        return t.reviewed_by_account
          ? i.createElement("div", null, "🗹 Fully Reviewed")
          : i.createElement(
              "div",
              null,
              t.discount_event_id &&
                i.createElement(
                  "span",
                  null,
                  t.discount_event_reviewed ? "🗹" : "☐",
                  " Discount Event",
                ),
              t.takeover_ids?.length > 0 &&
                i.createElement(
                  "span",
                  null,
                  k(t.takeover_reviewed) ? "🗹" : "☐",
                  " Takeover",
                ),
              t.takeunder_ids?.length > 0 &&
                i.createElement(
                  "span",
                  null,
                  k(t.takeunder_reviewed) ? "🗹" : "☐",
                  " Takeunder Banner",
                ),
              t.spotlight_ids?.length > 0 &&
                i.createElement(
                  "span",
                  null,
                  k(t.spotlight_reviewed) ? "🗹" : "☐",
                  " Spotlight",
                ),
              t.marketing_message_ids?.length > 0 &&
                i.createElement(
                  "span",
                  null,
                  k(t.marketing_message_reviewed) ? "🗹" : "☐",
                  " Marketing Message",
                ),
              t.steamchina_takeover_ids?.length > 0 &&
                i.createElement(
                  "span",
                  null,
                  k(t.steamchina_takeover_reviewed) ? "🗹" : "☐",
                  " Steam China Takeover",
                ),
              t.contenthub_takeover_ids?.length > 0 &&
                i.createElement(
                  "span",
                  null,
                  k(t.contenthub_takeover_reviewed) ? "🗹" : "☐",
                  " Content Hub Takeover",
                ),
              t.main_capsule_id &&
                i.createElement(
                  "span",
                  null,
                  t.main_capsule_reviewed ? "🗹" : "☐",
                  " Main Capsule",
                ),
              t.opt_in_id &&
                i.createElement(
                  "span",
                  null,
                  t.opt_in_reviewed ? "🗹" : "☐",
                  " OptIn",
                ),
              t.giveaway_id &&
                i.createElement(
                  "span",
                  null,
                  t.giveaway_reviewed ? "🗹" : "☐",
                  " Giveaway",
                ),
              t.advertising_appid &&
                i.createElement(
                  "span",
                  null,
                  t.advertising_appid_reviewed ? "🗹" : "☐",
                  " Advertising App",
                ),
              t.sale_clan_account &&
                i.createElement(
                  "span",
                  null,
                  t.sale_page_reviewed ? "🗹" : "☐",
                  " Sale Page",
                ),
            );
      }
      function w(e) {
        const { accountid: t } = e,
          a = (0, s.IE)(t);
        return a && a.data
          ? i.createElement("span", null, a.data.m_strPlayerName)
          : i.createElement("span", null, t);
      }
      const P = 60;
      function T(e) {
        const [t, a] = (0, i.useState)(!0),
          [r, l] = (0, i.useState)(() => new Date(Date.now() + 1e3 * P)),
          [s, c] = (0, i.useState)(!1),
          { fnRefreshPlans: m } = (0, n.$H)(),
          [d, u] = (0, i.useState)(!1);
        (0, i.useEffect)(() => {
          t && (l(new Date(Date.now() + 1e3 * P)), c(!1));
        }, [t]);
        const p = (0, i.useCallback)(async () => {
          c(!0), console.log("refreshing promotion plans");
          (await m((0, n.Qt)()))
            ? l(new Date(Date.now() + 1e3 * P))
            : (console.error("refreshing promotion plans failed"), u(!0)),
            c(!1);
        }, [m]);
        return d
          ? i.createElement("div", null, "Error Refreshing; check console")
          : s
            ? i.createElement(o.ji, {
                checked: t,
                disabled: !0,
                label: i.createElement(
                  "span",
                  null,
                  "Refreshing ",
                  i.createElement(b.V, { size: "small" }),
                ),
              })
            : i.createElement(o.ji, {
                checked: t,
                onChange: a,
                label: t
                  ? i.createElement(
                      i.Fragment,
                      null,
                      "Refresh Plans Automatically (",
                      i.createElement(v, {
                        countDownUntil: r,
                        fnCallbackOnZero: p,
                      }),
                      " until next Refresh)",
                    )
                  : i.createElement(
                      i.Fragment,
                      null,
                      "Refresh Plans Automatically",
                    ),
              });
      }
    },
    22364: (e, t, a) => {
      "use strict";
      a.d(t, { Eu: () => x, cE: () => B, MZ: () => G });
      var n = a(30750),
        i = a(47427),
        r = a(29292),
        l = a(1485),
        s = a(80751),
        o = a.n(s),
        c = a(77936),
        m = a(95315),
        d = a(35427),
        u = a(93243),
        p = a(58670),
        _ = a(85556),
        h = a(54842),
        g = a(37563);
      class E {
        static s_Singleton;
        m_mapEventGIDToSolrData = new Map();
        m_listEvents = new Array();
        BHasSolrEvent(e) {
          return this.m_mapEventGIDToSolrData.has(e);
        }
        GetAllSolrEvents() {
          return this.m_listEvents;
        }
        static Get() {
          return E.s_Singleton || (E.s_Singleton = new E()), E.s_Singleton;
        }
        constructor() {
          (0, h.rC)(this);
        }
        ClearAllSolrEvents() {
          (this.m_mapEventGIDToSolrData = new Map()),
            (this.m_listEvents = new Array());
        }
        async LoadPartnerEventForQueryIncremental(
          e,
          t = 0,
          a = 10,
          n,
          i,
          r,
          l,
          s,
          o,
        ) {
          const c = await this.GetLatestPartnerEvents(
            e,
            t,
            a,
            n,
            i,
            r,
            l,
            s,
            o,
          );
          let m = new Array();
          return (
            (0, h.z)(() => {
              c.forEach((e) => {
                this.m_mapEventGIDToSolrData.has(e.unique_id) ||
                  (m.push(e),
                  this.m_mapEventGIDToSolrData.set(e.unique_id, e),
                  this.m_listEvents.push(e));
              });
            }),
            m
          );
        }
        async GetLatestPartnerEvents(
          e,
          t = 0,
          a = 10,
          n,
          i,
          r,
          l,
          s,
          c,
          m,
          d,
          u,
          p,
        ) {
          const _ =
              g.De.STORE_BASE_URL + "events_admin/ajaxgetlatestpartnerevents",
            h = {
              page: t,
              count: a,
              date: l,
              appids: void 0 === n ? void 0 : n.join(","),
              required_tags: void 0 === i ? void 0 : i.join(","),
              exclude_tags: void 0 === r ? void 0 : r.join(","),
              eventtypefilter: void 0 === s ? void 0 : s.join(","),
              orderByVisibility: c || void 0,
              creator_home_clan_id: void 0 === m ? void 0 : m.join(","),
              showUnpublished: void 0 === u ? void 0 : u,
              sale_only: void 0 === p ? void 0 : p,
              term: void 0 === d ? void 0 : d,
            },
            E = await o().get(_, {
              params: h,
              withCredentials: !0,
              cancelToken: e ? e.token : void 0,
            });
          return E.data ? E.data.docs : [];
        }
      }
      (0, _.gn)([h.LO], E.prototype, "m_mapEventGIDToSolrData", void 0),
        (0, _.gn)([h.LO], E.prototype, "m_listEvents", void 0),
        (0, _.gn)([h.aD], E.prototype, "ClearAllSolrEvents", null);
      var S = a(44174),
        v = a(22042),
        D = a(31846),
        f = a(80445),
        y = a(45284),
        b = a(6582);
      function I(e) {
        const {
            fnSetEvent: t,
            strLabel: a,
            strPlaceholder: n,
            strToolTip: r,
            bShowHidden: s,
            strFilterClanSteamID: _,
            bFilterToSales: h,
          } = e,
          [I, C] = i.useState(null),
          k = i.useRef(),
          A = i.useRef(null),
          w = i.useCallback(
            (e) => {
              const a = (0, m.yV)(
                i.createElement(
                  v.xV,
                  { className: b.SearchResults },
                  e.map((e) =>
                    i.createElement(
                      v.Zo,
                      {
                        key: e.gidClanEvent,
                        onSelected: () => {
                          (k.current.element.value = ""), t(e);
                        },
                      },
                      i.createElement(
                        "div",
                        { style: { display: "flex", alignItems: "center" } },
                        (0, y.HA)(e.name),
                        " ",
                        i.createElement("span", null, "(", e.gidClanEvent, ")"),
                        " ",
                        i.createElement(
                          "span",
                          { className: b.SmallText },
                          "(",
                          (0, f.Sq)(e.type),
                          ")",
                        ),
                      ),
                    ),
                  ),
                ),
                k?.current?.element,
                {
                  bOverlapHorizontal: !0,
                  bMatchWidth: !0,
                  bFitToWindow: !0,
                  bDisablePopTop: !0,
                  bNoFocusWhenShown: !0,
                  bSkipFocusWhenReady: !0,
                },
              );
              C(a);
            },
            [t],
          ),
          P = i.useCallback(
            async (e) => {
              const t = String(e.target.value);
              if (!t || 0 == t.trim().length) return;
              const a = (0, c.jM)(g.De.LANGUAGE);
              if (
                t.toLocaleLowerCase().startsWith(g.De.STORE_BASE_URL) ||
                t.toLocaleLowerCase().startsWith(g.De.COMMUNITY_BASE_URL) ||
                t
                  .toLocaleLowerCase()
                  .startsWith("https://store.steampowered.com/") ||
                t
                  .toLocaleLowerCase()
                  .startsWith("https://store.steamchina.com/") ||
                t.toLocaleLowerCase().startsWith("https://steamcommunity.com/")
              ) {
                const e = [],
                  n = /app\/(\d+)\/view\/(\d+)\/?$/.exec(t),
                  i = /group\/(\d+)\/view\/(\d+)\/?$/.exec(t),
                  r =
                    /groups\/([A-Za-z0-9\-@#!$_]+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                      t,
                    ),
                  l = /games\/(\d+)\/announcements\/detail\/(\d+)+\/?$/.exec(t),
                  o =
                    /games\/([A-Za-z0-9\-@#!$_]+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                      t,
                    ),
                  c =
                    /groups\/([A-Za-z0-9\-@#!$_]+)\/partnerevents\/edit\/(\d+)+/.exec(
                      t,
                    ),
                  m = /games\/(\d+)\/partnerevents\/edit\/(\d+)+/.exec(t),
                  p =
                    /games\/([A-Za-z0-9\-@#!$_]+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                      t,
                    );
                let _ = null,
                  h = null,
                  g = null,
                  E = null,
                  v = null,
                  D = null;
                if (n?.length >= 3) (_ = Number.parseInt(n[1])), (E = n[2]);
                else if (i?.length >= 3)
                  (g = Number.parseInt(i[1])), (E = i[2]);
                else if (r?.length >= 3) (h = r[1]), (v = r[2]);
                else if (l?.length >= 3)
                  (_ = Number.parseInt(l[1])), (v = l[2]);
                else if (o?.length >= 3) {
                  let e = o[1];
                  v = o[2];
                  let t = await u.sV.LoadOGGClanInfoForIdentifier(e);
                  t && (_ = t.appid);
                } else if (c?.length >= 3) (h = c[1]), (E = c[2]);
                else if (m?.length >= 3)
                  (_ = Number.parseInt(m[1])), (E = m[2]);
                else if (p?.length >= 3) {
                  const e = p[1];
                  v = p[2];
                  const t = await u.sV.LoadOGGClanInfoForIdentifier(e);
                  t && (_ = t.appid);
                }
                if (_)
                  E
                    ? (D = await S.j1.LoadPartnerEventFromClanEventGID(_, E, 0))
                    : v &&
                      (D = await S.j1.LoadPartnerEventFromAnnoucementGID(
                        _,
                        v,
                        0,
                      ));
                else {
                  let e = null;
                  if ((g && (e = d.K.InitFromClanID(g)), h)) {
                    e = (await u.sV.LoadOGGClanInfoForGroupVanity(h))
                      .clanSteamID;
                  }
                  if (s) {
                    const t = !0;
                    v && e
                      ? (D =
                          await S.j1.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                            e,
                            v,
                            0,
                            t,
                          ))
                      : E &&
                        e &&
                        (D =
                          await S.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                            e,
                            E,
                            0,
                            t,
                          ));
                  } else
                    v && e
                      ? (D =
                          await S.j1.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                            e,
                            v,
                            0,
                          ))
                      : E &&
                        e &&
                        (D =
                          await S.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                            e,
                            E,
                            0,
                          ));
                }
                if (D)
                  return (
                    e.push({
                      name: D.GetNameWithFallback(a),
                      type: D.GetEventType(),
                      clanSteamID: D.clanSteamID,
                      gidClanAnnouncement: D.GetAnnouncementGID(),
                      gidClanEvent: D.GID,
                    }),
                    void w(e)
                  );
                A.current &&
                  (window.clearTimeout(A.current), (A.current = null));
              }
              A.current = window.setTimeout(async () => {
                let e = null;
                if (_) {
                  const a = p.bq.GetCreatorHome(new d.K(_));
                  e = await E.Get().GetLatestPartnerEvents(
                    o().CancelToken.source(),
                    0,
                    20,
                    a.GetAppIDList(),
                    void 0,
                    void 0,
                    void 0,
                    void 0,
                    !0,
                    [a.GetClanAccountID()],
                    t,
                    !0,
                    h,
                  );
                } else
                  e = await E.Get().GetLatestPartnerEvents(
                    o().CancelToken.source(),
                    0,
                    20,
                    void 0,
                    void 0,
                    void 0,
                    void 0,
                    void 0,
                    !0,
                    void 0,
                    t,
                    !0,
                    h,
                  );
                const a = e.map((e) => ({
                  name: e.event_name,
                  type: Number.parseInt(e.event_type),
                  clanSteamID: new d.K(e.clan_steamid),
                  gidClanAnnouncement: e.announcement_gid,
                  gidClanEvent: e.unique_id,
                }));
                w(a);
              }, 300);
            },
            [h, s, w, _],
          );
        return i.createElement(l.II, {
          onBlur: (e) => setTimeout(() => I?.Hide(), 200),
          onFocus: (e) => {
            console.log("We are focussed");
          },
          ref: k,
          type: "text",
          label: a ?? (0, D.Xx)("#Sale_EnterEventsURL_Common"),
          placeholder: n,
          onChange: P,
          tooltip: r ?? (0, D.Xx)("#Sale_EnterEventsURL_Tooltip_Common"),
        });
      }
      var C = a(77178),
        k = a(90069),
        A = a(50423),
        w = a(67206),
        P = a(26475),
        T = a(60688),
        N = a(56164);
      const R = [
          { label: (0, D.Xx)("#ExternalSaleEventType_Publisher"), data: 1 },
          { label: (0, D.Xx)("#ExternalSaleEventType_Showcase"), data: 2 },
          { label: (0, D.Xx)("#ExternalSaleEventType_Region"), data: 3 },
          { label: (0, D.Xx)("#ExternalSaleEventType_Theme"), data: 4 },
        ],
        G = [{ label: "", data: 0 }, ...R];
      function x(e) {
        const { oEditablePlan: t, bUseSalePageType: a } = e,
          { eventModel: s } = (0, r.Mx)(
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
            !0,
          ),
          [o, c, m] = (0, n.SZ)(() => [
            t.BHasAssociatedSaleEvent(),
            t.BRequiresSalePage(),
            t.GetRequiresSalePageType(),
          ]);
        return i.createElement(
          "div",
          { className: T.LinkCtn },
          Boolean(o) &&
            i.createElement(
              "div",
              { className: T.SalePageLinkCtn },
              i.createElement(l.__, null, "Associated Sale Event:"),
              i.createElement(
                "div",
                { className: T.ButtonRow },
                s?.GetSaleVanity(),
                i.createElement(
                  "a",
                  { href: t.GetSaleEditEventURL(), target: "_blank" },
                  "Edit Associated Sale Page",
                ),
                i.createElement(B, { oEditablePlan: t }),
              ),
              i.createElement("hr", null),
            ),
          i.createElement(
            N.ug,
            {
              title: "Link A Sale Page:",
              bStartMinimized: t.BHasAssociatedSaleEvent(),
            },
            i.createElement(
              "p",
              null,
              "Sale pages do not have to be public to be linked, but you must be logged in to the Steam Store with Valve Admin.",
            ),
            i.createElement(I, {
              strLabel: "",
              strPlaceholder:
                "eg. http://steamcommunity.com/groups/Valve/partnerevents/edit/79358903956603577",
              fnSetEvent: (e) =>
                t.SetSaleEvent(e.gidClanEvent, e.clanSteamID.GetAccountID()),
              bFilterToSales: !0,
              bShowHidden: !0,
            }),
            i.createElement("br", null),
            i.createElement(l.ji, {
              label: "Promotion requires a Sale page?",
              tooltip:
                "Use this flag to remind us to complete this promotion a sale page is required to be added and reviewed. When creating this item, we may not have had the sale page created yet.",
              checked: c,
              onChange: t.SetRequiresSalePage,
            }),
            c &&
              a &&
              i.createElement(l.ry, {
                label: "Require a specific Sale page type?",
                rgOptions: R,
                selectedOption: m,
                onChange: (e) => t.SetRequiresSalePageType(e.data),
                contextMenuPositionOptions: { bDisablePopTop: !0 },
              }),
            i.createElement(
              "div",
              null,
              i.createElement("br", null),
              i.createElement(l.__, null, "Create New Sale Page:"),
              i.createElement(
                "p",
                null,
                "Send the partner this url where they can create a ticket with necessary information to create the sale page. Keywords will help them with creating sale page and their sale related questions.",
                i.createElement("br", null),
                i.createElement(
                  "a",
                  {
                    href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=938",
                  },
                  "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=938",
                ),
              ),
              i.createElement(
                "div",
                { className: T.ButtonRow },
                Boolean(o) &&
                  i.createElement(
                    l.zx,
                    { onClick: (e) => t.ClearSalePage() },
                    "Clear Associated Sale Page",
                  ),
                i.createElement(
                  l.zx,
                  {
                    onClick: (e) => {
                      (0, k.AM)(
                        i.createElement(L, { oEditablePlan: t }),
                        (0, A.RA)(e),
                      );
                    },
                  },
                  "Create New Sale Page",
                ),
              ),
            ),
          ),
        );
      }
      function L(e) {
        const { oEditablePlan: t, closeModal: a } = e,
          [n, r] = (0, i.useState)(t.BHasAssociatedSaleEvent());
        return n
          ? i.createElement(C.uH, {
              strTitle: "Create New Sale Page?",
              strDescription: `You already have Sale Page with ID ${t.GetSaleEditEventURL()} associated with this promotion plan.  Are you sure you want to create a new one?`,
              onCancel: a,
              onOK: () => r(!1),
              strOKButtonText: "Create New Sale Page Anyways",
            })
          : i.createElement(w.s, {
              fnSetSalePageInfo: t.SetSaleEvent,
              closeModal: a,
            });
      }
      function B(e) {
        const { oEditablePlan: t } = e,
          { eventModel: a } = (0, r.Mx)(
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
            !0,
          );
        return a
          ? i.createElement(P.id, {
              name: a.GetSaleVanity(),
              type: "Sale Store Page",
              id: a.GetSaleVanity(),
              fnGetURL: (e) => a.GetSaleURL(),
            })
          : null;
      }
    },
    83891: (e, t, a) => {
      "use strict";
      a.d(t, { i: () => I, M: () => b });
      var n = a(1698);
      const i = ["Weekend Deal", "Now Available", "Pre-Purchase", ""];
      var r = a(20840),
        l = a(41710),
        s = a(47427),
        o = a(15459),
        c = a(15690),
        m = a(86437),
        d = a(80886),
        u = a(1485),
        p = a(83743),
        _ = a(77178),
        h = a(90069),
        g = a(46882),
        E = a(16649),
        S = a(50423),
        v = a(31846),
        D = a(37563),
        f = a(26475),
        y = a(60688);
      function b(e) {
        const { oEditablePlan: t, index: a } = e;
        return s.createElement(
          "div",
          { className: y.LinkCtn },
          s.createElement(f.UR, {
            name: "Spotlight ID",
            placeHolder: "/admin/store/spotlight/<grab this ID>",
            id: t.GetSpotlightIDs(a),
            index: a,
            fnSetID: t.SetSpotlightID,
            fnGetURL: n.tA.GetSpotlightEditURL,
          }),
          s.createElement(
            "div",
            { className: y.ButtonRow },
            s.createElement(
              u.zx,
              {
                onClick: (e) => {
                  (0, h.AM)(
                    s.createElement(C, { oEditablePlan: t, index: a }),
                    (0, S.RA)(e),
                  );
                },
              },
              "Create new",
            ),
            s.createElement(
              u.zx,
              {
                onClick: (e) => {
                  (0, h.AM)(
                    s.createElement(w, { oEditablePlan: t, index: a }),
                    (0, S.RA)(e),
                  );
                },
              },
              "Select from existing",
            ),
          ),
        );
      }
      function I(e, t, a, n, i, r, l) {
        const s = {
          name: e,
          type: t,
          creator: D.L7.account_name,
          visibility: { visible: !1, startdate: a, enddate: n },
          location: { genres: [], hubTargets: [] },
          title: i,
          body: { english: r },
        };
        return (
          l &&
            ((s.association = (0, m.Bo)(l.GetID(), l.GetStoreItemType())),
            (s.association_type = (0, m.bg)(l.GetStoreItemType()))),
          s
        );
      }
      function C(e) {
        const { oEditablePlan: t, closeModal: a, index: n } = e,
          r = t.GetType(),
          [o, c] = (0, s.useState)(t.GetName()),
          [m, h] = (0, s.useState)("Weekend Deal"),
          g = (0, s.useMemo)(() => i.map((e) => ({ label: e, data: e })), []),
          [S] = (0, d.jk)(t.GetFeaturedItemID(), t.GetFeaturedItemType(), {
            include_platforms: !0,
          }),
          [v, D] = (0, s.useState)(t.BHasSpotlightIDs(n)),
          [f, b] = (0, s.useState)(
            "midweek" == r
              ? "#spotlight_midweek_madness"
              : "#spotlight_weekend_deal",
          ),
          [C, w] = (0, s.useState)("#promo_ends_custom"),
          { fnAddNewSpotlight: P } = (0, l.Oo)(),
          T = (0, p.tx)();
        return T.bLoading
          ? s.createElement(p.NT, {
              state: T,
              strDialogTitle: "Create New Spotlight?",
              closeModal: a,
            })
          : v
            ? s.createElement(_.uH, {
                strTitle: "Create New Spotlight?",
                strDescription: `You already have spotlight with ID ${t.GetSpotlightIDs(n)} associated with this promotion plan.  Are you sure you want to create a new one?`,
                onCancel: a,
                onOK: () => D(!1),
                strOKButtonText: "Create New Spotlight Anyways",
              })
            : s.createElement(
                _.uH,
                {
                  strTitle: "Create New Spotlight?",
                  strDescription:
                    "Create and link a spotlight from date range and featured item from the existing plan? Any additional customization can be done in the spotlight editor directly.",
                  onCancel: a,
                  className: y.CreationDialogCtn,
                  bOKDisabled:
                    0 == o.trim().length ||
                    0 == f.trim().length ||
                    0 == C.trim().length ||
                    (!t.BHasAssociatedSaleEvent() && !S) ||
                    T.bLoading,
                  bAllowFullSize: !0,
                  onOK: () => {
                    T.fnSetLoading(!0);
                    const e = I(
                      o,
                      m,
                      t.GetStartDate(),
                      t.GetEndDate(),
                      f,
                      f,
                      S,
                    );
                    P(e)
                      .then((e) => {
                        e
                          ? (t.SetSpotlightID(e, n),
                            T.fnSetStrSuccess(
                              "Create Spotlight Successful. Remember to Save the Promotion Plan.",
                            ))
                          : T.fnSetStrError(
                              "Create Spotlight failed. Check console output",
                            );
                      })
                      .catch((e) => {
                        const t =
                          "spotlight Creation Failed: " +
                          (0, E.l)(e).strErrorMsg +
                          ". ";
                        console.log("spotlight create failed", (0, E.l)(e), e),
                          T.fnSetStrError(t);
                      });
                  },
                },
                s.createElement("br", null),
                s.createElement("br", null),
                s.createElement(u.II, {
                  value: o,
                  onChange: (e) => c(e.currentTarget.value),
                  label: "Internal Name",
                }),
                s.createElement(u.ry, {
                  label: "Type",
                  rgOptions: g,
                  selectedOption: m,
                  onChange: (e) => h(e.data),
                }),
                s.createElement(k, { selected: f, fnSetSelected: b }),
                s.createElement(
                  "div",
                  { className: y.LargeSelectorCtn },
                  s.createElement(A, { selected: C, fnSetSelected: w }),
                ),
              );
      }
      function k(e) {
        const { selected: t, fnSetSelected: a } = e,
          n = (0, s.useMemo)(
            () =>
              [
                "#spotlight_weekend_deal",
                "#spotlight_midweek_madness",
                "#spotlight_weeklong_sale",
                "#spotlight_weeklong_header1",
              ].map((e) => ({ value: e, label: (0, v.Xx)(e) })),
            [],
          );
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(u.__, null, "Spotlight Title:"),
          s.createElement(o.ZP, {
            options: n,
            value: n.find((e) => e.value === t),
            onChange: (e) => a(e.value),
            isSearchable: !0,
          }),
        );
      }
      function A(e) {
        const { selected: t, fnSetSelected: a } = e,
          n = (0, r.X)(),
          i = (0, s.useMemo)(
            () =>
              Object.keys(n || [])
                .filter((e) => "string" == typeof n[e] && "language" != e)
                .map((e) => ({ label: `${n[e]} (#${e})`, value: `#${e}` })),
            [n],
          );
        return n
          ? s.createElement(
              s.Fragment,
              null,
              s.createElement(u.__, null, "Spotlight Body:"),
              s.createElement(o.ZP, {
                options: i,
                value: i.find((e) => e.value === t),
                onChange: (e) => a(e.value),
                isSearchable: !0,
              }),
            )
          : s.createElement(g.V, {
              string: "Loading Marketing Tokens",
              position: "center",
              size: "medium",
            });
      }
      function w(e) {
        const { oEditablePlan: t, closeModal: a, index: n } = e,
          [i, r] = (0, s.useState)(null),
          d = (0, l.Og)();
        (0, s.useEffect)(() => {
          if (d) {
            const e = ["application", "bundle", "package"],
              t = d.filter(
                (t) => t.association && e.includes(t.association_type),
              );
            c.Z.Get().QueueMultipleStoreItemRequests(
              t.map((e) => (0, m.u$)(e.association)),
              t.map((e) => (0, m.Uc)(e.association_type)),
              {},
            );
          }
        }, [d]);
        const p = (0, s.useMemo)(
          () => d.map((e) => ({ label: e.name, value: e.id, spotlight: e })),
          [d],
        );
        return s.createElement(
          _.uH,
          {
            strTitle: "Select an Existing Spotlight",
            strDescription:
              "This only surfaces active or upcoming spotlight. This doesn't have access to archived spotlights.",
            onCancel: a,
            closeModal: a,
            onOK: () => {
              t.SetSpotlightID(i, n);
            },
            bOKDisabled: Boolean(!i),
          },
          s.createElement(u.__, null, "Choose Spotlight:"),
          s.createElement(o.ZP, {
            options: p,
            value: p.find((e) => e.value === i),
            onChange: (e) => r(e?.value || null),
            isSearchable: !0,
            isMulti: !1,
            isClearable: !0,
            filterOption: (e, t) => {
              if (!Boolean(t)) return !0;
              const a = t.toLowerCase(),
                n = e.data.spotlight,
                i = c.Z.Get().GetStoreItem(
                  (0, m.u$)(n.association),
                  (0, m.Uc)(n.association_type),
                );
              return (
                e.label.toLowerCase().search(a) >= 0 ||
                n.creator.toLowerCase().search(a) >= 0 ||
                i?.GetName().toLowerCase().search(a) >= 0
              );
            },
          }),
        );
      }
    },
    67206: (e, t, a) => {
      "use strict";
      a.d(t, { s: () => ie });
      var n = a(80751),
        i = a.n(n),
        r = a(3675),
        l = a(27605),
        s = a(37485),
        o = a.n(s),
        c = a(47427),
        m = a(35427),
        d = a(58670),
        u = a(85556),
        p = a(62210),
        _ = a(16649),
        h = a(16997),
        g = a(45492),
        E = a(20417),
        S = a(37563);
      const v = "new_event_gid";
      class D {
        m_mapOriginalJSON = new Map();
        m_mapPrivateData = new Map();
        m_mapPrivateDataCallback = new Map();
        m_inflightRequests = new Map();
        m_gidDirty = null;
        m_clanAccountIDDirty = null;
        GetPrivateData(e, t) {
          const a = this.HandleNewEventGID(t);
          return this.m_mapPrivateData.get(a) || { jsonData: {} };
        }
        GetPrivateDataCopy(e, t) {
          const a = this.HandleNewEventGID(t);
          return JSON.parse(JSON.stringify(this.GetPrivateData(e, a)));
        }
        GetPrivateDataChangeCallback(e, t) {
          const a = this.HandleNewEventGID(t);
          return (
            this.m_mapPrivateDataCallback.has(a) ||
              this.m_mapPrivateDataCallback.set(a, new g.pB()),
            this.m_mapPrivateDataCallback.get(a)
          );
        }
        UpdatePrivateData(e, t, a, n) {
          const i = this.HandleNewEventGID(t),
            r = this.GetPrivateData(e, i);
          if (!this.BIsEqual(r.jsonData, a)) {
            if (null != this.m_gidDirty && i != this.m_gidDirty) {
              const e = {
                ...this.m_mapPrivateData.get(this.m_gidDirty),
                jsonData: this.m_mapOriginalJSON.get(this.m_gidDirty),
              };
              this.m_mapPrivateData.set(this.m_gidDirty, e),
                this.DispatchUpdate(this.m_clanAccountIDDirty, this.m_gidDirty);
            }
            (r.jsonData = a),
              n && ((this.m_gidDirty = i), (this.m_clanAccountIDDirty = e)),
              this.DispatchUpdate(e, i);
          }
        }
        BIsEqual(e, t) {
          return JSON.stringify(e) === JSON.stringify(t);
        }
        BLoaded(e, t) {
          const a = this.HandleNewEventGID(t);
          return this.m_mapPrivateData.has(a);
        }
        BIsDirty() {
          return Boolean(this.m_gidDirty);
        }
        BIsEventDirty(e) {
          const t = this.HandleNewEventGID(e);
          return this.m_gidDirty == t;
        }
        DiscardChanges() {
          if (this.m_gidDirty) {
            const e = this.m_clanAccountIDDirty,
              t = this.m_gidDirty;
            (this.m_clanAccountIDDirty = null), (this.m_gidDirty = null);
            const a = this.m_mapPrivateData.get(t),
              n = this.m_mapOriginalJSON.get(t);
            this.m_mapPrivateData.set(t, { ...a, jsonData: n }),
              this.DispatchUpdate(e, t);
          }
        }
        DispatchUpdate(e, t) {
          const a = this.HandleNewEventGID(t),
            n = this.GetPrivateDataCopy(e, a);
          this.GetPrivateDataChangeCallback(e, a).Dispatch(n);
        }
        HandleNewEventGID(e) {
          return null == e || null == e || "" == e ? v : e;
        }
        async LoadPrivateData(e, t) {
          const a = this.HandleNewEventGID(t);
          return (
            this.m_inflightRequests.has(a) ||
              this.m_inflightRequests.set(
                a,
                this.InternalLoadPrivateData(e, a),
              ),
            await this.m_inflightRequests.get(a)
          );
        }
        async InternalLoadPrivateData(e, t) {
          const a = this.HandleNewEventGID(t);
          if (this.m_mapPrivateData.has(a)) return this.m_mapPrivateData.get(a);
          if (a == v) {
            const e = { jsonData: {} };
            return (
              this.m_mapPrivateData.set(a, e),
              this.m_mapOriginalJSON.set(a, {}),
              e
            );
          }
          try {
            const t =
                S.De.COMMUNITY_BASE_URL + "partnereventdata/ajaxgetprivatedata",
              n = { clanAccountID: e.GetAccountID(), gidClanEvent: a },
              r = await i().get(t, { params: n, withCredentials: !0 });
            if (1 === r?.data?.success && r.data.data) {
              const e = {
                rtLastUpdateTime: r.data.data.time_written,
                nAccountLastUpdate: r.data.data.account_writer,
                jsonData: r.data.data.json_data,
              };
              return (
                this.m_mapPrivateData.set(a, e),
                this.m_mapOriginalJSON.set(a, e.jsonData),
                e
              );
            }
            if (42 === r?.data?.success) {
              const e = { jsonData: {} };
              return (
                this.m_mapPrivateData.set(a, e),
                this.m_mapOriginalJSON.set(a, {}),
                e
              );
            }
            {
              const e = (0, _.l)(r);
              console.error(
                "CPartnerEventPrivateDataStore.InternalLoadPrivateData: response with " +
                  e.strErrorMsg,
                e,
              );
            }
          } catch (e) {
            const t = (0, _.l)(e);
            console.error(
              "CPartnerEventPrivateDataStore.InternalLoadPrivateData: failed with " +
                t.strErrorMsg,
              t,
            );
          }
          return null;
        }
        async SaveDirtyChanges(e) {
          if (
            ((0, p.X)(
              null != e && null != e && "" != e,
              "CPartnerEventPrivateDataStore: GID not supplied.",
            ),
            this.BIsDirty())
          ) {
            const t = m.K.InitFromClanID(this.m_clanAccountIDDirty),
              a = this.m_mapPrivateData.get(this.m_gidDirty).jsonData;
            if (this.m_gidDirty == e || this.m_gidDirty == v)
              return (
                this.m_gidDirty == v &&
                  (this.m_mapOriginalJSON.set(e, {}),
                  this.m_mapPrivateData.set(e, this.m_mapPrivateData.get(v)),
                  this.m_mapPrivateData.delete(v)),
                this.SavePrivateData(t, e, a)
              );
            console.warn(
              "CPartnerEventPrivateDataStore: Dirty not matching input GID:" +
                e +
                " " +
                this.m_gidDirty,
            );
          } else
            console.warn(
              "CPartnerEventPrivateDataStore: Attempting to save private when not dirty: " +
                e +
                " " +
                this.m_gidDirty,
            );
          return 1;
        }
        async SavePrivateData(e, t, a) {
          if (
            ((0, p.X)(
              null != t && null != t && "" != t,
              "CPartnerEventPrivateDataStore: GID not supplied.",
            ),
            !this.m_mapPrivateData.has(t))
          )
            return 42;
          if (this.BIsEqual(a, this.m_mapOriginalJSON.get(t))) return 1;
          try {
            const n = new FormData();
            n.append("sessionid", S.De.SESSIONID),
              n.append("clanAccountID", "" + e.GetAccountID()),
              n.append("gidClanEvent", "" + t),
              n.append("jsonData", JSON.stringify(a));
            const r =
                S.De.COMMUNITY_BASE_URL + "partnereventdata/ajaxsetprivatedata",
              l = await i().post(r, n, { withCredentials: !0 });
            if (1 === l?.data?.success) {
              const n = {
                nAccountLastUpdate: S.L7.accountid,
                rtLastUpdateTime: Math.floor(Date.now() / 1e3),
                jsonData: a,
              };
              return (
                this.m_mapPrivateData.set(t, n),
                this.m_mapOriginalJSON.set(t, a),
                (this.m_clanAccountIDDirty = null),
                (this.m_gidDirty = null),
                this.DispatchUpdate(e.GetAccountID(), t),
                l.data.success
              );
            }
            {
              const e = (0, _.l)(l);
              console.error(
                "CPartnerEventPrivateDataStore.SavePrivateData: response with " +
                  e.strErrorMsg,
                e,
              );
            }
          } catch (e) {
            const t = (0, _.l)(e);
            console.error(
              "CPartnerEventPrivateDataStore.SavePrivateData: failed with " +
                t.strErrorMsg,
              t,
            );
          }
          return 2;
        }
        static s_Singleton;
        static Get() {
          return (
            D.s_Singleton ||
              ((D.s_Singleton = new D()),
              D.s_Singleton.Init(),
              "dev" == S.De.WEB_UNIVERSE &&
                (window.g_PartnerEventPrivateDataStore = D.s_Singleton)),
            D.s_Singleton
          );
        }
        Init() {
          let e = (0, S.kQ)("privatedata", "application_config");
          this.ValidateStoreDefault(e) &&
            e.forEach((e) => {
              const t = {
                rtLastUpdateTime: e.data.time_written,
                nAccountLastUpdate: e.data.account_writer,
                jsonData: e.data.json_data || {},
              };
              this.m_mapOriginalJSON.set(e.gid, t.jsonData),
                this.m_mapPrivateData.set(e.gid, t);
            });
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].gid &&
            "number" == typeof t[0].clanAccountID &&
            "object" == typeof t[0].data
          );
        }
      }
      function f(e, t) {
        const a = D.Get(),
          [n, i] = (0, c.useState)(a.GetPrivateDataCopy(e, t));
        (0, E.Qg)(a.GetPrivateDataChangeCallback(e, t), i);
        const [r, l] = (0, c.useState)(!a.BLoaded(e, t));
        (0, c.useEffect)(() => {
          if (!a.BLoaded(e, t)) {
            const n = m.K.InitFromClanID(e);
            a.LoadPrivateData(n, t).then((e) => {
              i(e), l(!1);
            });
          }
        }, [e, t, a]);
        return {
          oPrivateData: n,
          fnSetPrivateJson: (0, c.useCallback)(
            (n) => {
              a.UpdatePrivateData(e, t, n, !0);
            },
            [e, t, a],
          ),
          bLoading: r,
          fnSetPrivateJsonNoDirty: (0, c.useCallback)(
            (n) => {
              a.UpdatePrivateData(e, t, n, !1);
            },
            [e, t, a],
          ),
        };
      }
      function y(e, t) {
        const { oPrivateData: a, fnSetPrivateJson: n, bLoading: i } = f(e, t),
          r = D.Get(),
          l = (0, c.useCallback)(
            (a) =>
              n({
                ...r.GetPrivateData(e, t).jsonData,
                bPublishRequiresValveApproval: a,
              }),
            [e, n, t, r],
          ),
          s = (0, c.useCallback)(
            (a) =>
              n({
                ...r.GetPrivateData(e, t).jsonData,
                nAccountApproved: a,
                rtApprovalTime: Math.floor(Date.now() / 1e3),
              }),
            [e, n, t, r],
          ),
          o = (0, c.useCallback)(
            (a) =>
              n({
                ...r.GetPrivateData(e, t).jsonData,
                bRequiresHostDisclaimer: a,
              }),
            [e, n, t, r],
          ),
          m = (0, c.useCallback)(
            (a) =>
              n({ ...r.GetPrivateData(e, t).jsonData, strExternalSaleType: a }),
            [e, n, t, r],
          );
        return {
          bLoading: i,
          bPublishRequiresValveApproval: Boolean(
            a?.jsonData?.bPublishRequiresValveApproval,
          ),
          bHasSettingForRequiresValveApproval:
            void 0 !== a?.jsonData?.bPublishRequiresValveApproval,
          bRequiresHostDisclaimer: Boolean(
            a?.jsonData?.bRequiresHostDisclaimer,
          ),
          nAccountApproved: a?.jsonData?.nAccountApproved,
          rtApprovalTime: a?.jsonData?.rtApprovalTime,
          fnSetStorePublishingRequiresValveApproval: l,
          fnSetAccountApproved: s,
          fnSetStoreRequireHostDisclaimer: o,
          strExternalSaleEventType:
            a?.jsonData?.strExternalSaleType || "publisher",
          fnSetExternalSaleEventType: m,
        };
      }
      (0, u.gn)([h.a], D.prototype, "BIsEventDirty", null),
        (0, u.gn)([h.a], D.prototype, "DiscardChanges", null),
        (0, u.gn)([h.a], D.prototype, "SaveDirtyChanges", null);
      var b = a(1485),
        I = a(10162),
        C = a(82493),
        k = a(91618),
        A = a(77151);
      a(80886);
      function w(e) {
        const { href: t, children: a, bAllowFocuseableAnchor: n, ...i } = e;
        return (0, S.h4)()
          ? c.createElement("div", { ...i }, a)
          : n
            ? c.createElement(C.IS, { href: t, ...i }, a)
            : c.createElement("a", { href: t, ...i }, a);
      }
      var P = a(13129),
        T = a(31846),
        N = a(24549),
        R = a(13499),
        G = a(71738);
      const x =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgJJREFUeNrsmz9LxDAYxpNyIhzICeIkiLM46KAf4EY9HBzcnDwXJ0cnFxddHdQP4ScQcXJxUvDP7qAOLg5Ot8TnpDhIkja5mL5t3hcechDS9Pmlb3mba6VSSqQcmUg8GAADYAAMgAHoQkr5K8QppGouvU9THZAbF+hvo3mDOjVfbOmbApsNMD/SPaDf5HuANQXQN4+fT4ax79CAqK9ZzSWvTYFWwYF2LH2rgHRP0T0W7rNs2maWg4yj2Uq5DtiAplIG0BcJhA1Al0thBsAAGEDToxVzMtQWL38LFBRTk6HHkAWQG+lEGMMpwAAYAANgAAyAATAABsAAGAADIPUw1POYs/ef5xkVAB5jb2KMSToFlFITaMaSBADzw32DK6idHIDc/CW0klwKlDB/bhtsUlEsUjEP3VrO8wySJp+1BlDWvG2hawvAxXzjALiatwEYpRBad4BwgYLmS2NkGs2ax9y70LKh7wTaw3yqLE3fK8Al5nTmoYfA8xy5+swquoSHK38NLQQ87DFWfZ98KUzJfHQA1MxHBUDRfEwAJM3/PG5bvhkK+THRKzRTpXnjC6GRAISMA5g/9EhB5x2hJY+Tu/MY8whti3Kv3Q5g/jnoLlXR6/KOlJWH+S7m+ohwEya3HxDNPMUNERLmqwJAxnwVAEiZjw2AnPmiOiCJ4D9HUwfwLcAAxHgyaE4johYAAAAASUVORK5CYII=";
      var L = a(80289);
      const B =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtNJREFUeNrsmk1rE0EYgHe19ZBIY2kj4qUQVGjxAz2J4gcVvfmBP8FI8eZF8OJNL4oFPYrGX1CK4lEMiChe/aCClNBeRGxLTTE5GDU+Y2bDJG5rL5lZ950XnsxkE5h9n8zszkw2bDabgeTYEAgPL8AL8AK8AC/AC/AC5EafegnDcM0vMVvMUOyA7bBNswVymgHYDOp7m/SxUNczRlvZdZ5XDX7oeh2+q9OAqq6rY99gRR9TfIXPmk8wS171f+QVhH9eYgRw/BhFEQ7q5MP/7MdVwmbhNZTI8fm6BPBe/XoP4XzKevs0XCDX6qoCdPIvYE9Kh/xbOBpJULl3XwQfpDh5FXt1ju1o9wDKQ7x/KeTif5icX3X3gKKgu18xbh4wLkjAeMcQIPLwRdgcaCssRD1gTOAkcMwcAgWBAgqmgBGBAkZMAfkeN1ZPoIC8KWCox409hePwJkEChmwKCPRi5ABMJOSO0yFg2EaLSPgF96nuhFt6aesqhk0BgzZbRsIKXKU6Co8dCRg0BWRdnAESKnCO6gl4Z7n5rCmg3+VgREKZYj9cUrMzS832mwJyrq9ISPgJ9/T1YRIaPW4y170YSkSozQq4QnU3POl1e4ndFUbCRzhD9RS8FyfAVvQl9cRYpu+iuA2nRQnQG7PX4LKNu1MkoOr6TkDiGykuwnULi7Mo57aAhuPk1RbVncDujnTDvAjWHCVegEdUnwX2t+NrpoBly4kPwE2qH+Cso463bA6BRUuJK+FqS/pG0NqUdBmLpoAlC8mrP1vvwr6E3HCWbAo46bCrrykgugb0egWWSeBca8EUMC9wFjxvCqgIFFAxBcwIFDDTFsCyU42HOUHJz+mcO5bDZUECynH7ASVBAkp/CVBPTFBMCUh+Sufayts/JGWE/uBI0HqkLG0xbSYf2wNi5u7yHpRcZSGT7kdlJYd/XN4L8AK8AC/AC/ACvACx8VuAAQDxke5GRJ5P8AAAAABJRU5ErkJggg==";
      var M = a(25006),
        O = a(46882),
        F = a(94930),
        U = a(20613),
        H = a(71741);
      function V(e) {
        const {
            creatorID: t,
            bShowTagline: a,
            bHideCreatorType: n,
            bSmallFormat: i,
            bHideFollowButton: r,
            bAddLinkToMemberList: l,
          } = e,
          s = (0, d.iG)(t.clan_account_id),
          [o] = (0, A.LA)();
        if (o || !s)
          return c.createElement(
            "div",
            { className: F.DevSummaryWidgetCtn },
            c.createElement(O.V, {
              string: (0, T.Xx)("#Loading"),
              size: "medium",
              position: "center",
            }),
          );
        const m = t.type,
          u =
            "developer" == t.type
              ? (0, T.Xx)("#CreatorHome_DevelopedBy")
              : "publisher" == t.type
                ? (0, T.Xx)("#CreatorHome_PublishedBy")
                : (0, T.Xx)("#CreatorHome_InFranchise"),
          p = s.GetCreatorHomeURL(m),
          _ = s
            .GetSocialList()
            .map((e) =>
              c.createElement(X, {
                social: e,
                key: "creator_" + s.GetClanAccountID() + "_" + e.external_type,
              }),
            ),
          h = s.GetNumFollowers();
        return c.createElement(
          I.SV,
          null,
          c.createElement(
            M.ZP,
            { feature: "salecreatorhome" },
            c.createElement(
              k.s,
              {
                className: (0, P.Z)(
                  F.DevSummaryCtn,
                  i ? F.SmallFormat : F.LargeFormat,
                ),
                "flow-children": "row",
              },
              !n && c.createElement("span", { className: F.Title }, u),
              c.createElement(
                "div",
                { className: F.DevSummaryWidgetCtn },
                c.createElement("div", {
                  className: F.DevSummaryBackground,
                  style: {
                    backgroundImage: `url(${s.GetAvatarURLFullSize()} )`,
                  },
                }),
                c.createElement(
                  "div",
                  {
                    className: (0, P.Z)(
                      F.DevSummaryContent,
                      H.FlexColumnContainer,
                      H.FlexContainSpaceBetween,
                    ),
                  },
                  c.createElement(
                    "div",
                    { className: H.FlexRowContainer },
                    c.createElement(
                      w,
                      {
                        href: (0, R.OL)(p),
                        className: F.AvatarLink,
                        bAllowFocuseableAnchor: !0,
                      },
                      c.createElement("img", {
                        className: (0, P.Z)(F.Avatar, "Avatar_Trgt"),
                        src: s.GetAvatarURLFullSize(),
                      }),
                    ),
                    c.createElement(
                      "div",
                      {
                        className: (0, P.Z)(
                          H.FlexColumnContainer,
                          F.CreatorDescCtn,
                        ),
                      },
                      c.createElement(
                        "div",
                        {
                          className: (0, P.Z)(
                            F.CreatorTitleCtn,
                            H.FlexColumnContainer,
                          ),
                        },
                        c.createElement(
                          w,
                          { href: (0, R.OL)(p), className: F.CreatorNameName },
                          s.GetName(),
                        ),
                        Boolean(a) &&
                          c.createElement(
                            "div",
                            {
                              className: (0, P.Z)(
                                H.FlexColumnContainer,
                                F.CreatorTagline,
                              ),
                            },
                            s.GetTagLine(),
                          ),
                      ),
                      c.createElement(
                        "div",
                        {
                          className: (0, P.Z)(
                            i ? H.FlexColumnContainer : H.FlexRowContainer,
                            F.SocialFollowersCtn,
                          ),
                        },
                        c.createElement(
                          "div",
                          { className: F.FollowBtnCtn },
                          Boolean(!r) &&
                            c.createElement(U.C4, {
                              clanAccountID: t.clan_account_id,
                              creatorID: t,
                            }),
                          c.createElement(
                            "div",
                            { className: F.Followers },
                            c.createElement("span", null, (0, N.AV)(h)),
                            c.createElement("br", null),
                            (0, T.Xx)("#CreatorHome_JustFollowers"),
                          ),
                        ),
                        Boolean(_.length > 0) &&
                          c.createElement(
                            "div",
                            {
                              className: (0, P.Z)(
                                F.SocialContainer,
                                H.FlexColumnContainer,
                              ),
                            },
                            _,
                          ),
                      ),
                    ),
                  ),
                  Boolean(l) &&
                    c.createElement(
                      "a",
                      {
                        href:
                          S.De.COMMUNITY_BASE_URL +
                          "gid/" +
                          s.GetClanSteamID().ConvertTo64BitString() +
                          "/members/",
                        target: "_blank",
                        className: F.MembersListLink,
                      },
                      (0, T.Xx)("#ClanMembershipList"),
                    ),
                ),
              ),
            ),
          ),
        );
      }
      function X(e) {
        const { social: t } = e;
        let a = "";
        switch (t.external_type) {
          case 3:
          case 7:
            a = G.Z;
            break;
          case 5:
            a = x;
            break;
          case 4:
            a = L.Z;
            break;
          case 6:
            a = B;
        }
        const n = (0, R.bk)(t.external_url);
        return c.createElement(
          C.IS,
          {
            href: n,
            target: S.De.IN_CLIENT ? void 0 : "_blank",
            "data-tooltip-text": t.external_user_name
              ? t.external_user_name
              : t.external_url,
            className: (0, P.Z)(F.SocialLink),
          },
          c.createElement("img", { className: (0, P.Z)(F.SocialImg), src: a }),
          c.createElement("div", null, (0, N.AV)(t.external_follows)),
        );
      }
      var j = a(92012),
        q = a(77178);
      a(90069), a(42855);
      var W = a(59728);
      a(27599), a(83743), a(51723), a(14609);
      function z(e) {
        const { clanSteamID: t, gidClanEvent: a } = e,
          { bLoading: n } = y(t.GetAccountID(), a);
        return n
          ? c.createElement(O.V, { string: (0, T.Xx)("#Loading") })
          : c.createElement(Z, { ...e });
      }
      function Z(e) {
        const { clanSteamID: t, gidClanEvent: a, fnOkCallbackList: n } = e,
          {
            bPublishRequiresValveApproval: i,
            fnSetStorePublishingRequiresValveApproval: r,
            bRequiresHostDisclaimer: l,
            fnSetStoreRequireHostDisclaimer: s,
            bHasSettingForRequiresValveApproval: o,
            strExternalSaleEventType: m,
            fnSetExternalSaleEventType: d,
          } = y(t.GetAccountID(), a),
          [u, p] = (0, c.useState)(!o || i),
          [_, h] = (0, c.useState)(l);
        return (
          (0, E.Qg)(n, () => {
            r(u), s(_);
          }),
          c.createElement(
            c.Fragment,
            null,
            c.createElement(b.ji, {
              checked: n ? u : !o || i,
              onChange: (e) => {
                p(e), n || r(e);
              },
              label:
                "Require Approval by Valve Admin in order to publish this sales events",
              tooltip:
                "They will see a warning indicating they cannot publish until Valve approves the page. Approval is done by Valve Admin in the same place.",
            }),
            c.createElement(b.ji, {
              checked: n ? _ : l,
              onChange: (e) => {
                h(e), n || s(e);
              },
              label: (0, T.Xx)("#SalePresented_By_Admin"),
              tooltip: (0, T.Xx)("#SalePresneted_By_Admin_ttip"),
            }),
            "Select event type so that we can show the right documentation to the partner:",
            c.createElement(b.ry, {
              rgOptions: [
                {
                  label: "Publisher/Developer Sale",
                  data: "publisher",
                  tooltip:
                    "A developer, publisher or franchise want to showcase their games on a sale page.",
                },
                {
                  label: "Showcase/Festival/Convention",
                  data: "showcase",
                  tooltip:
                    "festivals, convensions, showcases. Typically events with a physical presence, but not always",
                },
                {
                  label: "Regional Sale",
                  data: "region",
                  tooltip: "For Made in XYZ Location events",
                },
                {
                  label: "Themed Sale",
                  data: "theme",
                  tooltip:
                    "For events organized around a particular genre, theme, style",
                },
              ],
              strDropDownClassName: H.DropDownScroll,
              strDropDownMenuCtnClass: H.DropDownScroll,
              strDropDownItemClassName: H.DropDownScrollItem,
              selectedOption: m,
              onChange: (e) => d(e.data),
              contextMenuPositionOptions: { bDisablePopTop: !0 },
            }),
          )
        );
      }
      var K = a(95315),
        Q = a(22042),
        Y = a(7765),
        J = a(45284),
        $ = a(65534);
      const ee = (e) => {
          const {
              strLabel: t,
              strToolTip: a,
              fnSetCurator: n,
              bLimitToCreatorHome: r,
            } = e,
            l = (0, c.useRef)(null),
            s = (0, c.useRef)(null),
            o = (0, c.useRef)(0),
            m = (0, c.useRef)();
          (0, c.useEffect)(
            () => () => {
              window.clearTimeout(o.current),
                l.current && l.current("SearchForCurator: unmounting"),
                s.current && s.current.Hide();
            },
            [],
          );
          const u = (0, c.useCallback)(
            async (e) => {
              const t = e.target.value;
              t &&
                0 != t.trim().length &&
                (window.clearTimeout(o.current),
                l.current && l.current("SearchForCurator: new request"),
                (o.current = window.setTimeout(async () => {
                  const e = i().CancelToken.source();
                  l.current = e.cancel;
                  try {
                    const a = await d.bq.SearchCreatorHomeStore(t, r, e);
                    if (e.token.reason) return;
                    s.current = (0, K.yV)(
                      c.createElement(te, { list: a, fnSetCurator: n }),
                      m.current.element,
                      {
                        bOverlapHorizontal: !0,
                        bMatchWidth: !0,
                        bFitToWindow: !0,
                        bDisablePopTop: !0,
                        bNoFocusWhenShown: !0,
                        bSkipFocusWhenReady: !0,
                      },
                    );
                  } catch (t) {
                    if (e.token.reason) return;
                    const a = (0, _.l)(t);
                    console.log(
                      "SearchForCurator.SearchCreatorHomeStore error " +
                        a.strErrorMsg,
                      a,
                    );
                  }
                }, 300)));
            },
            [n, r],
          );
          return c.createElement(
            I.SV,
            null,
            c.createElement(b.II, {
              type: "text",
              label: t,
              onChange: u,
              onBlur: (e) =>
                setTimeout(() => s.current && s.current.Hide(), 200),
              ref: m,
              tooltip: a,
            }),
          );
        },
        te = (e) => {
          const { list: t, fnSetCurator: a } = e;
          return c.createElement(
            Q.xV,
            { className: $.SearchResults },
            t.map((e) =>
              c.createElement(
                Q.Zo,
                {
                  key: "curatorresult" + e.GetClanAccountID(),
                  onSelected: () => a(e),
                },
                c.createElement(
                  "div",
                  { style: { display: "flex", alignItems: "center" } },
                  c.createElement(
                    "div",
                    { className: Y.GameImageContainer },
                    c.createElement("img", {
                      src: e.GetAvatarURLFullSize(),
                      className: Y.AvatarImage,
                    }),
                  ),
                  (0, J.HA)(e.GetName()),
                ),
              ),
            ),
          );
        };
      var ae = a(62613),
        ne = a(35479);
      const ie = (0, l.Pi)((e) => {
          const t = () => e.closeModal && e.closeModal(),
            a = (0, c.useRef)(null),
            [n, l] = (0, c.useState)(null),
            [s, u] = (0, c.useState)(""),
            [p, _] = (0, c.useState)("");
          let h = new Date();
          h.setHours(10), h.setMinutes(0), h.setSeconds(0);
          const [g, E] = (0, c.useState)(Math.floor(h.getTime() / 1e3));
          let v = new Date();
          v.setDate(v.getDate() + 1),
            v.setHours(10),
            v.setMinutes(0),
            v.setSeconds(0);
          const [f, y] = (0, c.useState)(Math.floor(v.getTime() / 1e3)),
            [C, k] = (0, c.useState)(null),
            [A, w] = (0, c.useState)(null),
            [P, N, R] = (function () {
              const e = D.Get();
              return [e.BIsEventDirty, e.DiscardChanges, e.SaveDirtyChanges];
            })();
          "dev" == S.De.WEB_UNIVERSE &&
            (0, c.useEffect)(() => {
              const e = window.location.search;
              if (e && e.length > 0) {
                const t = new URLSearchParams("?" == e[0] ? e.substring(1) : e);
                if (
                  (t.has("eventName") && u(t.get("eventName")),
                  t.has("vanity") && _(t.get("vanity")),
                  t.has("startTime"))
                ) {
                  const e = t.get("startTime");
                  let a = /^\d+$/.test(e)
                    ? o().unix(Number.parseInt(e))
                    : o()(e);
                  E(Math.floor(a.unix()));
                }
                if (t.has("endTime")) {
                  const e = t.get("endTime");
                  let a = /^\d+$/.test(e)
                    ? o().unix(Number.parseInt(e))
                    : o()(e);
                  y(Math.floor(a.unix()));
                }
                if (t.has("clan_account_id")) {
                  const e = i().CancelToken.source();
                  a.current = e.cancel;
                  const n = m.K.InitFromClanID(
                    Number.parseInt(t.get("clan_account_id")),
                  );
                  (async () => {
                    let t = await d.bq.LoadCreatorHome(n, e);
                    e.token.reason || l(t);
                  })();
                }
              }
              return () => {
                a.current &&
                  a.current("NewPartnerEventSalePageDialog: unmounting");
              };
            }, []);
          let G = new Array(),
            x = !1;
          if (null == n)
            G.push(
              c.createElement(
                "div",
                { className: ne.MinWidthCtn },
                c.createElement(
                  "div",
                  { className: ne.StepOneTitle },
                  (0, T.Xx)("#Sale_New_ChooseCreator"),
                ),
                c.createElement(ee, {
                  key: "SearchForCurator",
                  strLabel: (0, T.Xx)("#Sale_New_ChooseCreator_Label"),
                  strToolTip: (0, T.Xx)("#Sale_New_ChooseCreator_ttip"),
                  bLimitToCreatorHome: !0,
                  fnSetCurator: l,
                }),
              ),
            );
          else if (A)
            G.push(c.createElement("div", { key: "failedtocreatevent" }, A));
          else if (C) {
            let e =
              S.De.COMMUNITY_BASE_URL +
              "gid/" +
              C.clanSteamID.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              C.GID +
              "?tab=sale";
            G.push(
              c.createElement(
                "div",
                { key: "eventcreatedsuccess" },
                c.createElement("p", null, (0, T.Xx)("#Sale_New_Success")),
                c.createElement(
                  "a",
                  { href: e, target: S.De.IN_CLIENT ? void 0 : "_blank" },
                  e,
                ),
              ),
            );
          } else if (
            (G.push(
              c.createElement(re, {
                key: "DisplayCreator_" + n.GetClanAccountID(),
                creatorHome: n,
                fnSetCreatorHome: l,
              }),
            ),
            n.BIsPartnerEventEditorEnabled())
          ) {
            G.push(
              c.createElement(
                "div",
                { key: "Verified" },
                (0, T.Xx)("#Sale_New_Verify_PE_Enabled"),
                c.createElement(
                  "div",
                  { className: ne.VerifyCtn },
                  c.createElement(
                    "div",
                    { className: ne.VerifyCheck },
                    c.createElement(ae.JrY, null),
                  ),
                ),
              ),
            );
            const e = n.GetClanSteamID();
            G.push(
              c.createElement(se, {
                key: "saleinput",
                strEventName: s,
                fnSetEventName: u,
                strVanity: p,
                fnSetVanity: _,
                rtStartTime: g,
                fnSetRTStartTime: E,
                rtEndTime: f,
                fnSetRTEndTime: y,
                clanSteamID: e,
              }),
            ),
              (x =
                s.trim().length > 0 && p.trim().length > 0 && g > 0 && f > g);
          } else
            G.push(
              c.createElement(le, {
                key: "EnablePartnerInfo_" + n.GetClanAccountID(),
                creatorHome: n,
              }),
            );
          return c.createElement(
            I.SV,
            null,
            c.createElement(
              q.e1,
              { onEscKeypress: t },
              c.createElement(
                b.VY,
                null,
                c.createElement(b.h4, null, (0, T.Xx)("#Sale_New_Title")),
                c.createElement(b.uT, null, c.createElement(b.Ac, null, G)),
                c.createElement(
                  b.$_,
                  null,
                  c.createElement(b.o9, {
                    onCancel: t,
                    bOKDisabled: !x,
                    strOKText: (0, T.Xx)("#Sale_New_CreateEvent"),
                    strCancelText: C ? (0, T.Xx)("#Button_OK") : void 0,
                    onOK: async () => {
                      a.current && a.current();
                      const t = i().CancelToken.source();
                      a.current = t.cancel;
                      let l = await r.U.Get().CreateSalePartnerEvent(
                        n.GetClanAccountID(),
                        s,
                        p,
                        g,
                        f,
                        t,
                      );
                      if (!t.token.reason)
                        if (l)
                          if (
                            (e.fnSetSalePageInfo &&
                              e.fnSetSalePageInfo(
                                l.GID,
                                l.clanSteamID.GetAccountID(),
                              ),
                            P(null))
                          ) {
                            1 == (await R(l.GID))
                              ? k(l)
                              : w("Failed to Save Private Event Data");
                          } else k(l);
                        else w((0, T.Xx)("#Sale_New_Errors"));
                    },
                  }),
                ),
              ),
            ),
          );
        }),
        re = (e) => {
          const { creatorHome: t, fnSetCreatorHome: a } = e;
          return c.createElement(
            "div",
            { className: ne.MinWidthCtn },
            c.createElement("div", null, (0, T.Xx)("#Sale_New_ChosenCreator")),
            c.createElement(
              W.HP,
              { toolTipContent: (0, T.Xx)("#Sale_New_ClearCreator_ttip") },
              c.createElement(
                "div",
                {
                  className: "DialogInput_ClearAction",
                  onClick: () => a(null),
                },
                c.createElement(ae.pVO, null),
              ),
            ),
            c.createElement(V, {
              creatorID: t.GetCreatorHomeIdentifier(),
              bHideCreatorType: !0,
            }),
          );
        },
        le = (e) => {
          const { creatorHome: t } = e,
            [a, n] = (0, c.useState)(!1);
          return c.createElement(
            I.SV,
            null,
            c.createElement(
              "div",
              null,
              (0, T.Xx)("#Sale_New_Verify_PE_Enabled"),
              c.createElement(
                "div",
                { className: ne.FailCheck },
                c.createElement(ae.pVO, null),
              ),
              c.createElement(
                "div",
                null,
                (0, T.kQ)(
                  "#Sale_New_Enable_PartnerEventBeta",
                  c.createElement(
                    "a",
                    {
                      href: "https://confluence.valve.org/display/STEAM/Creator+home+and+Partner+Events+Beta",
                      target: "_blank",
                    },
                    (0, T.Xx)("#EventEmail_Button_ClickForMoreDetails"),
                  ),
                ),
              ),
              c.createElement(
                b.zx,
                {
                  onClick: async () => {
                    n(!0), await t.EnablePartnerEventEditorFlag(), n(!1);
                  },
                },
                (0, T.Xx)("#Button_Accept"),
              ),
              a && c.createElement(O.V, { size: "small" }),
            ),
          );
        },
        se = (e) => {
          const {
            clanSteamID: t,
            strEventName: a,
            fnSetEventName: n,
            strVanity: i,
            fnSetVanity: r,
            rtStartTime: l,
            fnSetRTStartTime: s,
            rtEndTime: o,
            fnSetRTEndTime: m,
          } = e;
          return c.createElement(
            "div",
            null,
            c.createElement("div", null, (0, T.Xx)("#Sale_New_SetupEvent")),
            c.createElement(
              "div",
              { className: ne.BasicInfoCtn },
              c.createElement(b.II, {
                type: "text",
                label: (0, T.Xx)("#Sale_New_EnterEventName"),
                tooltip: (0, T.Xx)("#Sale_New_EnterEventName_ttip"),
                value: a,
                onChange: (e) => n(e.target.value),
              }),
              c.createElement(b.II, {
                type: "text",
                label: (0, T.Xx)("#Sale_New_EnterVanity"),
                tooltip: (0, T.Xx)("#Sale_New_EnterVanity_ttip"),
                value: i,
                onChange: (e) => r(e.target.value),
              }),
              c.createElement(
                "div",
                { className: ne.DateCtn },
                c.createElement(j.A, {
                  strDescription: (0, T.Xx)("#Sale_New_Start"),
                  nEarliestTime: 0,
                  fnGetTimeToUpdate: () => l,
                  fnSetTimeToUpdate: s,
                  fnIsValidDateTime: () => !0,
                  bShowTimeZone: !0,
                }),
                c.createElement(j.A, {
                  strDescription: (0, T.Xx)("#Sale_New_End"),
                  nEarliestTime: 0,
                  fnGetTimeToUpdate: () => o,
                  fnSetTimeToUpdate: m,
                  fnIsValidDateTime: () => !0,
                  bShowTimeZone: !0,
                }),
              ),
              c.createElement(z, { clanSteamID: t, gidClanEvent: null }),
            ),
          );
        };
    },
    20391: (e, t, a) => {
      "use strict";
      a.d(t, { K: () => k, n: () => A });
      var n = a(67675),
        i = a(7492),
        r = a(47427),
        l = a(47316),
        s = a.n(l),
        o = a(8285),
        c = a(42855),
        m = a(44174),
        d = a(1485),
        u = a(10162),
        p = a(90069),
        _ = a(23665),
        h = a(46882),
        g = a(50423),
        E = a(31846),
        S = a(37563),
        v = a(3675),
        D = a(67206),
        f = a(77681),
        y = a.n(f),
        b = a(98255),
        I = a.n(b),
        C = a(97207);
      function k(e) {
        const { publisherid: t } = (0, o.UO)(),
          [a, n] = r.useState(!0);
        if (
          (r.useEffect(() => {
            a &&
              (m.j1.Init(),
              v.U.Get(),
              Promise.all([c.cb.InitGlobal()]).then(() => n(!1)));
          }, [a]),
          a)
        )
          return r.createElement(h.V, {
            string: (0, E.Xx)("#Loading"),
            position: "center",
          });
        const l = (0, S.kQ)("partner_name", "application_config");
        return r.createElement(
          "div",
          { className: s()(I().DashboardCtn, y().AdminPageCtn) },
          r.createElement(
            "div",
            { className: y().PageTitle },
            (0, E.Xx)("#Sale_Partner_Dashboard") +
              (l?.length > 0 ? ": " + l : ""),
          ),
          r.createElement("hr", null),
          r.createElement(
            "div",
            { className: I().DashboardDesc },
            (0, E.Xx)("#Sale_Partner_Dashboard_Desc"),
          ),
          r.createElement("br", null),
          r.createElement("br", null),
          r.createElement(
            i.X.Provider,
            { value: Number.parseInt(t) },
            r.createElement(w, null),
          ),
        );
      }
      function A(e) {
        const [t, a] = r.useState(!0);
        r.useEffect(() => {
          t &&
            (m.j1.Init(),
            n.G.Get(),
            v.U.Get(),
            Promise.all([c.cb.InitGlobal()]).then(() => a(!1)));
        }, [t]);
        return t
          ? r.createElement(h.V, {
              string: (0, E.Xx)("#Loading"),
              position: "center",
            })
          : r.createElement(
              "div",
              { className: I().DashboardCtn },
              r.createElement("h1", null, (0, E.Xx)("#Sale_DashBoard")),
              r.createElement("hr", null),
              r.createElement(
                "p",
                null,
                (0, E.kQ)(
                  "#Sale_DashBoard_Desc",
                  r.createElement(
                    "a",
                    {
                      href: "https://confluence.valve.org/display/SteamBiz/New+Sales+Page+Feature+-+How+to+invite+partners",
                      target: "_blank",
                    },
                    (0, E.Xx)("#Sale_DashBoard_Desc_Link"),
                  ),
                  r.createElement(
                    "a",
                    {
                      href: "https://partner.steamgames.com/doc/resources/Sales_Feature_Beta",
                      target: "_blank",
                    },
                    (0, E.Xx)("#Sale_DashBoard_Desc_Link2"),
                  ),
                ),
              ),
              r.createElement("hr", null),
              r.createElement(
                d.KM,
                {
                  className: I().CreateNewSaleButton,
                  onClick: (e) => {
                    (0, p.AM)(r.createElement(D.s, null), (0, g.RA)(e));
                  },
                },
                (0, E.Xx)("#Sale_New_Title"),
              ),
              r.createElement(
                "p",
                null,
                r.createElement(
                  "a",
                  {
                    href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=938",
                  },
                  "The best way is for the Partner to create a ticket. Keywords will help them with creating sale page and their sale related questions.",
                ),
              ),
              r.createElement(
                i.X.Provider,
                { value: null },
                r.createElement(w, null),
              ),
            );
      }
      function w(e) {
        const t = (0, i.Z)(),
          a = (e) => window.sessionStorage.setItem("saletab", `?tab=${e.key}`),
          n = [
            {
              name: (0, E.Xx)(
                "#Sale_Summary_Active",
                v.U.Get().GetActiveEvents().length.toLocaleString(),
              ),
              key: "active",
              contents: r.createElement(
                u.SV,
                null,
                r.createElement(
                  "div",
                  { className: I().DashboardSectionActive },
                  r.createElement(C.l, {
                    saleDescList: v.U.Get().GetActiveEvents(),
                    bShowAppBrowse: !0,
                    bShowFeaturing: !0,
                  }),
                ),
              ),
              onClick: a,
            },
          ];
        return (
          (v.U.Get().GetSeasonFeaturedEvents().length > 0 ||
            v.U.Get().GetSeasonFeaturedHiddenEvents()?.length > 0) &&
            n.push({
              name: (0, E.Xx)(
                "#Sale_Summary_SeasonalSaleFeatured",
                v.U.Get().GetSeasonFeaturedEvents().length.toLocaleString(),
              ),
              key: "seasonal",
              contents: r.createElement(
                u.SV,
                null,
                r.createElement(
                  "div",
                  { className: I().DashboardSectionFeatured },
                  r.createElement(C.l, {
                    saleDescList: v.U.Get().GetSeasonFeaturedEvents(),
                    descriptionToken: "#Sale_Summary_SeasonalSaleFeatured_Desc",
                    bShowAppBrowse: !0,
                    hiddenSaleDescList:
                      v.U.Get().GetSeasonFeaturedHiddenEvents(),
                  }),
                ),
              ),
              onClick: a,
            }),
          n.push({
            name: (0, E.Xx)(
              "#Sale_Summary_Upcoming",
              v.U.Get().GetUpcomingEvents().length.toLocaleString(),
            ),
            key: "upcoming",
            contents: r.createElement(
              u.SV,
              null,
              r.createElement(C.l, {
                saleDescList: v.U.Get().GetUpcomingEvents(),
                bShowFeaturing: !0,
                bShowAppBrowse: Boolean(t),
                bShowRankView: !0,
              }),
            ),
            onClick: a,
          }),
          n.push({
            name: (0, E.Xx)(
              "#Sale_Summary_Draft",
              v.U.Get().GetDraftEvents().length.toLocaleString(),
            ),
            tooltip: (0, E.Xx)("#Sale_Summary_Draft_Ttip"),
            key: "draft",
            contents: r.createElement(
              u.SV,
              null,
              r.createElement(C.l, {
                saleDescList: v.U.Get().GetDraftEvents(),
                bShowFeaturing: !0,
                bShowAppBrowse: Boolean(t),
                bShowRankView: !0,
              }),
            ),
            onClick: a,
          }),
          v.U.Get().GetOldDraftEvents().length > 0 &&
            n.push({
              name: (0, E.Xx)(
                "#Sale_Summary_OldDraft",
                v.U.Get().GetOldDraftEvents().length.toLocaleString(),
              ),
              tooltip: (0, E.Xx)("#Sale_Summary_OldDraft_Ttip"),
              key: "olddraft",
              contents: r.createElement(
                u.SV,
                null,
                r.createElement(C.l, {
                  saleDescList: v.U.Get().GetOldDraftEvents(),
                  bShowAppBrowse: Boolean(t),
                }),
              ),
              onClick: a,
            }),
          n.push({
            name: (0, E.Xx)(
              "#Sale_Summary_Archived",
              v.U.Get().GetArchiveEvents().length.toLocaleString(),
            ),
            key: "archived",
            contents: r.createElement(
              u.SV,
              null,
              r.createElement(C.l, {
                saleDescList: v.U.Get().GetArchiveEvents(),
                bShowAppBrowse: Boolean(t),
              }),
            ),
            onClick: a,
          }),
          r.createElement(_.n, { tabs: n })
        );
      }
    },
    97207: (e, t, a) => {
      "use strict";
      a.d(t, { l: () => Lt, P: () => Mt });
      var n = a(7492),
        i = a(12999),
        r = a(47427),
        l = a(6683),
        s = a(77936),
        o = a(35427),
        c = a(62698),
        m = a(93243),
        d = a(42855),
        u = a(85556),
        p = a(80751),
        _ = a.n(p),
        h = a(37563),
        g = a(54842),
        E = a(16649);
      class S {
        constructor(e) {
          (0, g.rC)(this),
            (this.m_stats = {
              event_gid: "0",
              library_overview_shown: 0,
              library_overview_read: 0,
              app_details_spotlight_shown: 0,
              app_details_spotlight_read: 0,
              app_details_activity_shown: 0,
              app_details_activity_read: 0,
              store_app_page_shown: 0,
              store_app_page_read: 0,
              store_front_page_shown: 0,
              store_front_page_read: 0,
              community_hub_shown: 0,
              community_hub_read: 0,
              news_hub_shown: 0,
              news_hub_read: 0,
              event_scroller_read: 0,
              ...e,
            }),
            (this.m_stats.total_showm =
              this.m_stats.library_overview_shown +
              this.m_stats.app_details_activity_shown +
              this.m_stats.app_details_spotlight_shown +
              this.m_stats.store_app_page_shown +
              this.m_stats.store_front_page_shown +
              this.m_stats.community_hub_shown +
              this.m_stats.news_hub_shown),
            (this.m_stats.total_read =
              this.m_stats.library_overview_read +
              this.m_stats.app_details_activity_read +
              this.m_stats.app_details_spotlight_read +
              this.m_stats.store_app_page_read +
              this.m_stats.store_front_page_read +
              this.m_stats.community_hub_read +
              this.m_stats.news_hub_read +
              this.m_stats.event_scroller_read),
            (this.m_lastUpdateTime = e ? Math.floor(Date.now() / 1e3) : 0);
        }
        reset(e) {
          (this.m_stats.library_overview_shown = e.library_overview_shown),
            (this.m_stats.library_overview_read = e.library_overview_read),
            (this.m_stats.app_details_spotlight_shown =
              e.app_details_spotlight_shown),
            (this.m_stats.app_details_spotlight_read =
              e.app_details_spotlight_read),
            (this.m_stats.app_details_activity_shown =
              e.app_details_activity_shown),
            (this.m_stats.app_details_activity_read =
              e.app_details_activity_read),
            (this.m_stats.store_app_page_shown = e.store_app_page_shown),
            (this.m_stats.store_app_page_read = e.store_app_page_read),
            (this.m_stats.store_front_page_shown = e.store_front_page_shown),
            (this.m_stats.store_front_page_read = e.store_front_page_read),
            (this.m_stats.community_hub_shown = e.community_hub_shown),
            (this.m_stats.community_hub_read = e.community_hub_read),
            (this.m_stats.news_hub_shown = e.news_hub_shown),
            (this.m_stats.news_hub_read = e.news_hub_read),
            (this.m_stats.event_scroller_read = e.event_scroller_read),
            (this.m_stats.total_showm =
              e.library_overview_shown +
              e.app_details_activity_shown +
              e.app_details_spotlight_shown +
              e.store_app_page_shown +
              e.store_front_page_shown +
              e.community_hub_shown +
              e.news_hub_shown),
            (this.m_stats.total_read =
              e.library_overview_read +
              e.app_details_activity_read +
              e.app_details_spotlight_read +
              e.store_app_page_read +
              e.store_front_page_read +
              e.community_hub_read +
              e.news_hub_read +
              e.event_scroller_read),
            (this.m_lastUpdateTime = Date.now() / 1e3);
        }
        m_stats = void 0;
        m_lastUpdateTime = void 0;
      }
      (0, u.gn)([g.LO], S.prototype, "m_stats", void 0),
        (0, u.gn)([g.LO], S.prototype, "m_lastUpdateTime", void 0);
      class v {
        m_mapPerEventStats = new Map();
        m_mapSummaryStats = new Map();
        m_bLoadedFromConfig = !1;
        constructor() {
          (0, g.rC)(this);
        }
        LazyInit() {
          if (!this.m_bLoadedFromConfig) {
            let e = (0, h.kQ)("trackingdatasummary", "application_config");
            this.ValidateStoreDefault(e) &&
              this.m_mapSummaryStats.set(e.clan_account_id, new S(e));
            let t = (0, h.kQ)("trackingdataevents", "application_config");
            this.ValidateStoreDefaultList(t) &&
              t.forEach((e) => {
                let t = o.K.InitFromClanID(e.clan_account_id),
                  a = this.GetKey(t, e.event_gid);
                this.m_mapPerEventStats.set(a, new S(e));
              }),
              (this.m_bLoadedFromConfig = !0);
          }
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !(!t || "object" != typeof t || !t.clan_account_id) &&
            "number" == typeof t.clan_account_id &&
            t.clan_account_id > 0
          );
        }
        ValidateStoreDefaultList(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].clan_account_id &&
            t[0].clan_account_id > 0
          );
        }
        GetStatsFor(e, t) {
          this.LazyInit();
          let a = this.GetKey(e, t);
          return (
            this.m_mapPerEventStats.has(a) ||
              this.m_mapPerEventStats.set(a, new S(null)),
            this.m_mapPerEventStats.get(a)
          );
        }
        GetTotalStats(e) {
          return (
            this.LazyInit(),
            this.m_mapSummaryStats.has(e.GetAccountID()) ||
              this.m_mapSummaryStats.set(e.GetAccountID(), new S(null)),
            this.m_mapSummaryStats.get(e.GetAccountID())
          );
        }
        GetKey(e, t) {
          return e.GetAccountID() + "_" + t;
        }
        async LoadStatsForEvents(e, t, a) {
          this.LazyInit();
          let n = Date.now() / 1e3,
            i = t.filter((t) => {
              let a = this.GetKey(e, t),
                i = this.m_mapPerEventStats.get(a);
              return !i || null == i.m_stats || i.m_lastUpdateTime < n - 3600;
            });
          if (!i || 0 == i.length) return !0;
          let r = (0, h.Kc)() + "actions/ajaxgetpartnereventsreport",
            l = {
              sessionid: h.De.SESSIONID,
              clan_account_id: e.GetAccountID(),
              gidlist: i.join(","),
            };
          try {
            let t = await _().get(r, {
              params: l,
              withCredentials: !0,
              cancelToken: a?.token,
            });
            return (
              (0, g.z)(() => {
                this.m_mapSummaryStats.set(
                  e.GetAccountID(),
                  new S(t.data.summary),
                ),
                  t.data.events_detail.forEach((t) => {
                    let a = this.GetKey(e, t.event_gid);
                    if (this.m_mapPerEventStats.has(a)) {
                      this.m_mapPerEventStats.get(a).reset(t);
                    } else this.m_mapPerEventStats.set(a, new S(t));
                  });
              }),
              !0
            );
          } catch (e) {
            let t = (0, E.l)(e);
            console.error("CPartnerEventReportingStore " + t.strErrorMsg, t);
          }
          return !1;
        }
        BHasEventStats(e, t) {
          let a = o.K.InitFromClanID(e),
            n = this.GetKey(a, t),
            i = this.m_mapPerEventStats.get(n);
          return Boolean(i && i.m_stats);
        }
      }
      (0, u.gn)([g.LO], v.prototype, "m_mapPerEventStats", void 0),
        (0, u.gn)([g.LO], v.prototype, "m_mapSummaryStats", void 0),
        (0, u.gn)([g.aD], v.prototype, "LazyInit", null);
      const D = new v();
      var f,
        y = a(44174),
        b = a(15690),
        I = a(80886),
        C = a(1485),
        k = a(10162),
        A = a(71741),
        w = a.n(A),
        P = a(98255),
        T = a.n(P),
        N = a(68542),
        R = a.n(N),
        G = a(27605),
        x = a(16610),
        L = a(82493),
        B = a(91618),
        M = a(51688),
        O = a(77151),
        F = a(62210),
        U = a(45492),
        H = a(20417);
      class V {
        m_setInteractions = new Set();
        m_nActiveTabID = -1;
        m_interactionCallback = new U.pB();
        m_bDebugMode = !0;
        GetNewInteractionCallback() {
          return this.m_interactionCallback;
        }
        AddInteraction(e, t) {
          const a = `${this.m_nActiveTabID}_${e}_${t}`,
            n = !this.m_setInteractions.has(a);
          this.m_setInteractions.add(a),
            n &&
              ("dev" == h.De.WEB_UNIVERSE &&
                this.m_bDebugMode &&
                console.log(
                  "CSaleInteractionStore new: " +
                    a +
                    " count: " +
                    this.m_setInteractions.size,
                ),
              this.m_interactionCallback.Dispatch(
                { tabid: this.m_nActiveTabID, sectionid: e, elementIndex: t },
                this.m_setInteractions,
              ));
        }
        SetActiveTab(e) {
          this.m_nActiveTabID = e;
        }
        static s_Singleton;
        static Get() {
          return (
            V.s_Singleton ||
              ((V.s_Singleton = new V()),
              V.s_Singleton.Init(),
              "dev" == h.De.WEB_UNIVERSE &&
                (window.g_SaleInteractionStore = V.s_Singleton)),
            V.s_Singleton
          );
        }
        constructor() {}
        Init() {}
      }
      !(function (e) {
        (e[(e.k_EDiscoveryAction_Invalid = 0)] = "k_EDiscoveryAction_Invalid"),
          (e[(e.k_EDiscoveryAction_OpenStorePage = 1)] =
            "k_EDiscoveryAction_OpenStorePage"),
          (e[(e.k_EDiscoveryAction_OpenDoor = 2)] =
            "k_EDiscoveryAction_OpenDoor");
      })(f || (f = {}));
      class X {
        m_mapMaterializedInsertion = new Map();
        m_mapInsertCallback = new Map();
        m_rgFutureInsertions = new Array();
        GetMatchingInsertion(e, t) {
          return this.m_mapMaterializedInsertion.get(this.GetKeyFromID(e, t));
        }
        GetChangeCallback(e, t) {
          const a = this.GetKey({ sectionID: e, tabID: t });
          return this.GetChangeCallbackByKey(a);
        }
        GetChangeCallbackByKey(e) {
          return (
            this.m_mapInsertCallback.has(e) ||
              this.m_mapInsertCallback.set(e, new U.pB()),
            this.m_mapInsertCallback.get(e)
          );
        }
        GetKey(e) {
          return e ? e.sectionID + "_" + (e.tabID || "-1") : null;
        }
        GetKeyFromID(e, t) {
          return e + "_" + (t || "-1");
        }
        ReplaceInsertion(e) {
          e.forEach((e) => {
            const t = this.GetKey(e);
            this.m_mapMaterializedInsertion.forEach((e) => {
              const a = this.GetKey(e);
              a && a != t && this.DispatchInsertion(e, !0);
            }),
              this.m_mapMaterializedInsertion.clear(),
              (this.m_rgFutureInsertions = Array()),
              this.AppendInsertion(e);
          });
        }
        AppendInsertion(e) {
          e?.sectionID
            ? (this.m_mapMaterializedInsertion.set(this.GetKey(e), e),
              this.DispatchInsertion(e))
            : this.m_rgFutureInsertions.push(e);
        }
        DispatchInsertion(e, t) {
          e.sectionID &&
            this.GetChangeCallback(e.sectionID, e.tabID).Dispatch(t ? null : e);
        }
        AppCapsuleFound(e) {
          this.m_rgFutureInsertions = this.m_rgFutureInsertions.filter(
            (t) => !(!t.sectionID && t.insertion_requirement && t.appid == e),
          );
        }
        GetAnyNonMaterializedInsertionRequest() {
          const e = this.m_rgFutureInsertions.length;
          return e > 0
            ? this.m_rgFutureInsertions[Math.floor(e * Math.random())]
            : null;
        }
        SaleInteractionCallback(e, t) {
          if (this.m_rgFutureInsertions.length > 0)
            for (let a = 0; a < this.m_rgFutureInsertions.length; ++a)
              if (this.AreWeAllowedToDeploy(this.m_rgFutureInsertions[a], t)) {
                const t = this.DeployCapsuleIfPossible(
                  e,
                  this.m_rgFutureInsertions[a],
                );
                t &&
                  ((0, F.X)(
                    Boolean(t.sectionID),
                    "Expected to have a materialized insertion at this poiunt: " +
                      t.sectionID,
                  ),
                  this.AppendInsertion(t));
              }
        }
        AreWeAllowedToDeploy(e, t) {
          if (
            !e.sectionID &&
            e.insertion_requirement &&
            t.size >= e.insertion_requirement.min_interactions
          ) {
            if (t.size >= e.insertion_requirement.max_interactions) return !0;
            const a =
              e.insertion_requirement.max_interactions -
              e.insertion_requirement.min_interactions;
            return 0 == Math.floor(a * Math.random());
          }
          return !1;
        }
        BIsInsertableSectionType(e) {
          if (e) {
            if ("contenthubsections" == e.section_type) return !0;
            if ("sale_item_browser" == e.section_type) return !0;
            if ("items" == e.section_type)
              return (
                !e.smart_section ||
                ("wishlist" != e.smart_section_type &&
                  "wishlist_onsale" != e.smart_section_type)
              );
          }
          return !1;
        }
        BHasExistingInsertion(e) {
          return Boolean(this.GetMatchingInsertion(e.sectionid, e.tabid));
        }
        DeployCapsuleIfPossible(e, t) {
          if (this.BHasExistingInsertion(e)) return null;
          if (h.Wj.ANNOUNCEMENT_GID) {
            const a = y.j1.GetClanEventFromAnnouncementGID(
                h.Wj.ANNOUNCEMENT_GID,
              ),
              n = a?.GetSaleSectionByID(e.sectionid);
            if (this.BIsInsertableSectionType(n)) {
              if (
                t.insertion_requirement.additional_adds > 0 &&
                t.insertion_requirement.delta_interactions > 0
              ) {
                const e = { ...t };
                (e.insertion_requirement = { ...t.insertion_requirement }),
                  (e.insertion_requirement.additional_adds -= 1),
                  (e.insertion_requirement.max_interactions +=
                    t.insertion_requirement.delta_interactions),
                  (e.insertion_requirement.min_interactions +=
                    t.insertion_requirement.delta_interactions),
                  this.AppendInsertion(e);
              }
              return (
                (t.sectionID = e.sectionid),
                (t.tabID = e.tabid),
                (t.insertionIndex = e.elementIndex),
                t
              );
            }
          }
          return null;
        }
        static s_Singleton;
        static Get() {
          return (
            X.s_Singleton ||
              ((X.s_Singleton = new X()),
              X.s_Singleton.Init(),
              "dev" == h.De.WEB_UNIVERSE &&
                (window.g_DynamicCapsuleInsertStore = X.s_Singleton)),
            X.s_Singleton
          );
        }
        constructor() {
          (0, g.rC)(this);
        }
        Init() {
          const e = (0, h.ip)("capsuleinsert", "application_config");
          X.ValidateData(e) &&
            (e.sectionID
              ? this.m_mapMaterializedInsertion.set(this.GetKey(e), e)
              : e.insertion_requirement
                ? (this.m_rgFutureInsertions.push(e),
                  e?.appid &&
                    b.Z.Get()
                      .QueueAppRequest(e.appid, {
                        include_assets: !0,
                        include_release: !0,
                        include_trailers: !0,
                      })
                      .then(() => {
                        const t = b.Z.Get().GetApp(e.appid);
                        !t ||
                          t.GetBestPurchaseOption()?.formatted_final_price
                            ?.length > 0 ||
                          t.ReplaceBestPurchaseOption({
                            packageid: 0,
                            bundleid: 0,
                            formatted_original_price: "CL.0R",
                            formatted_final_price: "TH.4X",
                            discount_pct: 50,
                          });
                      }))
                : "dev" == h.De.WEB_UNIVERSE &&
                  console.error(
                    "CDynamicCapsuleInsertStore: Payload not material and missing instructions.",
                    e,
                  ),
            "dev" == h.De.WEB_UNIVERSE &&
              console.log("CDynamicCapsuleInsertStore loaded ", e)),
            V.Get()
              .GetNewInteractionCallback()
              .Register(this.SaleInteractionCallback);
        }
        static ValidateData(e) {
          const t = e;
          return (
            t &&
            ("number" == typeof t.sectionID ||
              "object" == typeof t.insertion_requirement) &&
            "number" == typeof t.appid &&
            "number" == typeof t.action
          );
        }
      }
      function j(e, t) {
        return X.Get().GetChangeCallback(e, t);
      }
      (0, u.gn)([H.ak], X.prototype, "SaleInteractionCallback", null),
        (0, u.gn)([g.aD], X.prototype, "DeployCapsuleIfPossible", null);
      var q = a(68785),
        W = a(86437);
      const z = new q.sO("SalePage"),
        Z = 50;
      class K {
        m_mapResults = new Map();
        m_mapPromises = new Map();
        static s_singleton;
        constructor() {}
        static Get() {
          return (
            K.s_singleton ||
              ((K.s_singleton = new K()),
              "dev" === h.De.WEB_UNIVERSE &&
                (window.g_SaleItemBrowserStore = K.s_singleton)),
            K.s_singleton
          );
        }
        async GetItemsSoFar(e, t, a, n, i, r, l, s, o, c) {
          let m;
          if (r === e?.nNextSolrIndex) {
            const d = await this.GetItemsFiltered(t, a, n, i, r, l, s, o, c);
            (m = {
              ...d,
              rgItems: this.DedupeItems(e.rgItems.concat(d.rgItems)),
            }),
              z.Debug(
                `GetItemsSoFar (continuing) start ${r} count ${l} items ${m.rgItems.length} next ${m.nNextSolrIndex}`,
              );
          } else
            (m = await this.GetItemsFiltered(t, a, n, i, r, l, s, o, c)),
              z.Debug(
                `GetItemsSoFar (new) start ${r} count ${l} items ${m.rgItems.length} next ${m.nNextSolrIndex}`,
              );
          return m;
        }
        async GetItemsFiltered(e, t, a, n, i, r, l, s, o) {
          let c = {
              rgItems: [],
              nMatchCount: 0,
              bMoreAvailable: !1,
              nNextSolrIndex: 0,
            },
            m = i,
            d = r;
          const u = Math.floor(m / Z);
          for (let i = 0; i < 10; ++i) {
            let p = await this.GetItemsPaged(e, t, a, m, d, l, s, o);
            if (
              ((p.rgItems = await this.FilterItems(p.rgItems, n)),
              z.Debug(`iteration ${i} matches ${p.rgItems.length}`),
              (c = { ...p, rgItems: c.rgItems.concat(p.rgItems) }),
              !p.bMoreAvailable)
            )
              break;
            if (c.rgItems.length >= r) break;
            if (Math.floor((m + d - 1) / Z) - u + 1 > 2) break;
            (m = c.nNextSolrIndex), (d = r - c.rgItems.length);
          }
          return (
            z.Debug(
              `GetItemsFiltered start ${i} count ${r} items ${c.rgItems.length} next ${c.nNextSolrIndex}`,
            ),
            c
          );
        }
        async GetItemsPaged(e, t, a, n, i, r, l, s) {
          const o = Math.floor(n / Z),
            c = Math.floor((n + i - 1) / Z),
            m = [];
          for (let n = o; n <= c; ++n)
            m.push(this.GetItems(e, t, a, n * Z, Z, r, l, s));
          const d = await Promise.all(m);
          let u = { ...d[d.length - 1], rgItems: [] },
            p = [];
          for (const e of d) p = p.concat(e.rgItems);
          return (
            (u.rgItems = p.slice(n - o * Z, n + i - o * Z)),
            (u.bMoreAvailable =
              d[d.length - 1].bMoreAvailable || n + i - 1 - o * Z < p.length),
            (u.nNextSolrIndex = n + i),
            z.Debug(
              `GetItemsPaged start ${n} count ${i} items ${u.rgItems.length} next ${u.nNextSolrIndex}`,
            ),
            u
          );
        }
        async GetItems(e, t, a, n, i, r, l, s) {
          const o = this.GetItemBrowserQueryKey(t, a, n, i);
          return (
            this.m_mapResults.has(o) ||
              this.m_mapPromises.has(o) ||
              this.m_mapPromises.set(
                o,
                this.InternalGetItems(e, t, a, n, i, r, l, s),
              ),
            this.m_mapPromises.get(o)
          );
        }
        DedupeItems(e) {
          const t = [],
            a = new Set();
          for (const n of e) {
            const e = `${n.type}_${n.id}`;
            a.has(e) || (t.push(n), a.add(e));
          }
          return t;
        }
        async FilterItems(e, t) {
          return t(this.DedupeItems(e));
        }
        async InternalGetItems(e, t, a, n, i, r, l, s) {
          if (s) return s(e, t, a, n, i, r, l);
          const o = this.GetItemBrowserQueryKeyForConfig(t, a, n, i),
            c = this.GetItemBrowserQueryKey(t, a, n, i);
          z.Debug(c);
          const m = (0, h.kQ)(o, "application_config");
          if (m) {
            const e = [];
            for (const t of m.store_item_keys) {
              const a = t.split("_");
              e.push({ type: (0, W.TM)(a[0]), id: Number(a[1]) });
            }
            return (
              this.m_mapResults.set(c, {
                rgItems: e,
                faceting: m.faceting,
                multifaceting: m.multifaceting,
                nMatchCount: m.match_count,
                bMoreAvailable: m.possible_has_more,
                nNextSolrIndex: n + i,
                strRequest:
                  ("dev" === h.De.WEB_UNIVERSE && m.request) || void 0,
              }),
              this.m_mapResults.get(c)
            );
          }
          const d =
              h.De.STORE_BASE_URL +
              (r
                ? "saleaction/ajaxpreviewsaledynamicappquery"
                : "saleaction/ajaxgetsaledynamicappquery"),
            u = {
              cc: h.De.COUNTRY,
              l: h.De.LANGUAGE,
              clanAccountID: e?.clanSteamID.GetAccountID() || null,
              clanAnnouncementGID: e?.AnnouncementGID || null,
              flavor: t,
              strFacetFilter: a.facetFilter?.GetQuery(),
              start: n,
              count: i,
              tabuniqueid: a.nTabUniqueID,
              sectionuniqueid: a.nSectionUniqueID,
              return_capsules: !0,
              search: a.strSearch || void 0,
              origin: self.origin,
              strContentHubType: a.contentHub?.type,
              strContentHubCategory: a.contentHub?.category,
              nContentHubTagID: a.contentHub?.tagid,
              bContentHubDiscountedOnly: a.bContentHubDiscountedOnly,
              strTabFilter: a.strTabFilter,
              strSectionFilter: a.strSectionFilter,
              bPrioritizeDiscounts: a.bPrioritizeDiscounts,
              bRequestFacetCounts: a.bRequestFacetCounts,
              prune_list_optin_name:
                e?.jsondata.prune_list_optin_name || void 0,
              optin_tagid: e?.jsondata?.optin_tagid || void 0,
              optin_prune_tagid: e?.jsondata?.optin_prune_tagid || void 0,
              optin_only: e?.jsondata?.optin_only || void 0,
              controller_category: Number(a.eControllerCategory) || void 0,
            };
          let p = null;
          try {
            const e = await _().get(d, {
              params: u,
              withCredentials: r,
              cancelToken: l?.token,
            });
            if (
              200 === e?.status &&
              1 === e.data?.success &&
              e.data.store_item_keys
            ) {
              const t = [];
              for (const a of e.data.store_item_keys) {
                const e = a.split("_");
                t.push({ type: (0, W.TM)(e[0]), id: Number(e[1]) });
              }
              return (
                this.m_mapResults.set(c, {
                  rgItems: t,
                  faceting: e.data.faceting,
                  multifaceting: e.data.multifaceting,
                  nMatchCount: e.data.match_count,
                  bMoreAvailable: e.data.possible_has_more,
                  nNextSolrIndex: n + i,
                  strRequest:
                    ("dev" === h.De.WEB_UNIVERSE && e.data.request) || void 0,
                }),
                z.Debug(
                  `GetItems start ${n} count ${i} items ${t.length} next ${n + i}`,
                ),
                this.m_mapResults.get(c)
              );
            }
            this.m_mapPromises.delete(c), (p = (0, E.l)(e));
          } catch (e) {
            if (
              (this.m_mapPromises.delete(c), (p = (0, E.l)(e)), _().isCancel(e))
            )
              return (
                console.log(
                  "CSaleItemBrowserStore.InternalGetItems: " + p?.strErrorMsg,
                ),
                null
              );
          }
          return (
            console.error(
              "CSaleItemBrowserStore.InternalGetItems failed: " +
                p?.strErrorMsg,
              p,
            ),
            null
          );
        }
        GetItemBrowserQueryKeyForConfig(e, t, a, n) {
          return `browser_${e}_${a}_${n}_${t.nSectionUniqueID || "*"}_${t.nTabUniqueID || "*"}_${t.facetFilter?.GetURLParam() || "*"}_${t.strSearch || "*"}_${t.eControllerCategory || "*"}`;
        }
        GetItemBrowserQueryKey(e, t, a, n) {
          let i = this.GetItemBrowserQueryKeyForConfig(e, t, a, n);
          return (
            t.contentHub &&
              ((i += "_" + t.contentHub.type),
              "category" === t.contentHub.type
                ? (i += "_" + t.contentHub.category)
                : "tags" === t.contentHub.type &&
                  (i += "_" + t.contentHub.tagid)),
            i
          );
        }
      }
      var Q = a(13129),
        Y = a(37082),
        J = a.n(Y);
      function $(e) {
        const {
          capsules_per_row: t,
          is_spotlights: a,
          is_item_browser: n,
          is_maincap: i,
          is_expanded_maincap: l,
        } = e;
        if (!t) return null;
        if (a)
          return r.createElement(
            "div",
            { className: J().GhostCtn },
            r.createElement(
              "div",
              { className: J().SpotlightsRow },
              r.createElement("div", { className: J().PlaceholderCap }),
              r.createElement("div", { className: J().PlaceholderCap }),
              r.createElement(
                "div",
                { className: J().DailyDealsColumn },
                r.createElement("div", { className: J().PlaceholderCap }),
                r.createElement("div", { className: J().PlaceholderCap }),
              ),
            ),
          );
        if (i)
          return r.createElement(
            "div",
            { className: J().GhostCtn },
            r.createElement(
              "div",
              {
                className: (0, Q.Z)({
                  [J().MainCapRow]: !0,
                  [J().MainCapRowExpanded]: l,
                }),
              },
              r.createElement("div", { className: J().PlaceholderCap }),
              r.createElement(
                "div",
                { className: (0, Q.Z)(J().DetailsPlaceholder) },
                r.createElement("div", {
                  className: (0, Q.Z)(J().PlaceholderTitle, J().PlaceholderCap),
                }),
                r.createElement("div", {
                  className: (0, Q.Z)(
                    J().PlaceholderSubtitle,
                    J().PlaceholderCap,
                  ),
                }),
                r.createElement("div", {
                  className: (0, Q.Z)(
                    J().PlaceholderRelease,
                    J().PlaceholderCap,
                  ),
                }),
                r.createElement("div", {
                  className: (0, Q.Z)(
                    J().PlaceholderReviews,
                    J().PlaceholderCap,
                  ),
                }),
                r.createElement("div", {
                  className: (0, Q.Z)(J().PlaceholderTags, J().PlaceholderCap),
                }),
              ),
            ),
          );
        if (n) {
          const e = [];
          for (let a = 0; a < t[0]; a++)
            e.push(
              r.createElement(
                "div",
                {
                  key: "item_browse_ghost_" + a,
                  className: J().ItemBrowserCapsule,
                },
                r.createElement("div", { className: J().PlaceholderCap }),
              ),
            );
          return r.createElement("div", { className: J().GhostCtn }, e);
        }
        return 1 == t?.length
          ? 1 == t[0]
            ? r.createElement(
                "div",
                { className: J().GhostCtn },
                r.createElement(
                  "div",
                  { className: J().CapsuleRowSuperCapsule },
                  r.createElement("div", { className: J().PlaceholderCap }),
                ),
              )
            : 4 == t[0]
              ? r.createElement(
                  "div",
                  { className: J().GhostCtn },
                  r.createElement(
                    "div",
                    { className: J().CapsuleRow4 },
                    r.createElement("div", { className: J().PlaceholderCap }),
                    r.createElement("div", { className: J().PlaceholderCap }),
                    r.createElement("div", { className: J().PlaceholderCap }),
                    r.createElement("div", { className: J().PlaceholderCap }),
                  ),
                )
              : r.createElement(
                  "div",
                  { className: J().GhostCtn },
                  r.createElement(
                    "div",
                    { className: J().CapsuleRow3 },
                    r.createElement("div", { className: J().PlaceholderCap }),
                    r.createElement("div", { className: J().PlaceholderCap }),
                    r.createElement("div", { className: J().PlaceholderCap }),
                  ),
                )
          : 2 == t?.length
            ? 3 == t[0] && 3 == t[1]
              ? r.createElement(
                  "div",
                  { className: J().GhostCtn },
                  r.createElement(
                    "div",
                    { className: J().CapsuleRow23 },
                    r.createElement(
                      "div",
                      { className: (0, Q.Z)(J().CapRow, J().Caps3) },
                      r.createElement("div", { className: J().PlaceholderCap }),
                      r.createElement("div", { className: J().PlaceholderCap }),
                      r.createElement("div", { className: J().PlaceholderCap }),
                    ),
                    r.createElement(
                      "div",
                      { className: (0, Q.Z)(J().CapRow, J().Caps3) },
                      r.createElement("div", { className: J().PlaceholderCap }),
                      r.createElement("div", { className: J().PlaceholderCap }),
                      r.createElement("div", { className: J().PlaceholderCap }),
                    ),
                  ),
                )
              : r.createElement(
                  "div",
                  { className: J().GhostCtn },
                  r.createElement(
                    "div",
                    { className: J().CapsuleRow23 },
                    r.createElement(
                      "div",
                      { className: (0, Q.Z)(J().CapRow, J().Caps2) },
                      r.createElement("div", { className: J().PlaceholderCap }),
                      r.createElement("div", { className: J().PlaceholderCap }),
                    ),
                    r.createElement(
                      "div",
                      { className: (0, Q.Z)(J().CapRow, J().Caps3) },
                      r.createElement("div", { className: J().PlaceholderCap }),
                      r.createElement("div", { className: J().PlaceholderCap }),
                      r.createElement("div", { className: J().PlaceholderCap }),
                    ),
                  ),
                )
            : r.createElement(
                "div",
                { className: J().GhostCtn },
                r.createElement(
                  "div",
                  { className: J().CapsuleRow234 },
                  r.createElement(
                    "div",
                    { className: (0, Q.Z)(J().CapRow, J().Caps2) },
                    r.createElement("div", { className: J().PlaceholderCap }),
                    r.createElement("div", { className: J().PlaceholderCap }),
                  ),
                  r.createElement(
                    "div",
                    { className: (0, Q.Z)(J().CapRow, J().Caps3) },
                    r.createElement("div", { className: J().PlaceholderCap }),
                    r.createElement("div", { className: J().PlaceholderCap }),
                    r.createElement("div", { className: J().PlaceholderCap }),
                  ),
                  r.createElement(
                    "div",
                    { className: (0, Q.Z)(J().CapRow, J().Caps4) },
                    r.createElement("div", { className: J().PlaceholderCap }),
                    r.createElement("div", { className: J().PlaceholderCap }),
                    r.createElement("div", { className: J().PlaceholderCap }),
                    r.createElement("div", { className: J().PlaceholderCap }),
                  ),
                ),
              );
      }
      var ee = a(92936),
        te = a(62613),
        ae = a(59728),
        ne = a(31846),
        ie = a(25006),
        re = a(83059),
        le = a(30750);
      function se(e) {
        const t = { ...e };
        if (!t) return t;
        if (
          t.type === M.PJ.k_EStoreFilterClauseTypeOr ||
          t.type === M.PJ.k_EStoreFilterClauseTypeAnd
        ) {
          if (!t.rgSubexpressions || 0 === t.rgSubexpressions.length)
            return null;
          if (
            ((t.rgSubexpressions = t.rgSubexpressions.map((e) => se(e))),
            !t.bNegated && 1 === t.rgSubexpressions.length)
          )
            return t.rgSubexpressions[0];
          if (!t.bNegated) {
            let e = [];
            for (const a of t.rgSubexpressions)
              a.bNegated || a.type !== t.type
                ? e.push(a)
                : (e = e.concat(a.rgSubexpressions));
            t.rgSubexpressions = e;
          }
        }
        return t;
      }
      var oe = a(65255),
        ce = a(82756);
      class me {
        m_priceStopInfo = [];
        GetPriceStops() {
          return this.m_priceStopInfo;
        }
        async LoadPriceStops() {
          if (this.m_priceStopInfo?.length > 0) return;
          const e = oe.De.STORE_BASE_URL + "saleaction/ajaxgetpricestops";
          let t;
          try {
            if (((t = await _().get(e)), 1 !== t?.data?.success))
              return (
                console.error(
                  "CPriceStopStore: Unable to load price stop data: ",
                  t?.data?.success,
                ),
                null
              );
          } catch (e) {
            return (
              console.error(
                "CPriceStopStore: Unable to load price stop data: ",
                t?.data?.success,
              ),
              null
            );
          }
          (this.m_priceStopInfo = t.data.rgPriceStops),
            (this.m_priceStopInfo[0].price = 0);
        }
        static s_Singleton;
        static Get() {
          return (
            me.s_Singleton ||
              ((me.s_Singleton = new me()),
              me.s_Singleton.Init(),
              "dev" == oe.De.WEB_UNIVERSE &&
                (window.g_SaleInteractionStore = me.s_Singleton)),
            me.s_Singleton
          );
        }
        constructor() {
          (0, g.rC)(this);
        }
        Init() {
          const e = (0, ce.ip)("pricestops", "application_config");
          e &&
            ((this.m_priceStopInfo = e), (this.m_priceStopInfo[0].price = 0));
        }
      }
      function de() {
        return me.Get().GetPriceStops();
      }
      (0, u.gn)([g.LO], me.prototype, "m_priceStopInfo", void 0),
        (0, u.gn)([g.aD], me.prototype, "LoadPriceStops", null);
      var ue = a(74031),
        pe = a(50369),
        _e = a(11578),
        he = a(87676);
      function ge(e, t) {
        const a = new Set(e);
        return (
          t.forEach((e) => {
            a.add(e);
          }),
          a
        );
      }
      function Ee(e, t) {
        const a = new Set();
        return (
          e.forEach((e) => {
            t.has(e) && a.add(e);
          }),
          a
        );
      }
      function Se(e, t) {
        const a = new Set(e);
        return (
          t.forEach((t) => {
            e.delete(t);
          }),
          a
        );
      }
      function ve(e, t) {
        const a = e.values();
        let n = a.next();
        for (; !n.done; ) {
          if (!t.has(n.value)) return !1;
          n = a.next();
        }
        return !0;
      }
      class De {
        m_facets = [];
        m_potentiallyVisibleCapsules;
        m_filteredCapsules;
        m_nFilteredCapsuleCount;
        m_facetCounts;
        m_mapMultiFacetCounts;
        m_bServerSideFiltering = !1;
        m_bUnboundedScope = !1;
        m_nMinMatches = 1;
        m_facetSortKey = M.bS.k_ESortFacetsByMatchCount;
        m_language = -1;
        m_bHasHideIgnoredItemsFacetValue;
        m_matchingReferencedCapsules;
        m_strQuery;
        m_strURLParam;
        m_nSelectedOptions;
        m_userPreferences;
        m_prunedFacets;
        m_sortedFacets = [];
        m_setCapsulesRemovedByOptInFilters;
        m_setCapsulesRemovedByPriceFilters;
        m_setCapsulesRemovedByUserPreferenceFilters;
        m_nSolrMatchCount;
        constructor(e, t, a, n, i, r) {
          (0, g.rC)(this),
            (this.m_nMinMatches = t),
            (this.m_facetSortKey = a),
            (this.m_language = n),
            (this.m_bServerSideFiltering = i),
            (this.m_bUnboundedScope = r),
            (async function () {
              me.Get().LoadPriceStops();
            })(),
            (this.m_facets = []),
            e.forEach((e) => {
              const t = [];
              e.facetValues.forEach((e) => {
                t.push({
                  facetValue: e,
                  bEnabled: Boolean(e.bEnabledByDefault),
                  nPriceStopIndex: Boolean(de().length > 0)
                    ? de().length - 1
                    : void 0,
                  matchingCapsulesSet: Boolean(e.matchingCapsules)
                    ? new Set(e.matchingCapsules.map(Re))
                    : void 0,
                  bDeactivated: !1,
                  nMatchingFilteredCapsules: null,
                  bHiddenBySearch: !1,
                });
              }),
                this.m_facets.push({
                  facet: e,
                  facetValues: t,
                  matchingCapsules: null,
                  matchingCapsulesInOtherFacets: null,
                });
            }),
            this.PruneFacets(),
            this.UpdateFilter(),
            (this.m_bHasHideIgnoredItemsFacetValue = e.some((e) =>
              e.facetValues.some(
                (e) =>
                  e.type === M.HL.k_EUserPreference &&
                  e.userPreference === M.oL.k_EHideIgnoredItems,
              ),
            )),
            this.SortFacets();
        }
        BHasHideIgnoredItemsFacetValue() {
          return this.m_bHasHideIgnoredItemsFacetValue;
        }
        GetFacets() {
          return this.m_facets;
        }
        GetQuery() {
          return this.m_strQuery;
        }
        GetURLParam() {
          return this.m_strURLParam;
        }
        GetSelectedOptionsCount() {
          return this.m_nSelectedOptions;
        }
        BIsUserPreferenceEnabled(e) {
          return this.m_userPreferences.has(e);
        }
        BIsAnyUserPreferenceEnabled() {
          return this.m_userPreferences.size > 0;
        }
        GetSortedFacets() {
          return this.m_sortedFacets;
        }
        GetMatchCount() {
          return this.m_nFilteredCapsuleCount;
        }
        Reset() {
          this.m_facets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.bEnabled = Boolean(e.facetValue.bEnabledByDefault);
            });
          }),
            this.UpdateFilter();
        }
        SetFromURLParam(e) {
          if (e === this.m_strURLParam) return;
          this.m_facets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.bEnabled = Boolean(e.facetValue.bEnabledByDefault);
            });
          });
          (e?.split(",") || []).forEach((e) => {
            const t = e.split(":"),
              a = Number(t[0]);
            t[1].split("|").forEach((e) => {
              if (e.includes("_")) {
                const t = e.split("_");
                (this.m_facets[a].facetValues[Number(t[0])].bEnabled = !0),
                  (this.m_facets[a].facetValues[Number(t[0])].nPriceStopIndex =
                    Number(t[1]));
              } else
                this.m_facets[a].facetValues[Number(e)].bEnabled =
                  !this.m_facets[a].facetValues[Number(e)].facetValue
                    .bEnabledByDefault;
            });
          }),
            this.UpdateFilter();
        }
        SetPotentiallyVisibleCapsules(e) {
          (this.m_potentiallyVisibleCapsules = new Set(e.map(Re))),
            this.PruneFacets();
        }
        SetFacetCounts(e) {
          if (((this.m_facetCounts = new Map()), e))
            for (const t of Object.keys(e))
              this.m_facetCounts.set(Number(t), Number(e[t]));
        }
        SetMultiFacetCounts(e) {
          if (((this.m_mapMultiFacetCounts = new Map()), e))
            for (const t of Object.keys(e)) {
              const a = e[t],
                n = new Map();
              if ("discounted" === t) {
                let e = 0;
                for (const t of Object.keys(a)) e += Number(a[t]);
                n.set("true", e);
              } else for (const e of Object.keys(a)) n.set(e, Number(a[e]));
              this.m_mapMultiFacetCounts.set(t, n);
            }
        }
        FilterCapsules(e) {
          return null == this.m_matchingReferencedCapsules
            ? e
            : e.filter((e) => this.m_matchingReferencedCapsules.has(Re(e)));
        }
        SetSolrMatchCount(e) {
          this.m_nSolrMatchCount = e;
        }
        SetFacetValueSearchString(e, t, a) {
          for (const e of this.m_facets)
            for (const t of e.facetValues) t.bHiddenBySearch = !1;
          if (!e) return;
          const n = e.toLocaleLowerCase().trim();
          if (0 !== n.length)
            for (const e of this.m_facets)
              for (const i of e.facetValues) {
                (
                  Ce(i.facetValue, t, a)?.toLocaleLowerCase().trim() || ""
                ).includes(n) || (i.bHiddenBySearch = !0);
              }
        }
        UpdateFilter() {
          this.UpdateMatchingReferencedCapsules(),
            this.UpdateQuery(),
            this.UpdateURLParam(),
            this.UpdateSelectedOptionsCount(),
            this.UpdateUserPreferenceFilters();
        }
        UpdateMatchingReferencedCapsules() {
          this.m_facets.forEach((e) => {
            (e.matchingCapsules = null),
              e.facetValues.some((e) => null == e.matchingCapsulesSet) ||
                e.facetValues.forEach((t) => {
                  if (t.bEnabled)
                    if (null == e.matchingCapsules)
                      e.matchingCapsules = t.matchingCapsulesSet;
                    else {
                      const a = e.facet.logical_and ? Ee : ge;
                      e.matchingCapsules = a(
                        e.matchingCapsules,
                        t.matchingCapsulesSet,
                      );
                    }
                });
          }),
            this.m_facets.forEach((e) => {
              const t = this.m_facets.filter(
                (t) => t !== e && null != t.matchingCapsules,
              );
              (e.matchingCapsulesInOtherFacets = null),
                t.forEach((t) => {
                  null == e.matchingCapsulesInOtherFacets
                    ? (e.matchingCapsulesInOtherFacets = t.matchingCapsules)
                    : (e.matchingCapsulesInOtherFacets = Ee(
                        e.matchingCapsulesInOtherFacets,
                        t.matchingCapsules,
                      ));
                });
            }),
            (this.m_matchingReferencedCapsules = null),
            this.m_facets.forEach((e) => {
              null != e.matchingCapsules &&
                (null == this.m_matchingReferencedCapsules
                  ? (this.m_matchingReferencedCapsules = e.matchingCapsules)
                  : (this.m_matchingReferencedCapsules = Ee(
                      this.m_matchingReferencedCapsules,
                      e.matchingCapsules,
                    )));
            });
        }
        static BFacetHasEnabledOptTags(e) {
          for (const t of e.facetValues)
            if (t.bEnabled && null != t.facetValue.filter)
              for (const e of t.facetValue.filter.clauses)
                for (const t of e.or_tags) if (t.startsWith("[Opt]")) return !0;
          return !1;
        }
        UpdateQuery() {
          let e = {
            type: M.PJ.k_EStoreFilterClauseTypeAnd,
            rgSubexpressions: new Array(),
          };
          this.m_facets.forEach((t) => {
            if (De.BFacetHasEnabledOptTags(t)) return;
            const a = {
              type: t.facet.logical_and
                ? M.PJ.k_EStoreFilterClauseTypeAnd
                : M.PJ.k_EStoreFilterClauseTypeOr,
              rgSubexpressions: new Array(),
            };
            t.facetValues.forEach((e) => {
              if (e.bEnabled && Boolean(e.facetValue.rgStoreTagFilter)) {
                if (e.facetValue.type === M.HL.k_EUserPreference) return;
                const t = { ...e.facetValue.rgStoreTagFilter };
                e.facetValue.type === M.HL.k_EPrice &&
                  (t.value = Boolean(
                    de().length > 0 &&
                      null != e.nPriceStopIndex &&
                      -1 != e.nPriceStopIndex,
                  )
                    ? de()[e.nPriceStopIndex].price
                    : void 0),
                  (e.facetValue.type !== M.HL.k_EPrice ||
                    Boolean(de().length > 0)) &&
                    a.rgSubexpressions.push(t);
              }
            }),
              0 !== a.rgSubexpressions.length && e.rgSubexpressions.push(a);
          }),
            (e = se(e)),
            (this.m_strQuery = Boolean(e) ? JSON.stringify(e) : "");
        }
        UpdateURLParam() {
          const e = [];
          this.m_facets.forEach((t, a) => {
            const n = [];
            if (
              (t.facetValues.forEach((e, t) => {
                e.bEnabled !== Boolean(e.facetValue.bEnabledByDefault) &&
                  (e.facetValue.type === M.HL.k_EPrice
                    ? n.push(t + "_" + e.nPriceStopIndex)
                    : n.push(t.toString()));
              }),
              0 === n.length)
            )
              return;
            const i = n.join("|");
            e.push(a + ":" + i);
          }),
            (this.m_strURLParam = e.length > 0 ? e.join(",") : void 0);
        }
        UpdateSelectedOptionsCount() {
          (this.m_nSelectedOptions = 0),
            this.m_facets.forEach((e) => {
              e.facetValues.forEach((e) => {
                e.bEnabled !== Boolean(e.facetValue.bEnabledByDefault) &&
                  ++this.m_nSelectedOptions;
              });
            });
        }
        UpdateUserPreferenceFilters() {
          (this.m_userPreferences = new Set()),
            this.m_facets.forEach((e) => {
              e.facetValues.forEach((e) => {
                e.facetValue.type === M.HL.k_EUserPreference &&
                  e.bEnabled &&
                  this.m_userPreferences.add(e.facetValue.userPreference);
              });
            });
        }
        PruneFacets() {
          (this.m_prunedFacets = []),
            this.m_bServerSideFiltering || !this.m_potentiallyVisibleCapsules
              ? this.m_facets.forEach((e) => {
                  e.facetValues.forEach((e) => {
                    (e.bDeactivated = !1), (e.nMatchingFilteredCapsules = null);
                  }),
                    this.m_prunedFacets.push({
                      facet: e,
                      facetValues: e.facetValues,
                    });
                })
              : this.m_facets.forEach((e) => {
                  let t = [];
                  e.facetValues.forEach((e) => {
                    let a = !1;
                    if (null != e.matchingCapsulesSet) {
                      const t = Ee(
                        e.matchingCapsulesSet,
                        this.m_potentiallyVisibleCapsules,
                      );
                      (t.size < this.m_nMinMatches ||
                        this.m_potentiallyVisibleCapsules.size <= t.size) &&
                        (a = !0);
                    }
                    a ||
                      ((e.bDeactivated = !1),
                      (e.nMatchingFilteredCapsules = null),
                      t.push(e));
                  }),
                    t.length > 0 &&
                      this.m_prunedFacets.push({ facet: e, facetValues: t });
                }),
            this.PruneFacetsForCurrentUser();
        }
        PruneFacetsForCurrentUser() {
          this.m_prunedFacets.forEach((e) => {
            e.facetValues = e.facetValues.filter((e) =>
              e.facetValue.type === M.HL.k_EContentDescriptor
                ? !O.jg.Get().BIsLoaded() ||
                  O.jg
                    .Get()
                    .BIncludesContentDescriptor(e.facetValue.contentDescriptor)
                : e.facetValue.type === M.HL.k_ELanguage
                  ? !O.jg.Get().BIsLoaded() ||
                    0 === e.facetValue.language ||
                    ((0 !== O.jg.Get().GetSecondaryLanguages().size ||
                      0 !== O.jg.Get().GetPrimaryLanguage()) &&
                      (O.jg.Get().GetPrimaryLanguage() ===
                        e.facetValue.language ||
                        O.jg
                          .Get()
                          .GetSecondaryLanguages()
                          .has(e.facetValue.language)))
                  : e.facetValue.type !== M.HL.k_EUserPreference ||
                    (h.L7.logged_in && O.jg.Get().BIsLoaded()),
            );
          }),
            (this.m_prunedFacets = this.m_prunedFacets.filter(
              (e) => e.facetValues.length > 0,
            ));
        }
        UpdateMatchingFilteredCapsuleCounts() {
          this.m_bServerSideFiltering
            ? this.m_prunedFacets.forEach((e) => {
                e.facetValues.forEach((e) => {
                  e.nMatchingFilteredCapsules =
                    this.GetMatchCountForFacetValue(e);
                });
              })
            : this.m_prunedFacets.forEach((e) => {
                e.facetValues.forEach((e) => {
                  this.m_filteredCapsules && e.matchingCapsulesSet
                    ? (e.nMatchingFilteredCapsules = Ee(
                        this.m_filteredCapsules,
                        e.matchingCapsulesSet,
                      ).size)
                    : (e.nMatchingFilteredCapsules = null);
                });
              });
        }
        GetMatchCountForFacetValue(e) {
          if (this.m_mapMultiFacetCounts) {
            const t = "402",
              a = "401",
              n = "9",
              i = "28",
              r = "18",
              l = "41",
              o = "42",
              c = "43",
              m = "44",
              d = "61",
              u = "37";
            switch (e.facetValue.type) {
              case M.HL.k_ESaleTagFilter:
              case void 0:
                if (
                  e.facetValue.rgStoreTagFilter?.type ===
                    M.PJ.k_EStoreFilterClauseTypeStoreTag &&
                  e.facetValue.nAtomicStoreTagID
                )
                  return this.m_mapMultiFacetCounts
                    .get("tagidset")
                    ?.get(e.facetValue.nAtomicStoreTagID.toString());
                if (
                  e.facetValue.rgStoreTagFilter?.type ===
                  M.PJ.k_EStoreFilterClauseTypeFeatureTag
                )
                  switch (e.facetValue.rgStoreTagFilter.value) {
                    case "windows":
                      return this.m_mapMultiFacetCounts
                        .get("platform_win")
                        ?.get("true");
                    case "linux":
                      return this.m_mapMultiFacetCounts
                        .get("platform_linux")
                        ?.get("true");
                    case "mac":
                      return this.m_mapMultiFacetCounts
                        .get("platform_mac")
                        ?.get("true");
                    case "vr":
                      return this.m_mapMultiFacetCounts
                        .get("vrsupport")
                        ?.get(t);
                    case "vr only":
                      return this.m_mapMultiFacetCounts
                        .get("vrsupport")
                        ?.get(a);
                    case "full controller":
                      return this.m_mapMultiFacetCounts.get("category")?.get(i);
                    case "any controller":
                      return (
                        this.m_mapMultiFacetCounts.get("category")?.get(i) ||
                        this.m_mapMultiFacetCounts.get("category")?.get(r)
                      );
                    case "remote play":
                      return Math.max(
                        this.m_mapMultiFacetCounts.get("category")?.get(l),
                        this.m_mapMultiFacetCounts.get("category")?.get(o),
                        this.m_mapMultiFacetCounts.get("category")?.get(c),
                        this.m_mapMultiFacetCounts.get("category")?.get(m),
                      );
                    case "remote play together":
                      return this.m_mapMultiFacetCounts.get("category")?.get(m);
                    case "free":
                      return this.m_mapMultiFacetCounts.get("genre")?.get(u);
                    case "discounted":
                      return this.m_mapMultiFacetCounts
                        .get("discounted")
                        ?.get("true");
                    case "coop":
                      return this.m_mapMultiFacetCounts.get("category")?.get(n);
                    case "hdr":
                      return this.m_mapMultiFacetCounts.get("category")?.get(d);
                  }
                break;
              case M.HL.k_EAppType:
                return this.m_mapMultiFacetCounts
                  .get("type")
                  ?.get(e.facetValue.appType);
              case M.HL.k_ELanguage:
                const p = (0, s.j_)(e.facetValue.language);
                return this.m_mapMultiFacetCounts
                  .get("supportedlang_" + p)
                  ?.get("true");
              case M.HL.k_EContentDescriptor:
                return this.m_mapMultiFacetCounts
                  .get("descids")
                  ?.get(e.facetValue.contentDescriptor.toString());
            }
          } else if (this.m_facetCounts)
            return this.m_facetCounts?.get(e.facetValue.nAtomicStoreTagID);
          return null;
        }
        DeactivateFacetValues() {
          this.m_prunedFacets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.bDeactivated = !1;
            });
          }),
            this.m_bServerSideFiltering
              ? this.m_prunedFacets.forEach((e) => {
                  const t = Le(e.facet.facet);
                  e.facetValues.forEach((e) => {
                    let a = e.nMatchingFilteredCapsules;
                    e.bDeactivated = !(
                      e.bEnabled ||
                      t ||
                      0 !== a ||
                      e.facetValue.type === M.HL.k_EUserPreference
                    );
                  });
                })
              : this.m_prunedFacets.forEach((e) => {
                  e.facetValues.forEach((t) => {
                    if (null != t.matchingCapsulesSet && !t.bEnabled)
                      if (null != e.facet.matchingCapsules) {
                        let a = t.matchingCapsulesSet;
                        null != e.facet.matchingCapsulesInOtherFacets &&
                          (a = Ee(a, e.facet.matchingCapsulesInOtherFacets)),
                          Boolean(this.m_filteredCapsules) &&
                            ve(a, this.m_filteredCapsules) &&
                            (t.bDeactivated = !0);
                      } else
                        Boolean(this.m_filteredCapsules) &&
                          (!(function (e, t) {
                            if (
                              (!Boolean(e) && Boolean(t)) ||
                              (Boolean(e) && !Boolean(t))
                            )
                              return !0;
                            if (!Boolean(e) && !Boolean(t)) return !1;
                            const a = e.values();
                            let n = a.next();
                            for (; !n.done; ) {
                              if (t.has(n.value)) return !1;
                              n = a.next();
                            }
                            return !0;
                          })(t.matchingCapsulesSet, this.m_filteredCapsules)
                            ? ve(
                                this.m_filteredCapsules,
                                t.matchingCapsulesSet,
                              ) && (t.bDeactivated = !0)
                            : (t.bDeactivated = !0));
                  });
                });
        }
        SortFacets() {
          this.UpdateMatchingFilteredCapsuleCounts(),
            this.DeactivateFacetValues(),
            (this.m_sortedFacets = []),
            this.m_prunedFacets.forEach((e) => {
              const t = e.facetValues.slice();
              t.sort((e, t) => {
                if (
                  e.facetValue.type === M.HL.k_EPrice &&
                  t.facetValue.type !== M.HL.k_EPrice
                )
                  return 1;
                if (
                  e.facetValue.type !== M.HL.k_EPrice &&
                  t.facetValue.type == M.HL.k_EPrice
                )
                  return -1;
                if (e.bEnabled !== t.bEnabled) return t.bEnabled ? 1 : -1;
                if (e.bDeactivated !== t.bDeactivated)
                  return e.bDeactivated ? 1 : -1;
                if (!e.bEnabled && !e.bDeactivated) {
                  if (
                    e.facetValue.type === M.HL.k_ELanguage &&
                    t.facetValue.type === M.HL.k_ELanguage
                  )
                    return t.facetValue.language ===
                      O.jg.Get().GetPrimaryLanguage()
                      ? 1
                      : -1;
                  const a = e.nMatchingFilteredCapsules || 0,
                    n = t.nMatchingFilteredCapsules || 0;
                  if (
                    this.m_facetSortKey === M.bS.k_ESortFacetsByMatchCount &&
                    a !== n
                  )
                    return n - a;
                }
                if (this.m_facetSortKey === M.bS.k_ESortFacetsByName) {
                  const a = ne.LZ.GetWithFallback(
                      e.facetValue.name,
                      this.m_language,
                    ),
                    n = ne.LZ.GetWithFallback(
                      t.facetValue.name,
                      this.m_language,
                    );
                  return a.localeCompare(n);
                }
                return 0;
              }),
                this.m_sortedFacets.push({ ...e, facetValues: t });
            });
        }
        ApplyOptInFilters(e) {
          if (
            ((this.m_setCapsulesRemovedByOptInFilters = new Set()),
            !this.m_bServerSideFiltering)
          )
            return e;
          if (this.m_bUnboundedScope) return e;
          let t;
          for (const e of this.m_facets)
            De.BFacetHasEnabledOptTags(e) &&
              (t = null == t ? e.matchingCapsules : Ee(t, e.matchingCapsules));
          if (null == t) return e;
          const a = [];
          for (const n of e) {
            const e = Re(n);
            t.has(e)
              ? a.push(n)
              : this.m_setCapsulesRemovedByOptInFilters.add(e);
          }
          return a;
        }
        ApplyPriceFilters(e) {
          if (
            ((this.m_setCapsulesRemovedByPriceFilters = new Set()),
            this.m_bServerSideFiltering)
          )
            return e;
          let t;
          for (const e of this.m_facets) {
            for (const a of e.facetValues)
              if (a.facetValue.type === M.HL.k_EPrice) {
                t = a;
                break;
              }
            if (null != t) break;
          }
          if (null == t) return e;
          if (null == de()) return e;
          const a =
            null != t.nPriceStopIndex ? t.nPriceStopIndex : de().length - 1;
          if (-1 == a || a === de().length - 1) return e;
          const n = de()[a].price,
            i = [];
          for (const t of e) {
            let e = !1,
              a = 0;
            const r = b.Z.Get().GetStoreItem(t.id, (0, W.TM)(t.type));
            r && ((e = !0), (a = r.GetBestPurchasePriceInCents())),
              e
                ? a <= 100 * n
                  ? i.push(t)
                  : this.m_setCapsulesRemovedByPriceFilters.add(Re(t))
                : i.push(t);
          }
          return i;
        }
        async ApplyUserPreferenceFilters(e, t, a) {
          const n = this.BHasHideIgnoredItemsFacetValue(),
            i = this.BIsUserPreferenceEnabled(M.oL.k_EHideOwnedItems),
            r = this.BIsUserPreferenceEnabled(M.oL.k_EHideWishlistedItems),
            l = this.BIsUserPreferenceEnabled(M.oL.k_EHideIgnoredItems);
          let s = [];
          const o = await (0, pe.MN)(e, t, i, r, n, l, s);
          if (
            ((this.m_setCapsulesRemovedByUserPreferenceFilters = new Set(
              s.map(Re),
            )),
            a)
          )
            for (const e of s) a.push(e);
          return o;
        }
        UpdateMatchCount(e, t) {
          this.m_bServerSideFiltering ||
            ((this.m_filteredCapsules = null),
            null != this.m_potentiallyVisibleCapsules &&
              ((this.m_filteredCapsules = this.m_potentiallyVisibleCapsules),
              null != this.m_matchingReferencedCapsules &&
                (this.m_filteredCapsules = Ee(
                  this.m_filteredCapsules,
                  this.m_matchingReferencedCapsules,
                )),
              null != this.m_setCapsulesRemovedByPriceFilters &&
                (this.m_filteredCapsules = Se(
                  this.m_filteredCapsules,
                  this.m_setCapsulesRemovedByPriceFilters,
                )),
              null != this.m_setCapsulesRemovedByUserPreferenceFilters &&
                (this.m_filteredCapsules = Se(
                  this.m_filteredCapsules,
                  this.m_setCapsulesRemovedByUserPreferenceFilters,
                )))),
            e
              ? this.m_bServerSideFiltering
                ? ((this.m_nFilteredCapsuleCount = this.m_nSolrMatchCount),
                  (this.m_nFilteredCapsuleCount -=
                    this.m_setCapsulesRemovedByOptInFilters?.size || 0),
                  (this.m_nFilteredCapsuleCount -=
                    this.m_setCapsulesRemovedByUserPreferenceFilters?.size ||
                    0))
                : (this.m_nFilteredCapsuleCount =
                    this.m_filteredCapsules?.size || 0)
              : (this.m_nFilteredCapsuleCount = t),
            this.SortFacets();
        }
      }
      (0, u.gn)([g.LO], De.prototype, "m_facets", void 0),
        (0, u.gn)([g.LO], De.prototype, "m_sortedFacets", void 0),
        (0, u.gn)([g.aD], De.prototype, "Reset", null),
        (0, u.gn)([g.aD], De.prototype, "SetFromURLParam", null),
        (0, u.gn)([g.aD], De.prototype, "SetPotentiallyVisibleCapsules", null),
        (0, u.gn)([g.aD], De.prototype, "SetFacetCounts", null),
        (0, u.gn)([g.aD], De.prototype, "SetMultiFacetCounts", null),
        (0, u.gn)([g.aD], De.prototype, "SetSolrMatchCount", null),
        (0, u.gn)([g.aD], De.prototype, "SetFacetValueSearchString", null),
        (0, u.gn)([g.aD], De.prototype, "UpdateMatchCount", null);
      const fe = (0, G.Pi)((e) => {
          const {
              language: t,
              linkColor: a,
              headingColor: n,
              background: i,
              styleOverrides: l,
              facetFilterState: o,
              fnOnUpdateFilter: c,
              onInitFilter: m,
            } = e,
            [d, u] = (0, r.useState)(""),
            { data: p } = (0, ue.NH)((0, s.j_)(t));
          let _, h;
          l?.menu || (_ = { background: i, color: a || "white" }),
            l?.menuTitle ||
              (h = {
                borderBottom: "0px solid " + (a || "white"),
                color: n || "white",
              });
          const E = (0, r.useRef)(null),
            S = () => {
              o.UpdateFilter(), c();
            };
          return (
            r.useEffect(() => {
              !o && m && m();
            }, [o, m]),
            r.useEffect(() => {
              o &&
                e.rgItems &&
                (o.SetFacetCounts(e.faceting),
                o.SetMultiFacetCounts(e.multifaceting),
                o.SetSolrMatchCount(e.nMatchCount),
                o.UpdateMatchCount(e.bMoreAvailable, e.rgItems?.length));
            }, [
              o,
              e.bMoreAvailable,
              e.faceting,
              e.multifaceting,
              e.nMatchCount,
              e.rgItems,
              e.rgItems?.length,
            ]),
            o
              ? r.createElement(
                  "div",
                  {
                    ref: E,
                    className: l?.menu || he.FacetedBrowseControls,
                    style: _,
                  },
                  r.createElement(
                    "div",
                    { className: l?.menuTitle || he.FacetMenuTitle, style: h },
                    (0, ne.Xx)("#FacetedBrowse_Heading"),
                  ),
                  Boolean(o) &&
                    r.createElement(
                      "div",
                      {
                        className: l?.matchCount || he.FacetedBrowseMatchCount,
                      },
                      null != o.GetMatchCount() &&
                        (0, ne.kb)(
                          "#FacetedBrowse_MatchCount",
                          o.GetMatchCount(),
                        ),
                    ),
                  r.createElement(
                    "div",
                    { className: he.FacetValueSearch },
                    r.createElement(C.II, {
                      type: "text",
                      value: d,
                      placeholder: (0, ne.Xx)(
                        "#FacetedBrowse_SearchFacetValues",
                      ),
                      onChange: (e) => {
                        u(e.target.value),
                          o.SetFacetValueSearchString(e.target.value, t, p);
                      },
                      bShowClearAction: !0,
                    }),
                  ),
                  r.createElement(ye, {
                    facets: o?.GetSortedFacets(),
                    onUpdateFilter: S,
                    ...e,
                  }),
                  r.createElement(
                    "div",
                    { className: l?.reset || he.FacetedBrowseReset },
                    r.createElement(
                      "a",
                      {
                        onClick: (e) => {
                          e.preventDefault(),
                            (0, g.z)(() => {
                              o.Reset(), c();
                            });
                        },
                      },
                      (0, ne.Xx)("#FacetedBrowse_Reset"),
                    ),
                  ),
                  o
                    ?.GetSortedFacets()
                    ?.map((a, n) =>
                      r.createElement(Ie, {
                        key:
                          "facet_" +
                          ne.LZ.GetWithFallback(a.facet.facet.name, t) +
                          "_" +
                          n,
                        facet: a,
                        facetFilterState: o,
                        nFacetIndex: n,
                        language: t,
                        nMaxFacetValues: e.nMaxFacetValues,
                        highlightedFacetColor: e.highlightedFacetColor,
                        linkColor: e.linkColor,
                        headingColor: e.headingColor,
                        fnOnUpdateFilter: S,
                        styleOverrides: l,
                        bSearching: d?.length > 0,
                      }),
                    ),
                  r.createElement(
                    "div",
                    { className: l?.reset || he.FacetedBrowseReset },
                    r.createElement(
                      "a",
                      {
                        onClick: (e) => {
                          e.preventDefault();
                          const t =
                            E.current.getBoundingClientRect().top +
                            window.scrollY;
                          window.scrollTo(0, t);
                        },
                      },
                      (0, ne.Xx)("#FacetedBrowse_ReturnToTop"),
                    ),
                  ),
                )
              : null
          );
        }),
        ye = (0, G.Pi)((e) => {
          const { facets: t } = e,
            [a, n] = (0, r.useState)([]);
          return (
            (0, r.useEffect)(() => {
              const e = [];
              if (t)
                for (const a of t)
                  for (const t of a.facetValues)
                    t.bEnabled &&
                      t.facetValue.type !== M.HL.k_EPrice &&
                      e.push(t);
              n(e);
            }, [t]),
            a
              ? r.createElement(
                  r.Fragment,
                  null,
                  r.createElement(
                    "div",
                    { className: he.SelectedFacetValuesTitle },
                    (0, ne.Xx)("#FacetedBrowse_SelectedFacetValues"),
                  ),
                  r.createElement(
                    "div",
                    { className: he.SelectedFacetValuesList },
                    a.map((t, a) =>
                      r.createElement(be, {
                        key: t.facetValue.unique_id + "_" + a,
                        facetValue: t,
                        ...e,
                      }),
                    ),
                  ),
                )
              : null
          );
        }),
        be = (0, G.Pi)((e) => {
          const { facetValue: t, language: a, onUpdateFilter: n } = e,
            i = ke(t.facetValue, a);
          return r.createElement(
            "a",
            {
              className: he.SelectedFacetValueCtn,
              onClick: (e) => {
                e.preventDefault(), (t.bEnabled = !1), n && n();
              },
            },
            r.createElement(te.XBH, null),
            r.createElement("span", { className: he.SelectedFacetValue }, i),
          );
        }),
        Ie = (0, G.Pi)((e) => {
          const {
              language: t,
              linkColor: a,
              headingColor: n,
              facet: i,
              nFacetIndex: l,
              styleOverrides: s,
              bSearching: o,
            } = e,
            [c, m] = (0, r.useState)(Boolean(0 !== l)),
            [d, u] = (0, r.useState)(!1);
          if (i.facetValues.every((e) => e.bHiddenBySearch)) return null;
          let p;
          s?.facetName ||
            (p = {
              borderBottom: "0px solid " + (a || "white"),
              color: n || "white",
            });
          const _ = (0, ne.Xx)(
            ne.LZ.GetWithFallback(i.facet.facet.name, t).trim(),
          );
          let h = e.nMaxFacetValues;
          const g = i.facetValues.reduce(
            (e, t) => e + (t.bDeactivated ? 1 : 0),
            0,
          );
          h = Math.min(h, i.facetValues.length - g);
          const E = i.facetValues.reduce(
              (e, t) =>
                e + (t.bEnabled || t.facetValue.type === M.HL.k_EPrice ? 1 : 0),
              0,
            ),
            S = i.facetValues.some((e) => !e.bEnabled && !e.bDeactivated);
          h = Math.max(h, E + (S ? 1 : 0));
          const v = i.facetValues.length > h;
          let D = !v || d || o ? i.facetValues : i.facetValues.slice(0, h);
          c && !o && (D = D.filter((e) => e.bEnabled));
          const f = D.every(
            (e) =>
              !Boolean(e.facetValue.subtitle) ||
              ne.LZ.GetWithFallback(e.facetValue.subtitle, t)?.length <= 0,
          );
          return r.createElement(
            "div",
            { className: he.Facet },
            r.createElement(
              "div",
              { className: he.FacetTitleCtn, onClick: () => m(!c) },
              r.createElement(
                "div",
                { className: s?.facetName || he.FacetTitle, style: p },
                _,
              ),
              r.createElement(te.ret, { angle: c ? 270 : 0 }),
            ),
            D.map((t, a) =>
              r.createElement(Ae, {
                key: "facet_" + _ + "_value_" + a,
                facetValue: t,
                styleOverrides: s,
                showMatchCounts: f && !Le(i.facet.facet),
                ...e,
              }),
            ),
            !c &&
              v &&
              !o &&
              r.createElement(
                "div",
                {
                  className: s?.showMore || he.FacetValueShowMore,
                  onClick: () => u(!d),
                },
                d
                  ? (0, ne.Xx)("#Bbcode_Expand_ShowMore_Expanded")
                  : (0, ne.Xx)("#Bbcode_Expand_ShowMore_Collapsed"),
              ),
          );
        });
      function Ce(e, t, a) {
        const n = e.name;
        if (n?.length > 0 && n[0]?.startsWith("#tagid_")) {
          const e = parseInt(n[0].substring(7));
          if (e > 0) return a?.get(e)?.name;
        }
        return (0, ne.Xx)(ne.LZ.GetWithFallback(n, t).trim());
      }
      function ke(e, t) {
        const a = e.name;
        let n;
        a?.length > 0 &&
          a[0]?.startsWith("#tagid_") &&
          (n = parseInt(a[0].substring(7)));
        const i = (0, ue.wj)(n, (0, s.j_)(t))?.name;
        return n ? i : (0, ne.Xx)(ne.LZ.GetWithFallback(a, t).trim());
      }
      const Ae = (0, G.Pi)((e) => {
          const {
              language: t,
              highlightedFacetColor: a,
              linkColor: n,
              facetValue: i,
              facetFilterState: l,
              styleOverrides: s,
              fnOnUpdateFilter: o,
              showMatchCounts: c,
            } = e,
            m = ke(i.facetValue, t);
          if (i.facetValue.type === M.HL.k_EPrice && 0 == de().length)
            return null;
          if (i.bHiddenBySearch) return null;
          const d = i.bEnabled,
            u = i.bDeactivated,
            p = {
              color: a || "darkorange",
              borderLeft: "4px solid " + (a || "darkorange"),
            };
          let _, h;
          s?.facetValue || (_ = d ? p : {}),
            s?.facetValueName || (h = { color: n || "white" });
          const E = (e) => {
              e.preventDefault(),
                (0, g.z)(() => {
                  u || ((i.bEnabled = !i.bEnabled), o());
                });
            },
            S = (e) => {
              (0, g.z)(() => {
                i.nPriceStopIndex = Math.floor(e);
              });
            },
            v = () => {
              (0, g.z)(() => {
                (i.bEnabled = Boolean(i.nPriceStopIndex !== de().length - 1)),
                  o();
              });
            },
            D = m,
            f = Boolean(i.facetValue.subtitle)
              ? ne.LZ.GetWithFallback(i.facetValue.subtitle, t)
              : null;
          if (i.facetValue.type === M.HL.k_EPrice) {
            const e =
              null != i.nPriceStopIndex && -1 != i.nPriceStopIndex
                ? i.nPriceStopIndex
                : de().length - 1;
            return r.createElement(C.DS, {
              className: he.FacetValuePriceSlider,
              min: 0,
              max: de().length - 1,
              value: e,
              label: de()[e].label,
              onChange: S,
              onChangeComplete: v,
            });
          }
          {
            const e = s?.facetValue || he.FacetValue,
              t = s?.facetValueEnabled || he.FacetValueEnabled,
              a = s?.facetValueDeactivated || he.FacetValueDeactivated,
              n = s?.facetValueName || he.FacetValueName;
            return r.createElement(
              "div",
              { className: d ? t : u ? a : e, style: _ },
              r.createElement(
                "a",
                { className: n, style: h, onClick: E, href: "" },
                D,
              ),
              c &&
                !i.bDeactivated &&
                Boolean(i.nMatchingFilteredCapsules) &&
                r.createElement(
                  "div",
                  { className: s?.facetValueDesc || he.FacetValueDescription },
                  i.nMatchingFilteredCapsules,
                ),
              Boolean(f) &&
                r.createElement(
                  "div",
                  { className: s?.facetValueDesc || he.FacetValueDescription },
                  f,
                ),
            );
          }
        }),
        we = (0, G.Pi)((e) => {
          const {
              background: t,
              labelColor: a,
              headingColor: n,
              buttonColor: i,
              highlightedFacetColor: l,
            } = e,
            [s, o] = (0, r.useState)(!1);
          return r.createElement(
            "div",
            { className: he.FacetedBrowseCtn },
            Te() &&
              r.createElement(Pe, {
                buttonColor: i,
                bShowControls: s,
                fnOnToggleControls: () => {
                  o(!s);
                },
              }),
            r.createElement(
              "div",
              { className: he.FacetedBrowseInnerCtn },
              s || !Te()
                ? r.createElement(fe, {
                    highlightedFacetColor: l,
                    linkColor: a,
                    headingColor: n,
                    background: t,
                    ...e,
                  })
                : null,
              r.createElement(
                "div",
                { className: he.FacetedBrowseItems },
                e.children,
              ),
            ),
          );
        }),
        Pe = (0, G.Pi)((e) => {
          const { buttonColor: t, bShowControls: a, fnOnToggleControls: n } = e,
            i = { color: t || "white" };
          return r.createElement(
            "div",
            { className: he.FacetedBrowsePopupCtn, onClick: () => n() },
            a
              ? r.createElement(
                  r.Fragment,
                  null,
                  r.createElement(
                    "div",
                    { className: he.FacetedBrowsePopup, style: i },
                    r.createElement(te.XBH, null),
                  ),
                  r.createElement(
                    "div",
                    { className: he.FacetedBrowsePopupLabel },
                    (0, ne.Xx)("#Button_Close"),
                  ),
                )
              : r.createElement(
                  r.Fragment,
                  null,
                  r.createElement(
                    "div",
                    { className: he.FacetedBrowsePopup, style: i },
                    r.createElement(te.wn$, null),
                  ),
                  r.createElement(
                    "div",
                    { className: he.FacetedBrowsePopupLabel },
                    (0, ne.Xx)("#FacetedBrowse_Heading"),
                  ),
                ),
          );
        }),
        Te = () => window.innerWidth < parseInt(he.strWidescreenWidth);
      function Ne(e) {
        const { section: t, event: a } = e,
          [n, i, l] = (0, le.SZ)(() => [
            t.label_color,
            t.heading_color,
            t.highlighted_facet_color,
          ]),
          s = (0, h.id)(),
          o = (0, _e.V)(t, a, s).background;
        return r.createElement(we, {
          labelColor: n,
          headingColor: i,
          buttonColor: n,
          highlightedFacetColor: l,
          background: o,
          ...e,
        });
      }
      function Re(e) {
        return e.type + e.id;
      }
      function Ge(e) {
        return (
          !("items" !== e.section_type || !e.smart_section) ||
          "sale_item_browser" === e.section_type
        );
      }
      function xe(e, t) {
        return !(
          !Ge(t) ||
          null == e.jsondata.item_source_type ||
          e.jsondata.item_source_type === M.J7.k_ETaggedItems
        );
      }
      function Le(e) {
        for (const t of e.facetValues)
          if (null != t.filter)
            for (const e of t.filter.clauses)
              for (const t of e.or_tags) if (t.startsWith("[Opt]")) return !0;
        return !1;
      }
      var Be = a(71472),
        Me = a(88436),
        Oe = a.n(Me);
      class Fe extends r.Component {
        state = { bInScroll: !1, nStartXPos: 0, nStartScrollLeft: 0 };
        static knDefaultScrollMultiplier = 1;
        static knDefaultMinDragPixels = 20;
        m_hSlider = r.createRef();
        OnPointerDown(e) {
          const t = this.m_hSlider.current;
          t &&
            (t.scrollWidth <= t.clientWidth ||
              (this.setState({
                bInScroll: !1,
                nStartXPos: e.pageX - t.offsetLeft,
                nStartScrollLeft: t.scrollLeft,
              }),
              t.addEventListener("pointerup", this.OnPointerUp),
              t.addEventListener("pointerleave", this.OnPointerUp),
              t.addEventListener("pointercapturelost", this.OnPointerUp),
              t.addEventListener("pointermove", this.OnPointerMove)));
        }
        OnPointerUp(e) {
          const t = this.m_hSlider.current;
          t &&
            (this.state.bInScroll &&
              (t.releasePointerCapture(e.pointerId),
              document.body.classList.remove(
                Oe().HorizontalScrollInDragForceCursor,
              ),
              this.props.dragClassName &&
                t.classList.remove(this.props.dragClassName)),
            t.removeEventListener("pointerup", this.OnPointerUp),
            t.removeEventListener("pointerleave", this.OnPointerUp),
            t.removeEventListener("pointercapturelost", this.OnPointerUp),
            t.removeEventListener("pointermove", this.OnPointerMove));
        }
        OnPointerMove(e) {
          const t = this.m_hSlider.current;
          if (!t) return;
          e.preventDefault();
          const a =
              (e.pageX - t.offsetLeft - this.state.nStartXPos) *
              (this.props.scrollMultiplier || Fe.knDefaultScrollMultiplier),
            n = this.state.nStartScrollLeft - a,
            i = Math.abs(n - this.state.nStartScrollLeft),
            r = this.props.minDragPixels || Fe.knDefaultMinDragPixels;
          !this.state.bInScroll &&
            i >= r &&
            ((t.scrollLeft = n),
            this.setState({ bInScroll: !0 }),
            document.body.classList.add(Oe().HorizontalScrollInDragForceCursor),
            this.props.dragClassName &&
              t.classList.add(this.props.dragClassName),
            t.setPointerCapture(e.pointerId)),
            this.state.bInScroll && (t.scrollLeft = n);
        }
        render() {
          return r.createElement(
            B.s,
            {
              ref: this.m_hSlider,
              className: this.props.className,
              onPointerDown: this.OnPointerDown,
            },
            this.props.children,
          );
        }
      }
      (0, u.gn)([H.ak], Fe.prototype, "OnPointerDown", null),
        (0, u.gn)([H.ak], Fe.prototype, "OnPointerUp", null),
        (0, u.gn)([H.ak], Fe.prototype, "OnPointerMove", null);
      var Ue = a(15980),
        He = a(3669),
        Ve = a.n(He),
        Xe = a(55999),
        je = a(7769),
        qe = a.n(je);
      function We(e) {
        const { id: t, type: a } = e,
          [n] = (0, I.jk)(t, (0, W.TM)(a), {});
        return r.createElement(
          "div",
          { className: qe().SaleItemBrowserRow },
          r.createElement(Xe.ju, {
            ...e,
            bLoadShortDescription: !0,
            bShowReviewSummary: !0,
            bShowDemoButton: e.bShowDemoButton || 1 == n?.GetAppType(),
          }),
        );
      }
      var ze = a(43589),
        Ze = a(77178),
        Ke = a(64936);
      class Qe {
        m_userData;
        m_bLoadedDuringInit = !1;
        m_strLastDoorOpenKey = "video_noneset";
        m_bIsAnyDoorOpened = !1;
        m_nHighestDoorOpened = -1;
        m_initialLoadPromise;
        m_mapDoorOpenPromise = new Map();
        m_mapChangeCallback = new Map();
        m_doorInitializedChangedCallback = new U.pB();
        m_largestDoorChangeCallback = new U.pB();
        m_bIsAnyDoorOpenChangeCallback = new U.pB();
        GetLastDoorOpen() {
          return this.m_strLastDoorOpenKey;
        }
        GetRawDoorData() {
          return this.m_userData;
        }
        BIsDoorOpened(e) {
          return (
            null != e &&
            null != e &&
            !!this.m_userData &&
            Boolean(e < this.m_userData.length && this.m_userData[e].opened)
          );
        }
        BCanUserOpenDoor(e) {
          let t = Ke.JW.GetTimeNowWithOverride();
          return (
            h.L7.logged_in &&
            this.m_userData &&
            e < this.m_userData.length &&
            t >= this.m_userData[e].rtime_start &&
            t <= this.m_userData[e].rtime_end
          );
        }
        GetDoorCount() {
          return this.m_userData ? this.m_userData.length : 0;
        }
        BIsAnyDoorOpened() {
          return this.m_bIsAnyDoorOpened;
        }
        GetIsAnyDoorOpenChange() {
          return this.m_bIsAnyDoorOpenChangeCallback;
        }
        GetLargestDoorOpenIndex() {
          return this.m_nHighestDoorOpened;
        }
        GetLargestDoorIndexChange() {
          return this.m_largestDoorChangeCallback;
        }
        GetDoorStateChangeCallback(e) {
          return (
            this.m_mapChangeCallback.has(e) ||
              this.m_mapChangeCallback.set(e, new U.pB()),
            this.m_mapChangeCallback.get(e)
          );
        }
        GetDoorStateInitializedChangeCallback() {
          return this.m_doorInitializedChangedCallback;
        }
        BIsInitialized() {
          return this.m_bLoadedDuringInit;
        }
        GetMaxDoor() {
          return 9;
        }
        SetInMemoryUpdateDoorOpenUpto(e) {
          for (let t = 0; t < 9; ++t) {
            const a = t <= e;
            this.m_userData[t].opened != a &&
              ((this.m_userData[t].opened = a),
              this.GetDoorStateChangeCallback(t).Dispatch(a));
          }
          this.RecomputeState();
        }
        SetInMemorySpecificDoorState(e, t) {
          e < 9
            ? this.m_userData[e].opened != t &&
              ((this.m_userData[e].opened = t),
              this.GetDoorStateChangeCallback(e).Dispatch(t),
              this.RecomputeState())
            : console.error("CDoorStore: Wrong door being set " + e);
        }
        RecomputeState() {
          let e = -1;
          this.m_userData?.forEach((t) => {
            t.opened && t.day > e && (e = t.day);
          });
          const t = -1 != e;
          t != this.m_bIsAnyDoorOpened &&
            ((this.m_bIsAnyDoorOpened = t),
            this.GetIsAnyDoorOpenChange().Dispatch(t)),
            e != this.m_nHighestDoorOpened &&
              ((this.m_nHighestDoorOpened = e),
              this.GetLargestDoorIndexChange().Dispatch(e));
        }
        async OpenDoor(e, t = !0, a = "", n = !1) {
          return !h.L7.logged_in ||
            !this.m_userData ||
            e > this.m_userData.length ||
            e < 0
            ? ("dev" == h.De.WEB_UNIVERSE &&
                console.log(
                  "CDoorStore.OpenDoor Early fail settings:",
                  h.L7.logged_in,
                  this.m_userData,
                  e,
                  this.m_userData?.length,
                ),
              null)
            : this.m_mapDoorOpenPromise.has(e)
              ? this.m_mapDoorOpenPromise.get(e)
              : this.m_userData[e].opened == t
                ? {}
                : (this.m_mapDoorOpenPromise.has(e) ||
                    this.m_mapDoorOpenPromise.set(
                      e,
                      this.InternalOpenDoor(e, t, a, n),
                    ),
                  this.m_mapDoorOpenPromise.get(e));
        }
        async InternalOpenDoor(e, t = !0, a, n = !1) {
          let i = h.De.STORE_BASE_URL + "saleaction/ajaxopendoor";
          const r = new FormData();
          r.append("sessionid", h.De.SESSIONID),
            a && r.append("datarecord", a),
            n && r.append("fake_open", "" + n),
            r.append("door_index", "" + e),
            r.append("clan_accountid", "" + h.JA.CLANACCOUNTID),
            t || r.append("open_door", "0");
          let l = null;
          try {
            let a = await _().post(i, r, { withCredentials: !0 });
            if (200 == a?.status && 1 == a?.data?.success)
              return (
                (this.m_userData[e].opened = t),
                (this.m_strLastDoorOpenKey = "door_" + (t ? e : e - 1)),
                a.data.capsuleinsert &&
                  ((s = [a.data.capsuleinsert]), X.Get().ReplaceInsertion(s)),
                this.GetDoorStateChangeCallback(e).Dispatch(t),
                this.RecomputeState(),
                a.data
              );
            l = (0, E.l)(a);
          } catch (e) {
            l = (0, E.l)(e);
          }
          var s;
          return (
            this.m_mapDoorOpenPromise.delete(e),
            console.error("OpenDoor hit error: " + l.strErrorMsg, l),
            null
          );
        }
        async LoadDoorData() {
          return this.m_bLoadedDuringInit
            ? this.m_userData
            : (this.m_initialLoadPromise ||
                (this.m_initialLoadPromise = this.InternalLoadDoorData()),
              this.m_initialLoadPromise);
        }
        async InternalLoadDoorData() {
          const e = h.De.STORE_BASE_URL + "saleaction/ajaxgetopendoor";
          let t = null;
          try {
            const a = await _().get(e, { withCredentials: !0 });
            if (200 == a.status && a.data?.doordata) {
              (this.m_userData = a.data.doordata),
                (this.m_bLoadedDuringInit = !0);
              for (let e = 0; e < 9; ++e)
                this.GetDoorStateChangeCallback(e).Dispatch(
                  this.m_userData[e].opened,
                );
              return (
                this.GetDoorStateInitializedChangeCallback().Dispatch(
                  this.m_bLoadedDuringInit,
                ),
                this.RecomputeState(),
                this.m_userData
              );
            }
            t = (0, E.l)(a);
          } catch (e) {
            t = (0, E.l)(e);
          }
          return (
            console.error(
              "CDoorStore.LoadDoorData failed: " + t?.strErrorMsg,
              t,
            ),
            null
          );
        }
        async CloseAllDoors() {
          let e = h.De.STORE_BASE_URL + "saleaction/ajaxclosealldoor";
          const t = new FormData();
          t.append("sessionid", h.De.SESSIONID);
          let a = null;
          try {
            let n = await _().post(e, t, { withCredentials: !0 });
            if (200 == n.status && 1 == n?.data?.success) {
              console.log("CDoorStore - closed " + n.data.count);
              for (let e = 0; e < 9; ++e)
                (this.m_userData[e].opened = !1),
                  this.GetDoorStateChangeCallback(e).Dispatch(
                    this.m_userData[e].opened,
                  );
              return this.RecomputeState(), !0;
            }
            a = (0, E.l)(n);
          } catch (e) {
            a = (0, E.l)(e);
          }
          return (
            console.error(
              "CDoorStore.CloseAllDoors failed: " + a?.strErrorMsg,
              a,
            ),
            null
          );
        }
        static s_Singleton;
        static Get() {
          return (
            Qe.s_Singleton ||
              ((Qe.s_Singleton = new Qe()),
              Qe.s_Singleton.Init(),
              "dev" == h.De.WEB_UNIVERSE &&
                (window.g_EventDoorStore = Qe.s_Singleton)),
            Qe.s_Singleton
          );
        }
        constructor() {
          (0, g.rC)(this);
        }
        Init() {
          (this.m_userData = (0, h.kQ)("doorinfo", "application_config")),
            this.m_userData &&
              ((this.m_bLoadedDuringInit = !0),
              this.RecomputeState(),
              "dev" == h.De.WEB_UNIVERSE &&
                console.log("CDoorStore Loading - ", this.m_userData));
        }
      }
      function Ye() {
        const [e, t] = (0, r.useState)(Qe.Get().BIsInitialized());
        return (
          (0, r.useEffect)(() => {
            e || Qe.Get().LoadDoorData();
          }, [e]),
          (0, H.Qg)(Qe.Get().GetDoorStateInitializedChangeCallback(), t),
          e
        );
      }
      (0, u.gn)([g.LO], Qe.prototype, "m_bIsAnyDoorOpened", void 0),
        (0, u.gn)([g.LO], Qe.prototype, "m_nHighestDoorOpened", void 0),
        (0, u.gn)([H.ak], Qe.prototype, "BIsDoorOpened", null),
        (0, u.gn)([H.ak], Qe.prototype, "OpenDoor", null);
      var Je = a(46882),
        $e = a(84478),
        et = a(13499),
        tt = a(90069);
      function at(e, t, a) {
        if (t.some((t) => t.id == e.appid && "game" == t.type)) return;
        const n = {
          id: e.appid,
          type: "game",
          overrideNavigation: (t) => {
            var n;
            (n = e.appid),
              X.Get().AppCapsuleFound(n),
              (0, tt.AM)(
                r.createElement(nt, {
                  iDoorIndex: e.payload,
                  datarecord: e.datarecord,
                  bPreviewMode: Boolean(a || e.force_preview_mode),
                }),
                window,
              );
          },
        };
        e.insertionIndex
          ? t.splice(e.insertionIndex, 0, n)
          : "dev" == h.De.WEB_UNIVERSE
            ? t.unshift(n)
            : t.splice(Math.floor(Math.random() * t.length), 0, n);
      }
      function nt(e) {
        const {
            closeModal: t,
            iDoorIndex: a,
            datarecord: n,
            bPreviewMode: i,
          } = e,
          l = (function (e) {
            const t = Ye(),
              [a, n] = (0, r.useState)(t ? Qe.Get().BIsDoorOpened(e) : void 0);
            return (0, H.Qg)(Qe.Get().GetDoorStateChangeCallback(e), n), a;
          })(a),
          { fnOpenDoor: s } = { fnOpenDoor: Qe.Get().OpenDoor },
          [o, c] = (0, r.useState)(!l),
          [m, d] = (0, r.useState)(null),
          [u, p] = (0, r.useState)(!1);
        (0, r.useEffect)(() => {
          const e = _().CancelToken.source();
          return (
            s(a, !0, n, i).then((t) => {
              e.token.reason || (d(t), p(null == t), c(!1));
            }),
            () => e.cancel("unmounting SummerSale2022FoundItem")
          );
        }, [i, n, s, a]);
        const g = Math.floor(5 * Math.random()) + 1;
        return r.createElement(
          Ze.uH,
          {
            strTitle: (0, ne.Xx)(`#Sale_Minigame_FoundIt_${g}`),
            bDisableBackgroundDismiss: !0,
            closeModal: t,
            strOKButtonText: (0, ne.Xx)("#Sale_Minigame_ContineQuest"),
            bOKDisabled: o,
            strCancelButtonText: (0, ne.Xx)("#Sale_Minigame_ContineShopping"),
            modalClassName: "SummerSale2022",
            onOK: () => {
              window.location.href = `${h.De.STORE_BASE_URL}sale/clorthax_quest`;
            },
          },
          r.createElement(
            "div",
            { className: ze.Ctn },
            r.createElement(
              "div",
              null,
              Boolean(u)
                ? r.createElement(
                    r.Fragment,
                    null,
                    (0, ne.Xx)("#GrantAwardError_Busy"),
                  )
                : r.createElement(
                    r.Fragment,
                    null,
                    Boolean(o)
                      ? r.createElement(
                          "div",
                          null,
                          r.createElement(Je.V, {
                            size: "small",
                            position: "center",
                          }),
                          r.createElement(
                            "span",
                            null,
                            (0, ne.Xx)("#Sale_Minigame_LoadingReward"),
                          ),
                        )
                      : r.createElement(
                          "div",
                          null,
                          r.createElement(
                            "div",
                            { className: ze.DetailText },
                            (0, ne.Xx)("#Sale_Minigame_FoundIt_Earn"),
                          ),
                          Boolean(m?.sale_pg_context_token) &&
                            r.createElement(
                              "div",
                              { className: ze.RewardText },
                              (0, ne.Xx)(m.sale_pg_context_token),
                            ),
                          Boolean(
                            m?.sale_pg_background_mp4 &&
                              m?.sale_pg_background_webm,
                          ) &&
                            r.createElement($e.Y, {
                              bAutoPlay: !0,
                              bMuted: !0,
                              bLoop: !0,
                              bControls: !1,
                              video: {
                                sPoster: (0, et.et)(
                                  m.sale_pg_background_override,
                                ),
                                rgVideoSources: [
                                  {
                                    sURL: (0, et.et)(m.sale_pg_background_webm),
                                    sFormat: "video/webm",
                                  },
                                  {
                                    sURL: (0, et.et)(m.sale_pg_background_mp4),
                                    sFormat: "video/mp4",
                                  },
                                ],
                              },
                            }),
                          r.createElement(
                            "div",
                            { className: ze.PostText },
                            (0, ne.Xx)(
                              a < 10
                                ? "#Summer2022_hunt_quest_return_clue"
                                : "#Summer2022_hunt_quest_return_gift",
                            ),
                          ),
                        ),
                  ),
            ),
          ),
        );
      }
      var it = a(76245),
        rt = a(16997);
      class lt {
        m_mapSectionToExistingCapsules = new Map();
        m_mapSectionToExistingClanEventGIDs = new Map();
        m_mapSectionToNewCapsules = new Map();
        m_mapSectionToNewEvents = new Map();
        m_clanSteamID = null;
        m_gidClanEvent = null;
        m_nActiveSectionCount = 0;
        m_timer = new U.Ar();
        m_nTimeStartedMS = 0;
        m_nExpirationTime = 45;
        m_rtimeLastServiceCallStarted = 0;
        m_rtimeLastServiceCallComplete = 0;
        m_promise = null;
        m_bTestMode = new Map();
        m_bPreviewMode = !1;
        GetTimerSecondsLeft() {
          const e = Math.floor(
            (this.m_nTimeStartedMS +
              1e3 * this.m_nExpirationTime -
              Date.now()) /
              1e3,
          );
          return this.m_timer.IsScheduled() && e >= 0 ? e : void 0;
        }
        GetNewEventGIDs(e) {
          return this.m_mapSectionToNewEvents.get(e);
        }
        GetNewCapsules(e) {
          return this.m_mapSectionToNewCapsules.get(e);
        }
        GetTimerWaitTimeMS() {
          const e = Math.floor(20 * Math.random());
          return 1e3 * (this.m_nExpirationTime + e);
        }
        IncrementalSectionNeedingReveal(e, t, a) {
          (0, F.X)(
            !this.m_clanSteamID ||
              this.m_clanSteamID.GetAccountID() == e.GetAccountID(),
            "mismatch clan steam id",
          ),
            (0, F.X)(
              !this.m_gidClanEvent || this.m_gidClanEvent == t,
              "Mismatch clan event gid",
            ),
            (this.m_clanSteamID = e),
            (this.m_gidClanEvent = t),
            (this.m_bPreviewMode = a),
            (this.m_nActiveSectionCount += 1),
            this.m_nActiveSectionCount > 0 &&
              !this.m_timer.IsScheduled() &&
              ((this.m_nTimeStartedMS = Date.now()),
              this.m_timer.Schedule(
                this.GetTimerWaitTimeMS(),
                this.TimerAction,
              ));
        }
        DecrementSectionNeedingReveal() {
          (this.m_nActiveSectionCount -= 1),
            this.m_nActiveSectionCount <= 0 && this.m_timer.Cancel();
        }
        AddSaleCapsules(e, t) {
          let a = this.m_mapSectionToExistingCapsules.has(e)
            ? this.m_mapSectionToExistingCapsules.get(e)
            : [];
          t?.forEach((e) => {
            a.findIndex((t) => e.id == t.id && e.type == t.type) < 0 &&
              !(0, pe.K$)(e) &&
              a.push(e);
          }),
            this.m_mapSectionToExistingCapsules.has(e) ||
              this.m_mapSectionToExistingCapsules.set(e, a);
        }
        AddEvents(e, t) {
          let a = this.m_mapSectionToExistingClanEventGIDs.has(e)
            ? this.m_mapSectionToExistingClanEventGIDs.get(e)
            : [];
          t?.forEach((e) => {
            !a.includes(e) && y.j1.BHasClanEventModel(e) && a.push(e);
          }),
            this.m_mapSectionToExistingClanEventGIDs.has(e) ||
              this.m_mapSectionToExistingClanEventGIDs.set(e, a);
        }
        SetTestMode(e, t) {
          "dev" == h.De.WEBAPI_BASE_URL &&
            console.log(
              `CDynamicRevealStore Test Mode Cur ${this.m_bTestMode.get(e)} setting to ${t}`,
            ),
            this.m_bTestMode.set(e, t),
            this.m_mapSectionToExistingCapsules.has(e) &&
              this.m_mapSectionToExistingCapsules.set(e, []),
            this.m_mapSectionToExistingClanEventGIDs.has(e) &&
              this.m_mapSectionToExistingClanEventGIDs.set(e, []);
        }
        BIsInTestMode(e) {
          return this.m_bTestMode.get(e);
        }
        FireRequestNow() {
          (0, F.X)(
            this.m_bTestMode,
            "We should only use CDynamicRevealStore::FireRequestNow in test mode",
          ),
            this.TimerAction();
        }
        TimerAction() {
          this.m_nActiveSectionCount > 0 &&
            (this.m_timer.Cancel(),
            (this.m_promise = this.LoadRevealedItems(
              this.m_clanSteamID,
              this.m_gidClanEvent,
            )),
            this.m_promise
              .then((e) => {
                e.forEach((e) => {
                  if ("events" == e.section_type && e.events?.length > 0) {
                    const t =
                        this.m_mapSectionToExistingClanEventGIDs.get(
                          e.unique_id,
                        ) || [],
                      a = e.events
                        .filter((e) => !t.includes(e.event_gid))
                        .map((e) => e.event_gid);
                    y.j1
                      .LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
                        a,
                        null,
                      )
                      .then((t) => {
                        const a = t
                          .map((e) => e.appid)
                          .filter((e) => Boolean(e))
                          .map((e) => ({ id: e, type: "game" }));
                        (0, pe.qr)(a, x.bk).then(() => {
                          const a = t
                            .filter(
                              (e) =>
                                Boolean(e.appid) &&
                                !(0, pe.K$)({ id: e.appid, type: "game" }),
                            )
                            .map((e) => e.GID);
                          this.m_mapSectionToNewEvents.set(e.unique_id, a);
                        });
                      });
                  }
                  if (
                    "items" == e.section_type &&
                    (e.appids?.length > 0 ||
                      e.packageids?.length > 0 ||
                      e.bundledid?.length > 0)
                  ) {
                    const t = (0, pe.Ot)(e.appids, e.packageids, e.bundledid),
                      a =
                        this.m_mapSectionToExistingCapsules.get(e.unique_id) ||
                        [],
                      n = t.filter(
                        (e) =>
                          a.findIndex((t) => t.id == e.id && t.type == e.type) <
                          0,
                      );
                    (0, pe.qr)(n, x.bk).then(() => {
                      const t = new Array();
                      n.forEach((e) => {
                        (0, pe.K$)(e) || t.push(e);
                      }),
                        this.m_mapSectionToNewCapsules.set(e.unique_id, t);
                    });
                  }
                });
              })
              .finally(() => {
                (this.m_nTimeStartedMS = Date.now()),
                  this.m_timer.Schedule(
                    this.GetTimerWaitTimeMS(),
                    this.TimerAction,
                  );
              }));
        }
        async LoadRevealedItems(e, t) {
          this.m_rtimeLastServiceCallStarted = Date.now();
          try {
            const a = {
                clan_event_gid: t,
                clan_account_id: e.GetAccountID(),
                origin: self.origin,
                testmode: Array.from(this.m_bTestMode.values()).some((e) => e),
              },
              n = this.m_bPreviewMode
                ? h.De.STORE_BASE_URL +
                  "saleaction/ajaxgetdynamicrevealspreview"
                : h.De.STORE_BASE_URL + "saleaction/ajaxgetdynamicreveals",
              i = await _().get(n, { params: a });
            if (200 == i?.status && 1 == i?.data?.success)
              return (
                (this.m_nExpirationTime = Math.max(
                  i.data.expiration_time || 45,
                  10,
                )),
                i.data.dynamic_data
              );
          } catch (e) {
            const t = (0, E.l)(e);
            console.error(
              "CDynamicRevealStore.LoadRevealedItems: failed with " +
                t.strErrorMsg,
              t,
            );
          } finally {
            (this.m_rtimeLastServiceCallComplete = Date.now()),
              "dev" == h.De.WEB_UNIVERSE &&
                console.log(
                  `LoadRevealedItems: started ${Math.floor(this.m_rtimeLastServiceCallStarted / 1e3)} and completed ${Math.floor(this.m_rtimeLastServiceCallComplete / 1e3)} taking ${this.m_rtimeLastServiceCallComplete - this.m_rtimeLastServiceCallStarted} MS`,
                );
          }
          return [];
        }
        static s_Singleton;
        static Get() {
          return (
            lt.s_Singleton ||
              ((lt.s_Singleton = new lt()),
              ("dev" != h.De.WEB_UNIVERSE && "beta" != h.De.WEB_UNIVERSE) ||
                (window.g_DynamicRevealStore = lt.s_Singleton)),
            lt.s_Singleton
          );
        }
        constructor() {
          (0, g.rC)(this);
        }
      }
      function st(e, t = null) {
        if (!e || (0, pe.TR)(e)) return !0;
        if (t?.BUsesContentHubForItemSource()) {
          if (
            it.Q.Get()?.GetHomeView()?.games_already_in_library &&
            (function (e, t = null) {
              if (t?.BUsesContentHubForItemSource())
                switch (e.GetStoreItemType()) {
                  case 0:
                    if (O.jg.Get().BIsGameOwned(e.GetAppID())) return !0;
                    break;
                  case 1:
                  case 2:
                    if (
                      e
                        .GetIncludedAppIDs()
                        .every((e) => O.jg.Get().BIsGameOwned(e))
                    )
                      return !0;
                }
              return !1;
            })(e, t)
          )
            return !0;
          if (
            0 === e.GetStoreItemType() &&
            1 === e.GetAppType() &&
            O.jg.Get().BIsGameOwned(e.GetParentAppID())
          )
            return !0;
        }
        return !1;
      }
      (0, u.gn)([g.LO], lt.prototype, "m_mapSectionToNewCapsules", void 0),
        (0, u.gn)([g.LO], lt.prototype, "m_mapSectionToNewEvents", void 0),
        (0, u.gn)([rt.a], lt.prototype, "FireRequestNow", null),
        (0, u.gn)([rt.a], lt.prototype, "TimerAction", null);
      var ot = a(82093);
      let ct = class extends r.Component {
        static contextType = ot.DF;
        state = {
          currentFlavor: this.GetDefaultTab(),
          bInitialLoadComplete: !1,
          rgCapsules: [],
          nOriginalStartIndex: -1,
          nNumRequestedLastTime: 0,
          bIsMoreAvailable: !1,
          bAwaitingMoreRowsLoading: !1,
          nHiddenCapsules: 0,
          strSearchQuery: "",
          strRawSearch: "",
          bIsNarrowScreen: (0, re.p)(),
          fnUnregisterCallback: null,
          results: null,
        };
        m_timerForChange = new U.Ar();
        m_cancelSignal = _().CancelToken.source();
        constructor(e) {
          super(e);
        }
        componentDidMount() {
          window.addEventListener("resize", this.OnResize), this.LoadCapsules();
          const { section: e, activeTab: t } = this.props;
          this.setState({
            fnUnregisterCallback: j(
              e.unique_id,
              t?.GetActiveTabUniqueID(),
            ).Register(this.OnDynamicCapsuleInsert).Unregister,
          });
        }
        componentWillUnmount() {
          this.m_timerForChange.Cancel(),
            this.state.fnUnregisterCallback &&
              this.state.fnUnregisterCallback(),
            this.m_cancelSignal.cancel("SaleItemBrowser component unmounted");
        }
        componentDidUpdate(e) {
          const t = this.props.section
            ? (0, Be.ks)(
                this.props.history,
                "facets" + this.props.section?.unique_id,
              )
            : "";
          let a = this.GetDefaultTab();
          if (this.props.section && this.props.browseInfo) {
            const e = (0, Be.ks)(this.props.history, "flavor");
            this.GetFlavorsForActiveTab()?.includes(e) && (a = e);
          }
          if (
            this.props.browseInfo != e.browseInfo ||
            this.props.event != e.event ||
            this.props.section != e.section ||
            this.props.activeTab?.GetActiveTabUniqueID() !=
              e.activeTab?.GetActiveTabUniqueID() ||
            this.state.strFacetUrlParam !== t ||
            this.state.currentFlavor !== a ||
            this.props.controllerCategory !== e.controllerCategory
          ) {
            this.props.section?.enable_faceted_browsing &&
              this.state.facetFilterState &&
              this.state.strFacetUrlParam !== t &&
              this.state.facetFilterState.SetFromURLParam(t);
            const { section: n, activeTab: i } = this.props;
            let r = this.state.fnUnregisterCallback;
            (n.unique_id == e.section.unique_id &&
              i?.GetActiveTabUniqueID() ==
                e.activeTab?.GetActiveTabUniqueID()) ||
              (r && r(),
              (r = j(n.unique_id, i?.GetActiveTabUniqueID()).Register(
                this.OnDynamicCapsuleInsert,
              ).Unregister)),
              this.setState(
                {
                  bInitialLoadComplete: !1,
                  rgCapsules: [],
                  nOriginalStartIndex: -1,
                  results: null,
                  nNumRequestedLastTime: 0,
                  bIsMoreAvailable: !0,
                  bAwaitingMoreRowsLoading: !0,
                  strFacetUrlParam: t,
                  currentFlavor: a,
                  fnUnregisterCallback: r,
                },
                () => this.LoadCapsules(),
              );
          }
        }
        OnDynamicCapsuleInsert(e) {
          const { activeTab: t, section: a } = this.props;
          if (
            e &&
            e.sectionID == a.unique_id &&
            t?.GetActiveTabUniqueID() == e.tabID
          ) {
            const t = this.state.rgCapsules ? [...this.state.rgCapsules] : [];
            at(e, t, 2 == this.context.eLocation),
              this.setState({ rgCapsules: t });
          }
        }
        ShowMoreRows() {
          this.m_timerForChange.Cancel(),
            this.m_cancelSignal.token.reason ||
              (V.Get().AddInteraction(
                this.props.section.unique_id,
                this.state.results?.nNextSolrIndex,
              ),
              (0, Be.i9)(
                this.props.history,
                "offset",
                null == this.state.results?.nNextSolrIndex
                  ? void 0
                  : this.state.results?.nNextSolrIndex.toString(),
              ),
              this.setState({ bAwaitingMoreRowsLoading: !0 }, async () => {
                this.LoadCapsules();
              }));
        }
        async FilterItems(e) {
          const { event: t, section: a, activeTab: n } = this.props,
            { facetFilterState: i } = this.state;
          let r = e.map((e) => ({
            id: e.id,
            type: 0 === e.type ? "game" : (0, W.Hy)(e.type),
          }));
          await (0, pe.qr)(r, x.bk),
            this.state.strSearchQuery ||
              t.BUsesContentHubForItemSource() ||
              (r = r.filter((e) => !n || n.ShouldShowCapsule(e)));
          let l = new Array();
          return (
            a?.enable_faceted_browsing &&
              i &&
              ((r = i.ApplyOptInFilters(r)),
              (r = await i.ApplyUserPreferenceFilters(r, !1, l))),
            (r = await (0, pe.A$)(r, !1, l, (e) => st(e, t))),
            r.map((e) => ({ id: e.id, type: (0, W.TM)(e.type) }))
          );
        }
        async LoadCapsules() {
          const {
            event: e,
            activeTab: t,
            section: a,
            controllerCategory: n,
          } = this.props;
          let {
            currentFlavor: i,
            rgCapsules: r,
            nHiddenCapsules: l,
            strSearchQuery: s,
            facetFilterState: o,
          } = this.state;
          const c = 2 == this.context.eLocation;
          await Promise.all([O.jg.Get().HintLoad(), (0, pe.qr)(r, x.bk)]),
            a.enable_faceted_browsing && o && (0, g.z)(() => o.PruneFacets());
          const m = parseInt((0, Be.ks)(this.props.history, "offset")) || 0;
          let d,
            u = !0;
          try {
            const l = {
                nSectionUniqueID: a.unique_id,
                strSectionFilter: (0, M.B3)(a),
                nTabUniqueID: Boolean(s) ? void 0 : t?.GetActiveTabUniqueID(),
                strTabFilter: Boolean(s) ? void 0 : t?.GetStoreFilter(),
                facetFilter: o,
                contentHub: e.GetContentHub(),
                bContentHubDiscountedOnly: e.BContentHubDiscountedOnly(),
                strSearch: s,
                bRequestFacetCounts: a.enable_faceted_browsing,
                eControllerCategory: n,
              },
              p = Boolean(s) ? "search" : i;
            let _;
            (d = await K.Get().GetItemsSoFar(
              this.state.results,
              e,
              p,
              l,
              this.FilterItems,
              m,
              12,
              c,
              this.m_cancelSignal,
              _,
            )),
              (r = d.rgItems?.map((e) => ({
                id: e.id,
                type: 0 === e.type ? "game" : (0, W.Hy)(e.type),
              }))),
              (u = d.bMoreAvailable);
          } catch (e) {
            return void (
              this.m_cancelSignal.token.reason ||
              (console.error("Failed to load games for browser;" + e.message),
              this.setState({
                bInitialLoadComplete: !0,
                bAwaitingMoreRowsLoading: !1,
              }))
            );
          }
          if (this.m_cancelSignal.token.reason) return;
          const p =
            ((_ = a.unique_id),
            (h = t?.GetActiveTabUniqueID()),
            X.Get().GetMatchingInsertion(_, h));
          var _, h;
          p && at(p, r, 2 == this.context.eLocation),
            this.setState({
              bInitialLoadComplete: !0,
              rgCapsules: r,
              nOriginalStartIndex:
                this.state.nOriginalStartIndex >= 0
                  ? this.state.nOriginalStartIndex
                  : m,
              bIsMoreAvailable: u,
              bAwaitingMoreRowsLoading: !1,
              nHiddenCapsules: l,
              results: d,
            });
        }
        OnFlavorLabelClick(e) {
          this.m_timerForChange.Cancel(),
            this.m_cancelSignal.token.reason ||
              (0, Be.Wo)(this.props.history, { flavor: e, offset: void 0 });
        }
        GetFlavorsForActiveTab() {
          const { activeTab: e, browseInfo: t } = this.props,
            a = e?.GetActiveTabUniqueID();
          return a && t?.tabs && t?.show_flavor_on_sale_tabs
            ? t.tabs.filter(
                (e) =>
                  !(e in t.show_flavor_on_sale_tabs) ||
                  0 === t.show_flavor_on_sale_tabs[e].length ||
                  t.show_flavor_on_sale_tabs[e].includes(a),
              )
            : t?.tabs;
        }
        GetDefaultTab() {
          const e = this.GetFlavorsForActiveTab();
          if (!e) return null;
          const t = (0, Be.ks)(this.props.history, "flavor");
          if (t && e.includes(t)) return t;
          return e.find((e) => M.z5.find((t) => t.flavor === e)) || null;
        }
        RenderTabHeaders() {
          const { currentFlavor: e, strRawSearch: t } = this.state,
            a = this.GetFlavorsForActiveTab();
          if (!a) return null;
          const n = Boolean(t) ? "search" : e;
          return a
            .map((e) => M.z5.find((t) => t.flavor === e))
            .filter((e) => !!e)
            .map((e) => {
              let t = e.label,
                a = e.tooltip;
              return (
                this.props.event?.BUsesContentHubForItemSource() &&
                  "contenthub_popular" === e.flavor &&
                  ("controller" === this.props.event?.GetContentHubType()
                    ? ((t =
                        "#Sale_BrowserSortOption_ContentHub_Popular_Controller"),
                      (a =
                        "#Sale_BrowserSortOption_ContentHub_Popular_Controller_ttip"))
                    : "greatondeck" === this.props.event?.GetContentHubType() &&
                      ((t =
                        "#Sale_BrowserSortOption_ContentHub_Popular_GreatOnDeck"),
                      (a =
                        "#Sale_BrowserSortOption_ContentHub_Popular_GreatOnDeck_ttip"))),
                r.createElement(
                  ae.HP,
                  {
                    key: e.flavor,
                    toolTipContent: a,
                    onClick: () => this.OnFlavorLabelClick(e.flavor),
                    className: (0, Q.Z)(
                      Ve().FlavorLabel,
                      n == e.flavor && Ve().SelectedFlavor,
                    ),
                  },
                  (0, ne.Xx)(t),
                )
              );
            });
        }
        OnApplySearch(e) {
          this.m_cancelSignal.token.reason ||
            ((0, Be.i9)(this.props.history, "offset", void 0),
            this.setState(
              {
                bInitialLoadComplete: !1,
                rgCapsules: [],
                nOriginalStartIndex: -1,
                results: null,
                nNumRequestedLastTime: 0,
                bIsMoreAvailable: !0,
                bAwaitingMoreRowsLoading: !0,
                strSearchQuery: e,
              },
              () => this.LoadCapsules(),
            ));
        }
        OnUpdateSearch(e) {
          if (this.m_cancelSignal.token.reason) return;
          const t = e.target.value && e.target.value.trim().toLocaleLowerCase();
          this.setState({ strRawSearch: e.target.value });
          this.m_timerForChange.Schedule(200, () => this.OnApplySearch(t));
        }
        GetSNRFeature() {
          if (this.state.strRawSearch) return "saleitemsearch";
          if (this.state.currentFlavor) {
            let e = this.state.currentFlavor;
            switch (e) {
              case "contenthub_newandtrending":
                e = "newandtrending";
                break;
              case "contenthub_topsellers":
                e = "topsellers";
                break;
              case "contenthub_popular":
                e = "popularpurchased";
                break;
              case "contenthub_toprated":
                e = "toprated";
                break;
              case "contenthub_upcoming":
                e = "popularcomingsoon";
                break;
              case "contenthub_all":
                e = "all";
            }
            return "salebrowse" + e;
          }
          return "saleitembrowse";
        }
        GetSNRData() {
          const { section: e } = this.props;
          if (e?.enable_faceted_browsing) {
            const e = this.state.facetFilterState?.GetSelectedOptionsCount();
            if (e) return { feature: "salefacetbrowse", depth: e };
          }
          return { feature: this.GetSNRFeature() };
        }
        OnUpdateFacetFilter() {
          this.m_cancelSignal.token.reason ||
            (this.state.facetFilterState &&
              (0, Be.Wo)(this.props.history, {
                [`facets${this.props.section?.unique_id}`]:
                  this.state.facetFilterState.GetURLParam(),
                offset: null,
              }));
        }
        OnResize() {
          this.setState({ bIsNarrowScreen: (0, re.p)() });
        }
        render() {
          const {
              browseInfo: e,
              section: t,
              event: a,
              language: n,
              activeTab: i,
            } = this.props,
            {
              bInitialLoadComplete: l,
              rgCapsules: s,
              nOriginalStartIndex: o,
              bIsMoreAvailable: c,
              bAwaitingMoreRowsLoading: m,
              strRawSearch: d,
              nHiddenCapsules: u,
            } = this.state,
            p = Boolean(d),
            _ = this.RenderTabHeaders();
          if (!_ || 0 == _.length) return null;
          const { feature: g, depth: E } = this.GetSNRData(),
            S =
              o > 0
                ? () => {
                    (0, Be.i9)(this.props.history, "offset", void 0),
                      this.setState(
                        {
                          bInitialLoadComplete: !1,
                          rgCapsules: [],
                          nOriginalStartIndex: -1,
                          results: null,
                          nNumRequestedLastTime: 0,
                          bIsMoreAvailable: !0,
                          bAwaitingMoreRowsLoading: !0,
                        },
                        () => this.LoadCapsules(),
                      );
                  }
                : void 0;
          let v = r.createElement(
            r.Fragment,
            null,
            Boolean(
              "dev" === h.De.WEB_UNIVERSE && this.state.results?.strRequest,
            ) &&
              r.createElement(mt, { request: this.state.results.strRequest }),
            l &&
              r.createElement(dt, {
                browseInfo: e,
                rgCapsules: s,
                fnOnRestartBrowse: S,
                fnBIsPermittedApp: this.props.fnBIsPermittedApp,
                feature: g,
                depth: E,
                activeTab: i,
              }),
            l &&
              0 == s.length &&
              r.createElement(
                "div",
                { className: Ve().EmptyResults },
                (0, ne.Xx)("#Sale_EmptySearchResultsOrLoadFailure"),
              ),
            (!l || c) &&
              r.createElement(
                "div",
                {
                  className: (0, Q.Z)(
                    Ve().ShowContentsContainer,
                    !l && Ve().Loading,
                  ),
                },
                !l || m
                  ? r.createElement($, {
                      capsules_per_row: [12],
                      is_item_browser: !0,
                    })
                  : r.createElement(
                      L.wl,
                      {
                        onClick: this.ShowMoreRows,
                        className: Ve().ShowContentsButton,
                      },
                      (0, ne.Xx)("#Sale_ShowMore"),
                    ),
              ),
          );
          return (
            t?.enable_faceted_browsing &&
              (v = r.createElement(
                Ne,
                {
                  language: n,
                  section: t,
                  event: a,
                  facetFilterState: this.state.facetFilterState,
                  nMaxFacetValues: t.max_facet_values_for_facet || 100,
                  fnOnUpdateFilter: this.OnUpdateFacetFilter,
                  onInitFilter: () => {
                    this.setState({
                      facetFilterState: new De(
                        this.props.section.facets,
                        this.props.section
                          .min_capsule_matches_for_facet_values || 1,
                        this.props.section.facet_sort_order ||
                          M.bS.k_ESortFacetsByMatchCount,
                        this.props.language,
                        Ge(this.props.section),
                        xe(this.props.event, this.props.section),
                      ),
                    });
                  },
                  ...this.state.results,
                },
                v,
              )),
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                "div",
                { className: Ue.SaleSectionTitleCtn },
                r.createElement(ee.AO, {
                  section: t,
                  event: a,
                  nHiddenCapsules: u,
                  ...this.props,
                }),
              ),
              r.createElement(
                "div",
                { className: Ve().SaleItemBrowserContainer },
                r.createElement(
                  Fe,
                  { className: Ve().SaleItemBrowserHeaderContainer },
                  r.createElement(
                    B.s,
                    {
                      "flow-children": "row",
                      className: Ve().SaleItemBrowserHeader,
                    },
                    _,
                    e.enable_search &&
                      !this.props.bInGamepadUI &&
                      r.createElement(
                        "div",
                        { className: Ve().SuggestContainer },
                        r.createElement(te.YtI, null),
                        r.createElement(C.II, {
                          type: "text",
                          onChange: this.OnUpdateSearch,
                          bAlwaysShowClearAction: p,
                          value: d,
                        }),
                      ),
                  ),
                ),
                v,
              ),
            )
          );
        }
      };
      function mt(e) {
        const [t, a] = r.useState(),
          [n, i] = r.useState(),
          [l, s] = r.useState(!1);
        return (
          r.useEffect(() => {
            const t = e.request
              .split("&")
              .map((e) => e.split("="))
              .filter((e) => !e[0].startsWith("facet"));
            a(t.map((e) => e.join("=")).join("&")),
              i(
                t.map((e) => [
                  e[0],
                  decodeURIComponent(e[1].replace(/\+/g, " ")),
                ]),
              );
          }, [e.request]),
          "dev" !== h.De.WEB_UNIVERSE
            ? null
            : t && n
              ? r.createElement(
                  "div",
                  {
                    className: (0, Q.Z)(
                      Ve().SaleItemBrowserDebug,
                      w().ValveOnlyBackground,
                    ),
                  },
                  r.createElement(
                    L.Ks,
                    { className: Ve().ShowHideLink, onClick: () => s(!l) },
                    l ? "Hide" : "Show",
                    " Solr Query Details",
                  ),
                  l &&
                    r.createElement(
                      r.Fragment,
                      null,
                      Boolean(n) &&
                        n.map((e, t) =>
                          r.createElement(
                            "div",
                            { key: "filter_" + t, className: Ve().QueryTerm },
                            r.createElement(
                              "div",
                              { className: Ve().Name },
                              e[0],
                            ),
                            r.createElement("div", null, e[1]),
                          ),
                        ),
                      r.createElement(
                        L.IS,
                        {
                          className: Ve().WGTesterLink,
                          target: "_blank",
                          href:
                            "https://local.steam.dev:4443/wg?reqname=QuerySolr&request=" +
                            encodeURIComponent(
                              "['request' => 'QuerySolr', 'core' => 'store', 'query' => '" +
                                t +
                                "']",
                            ),
                        },
                        "Open in WG Tester",
                      ),
                    ),
                )
              : null
        );
      }
      function dt(e) {
        const {
            browseInfo: t,
            rgCapsules: a,
            fnBIsPermittedApp: n,
            fnOnRestartBrowse: i,
            feature: l,
            depth: s,
            activeTab: o,
          } = e,
          c = (0, re.p)();
        return r.createElement(
          ie.ZP,
          { feature: l, depth: s },
          Boolean(i) && r.createElement(ut, { onClick: i }),
          a
            .slice(0)
            .filter(
              (e) => !n || ("sub" != e.type && "bundle" != e.type && n(e.id)),
            )
            .map((e) => {
              let a;
              return (
                !c &&
                  "overrideNavigation" in e &&
                  (a = (t) => (
                    e.overrideNavigation(t),
                    t && (t.preventDefault(), t.stopPropagation()),
                    !1
                  )),
                r.createElement(We, {
                  key: "saleitem_browser_" + e.type + "_" + e.id,
                  bShowDemoButton:
                    t.show_as_demos || o?.BFilterRequiresFeatureDemo(),
                  bShowDeckCompatibilityDialog:
                    t.show_deck_compability_details ||
                    o?.BFilterRequiresSteamDeckVerifiedOrPlayable(),
                  id: e.id,
                  type: e.type || "game",
                  fnOnClickOverride: a,
                })
              );
            }),
        );
      }
      function ut(e) {
        const { onClick: t } = e,
          a = r.useRef();
        return (
          r.useLayoutEffect(() => {
            a?.current?.scrollIntoView();
          }, []),
          r.createElement(
            L.IS,
            {
              ref: a,
              className: Ve().ResetItemsCtn,
              onClick: (e) => {
                t && t(), e.preventDefault(), e.stopPropagation();
              },
            },
            r.createElement(te.Lao, null),
            r.createElement(
              "span",
              { className: Ve().ResetItems },
              (0, ne.Xx)("#Sale_ItemBrowser_ShowFromBeginning"),
            ),
          )
        );
      }
      (0, u.gn)([H.ak], ct.prototype, "OnDynamicCapsuleInsert", null),
        (0, u.gn)([H.ak], ct.prototype, "ShowMoreRows", null),
        (0, u.gn)([H.ak], ct.prototype, "FilterItems", null),
        (0, u.gn)([H.ak], ct.prototype, "OnUpdateSearch", null),
        (0, u.gn)([H.ak], ct.prototype, "OnUpdateFacetFilter", null),
        (0, u.gn)([H.ak], ct.prototype, "OnResize", null),
        (ct = (0, u.gn)([G.Pi], ct));
      var pt = a(47242),
        _t = a(24827),
        ht = a(29480),
        gt = a(50423),
        Et = a(37190),
        St = a(52108),
        vt = a(67675),
        Dt = a(53390),
        ft = a.n(Dt),
        yt = a(93727);
      const bt = (e) => {
        const { event: t } = e,
          a = (0, yt.Iw)(t.GetSaleVanity());
        if (t.BHasSaleVanity()) {
          const e = new Array(),
            n = Math.floor(Date.now() / 1e3),
            i = vt.G.Get().GetVanityFeaturing(t.GetSaleVanity());
          i &&
            i.length > 0 &&
            i.forEach((a) => {
              const i = t.GetSaleVanity().toLowerCase(),
                l = a.clusters[0],
                s = l.page_bg_url && -1 != l.page_bg_url.indexOf(i);
              e.push(
                r.createElement(
                  "div",
                  { key: a.cluster_name },
                  r.createElement(
                    "a",
                    {
                      className: s
                        ? ft().FeaturingActive
                        : ft().FeaturingMainCapsule,
                      target: "_blank",
                      href:
                        h.De.PARTNER_BASE_URL +
                        "admin/store/pageclusteredit/" +
                        a.cluster_name +
                        "/" +
                        a.clusters[0].id +
                        "?activetab=tab_capsules",
                    },
                    Boolean(!l.visible || n < l.startdate) &&
                      r.createElement(
                        "span",
                        { className: ft().FeaturingMissing },
                        (0, ne.Xx)("#Sale_FeaturingHidden"),
                      ),
                    (s ? "" : (0, ne.Xx)("#Sale_CapsuleFeaturing")) +
                      a.cluster_name,
                  ),
                ),
              );
            });
          const l = vt.G.Get().GetVanitySpotlight(t.GetSaleVanity());
          l &&
            e.push(
              r.createElement(
                "div",
                { key: l.id },
                r.createElement(
                  "a",
                  {
                    className: (0, Q.Z)(ft().FeaturingSpotlight),
                    href:
                      h.De.PARTNER_BASE_URL + "admin/store/spotlight/" + l.id,
                    target: "_blank",
                  },
                  Boolean(!l.visible || n < l.startdate) &&
                    r.createElement(
                      "span",
                      { className: ft().FeaturingMissing },
                      (0, ne.Xx)("#Sale_FeaturingHidden"),
                    ),
                  (0, ne.Xx)("#Sale_HasSpotlight"),
                ),
              ),
            );
          const s = vt.G.Get().GetVanityIM(t.GetSaleVanity());
          if (
            (s &&
              e.push(
                r.createElement(
                  "div",
                  { key: s.gid },
                  r.createElement(
                    "a",
                    {
                      className: (0, Q.Z)(ft().FeaturingIM),
                      href:
                        h.De.PARTNER_BASE_URL + "marketing/message/" + s.gid,
                      target: "_blank",
                    },
                    Boolean(n < s.startdate) &&
                      r.createElement(
                        "span",
                        { className: ft().FeaturingMissing },
                        (0, ne.Xx)("#Sale_FeaturingHidden"),
                      ),
                    (0, ne.Xx)("#Sale_HasIM"),
                  ),
                ),
              ),
            a?.length > 0 &&
              a.forEach((t) => {
                e.push(
                  r.createElement(
                    "div",
                    { key: t.gid },
                    r.createElement(
                      "a",
                      {
                        className: (0, Q.Z)(ft().FeaturingDailyDeal),
                        href:
                          h.De.PARTNER_BASE_URL +
                          "admin/store/dailydeal/" +
                          t.gid,
                        target: "_blank",
                      },
                      Boolean(n < t.rtime32_start_time) &&
                        r.createElement(
                          "span",
                          { className: ft().FeaturingMissing },
                          (0, ne.Xx)("#Sale_FeaturingHidden"),
                        ),
                      (0, ne.Xx)("#Sale_DailyDeal"),
                    ),
                  ),
                );
              }),
            t.BHasSaleProductBanners())
          ) {
            const a = r.createElement(
                "div",
                { className: ft().BannerCtn },
                r.createElement(
                  "span",
                  null,
                  (0, ne.Xx)("#Sale_HasProductBanner_ttip"),
                ),
                r.createElement("br", null),
                Boolean(t.GetImageURL("product_banner", 0)) &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(
                      "h2",
                      null,
                      (0, ne.Xx)("#Sale_ArtworkType_product_banner"),
                    ),
                    r.createElement("img", {
                      src: t.GetImageURL("product_banner", 0),
                    }),
                  ),
                r.createElement("br", null),
                r.createElement("br", null),
                Boolean(t.GetImageURL("product_mobile_banner", 0)) &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(
                      "h2",
                      null,
                      (0, ne.Xx)("#Sale_ArtworkType_product_mobile_banner"),
                    ),
                    r.createElement("img", {
                      src: t.GetImageURL("product_mobile_banner", 0),
                    }),
                  ),
              ),
              i = 604800;
            e.push(
              r.createElement(
                "div",
                { key: t.GID + "banner" },
                r.createElement(
                  ae.HP,
                  { toolTipContent: a },
                  r.createElement(
                    "a",
                    {
                      className: ft().FeaturingProductBanner,
                      href:
                        h.De.COMMUNITY_BASE_URL +
                        "gid/" +
                        t.clanSteamID.ConvertTo64BitString() +
                        "/partnerevents/edit/" +
                        t.GID +
                        "?tab=sale#SalePageEdit_SaleBanner",
                    },
                    Boolean(
                      !t.BIsVisibleEvent() ||
                        n < t.startTime ||
                        t.endTime < n ||
                        t.startTime + i < n,
                    ) &&
                      r.createElement(
                        "span",
                        { className: ft().FeaturingMissing },
                        (0, ne.Xx)("#Sale_FeaturingHidden"),
                      ),
                    (0, ne.Xx)("#Sale_HasProductBanner"),
                  ),
                ),
              ),
            );
          }
          return r.createElement(
            "div",
            { className: ft().Featuring },
            r.createElement(
              "div",
              null,
              (0, ne.Xx)(
                t.BIsVisibleEvent()
                  ? "#Sale_ActiveFeaturing"
                  : "#Sale_UpcomingFeaturing",
              ),
            ),
            Boolean(e?.length > 0) ? e : (0, ne.Xx)("#Sale_NoFeaturing"),
          );
        }
        return r.createElement(
          ae.HP,
          { toolTipContent: (0, ne.Xx)("#Sale_NoVanity_ttip") },
          r.createElement(
            "div",
            { className: ft().Featuring },
            r.createElement(
              "span",
              { className: ft().FeaturingMissing },
              (0, ne.Xx)("#Sale_NoVanity"),
            ),
          ),
        );
      };
      function It(e) {
        const { eventModel: t, rgAppIds: a } = e,
          [n, i] = r.useState(a.map((e) => ({ id: e, type: "game" })));
        return r.createElement(
          "div",
          { className: T().SaleItems },
          n.map((e) =>
            r.createElement(Xe.ju, {
              key: e.type + "_" + e.id,
              id: e.id,
              type: e.type || "game",
              bShowDemoButton: !1,
              bLoadShortDescription: !1,
            }),
          ),
        );
      }
      var Ct = a(72200),
        kt = a(2467),
        At = a(16450),
        wt = a.n(At);
      function Pt(e) {
        const t = e.event.GetValveAccessLog(),
          { fnHintLoadPartnerUserInfo: a } = (0, kt.AV)();
        return (
          (0, r.useEffect)(() => {
            t && a(t.map((e) => e.strSteamID));
          }, [t, a]),
          r.createElement(
            "div",
            { className: wt().AccessLog },
            r.createElement(
              "div",
              { className: wt().AccessLogHeader },
              (0, ne.Xx)("#Sale_AccessLogHeader"),
            ),
            t?.length > 0
              ? t
                  .slice()
                  .sort((e, t) => t.rtUpdated - e.rtUpdated)
                  .map((e) =>
                    r.createElement(Tt, {
                      key: "log-" + e.strSteamID + e.rtUpdated,
                      entry: e,
                    }),
                  )
              : (0, ne.Xx)("#Sale_AccessLog_Empty"),
          )
        );
      }
      function Tt(e) {
        const { strSteamID: t, rtUpdated: a, strNotes: n } = e.entry,
          i = t,
          l = (0, kt.XB)(t),
          s = Date.now() / 1e3,
          o = (0, ne.yW)(s - a);
        return r.createElement(
          "div",
          { className: wt().AccessLogEntry },
          r.createElement(
            "div",
            { className: T().Name },
            l
              ? r.createElement(ae.HP, { toolTipContent: l.email }, l.persona)
              : i,
          ),
          "-",
          r.createElement(
            _t.Zg,
            { className: T().Timestamp, rtFullDate: a, stylesmodule: T() },
            o,
          ),
          Boolean(n) && r.createElement("div", null, n),
        );
      }
      var Nt = a(33687);
      function Rt(e) {
        const { saleDescList: t, fnSetFilteredSaleDescList: a } = e,
          [n, i] = (0, Be.Ar)("search", ""),
          l = r.useRef();
        return (
          (0, r.useEffect)(() => {
            if (!n) return a(t);
            const e = t.filter(
              (e) =>
                (e.strEventName || "").toLocaleLowerCase().includes(n) ||
                (e.strVanity || "").toLocaleLowerCase().includes(n),
            );
            a(e);
          }, [n, t, a]),
          r.createElement(C.II, {
            ref: l,
            type: "text",
            label: "Search by Sale Page Name",
            placeholder: "type at least 2 characters..",
            onChange: (e) => {
              const t = String(e.target.value).toLocaleLowerCase();
              (!t || t.trim().length < 2) && i(null), i(t.trim());
            },
          })
        );
      }
      var Gt = a(58670),
        xt = a(73208);
      const Lt = (e) => {
        const {
            saleDescList: t,
            bShowAppBrowse: a,
            bShowFeaturing: n,
            descriptionToken: i,
            hiddenSaleDescList: l,
            bShowRankView: s,
          } = e,
          [o, c] = (0, r.useState)(() => t);
        return r.createElement(
          "div",
          { className: (0, Q.Z)(R().SectionContainer) },
          r.createElement(Rt, {
            saleDescList: t,
            fnSetFilteredSaleDescList: c,
          }),
          Boolean(i) &&
            r.createElement(
              "div",
              { className: R().SaleSectionDesc },
              (0, ne.Xx)(i),
            ),
          o.map((e) =>
            r.createElement(
              k.SV,
              { key: e.clanEventGID },
              r.createElement(
                pt.Y,
                { placeholderHeight: "160px", rootMargin: "0px 0px 200px 0px" },
                r.createElement(Mt, {
                  saleDesc: e,
                  bShowAppBrowse: a,
                  bShowFeaturing: n,
                  bShowRankView: s,
                }),
              ),
            ),
          ),
          Boolean(0 == o.length) &&
            r.createElement(
              "div",
              { className: R().Empty },
              (0, ne.Xx)("#Sale_EventStats_Empty"),
            ),
          Boolean(l?.length > 0) &&
            l.map((e) =>
              r.createElement(
                k.SV,
                { key: e.clanEventGID },
                r.createElement(Ot, { saleDesc: e }),
              ),
            ),
        );
      };
      function Bt(e) {
        const { saleDesc: t } = e,
          a = (0, d.J)(t.clanAccountID),
          n =
            h.De.COMMUNITY_BASE_URL +
            "gid/" +
            o.K.InitFromClanID(t.clanAccountID).ConvertTo64BitString() +
            "/partnerevents/edit/" +
            t.clanEventGID;
        return r.createElement(
          "div",
          { className: R().TileContainer },
          r.createElement(
            "div",
            { className: R().Tile },
            (0, ne.Xx)("#Loading"),
            ":",
            r.createElement("br", null),
            (0, ne.Xx)("#Sale_Section_Preload_Name"),
            " ",
            t.strEventName,
            r.createElement("br", null),
            "Community Group Account ID: ",
            t.clanAccountID,
            r.createElement("br", null),
            "EventGID: ",
            t.clanEventGID,
            r.createElement("br", null),
            Boolean(a.can_edit) &&
              r.createElement(
                r.Fragment,
                null,
                (0, ne.Xx)("#Sale_Section_Type_links"),
                ": ",
                r.createElement(
                  "a",
                  { href: n },
                  (0, ne.Xx)("#EventEditor_Edit"),
                ),
              ),
          ),
          r.createElement("div", { className: R().Footer }),
        );
      }
      function Mt(e) {
        const {
            saleDesc: t,
            bShowAppBrowse: a,
            bShowFeaturing: i,
            bShowRankView: l,
            bHidePartnerStats: d,
            bShowWhyAmISeeingThis: u,
          } = e,
          [p, _] = r.useState(!0),
          g = (0, n.Z)(),
          [E, S] = r.useState(!1);
        if (
          ((0, r.useEffect)(() => {
            const e = o.K.InitFromClanID(t.clanAccountID),
              a = [
                y.j1.QueueLoadPartnerEvent(t.clanAccountID, t.clanEventGID, !0),
                m.sV.LoadClanInfoForClanSteamID(e),
              ];
            !g &&
              (0, Ct.wK)(t) &&
              a.push(
                Et.Q.Get().FetchSalePageDetails(
                  t.clanAccountID,
                  t.clanEventGID,
                ),
              ),
              Promise.all(a).then(() => _(!1));
          }, [g, t]),
          p)
        )
          return r.createElement(Bt, {
            saleDesc: t,
            bShowAppBrowse: e.bShowAppBrowse,
            bShowFeaturing: !g,
            bShowWhyAmISeeingThis: u,
          });
        const v = y.j1.GetClanEventModel(t.clanEventGID);
        if (!v)
          return r.createElement(
            r.Fragment,
            null,
            r.createElement(
              "div",
              null,
              "Failed to load event. Are you logged into the Steam Store?",
            ),
            r.createElement(Bt, {
              saleDesc: t,
              bShowAppBrowse: e.bShowAppBrowse,
              bShowFeaturing: !g,
              bShowWhyAmISeeingThis: u,
            }),
          );
        const D = (0, s.jM)(h.De.LANGUAGE),
          f = v.GetSaleURL();
        return r.createElement(
          k.SV,
          null,
          r.createElement(
            "div",
            { className: (0, Q.Z)(R().TileContainer) },
            r.createElement(zt, { clanAccountID: t.clanAccountID }),
            r.createElement(Wt, {
              saleDesc: t,
              strSaleURL: v.GetSaleURL(),
              strEventName: v.GetNameWithFallback(D),
            }),
            r.createElement(
              "div",
              { className: (0, Q.Z)(R().EventDetailsCtn) },
              r.createElement(
                ae.HP,
                { toolTipContent: v.GetSummaryWithFallback(D) },
                r.createElement(
                  "a",
                  { href: f, target: "_blank" },
                  r.createElement("img", {
                    className: (0, Q.Z)(R().CapsuleImg),
                    src: v.GetImageURLWithFallback(
                      "capsule",
                      D,
                      c.FN.capsule_main,
                    ),
                  }),
                ),
              ),
              r.createElement(
                "div",
                { className: (0, Q.Z)(R().TopStatsCtn) },
                r.createElement(Xt, {
                  saleDesc: t,
                  eventModel: v,
                  bShowAppBrowse: a,
                  bShowRankView: !g && l,
                }),
                Boolean(!d) &&
                  r.createElement(
                    r.Fragment,
                    null,
                    Boolean(v.BIsVisibleEvent() && g) &&
                      r.createElement(Ft, { eventModel: v }),
                    Boolean(v.BIsVisibleEvent() && !g) &&
                      r.createElement(Ut, { eventModel: v }),
                    Boolean(!g) &&
                      r.createElement(Ct.zP, {
                        saleDesc: t,
                        bDetailsAreVisible: E,
                        fnToggleDetails: () => S(!E),
                      }),
                  ),
              ),
              r.createElement(Ht, { eventModel: v }),
              r.createElement(Vt, {
                saleDesc: t,
                eventModel: v,
                showWhyAmISeeingThis: u,
              }),
              Boolean(!g && i) && r.createElement(bt, { event: v }),
              Boolean(!g) && r.createElement(Pt, { event: v }),
            ),
            E && r.createElement(Ct._o, { saleDesc: t }),
          ),
        );
      }
      function Ot(e) {
        const { saleDesc: t } = e,
          a = t.bFeaturedNextSeasonalSale
            ? h.De.STORE_BASE_URL + "sale/" + t.strVanity
            : h.De.STORE_BASE_URL +
              "curator/" +
              t.clanAccountID +
              "/sale/" +
              t.strVanity;
        return r.createElement(
          "div",
          { className: (0, Q.Z)(R().TileContainer) },
          r.createElement(Wt, {
            saleDesc: t,
            strSaleURL: a,
            strEventName: t.strEventName,
          }),
          r.createElement(
            "div",
            { className: (0, Q.Z)(R().EventDetailsCtn) },
            (0, ne.Xx)("#Sale_InDraftModeNoAccess"),
          ),
          r.createElement(zt, { clanAccountID: t.clanAccountID }),
        );
      }
      function Ft(e) {
        const { eventModel: t } = e;
        return (0, d.J)(t.clanSteamID.GetAccountID()).can_edit
          ? r.createElement(Ut, { eventModel: t })
          : null;
      }
      function Ut(e) {
        const { eventModel: t } = e,
          a = t.GID,
          n = t.clanSteamID.GetAccountID(),
          [i, l] = r.useState(!D.BHasEventStats(n, a)),
          s = (0, ht.T)("SaleEventRowTile");
        return (
          r.useEffect(() => {
            if (i && y.j1.GetClanEventModel(a).BIsVisibleEvent()) {
              const e = o.K.InitFromClanID(n);
              D.LoadStatsForEvents(e, [a], s).finally(() => l(!1));
            }
            return () => s?.cancel("unloading SaleEventRowTile");
          }, [i, s, n, a]),
          i
            ? r.createElement(Je.V, { string: (0, ne.Xx)("#Loading") })
            : r.createElement(
                "div",
                null,
                r.createElement(
                  "div",
                  { className: (0, Q.Z)(T().BigNumber) },
                  D.GetStatsFor(
                    t.clanSteamID,
                    a,
                  ).m_stats.store_app_page_read.toLocaleString(),
                ),
                r.createElement(
                  "span",
                  {
                    "data-tooltip-text": (0, ne.Xx)("#Sale_EventStats_Read"),
                    className: (0, Q.Z)(A.HelperTooltip, T().StatText),
                  },
                  (0, ne.Xx)("#Sale_EventStats_Read_Title"),
                ),
              )
        );
      }
      function Ht(e) {
        const { eventModel: t } = e,
          a = t.GetSaleFeaturedAppsCount(),
          n = t.GetSaleFeaturedBundlesCount(),
          i = t.GetSaleFeaturedPackagesCount();
        return r.createElement(
          "div",
          { className: (0, Q.Z)(R().BasicStatsCtn) },
          Boolean(a) &&
            r.createElement(
              r.Fragment,
              null,
              (0, ne.Xx)("#Sale_Stats_Apps_featured", a),
              r.createElement("br", null),
            ),
          Boolean(n) &&
            r.createElement(
              r.Fragment,
              null,
              (0, ne.Xx)("#Sale_Stats_Bundles", n),
              r.createElement("br", null),
            ),
          Boolean(i) &&
            r.createElement(
              r.Fragment,
              null,
              (0, ne.Xx)("#Sale_Stats_Packages", i),
              r.createElement("br", null),
            ),
        );
      }
      function Vt(e) {
        const { saleDesc: t, eventModel: a, showWhyAmISeeingThis: i } = e,
          l = (0, n.Z)(),
          s = r.useMemo(() => t.rgAppIds?.length, [t.rgAppIds]),
          o = (0, d.J)(a.clanSteamID.GetAccountID()),
          c = a.clanSteamID.GetAccountID(),
          m = a.GID,
          u = a.GetSaleURL(),
          p =
            h.De.COMMUNITY_BASE_URL +
            "gid/" +
            a.clanSteamID.ConvertTo64BitString() +
            "/partnerevents/edit/" +
            m +
            "?tab=sale",
          _ =
            h.De.COMMUNITY_BASE_URL +
            "gid/" +
            a.clanSteamID.ConvertTo64BitString() +
            "/partnerevents/preview/" +
            m,
          g = new Date(1e3 * a.GetStartTimeAndDateUnixSeconds()),
          E = new Date(1e3 * a.GetEndTimeAndDateUnixSeconds()),
          S =
            h.De.INTERNAL_STATS_BASE_URL +
            "sales/details/?gid=" +
            m +
            "&clanid=" +
            c +
            "&dateStart=" +
            g.getFullYear() +
            "-" +
            (g.getMonth() + 1) +
            "-" +
            g.getDate() +
            "&dateEnd=" +
            g.getFullYear() +
            "-" +
            (E.getMonth() + 1) +
            "-" +
            E.getDate();
        return r.createElement(
          "div",
          { className: (0, Q.Z)(R().LinkCtn) },
          Boolean(o.can_edit) &&
            r.createElement(
              "a",
              { href: p, target: "_blank" },
              (0, ne.Xx)("#EventEditor_Edit"),
            ),
          Boolean(!a.BIsVisibleEvent() && o.can_edit) &&
            r.createElement(
              "a",
              { href: _, target: "_blank" },
              (0, ne.Xx)("#Sale_Link_PreviewEvent"),
            ),
          Boolean(a.BIsVisibleEvent()) &&
            r.createElement(
              "a",
              { href: u, target: "_blank" },
              (0, ne.Xx)("#Sale_Link_SalePage"),
            ),
          Boolean(!l) &&
            r.createElement(
              "a",
              { href: S, target: "_blank" },
              (0, ne.Xx)("#Sale_Link_Stats"),
            ),
          r.createElement("div", { className: R().Spacer }),
          Boolean(l && i) &&
            r.createElement(
              "div",
              {
                className: R().WhyTooltip,
                "data-tooltip-text": (0, ne.kb)(
                  "#Sale_Stats_WhyAmISeeingThis_ttip",
                  s,
                ),
              },
              (0, ne.Xx)("#Sale_Stats_WhyAmISeeingThis"),
            ),
        );
      }
      function Xt(e) {
        const {
            saleDesc: t,
            eventModel: a,
            bShowAppBrowse: i,
            bShowRankView: l,
          } = e,
          s = (0, n.Z)(),
          o = r.useMemo(() => new Set(t.rgAppIds), [t.rgAppIds]),
          c = (0, r.useCallback)(
            (e) => {
              (0, tt.AM)(
                r.createElement(jt, {
                  nPartnerID: s,
                  eventModel: a,
                  setAppIds: o,
                }),
                (0, gt.RA)(e),
              );
            },
            [a, s, o],
          );
        return r.createElement(
          "div",
          { className: (0, Q.Z)(R().FeaturedApps) },
          r.createElement(
            "div",
            { className: (0, Q.Z)(T().BigNumber) },
            o.size,
          ),
          r.createElement(
            "span",
            {
              "data-tooltip-text": (0, ne.Xx)(
                s ? "#Sale_Stats_Apps_Partner_Ttip" : "#Sale_Stats_Apps_Ttip",
              ),
              className: (0, Q.Z)(A.HelperTooltip, T().StatText),
            },
            r.createElement(
              "span",
              {
                onClick: i ? c : void 0,
                className: (0, Q.Z)(i && R().BrowseLink),
              },
              (0, ne.Xx)(s ? "#Sale_Stats_Apps_Partner" : "#Sale_Stats_Apps"),
            ),
            l &&
              r.createElement(
                "span",
                {
                  onClick: (e) => {
                    (0, tt.AM)(
                      r.createElement(qt, { eventModel: a }),
                      (0, gt.RA)(e),
                    );
                  },
                  className: (0, Q.Z)(R().BrowseLink, A.ValveOnlyBackground),
                },
                " (Sales Rank)",
              ),
          ),
        );
      }
      function jt(e) {
        const { closeModal: t, nPartnerID: a, eventModel: n, setAppIds: i } = e;
        return r.createElement(
          Ze.RG,
          { bAllowFullSize: !0, closeModal: t },
          r.createElement(
            C.h4,
            null,
            (0, ne.Xx)("#Sale_DashBoard_ShowLiveData"),
          ),
          r.createElement(
            C.uT,
            null,
            r.createElement(
              k.SV,
              null,
              r.createElement(
                "p",
                null,
                (0, ne.Xx)("#Sale_DashBoard_YourIncludedGames"),
              ),
              r.createElement("br", null),
              r.createElement(
                "div",
                { className: T().QuickViewCtn },
                a
                  ? r.createElement(It, {
                      eventModel: n,
                      rgAppIds: Array.from(i),
                    })
                  : r.createElement(
                      ot.QI,
                      { location: 2 },
                      r.createElement(ct, {
                        key: n.GID,
                        event: n,
                        browseInfo: {
                          enable_search: !0,
                          show_as_demos: !1,
                          tabs: [
                            "popularpurchased",
                            "recentlyreleased",
                            "popularcomingsoon",
                            "topwishlisted",
                            "trendingwishlisted",
                            "mostplayeddemo",
                            "dailyactiveuserdemo",
                            "playednowdemo",
                          ],
                        },
                        language: (0, s.jM)(h.De.LANGUAGE),
                        activeTab: null,
                        fnBIsPermittedApp: (e) => i.has(e),
                      }),
                    ),
              ),
            ),
          ),
        );
      }
      function qt(e) {
        const { closeModal: t, eventModel: a } = e,
          n = (0, r.useMemo)(() => Array.from(a.GetSaleFeaturedApps()), [a]),
          s = (0, i.l)(n),
          o = (0, Nt.og)(n),
          c = r.useRef(null),
          m = [
            { title: "App ID", formatter: St.L2, field: "appid", width: 100 },
            { title: "Name", formatter: St.IX, field: "name", width: 300 },
            {
              title: "Long Term Sales Rank",
              formatter: St.AV,
              field: "long_term_sales_rank",
              width: 120,
            },
            {
              title: "has discount",
              formatter: St.sN,
              field: "discount_info",
              width: 450,
            },
          ],
          d = (0, I.wZ)(n, { include_release: !0 }),
          u = (0, r.useMemo)(
            () =>
              1 == d || s.bLoading || !o
                ? null
                : n.map((e) => {
                    const t = b.Z.Get().GetApp(e);
                    return {
                      appid: e,
                      name: t?.GetName() || "Unknonw",
                      long_term_sales_rank: s.fnbHasSomeLongTermSaleRankForApp(
                        e,
                      )
                        ? s.fnGetLongTermSaleRankForApp(e)
                        : 1e7,
                      discount_info: (0, Nt.Lr)(
                        e,
                        o,
                        a.GetStartTimeAndDateUnixSeconds(),
                        a.GetEndTimeAndDateUnixSeconds(),
                        "dummy_discountid",
                      ),
                    };
                  }),
            [d, s, n, o, a],
          );
        return 1 != d && u && !s.bLoading && o
          ? r.createElement(
              Ze.RG,
              { bAllowFullSize: !0, closeModal: t },
              r.createElement(
                C.h4,
                null,
                (0, ne.Xx)("#Sale_DashBoard_ShowLiveData"),
              ),
              r.createElement(
                C.uT,
                null,
                r.createElement(
                  k.SV,
                  null,
                  r.createElement(l.ReactTabulator, {
                    ref: c,
                    columns: m,
                    data: u,
                    options: {
                      downloadDataFormatter: (e) => e,
                      downloadReady: (e, t) => t,
                      initialSort: [
                        { column: "long_term_sales_rank", dir: "asc" },
                      ],
                    },
                  }),
                  r.createElement("br", null),
                ),
              ),
            )
          : r.createElement(Je.V, {
              string: (0, ne.Xx)("#Loading"),
              size: "medium",
              position: "center",
            });
      }
      function Wt(e) {
        const { saleDesc: t, strSaleURL: a, strEventName: n } = e;
        return r.createElement(
          "div",
          { className: (0, Q.Z)(R().EventNameCtn) },
          r.createElement(
            "a",
            { href: a, target: "_blank", className: R().EventName },
            n,
          ),
          r.createElement(
            "div",
            { className: (0, Q.Z)(R().DatesCtn) },
            (0, ne.kQ)(
              "#Sale_Dates",
              t.rtStartTime &&
                r.createElement(_t.H6, {
                  dateAndTime: t.rtStartTime,
                  bSingleLine: !0,
                  bOnlyDate: !0,
                }),
              t.rtEndTime &&
                r.createElement(_t.H6, {
                  dateAndTime: t.rtEndTime,
                  bSingleLine: !0,
                  bOnlyDate: !0,
                }),
            ),
          ),
        );
      }
      function zt(e) {
        const { clanAccountID: t } = e,
          [a, n] = (0, m.KU)(t),
          i = {
            clan_account_id: n.clanAccountID,
            name: n.group_name,
            type: "developer",
          },
          l = (0, Gt.iG)(i.clan_account_id),
          s = l?.GetCreatorHomeURL(i.type);
        return a || !n
          ? r.createElement(
              "div",
              { className: (0, Q.Z)(R().ClanInfoCtn) },
              r.createElement(Je.V, {
                string: (0, ne.Xx)("#Loading"),
                size: "medium",
                position: "center",
              }),
            )
          : r.createElement(
              xt.ex,
              { href: s },
              r.createElement(
                "div",
                { className: (0, Q.Z)(R().ClanInfoCtn) },
                r.createElement(
                  "div",
                  { className: R().ClanInfoName },
                  n.group_name,
                ),
                r.createElement("img", {
                  className: (0, Q.Z)(R().Avatar),
                  src: n.avatar_full_url,
                }),
              ),
            );
      }
    },
    72200: (e, t, a) => {
      "use strict";
      a.d(t, { _o: () => y, wK: () => P, zP: () => f });
      var n = a(27605),
        i = a(47427),
        r = a(6683),
        l = a(1485),
        s = a(10162),
        o = a(71741),
        c = a(24827),
        m = a(13129),
        d = a(31846),
        u = a(45284),
        p = a(37563),
        _ = a(37190),
        h = a(98255),
        g = a.n(h),
        E = a(80310),
        S = a.n(E),
        v = a(68542),
        D = a.n(v);
      const f = (0, n.Pi)((e) => {
          const { saleDesc: t, bDetailsAreVisible: a, fnToggleDetails: n } = e,
            [r, l] = (0, i.useState)(P(t));
          (0, i.useEffect)(() => {
            P(t) &&
              _.Q.Get()
                .FetchSalePageDetails(t.clanAccountID, t.clanEventGID)
                .then(() => l(!1));
          }, [t]);
          const s = Date.now() / 1e3;
          if (!(t.bVisible && t.rtStartTime < s && !r)) return null;
          const c = _.Q.Get().GetSaleDetails(t.clanAccountID, t.clanEventGID),
            u = c && Number(c.grossSalesUSD),
            p = Number.isNaN(u) ? (0, d.Xx)("#Sale_Stats_NoData") : x(u);
          return i.createElement(
            "div",
            { className: (0, m.Z)(D().SaleDetails) },
            i.createElement("div", { className: (0, m.Z)(g().BigNumber) }, p),
            i.createElement(
              "span",
              {
                "data-tooltip-text": (0, d.Xx)("#Sale_Stats_GrossSales_ttip"),
                className: o.HelperTooltip,
              },
              (0, d.Xx)("#Sale_Stats_GrossSales"),
            ),
            !Number.isNaN(u) &&
              i.createElement(
                "div",
                { onClick: n, className: S().DetailedStatsButton },
                (0, d.Xx)(
                  a
                    ? "#Sale_Stats_HideDetailedStatsButton"
                    : "#Sale_Stats_SeeDetailedStatsButton",
                ),
              ),
          );
        }),
        y = (0, n.Pi)((e) => {
          const t = (0, _.e)(e.saleDesc.clanAccountID, e.saleDesc.clanEventGID);
          if (!t) return null;
          const a = [
              {
                title: "App ID",
                formatter: function (e, t, a) {
                  return (
                    "<a style='font-weight:bold' target='_blank' href='" +
                    p.De.PARTNER_BASE_URL +
                    "apps/landing/" +
                    e.getValue() +
                    "'>" +
                    e.getValue() +
                    "</a>"
                  );
                },
                field: "appid",
                width: 100,
              },
              {
                title: "Name",
                formatter: function (e, t, a) {
                  return (
                    "<a style='font-weight:bold' target='_blank' href='" +
                    p.De.STORE_BASE_URL +
                    "app/" +
                    e.getRow().getCells()[0].getValue() +
                    "'>" +
                    e.getValue() +
                    "</a>"
                  );
                },
                field: "name",
                width: 300,
              },
              {
                title: "Total US$",
                formatter: L,
                field: "gross_sales_usd",
                width: 120,
              },
              {
                title: "Total Units",
                formatter: G,
                field: "gross_units_sold",
                width: 120,
              },
              { title: "Discounts", field: "discounts", width: 120 },
              {
                title: "Impressions",
                formatter: G,
                field: "impressions",
                width: 120,
              },
              {
                title: "Non-owners",
                formatter: G,
                field: "no_impressions",
                width: 120,
              },
              {
                title: "Page Visits",
                formatter: G,
                field: "views",
                width: 120,
              },
              {
                title: "Non-owners",
                formatter: G,
                field: "no_views",
                width: 120,
              },
            ],
            n = i.useRef(null);
          let o,
            h = [];
          for (const e in t.rgApps) {
            const a =
                Number(t.rgNavMetrics[e].total_impressions) -
                Number(t.rgNavMetrics[e].owner_total_impressions),
              n =
                Number(t.rgNavMetrics[e].total_views) -
                Number(t.rgNavMetrics[e].owner_total_views);
            (o = {
              appid: t.rgApps[e].id,
              name: t.rgApps[e].name,
              gross_sales_usd: t.rgAppSaleSummaries[e].gross_sales_usd,
              gross_units_sold: t.rgAppSaleSummaries[e].gross_units_sold,
              discounts: A(t.rgApps[e].subs, t),
              impressions: t.rgNavMetrics[e].total_impressions,
              no_impressions: a,
              views: t.rgNavMetrics[e].total_views,
              no_views: n,
            }),
              h.push(o);
          }
          const E = Date.now() / 1e3,
            v = (0, d.yW)(E - t.rtime_written),
            D = t.totalImpressions - t.ownerTotalImpressions,
            f = t.totalViews - t.ownerTotalViews,
            y =
              (t.rgExplicitAppIDs
                .slice()
                .sort((e, a) => (0, u.tN)(t.rgApps[e].name, t.rgApps[a].name)),
              t.rgExplicitPackageIDs
                .slice()
                .sort((e, a) =>
                  (0, u.tN)(t.rgPackages[e].name, t.rgPackages[a].name),
                )),
            w = t.rgExplicitBundleIDs
              .slice()
              .sort((e, a) =>
                (0, u.tN)(t.rgBundles[e].name, t.rgBundles[a].name),
              );
          return i.createElement(
            "div",
            { className: S().DetailedStats },
            i.createElement(
              "div",
              { className: S().DetailedStatsTopBar },
              i.createElement(
                b,
                { name: (0, d.Xx)("#Sale_Stats_GrossSales") },
                i.createElement(I, {
                  name: (0, d.Xx)("#Sale_Stats_SalesUSD"),
                  value: x(t.grossSalesUSD),
                }),
                i.createElement(I, {
                  name: (0, d.Xx)("#Sale_Stats_SalesUnits"),
                  value: R(t.grossUnitsSold),
                }),
              ),
              i.createElement(
                b,
                { name: (0, d.Xx)("#Sale_Stats_DiscountedGrossSales") },
                i.createElement(I, {
                  name: (0, d.Xx)("#Sale_Stats_SalesUSD"),
                  value: x(t.discountedGrossSalesUSD),
                }),
                i.createElement(I, {
                  name: (0, d.Xx)("#Sale_Stats_SalesUnits"),
                  value: R(t.discountedGrossUnitsSold),
                }),
              ),
              i.createElement(
                b,
                { name: (0, d.Xx)("#Sale_Stats_ImpressionCount") },
                i.createElement(I, {
                  name: (0, d.Xx)("#Sale_Stats_TotalProductCount"),
                  value: R(t.totalImpressions),
                }),
                i.createElement(I, {
                  name: (0, d.Xx)("#Sale_Stats_NonOwnerProductCount"),
                  value: R(D),
                }),
              ),
              i.createElement(
                b,
                { name: (0, d.Xx)("#Sale_Stats_ViewCount") },
                i.createElement(I, {
                  name: (0, d.Xx)("#Sale_Stats_TotalProductCount"),
                  value: R(t.totalViews),
                }),
                i.createElement(I, {
                  name: (0, d.Xx)("#Sale_Stats_NonOwnerProductCount"),
                  value: R(f),
                }),
              ),
              i.createElement(
                "div",
                { className: S().DetailedStatsTimestamp },
                i.createElement(
                  c.Zg,
                  {
                    className: g().Timestamp,
                    rtFullDate: t.rtime_written,
                    stylesmodule: g(),
                  },
                  (0, d.Xx)("#Sale_Stats_DetailTimestamp", v),
                ),
              ),
            ),
            i.createElement(
              "div",
              { className: S().DetailedStatsRows },
              i.createElement(
                "div",
                { className: S().DetailedStatsSectionHeader },
                i.createElement(
                  "div",
                  { className: S().SectionHeaderName },
                  (0, d.Xx)("#Sale_Stats_AppDetailsHeader"),
                ),
                i.createElement(
                  "div",
                  { className: S().SectionHeaderDescription },
                  (0, d.Xx)("#Sale_Stats_AppDetailsDescription"),
                ),
              ),
              i.createElement(
                s.SV,
                null,
                i.createElement(r.ReactTabulator, {
                  ref: n,
                  columns: a,
                  data: h,
                  options: {
                    downloadDataFormatter: (e) => e,
                    downloadReady: (e, t) => t,
                    initialSort: [{ column: "gross_sales_usd", dir: "desc" }],
                  },
                }),
                i.createElement("br", null),
              ),
              i.createElement(
                l.zx,
                {
                  id: "download-csv",
                  onClick: function () {
                    n.current.table.download("csv", "data.csv");
                  },
                  style: { width: "120px" },
                },
                "Download CSV",
              ),
              i.createElement(
                "div",
                { className: S().DetailedStatsSectionHeader },
                i.createElement(
                  "div",
                  { className: S().SectionHeaderName },
                  (0, d.Xx)("#Sale_Stats_PackageDetailsHeader"),
                ),
                i.createElement(
                  "div",
                  { className: S().SectionHeaderDescription },
                  (0, d.Xx)("#Sale_Stats_PackageDetailsDescription"),
                ),
              ),
              i.createElement(
                "div",
                {
                  className: (0, m.Z)(
                    S().DetailedStatsRow,
                    S().DetailedStatsRowHeader,
                  ),
                },
                i.createElement(
                  "div",
                  { className: S().DetailedStatShort },
                  (0, d.Xx)("#Sale_Stats_PackageId"),
                ),
                i.createElement(
                  "div",
                  { className: S().DetailedStatLong },
                  (0, d.Xx)("#Sale_Stats_ItemName"),
                ),
                i.createElement(
                  "div",
                  { className: S().DetailedStatShort },
                  (0, d.Xx)("#Sale_Stats_ListedAppsHeader"),
                ),
                i.createElement(
                  "div",
                  { className: S().DetailedStatShort },
                  (0, d.Xx)("#Sale_Stats_SalesUSD"),
                ),
                i.createElement(
                  "div",
                  { className: S().DetailedStatShort },
                  (0, d.Xx)("#Sale_Stats_SalesUnits"),
                ),
                i.createElement(
                  "div",
                  { className: S().DetailedStatShort },
                  (0, d.Xx)("#Sale_Stats_DiscountRange"),
                ),
              ),
              y.map((e) =>
                i.createElement(C, {
                  key: `package-${e}`,
                  packageid: e,
                  saleDetails: t,
                }),
              ),
              i.createElement(
                "div",
                { className: S().DetailedStatsSectionHeader },
                i.createElement(
                  "div",
                  { className: S().SectionHeaderName },
                  (0, d.Xx)("#Sale_Stats_BundleDetailsHeader"),
                ),
                i.createElement(
                  "div",
                  { className: S().SectionHeaderDescription },
                  (0, d.Xx)("#Sale_Stats_BundleDetailsDescription"),
                ),
              ),
              i.createElement(
                "div",
                {
                  className: (0, m.Z)(
                    S().DetailedStatsRow,
                    S().DetailedStatsRowHeader,
                  ),
                },
                i.createElement(
                  "div",
                  { className: S().DetailedStatShort },
                  (0, d.Xx)("#Sale_Stats_BundleId"),
                ),
                i.createElement(
                  "div",
                  { className: S().DetailedStatLong },
                  (0, d.Xx)("#Sale_Stats_ItemName"),
                ),
                i.createElement(
                  "div",
                  { className: S().DetailedStatShort },
                  (0, d.Xx)("#Sale_Stats_ListedAppsHeader"),
                ),
                i.createElement(
                  "div",
                  { className: S().DetailedStatShort },
                  (0, d.Xx)("#Sale_Stats_PackageDetailsHeader"),
                ),
              ),
              w.map((e) =>
                i.createElement(k, {
                  key: `app-${e}`,
                  bundleid: e,
                  saleDetails: t,
                }),
              ),
            ),
          );
        }),
        b = (e) =>
          i.createElement(
            "div",
            { className: S().TopBarSection },
            i.createElement(
              "div",
              { className: S().TopBarSectionName },
              e.name,
            ),
            i.createElement(
              "div",
              { className: S().TopBarSubSections },
              e.children,
            ),
          ),
        I = (e) =>
          i.createElement(
            "div",
            { className: S().TopBarSubSection },
            i.createElement("div", { className: S().SubSectionName }, e.name),
            i.createElement("div", { className: S().SubSectionValue }, e.value),
          ),
        C = (e) => {
          const { packageid: t, saleDetails: a } = e;
          return i.createElement(
            "div",
            { className: S().DetailedStatsRow },
            i.createElement("div", { className: S().DetailedStatShort }, t),
            i.createElement(
              "div",
              { className: S().DetailedStatLong },
              a.rgPackages[t].name,
            ),
            i.createElement(
              "div",
              { className: S().DetailedStatShort },
              a.rgPackages[t].contains_apps.length,
            ),
            i.createElement(
              "div",
              { className: S().DetailedStatShort },
              x(a.rgPackageSaleSummaries[t].gross_sales_usd),
            ),
            i.createElement(
              "div",
              { className: S().DetailedStatShort },
              R(a.rgPackageSaleSummaries[t].gross_units_sold),
            ),
            i.createElement(
              "div",
              { className: S().DetailedStatShort },
              i.createElement(w, { rgPackageIds: [t], saleDetails: a }),
            ),
          );
        },
        k = (e) => {
          const { bundleid: t, saleDetails: a } = e;
          return i.createElement(
            "div",
            { className: S().DetailedStatsRow },
            i.createElement("div", { className: S().DetailedStatShort }, t),
            i.createElement(
              "div",
              { className: S().DetailedStatLong },
              a.rgBundles[t].name,
            ),
            i.createElement(
              "div",
              { className: S().DetailedStatShort },
              a.rgBundles[t].contains_packages.length,
            ),
            i.createElement(
              "div",
              { className: S().DetailedStatShort },
              a.rgBundles[t].contains_apps.length,
            ),
          );
        };
      function A(e, t) {
        let a, n;
        for (const i of e) {
          const e = t.rgPackageDiscounts[Number(i)];
          if (e?.length)
            for (const t of e)
              (void 0 === a || a > t.percentage) && (a = t.percentage),
                (void 0 === n || n < t.percentage) && (n = t.percentage);
        }
        return void 0 === a
          ? (0, d.Xx)("#Sale_Stats_NoDiscounts")
          : a == n
            ? `${a}%`
            : `${a}%-${n}%`;
      }
      const w = (e) => {
        const { rgPackageIds: t, saleDetails: a } = e;
        return i.createElement("div", null, A(t, a));
      };
      function P(e) {
        const t = Date.now() / 1e3;
        return (
          e.bVisible &&
          e.rtStartTime < t &&
          !_.Q.Get().BHasSaleDetails(e.clanAccountID, e.clanEventGID)
        );
      }
      let T, N;
      function R(e) {
        return T || (T = new Intl.NumberFormat("en-US")), T.format(Number(e));
      }
      function G(e, t, a) {
        return R(e.getValue());
      }
      function x(e) {
        return (
          N ||
            (N = new Intl.NumberFormat("en-US", {
              style: "currency",
              currency: "USD",
            })),
          N.format(Math.round(Number(e) / 100)).slice(0, -3)
        );
      }
      function L(e, t, a) {
        return x(e.getValue());
      }
    },
    50900: (e, t, a) => {
      "use strict";
      a.d(t, {
        $: () => c,
        $d: () => s,
        GB: () => o,
        K4: () => d,
        Kd: () => m,
        Rf: () => p,
        Xq: () => h,
        g8: () => _,
        lw: () => l,
        wv: () => u,
      });
      var n = a(46984),
        i = a(31846);
      const r = a(98973);
      function l(e) {
        if (e.internal_json) {
          let t = JSON.parse(e.internal_json);
          return t.hasOwnProperty("notes") && t.notes.length > 0;
        }
        return !1;
      }
      function s(e) {
        if (e.internal_json) {
          let t = JSON.parse(e.internal_json);
          return t.hasOwnProperty("notes") ? t.notes : "";
        }
        return "";
      }
      function o(e) {
        return e.appid
          ? { store_item_id: e.appid, store_item_type: 0 }
          : e.bundleid
            ? { store_item_id: e.bundleid, store_item_type: 2 }
            : e.packageid
              ? { store_item_id: e.packageid, store_item_type: 1 }
              : {};
      }
      function c(e) {
        let t = {};
        return (
          0 == e.store_item_type && (t.appid = e.store_item_id),
          2 == e.store_item_type && (t.bundleid = e.store_item_id),
          1 == e.store_item_type && (t.packageid = e.store_item_id),
          t
        );
      }
      function m(e) {
        return 0 == e ? 0 : 2 == e ? 2 : 1 == e ? 1 : -1;
      }
      function d(e) {
        return 0 == e.store_item_type
          ? [e.store_item_id, 0]
          : 2 == e.store_item_type
            ? [e.store_item_id, 2]
            : 1 == e.store_item_type
              ? [e.store_item_id, 1]
              : [0, -1];
      }
      function u(e) {
        const t = r.unix(e).tz("America/Los_Angeles").day();
        return p((e -= n._H.PerDay * t));
      }
      function p(e) {
        let t = r.unix(e).tz("America/Los_Angeles");
        return (
          t.set({ hour: 10, minute: 0, second: 0, milliseconds: 0 }),
          t.valueOf() / 1e3
        );
      }
      function _(e) {
        let t = { year: void 0, timeZone: "America/Los_Angeles" };
        return (0, i.vX)(e, t);
      }
      function h(e) {
        return "Daily Deal" + (e?.GetName() ? ` - ${e.GetName()}` : "");
      }
    },
    47986: (e, t, a) => {
      "use strict";
      a.d(t, { u: () => p });
      var n = a(80751),
        i = a.n(n),
        r = a(47427),
        l = a(80886),
        s = a(1485),
        o = a(45492),
        c = a(13129),
        m = a(31846),
        d = a(37563),
        u = a(48674);
      function p(e) {
        const {
            fnSetItemID: t,
            strLabel: a,
            itemType: n,
            fnFilterID: l,
            className: c,
            tooltip: p,
            autoFocus: h,
            bIncludeRetired: g,
          } = e,
          [E, S] = r.useState(""),
          [v, D] = r.useState(!1),
          [f] = r.useState(new o.Ar()),
          [y, b] = r.useState(new Array()),
          [I, C] = r.useState(new Array()),
          [k, A] = r.useState(new Array()),
          w = r.createRef(),
          P = r.createRef(),
          T = (0, r.useCallback)(
            async (e, t) => {
              if (e.trim().length > 0) {
                const a = {
                  json: 1,
                  term: e,
                  bexcluderetired: !g,
                  bexcludedlc: !t,
                };
                let r = `${d.De.PARTNER_BASE_URL}apps/suggestapps`;
                switch (n) {
                  case 1:
                    r = `${d.De.PARTNER_BASE_URL}admin/store/suggestpackage`;
                    break;
                  case 2:
                    r = `${d.De.PARTNER_BASE_URL}bundles/suggestbundle`;
                }
                const s = await i().get(r, { params: a, withCredentials: !0 });
                200 == s?.status &&
                  1 == s.data?.success &&
                  (l
                    ? (b(s.data.matches?.filter((e) => l(e.id)) || []),
                      C(
                        s.data.package_matches?.filter((e) => l(e.packageid)) ||
                          [],
                      ),
                      A(
                        s.data.bundle_matches?.filter((e) => l(e.bundleid)) ||
                          [],
                      ))
                    : (b(s.data.matches || []),
                      C(s.data.package_matches || []),
                      A(s.data.bundle_matches || [])));
              } else b([]), C([]), A([]);
            },
            [l, n, g],
          ),
          N = (0, r.useCallback)(
            (e) => {
              D(e), T(w.current?.value, e);
            },
            [T, w],
          ),
          R = (0, r.useCallback)(
            (e) => {
              const t = e?.target?.value?.toLocaleLowerCase();
              if (t) {
                S(t);
                const e = 200,
                  a = P.current?.checked ?? !1;
                f.Schedule(e, () => T(t, a));
              } else S("");
            },
            [T, f, P],
          );
        let G;
        switch (n) {
          case 1:
            G = (0, m.Xx)("#StoreAdmin_Search_Placeholder_package");
            break;
          case 2:
            G = (0, m.Xx)("#StoreAdmin_Search_Placeholder_bundle");
            break;
          default:
            G = (0, m.Xx)("#StoreAdmin_Search_Placeholder");
        }
        const x = 0 == n;
        return r.createElement(
          "div",
          { className: c },
          r.createElement(
            "div",
            { className: u.AppSearchInputContainer },
            r.createElement(s.II, {
              type: "text",
              ref: w,
              className: u.SearchInput,
              label: a,
              tooltip: p,
              placeholder: G,
              onChange: R,
              value: E,
              bAlwaysShowClearAction: E.length > 0,
              focusOnMount: h,
            }),
            x &&
              r.createElement(s.ji, {
                ref: P,
                checked: v,
                onChange: N,
                className: u.AppSearchDLCCheckbox,
                label: "Include DLC",
              }),
          ),
          r.createElement(
            "div",
            { className: u.Results },
            Boolean(y?.length > 0) &&
              y.map((e) =>
                r.createElement(_, {
                  key: e.id,
                  name: e.match,
                  id: e.id,
                  is_visible: !0,
                  type: 0,
                  fnSetItemID: (e) => {
                    b([]), t(e);
                  },
                }),
              ),
            Boolean(I?.length > 0) &&
              I.map((e) =>
                r.createElement(_, {
                  key: e.packageid,
                  name: e.name,
                  id: e.packageid,
                  type: 1,
                  is_visible: e.is_visible,
                  fnSetItemID: (e) => {
                    C([]), t(e);
                  },
                }),
              ),
            Boolean(k?.length > 0) &&
              k.map((e) =>
                r.createElement(_, {
                  key: e.bundleid,
                  name: e.name,
                  id: e.bundleid,
                  type: 2,
                  is_visible: e.is_visible,
                  fnSetItemID: (e) => {
                    A([]), t(e);
                  },
                }),
              ),
          ),
        );
      }
      function _(e) {
        const { name: t, id: a, type: n, is_visible: i, fnSetItemID: s } = e,
          [o] = (0, l.jk)(a, n, { include_assets: !0 });
        let d = "#DailyDeals_HeaderArtMissing";
        switch (n) {
          case 1:
            d = "#DailyDeals_PackageHeaderArtMissing";
            break;
          case 2:
            d = "#DailyDeals_BundleHeaderArtMissing";
        }
        return r.createElement(
          "div",
          { className: u.ResultRow, onClick: () => s(a) },
          r.createElement(
            "div",
            { className: (0, c.Z)(u.AvatarImageCtn, "AvatarImageCtn") },
            r.createElement("img", {
              src: o?.GetAssets()?.GetHeaderURL(),
              className: u.AvatarImage,
              alt: (0, m.Xx)(d),
            }),
          ),
          r.createElement(
            "div",
            { className: u.GameName },
            Boolean(!i) && r.createElement("span", null, "(Not Visible) "),
            t,
            1 == n ? ` (${a})` : "",
          ),
        );
      }
    },
    71738: (e, t, a) => {
      "use strict";
      a.d(t, { Z: () => n });
      const n =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAc9JREFUeNrsmz1Lw1AUhnP8qB+Qkk0pItbVxcX/IM6Cky7iFH+Jk79BwclBB3+AszgUwdVNBxFaCw1E7fW9cAep5pa0NiT3vgdeLjRJm/Ocm/NRiCilAp9tKvDcCIAACIAAsiyEzqAepCqqnvEhzHJSLGVQX7jvSKDPoYO8ADS9BUcAJNBiXgCudUjCJEgABPDLZip2v12obwIXur4DdBK+MeVrHaqJSB2KzKqT2izUgLZd2wH30CF8bFnTusgnlhdUsjmXAFxBe3Au9TEJ3hXpfNkA9M22T4v80TIBuIbzDz73ARe+9wG31pqo1DSWGNqBlgcO16oO4A3b/3XIOafQ8b9PSCWZBh8BYMMSfd3wvEPzrk6DH0OON8Z0vvLDkHAaJAACIICJJJeCy+Aa1Pnj8y+Uwa6lDOpA1S3fewSdjJJIi26EOnC0nTtKInpQalsALfn+CDQJgAA8BYDnP8IS+bwDmuNcXHQVWDURG7QUmf7ZEmV9nysZh7dcGIdbALBpAaD7h6dJDFRshQmAAAiAAAiAAAiAAAiAAAiAAAiAAAjgpyUO+ZmMAuDSIQCZvtj+E4zNuhtU98WJxDgfZ50gfHOUSZAACIAAPLZvAQYAZ32YkpymkAcAAAAASUVORK5CYII=";
    },
    80289: (e, t, a) => {
      "use strict";
      a.d(t, { Z: () => n });
      const n =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABApJREFUeNrsm2tIFUEUx2evRl5ISnugZuULIwoVtIykIIkgowdmERERUh9CqQ/Rh+gFCX4oKCIjyi8VQtETsoLoARViJEokRYlako9Iy4JKfLX9hz2CwXrv7t6ZvbvcPfDjwr3uzJ7/npk5c3ZUVFVlkWw+FuHmCeAJ4AngCeAJ4AkQwRbtgnucBzJALPgNPoJ28FdI6zwTdCDp4DToUvWtF1SDHIPtFUz0m5GLp9noeAw4BYZV43YFxOm05QNF4DmosirADNABMm1wPgE0qdasHWSAKJALKkAr/TYIUq0KcIAa4Y0lS3Q+HjSroVk/+Knz/eFAfQe7sfpxDckU4bYqx2opKsb6UcwIMElnLPLhsECw8xskOc9F9RPFoIaGyX/9B8oDknSWybmgHhQJXOaOSlg634AP4AH4Dm6Bh6DVzDKYE0ThSoqSUJ5+lmqPVUx0D4EioDeIygdBA8gL4UmtsiGROhcoygIJ8AUMBGk8G7wC1SDRws1lSXb+OCjngW5FgFHw0kAnCthF6ekZkGLiBhMlOT4ENoNjoW6GrpvoNAbsBW3gLtgKpgS5ZkCSAD3gpojdYA34ZmGHuQ5cpWtrSZilJNJ46w/3TksxUBbfDS4K6m+ElqdO0A3mg2WSlsFsUQLwMX4DbHLRNr/eqLCBhkAm2EgC7ABPXCRAr9E/DFQQ8YM7FK61FAUJYKELBGgTIUA3fSaDPS6rdBkWIFgm+M6lpb4mUUXRey50fhA0ihLgLBh2mQANlAkKEaCTNhNusvuiEyE/7QmyXCJAhqhJcHy+vtZMo2G0RrP3afTNEB8KBeCpwwUwnbIrJo/I8KxwJzgCUh3mfD/lLH9kRAC3eLCIabW1FWA/bTudYufNOm82AuJAF02KzIFPPw38MHuhz2Qnlxw69iutOG9lDuDDoAVMd5Dzb0EuZYBMZgRw4zV2XuoadYjz/BV5qVXnrQjA7THY7pAU+STTqtKWTQnhpCjPCy6D9DA5/wIUMq3MFhYBxtJkXncvY9pJDrusAywBX0NtSBF0VthHe4Xl9FnK5J0/6qPoaxF146Imo9dUQFkj2flCUc6LFIDvwK7RBDlbYtjzCGsW2Wiop8TyafxvA1ESx3wdKGHa+0oWTgGmgsVgNVjPtBcbMo1PUCdo8yVl2dUTYBY4BOYw7VxeLGWAKbTbUmya6d8z7aVrnVyJ9Q8ORINy0KPab31gn4DDF4YItgz66SmU2RDun0AVuAB+2ZVQGM0DeNivBFtAMZgpcBvLi5j8LfQjJur4q+REiM/2eSRIPiU+aQZzhc+UL/DS9TOmFVtHWBhNVCY4mWmnypJo2IwdjBikp8xTVl5XHGIOM8X7t7kIN08ATwBPAE8ATwBPgAi2fwIMABJGc33swO3GAAAAAElFTkSuQmCC";
    },
  },
]);
