/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkappmgmt_storeadmin =
  self.webpackChunkappmgmt_storeadmin || []).push([
  [3863],
  {
    15798: (e) => {
      e.exports = { ButtonDailyDealDashboard: "IJS5RTzyM-kkF_NerVv-h" };
    },
    37664: (e) => {
      e.exports = {
        AppTileContainer: "_1MNwvHXvTQh_nlTEGVL-9G",
        NoRecentApps: "l73IMu5N0BMAEv5-wk3NU",
        ViewAppsContainer: "_3bhAuHTe2QDmn7qVPrbhTn",
        ViewAppsLink: "_1DXsI6kGhs4saDdMEB5Zhp",
        AppTile: "_1ET9Is2SXz9L6oBuMGkhyc",
        AppTileImage: "_2ib4C2NrFHUrt3df5FaIkA",
        AppTileImagePlaceholder: "_1v97yYXETM1gTfYqCF1MYJ",
        AppLabels: "_1gCoNWQfTPQf4Oo6uJLX9",
        AppType: "_2ZrhAQm3GQlhhKkqzdGwsF",
        DLC: "_3joD2YzY0xQ4OQFjl8vTK1",
        AppRelease: "_1XsM2jNRjoVa7SfxlYIXAb",
      };
    },
    25406: (e) => {
      e.exports = {
        Section: "_1FrGxLLJNyWZswyE9TGS3N",
        Title: "f3pCBilbcCpf8q3EUD2fp",
        Body: "_1CaApUvC8ichAOgldt6XZm",
        BetaCallout: "_3F09B-c90Mi_ABQSFt8qlI",
        Header: "WnpaUxHTbHM6dHV4JNyog",
      };
    },
    94375: (e) => {
      e.exports = {
        ItemContainer: "_1sCXlT55_hE5R_DYWs2qzj",
        ItemNameInfoContainer: "_3sqg0fMDMr7OmDzXzE57W-",
        PageVisible: "_2c0_UJn4Tpz1GL_J-ChdHP",
        ItemImage: "_22wo1MvrX6TPgkDRtkW9sx",
        ItemImageUnavailable: "_2yeWc4Vfpz2Mx_uozaEsss",
        ItemName: "_3_C_TA37Za9oeBg5-B5yEP",
        ReleaseInfoCtn: "_15I1frVfoeLkSS-KNd_Xne",
        ReleaseInfoRow: "_3LQgQmiovxLjDjOcUrMzm2",
        AdvancedAccess: "_1yRUq_xJKMHeOhEcJ-BXJR",
        ReleaseDateLabel: "_3I6UZDLKqv2wS3o6gw2YZ8",
        ReleaseDateText: "_27pclW_hEblq7v3PFdu3fV",
        ItemReleaseInfoContainer: "_16Qw0iB0ORV7o-6_BVm3uq",
        ItemReleaseStatusCtn: "_2NRgF3rgP--686UrLJK65n",
        ItemReleaseStatusLabel: "_1M_-mbiZxdn4NqhpFoKw9f",
        ItemReleaseStatusText: "_2Q5EbM0lY7L2ibqu4FL_qt",
        Released: "_1Sbpo45i_svDxpXZsCF5-K",
        Prerelease: "_387XqcrvQwvpzEA1vJ1wlB",
      };
    },
    42038: (e) => {
      e.exports = {
        SectionContainer: "_1OBXzq4UPq3-gsMTLeYfY9",
        CalendarContainer: "pLKmGv4Xj5TT4QzAiqJbl",
        CalendarMovingRegion: "_3M8uv7MOpPLlcTKvrQA-YQ",
        Sticky: "_31mu_yCc2H6TQWT3IQuIJx",
        MonthPickerContainer: "_3YUZnUph1CrJsggSTF3VIl",
        CalendarPerMonth: "ZDlMHTzEKVfLbowWH_PMU",
        MonthPickerArrow: "_2ht2tj6FCHeu648083Qs2c",
        Inactive: "_3Z-w7oH5-5mlbU3U85VEHA",
        MonthPickerToday: "iHTm_nhWExDmRYj1ZH9wP",
        MonthPickerDate: "_2rZatjHzK7ErWtDXDdkcuX",
        Week: "_2g35MI6SaxueceaSk6XLW3",
        DayName: "PRNbjgB8P-sJzTkJtkOAN",
        Day: "_357j5Ue2p6c9meuGmYfhRQ",
        OtherMonth: "RgAj-iO11EaOOuYbKYbhT",
        Deadline: "_1OK2i1Q0ALzwEnym_uD5VY",
        DeadlineUrgent: "_1icgqDPNBrXFNdLBAlZjCX",
        Today: "_3hEVJV0mh3g3Jj-D7EXcNQ",
        DLCRelease: "_3jXjUb7DXWNKPXwurmiTv8",
        GameRelease: "_11NSMBASE97ju6HmiLlFbg",
        Event: "_2jrTKty-CD5SCc0FFcsuW-",
        Hovered: "jLl9ckcUcEAjaCSnlSjnJ",
        DayTooltipContainer: "_10Y9xUl-lBM0iXXXk3JTG2",
        DayTooltipDate: "_1pcCcxuWCl8D7l8D6fcYCY",
        DayTooltipEvent: "_3-gBe77wkGQK1K_xYgOwbE",
        ListArea: "c0Fj6iwnP09NGMqTBw4pb",
        FilterHeader: "_2RyNxJKxciWQh10nv4yPI9",
        FilterOptionsContainer: "_2KsBRVIM9YVuX85lpPiW2G",
        FilterOption: "LC92P2CoEQ1R_wdDs3XtN",
        Highlighted: "xNA0kFRoJXVNY7ccgZ6Bb",
        FilterTextArea: "_1ddIHj3KWI6Wpfn2kYMaHW",
        FilterTextInput: "_2_igLJj1mqpdpW15ec_8Tx",
        FilterTextIcon: "_2bk4MK0dTL2BVrzvl9yr9w",
        FilterTextClearButton: "_1n8veXnv5oBHfjG0l5I8-Y",
        ListContainer: "_1sKgklaDRNP7rHtE_6Yff9",
        List: "_1VsjyvH_Qjf3r0bxpSfx3V",
        Overflows: "moY4QzLn4xaOpu2clsn6r",
        Expanded: "_1aIkESy0vIWk6irYOhJ8aZ",
        ListMonthContainer: "_2rUzIpgQG6FxSVIBdtk0xY",
        ListMonthTitle: "_1lMzit4bY9M7NatDkjOYsQ",
        ListMonthCalendar: "_1PgBwG06u7lkqBrHh0lGdh",
        Hidden: "_3OVNqEWqvhOhrjsR5SgOQ3",
        ListMonth: "_2gBsUSd4zPyGk451opeP1k",
        ListDay: "_10JRf2tdkaLJebvk26APzf",
        ListDayGroup: "_37Eyc9YlZkzAWqhVsDHiFv",
        ListEvent: "_2OvrUC8yEPw0y-ETj60eRx",
        Dimmed: "_384GPMgcGpGAZupvxEFWks",
        BackgroundImage: "_3Yf1aBV0kEJOFF9_9v_Ok1",
        ListEventHeader: "_2JVkFc02Z_gli3Wk58ZdCn",
        ValveOnly: "_1PWl9VImc2pIq7OdlNtrVN",
        Edit: "_34znTi9--bnqLmasQq4rQk",
        Spacer: "_2zxwZ2e2RgdQAfI0y0_6wh",
        Dismiss: "_16vFdl_KejY4AT34jnVI-O",
        ListDayNumber: "_3XINnjVCEbWVyB05BBYltE",
        ListEventType: "_1VxkAwTIvWU2gB-71xXUDP",
        NoDate: "wQNhOW92EGSW0_tW7f75e",
        ListEventEventSection: "_2L_1oiBHK2dz3vQ1TBnm9j",
        ListEventEventGutter: "_2MFv3aBQVR1hmBkGRLxdis",
        ListEventEventElement: "_2PfCWxjyYRpd6lTgvrlAIZ",
        ListEventEventTimeFlag: "_21CkHr7CK9bP8AjyR5MJvW",
        Live: "_1En5AyFQguGHFvrW6V_e5s",
        Past: "_25cJpdFfm1cUmPTGSnTRPy",
        ListEventEventLiveText: "_3BgVvQ0ke3leKWytDJD2kI",
        ListEventEventPastText: "_3RFd47ESPVVtgpLbmNsySx",
        ExpandButton: "_3BVPhbdEe8mENSA5TF3znJ",
        AllEventsFiltered: "wht6Ll659zz-0QG1UFCu4",
      };
    },
    4563: (e) => {
      e.exports = {
        DateDesc: "_2IwYDga9iYYwbum4A4SDAk",
        StatusItemRow: "_1mPwifGHLjllbWO-jXx2Xk",
        StatusIndicatorSection: "_3LRM1vGyM8U3JmLBsvqUi6",
        StatusIndicator: "_3IcPPQyEVDA2m_7lVl8FSC",
        Complete: "_3bAI2ClpwR3fc3CF1Bq_Ew",
        StatusItemCheck: "lxcxV2q25sBapYk9lvWHJ",
        StatusItemLabel: "vQWBbodTnHdHThVaucNIG",
        StatusItemBox: "nsqkY8Ib7VaJLBFOTgiZQ",
        StatusItemDueBy: "_ifrPqUjkCPRCZjQW71wh",
        StatusItemBoxButton: "_39qgUEX9q9d0KiJpbEoUPj",
      };
    },
    49622: (e) => {
      e.exports = {
        DeadlineWarning: "KJBbOCy-N47ZdyXKj82el",
        DeadlineWarningUrgent: "_1dMX7vWFF-yQ7CzRaOEooa",
      };
    },
    52631: (e) => {
      e.exports = {
        ItemContainer: "VXok7mKJpXFIBjQBLIvh-",
        HasImage: "_3pWi_px3yJX0azhLcPr_LN",
        ItemNameInfoContainer: "_1n53rAYRtJXXRA-lRajbXF",
        SeasonalSale: "_1yzO7XD_gqqLhc_RcqM5y6",
        BackgroundImage: "_1grQoVDvG8Nr4_coXHDlAv",
        ItemName: "_2VZKTMQCK5Kt-lgquMVK81",
        ItemImage: "_1HOWqt0TzoT_xyD3HtOGgB",
        Dimmed: "EvG8rJmTM1CzkeuqkLFJp",
        ItemInfoHeader: "_33ZlQAMhN22Aw902Omlocy",
        InlineDate: "_3dNRuRCyAmnE8DAurBSqFq",
        Light: "h3XM6aXEdSIHNQJkYpJFX",
        ItemDeadlineHeaderText: "zjHNbIk0sNUO47ZDiM6M-",
        Urgent: "_3efxp9Lg45sZ6BN771Ir53",
        ItemWarning: "_3OEQpFpCnwLcs6fDU_N1G7",
        StatusItemBoxContainer: "_31fMYhZb6aTXkVQ030Krza",
        StatusItemBox: "_25vZ86EFjtg3d_5IrgrL-C",
        Hidden: "_898pR7849_yT8ZWFOtC6",
        StatusItemBoxLabel: "_1bBXZX6xtzkudUBnU93lPo",
        StatusItemBoxText: "bSHqtzfCtCAu7QELTy2-t",
        OptInGamesToolTipContainer: "_1aQ19lVLLxNItGzt-UlQ6C",
        OptInGamesToolTipRegistered: "_2FRaD4wbK4aUqJm1pPEfRR",
        LinkButtonContainer: "_1Pd9CgAQME29cQKbCd9qfN",
        LinkButton: "_3qIPl-2rtghu5e6FOR9lV_",
        AssetRequestDateLabel: "_2M_ShTFVade7EwhUk5-irN",
        AssetRequestDate: "_3G-O4ejlDgEhRIwpTIA9wq",
        DeadlineFeaturedStatusContainer: "_1kpWLFBdYvZfyPw1wyaebV",
        DeadlineFeaturedStatusText: "pVJq0fFCOHX1_B5kbeNPM",
        Incomplete: "_21ej1fGCE1FNIrxF2wlpKA",
        IncompleteUrgent: "_1d1_uAgqTmGsz8nTENjM7Z",
        DeadlineFeaturedTodoContainer: "oB3xsfo33DAd6ONoyRxGd",
        RecapItemContainer: "_3_yMxSFo_FV_uDWmUpaCVG",
        RecapItemImage: "_1nzSYFLPNZWtfiJ3JISUpZ",
        RecapTextSection: "_3VEB7K-A4zr6x8UvAyuE4K",
        RecapTextHeader: "i27ZA_0pHGVJkLkqXYBFs",
        RecapTextSummary: "Qktd7uuG_8VLv2m3nzcsK",
        RecapTextGameDescription: "_3fkqqnlhHRzeVp5gMVBrxh",
        RecapTextGameCount: "hh50Ajalf3yxh76nsG4Ht",
        RecapTextGameAdditionalCount: "_2L7-K-pqupMVURy7IrfPq1",
        RecapTextFullSummaryButton: "_4KHdcJt3RtSJUO7so87l7",
        RecapBox: "_2xhQ5R6gZi6A_ee4dFJQdI",
        Plays: "_188q7zqbiczjVV2L_2YKDc",
        Wishlists: "_3IbUeotTzDjOQqJjtswjCr",
        Conversions: "_2nsl8MveEcxV2oZC8QJbXe",
        RecapBoxCount: "_56xXUFLURs5vRhJrnUZb6",
        RecapBoxDesc: "X-UQBnpHbbCzMbru9T2jV",
        RecapSurveyArea: "MVkifzSa7pcESWfsDO669",
        RecapSurveyText: "tqPXCHQvuepud8G2QtQxH",
        RecapSurveyButton: "Y1x0siKsXP81_zC9T5VAu",
      };
    },
    14733: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { default: () => Ht });
      var n = a(85556),
        s = a(47427),
        i = a(37563),
        r = a(15798),
        l = a(31846),
        o = a(1485),
        d = a(25406);
      const c = s.forwardRef((e, t) => {
        const {
          title: a,
          description: n,
          children: i,
          beta: r,
          headerElement: o,
        } = e;
        return s.createElement(
          "div",
          { className: d.Section, ref: t },
          s.createElement(
            "div",
            { className: d.Header },
            s.createElement(
              "div",
              { className: d.Title },
              a,
              " ",
              r &&
                s.createElement(
                  "span",
                  { className: d.BetaCallout },
                  (0, l.Xx)("#NewToolTitleSuffix_Beta"),
                ),
            ),
            o,
          ),
          n && s.createElement("div", { className: d.Body }, n),
          i,
        );
      });
      function m() {
        const e = (0, i.kQ)("rgDailyDealInvitations", "application_config");
        if (!e || 0 == e.length) return;
        return s.createElement(
          c,
          {
            title: (0, l.Xx)("#DailyDeals_PartnerDashboard_Title"),
            description: (0, l.Xx)("#DailyDeals_PartnerDashboard_Invite_Body"),
          },
          s.createElement(
            o.zx,
            {
              className: r.ButtonDailyDealDashboard,
              onClick: () => {
                window.location.assign(
                  `${i.De.PARTNER_BASE_URL}promotion/dailydeals/dashboard`,
                );
              },
            },
            (0, l.Xx)("#DailyDeals_Dashboard"),
          ),
        );
      }
      var p,
        _ = a(42038),
        u = a(68542),
        v = a(13129),
        E = a(46984),
        g = a(94375),
        D = a(80886),
        h = a(12251),
        T = a(73208);
      function f(e) {
        const { app: t } = e,
          [a] = (0, D.jk)(t.appid, 0, {
            include_assets: !0,
            include_release: !0,
          }),
          n = !!(null == a ? void 0 : a.GetName());
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(y, { app: t, storeItem: a, hasStoreItem: n }),
          s.createElement(I, { app: t, hasStoreItem: n }),
        );
      }
      function y(e) {
        const { app: t, storeItem: a, hasStoreItem: n } = e,
          r = i.De.PARTNER_BASE_URL + "apps/landing/" + t.appid,
          o = n ? a.GetName() : t.name;
        return s.createElement(
          "div",
          { className: (0, v.Z)(g.ItemContainer, n && g.PageVisible) },
          n &&
            s.createElement(
              "a",
              { href: r, target: "_blank" },
              s.createElement(
                "div",
                { className: g.ItemImage },
                s.createElement("img", {
                  src: null == a ? void 0 : a.GetAssets().GetHeaderURL(),
                }),
              ),
            ),
          s.createElement(
            "div",
            { className: g.ItemNameInfoContainer },
            s.createElement(
              "a",
              { className: g.ItemName, href: r, target: "_blank" },
              o,
            ),
            s.createElement(
              "div",
              { className: g.ReleaseInfoCtn },
              t.releaserequest &&
                s.createElement(
                  "div",
                  { className: g.ReleaseInfoRow },
                  s.createElement(
                    "span",
                    { className: g.ReleaseDateLabel },
                    (0, l.Xx)("#App_Landing_SpecifiedReleaseDate"),
                  ),
                  s.createElement(
                    "span",
                    { className: g.ReleaseDateText },
                    N(t.releaserequest.release_date),
                  ),
                ),
              n &&
                s.createElement(
                  "div",
                  { className: g.ReleaseInfoRow },
                  s.createElement(
                    "span",
                    { className: g.ReleaseDateLabel },
                    (0, l.Xx)("#App_Landing_CustomersSeeReleaseDate"),
                  ),
                  s.createElement(
                    "span",
                    { className: g.ReleaseDateText },
                    a.GetFormattedSteamReleaseDate(),
                  ),
                ),
              t.earliestadvancedaccessdate > 0 &&
                s.createElement(
                  "div",
                  { className: (0, v.Z)(g.ReleaseInfoRow, g.AdvancedAccess) },
                  s.createElement(
                    "span",
                    { className: g.ReleaseDateLabel },
                    (0, l.Xx)("#App_Landing_AdvancedAccessDate"),
                    s.createElement(
                      "span",
                      {
                        "data-tooltip-text": (0, l.Xx)(
                          "#App_Landing_AdvancedAccessDate_ttip",
                        ),
                      },
                      " (?)",
                    ),
                  ),
                  s.createElement(
                    "span",
                    { className: g.ReleaseDateText },
                    N(t.earliestadvancedaccessdate),
                  ),
                ),
            ),
          ),
        );
      }
      function N(e) {
        return e
          ? `${(0, l.vX)(e)} ${(0, h.Sc)(e, {}, { timeZoneName: "short" })}`
          : (0, l.Xx)("#App_Landing_UnsetReleaseDate");
      }
      function I(e) {
        const { app: t, hasStoreItem: a } = e,
          n = (0, T.l)(t.releasestate, a),
          i = (0, v.Z)(
            g.ItemReleaseStatusText,
            "prerelease" == t.releasestate && g.Prerelease,
            "released" == t.releasestate && g.Released,
          );
        return s.createElement(
          "div",
          { className: g.ItemReleaseInfoContainer },
          s.createElement(
            "div",
            { className: g.ItemReleaseStatusCtn },
            s.createElement(
              "div",
              { className: g.ItemReleaseStatusLabel },
              (0, l.Xx)("#Dashboard_UpcomingEvents_ReleaseStatusLabel"),
            ),
            s.createElement(
              "div",
              null,
              s.createElement("span", { className: i }, n.sText),
              n.sTooltip &&
                s.createElement(
                  "span",
                  { "data-tooltip-text": n.sTooltip },
                  " (?)",
                ),
            ),
          ),
        );
      }
      !(function (e) {
        (e[(e.BuildReview = 0)] = "BuildReview"),
          (e[(e.StorePageReview = 1)] = "StorePageReview"),
          (e[(e.SteamChina_BuildReview = 2)] = "SteamChina_BuildReview"),
          (e[(e.SteamChina_StorePageReview = 3)] =
            "SteamChina_StorePageReview"),
          (e[(e.SteamChinaPlatformOperator_StorePageReview = 4)] =
            "SteamChinaPlatformOperator_StorePageReview"),
          (e[(e.SteamChinaPlatformOperator_BuildReview = 5)] =
            "SteamChinaPlatformOperator_BuildReview"),
          (e[(e.SteamDeckCompatibilityReview = 6)] =
            "SteamDeckCompatibilityReview");
      })(p || (p = {}));
      var b = a(20417),
        x = a(52631),
        R = a(1698),
        S = a(77936),
        A = a(59728),
        w = a(33687),
        C = a(4942),
        k = a(29292),
        L = a(62698),
        U = a(45492);
      class P {
        constructor() {
          this.m_rgOptInComputed = new Map();
        }
        static Get() {
          return (
            P.s_Singleton ||
              ((P.s_Singleton = new P()),
              P.s_Singleton.Init(),
              "dev" == i.De.WEB_UNIVERSE &&
                (window.g_UpcomingEventsOptInStore = P.s_Singleton)),
            P.s_Singleton
          );
        }
        Init() {
          (this.m_rgOptIns = (0, i.kQ)("rgOptIns", "application_config")),
            this.m_rgOptIns && P.ExtractOptInDefinitions(this.m_rgOptIns);
        }
        static ExtractOptInDefinitions(e) {
          for (const t of Object.keys(e)) {
            const a = e[t].description,
              n = (0, T.Ho)(null == a ? void 0 : a.jsondata);
            null == a || delete a.jsondata,
              n && (e[t].description.definition = n);
          }
        }
        GetInfo(e) {
          var t, a, n, s;
          if (!e) return;
          if (this.m_rgOptInComputed.has(e))
            return this.m_rgOptInComputed.get(e);
          const i =
            null === (t = this.m_rgOptIns) || void 0 === t ? void 0 : t[e];
          if (!i) return void this.m_rgOptInComputed.set(e, void 0);
          const r = new Set(i.invited_appids),
            l = i.description.definition.invitation_only
              ? null === (a = i.summary) || void 0 === a
                ? void 0
                : a.apps_eligible.filter((e) => r.has(e.appid))
              : null === (n = i.summary) || void 0 === n
                ? void 0
                : n.apps_eligible,
            o = {
              description: i.description,
              rgEligibleApps: l,
              rgRegisteredApps:
                null === (s = i.summary) || void 0 === s ? void 0 : s.apps_in,
              rgFeaturedApps: i.featured_appids,
            };
          return this.m_rgOptInComputed.set(e, o), o;
        }
      }
      var F = a(63816),
        B = a(64523),
        X = a(46882),
        G = a(62210),
        M = a(71472),
        H = a(87225);
      function O(e) {
        const t = s.useMemo(() => {
            var t, a;
            const n = (0, i.kQ)("rgPartnerPromotions", "application_config"),
              s =
                null == n
                  ? void 0
                  : n.rgPlans
                      .map((e) => (0, T.Ho)(e.partner_readonly_jsondata))
                      .filter((e) => e && e.id),
              r =
                null == n
                  ? void 0
                  : n.rgPlans
                      .map((e) => ({
                        plan: e,
                        input: (0, T.Ho)(e.input_jsondata),
                      }))
                      .filter((e) => !!e.input)
                      .reduce(
                        (e, t) => e.set(t.plan.promotion_id, t.input),
                        new Map(),
                      ),
              l = new Set(
                null !== (t = null == n ? void 0 : n.rgHiddenPlanIDs) &&
                void 0 !== t
                  ? t
                  : [],
              );
            return null !==
              (a =
                null == s
                  ? void 0
                  : s
                      .map((t) => {
                        if (!t.start_date) return null;
                        if (
                          (0, T.XL)(new Date(1e3 * t.end_date)) <
                            (0, T.XL)(new Date()) &&
                          !Z(t)
                        )
                          return null;
                        const a = P.Get().GetInfo(t.opt_in_id),
                          n = r.get(t.id);
                        let s =
                          l.has(t.id) ||
                          (("nextfest" == t.type || "themesale" == t.type) &&
                            !a);
                        const i =
                          a &&
                          a.rgEligibleApps &&
                          0 == a.rgEligibleApps.length &&
                          a.rgRegisteredApps &&
                          0 == a.rgRegisteredApps.length;
                        return new V(
                          t.id,
                          e,
                          s,
                          t,
                          n,
                          a,
                          new Date(1e3 * t.start_date),
                          new Date(1e3 * t.end_date),
                          "event",
                          j(t),
                          i,
                          W,
                        );
                      })
                      .filter((e) => !!e)) && void 0 !== a
              ? a
              : [];
          }, [e]),
          a = (function (e) {
            const [t] = (0, M.Ar)("recap"),
              a = s.useMemo(() => {
                if (!t) return [];
                const [a, n] = t.substring(14).split("_"),
                  s = new Date(`${a} 1, ${n}`),
                  i = {
                    id: `fakerecap_${t}`,
                    name: t,
                    opt_in_id: t,
                    type: "nextfest",
                    sale_clan_account: 39049601,
                    sale_clan_event_gid: "4148451028995460854",
                    start_date: s.getTime() / 1e3,
                    end_date: s.getTime() / 1e3 + 3 * E._H.PerDay,
                  },
                  r = {
                    description: {
                      opt_in_name: t,
                      type: 0,
                      active: !0,
                      start_date: i.start_date,
                      end_date: i.end_date,
                      definition: {},
                    },
                    rgEligibleApps: {},
                    rgRegisteredApps: {},
                    rgFeaturedApps: [],
                  },
                  l = new V(
                    i.id,
                    e,
                    !1,
                    i,
                    null,
                    r,
                    new Date(1e3 * r.description.start_date),
                    new Date(1e3 * r.description.end_date),
                    "event",
                    j(i),
                    !1,
                    W,
                  );
                return (0, G.X)(Z(i), ""), [l];
              }, [e, t]);
            return a;
          })(e);
        return s.useMemo(() => [...t, ...a], [t, a]);
      }
      class V {
        constructor(e, t, a, n, s, r, l, o, d, c, m, p) {
          var _, u, v, E;
          (this.m_changedCallbacks = new U.pB()),
            (this.dimmed = !1),
            (this.passesFilter = (e) => 1 == e),
            (this.m_partnerId = t),
            (this.valveOnly = a),
            (this.m_plan = n),
            (this.m_assetInput = s),
            (this.m_optIn = r),
            (this.id = e),
            (this.title =
              null !==
                (E =
                  null ===
                    (v =
                      null ===
                        (u =
                          null === (_ = null == r ? void 0 : r.description) ||
                          void 0 === _
                            ? void 0
                            : _.definition) || void 0 === u
                        ? void 0
                        : u.event_title) || void 0 === v
                    ? void 0
                    : v[i.De.LANGUAGE]) && void 0 !== E
                ? E
                : (function (e) {
                    const t = [
                      "takeover",
                      "takeunder",
                      "midweek",
                      "midweek deal",
                      "weekend deal",
                    ];
                    for (const a of t)
                      e = e.replace(
                        new RegExp("^" + a + "\\s*[:-]\\s*", "i"),
                        "",
                      );
                    return e;
                  })(n.name)),
            (this.startDate = l),
            (this.endDate = o),
            (this.eventType = d),
            (this.eventTypeName = c),
            (this.editURL = `${i.De.PARTNER_BASE_URL}promotion/planning/edit/${this.m_plan.id}`),
            (this.dimmed = m),
            (this.getElement = () => p({ eventData: this }));
        }
        dataChanged() {
          this.m_changedCallbacks.Dispatch();
        }
        registerForChange(e) {
          return this.m_changedCallbacks.Register(e);
        }
        clone(e, t, a, n, s) {
          const i = Object.assign(
            Object.create(Object.getPrototypeOf(this)),
            this,
          );
          return (
            (i.m_changedCallbacks = new U.pB()),
            (i.id = e),
            (i.startDate = t),
            (i.endDate = a),
            (i.eventType = n),
            (i.eventTypeName = s),
            i
          );
        }
      }
      function j(e) {
        if (Z(e))
          return (0, l.Xx)(
            "#Dashboard_UpcomingEvents_EventType_PromotionPlan_recap",
          );
        switch (e.type) {
          case "midweek":
            return (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_midweek",
            );
          case "weekenddeal":
            return (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_weekenddeal",
            );
          case "saleevent":
            return (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_saleevent",
            );
          case "themesale":
            return (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_themesale",
            );
          case "nextfest":
            return (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_nextfest",
            );
          case "seasonalsale":
            return (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_seasonalsale",
            );
          case "informational":
            return (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_informational",
            );
          case "dailydeal":
            return (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_dailydeal",
            );
          case "vacation":
            return (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_vacation",
            );
          case "important":
            return (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_important",
            );
          case "preload":
            return (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_preload",
            );
          case "assetrequest":
            return (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest",
            );
        }
      }
      function Z(e) {
        return (
          "nextfest" == e.type &&
          new Date(1e3 * e.end_date).getTime() < new Date().getTime()
        );
      }
      function W(e) {
        const { eventData: t } = e;
        return Z(t.m_plan) && "nextfest" == t.m_plan.type
          ? s.createElement($, { eventData: t })
          : "nextfest" == t.m_plan.type || "themesale" === t.m_plan.type
            ? s.createElement(q, { eventData: t })
            : s.createElement(Q, { eventData: t });
      }
      function Q(e) {
        var t, a;
        const { eventData: n } = e,
          r = n.m_plan,
          [o] = (0, D.jk)(r.store_item_id, r.store_item_type, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          [d] = (0, D.jk)(r.advertising_appid, 0, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          c = null != o ? o : d,
          m = "seasonalsale" == n.m_plan.type;
        J(n);
        let p =
            "seasonalsale" == r.type
              ? `${i.De.PARTNER_BASE_URL}doc/marketing/discounts/seasonalsales`
              : void 0,
          u = null == c ? void 0 : c.GetAssets().GetHeaderURL();
        null != p ||
          (p = c
            ? i.De.PARTNER_BASE_URL + "apps/landing/" + c.GetAppID()
            : null);
        const E = (0, S.jM)(i.De.LANGUAGE),
          { eventModel: g, bLoading: h } = (0, k.Mx)(
            r.sale_clan_account,
            r.sale_clan_event_gid,
          );
        null != u ||
          (u =
            !h &&
            (null == g
              ? void 0
              : g.GetImageURL("capsule", E, L.FN.capsule_main))),
          null != p || (p = !h && (null == g ? void 0 : g.GetSaleURL()));
        const T = [];
        n.valveOnly &&
          ("seasonalsale" == r.type ||
            !n.m_partnerId ||
            n.m_plan.store_item_id ||
            n.m_plan.discount_event_id ||
            T.push(
              "In order to be visible to partners, plans must have access through a linked store item or a discount event.",
            ));
        const f =
            r.discount_event_id &&
            !(null === (t = n.m_assetInput) || void 0 === t
              ? void 0
              : t.enable_input)
              ? `${i.De.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${r.discount_event_id}`
              : void 0,
          y = s.createElement(
            s.Fragment,
            null,
            f &&
              s.createElement(
                "button",
                {
                  className: (0, v.Z)(x.LinkButton),
                  onClick: () => window.open(f, "_blank"),
                },
                (0, l.Xx)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_EnterDiscounts",
                ),
              ),
            m &&
              s.createElement(
                "button",
                {
                  className: (0, v.Z)(x.LinkButton),
                  onClick: () => window.open(p, "_blank"),
                },
                (0, l.Xx)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_LearnMore",
                ),
              ),
            (null === (a = r.asset_kit_url) || void 0 === a
              ? void 0
              : a.length) > 0 &&
              s.createElement(
                "button",
                {
                  className: (0, v.Z)(x.LinkButton),
                  onClick: () => window.open(r.asset_kit_url, "_blank"),
                },
                (0, l.Xx)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_AssetKit",
                ),
              ),
          );
        return s.createElement(
          "div",
          {
            className: (0, v.Z)(
              x.ItemContainer,
              x.HasImage,
              m && x.SeasonalSale,
            ),
          },
          u &&
            m &&
            s.createElement("img", {
              className: (0, v.Z)(x.BackgroundImage, _.BackgroundImage),
              src: u,
            }),
          s.createElement(z, {
            warnings: T,
            eventName: n.title,
            startTime: r.start_date,
            endTime: r.end_date,
            eventUrl: p,
            imageUrl: u,
            additionalButtons: y,
          }),
          s.createElement(Y, { eventData: n }),
        );
      }
      function q(e) {
        var t, a, n, r, o, d;
        const { eventData: c } = e,
          m = (0, S.jM)(i.De.LANGUAGE),
          p = c.m_plan,
          u = c.m_optIn,
          E = p.opt_in_id
            ? `${i.De.PARTNER_BASE_URL}optin/sale/${null === (t = p.opt_in_id) || void 0 === t ? void 0 : t.replace("sale_", "")}`
            : void 0,
          g = [];
        let D;
        if (
          (c.valveOnly &&
            ((p.sale_clan_account && p.sale_clan_event_gid) ||
              g.push("no sale event"),
            p.opt_in_id || g.push("no opt-in")),
          "nextfest" == p.type && "deadline" == c.eventType)
        ) {
          const e = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }).format(
            new Date(
              1e3 * c.m_optIn.description.definition.optin_deadline_date,
            ),
          );
          D = s.createElement(
            s.Fragment,
            null,
            s.createElement(
              "div",
              { className: x.ItemDeadlineHeaderText },
              (0, l.Xx)(
                "#Dashboard_UpcomingEvents_Events_Deadline_RegistrationCloses",
                e,
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, l.Xx)(
                "#Dashboard_UpcomingEvents_Events_Deadline_RegistrationCloses_Description",
              ),
            ),
          );
        }
        !(function (e) {
          const t = Pe();
          s.useEffect(() => {
            var a, n;
            let i;
            if (
              !e.id.endsWith("_nextfestDeadline") &&
              "nextfest" == e.m_plan.type &&
              (null === (a = e.m_optIn) || void 0 === a
                ? void 0
                : a.description.definition.optin_deadline_date) &&
              (null === (n = e.m_optIn.rgEligibleApps) || void 0 === n
                ? void 0
                : n.length) > 0 &&
              e.m_optIn.rgRegisteredApps
            ) {
              const a = new Date(
                1e3 * e.m_optIn.description.definition.optin_deadline_date,
              );
              if (a && a > new Date()) {
                const n = e.clone(
                  e.id + "_nextfestDeadline",
                  a,
                  a,
                  "deadline",
                  (0, l.Xx)(
                    "#Dashboard_UpcomingEvents_EventType_PromotionPlan_registration_reminder",
                  ),
                );
                (n.getElement = () => s.createElement(q, { eventData: n })),
                  (i = t.AddAdditionalEvent(n));
              }
            }
            return i;
          }, [t, e]);
        })(c),
          J(c);
        const h =
            null !== (a = null == u ? void 0 : u.description.start_date) &&
            void 0 !== a
              ? a
              : p.start_date,
          T =
            null !== (n = null == u ? void 0 : u.description.end_date) &&
            void 0 !== n
              ? n
              : p.end_date,
          f =
            null ===
              (d =
                null ===
                  (o =
                    null === (r = null == u ? void 0 : u.description) ||
                    void 0 === r
                      ? void 0
                      : r.definition) || void 0 === o
                  ? void 0
                  : o.localized_optin_banner) || void 0 === d
              ? void 0
              : d[i.De.LANGUAGE],
          y =
            (null == u ? void 0 : u.description.opt_in_name) &&
            f &&
            (0, C.Ip)(null == u ? void 0 : u.description.opt_in_name, m, f);
        return s.createElement(
          "div",
          { className: x.ItemContainer },
          y &&
            s.createElement("img", {
              className: (0, v.Z)(x.BackgroundImage, _.BackgroundImage),
              src: y,
            }),
          s.createElement(z, {
            warnings: g,
            eventName: c.title,
            eventDescription: D,
            startTime: h,
            endTime: T,
            eventUrl: E,
            inlineDate: !0,
          }),
          u && s.createElement(K, { eventData: c, eventUrl: E, optIn: u }),
        );
      }
      function J(e) {
        var t, a, n, i;
        const r = Pe(),
          o =
            ("seasonalsale" == e.m_plan.type || "themesale" == e.m_plan.type) &&
            "deadline" != e.eventType &&
            "deadline-urgent" != e.eventType &&
            (null ===
              (a =
                null === (t = e.m_optIn) || void 0 === t
                  ? void 0
                  : t.description) || void 0 === a
              ? void 0
              : a.opt_in_name) &&
            e.m_optIn.rgEligibleApps &&
            e.m_optIn.rgRegisteredApps &&
            e.m_optIn.rgFeaturedApps &&
            e.m_optIn.description.definition
              .additional_featuring_section_enabled,
          d = ne(
            e.m_partnerId,
            null === (n = e.m_optIn) || void 0 === n
              ? void 0
              : n.rgRegisteredApps,
            e.m_plan.start_date,
            e.m_plan.end_date,
          ),
          c = Ue().setManageDiscountsAppIDs;
        s.useEffect(() => {
          var t, a, n, i;
          if (
            !(
              o &&
              (null ===
                (a =
                  null === (t = e.m_optIn) || void 0 === t
                    ? void 0
                    : t.rgFeaturedApps) || void 0 === a
                ? void 0
                : a.length) > 0
            )
          )
            return;
          const m = [];
          for (const t of (0, T.hp)(
            e.m_optIn.rgEligibleApps,
            e.m_optIn.rgRegisteredApps,
          )) {
            if (
              !(null === (n = e.m_optIn) || void 0 === n
                ? void 0
                : n.rgFeaturedApps.includes(t.appid))
            )
              continue;
            if (!(null == c ? void 0 : c.has(t.appid))) continue;
            const a =
                null === (i = e.m_optIn.rgRegisteredApps) || void 0 === i
                  ? void 0
                  : i.some((e) => e.appid == t.appid),
              o = null == d ? void 0 : d.some((e) => e.appid == t.appid);
            if (a) {
              if (!o && "seasonalsale" == e.m_plan.type) {
                const a = new Date(
                    1e3 * e.m_optIn.description.definition.optin_deadline_date,
                  ),
                  n = new Date(1e3 * e.m_plan.start_date);
                if (a > new Date() && n > new Date()) {
                  const i = e.clone(
                    e.m_plan.id + "_featuredDiscountDeadline_" + t.appid,
                    n,
                    n,
                    "deadline-urgent",
                    (0, l.Xx)(
                      "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Header",
                    ),
                  );
                  (i.getElement = () =>
                    s.createElement(ae, {
                      eventData: i,
                      appId: t.appid,
                      registerByDate: a,
                      registrationType: "discount",
                    })),
                    m.push(r.AddAdditionalEvent(i));
                }
              }
            } else {
              if (
                e.m_optIn.description.definition.collect_trailer_permissions
              ) {
                const a = new Date(
                  1e3 * e.m_optIn.description.definition.collect_demo_deadline,
                );
                if (a > new Date()) {
                  const n = e.clone(
                    e.m_plan.id + "_featuredTrailerDeadline_" + t.appid,
                    a,
                    a,
                    "deadline",
                    (0, l.Xx)(
                      "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailer_Header",
                    ),
                  );
                  (n.getElement = () =>
                    s.createElement(ae, {
                      eventData: n,
                      appId: t.appid,
                      registerByDate: a,
                      registrationType:
                        "seasonalsale" == e.m_plan.type
                          ? "trailer-seasonalsale"
                          : "trailer-themesale",
                    })),
                    m.push(r.AddAdditionalEvent(n));
                }
              }
              if ("seasonalsale" == e.m_plan.type) {
                const a = new Date(
                  1e3 * e.m_optIn.description.definition.optin_deadline_date,
                );
                if (a > new Date()) {
                  const n = e.clone(
                    e.m_plan.id + "_featuredRegistrationDeadline_" + t.appid,
                    a,
                    a,
                    "deadline-urgent",
                    (0, l.Xx)(
                      "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Header",
                    ),
                  );
                  (n.getElement = () =>
                    s.createElement(ae, {
                      eventData: n,
                      appId: t.appid,
                      registerByDate: a,
                      registrationType: "registration",
                    })),
                    m.push(r.AddAdditionalEvent(n));
                }
              }
            }
          }
          return m.length > 0 ? () => m.forEach((e) => e()) : void 0;
        }, [
          r,
          o,
          e,
          null === (i = e.m_optIn) || void 0 === i ? void 0 : i.rgFeaturedApps,
          d,
          c,
        ]);
      }
      function $(e) {
        var t, a, n, r, o, d;
        const { eventData: c } = e,
          m = (0, S.jM)(i.De.LANGUAGE),
          p = c.m_plan,
          { eventModel: _, bLoading: u } = (0, k.Mx)(
            p.sale_clan_account,
            p.sale_clan_event_gid,
          ),
          E = (0, B.f)(p.opt_in_id, c.m_partnerId),
          g =
            !u &&
            (null == _
              ? void 0
              : _.GetImageURL("capsule", m, L.FN.capsule_main)),
          D = !u && (null == _ ? void 0 : _.GetSaleURL()),
          h = (
            null === (t = p.opt_in_id) || void 0 === t
              ? void 0
              : t.startsWith("sale_nextfest_")
          )
            ? `${i.De.PARTNER_BASE_URL}recap/nextfest/${p.opt_in_id.substring(14)}/${c.m_partnerId}`
            : void 0,
          f = Pe(),
          y = P.Get().GetInfo(p.opt_in_id),
          N = s.useMemo(() => {
            var e, t;
            return H.kp(
              null !==
                (t =
                  null === (e = E.data) || void 0 === e
                    ? void 0
                    : e.appIdsWithoutPermissions) && void 0 !== t
                ? t
                : [],
            );
          }, [
            null === (a = E.data) || void 0 === a
              ? void 0
              : a.appIdsWithoutPermissions,
          ]),
          I = s.useMemo(() => {
            var e, t, a;
            if (E.isLoading || !E.isSuccess) return null;
            const n =
              null === (e = E.data.stats) || void 0 === e
                ? void 0
                : e.reduce(
                    (e, t) =>
                      t.rt_last_update_time > e ? t.rt_last_update_time : e,
                    0,
                  );
            if (!n || n < p.end_date) return null;
            const s =
                null !==
                  (a =
                    null === (t = E.data.stats) || void 0 === t
                      ? void 0
                      : t.filter(
                          (e) => 0 != n && e.rt_last_update_time == n,
                        )) && void 0 !== a
                  ? a
                  : [],
              i = s.reduce((e, t) => e + t.demo_player_count, 0),
              r = s.reduce((e, t) => e + t.wishlist_count, 0),
              l = s.reduce((e, t) => e + t.player_wishlist_count, 0),
              o = s.reduce(
                (e, t) =>
                  t.demo_player_count >= e.count
                    ? { count: t.demo_player_count, appId: t.appid }
                    : e,
                { count: 0, appId: 0 },
              ).appId;
            return {
              nGamesWithStatsCount: s.length,
              nDemoPlayers: i,
              nWishlists: r,
              nConversions: l,
              nMostPopularAppId: o,
            };
          }, [p.end_date, E.data, E.isLoading, E.isSuccess]),
          b =
            (null == I ? void 0 : I.nMostPopularAppId) > 0
              ? I.nMostPopularAppId
              : N.length > 0
                ? Math.max(...N)
                : 0,
          R =
            null ===
              (r =
                null === (n = null == y ? void 0 : y.rgRegisteredApps) ||
                void 0 === n
                  ? void 0
                  : n.find((e) => e.appid == b)) || void 0 === r
              ? void 0
              : r.jsondata,
          A = R && JSON.parse(R),
          w =
            A &&
            !(null === (o = A.survey_response) || void 0 === o
              ? void 0
              : o.some((e) => e.accountid == i.L7.accountid)),
          C =
            (null !== (d = null == I ? void 0 : I.nGamesWithStatsCount) &&
            void 0 !== d
              ? d
              : 0) + N.length;
        if (
          (s.useEffect(() => {
            E.isLoading ||
              (E.isSuccess && (0 != C || w)) ||
              f.SetHidden(p.id, !0);
          }, [f, w, C, p.id, E.isLoading, E.isSuccess]),
          E.isLoading)
        )
          return s.createElement(X.V, null);
        if (0 == C && !w) return;
        const U = `${i.De.PARTNER_BASE_URL}optin/survey/${p.opt_in_id}/${b}`,
          F = new Intl.NumberFormat((0, l.CE)()),
          G = s.createElement(
            "a",
            {
              href: `${i.De.PARTNER_BASE_URL}doc/gettingstarted/managing_users`,
            },
            (0, l.Xx)(
              "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_ViewFinancials",
            ),
          );
        return s.createElement(
          "div",
          { className: x.RecapItemContainer },
          I &&
            s.createElement(
              s.Fragment,
              null,
              g &&
                s.createElement(
                  "div",
                  { className: x.RecapItemImage },
                  s.createElement(
                    T.ex,
                    { href: D, target: "_blank" },
                    s.createElement("img", { src: g }),
                  ),
                ),
              s.createElement(
                "div",
                { className: x.RecapTextSection },
                s.createElement(
                  "div",
                  { className: x.RecapTextHeader },
                  (0, l.Xx)(
                    "#Dashboard_UpcomingEvents_RecapNextFest_TextHeader",
                  ),
                ),
                s.createElement(
                  "div",
                  { className: x.RecapTextSummary },
                  s.createElement(
                    "div",
                    { className: x.RecapTextGameDescription },
                    s.createElement(
                      "div",
                      { className: x.RecapTextGameCount },
                      (0, l.x$)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_TextGameCount",
                        C,
                        s.createElement("b", null),
                      ),
                    ),
                    N.length > 0 &&
                      s.createElement(
                        "div",
                        { className: x.RecapTextGameAdditionalCount },
                        (0, l.Jr)(
                          "#Dashboard_UpcomingEvents_RecapNextFest_PartialStats_TextGameCount",
                          N.length,
                          G,
                        ),
                      ),
                  ),
                  h &&
                    s.createElement(
                      "button",
                      {
                        className: x.RecapTextFullSummaryButton,
                        onClick: () => window.open(h, "_blank"),
                      },
                      (0, l.Xx)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_TextFullSummary",
                      ),
                    ),
                ),
              ),
              s.createElement(
                "div",
                {
                  className: (0, v.Z)(x.RecapBox, x.Plays),
                  "data-tooltip-text": (0, l.Xx)(
                    "#Recap_NextFest_TotalPlayers_ttip",
                  ),
                },
                s.createElement(
                  "div",
                  { className: x.RecapBoxCount },
                  F.format(I.nDemoPlayers),
                ),
                s.createElement(
                  "div",
                  { className: x.RecapBoxDesc },
                  (0, l.Xx)("#Recap_NextFest_TotalPlayers"),
                ),
              ),
              s.createElement(
                "div",
                {
                  className: (0, v.Z)(x.RecapBox, x.Wishlists),
                  "data-tooltip-text": (0, l.Xx)(
                    "#Recap_NextFest_TotalWishlist_ttip",
                  ),
                },
                s.createElement(
                  "div",
                  { className: x.RecapBoxCount },
                  F.format(I.nWishlists),
                ),
                s.createElement(
                  "div",
                  { className: x.RecapBoxDesc },
                  (0, l.Xx)("#Recap_NextFest_TotalWishlist"),
                ),
              ),
              s.createElement(
                "div",
                {
                  className: (0, v.Z)(x.RecapBox, x.Conversions),
                  "data-tooltip-text": (0, l.Xx)(
                    "#Recap_NextFest_PlayerWishlist_ttip",
                  ),
                },
                s.createElement(
                  "div",
                  { className: x.RecapBoxCount },
                  F.format(I.nConversions),
                ),
                s.createElement(
                  "div",
                  { className: x.RecapBoxDesc },
                  (0, l.Xx)("#Recap_NextFest_PlayerWishlist"),
                ),
              ),
            ),
          !I &&
            s.createElement(
              s.Fragment,
              null,
              g &&
                s.createElement(
                  "div",
                  { className: x.RecapItemImage },
                  s.createElement(
                    T.ex,
                    { href: D, target: "_blank" },
                    s.createElement("img", { src: g }),
                  ),
                ),
              s.createElement(
                "div",
                { className: x.RecapTextSection },
                s.createElement(
                  "div",
                  { className: x.RecapTextHeader },
                  (0, l.Xx)(
                    "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_TextHeader",
                  ),
                ),
                s.createElement(
                  "div",
                  { className: x.RecapTextSummary },
                  s.createElement(
                    "div",
                    { className: x.RecapTextGameDescription },
                    s.createElement(
                      "div",
                      { className: x.RecapTextGameCount },
                      (0, l.x$)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_TextGameCount",
                        C,
                        s.createElement("b", null),
                      ),
                    ),
                    s.createElement(
                      "div",
                      { className: x.RecapTextGameAdditionalCount },
                      (0, l.kQ)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_NeedPermission",
                        G,
                      ),
                    ),
                  ),
                  h &&
                    s.createElement(
                      "button",
                      {
                        className: x.RecapTextFullSummaryButton,
                        onClick: () => window.open(h, "_blank"),
                      },
                      (0, l.Xx)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_TextFullSummary",
                      ),
                    ),
                ),
              ),
              s.createElement(
                "div",
                { className: (0, v.Z)(x.RecapBox, x.Plays) },
                s.createElement(
                  "div",
                  { className: x.RecapBoxCount },
                  F.format(C),
                ),
                s.createElement(
                  "div",
                  { className: x.RecapBoxDesc },
                  (0, l.Xx)("#Recap_NextFest_Apps"),
                ),
              ),
            ),
          w &&
            s.createElement(
              "div",
              { className: x.RecapSurveyArea },
              s.createElement(
                "div",
                { className: x.RecapSurveyText },
                (0, l.Xx)("#Dashboard_UpcomingEvents_RecapNextFest_SurveyText"),
              ),
              s.createElement(
                "button",
                {
                  className: x.RecapSurveyButton,
                  onClick: () => window.open(U, "_blank"),
                },
                (0, l.Xx)(
                  "#Dashboard_UpcomingEvents_RecapNextFest_SurveyButton",
                ),
              ),
            ),
        );
      }
      function z(e) {
        const {
          eventName: t,
          eventDescription: a,
          eventUrl: n,
          startTime: i,
          endTime: r,
          warnings: l,
          imageUrl: o,
          additionalButtons: d,
          inlineDate: c,
        } = e;
        return s.createElement(
          s.Fragment,
          null,
          o &&
            s.createElement(
              "div",
              { className: x.ItemImage },
              s.createElement(
                T.ex,
                { href: n, target: "_blank" },
                s.createElement("img", { src: o }),
              ),
            ),
          s.createElement(
            "div",
            { className: x.ItemNameInfoContainer },
            s.createElement(
              "div",
              { className: (0, v.Z)(x.ItemInfoHeader, c && x.InlineDate) },
              s.createElement(
                "span",
                { className: x.ItemName },
                s.createElement(T.ex, { href: n, target: "_blank" }, t),
              ),
              s.createElement(
                "div",
                null,
                s.createElement(F.J, {
                  startTimestamp: i,
                  endTimestamp: r,
                  largeDate: c,
                }),
              ),
            ),
            a,
            (null == l ? void 0 : l.length) > 0 &&
              s.createElement(
                "div",
                { className: x.ItemWarning },
                l.join(", "),
              ),
          ),
          d && s.createElement("div", { className: x.LinkButtonContainer }, d),
        );
      }
      function Y(e) {
        var t;
        const { eventData: a } = e;
        if (
          !(null === (t = a.m_assetInput) || void 0 === t
            ? void 0
            : t.enable_input)
        )
          return;
        const n = a.m_plan.id
            ? `${i.De.PARTNER_BASE_URL}promotion/assetportal/request/${a.m_plan.id}`
            : void 0,
          r = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }),
          o =
            a.m_plan.start_date && r.format(1e3 * (a.m_plan.start_date - R.hZ));
        return s.createElement(
          "div",
          { className: x.LinkButtonContainer },
          o &&
            s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "div",
                { className: x.AssetRequestDateLabel },
                (0, l.Xx)(
                  "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest_duedate",
                ),
              ),
              s.createElement("div", { className: x.AssetRequestDate }, o),
            ),
          n &&
            s.createElement(
              "button",
              {
                className: (0, v.Z)(x.LinkButton),
                onClick: () => window.open(n, "_blank"),
              },
              (0, l.Xx)(
                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest_button",
              ),
            ),
        );
      }
      function K(e) {
        var t, a, n;
        const { eventData: r, eventUrl: o, optIn: d } = e,
          c = r.m_plan,
          m = (e, t) => {
            var a;
            return null !==
              (a =
                null == e
                  ? void 0
                  : e.map((e) => ({ details: e, bRegistered: t }))) &&
              void 0 !== a
              ? a
              : [];
          },
          p = s.useMemo(
            () => (0, T.hp)(m(d.rgEligibleApps, !1), m(d.rgRegisteredApps, !0)),
            [d.rgEligibleApps, d.rgRegisteredApps],
          ),
          _ = ne(r.m_partnerId, d.rgRegisteredApps, c.start_date, c.end_date),
          u = s.useMemo(
            () =>
              (null == _ ? void 0 : _.length) &&
              s.createElement(
                "div",
                { className: x.OptInGamesToolTipContainer },
                _.sort((e, t) => e.appName.localeCompare(t.appName)).map((e) =>
                  s.createElement(
                    "div",
                    { key: e.appid },
                    `${e.appName} (${(function (e) {
                      const t = new Intl.DateTimeFormat(navigator.language, {
                        month: "numeric",
                        day: "numeric",
                        year: "2-digit",
                      });
                      return (0, T.Xb)(
                        e,
                        (e) => `${e.rtStartDate}_${e.rtEndDate}`,
                      )
                        .map(
                          (e) =>
                            `${t.format(new Date(1e3 * e.rtStartDate))} - ${t.format(new Date(1e3 * e.rtEndDate))}`,
                        )
                        .join(", ");
                    })(e.discountsDuring)})`,
                  ),
                ),
              ),
            [_],
          ),
          g = (null == p ? void 0 : p.length) > 0,
          D = Ue().setManageDiscountsAppIDs,
          h = null == p ? void 0 : p.some((e) => D.has(e.details.appid)),
          f =
            c.discount_event_id && h
              ? `${i.De.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${c.discount_event_id}`
              : void 0,
          y = f && _,
          N = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }),
          I =
            "deadline" != r.eventType &&
            d.description.definition.optin_deadline_date &&
            d.description.definition.event_start_date -
              d.description.definition.optin_deadline_date >
              E._H.PerDay &&
            N.format(1e3 * d.description.definition.optin_deadline_date);
        return s.createElement(
          s.Fragment,
          null,
          g &&
            s.createElement(
              "div",
              { className: x.StatusItemBoxContainer },
              s.createElement(ee, {
                text: (0, l.Xx)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_EligibleGames",
                ),
                count: p.length,
                tooltip: s.createElement(te, { apps: p }),
              }),
              s.createElement(ee, {
                text: (0, l.Xx)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_RegisteredGames",
                ),
                count:
                  null !==
                    (a =
                      null === (t = d.rgRegisteredApps) || void 0 === t
                        ? void 0
                        : t.length) && void 0 !== a
                    ? a
                    : 0,
                tooltip: s.createElement(te, {
                  apps: m(d.rgRegisteredApps, !1),
                }),
              }),
              s.createElement(ee, {
                text: (0, l.Xx)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Discounted",
                ),
                count:
                  null !== (n = null == _ ? void 0 : _.length) && void 0 !== n
                    ? n
                    : 0,
                tooltip: u,
                hidden: !y,
              }),
            ),
          s.createElement(
            "div",
            { className: x.LinkButtonContainer },
            I &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "div",
                  { className: x.AssetRequestDateLabel },
                  (0, l.Xx)("#Dashboard_UpcomingEvents_Events_OptIn_Deadline"),
                ),
                s.createElement("div", { className: x.AssetRequestDate }, I),
              ),
            o &&
              s.createElement(
                "button",
                {
                  className: (0, v.Z)(x.LinkButton),
                  onClick: () => window.open(o, "_blank"),
                },
                g
                  ? (0, l.Xx)(
                      "#Dashboard_UpcomingEvents_Events_OptIn_Button_EligibleGames",
                    )
                  : (0, l.Xx)(
                      "#Dashboard_UpcomingEvents_Events_OptIn_Button_LearnMore",
                    ),
              ),
            f &&
              s.createElement(
                "button",
                {
                  className: (0, v.Z)(x.LinkButton),
                  onClick: () => window.open(f, "_blank"),
                },
                (0, l.Xx)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_EnterDiscounts",
                ),
              ),
          ),
        );
      }
      function ee(e) {
        const { text: t, count: a, tooltip: n, hidden: i } = e;
        return s.createElement(
          A.HP,
          { toolTipContent: n },
          s.createElement(
            "div",
            { className: (0, v.Z)(x.StatusItemBox, i && x.Hidden) },
            s.createElement("div", { className: x.StatusItemBoxLabel }, t),
            s.createElement("div", { className: x.StatusItemBoxText }, a),
          ),
        );
      }
      function te(e) {
        const { apps: t } = e;
        if (!(null == t ? void 0 : t.length)) return;
        const a = t.sort((e, t) =>
          e.details.app_name.localeCompare(t.details.app_name),
        );
        return s.createElement(
          "div",
          { className: x.OptInGamesToolTipContainer },
          a.map((e) =>
            s.createElement(
              "div",
              { key: e.details.appid },
              e.bRegistered
                ? (0, l.kQ)(
                    "#Dashboard_UpcomingEvents_Events_OptIn_GameRegistered",
                    e.details.app_name,
                    s.createElement(
                      "span",
                      { className: x.OptInGamesToolTipRegistered },
                      (0, l.Xx)(
                        "#Dashboard_UpcomingEvents_Events_OptIn_GameRegisteredText",
                      ),
                    ),
                  )
                : e.details.app_name,
            ),
          ),
        );
      }
      function ae(e) {
        var t, a, n, r;
        const {
            eventData: o,
            appId: d,
            registerByDate: c,
            registrationType: m,
          } = e,
          p = (0, S.jM)(i.De.LANGUAGE),
          _ = o.m_plan,
          u = o.m_optIn,
          [E] = (0, D.jk)(d, 0, { include_basic_info: !0, include_assets: !0 }),
          g = null == E ? void 0 : E.GetAssets().GetHeaderURL(),
          h = E ? i.De.PARTNER_BASE_URL + "apps/landing/" + E.GetAppID() : null,
          f = `${i.De.PARTNER_BASE_URL}optin/sale/${null === (t = _.opt_in_id) || void 0 === t ? void 0 : t.replace("sale_", "")}`,
          y = new Intl.DateTimeFormat(navigator.language, {
            month: "long",
            day: "numeric",
          }),
          N = y.format(c),
          I =
            "trailer-seasonalsale" == m || "trailer-themesale" == m
              ? N
              : y.format(
                  new Date(
                    1e3 * (null == u ? void 0 : u.description.start_date),
                  ),
                ),
          b = s.useMemo(() => {
            const e = o.m_optIn.rgRegisteredApps.find((e) => e.appid == d);
            return e ? [e] : [];
          }, [o.m_optIn.rgRegisteredApps, d]),
          R = (null == b ? void 0 : b.length) > 0,
          A = _.discount_event_id
            ? `${i.De.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${_.discount_event_id}`
            : void 0,
          w = ne(o.m_partnerId, b, _.start_date, _.end_date),
          k = (null == w ? void 0 : w.length) > 0,
          L =
            null ===
              (r =
                null ===
                  (n =
                    null === (a = null == u ? void 0 : u.description) ||
                    void 0 === a
                      ? void 0
                      : a.definition) || void 0 === n
                  ? void 0
                  : n.localized_optin_banner) || void 0 === r
              ? void 0
              : r[i.De.LANGUAGE],
          U =
            (null == u ? void 0 : u.description.opt_in_name) &&
            L &&
            (0, C.Ip)(null == u ? void 0 : u.description.opt_in_name, p, L),
          P = R && k,
          F = "deadline-urgent" == o.eventType;
        let B = null,
          X = null,
          G = null;
        switch (m) {
          case "trailer-seasonalsale":
            (B =
              "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerSeasonalSale_Title"),
              (X =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerSeasonalSale_Body"),
              (G =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerSeasonalSale_Action");
            break;
          case "trailer-themesale":
            (B =
              "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerThemeSale_Title"),
              (X =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerThemeSale_Body"),
              (G =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerThemeSale_Action");
            break;
          case "registration":
            (B =
              "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Title"),
              (X =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Body"),
              (G =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Action");
            break;
          case "discount":
            (B =
              "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Title"),
              (X =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Body"),
              (G =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Action");
        }
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            { className: (0, v.Z)(x.ItemContainer, g && x.HasImage) },
            U &&
              s.createElement("img", {
                className: (0, v.Z)(x.BackgroundImage, x.Dimmed),
                src: U,
              }),
            g &&
              s.createElement(
                "div",
                { className: x.ItemImage },
                s.createElement(
                  T.ex,
                  { href: h, target: "_blank" },
                  s.createElement("img", { src: g }),
                ),
              ),
            s.createElement(
              "div",
              { className: x.ItemNameInfoContainer },
              s.createElement(
                "div",
                { className: (0, v.Z)(x.ItemName, x.Light) },
                (0, l.Xx)(B, o.title),
              ),
              s.createElement(
                "div",
                {
                  className: (0, v.Z)(x.ItemDeadlineHeaderText, F && x.Urgent),
                },
                (0, l.Xx)(X, N),
              ),
            ),
          ),
          s.createElement(
            "div",
            { className: x.StatusItemBoxContainer },
            s.createElement(
              "div",
              { className: x.DeadlineFeaturedStatusContainer },
              (0, l.Xx)(
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeatured_Status",
              ),
              !P &&
                s.createElement(
                  "span",
                  {
                    className: (0, v.Z)(
                      x.DeadlineFeaturedStatusText,
                      F && x.IncompleteUrgent,
                      !F && x.Incomplete,
                    ),
                  },
                  (0, l.Xx)(
                    "#Dashboard_UpcomingEvents_Events_Deadline_EventFeatured_Incomplete",
                  ),
                ),
              P &&
                s.createElement(
                  "span",
                  { className: x.DeadlineFeaturedStatusText },
                  (0, l.Xx)(
                    "#Dashboard_UpcomingEvents_Events_Deadline_EventFeatured_Complete",
                  ),
                ),
            ),
            s.createElement(
              "div",
              { className: x.DeadlineFeaturedTodoContainer },
              s.createElement(
                "span",
                null,
                R
                  ? (0, l.Xx)("#Dashboard_UpcomingEvents_Checked")
                  : (0, l.Xx)("#Dashboard_UpcomingEvents_Unchecked"),
                " ",
                (0, l.Xx)(G, N),
              ),
              s.createElement(
                "button",
                {
                  className: (0, v.Z)(x.LinkButton),
                  onClick: () => window.open(f, "_blank"),
                },
                (0, l.Xx)(
                  "#Dashboard_UpcomingEvents_Events_Deadline_EventFeatured_Register_Button",
                ),
              ),
            ),
            s.createElement(
              "div",
              { className: x.DeadlineFeaturedTodoContainer },
              s.createElement(
                "span",
                null,
                k
                  ? (0, l.Xx)("#Dashboard_UpcomingEvents_Checked")
                  : (0, l.Xx)("#Dashboard_UpcomingEvents_Unchecked"),
                " ",
                (0, l.Xx)(
                  "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Action",
                  I,
                ),
              ),
              s.createElement(
                "button",
                {
                  className: (0, v.Z)(x.LinkButton),
                  onClick: () => window.open(A, "_blank"),
                },
                (0, l.Xx)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_EnterDiscounts",
                ),
              ),
            ),
          ),
        );
      }
      function ne(e, t, a, n) {
        const i = s.useMemo(() => {
            var e;
            return null !==
              (e =
                null == t
                  ? void 0
                  : t.map((e) => ({
                      appid: e.appid,
                      appName: e.app_name,
                      startDate: a,
                      endDate: n,
                    }))) && void 0 !== e
              ? e
              : [];
          }, [t, a, n]),
          r = s.useMemo(() => {
            var e;
            return null !== (e = null == t ? void 0 : t.map((e) => e.appid)) &&
              void 0 !== e
              ? e
              : [];
          }, [t]),
          l = (0, w.og)(r, { nPartnerID: e });
        return s.useMemo(() => {
          const e =
              null == i
                ? void 0
                : i.reduce((e, t) => e.set(t.appid, t), new Map()),
            t =
              l && e
                ? Array.from(l)
                    .map(([t, a]) => {
                      var n;
                      return {
                        appid: t,
                        discountsDuring:
                          null === (n = null == a ? void 0 : a.discounts) ||
                          void 0 === n
                            ? void 0
                            : n.filter(
                                (a) =>
                                  e.get(t).startDate &&
                                  e.get(t).startDate <= a.rtEndDate &&
                                  e.get(t).endDate &&
                                  a.rtStartDate <= e.get(t).endDate,
                              ),
                      };
                    })
                    .filter((e) => {
                      var t;
                      return null === (t = e.discountsDuring) || void 0 === t
                        ? void 0
                        : t.length;
                    })
                : void 0;
          return null == t
            ? void 0
            : t.map(({ appid: t, discountsDuring: a }) => ({
                appid: t,
                appName: null == e ? void 0 : e.get(t).appName,
                discountsDuring: a,
              }));
        }, [i, l]);
      }
      function se(e) {
        switch (e) {
          case "deadline":
          case "deadline-urgent":
            return (
              (0, l.Xx)("#Dashboard_UpcomingEvents_EventType_Deadline") +
              " (Generated)"
            );
          case "release-game":
            return (
              (0, l.Xx)("#Dashboard_UpcomingEvents_EventType_Release") +
              " (Generated)"
            );
          case "release-dlc":
            return (
              (0, l.Xx)("#Dashboard_UpcomingEvents_EventType_Release_DLC") +
              " (Generated)"
            );
          case "event":
            return (
              (0, l.Xx)("#Dashboard_UpcomingEvents_EventType_Event_Unknown") +
              " (Generated)"
            );
        }
      }
      (0, n.gn)([b.ak], V.prototype, "dataChanged", null);
      var ie = a(49622),
        re = a(46836);
      function le() {
        return s.useMemo(() => {
          const e = (function (e) {
              return e
                ? Object.keys(e).reduce((t, a) => t.set(a, e[a]), new Map())
                : void 0;
            })((0, i.kQ)("rgDeadlines", "application_config")),
            t = (e ? Array.from(e.entries()) : []).reduce((e, [t, a]) => {
              const n = (0, T.XL)(new Date(1e3 * a.due_date)),
                s = (function (e) {
                  switch (e) {
                    case 4:
                    case 5:
                      return !0;
                  }
                  return !1;
                })(a.type),
                i = s ? "group" : t,
                r = `${n.getTime()}_${a.type}_${i}`,
                l = e.has(r) ? e.get(r).deadlines : [];
              return (
                e.set(r, {
                  dueDate: n,
                  bSupportsGrouping: s,
                  deadlines: [...l, a],
                }),
                e
              );
            }, new Map()),
            a = Array.from(t.entries()).flatMap(([e, t]) => {
              const { dueDate: a, bSupportsGrouping: n, deadlines: s } = t,
                i = [];
              return (
                n
                  ? i.push(
                      (function (e) {
                        switch (e[0].type) {
                          case 4:
                          case 5:
                            return oe(e[0]);
                        }
                        return;
                      })(s),
                    )
                  : i.push(...s.map((e) => oe(e))),
                i
                  .filter((e) => !!e)
                  .map((t) => ({
                    title: t.sTitle,
                    startDate: a,
                    endDate: a,
                    eventType: t.bUrgent ? "deadline-urgent" : "deadline",
                    id: e,
                    eventTypeName: t.sHeader,
                    getElement: () => t.element,
                    passesFilter: (e) => 1 == e,
                    registerForChange: void 0,
                  }))
              );
            });
          return null != a ? a : [];
        }, []);
      }
      function oe(e) {
        const t = e.description_jsondata
          ? JSON.parse(e.description_jsondata)
          : void 0;
        switch (e.type) {
          case 1:
            return {
              sHeader: "Action Required",
              sTitle: "Test 1",
              bUrgent: !0,
              element: s.createElement(de, { deadline: e, json: t }),
            };
          case 3:
            return {
              sHeader: (0, l.Xx)(
                "#Dashboard_UpcomingEvents_EventType_Deadline",
              ),
              sTitle: (0, l.Xx)(
                "#PartnerDeadline_DailyDeal_InviteExpiring_Title",
              ),
              bUrgent: !0,
              element: s.createElement(ce, { deadline: e, json: t }),
            };
          case 4: {
            const a = P.Get().GetInfo(null == t ? void 0 : t.opt_in_name)
              .description.definition.event_title[i.De.LANGUAGE];
            return a
              ? {
                  sHeader: (0, l.Xx)(
                    "#PartnerDeadline_NextFest_PressPreview_Title",
                  ),
                  sTitle: (0, l.Xx)(
                    "#Deadlines_CombinedTitle",
                    (0, l.Xx)("#PartnerDeadline_NextFest_PressPreview_Title"),
                    a,
                  ),
                  element: s.createElement(pe, { deadline: e, json: t }),
                }
              : void 0;
          }
          case 5: {
            const a = P.Get().GetInfo(null == t ? void 0 : t.opt_in_name)
              .description.definition.event_title[i.De.LANGUAGE];
            return a
              ? {
                  sHeader: (0, l.Xx)(
                    "#PartnerDeadline_NextFest_DemoBuildReview_Title",
                  ),
                  sTitle: (0, l.Xx)(
                    "#Deadlines_CombinedTitle",
                    (0, l.Xx)(
                      "#PartnerDeadline_NextFest_DemoBuildReview_Title",
                    ),
                    a,
                  ),
                  bUrgent: !0,
                  element: s.createElement(_e, { deadline: e, json: t }),
                }
              : void 0;
          }
          case 6:
            return {
              sHeader: (0, l.Xx)(
                "#Dashboard_UpcomingEvents_EventType_Deadline",
              ),
              sTitle: (0, l.Xx)(
                "#PartnerDeadline_AssetRequest_InviteExpiring_Title",
              ),
              bUrgent: !0,
              element: s.createElement(me, { deadline: e, json: t }),
            };
        }
      }
      function de(e) {
        const { deadline: t, json: a } = e,
          n = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }).format(new Date(1e3 * t.due_date));
        return s.createElement(
          s.Fragment,
          null,
          s.createElement("div", null, "Name: ", a.name),
          s.createElement("div", null, "Due date: ", n),
        );
      }
      function ce(e) {
        const { deadline: t } = e,
          [a] = (0, D.jk)(
            null == t ? void 0 : t.store_item_id,
            null == t ? void 0 : t.store_item_type,
            { include_assets: !0 },
          ),
          n = `${i.De.PARTNER_BASE_URL}promotion/dailydeals/invite/${t.gid}`,
          r = (0, re.eS)(null == t ? void 0 : t.due_date);
        return s.createElement(ue, {
          urgent: !0,
          urlImage: null == a ? void 0 : a.GetAssets().GetSmallCapsuleURL(),
          strTitle: (0, l.Xx)(
            "#PartnerDeadline_DailyDeal_InviteExpiring_Title",
          ),
          strBody: (0, l.Xx)("#PartnerDeadline_InviteExpiring_Body", r),
          url: n,
          strImageTooltip: null == a ? void 0 : a.GetName(),
          rightCol: s.createElement(
            "button",
            {
              className: x.LinkButton,
              onClick: () => {
                window.open(n, "_blank");
              },
            },
            (0, l.Xx)("#DailyDeals_PickDate"),
          ),
        });
      }
      function me(e) {
        const { deadline: t } = e,
          [a] = (0, D.jk)(
            null == t ? void 0 : t.store_item_id,
            null == t ? void 0 : t.store_item_type,
            { include_assets: !0 },
          ),
          n = `${i.De.PARTNER_BASE_URL}promotion/assetportal/request/${t.gid}`,
          r = (0, re.eS)(null == t ? void 0 : t.due_date);
        return s.createElement(ue, {
          urgent: !0,
          urlImage: null == a ? void 0 : a.GetAssets().GetSmallCapsuleURL(),
          strTitle: (0, l.Xx)(
            "#PartnerDeadline_AssetRequest_InviteExpiring_Title",
          ),
          strBody: (0, l.Xx)("#PartnerDeadline_InviteExpiring_Body", r),
          url: n,
          strImageTooltip: null == a ? void 0 : a.GetName(),
          rightCol: s.createElement(
            "button",
            {
              className: x.LinkButton,
              onClick: () => {
                window.open(n, "_blank");
              },
            },
            (0, l.Xx)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest_button",
            ),
          ),
        });
      }
      function pe(e) {
        const { deadline: t, json: a } = e,
          n = P.Get().GetInfo(a.opt_in_name),
          r = `${i.De.PARTNER_BASE_URL}optin/sale/${a.opt_in_name.replace("sale_", "")}`;
        return s.createElement(ue, {
          strTitle: n.description.definition.event_title[i.De.LANGUAGE],
          strBody: (0, l.Xx)("#PartnerDeadline_NextFest_PressPreview_Body"),
          rightCol: s.createElement(
            "button",
            {
              className: x.LinkButton,
              onClick: () => window.open(r, "_blank"),
            },
            (0, l.Xx)("#PartnerDeadline_NextFest_View_Registration"),
          ),
        });
      }
      function _e(e) {
        const { deadline: t, json: a } = e,
          n = P.Get().GetInfo(a.opt_in_name),
          r = `${i.De.PARTNER_BASE_URL}optin/sale/${a.opt_in_name.replace("sale_", "")}`;
        return s.createElement(ue, {
          urgent: !0,
          strTitle: n.description.definition.event_title[i.De.LANGUAGE],
          strBody: (0, l.Xx)("#PartnerDeadline_NextFest_DemoBuildReview_Body"),
          rightCol: s.createElement(
            "button",
            {
              className: x.LinkButton,
              onClick: () => window.open(r, "_blank"),
            },
            (0, l.Xx)("#PartnerDeadline_NextFest_View_Registration"),
          ),
        });
      }
      function ue(e) {
        const {
          urlImage: t,
          strTitle: a,
          strBody: n,
          strImageTooltip: i,
          url: r,
          rightCol: l,
          urgent: o,
        } = e;
        return s.createElement(
          "div",
          { className: (0, v.Z)(x.ItemContainer, t && x.HasImage) },
          t &&
            s.createElement(
              A.HP,
              { toolTipContent: i },
              t &&
                s.createElement(
                  "div",
                  { className: x.ItemImage },
                  s.createElement(
                    T.ex,
                    { href: r, target: "_blank" },
                    s.createElement("img", { src: t }),
                  ),
                ),
            ),
          s.createElement(
            "div",
            { className: x.ItemNameInfoContainer },
            s.createElement("div", { className: x.ItemName }, a),
            s.createElement(
              "div",
              { className: o ? ie.DeadlineWarningUrgent : ie.DeadlineWarning },
              n,
            ),
          ),
          l && s.createElement("div", { className: x.LinkButtonContainer }, l),
        );
      }
      var ve = a(82756),
        Ee = a(4563),
        ge = a(50900),
        De = a(95666),
        he = a(26519),
        Te = a(93727);
      function fe(e) {
        const { partnerId: t, deal: a } = e,
          n = (0, ge.Kd)(a.store_item_type),
          [r] = (0, D.jk)(a.store_item_id, n, { include_assets: !0 }),
          o = null == r ? void 0 : r.GetAssets().GetSmallCapsuleURL();
        let d = null;
        0 == n && r
          ? (d = i.De.PARTNER_BASE_URL + "apps/landing/" + r.GetAppID())
          : 2 == n && r
            ? (d = i.De.PARTNER_BASE_URL + "bundles/view/" + r.GetID())
            : 1 == n &&
              r &&
              (d = i.De.PARTNER_BASE_URL + "store/packagelanding/" + r.GetID());
        const c = a.rtime32_start_time + 82800,
          {
            nDiscountPercentHigh: m,
            dtDiscountStart: p,
            dtDiscountEnd: _,
          } = (0, Te.Wp)(a),
          u = s.useMemo(() => (0, Te.sm)(a, m), [a, m]) >= Te.O7.DealReady,
          E = u,
          g = `${i.De.PARTNER_BASE_URL}promotion/discounts${he.G.DiscountDashboard(0 != t ? t.toString() : "")}?de=${a.discount_event_id}&dd=1`,
          h = new Intl.DateTimeFormat(navigator.language, {
            month: "long",
            day: "numeric",
          }).format(new Date(1e3 * a.rtime32_start_time));
        return s.createElement(
          "div",
          { className: (0, v.Z)(x.ItemContainer, o && x.HasImage) },
          o &&
            s.createElement(
              A.HP,
              { toolTipContent: a.store_item_name },
              o &&
                s.createElement(
                  "div",
                  { className: x.ItemImage },
                  s.createElement(
                    T.ex,
                    { href: d, target: "_blank" },
                    s.createElement("img", { src: o }),
                  ),
                ),
            ),
          s.createElement(
            "div",
            { className: x.ItemNameInfoContainer },
            s.createElement(
              "div",
              { className: x.ItemName },
              a.store_item_name,
            ),
            s.createElement(
              "div",
              null,
              s.createElement(
                "span",
                { className: Ee.DateDesc },
                (0, l.Xx)("#Dashboard_UpcomingEvents_DailyDeal_Dates"),
              ),
              s.createElement(F.J, {
                startTimestamp: a.rtime32_start_time,
                endTimestamp: c,
              }),
            ),
            u &&
              s.createElement(
                "div",
                null,
                s.createElement(
                  "span",
                  { className: Ee.DateDesc },
                  (0, l.Xx)("#Dashboard_UpcomingEvents_DailyDeal_Discounted"),
                ),
                s.createElement(F.J, { startTimestamp: p, endTimestamp: _ }),
              ),
          ),
          s.createElement(
            "div",
            { className: (0, v.Z)(x.StatusItemBoxContainer, Ee.StatusItemRow) },
            s.createElement(
              "div",
              { className: Ee.StatusIndicatorSection },
              s.createElement(
                "div",
                null,
                (0, l.Xx)("#Dashboard_UpcomingEvents_DailyDeal_StatusLabel"),
              ),
              E &&
                s.createElement(
                  "div",
                  { className: (0, v.Z)(Ee.StatusIndicator, Ee.Complete) },
                  (0, l.Xx)(
                    "#Dashboard_UpcomingEvents_DailyDeal_StatusComplete",
                  ),
                ),
              !E &&
                s.createElement(
                  "div",
                  { className: (0, v.Z)(Ee.StatusIndicator) },
                  (0, l.Xx)(
                    "#Dashboard_UpcomingEvents_DailyDeal_StatusIncomplete",
                  ),
                ),
            ),
            u &&
              s.createElement(
                ye,
                {
                  complete: !0,
                  label: (0, l.Xx)(
                    "#Dashboard_UpcomingEvents_DailyDeal_StatusDiscountLabel",
                  ),
                  buttonLabel: (0, l.Xx)(
                    "#Dashboard_UpcomingEvents_DailyDeal_EditDiscount",
                  ),
                  sUrl: g,
                },
                s.createElement(De.SG, { oDailyDeal: a }),
              ),
            !u &&
              s.createElement(
                ye,
                {
                  complete: !1,
                  label: (0, l.Xx)(
                    "#Dashboard_UpcomingEvents_DailyDeal_StatusDiscountLabel",
                  ),
                  buttonLabel: (0, l.Xx)(
                    "#Dashboard_UpcomingEvents_DailyDeal_EnterDiscount",
                  ),
                  sUrl: g,
                },
                s.createElement(
                  "span",
                  { className: Ee.StatusItemDueBy },
                  (0, l.Xx)("#Dashboard_UpcomingEvents_DailyDeal_DueBy", h),
                ),
              ),
          ),
        );
      }
      function ye(e) {
        const {
          complete: t,
          label: a,
          buttonLabel: n,
          sUrl: i,
          children: r,
        } = e;
        return s.createElement(
          "div",
          { className: Ee.StatusItemBox },
          s.createElement(
            "div",
            null,
            s.createElement(
              "div",
              { className: Ee.StatusItemLabel },
              s.createElement(
                "span",
                { className: (0, v.Z)(Ee.StatusItemCheck, t && Ee.Complete) },
                t ? "✔ " : "☐ ",
              ),
              s.createElement("span", null, a),
            ),
            r,
          ),
          i &&
            n &&
            s.createElement(
              "button",
              {
                className: Ee.StatusItemBoxButton,
                onClick: () => window.open(i, "_blank"),
              },
              n,
            ),
        );
      }
      class Ne {
        constructor() {
          (this.m_eventsChanged = new U.pB()),
            (this.m_rgHiddenIds = new Set()),
            (this.m_rgAdditionalEvents = new Map());
        }
        EventsChanged() {
          return this.m_eventsChanged;
        }
        GetHiddenIds() {
          return this.m_rgHiddenIds;
        }
        SetHidden(e, t) {
          t ? this.m_rgHiddenIds.add(e) : this.m_rgHiddenIds.delete(e),
            this.m_eventsChanged.Dispatch();
        }
        GetAdditionalEvents() {
          return Array.from(this.m_rgAdditionalEvents.values());
        }
        AddAdditionalEvent(e) {
          return (
            this.m_rgAdditionalEvents.set(e.id, e),
            this.m_eventsChanged.Dispatch(),
            () => this.RemoveAdditionalEvent(e.id)
          );
        }
        RemoveAdditionalEvent(e) {
          this.m_rgAdditionalEvents.delete(e), this.m_eventsChanged.Dispatch();
        }
      }
      var Ie = a(3675),
        be = a(97207);
      function xe(e) {
        const { saleEvent: t } = e;
        return s.createElement(be.P, {
          saleDesc: t,
          bShowAppBrowse: !0,
          bHidePartnerStats: !0,
          bShowWhyAmISeeingThis: !0,
        });
      }
      var Re = a(10162),
        Se = a(58685),
        Ae = a(79270),
        we = a(79545),
        Ce = a(20020);
      class ke {
        constructor() {
          (this.m_eventsChanged = new U.pB()),
            (this.m_rgDismisses = new Map()),
            (this.m_setDismisses = new Set());
        }
        static Get() {
          return (
            ke.s_Singleton ||
              ((ke.s_Singleton = new ke()),
              "dev" == i.De.WEB_UNIVERSE &&
                (window.g_PartnerDismissStore = ke.s_Singleton)),
            ke.s_Singleton
          );
        }
        Init(e, t) {
          var a;
          return (0, n.mG)(this, void 0, void 0, function* () {
            (this.m_accountId = e),
              (this.m_partnerId = t),
              (this.m_serviceTransport = Ae.I.Get()
                .GetPromotionTransport()
                .GetServiceTransport());
            const n = we.gA.Init(Se.fZ);
            n.Body().set_accountid(this.m_accountId),
              n.Body().set_partnerid(this.m_partnerId),
              n
                .Body()
                .set_rtime_after(
                  Math.floor(new Date().getTime() / 1e3 - 14 * E._H.PerDay),
                );
            const s = yield Se.iA.GetDismissTimeRange(
              this.m_serviceTransport,
              n,
            );
            if (s.BSuccess()) {
              for (const e of s.Body().dismiss_list())
                if (1 == e.state()) {
                  const t =
                    null !== (a = this.m_rgDismisses.get(e.key_json())) &&
                    void 0 !== a
                      ? a
                      : [];
                  t.push(e.dismiss_id()),
                    this.m_rgDismisses.set(e.key_json(), t);
                }
              this.DismissesUpdated();
            }
          });
        }
        DismissesUpdated() {
          (this.m_setDismisses = new Set(
            Array.from(this.m_rgDismisses).map(([e, t]) => e),
          )),
            this.m_eventsChanged.Dispatch();
        }
        EventsChanged() {
          return this.m_eventsChanged;
        }
        GetDismissedEvents() {
          return (
            (0, Ce.X)(this.m_serviceTransport, "Must call Init first"),
            this.m_setDismisses
          );
        }
        GetDismissState(e) {
          var t;
          return (
            (null === (t = this.m_rgDismisses.get(e)) || void 0 === t
              ? void 0
              : t.length) > 0
          );
        }
        SetDismiss(e, t) {
          var a, s;
          return (0, n.mG)(this, void 0, void 0, function* () {
            (0, Ce.X)(this.m_serviceTransport, "Must call Init first");
            const n =
              null !== (a = this.m_rgDismisses.get(e)) && void 0 !== a ? a : [];
            n.push(null), this.m_rgDismisses.set(e, n), this.DismissesUpdated();
            const i = we.gA.Init(Se.xq),
              r = new Se.lJ();
            r.set_accountid(this.m_accountId),
              r.set_partnerid(this.m_partnerId),
              r.set_key_json(e),
              r.set_state(1),
              r.set_rtime_create(Math.floor(new Date().getTime() / 1e3)),
              r.set_rtime_validity(Math.floor(t.getTime() / 1e3)),
              i.Body().add_dismiss_list(r);
            const l = yield Se.iA.CreateDismiss(this.m_serviceTransport, i);
            if (l.BSuccess() && l.Body().dismiss_list().length > 0) {
              const t = (
                null !== (s = this.m_rgDismisses.get(e)) && void 0 !== s
                  ? s
                  : []
              ).filter((e) => null !== e);
              t.push(l.Body().dismiss_list()[0].dismiss_id()),
                this.m_rgDismisses.set(e, t);
            }
          });
        }
        ClearDismiss(e) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            (0, Ce.X)(this.m_serviceTransport, "Must call Init first");
            const t = this.m_rgDismisses.get(e);
            if ((this.m_rgDismisses.delete(e), this.DismissesUpdated(), t))
              for (const e of t) {
                const t = we.gA.Init(Se.pW);
                t.Body().set_dismiss_id(e),
                  yield Se.iA.DeleteDismiss(this.m_serviceTransport, t);
              }
          });
        }
      }
      const Le = s.createContext({
        bShowWarnings: !1,
        bExpanded: !1,
        additionalEventStore: void 0,
        setManageDiscountsAppIDs: void 0,
      });
      function Ue() {
        return s.useContext(Le);
      }
      function Pe() {
        return s.useContext(Le).additionalEventStore;
      }
      function Fe(e) {
        const { partnerId: t, showWarnings: a, testData: n } = e,
          r = s.useMemo(() => {
            const e = (0, ve.kQ)("rtEarliestDataTime", "application_config");
            return e ? new Date(1e3 * e) : void 0;
          }, []),
          o = s.useMemo(() => {
            var e;
            return null ===
              (e = (0, ve.kQ)("sEventIds", "application_config")) ||
              void 0 === e
              ? void 0
              : e.split(",");
          }, []),
          d = s.useMemo(() => {
            var e, t;
            return new Set(
              null !==
                (t =
                  null ===
                    (e = Object.values(
                      (0, ve.kQ)(
                        "rgManageDiscountsAppIDs",
                        "application_config",
                      ),
                    )) || void 0 === e
                    ? void 0
                    : e.map((e) => Number(e))) && void 0 !== t
                ? t
                : [],
            );
          }, []),
          [m, p] = s.useState(0),
          u = (0, T.Oq)(m),
          E = (0, T.Oq)(m + 1),
          g = (0, T.Oq)(0),
          [D, h] = s.useState(""),
          [y, N] = s.useState(0),
          I = s.useCallback(() => {
            N(0), h("");
          }, []),
          x = s.useMemo(() => new Ne(), []),
          R = s.useMemo(() => {
            const e = new Date();
            e.setHours(0, 0, 0, 0);
            const t = (t) => {
                const a = new Date();
                return a.setDate(e.getDate() + t), a;
              },
              a = [
                {
                  title: "Team Fortress 2",
                  startDate: t(-1),
                  eventType: "release",
                },
                { title: "Dota 2", startDate: t(0), eventType: "event" },
                {
                  title: "Weekend Deal - Portal 2",
                  startDate: t(0),
                  eventType: "deadline",
                },
                {
                  title: "Half Life 2 - Episode One",
                  startDate: t(0),
                  eventType: "release",
                },
                {
                  title: "Capitalism and Economy Fest",
                  startDate: t(1),
                  eventType: "deadline",
                },
                {
                  title: "Dota Underlords",
                  startDate: t(9),
                  eventType: "release",
                },
                {
                  title: "Counter Strike 2",
                  startDate: t(36),
                  eventType: "event",
                },
                {
                  title: "Steam Next Fest June Edition",
                  startDate: t(36),
                  eventType: "event",
                },
                { title: "The Lab", startDate: t(36), eventType: "event" },
              ].map((e) =>
                Object.assign(Object.assign({}, e), {
                  id: "fake_" + e.title,
                  endDate: e.startDate,
                  eventTypeName: se(e.eventType),
                  getElement: () => s.createElement("div", null, e.title),
                }),
              );
            let n = 40;
            for (let e = 0; e < 50; e++) {
              let i;
              switch (Math.floor(4 * Math.random())) {
                case 0:
                  i = "deadline";
                  break;
                case 1:
                  i = "release-game";
                  break;
                case 2:
                  i = "release-dlc";
                  break;
                case 3:
                  i = "event";
              }
              n += 3 * Math.random();
              const r = {
                title: "Generated event" + e,
                startDate: t(n),
                endDate: t(n),
                eventType: i,
                id: "fake_" + e.toString(),
                eventTypeName: se(i),
                getElement: () =>
                  s.createElement("div", null, "Generated event" + e),
                registerForChange: void 0,
                dimmed: Math.random() > 0.9,
              };
              a.push(r);
            }
            return a;
          }, []),
          S = O(t),
          A = s.useMemo(() => {
            const e = (0, i.kQ)("rgUpcomingReleaseApps", "application_config"),
              t =
                null == e
                  ? void 0
                  : e.map((e) => {
                      const t = new Date(1e3 * e.releaserequest.release_date),
                        a = "DLC" == e.type,
                        n = a ? "release-dlc" : "release-game";
                      return {
                        title: e.name,
                        startDate: t,
                        endDate: t,
                        eventType: n,
                        id: e.appid.toString(),
                        eventTypeName: a
                          ? (0, l.Xx)(
                              "#Dashboard_UpcomingEvents_EventType_Release_DLC",
                            )
                          : (0, l.Xx)(
                              "#Dashboard_UpcomingEvents_EventType_Release",
                            ),
                        eventTypeSortWeight: a ? 10 : 0,
                        getElement: () => s.createElement(f, { app: e }),
                        passesFilter: (e) => 2 == e,
                        registerForChange: void 0,
                      };
                    });
            return null != t ? t : [];
          }, []),
          w = le(),
          C = (function (e) {
            const t = s.useMemo(() => {
              var e;
              return null !==
                (e = (0, i.kQ)("rgDailyDeals", "application_config")) &&
                void 0 !== e
                ? e
                : [];
            }, []);
            return s.useMemo(() => {
              const a = t.flatMap((t) =>
                t.cancelled
                  ? []
                  : {
                      title: t.store_item_name,
                      startDate: new Date(1e3 * t.rtime32_start_time),
                      endDate: new Date(1e3 * t.rtime32_start_time),
                      eventType: "event",
                      id: t.gid,
                      eventTypeName: (0, l.Xx)(
                        "#Dashboard_UpcomingEvents_EventType_DailyDeal",
                      ),
                      getElement: () =>
                        s.createElement(fe, { partnerId: e, deal: t }),
                      passesFilter: (e) => 1 == e,
                      editURL: `${i.De.PARTNER_BASE_URL}promotion/dailydeals/edit/${t.gid}`,
                    },
              );
              return null != a ? a : [];
            }, [e, t]);
          })(t),
          k = s.useMemo(() => {
            const e = Ie.U.Get().GetActiveEvents(),
              t = Ie.U.Get().GetUpcomingEvents(),
              a = Ie.U.Get().GetDraftEvents(),
              n = (e, t) => ({
                title: e.strEventName,
                startDate: new Date(1e3 * e.rtStartTime),
                endDate: new Date(1e3 * e.rtEndTime),
                eventType: "event",
                id: e.clanEventGID,
                eventTypeName: t,
                getElement: () => s.createElement(xe, { saleEvent: e }),
                passesFilter: (e) => 1 == e,
                registerForChange: void 0,
              });
            return [
              ...e.map((e) =>
                n(
                  e,
                  (0, l.Xx)("#Dashboard_UpcomingEvents_PartnerEvents_Active"),
                ),
              ),
              ...t.map((e) =>
                n(
                  e,
                  (0, l.Xx)("#Dashboard_UpcomingEvents_PartnerEvents_Upcoming"),
                ),
              ),
              ...a.map((e) =>
                n(
                  e,
                  (0, l.Xx)("#Dashboard_UpcomingEvents_PartnerEvents_Draft"),
                ),
              ),
            ];
          }, []),
          L = (function (e) {
            const [t, a] = s.useState([]),
              [n, i] = s.useState(0);
            return (
              (0, b.Qg)(e.EventsChanged(), () => {
                a(e.GetAdditionalEvents()), i((e) => e + 1);
              }),
              t
            );
          })(x),
          U = (function (e) {
            const [t, a] = s.useState(new Set()),
              [n, i] = s.useState(0);
            return (
              (0, b.Qg)(e.EventsChanged(), () => {
                a(e.GetHiddenIds()), i((e) => e + 1);
              }),
              t
            );
          })(x),
          P = (function () {
            const [e, t] = s.useState(ke.Get().GetDismissedEvents()),
              [a, n] = s.useState(0);
            return (
              (0, b.Qg)(ke.Get().EventsChanged(), () => {
                t(ke.Get().GetDismissedEvents()), n((e) => e + 1);
              }),
              e
            );
          })(),
          F = s.useMemo(
            () =>
              S.concat(A, w, C, k, L, n ? R : []).filter((e) =>
                (function (e, t, a, n, s, i) {
                  return (
                    !(e.valveOnly && !i) &&
                    !(
                      (null == t ? void 0 : t.length) > 0 && !t.includes(e.id)
                    ) &&
                    !a.has(e.id) &&
                    !(e.dimmed && new Date() >= e.startDate) &&
                    (3 == s) == n.has(Be(e))
                  );
                })(e, o, U, P, y, a),
              ),
            [A, w, C, k, L, n, R, U, P, o, S, y, a],
          ),
          B = s.useMemo(
            () =>
              F.filter((e) =>
                (function (e, t, a) {
                  if (
                    t &&
                    t.trim().length > 0 &&
                    ((t = t.trim()),
                    !e.title
                      .toLocaleLowerCase()
                      .includes(t.toLocaleLowerCase()) &&
                      !e.eventTypeName
                        .toLocaleLowerCase()
                        .includes(t.toLocaleLowerCase()))
                  )
                    return !1;
                  if (
                    !(0 == a || 3 == a || (e.passesFilter && e.passesFilter(a)))
                  )
                    return !1;
                  return !0;
                })(e, D, y),
              ),
            [F, D, y],
          ),
          X =
            ((G = F),
            (M = B),
            s.useMemo(() => {
              const e = new Set(M.map((e) => e.id));
              return new Set(G.filter((t) => e.has(t.id)).map((e) => e.id));
            }, [G, M]));
        var G, M;
        const H = 0 != y || (D && D.trim().length > 0),
          V = s.useMemo(() => new Map(), []),
          [j, Z] = s.useState(!1),
          W = s.useCallback((e) => {
            Z(e), !e && Q.current.scrollIntoView();
          }, []),
          Q = s.useRef(),
          q = (function (e, t) {
            const a = s.useRef(),
              n = s.useCallback(
                (n) => {
                  e ? n.scrollIntoView() : (t(!0), (a.current = n));
                },
                [e, t],
              );
            return (
              s.useEffect(() => {
                e &&
                  a.current &&
                  (a.current.scrollIntoView(), (a.current = void 0));
              }, [e]),
              n
            );
          })(j, Z),
          J = s.useCallback(
            (e) => {
              if ((0, T.XL)(e).getTime() == (0, T.XL)(new Date()).getTime())
                return void Q.current.scrollIntoView();
              const t = null == V ? void 0 : V.get((0, T.XL)(e).getTime());
              t && q(t.element);
            },
            [V, q],
          ),
          [$, z] = s.useState();
        s.useEffect(() => z(void 0), [F]);
        const Y = s.useMemo(
            () =>
              s.createElement(
                "div",
                { className: _.FilterHeader },
                s.createElement(je, { filterType: y, setFilterType: N }),
                s.createElement(Ve, { filterText: D, setFilterText: h }),
              ),
            [D, y],
          ),
          K = j && B.length > 0,
          ee = s.useMemo(
            () => ({
              bShowWarnings: a,
              bExpanded: K,
              additionalEventStore: x,
              setManageDiscountsAppIDs: d,
            }),
            [a, K, x, d],
          );
        return (
          ((null == S ? void 0 : S.length) > 0 ||
            (null == A ? void 0 : A.length) > 0 ||
            (null == w ? void 0 : w.length) > 0) &&
          s.createElement(
            Le.Provider,
            { value: ee },
            s.createElement(
              c,
              {
                title: (0, l.Xx)("#Dashboard_UpcomingEvents_Title"),
                ref: Q,
                beta: !0,
                headerElement: Y,
              },
              s.createElement(
                "div",
                { className: _.SectionContainer },
                !K &&
                  s.createElement(
                    "div",
                    { className: _.CalendarContainer },
                    s.createElement(
                      "div",
                      {
                        className: (0, v.Z)(
                          _.CalendarMovingRegion,
                          K && _.Sticky,
                        ),
                      },
                      s.createElement(Xe, {
                        viewDate: u,
                        fnSetMonthDelta: p,
                        earliestDate: g,
                      }),
                      s.createElement(Oe, null),
                      s.createElement(Ge, {
                        viewDate: u,
                        earliestDataTime: r,
                        events: F,
                        filterVisibleEventIds: X,
                        bShowPreceedingWeeks: !0,
                        fnScrollToDay: J,
                        hoverEvent: $,
                      }),
                      s.createElement(Xe, { viewDate: E }),
                      s.createElement(Oe, null),
                      s.createElement(Ge, {
                        viewDate: E,
                        events: F,
                        filterVisibleEventIds: X,
                        bShowFollowingWeeks: !0,
                        fnScrollToDay: J,
                        hoverEvent: $,
                      }),
                    ),
                  ),
                s.createElement(
                  "div",
                  { className: (0, v.Z)(_.ListArea, K && _.CalendarPerMonth) },
                  s.createElement(Ze, {
                    events: B,
                    filterVisibleEventIds: X,
                    dayRefsToScrollTo: V,
                    fnScrollToDay: J,
                    refSection: Q,
                    isExpanded: K,
                    fnSetExpanded: W,
                    filterEnabled: H,
                    filterType: y,
                    clearAllFilters: I,
                    hoverEvent: $,
                    setHoverEvent: z,
                  }),
                ),
              ),
            ),
          )
        );
      }
      function Be(e) {
        return JSON.stringify({ usage: "dashboard", eventId: e.id });
      }
      function Xe(e) {
        const {
            viewDate: t,
            fnSetMonthDelta: a,
            earliestDate: n,
            compact: i,
          } = e,
          r = Ue(),
          o = a
            ? () => {
                a(() => 0);
              }
            : null,
          d = new Date(t.getTime() - 14 * E._H.PerDay * 1e3),
          c = a && d > n ? () => a((e) => e - 1) : null,
          m = a ? () => a((e) => e + 1) : null,
          p = new Intl.DateTimeFormat(navigator.language, {
            year: "numeric",
            month: "short",
          }).format(t);
        return s.createElement(
          "div",
          {
            className: (0, v.Z)(
              _.MonthPickerContainer,
              r.bExpanded && _.CalendarPerMonth,
            ),
          },
          !i &&
            s.createElement(
              "div",
              {
                className: (0, v.Z)(_.MonthPickerToday, !o && _.Inactive),
                onClick: o,
              },
              (0, l.Xx)("#Dashboard_UpcomingEvents_JumpToToday"),
            ),
          !i &&
            s.createElement(
              "div",
              {
                className: (0, v.Z)(_.MonthPickerArrow, !c && _.Inactive),
                onClick: c,
              },
              "<",
            ),
          s.createElement("div", { className: _.MonthPickerDate }, p),
          !i &&
            s.createElement(
              "div",
              {
                className: (0, v.Z)(_.MonthPickerArrow, !m && _.Inactive),
                onClick: m,
              },
              ">",
            ),
        );
      }
      function Ge(e) {
        var t;
        const {
            viewDate: a,
            earliestDataTime: n,
            events: i,
            filterVisibleEventIds: r,
            bShowPreceedingWeeks: l,
            bShowFollowingWeeks: o,
            fnScrollToDay: d,
            hoverEvent: c,
          } = e,
          m = (0, T.XL)(new Date()),
          p = $e(i, T.XL),
          u = (0, T.mB)(a, -a.getDay()),
          E = new Date(a.getFullYear(), a.getMonth() + 1, 0).getDate(),
          g =
            (E +
              a.getDay() +
              ((a.getDay() + E) % 7 != 0 ? 7 - ((a.getDay() + E) % 7) : 0)) /
            7,
          D = new Intl.DateTimeFormat(navigator.language, {
            year: "numeric",
            month: "long",
            day: "numeric",
          }),
          h = [];
        for (let e = 0; e < g; e++) {
          const i = [],
            E = (0, T.mB)(u, 7 * e);
          for (let e = 0; e < 7; e++) {
            const u = (0, T.mB)(E, e),
              g = (0, T.XL)(u),
              h = a.getMonth() === u.getMonth() && (!n || u >= n),
              f =
                a.getMonth() === u.getMonth() || (l && u <= a) || (o && u >= a),
              y = g.getTime() === m.getTime(),
              N =
                null === (t = p.get(g.getTime())) || void 0 === t
                  ? void 0
                  : t.sort(Ye),
              I = null == N ? void 0 : N.every((e) => r.has(e.id)),
              b = null == N ? void 0 : N.some((e) => "deadline" == e.eventType),
              x =
                null == N
                  ? void 0
                  : N.some((e) => "deadline-urgent" == e.eventType),
              R =
                null == N
                  ? void 0
                  : N.some((e) => "release-game" == e.eventType),
              S =
                null == N
                  ? void 0
                  : N.some((e) => "release-dlc" == e.eventType),
              A = null == N ? void 0 : N.some((e) => "event" == e.eventType),
              w =
                c &&
                g.getTime() >= (0, T.XL)(c.startDate).getTime() &&
                g.getTime() <= (0, T.XL)(c.endDate).getTime(),
              C = (0, v.Z)(
                _.Day,
                !h && !w && _.OtherMonth,
                !f && _.Inactive,
                y && _.Today,
                b && I && _.Deadline,
                x && I && _.DeadlineUrgent,
                R && I && _.GameRelease,
                S && I && _.DLCRelease,
                A && I && _.Event,
                w && f && _.Hovered,
              );
            i.push(
              s.createElement(
                Me,
                { key: e, date: u, daysEvents: N, tooltipDateFormat: D },
                s.createElement(
                  "div",
                  { className: C, onClick: () => d(u) },
                  u.getDate(),
                ),
              ),
            );
          }
          h.push(s.createElement("div", { key: e, className: _.Week }, i));
        }
        return s.createElement(s.Fragment, null, h);
      }
      function Me(e) {
        const { date: t, daysEvents: a, tooltipDateFormat: n, children: i } = e;
        if (!a) return s.createElement(s.Fragment, null, i);
        const r = s.createElement(
          "div",
          { className: _.DayTooltipContainer },
          s.createElement("div", { className: _.DayTooltipDate }, n.format(t)),
          a.map((e) => s.createElement(He, { key: e.id, event: e })),
        );
        return s.createElement(A.HP, { toolTipContent: r }, i);
      }
      function He(e) {
        const { event: t } = e;
        return (
          Ke(t),
          s.createElement(
            "div",
            {
              className: (0, v.Z)(
                _.DayTooltipEvent,
                "deadline" == t.eventType && _.Deadline,
                "deadline-urgent" == t.eventType && _.DeadlineUrgent,
                "release-game" == t.eventType && _.GameRelease,
                "release-dlc" == t.eventType && _.DLCRelease,
                "event" == t.eventType && _.Event,
              ),
            },
            t.title,
            t.valveOnly &&
              s.createElement("span", { className: _.ValveOnly }, " (VO)"),
          )
        );
      }
      function Oe(e) {
        const t = new Intl.DateTimeFormat(navigator.language, {
            weekday: "short",
          }),
          a = [...Array(7).keys()].map((e) =>
            t.format(new Date(2024, 0, e + 7)),
          );
        return s.createElement(
          "div",
          { className: _.Week },
          a.map((e) =>
            s.createElement("div", { key: e, className: _.DayName }, e),
          ),
        );
      }
      function Ve(e) {
        const { filterText: t, setFilterText: a } = e;
        return s.createElement(
          "div",
          { className: _.FilterTextArea },
          s.createElement("input", {
            className: _.FilterTextInput,
            type: "text",
            value: t,
            onChange: (e) => a(e.target.value),
            placeholder: (0, l.Xx)(
              "#Dashboard_UpcomingEvents_Events_FilterEmpty",
            ),
          }),
          s.createElement(
            "button",
            { className: _.FilterTextClearButton, onClick: () => a("") },
            "✖",
          ),
          s.createElement("span", { className: _.FilterTextIcon }, "🔍"),
        );
      }
      function je(e) {
        const { filterType: t, setFilterType: a } = e,
          n = s.useMemo(
            () => [
              {
                type: 0,
                text: (0, l.Xx)("#Dashboard_UpcomingEvents_Filter_All"),
              },
              {
                type: 1,
                text: (0, l.Xx)("#Dashboard_UpcomingEvents_Filter_Events"),
              },
              {
                type: 2,
                text: (0, l.Xx)("#Dashboard_UpcomingEvents_Filter_Releases"),
              },
              {
                type: 3,
                text: (0, l.Xx)("#Dashboard_UpcomingEvents_Filter_Dismissed"),
              },
            ],
            [],
          );
        return s.createElement(
          "div",
          { className: _.FilterOptionsContainer },
          n.map((e) =>
            s.createElement(
              "div",
              {
                key: e.type,
                className: (0, v.Z)(
                  _.FilterOption,
                  t == e.type && _.Highlighted,
                ),
                onClick: () => a(e.type),
              },
              e.text,
            ),
          ),
        );
      }
      function Ze(e) {
        const {
            events: t,
            filterVisibleEventIds: a,
            dayRefsToScrollTo: n,
            fnScrollToDay: i,
            filterEnabled: r,
            filterType: o,
            clearAllFilters: d,
            isExpanded: c,
            fnSetExpanded: m,
            hoverEvent: p,
            setHoverEvent: u,
          } = e,
          E = s.useMemo(
            () =>
              Array.from(
                $e(
                  t.filter((e) => e.endDate < new Date()),
                  T.rj,
                ),
              ).sort(ze),
            [t],
          ),
          g = s.useMemo(
            () =>
              Array.from(
                $e(
                  t.filter((e) => e.endDate >= new Date()),
                  T.rj,
                ),
              ).sort(ze),
            [t],
          ),
          [D, h] = s.useState(!1),
          f = s.useRef();
        return (
          s.useLayoutEffect(() => {
            const e = () => {
              if (f.current) {
                const e = f.current.scrollHeight > f.current.offsetHeight;
                h(e);
              }
            };
            return (
              e(),
              window.addEventListener("resize", e),
              () => window.removeEventListener("resize", e)
            );
          }),
          s.createElement(
            "div",
            { className: _.ListContainer },
            s.createElement(
              "div",
              {
                className: (0, v.Z)(_.List, c && _.Expanded, D && _.Overflows),
                ref: f,
              },
              E.map(([e, t], r) =>
                s.createElement(We, {
                  key: `recap_${e}`,
                  date: new Date(e),
                  events: t,
                  filterVisibleEventIds: a,
                  dayRefsToScrollTo: n,
                  fnScrollToDay: i,
                  firstMonth: 0 == r,
                  lastMonth: r == g.length - 1,
                  hoverEvent: p,
                  setHoverEvent: u,
                }),
              ),
              g.map(([e, t], r) =>
                s.createElement(We, {
                  key: e,
                  date: new Date(e),
                  events: t,
                  filterVisibleEventIds: a,
                  dayRefsToScrollTo: n,
                  fnScrollToDay: i,
                  firstMonth: 0 == r,
                  lastMonth: r == g.length - 1,
                  hoverEvent: p,
                  setHoverEvent: u,
                  showHeader: !0,
                }),
              ),
              r &&
                0 == t.length &&
                s.createElement(
                  "div",
                  { className: _.AllEventsFiltered },
                  (0, l.kQ)(
                    3 != o
                      ? "#Dashboard_UpcomingEvents_Filter_NoEvents"
                      : "#Dashboard_UpcomingEvents_Filter_DismissedNoEvents",
                    s.createElement(
                      "a",
                      { onClick: () => d() },
                      (0, l.Xx)(
                        "#Dashboard_UpcomingEvents_Filter_NoEvents_LinkText",
                      ),
                    ),
                  ),
                ),
            ),
            D &&
              !c &&
              t.length > 0 &&
              s.createElement(
                "button",
                { className: _.ExpandButton, onClick: () => m(!0) },
                (0, l.Xx)("#Dashboard_UpcomingEvents_ShowMore"),
              ),
            c &&
              t.length > 0 &&
              s.createElement(
                "button",
                { className: _.ExpandButton, onClick: () => m(!1) },
                (0, l.Xx)("#Dashboard_UpcomingEvents_ShowLess"),
              ),
          )
        );
      }
      function We(e) {
        const {
            date: t,
            events: a,
            showHeader: n,
            filterVisibleEventIds: i,
            dayRefsToScrollTo: r,
            fnScrollToDay: l,
            firstMonth: o,
            lastMonth: d,
            hoverEvent: c,
            setHoverEvent: m,
          } = e,
          p = Ue(),
          u = s.useMemo(
            () =>
              new Date().getFullYear() == t.getFullYear()
                ? new Intl.DateTimeFormat(navigator.language, {
                    month: "long",
                  }).format(t)
                : new Intl.DateTimeFormat(navigator.language, {
                    year: "numeric",
                    month: "long",
                  }).format(t),
            [t],
          ),
          E = s.useMemo(() => Array.from($e(a, T.XL)).sort(ze), [a]),
          g = s.useRef(),
          D = s.useMemo(
            () =>
              E.reduce(
                (e, [t]) =>
                  e.set(t, (e) => r.set(t, { element: e, header: g.current })),
                new Map(),
              ),
            [E, r],
          ),
          h = s.useMemo(
            () =>
              E.map(([e, t]) =>
                s.createElement(Qe, {
                  key: e,
                  events: t,
                  showDateInHeader: n,
                  refScrollTo: D.get(e),
                  setHoverEvent: m,
                }),
              ),
            [E, D, m, n],
          );
        return s.createElement(
          "div",
          {
            className: (0, v.Z)(
              _.ListMonthContainer,
              p.bExpanded && _.CalendarPerMonth,
            ),
          },
          p.bExpanded &&
            s.createElement(
              "div",
              {
                className: (0, v.Z)(
                  _.ListMonthCalendar,
                  _.CalendarPerMonth,
                  !n && _.Hidden,
                ),
              },
              s.createElement(Xe, { viewDate: t, compact: !0 }),
              s.createElement(Oe, null),
              s.createElement(Ge, {
                viewDate: t,
                events: a,
                filterVisibleEventIds: i,
                fnScrollToDay: l,
                hoverEvent: c,
                bShowPreceedingWeeks: o,
                bShowFollowingWeeks: d,
              }),
            ),
          s.createElement(
            "div",
            {
              className: (0, v.Z)(
                _.ListMonth,
                p.bExpanded && _.CalendarPerMonth,
              ),
            },
            n &&
              s.createElement(
                "div",
                { className: _.ListMonthTitle, ref: g },
                u,
              ),
            h,
          ),
        );
      }
      function Qe(e) {
        const {
            events: t,
            showDateInHeader: a,
            refScrollTo: n,
            setHoverEvent: i,
          } = e,
          r = s.useMemo(() => {
            const e = t.reduce((e, t) => {
              const a = `${t.eventType}_${t.eventTypeName}`,
                n = e.get(a) || [];
              return e.set(a, [...n, t]), e;
            }, new Map());
            for (const t of e.values()) t.sort(Ye);
            return Array.from(e).sort(([e, t], [a, n]) => {
              var s, i, r, l;
              return (null !== (s = t[0].eventTypeSortWeight) && void 0 !== s
                ? s
                : 0) !=
                (null !== (i = n[0].eventTypeSortWeight) && void 0 !== i
                  ? i
                  : 0)
                ? (null !== (r = t[0].eventTypeSortWeight) && void 0 !== r
                    ? r
                    : 0) -
                    (null !== (l = n[0].eventTypeSortWeight) && void 0 !== l
                      ? l
                      : 0)
                : e.localeCompare(a);
            });
          }, [t]),
          l = s.useMemo(
            () =>
              r.map(([e, t]) =>
                s.createElement(qe, {
                  key: e,
                  events: t,
                  showDateInHeader: a,
                  refScrollTo: n,
                  setHoverEvent: i,
                }),
              ),
            [r, n, i, a],
          );
        return s.createElement("div", { ref: n, className: _.ListDay }, l);
      }
      function qe(e) {
        const {
            events: t,
            showDateInHeader: a,
            refScrollTo: n,
            setHoverEvent: i,
          } = e,
          r = s.useMemo(
            () =>
              t.map((e, t) =>
                s.createElement(Je, {
                  key: e.id,
                  event: e,
                  setHoverEvent: i,
                  showHeader: 0 == t,
                  showDateInHeader: a,
                }),
              ),
            [t, i, a],
          );
        return s.createElement("div", { ref: n, className: _.ListDayGroup }, r);
      }
      function Je(e) {
        const {
            event: t,
            showHeader: a,
            showDateInHeader: n,
            setHoverEvent: i,
          } = e,
          r = Ue();
        Ke(t);
        const o = "deadline" == t.eventType,
          d = "deadline-urgent" == t.eventType,
          c = "release-game" == t.eventType,
          m = "release-dlc" == t.eventType,
          p = "event" == t.eventType,
          E = new Date(),
          g = E >= t.startDate && E <= t.endDate,
          D = E > t.endDate,
          h = (0, v.Z)(
            _.ListDayNumber,
            o && _.Deadline,
            d && _.DeadlineUrgent,
            c && _.GameRelease,
            m && _.DLCRelease,
            p && _.Event,
          ),
          T = (0, v.Z)(
            _.ListEventType,
            o && _.Deadline,
            d && _.DeadlineUrgent,
            c && _.GameRelease,
            m && _.DLCRelease,
            p && _.Event,
          ),
          f = t.getElement(),
          y = Be(t),
          N = ke.Get().GetDismissState(y),
          I = s.useCallback(
            (e) =>
              e ? ke.Get().SetDismiss(y, t.endDate) : ke.Get().ClearDismiss(y),
            [t.endDate, y],
          );
        return (
          f &&
          s.createElement(
            "div",
            {
              className: (0, v.Z)(_.ListEvent, t.dimmed && _.Dimmed),
              onPointerEnter: () => i(t),
              onPointerLeave: () => i(void 0),
            },
            a &&
              s.createElement(
                "div",
                { className: _.ListEventHeader },
                n &&
                  s.createElement(
                    "div",
                    { className: h },
                    n ? t.startDate.getDate() : "",
                  ),
                s.createElement(
                  "div",
                  { className: T },
                  s.createElement(
                    "span",
                    { className: (0, v.Z)(!n && _.NoDate) },
                    t.eventTypeName,
                  ),
                  t.valveOnly &&
                    s.createElement("span", { className: _.ValveOnly }, "(VO)"),
                  s.createElement("span", { className: _.Spacer }),
                  r.bShowWarnings &&
                    t.editURL &&
                    s.createElement(
                      "span",
                      { className: _.Edit },
                      s.createElement(
                        "a",
                        { href: t.editURL, target: "_blank" },
                        "edit",
                      ),
                      " (VO)",
                    ),
                  !N &&
                    s.createElement(
                      "span",
                      { className: _.Dismiss, onClick: () => I(!0) },
                      (0, l.Xx)("#Dashboard_UpcomingEvents_Dismiss"),
                    ),
                  N &&
                    s.createElement(
                      "span",
                      { className: _.Dismiss, onClick: () => I(!1) },
                      (0, l.Xx)("#Dashboard_UpcomingEvents_Undismiss"),
                    ),
                ),
              ),
            s.createElement(
              "div",
              {
                className: (0, v.Z)(
                  _.ListEventEventSection,
                  u.ListEventEventSection,
                ),
              },
              s.createElement(
                "div",
                { className: _.ListEventEventGutter },
                g &&
                  s.createElement(
                    "div",
                    { className: (0, v.Z)(_.ListEventEventTimeFlag, _.Live) },
                    s.createElement(
                      "div",
                      { className: _.ListEventEventLiveText },
                      (0, l.Xx)("#Dashboard_UpcomingEvents_EventIsActive"),
                    ),
                  ),
                D &&
                  s.createElement(
                    "div",
                    { className: (0, v.Z)(_.ListEventEventTimeFlag, _.Past) },
                    s.createElement(
                      "div",
                      { className: _.ListEventEventPastText },
                      (0, l.Xx)("#Dashboard_UpcomingEvents_EventIsPast"),
                    ),
                  ),
              ),
              s.createElement(
                "div",
                { className: _.ListEventEventElement },
                s.createElement(Re.SV, null, f),
              ),
            ),
          )
        );
      }
      function $e(e, t) {
        return e.reduce((e, a) => {
          const n = t(a.startDate),
            s = e.get(n.getTime()) || [];
          return e.set(n.getTime(), [...s, a]), e;
        }, new Map());
      }
      function ze(e, t) {
        return e[0] - t[0];
      }
      function Ye(e, t) {
        return e.startDate.getTime() < t.startDate.getTime()
          ? -1
          : e.startDate.getTime() > t.startDate.getTime()
            ? 1
            : e.eventType < t.eventType
              ? -1
              : e.eventType > t.eventType
                ? 1
                : (null == e ? void 0 : e.id) < (null == t ? void 0 : t.id)
                  ? -1
                  : (null == e ? void 0 : e.id) > (null == t ? void 0 : t.id)
                    ? 1
                    : 0;
      }
      function Ke(e) {
        const t = (0, b.NW)();
        s.useEffect(() => {
          var a;
          const n =
            null === (a = e.registerForChange) || void 0 === a
              ? void 0
              : a.call(e, () => t());
          return () => (null == n ? void 0 : n.Unregister());
        }, [e, t]);
      }
      var et = a(9781),
        tt = a(37664),
        at = a(42718),
        nt = a(40057),
        st = a(28858),
        it = a(14725),
        rt = a(65255);
      function lt(e, t) {
        return ["StoreItem", (0, st.LA)(e), t || "basic"];
      }
      let ot;
      function dt(e, t, a, s) {
        return (0, n.mG)(this, void 0, void 0, function* () {
          ot ||
            (ot = (0, it.p)(
              e,
              {
                country: rt.De.COUNTRY,
                language: rt.De.LANGUAGE,
                realm: rt.De.EREALM,
              },
              { cache: !1 },
            ));
          const n = yield ot.load(`${(0, st.LA)(t)}|${s || ""}`);
          return a && a.setQueryData(lt(t), n), n;
        });
      }
      function ct(e) {
        const t = s.useMemo(
            () =>
              (function () {
                const e = (0, i.kQ)("rgRecentApps", "application_config"),
                  t = e ? Object.keys(e).map((t) => e[t]) : [],
                  a = (0, i.kQ)("rgRecentUnreleasedApps", "application_config"),
                  n = a ? Object.keys(a).map((e) => a[e]) : [],
                  s = (0, T.hp)(t, n);
                return s.sort((e, t) => e.nOrder - t.nOrder), s;
              })(),
            [],
          ),
          { bIsLoading: a, rgStoreItems: r } = (function (e, t = {}) {
            const a = (0, nt.be)(),
              s = (0, at.useQueries)(
                e.map((e) =>
                  Object.assign(
                    {
                      queryKey: lt(e),
                      queryFn: () =>
                        (0, n.mG)(this, void 0, void 0, function* () {
                          return yield dt(a, e);
                        }),
                      staleTime: 3e5,
                    },
                    t,
                  ),
                ),
              );
            return {
              bIsLoading: s.some((e) => e.isLoading),
              rgStoreItems: s.map((e) => {
                if (e.isSuccess) return e.data;
              }),
            };
          })(t.map((e) => ({ appid: e.appid }))),
          o = r.filter((e) => !!e).length > 0;
        return s.createElement(
          c,
          {
            title: (0, l.Xx)("#Dashboard_RecentApps_Title"),
            headerElement: s.createElement(pt, null),
          },
          s.createElement(
            "div",
            { className: tt.AppTileContainer },
            !a && !o && s.createElement(mt, null),
            t.map((e) => s.createElement(_t, { key: e.appid, app: e })),
          ),
        );
      }
      function mt(e) {
        const t = i.De.PARTNER_BASE_URL + "apps/";
        return s.createElement(
          "div",
          { className: tt.NoRecentApps },
          (0, l.Xx)("#Dashboard_RecentApps_NoRecent"),
          " ",
          s.createElement(
            "a",
            { href: t, target: "_blank" },
            " ",
            (0, l.Xx)("#Dashboard_RecentApps_ViewAll"),
          ),
        );
      }
      function pt(e) {
        const t = i.De.PARTNER_BASE_URL + "apps/";
        return s.createElement(
          "div",
          { className: tt.ViewAppsContainer },
          s.createElement(
            "div",
            { className: tt.ViewAppsLink },
            s.createElement(
              "a",
              { href: t },
              (0, l.Xx)("#Dashboard_RecentApps_ViewAllShort"),
            ),
          ),
        );
      }
      function _t(e) {
        const { app: t } = e,
          [a] = (0, D.jk)(t.appid, 0, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          n = i.De.PARTNER_BASE_URL + "apps/landing/" + t.appid,
          r = null == a ? void 0 : a.GetAssets().GetHeaderURL();
        return s.createElement(
          "div",
          { className: tt.AppTile },
          r &&
            s.createElement(
              A.HP,
              { toolTipContent: t.name },
              s.createElement(
                "div",
                { className: tt.AppTileImage },
                s.createElement(
                  "a",
                  { href: n, target: "_blank" },
                  s.createElement("img", { src: r }),
                ),
              ),
            ),
          !r &&
            s.createElement(
              "div",
              { className: tt.AppTileImagePlaceholder },
              s.createElement("a", { href: n, target: "_blank" }, t.name),
            ),
          s.createElement(
            "div",
            { className: tt.AppLabels },
            s.createElement(ut, { appType: t.type }),
            s.createElement(vt, {
              releaseState: t.releasestate,
              hasStoreItem: !!a,
            }),
          ),
        );
      }
      function ut(e) {
        const { appType: t } = e,
          a = "Game" == t,
          n = "DLC" == t,
          i = a
            ? (0, l.Xx)("#Dashboard_RecentApps_Game")
            : (0, l.Xx)("#Dashboard_RecentApps_DLC");
        return (
          (a || n) &&
          s.createElement(
            "div",
            { className: (0, v.Z)(tt.AppType, n && tt.DLC) },
            i,
          )
        );
      }
      function vt(e) {
        const { releaseState: t, hasStoreItem: a } = e,
          n = (0, T.l)(t, a);
        return (
          "released" != t &&
          s.createElement(
            "div",
            { className: (0, v.Z)(tt.AppRelease) },
            n.sText,
          )
        );
      }
      var Et = a(80751),
        gt = a.n(Et);
      function Dt(e, t) {
        const { isLoading: a, data: s } = (0, at.useQuery)({
          queryKey: ["usePartnerFinancialDailySummary", e, t],
          queryFn: () =>
            (0, n.mG)(this, void 0, void 0, function* () {
              var a;
              const n = { partnerid: e, pastdays: t },
                s = `${rt.De.PARTNER_BASE_URL}financial/ajaxgetpartnersummary`,
                i = yield gt().get(s, { params: n, withCredentials: !0 });
              return 1 !=
                (null === (a = null == i ? void 0 : i.data) || void 0 === a
                  ? void 0
                  : a.success)
                ? { daily_sales: [], summary_sales: {} }
                : i.data.data;
            }),
          enabled: !!e && t >= 1,
        });
        return a ? null : s;
      }
      var ht = a(8114),
        Tt = a(22559),
        ft = a(48359),
        yt = a(56886),
        Nt = a(72236),
        It = a(28531),
        bt = a(90291),
        xt = a(78105),
        Rt = a(36578);
      function St(e) {
        const { nPartnerID: t } = e,
          [a, n] = (0, s.useState)(7);
        return rt.L7.is_support
          ? s.createElement(
              "div",
              null,
              s.createElement(wt, {
                nPartnerID: t,
                nDaysInThePast: a,
                fnUpdateDaysInPast: n,
              }),
              s.createElement(kt, { nPartnerID: t, nDaysInThePast: a }),
              s.createElement(Lt, { nPartnerID: t, nDaysInThePast: a }),
            )
          : null;
      }
      const At = [
        { label: (0, l.Xx)("#PartnerStats_DayWeek"), data: 7 },
        { label: (0, l.Xx)("#PartnerStats_DayMonth"), data: 30 },
        { label: (0, l.Xx)("#PartnerStats_DayPeriod"), data: 90 },
      ];
      function wt(e) {
        const { nPartnerID: t, nDaysInThePast: a, fnUpdateDaysInPast: n } = e;
        return s.createElement(
          "div",
          { className: Rt.ModuleCtn },
          s.createElement(
            "div",
            { className: Rt.LeftAlign },
            s.createElement(
              "div",
              { className: Rt.ModuleTitle },
              (0, l.Xx)("#PartnerStats_DayLabel"),
            ),
            s.createElement(o.ry, {
              layout: "inline",
              label: null,
              rgOptions: At,
              selectedOption: a,
              onChange: (e) => n(e.data),
            }),
          ),
          s.createElement(
            "div",
            { className: Rt.ViewDetailLink },
            s.createElement(
              "a",
              { href: "#" },
              (0, l.Xx)("#PartnerStats_ViewDetail"),
            ),
          ),
        );
      }
      const Ct = new Intl.NumberFormat("en-US", {
        style: "currency",
        currency: "USD",
      });
      function kt(e) {
        var t;
        const { nPartnerID: a, nDaysInThePast: n } = e,
          i = Dt(a, n);
        return i &&
          0 !=
            (null === (t = i.daily_sales) || void 0 === t ? void 0 : t.length)
          ? s.createElement(
              "div",
              { className: Rt.HeaderCtn },
              s.createElement(
                "div",
                { className: Rt.StatGroup },
                s.createElement(
                  "div",
                  { className: Rt.Header },
                  (0, l.Xx)("#PartnerStats_Header_Revenue"),
                ),
                s.createElement(
                  "div",
                  { className: Rt.Numerals },
                  (function (...e) {
                    let t = 0;
                    return (
                      e.forEach((e) => {
                        t += Number.parseInt(e || "0") / 1e4;
                      }),
                      Ct.format(t)
                    );
                  })(
                    i.summary_sales.total_gross_sales_usdx100,
                    i.summary_sales.in_game_gross_sales_usdx100,
                  ),
                ),
              ),
              s.createElement(
                "div",
                { className: Rt.StatGroup },
                s.createElement(
                  "div",
                  { className: Rt.Header },
                  (0, l.Xx)("#PartnerStats_Header_Units"),
                ),
                s.createElement(
                  "div",
                  { className: Rt.Numerals },
                  Number.parseInt(
                    i.summary_sales.total_units_activated || "0",
                  ).toLocaleString(),
                ),
              ),
              s.createElement(
                "div",
                { className: Rt.StatGroup },
                s.createElement(
                  "div",
                  { className: Rt.Header },
                  (0, l.Xx)("#PartnerStats_Header_Wishlists"),
                ),
                s.createElement("div", { className: Rt.Numerals }, "TODO"),
              ),
            )
          : null;
      }
      function Lt(e) {
        const { nPartnerID: t, nDaysInThePast: a } = e,
          n = Dt(t, a),
          i = "total_gross_sales_usdx100",
          [r, l, o] = (0, s.useMemo)(() => {
            var e;
            if (
              !n ||
              0 ==
                (null === (e = n.daily_sales) || void 0 === e
                  ? void 0
                  : e.length)
            )
              return [0, 0, []];
            const t = (function (e, t) {
              const a = new Map();
              return (
                e.forEach((e) => {
                  const n = e.rtime_date,
                    s = Number.parseInt(e.daily_summary_sales[t]);
                  s &&
                    a.set(n, {
                      partner_stats_value: t.includes("usd") ? s / 1e4 : s,
                      rtime: n,
                      top_app_sales: e.top_app_sales,
                    });
                }),
                Array.from(a.values())
              );
            })(n.daily_sales, i);
            let a = 0,
              s = 0;
            return (
              t.forEach((e) => {
                e.partner_stats_value > a && (a = e.partner_stats_value),
                  (s += e.partner_stats_value);
              }),
              [a, s, t.sort((e, t) => e.rtime - t.rtime)]
            );
          }, [n, i]);
        return n && 0 != o.length
          ? s.createElement(
              "div",
              { className: Rt.DashStatsContainer },
              s.createElement(
                "div",
                { className: Rt.Chart },
                s.createElement(
                  Re.SV,
                  null,
                  s.createElement(Ut, { Data: o, nPeak: r }),
                ),
              ),
            )
          : null;
      }
      const Ut = s.memo((e) => {
        const { Data: t, nPeak: a } = e,
          n = (0, s.useCallback)(
            (e, a) => {
              var n;
              return (
                null === (n = t[a]) || void 0 === n
                  ? void 0
                  : n.partner_stats_value
              )
                ? (0, l.$1)(t[a].rtime, !0)
                : "";
            },
            [t],
          );
        return s.createElement(
          ht.h,
          { width: "100%", height: "100%" },
          s.createElement(
            Tt.c,
            {
              data: t,
              margin: { top: 25, left: 0, right: 0, bottom: 0 },
              barGap: 10,
            },
            s.createElement(
              "defs",
              null,
              s.createElement(
                "linearGradient",
                { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                s.createElement("stop", { stopColor: "#1A9FFF" }),
                s.createElement("stop", {
                  offset: "1",
                  stopColor: "#1A9FFF",
                  stopOpacity: "1",
                }),
              ),
            ),
            s.createElement(ft.q, { vertical: !1, stroke: "#a0aab6" }),
            s.createElement(yt.B, {
              tickFormatter: xt.Dt,
              tick: { fill: "white" },
              axisLine: !1,
              orientation: "right",
            }),
            s.createElement(Nt.u, { content: s.createElement(Ft, null) }),
            s.createElement(It.$, {
              dataKey: "partner_stats_value",
              fill: "url( #bar_linear )",
            }),
            s.createElement(bt.K, {
              interval: 0,
              tick: s.createElement(Pt, null),
              tickFormatter: n,
            }),
          ),
        );
      });
      function Pt(e) {
        const { x: t, y: a, payload: n } = e,
          i = e.tickFormatter(n.value, n.index);
        return s.createElement(
          "g",
          { transform: `translate(${t},${a})` },
          s.createElement(
            "text",
            {
              x: 0,
              y: 0,
              dy: 16,
              textAnchor: "middle",
              fill: "#FFFFFF",
              transform: "rotate(0)",
              fontSize: "11px",
            },
            i,
          ),
        );
      }
      function Ft({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload,
            a = e.partner_stats_value;
          let n = a;
          return (
            e.top_app_sales.forEach((e) => {
              n -=
                Number.parseInt(e.app_summary_sales.total_gross_sales_usdx100) /
                1e4;
            }),
            s.createElement(
              A.gz,
              { className: Rt.TooltipPartnerSummary },
              s.createElement(
                "div",
                null,
                (0, l.Xx)("#PartnerStats_Tooltip_Date", (0, l.$1)(e.rtime)),
              ),
              s.createElement(
                "div",
                { className: Rt.LineItemsCtn },
                s.createElement(
                  "div",
                  { className: Rt.ToolTipTable },
                  e.top_app_sales.map((e) => {
                    const t =
                      (Number.parseInt(
                        e.app_summary_sales.total_gross_sales_usdx100,
                      ) /
                        1e4 /
                        a) *
                      100;
                    return s.createElement(Bt, {
                      key: "app" + e.appid,
                      appid: e.appid,
                      usdRevenue:
                        Number.parseInt(
                          e.app_summary_sales.total_gross_sales_usdx100,
                        ) / 1e4,
                      nPercentage: t,
                    });
                  }),
                  Boolean(n > 2) &&
                    s.createElement(
                      "div",
                      { className: Rt.ToolTipTableRow },
                      s.createElement(
                        "div",
                        { className: Rt.ToolTipTableCell },
                        (0, l.Xx)("#PartnerStats_Tooltip_Remaining"),
                      ),
                      s.createElement(
                        "div",
                        { className: Rt.ToolTipTableCell },
                        (0, xt.Dt)(n),
                      ),
                      s.createElement(
                        "div",
                        { className: Rt.ToolTipTableCell },
                        Math.round((n / a) * 100),
                      ),
                    ),
                  s.createElement(
                    "div",
                    { className: (0, v.Z)(Rt.ToolTipTableRow, Rt.TotalRow) },
                    s.createElement(
                      "div",
                      { className: Rt.ToolTipTableCell },
                      (0, l.Xx)("#PartnerStats_Tooltip_Total"),
                    ),
                    s.createElement("div", { className: Rt.ToolTipTableCell }),
                    s.createElement(
                      "div",
                      { className: Rt.ToolTipTableCell },
                      (0, xt.Dt)(a),
                    ),
                  ),
                ),
              ),
            )
          );
        }
        return null;
      }
      function Bt(e) {
        const { appid: t, usdRevenue: a, nPercentage: n } = e,
          [i] = (0, D.vs)(t, {});
        return s.createElement(
          "div",
          { className: Rt.ToolTipTableRow },
          s.createElement(
            "div",
            { className: Rt.ToolTipTableCell },
            (null == i ? void 0 : i.GetName()) || t,
          ),
          s.createElement(
            "div",
            { className: Rt.ToolTipTableCell },
            (0, xt.Dt)(a),
          ),
          s.createElement(
            "div",
            { className: Rt.ToolTipTableCell },
            Math.round(n),
            "%",
          ),
        );
      }
      var Xt = a(7492),
        Gt = a(44174),
        Mt = a(42855);
      function Ht(e) {
        const t = (0, et.N)(),
          a = (0, Xt.Z)(),
          r = (0, i.kQ)("bShowWarnings", "application_config"),
          l = (0, i.kQ)("bTestData", "application_config"),
          o = (function (e) {
            const [t, a] = s.useState(!0);
            return (
              s.useEffect(() => {
                Gt.j1.Init(), Ie.U.Get();
                (() => {
                  (0, n.mG)(this, void 0, void 0, function* () {
                    const t = ke
                      .Get()
                      .Init(i.L7.accountid, Number.isNaN(e) ? 0 : e);
                    yield Promise.all([Mt.cb.InitGlobal(), t]), a(!1);
                  });
                })();
              }, [e]),
              t
            );
          })(a);
        return !t || o
          ? null
          : s.createElement(
              s.Fragment,
              null,
              s.createElement(St, { nPartnerID: a }),
              s.createElement(ct, null),
              s.createElement(m, null),
              s.createElement(Fe, {
                partnerId: a,
                showWarnings: r,
                testData: l,
              }),
            );
      }
    },
  },
]);
