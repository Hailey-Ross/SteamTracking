/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkappmgmt_storeadmin =
  self.webpackChunkappmgmt_storeadmin || []).push([
  [3863],
  {
    15798: (e) => {
      e.exports = { ButtonDailyDealDashboard: "IJS5RTzyM-kkF_NerVv-h" };
    },
    25406: (e) => {
      e.exports = {
        Section: "_1FrGxLLJNyWZswyE9TGS3N",
        Title: "f3pCBilbcCpf8q3EUD2fp",
        Body: "_1CaApUvC8ichAOgldt6XZm",
      };
    },
    94375: (e) => {
      e.exports = {
        ItemContainer: "_1sCXlT55_hE5R_DYWs2qzj",
        ItemImage: "_22wo1MvrX6TPgkDRtkW9sx",
        ItemImageUnavailable: "_2yeWc4Vfpz2Mx_uozaEsss",
        ItemNameInfoContainer: "_3sqg0fMDMr7OmDzXzE57W-",
        ItemName: "_3_C_TA37Za9oeBg5-B5yEP",
        ReleaseDateLabel: "_3I6UZDLKqv2wS3o6gw2YZ8",
        ReleaseDateText: "_27pclW_hEblq7v3PFdu3fV",
        ItemReleaseInfoContainer: "_16Qw0iB0ORV7o-6_BVm3uq",
        ItemReleaseStatusLabel: "_1M_-mbiZxdn4NqhpFoKw9f",
        ItemReleaseStatusText: "_2Q5EbM0lY7L2ibqu4FL_qt",
        Released: "_1Sbpo45i_svDxpXZsCF5-K",
        Prerelease: "_387XqcrvQwvpzEA1vJ1wlB",
      };
    },
    42038: (e) => {
      e.exports = {
        SectionContainer: "_1OBXzq4UPq3-gsMTLeYfY9",
        CalendarContainer: "pLKmGv4Xj5TT4QzAiqJbl",
        MonthPickerContainer: "_3YUZnUph1CrJsggSTF3VIl",
        MonthPickerArrow: "_2ht2tj6FCHeu648083Qs2c",
        Inactive: "_3Z-w7oH5-5mlbU3U85VEHA",
        MonthPickerToday: "iHTm_nhWExDmRYj1ZH9wP",
        MonthPickerDate: "_2rZatjHzK7ErWtDXDdkcuX",
        Week: "_2g35MI6SaxueceaSk6XLW3",
        DayName: "PRNbjgB8P-sJzTkJtkOAN",
        Day: "_357j5Ue2p6c9meuGmYfhRQ",
        OtherMonth: "RgAj-iO11EaOOuYbKYbhT",
        Deadline: "_1OK2i1Q0ALzwEnym_uD5VY",
        Today: "_3hEVJV0mh3g3Jj-D7EXcNQ",
        Release: "xCJCORmUF-CpiLFwbOwnf",
        Event: "_2jrTKty-CD5SCc0FFcsuW-",
        DayTooltipContainer: "_10Y9xUl-lBM0iXXXk3JTG2",
        DayTooltipDate: "_1pcCcxuWCl8D7l8D6fcYCY",
        DayTooltipEvent: "_3-gBe77wkGQK1K_xYgOwbE",
        ListContainer: "_1sKgklaDRNP7rHtE_6Yff9",
        List: "_1VsjyvH_Qjf3r0bxpSfx3V",
        ListMonth: "_2gBsUSd4zPyGk451opeP1k",
        ListMonthTitle: "_1lMzit4bY9M7NatDkjOYsQ",
        ListDay: "_10JRf2tdkaLJebvk26APzf",
        ListEvent: "_2OvrUC8yEPw0y-ETj60eRx",
        ListEventHeader: "_2JVkFc02Z_gli3Wk58ZdCn",
        ValveOnly: "_1PWl9VImc2pIq7OdlNtrVN",
        ListDayNumber: "_3XINnjVCEbWVyB05BBYltE",
        ListEventType: "_1VxkAwTIvWU2gB-71xXUDP",
        ListEventEventSection: "_2L_1oiBHK2dz3vQ1TBnm9j",
      };
    },
    52631: (e) => {
      e.exports = {
        ItemContainer: "VXok7mKJpXFIBjQBLIvh-",
        ItemImage: "_1HOWqt0TzoT_xyD3HtOGgB",
        ItemNameInfoContainer: "_1n53rAYRtJXXRA-lRajbXF",
        ItemName: "_2VZKTMQCK5Kt-lgquMVK81",
        ReleaseDateText: "_3TiU93n7jVLF7Thhizvvg1",
        OptInInfoContainer: "_1x_rfM4tHoizBPFxpYI7UP",
        OptInStatusLabel: "_2QdTvk3PfWRPORtO8VyLJS",
        OptInStatusText: "_3J_DQaCsIkMaXrgpSSRBQ8",
        Released: "_3KaP_itMaeb8Zo3YeCK1f1",
        Prerelease: "kReUs-oAP6GIWz1InWIoq",
        OptInGameStatusContainer: "_2tjDtsps0HGEEnNhGNt0UG",
        OptInGameStatusItem: "SoQzFUtUB-pwea88ESgjD",
        OptInGameStatusItemLabel: "_1KrHT3YgdqzYaTx-zl91AA",
        OptInGameStatusItemText: "_1dvMyp_4qJ6FPy41K91E-a",
        OptInGamesToolTipContainer: "_1aQ19lVLLxNItGzt-UlQ6C",
        OptInButtonContainer: "_1ULX7Dc7SuAo4kXDk8wg1d",
        LinkButton: "_3qIPl-2rtghu5e6FOR9lV_",
        OptInButton: "_3YlqIohVnu_g6kfF7n160b",
      };
    },
    29292: (e, t, a) => {
      "use strict";
      a.d(t, { Mx: () => m, XC: () => i });
      var n = a(85556),
        l = a(47427),
        r = a(44174),
        o = a(29480),
        s = a(35427);
      a(37563), a(22520);
      function i(e) {
        const [t, a] = (0, l.useState)(r.j1.GetClanEventModel(e)),
          n = (0, o.T)("usePartnerEventByEventGID");
        return (
          (0, l.useEffect)(() => {
            (null == t ? void 0 : t.GID) != e &&
              (r.j1.Init(),
              r.j1
                .LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs([e], [], n)
                .then((t) => {
                  1 != (null == t ? void 0 : t.length) ||
                    t[0].GID != e ||
                    n.token.reason ||
                    a(t[0]);
                }));
          }, [e, t, n]),
          t
        );
      }
      function m(e, t, a) {
        const [i, m] = (0, l.useState)(r.j1.GetClanEventModel(t)),
          [c, d] = (0, l.useState)(!!e && !!t),
          [p, v] = (0, l.useState)(),
          u = (0, o.T)("usePartnerEventByClanAccountAndEventGID");
        return (
          (0, l.useEffect)(() => {
            (() => {
              (0, n.mG)(this, void 0, void 0, function* () {
                var n, l;
                try {
                  if ((null == i ? void 0 : i.GID) != t) {
                    r.j1.Init();
                    const o = s.K.InitFromClanID(e);
                    let i;
                    try {
                      i =
                        yield r.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                          o,
                          t,
                          0,
                          a,
                        );
                    } catch (e) {
                      v(
                        null ===
                          (l =
                            null === (n = null == e ? void 0 : e.response) ||
                            void 0 === n
                              ? void 0
                              : n.data) || void 0 === l
                          ? void 0
                          : l.err_msg,
                      );
                    }
                    u.token.reason || m(i);
                  }
                } finally {
                  d(!1);
                }
              });
            })();
          }, [e, t, i, a, u]),
          { eventModel: i, bLoading: c, sErrorMessage: p }
        );
      }
    },
    9781: (e, t, a) => {
      "use strict";
      a.d(t, { N: () => d, a: () => c });
      var n = a(85556),
        l = a(47427),
        r = a(77581),
        o = a(15690),
        s = a(29480),
        i = a(62210),
        m = a(37563);
      function c(e = !1) {
        return (0, n.mG)(this, void 0, void 0, function* () {
          if (e && o.Z.BIsInitialized()) return;
          const t = (0, m.kQ)(
            "partnerbrowse_webapi_token",
            "application_config",
          );
          (0, i.X)(Boolean(t), "require partnerbrowse_webapi_token");
          const a = new r.J(m.De.WEBAPI_BASE_URL, t);
          return (
            ("dev" != m.De.WEB_UNIVERSE && "beta" != m.De.WEB_UNIVERSE) ||
              console.log(
                "DEV_DEBUG: Initializing CStoreItemCache with access token",
                t,
              ),
            o.Z.Initialize(a, m.L7.is_partner_member)
          );
        });
      }
      function d() {
        const e = (0, s.T)("usePartnerStoreBrowseAPI"),
          [t, a] = (0, l.useState)(!1);
        return (
          (0, l.useEffect)(() => {
            c().then(() => {
              var t;
              (null === (t = null == e ? void 0 : e.token) || void 0 === t
                ? void 0
                : t.reason) || a(!0);
            });
          }, []),
          t
        );
      }
    },
    8643: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { EAppTestType: () => K, default: () => ee });
      var n = a(47427),
        l = a(37563),
        r = a(15798),
        o = a(31846),
        s = a(53040),
        i = a(25406);
      function m(e) {
        const { title: t, description: a, children: l } = e;
        return n.createElement(
          "div",
          { className: i.Section },
          n.createElement("div", { className: i.Title }, t),
          a && n.createElement("div", { className: i.Body }, a),
          l,
        );
      }
      function c() {
        return n.createElement(
          m,
          {
            title: (0, o.Xx)("#DailyDeals_PartnerDashboard_Title"),
            description: (0, o.Xx)("#DailyDeals_PartnerDashboard_Invite_Body"),
          },
          n.createElement(
            s.zx,
            {
              className: r.ButtonDailyDealDashboard,
              onClick: () => {
                window.location.assign(
                  `${l.De.PARTNER_BASE_URL}promotion/dailydeals/dashboard`,
                );
              },
            },
            (0, o.Xx)("#DailyDeals_Dashboard"),
          ),
        );
      }
      var d = a(42038),
        p = a(13129),
        v = a(46984),
        u = a(94375),
        _ = a(80886),
        E = a(12251);
      function g(e) {
        const { app: t } = e,
          [a] = (0, _.jk)(t.appid, 0, {
            include_assets: !0,
            include_release: !0,
          });
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(D, { app: t, oStoreItem: a }),
          n.createElement(T, { app: t }),
        );
      }
      function D(e) {
        const { app: t, oStoreItem: a } = e,
          r = l.De.PARTNER_BASE_URL + "apps/landing/" + t.appid,
          s = !!(null == a ? void 0 : a.GetName()),
          i = s ? a.GetName() : t.name;
        return n.createElement(
          "div",
          { className: u.ItemContainer },
          n.createElement(
            "a",
            {
              href: null == a ? void 0 : a.GetStorePageURL(),
              target: "_blank",
            },
            s
              ? n.createElement(
                  "div",
                  { className: u.ItemImage },
                  n.createElement("img", {
                    src: null == a ? void 0 : a.GetAssets().GetHeaderURL(),
                  }),
                )
              : n.createElement(
                  "div",
                  { className: u.ItemImageUnavailable },
                  (0, o.Xx)("#Dashboard_UpcomingEvents_StorePageNotAvailable"),
                ),
          ),
          n.createElement(
            "div",
            { className: u.ItemNameInfoContainer },
            n.createElement(
              "a",
              { className: u.ItemName, href: r, target: "_blank" },
              i,
            ),
            n.createElement(
              "div",
              null,
              t.releaserequest &&
                n.createElement(
                  "div",
                  null,
                  n.createElement(
                    "span",
                    { className: u.ReleaseDateLabel },
                    (0, o.Xx)("#App_Landing_SpecifiedReleaseDate"),
                  ),
                  " ",
                  n.createElement(
                    "span",
                    { className: u.ReleaseDateText },
                    (m = t.releaserequest.release_date)
                      ? `${(0, o.vX)(m)} ${(0, E.Sc)(
                          m,
                          {},
                          { timeZoneName: "short" },
                        )}`
                      : (0, o.Xx)("#App_Landing_UnsetReleaseDate"),
                  ),
                ),
              s &&
                n.createElement(
                  "div",
                  null,
                  n.createElement(
                    "span",
                    { className: u.ReleaseDateLabel },
                    (0, o.Xx)("#App_Landing_CustomersSeeReleaseDate"),
                  ),
                  " ",
                  n.createElement(
                    "span",
                    { className: u.ReleaseDateText },
                    a.GetFormattedSteamReleaseDate(),
                  ),
                ),
            ),
          ),
        );
        var m;
      }
      function T(e) {
        const { app: t } = e,
          a = {
            sText: "#Dashboard_UpcomingEvents_AppReleaseState_unavailable",
            sTooltip:
              "#Dashboard_UpcomingEvents_AppReleaseState_unavailable_Description",
            classNames: void 0,
          },
          l = {
            released: {
              sText: "#Dashboard_UpcomingEvents_AppReleaseState_released",
              sTooltip:
                "#Dashboard_UpcomingEvents_AppReleaseState_released_Description",
              classNames: (0, p.Z)(u.Released),
            },
            prerelease: {
              sText: "#Dashboard_UpcomingEvents_AppReleaseState_prerelease",
              sTooltip:
                "#Dashboard_UpcomingEvents_AppReleaseState_prerelease_Description",
              classNames: (0, p.Z)(u.Prerelease),
            },
            ownersonly: {
              sText: "#Dashboard_UpcomingEvents_AppReleaseState_ownersonly",
              sTooltip:
                "#Dashboard_UpcomingEvents_AppReleaseState_ownersonly_Description",
              classNames: void 0,
            },
            preloadonly: {
              sText: "#Dashboard_UpcomingEvents_AppReleaseState_preloadonly",
              sTooltip:
                "#Dashboard_UpcomingEvents_AppReleaseState_preloadonly_Description",
              classNames: void 0,
            },
            disabled: {
              sText: "#Dashboard_UpcomingEvents_AppReleaseState_disabled",
              sTooltip:
                "#Dashboard_UpcomingEvents_AppReleaseState_disabled_Description",
              classNames: void 0,
            },
          },
          r = t.releasestate in l ? l[t.releasestate] : a;
        return n.createElement(
          "div",
          { className: u.ItemReleaseInfoContainer },
          n.createElement(
            "div",
            null,
            n.createElement(
              "div",
              { className: u.ItemReleaseStatusLabel },
              (0, o.Xx)("#Dashboard_UpcomingEvents_ReleaseStatusLabel"),
            ),
            n.createElement(
              "div",
              null,
              n.createElement(
                "span",
                { className: (0, p.Z)(u.ItemReleaseStatusText, r.classNames) },
                (0, o.Xx)(r.sText),
              ),
              n.createElement(
                "span",
                { "data-tooltip-text": (0, o.Xx)(r.sTooltip) },
                " (?)",
              ),
            ),
          ),
        );
      }
      var y = a(52631),
        I = a(29292),
        h = a(77936),
        f = a(62698),
        S = a(59728),
        N = a(46882);
      function b(e, t, a) {
        var l;
        return null !==
          (l =
            null == t
              ? void 0
              : t
                  .map((t) => {
                    if (!t.start_date) return null;
                    const l = new Date(1e3 * t.start_date);
                    return {
                      title: t.name,
                      date: l,
                      eventType: "event",
                      valveOnly: e.has(t.id),
                      promotionPlan: t,
                      getID: () => t.id,
                      getEventTypeName: () =>
                        (function (e) {
                          switch (e.type) {
                            case "midweek":
                              return (0, o.Xx)(
                                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_midweek",
                              );
                            case "weekenddeal":
                              return (0, o.Xx)(
                                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_weekenddeal",
                              );
                            case "saleevent":
                              return (0, o.Xx)(
                                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_saleevent",
                              );
                            case "themesale":
                              return (0, o.Xx)(
                                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_themesale",
                              );
                            case "nextfest":
                              return (0, o.Xx)(
                                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_nextfest",
                              );
                            case "seasonalsale":
                              return (0, o.Xx)(
                                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_seasonalsale",
                              );
                            case "informational":
                              return (0, o.Xx)(
                                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_informational",
                              );
                            case "dailydeal":
                              return (0, o.Xx)(
                                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_dailydeal",
                              );
                            case "vacation":
                              return (0, o.Xx)(
                                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_vacation",
                              );
                            case "important":
                              return (0, o.Xx)(
                                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_important",
                              );
                            case "preload":
                              return (0, o.Xx)(
                                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_preload",
                              );
                            case "assetrequest":
                              return (0, o.Xx)(
                                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest",
                              );
                          }
                        })(t),
                      getElement: () =>
                        n.createElement(R, { plan: t, optIns: a }),
                    };
                  })
                  .filter((e) => !!e)) && void 0 !== l
          ? l
          : [];
      }
      function R(e) {
        var t;
        const { plan: a, optIns: r } = e,
          { eventModel: o, bLoading: s } = (0, I.Mx)(
            a.sale_clan_account,
            a.sale_clan_event_gid,
          );
        if (o || s) {
          const e = null == r ? void 0 : r[a.opt_in_id],
            i = a.opt_in_id
              ? `${l.De.PARTNER_BASE_URL}optin/sale/${
                  null === (t = a.opt_in_id) || void 0 === t
                    ? void 0
                    : t.replace("sale_", "")
                }`
              : void 0;
          return n.createElement(
            n.Fragment,
            null,
            n.createElement(w, { eventLoading: s, eventModel: o, eventUrl: i }),
            o &&
              e &&
              n.createElement(x, { eventModel: o, eventUrl: i, optIn: e }),
          );
        }
        return n.createElement(P, { plan: a });
      }
      function P(e) {
        const { plan: t } = e;
        return n.createElement(
          "div",
          { className: y.ItemContainer },
          n.createElement(
            "div",
            { className: y.ItemNameInfoContainer },
            n.createElement("span", { className: y.ItemName }, t.name),
            n.createElement(
              "div",
              null,
              n.createElement(C, {
                startTimestamp: t.start_date,
                endTimestamp: t.end_date,
              }),
            ),
          ),
        );
      }
      function w(e) {
        const { eventLoading: t, eventModel: a, eventUrl: r } = e;
        if (t)
          return n.createElement(
            "div",
            { className: y.ItemContainer },
            n.createElement(
              "div",
              { className: y.ItemImage },
              n.createElement(N.V, { size: "large" }),
            ),
          );
        const o = (0, h.jM)(l.De.LANGUAGE),
          s = a.name.get(o),
          i = a.GetImageURL("capsule", o, f.FN.capsule_main);
        return n.createElement(
          "div",
          { className: y.ItemContainer },
          i &&
            n.createElement(
              k,
              { href: r, target: "_blank" },
              n.createElement(
                "div",
                { className: y.ItemImage },
                n.createElement("img", { src: i }),
              ),
            ),
          n.createElement(
            "div",
            { className: y.ItemNameInfoContainer },
            n.createElement(
              "span",
              { className: y.ItemName },
              n.createElement(k, { href: r, target: "_blank" }, s),
            ),
            a &&
              n.createElement(
                "div",
                null,
                n.createElement(C, {
                  startTimestamp: a.GetStartTimeAndDateUnixSeconds(),
                  endTimestamp: a.GetEndTimeAndDateUnixSeconds(),
                }),
              ),
          ),
        );
      }
      function C(e) {
        const { startTimestamp: t, endTimestamp: a } = e,
          l = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }),
          r = l.format(new Date(1e3 * t)),
          s = l.format(new Date(1e3 * a)),
          i =
            r === s
              ? r
              : (0, o.Xx)("#Dashboard_UpcomingEvents_Events_TimeRange", r, s);
        return n.createElement("span", { className: y.ReleaseDateText }, i);
      }
      function k(e) {
        const { href: t, children: a } = e;
        return t
          ? n.createElement("a", Object.assign({}, e), a)
          : n.createElement(n.Fragment, null, a);
      }
      function x(e) {
        const { eventModel: t, eventUrl: a, optIn: l } = e,
          r = (e) =>
            (null == e ? void 0 : e.length) &&
            n.createElement(
              "div",
              { className: y.OptInGamesToolTipContainer },
              e
                .sort((e, t) => e.app_name.localeCompare(t.app_name))
                .map((e) =>
                  n.createElement("div", { key: e.appid }, e.app_name),
                ),
            ),
          s = void 0,
          i = void 0;
        return n.createElement(
          "div",
          { className: y.OptInInfoContainer },
          n.createElement("div", null),
          n.createElement(
            "div",
            { className: y.OptInGameStatusContainer },
            n.createElement(
              S.HP,
              { toolTipContent: r(l.apps_eligible) },
              n.createElement(
                "div",
                { className: y.OptInGameStatusItem },
                n.createElement(
                  "div",
                  { className: y.OptInGameStatusItemLabel },
                  "Eligible games",
                ),
                n.createElement(
                  "div",
                  { className: y.OptInGameStatusItemText },
                  l.apps_eligible.length,
                ),
              ),
            ),
            n.createElement(
              S.HP,
              { toolTipContent: r(l.apps_in) },
              n.createElement(
                "div",
                { className: y.OptInGameStatusItem },
                n.createElement(
                  "div",
                  { className: y.OptInGameStatusItemLabel },
                  "Registered",
                ),
                n.createElement(
                  "div",
                  { className: y.OptInGameStatusItemText },
                  l.apps_in.length,
                ),
              ),
            ),
          ),
          n.createElement(
            "div",
            { className: y.OptInButtonContainer },
            s,
            a &&
              n.createElement(
                "button",
                {
                  className: (0, p.Z)(y.LinkButton, y.OptInButton),
                  onClick: () => window.open(a, "_blank"),
                },
                (0, o.Xx)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_EligibleGames",
                ),
              ),
            i,
          ),
        );
      }
      function U(e) {
        switch (e) {
          case "deadline":
            return (
              (0, o.Xx)("#Dashboard_UpcomingEvents_EventType_Deadline") +
              " (Generated)"
            );
          case "release":
            return (
              (0, o.Xx)("#Dashboard_UpcomingEvents_EventType_Release") +
              " (Generated)"
            );
          case "event":
            return (
              (0, o.Xx)("#Dashboard_UpcomingEvents_EventType_Event_Unknown") +
              " (Generated)"
            );
        }
      }
      function L(e) {
        const {
            promotionPlans: t,
            hiddenPromotionPlanIDs: a,
            earliestDataTime: l,
            upcomingReleaseApps: r,
            optIns: s,
            testData: i,
          } = e,
          [c, p] = n.useState(0),
          v = V(c),
          u = V(c + 1),
          _ = n.useMemo(() => {
            const e = new Date();
            e.setHours(0, 0, 0, 0);
            const t = (t) => {
                const a = new Date();
                return a.setDate(e.getDate() + t), a;
              },
              a = [
                { title: "Team Fortress 2", date: t(-1), eventType: "release" },
                { title: "Dota 2", date: t(0), eventType: "event" },
                {
                  title: "Weekend Deal - Portal 2",
                  date: t(0),
                  eventType: "deadline",
                },
                {
                  title: "Half Life 2 - Episode One",
                  date: t(0),
                  eventType: "release",
                },
                {
                  title: "Capitalism and Economy Fest",
                  date: t(1),
                  eventType: "deadline",
                },
                { title: "Dota Underlords", date: t(9), eventType: "release" },
                { title: "Counter Strike 2", date: t(36), eventType: "event" },
                {
                  title: "Steam Next Fest June Edition",
                  date: t(36),
                  eventType: "event",
                },
                { title: "The Lab", date: t(36), eventType: "event" },
              ].map((e) =>
                Object.assign(Object.assign({}, e), {
                  getID: () => e.title,
                  getEventTypeName: () => U(e.eventType),
                  getElement: () => {},
                }),
              );
            let n = 40;
            for (let e = 0; e < 50; e++) {
              let l;
              switch (Math.floor(3 * Math.random())) {
                case 0:
                  l = "deadline";
                  break;
                case 1:
                  l = "release";
                  break;
                case 2:
                  l = "event";
              }
              n += 3 * Math.random();
              const r = {
                title: "Generated event" + e,
                date: t(n),
                eventType: l,
                getID: () => e.toString(),
                getEventTypeName: () => U(l),
                getElement: () => {},
              };
              a.push(r);
            }
            return a;
          }, []),
          E = b(a, t, s),
          D =
            null !==
              (y =
                null == (T = r)
                  ? void 0
                  : T.map((e) => {
                      const t = new Date(1e3 * e.releaserequest.release_date);
                      return {
                        title: e.name,
                        date: t,
                        eventType: "release",
                        getID: () => e.appid.toString(),
                        getEventTypeName: () =>
                          (0, o.Xx)(
                            "#Dashboard_UpcomingEvents_EventType_Release",
                          ),
                        getElement: () => n.createElement(g, { app: e }),
                      };
                    })) && void 0 !== y
              ? y
              : [];
        var T, y;
        const I = E.concat(D, i ? _ : []),
          h = n.useMemo(() => new Map(), []),
          f = n.useRef();
        return n.createElement(
          m,
          { title: (0, o.Xx)("#Dashboard_UpcomingEvents_Title") },
          n.createElement(
            "div",
            { className: d.SectionContainer },
            n.createElement(
              "div",
              { className: d.CalendarContainer },
              n.createElement(O, {
                viewDate: v,
                fnSetMonthDelta: p,
                earliestDate: l,
              }),
              n.createElement(B, null),
              n.createElement(M, {
                viewDate: v,
                events: I,
                bShowPreceedingWeeks: !0,
                dayRefsToScrollTo: h,
                refScrollContainer: f,
              }),
              n.createElement(O, { viewDate: u }),
              n.createElement(B, null),
              n.createElement(M, {
                viewDate: u,
                events: I,
                bShowFollowingWeeks: !0,
                dayRefsToScrollTo: h,
                refScrollContainer: f,
              }),
            ),
            n.createElement(
              "div",
              { className: d.ListContainer },
              n.createElement(
                j,
                null,
                n.createElement(W, {
                  events: I,
                  dayRefsToScrollTo: h,
                  refScrollContainer: f,
                }),
              ),
            ),
          ),
        );
      }
      function O(e) {
        const { viewDate: t, fnSetMonthDelta: a, earliestDate: l } = e,
          r = a ? () => a(() => 0) : null,
          s = new Date(t.getTime() - 14 * v._H.PerDay * 1e3),
          i = a && s > l ? () => a((e) => e - 1) : null,
          m = a ? () => a((e) => e + 1) : null,
          c = new Intl.DateTimeFormat(navigator.language, {
            year: "numeric",
            month: "short",
          }).format(t);
        return n.createElement(
          "div",
          { className: d.MonthPickerContainer },
          n.createElement(
            "div",
            {
              className: (0, p.Z)(d.MonthPickerToday, !r && d.Inactive),
              onClick: r,
            },
            (0, o.Xx)("#Dashboard_UpcomingEvents_JumpToToday"),
          ),
          n.createElement(
            "div",
            {
              className: (0, p.Z)(d.MonthPickerArrow, !i && d.Inactive),
              onClick: i,
            },
            "<",
          ),
          n.createElement("div", { className: d.MonthPickerDate }, c),
          n.createElement(
            "div",
            {
              className: (0, p.Z)(d.MonthPickerArrow, !m && d.Inactive),
              onClick: m,
            },
            ">",
          ),
        );
      }
      function M(e) {
        var t;
        const {
            viewDate: a,
            events: l,
            bShowPreceedingWeeks: r,
            bShowFollowingWeeks: o,
            dayRefsToScrollTo: s,
            refScrollContainer: i,
          } = e,
          m = new Date();
        m.setHours(0, 0, 0, 0);
        const c = Y(l, X),
          v = F(a, -a.getDay()),
          u = new Date(a.getFullYear(), a.getMonth() + 1, 0).getDate();
        let _ = 6;
        _ =
          (u +
            a.getDay() +
            ((a.getDay() + u) % 7 != 0 ? 7 - ((a.getDay() + u) % 7) : 0)) /
          7;
        const E = new Intl.DateTimeFormat(navigator.language, {
            year: "numeric",
            month: "long",
            day: "numeric",
          }),
          g = [];
        for (let e = 0; e < _; e++) {
          const l = [],
            u = F(v, 7 * e);
          for (let e = 0; e < 7; e++) {
            const v = F(u, e),
              _ = X(v),
              g = a.getMonth() === v.getMonth(),
              D = g || (r && v <= a) || (o && v >= a),
              T = _.getTime() === m.getTime(),
              y =
                null === (t = c.get(_.getTime())) || void 0 === t
                  ? void 0
                  : t.sort(Q),
              I = null == y ? void 0 : y.some((e) => "deadline" == e.eventType),
              h = null == y ? void 0 : y.some((e) => "release" == e.eventType),
              f = null == y ? void 0 : y.some((e) => "event" == e.eventType),
              S = (0, p.Z)(
                d.Day,
                !g && d.OtherMonth,
                !D && d.Inactive,
                T && d.Today,
                I && d.Deadline,
                h && d.Release,
                f && d.Event,
              ),
              N = () => {
                if (T) return void (i.current.scrollTop = 0);
                const e = null == s ? void 0 : s.get(X(v).getTime());
                if (!e) return;
                const t = J(i.current, e);
                i.current.scrollTop = t;
              };
            l.push(
              n.createElement(
                A,
                { key: e, date: v, daysEvents: y, tooltipDateFormat: E },
                n.createElement(
                  "div",
                  { className: S, onClick: N },
                  v.getDate(),
                ),
              ),
            );
          }
          g.push(n.createElement("div", { key: e, className: d.Week }, l));
        }
        return n.createElement(n.Fragment, null, g);
      }
      function A(e) {
        const { date: t, daysEvents: a, tooltipDateFormat: l, children: r } = e;
        if (!a) return n.createElement(n.Fragment, null, r);
        const o = n.createElement(
          "div",
          { className: d.DayTooltipContainer },
          n.createElement("div", { className: d.DayTooltipDate }, l.format(t)),
          a.map((e) =>
            n.createElement(
              "div",
              {
                key: e.getID(),
                className: (0, p.Z)(
                  d.DayTooltipEvent,
                  "deadline" == e.eventType && d.Deadline,
                  "release" == e.eventType && d.Release,
                  "event" == e.eventType && d.Event,
                ),
              },
              e.title,
              e.valveOnly &&
                n.createElement("span", { className: d.ValveOnly }, " (VO)"),
            ),
          ),
        );
        return n.createElement(S.HP, { toolTipContent: o }, r);
      }
      function B(e) {
        const t = new Intl.DateTimeFormat(navigator.language, {
            weekday: "short",
          }),
          a = [...Array(7).keys()].map((e) =>
            t.format(new Date(2024, 0, e + 7)),
          );
        return n.createElement(
          "div",
          { className: d.Week },
          a.map((e) =>
            n.createElement("div", { key: e, className: d.DayName }, e),
          ),
        );
      }
      function X(e) {
        const t = new Date(e.getTime());
        return t.setHours(0, 0, 0, 0), t;
      }
      function G(e) {
        const t = new Date(e.getTime());
        return t.setDate(1), t.setHours(0, 0, 0, 0), t;
      }
      function F(e, t) {
        return new Date(e.getTime() + t * v._H.PerDay * 1e3);
      }
      function V(e) {
        return n.useMemo(() => {
          const t = new Date();
          return t.setDate(1), t.setMonth(t.getMonth() + e), t;
        }, [e]);
      }
      function j(e) {
        const { children: t } = e;
        return n.createElement("div", null, t);
      }
      function W(e) {
        const { events: t, dayRefsToScrollTo: a, refScrollContainer: l } = e,
          r = Array.from(Y(t, G)).sort(q);
        return n.createElement(
          "div",
          { className: d.List, ref: l },
          r.map(([e, t]) =>
            n.createElement(z, {
              key: e,
              date: new Date(e),
              events: t,
              dayRefsToScrollTo: a,
            }),
          ),
        );
      }
      function z(e) {
        const { date: t, events: a, dayRefsToScrollTo: l } = e,
          r = Array.from(Y(a, X)).sort(q),
          o = n.useRef();
        return n.createElement(
          "div",
          { className: d.ListMonth },
          n.createElement(
            "div",
            { className: d.ListMonthTitle, ref: o },
            ((e) =>
              new Date().getFullYear() == e.getFullYear()
                ? new Intl.DateTimeFormat(navigator.language, {
                    month: "long",
                  }).format(e)
                : new Intl.DateTimeFormat(navigator.language, {
                    year: "numeric",
                    month: "long",
                  }).format(e))(new Date(t)),
          ),
          r.map(([e, t]) =>
            n.createElement(H, {
              key: e,
              date: new Date(e),
              events: t,
              refScrollTo: (t) => l.set(e, { element: t, header: o.current }),
            }),
          ),
        );
      }
      function H(e) {
        const { date: t, events: a, refScrollTo: l } = e,
          r = a.sort(Q);
        return n.createElement(
          "div",
          { ref: l, className: d.ListDay },
          r.map((e) =>
            n.createElement(Z, { key: e.getID(), date: t, event: e }),
          ),
        );
      }
      function Z(e) {
        var t;
        const { date: a, event: l } = e,
          r = "deadline" == l.eventType,
          o = "release" == l.eventType,
          s = "event" == l.eventType,
          i = (0, p.Z)(
            d.ListDayNumber,
            r && d.Deadline,
            o && d.Release,
            s && d.Event,
          ),
          m = (0, p.Z)(
            d.ListEventType,
            r && d.Deadline,
            o && d.Release,
            s && d.Event,
          ),
          c =
            null !== (t = l.getElement()) && void 0 !== t
              ? t
              : n.createElement("div", null, l.title);
        return n.createElement(
          "div",
          { className: d.ListEvent, key: l.title },
          n.createElement(
            "div",
            { className: d.ListEventHeader },
            n.createElement("div", { className: i }, a.getDate()),
            n.createElement(
              "div",
              { className: m },
              l.getEventTypeName(),
              l.valveOnly &&
                n.createElement("span", { className: d.ValveOnly }, " (VO)"),
            ),
          ),
          n.createElement("div", { className: d.ListEventEventSection }, c),
        );
      }
      function Y(e, t) {
        return e.reduce((e, a) => {
          const n = t(a.date),
            l = e.get(n.getTime()) || [];
          return e.set(n.getTime(), [...l, a]), e;
        }, new Map());
      }
      function q(e, t) {
        return e[0] - t[0];
      }
      function Q(e, t) {
        return e.date.getTime() < t.date.getTime()
          ? -1
          : e.date.getTime() > t.date.getTime()
          ? 1
          : e.eventType < t.eventType
          ? -1
          : e.eventType > t.eventType
          ? 1
          : e.title < t.title
          ? -1
          : e.title > t.title
          ? 1
          : (null == e ? void 0 : e.getID()) < (null == t ? void 0 : t.getID())
          ? -1
          : (null == e ? void 0 : e.getID()) > (null == t ? void 0 : t.getID())
          ? 1
          : 0;
      }
      function J(e, t) {
        const { element: a, header: n } = t;
        return (
          a.getBoundingClientRect().top -
          n.getBoundingClientRect().height -
          e.getBoundingClientRect().top +
          e.scrollTop
        );
      }
      var K,
        $ = a(9781);
      function ee(e) {
        const t = (0, $.N)(),
          a = (0, l.kQ)("rgDailyDealInvitations", "application_config"),
          r = (0, l.kQ)("rgPartnerPromotions", "application_config"),
          o = (0, l.kQ)("rgUpcomingReleaseApps", "application_config"),
          s = (0, l.kQ)("rgOptIns", "application_config"),
          i = (0, l.kQ)("bTestData", "application_config"),
          m = n.useMemo(
            () =>
              null == r
                ? void 0
                : r.rgPlans
                    .map((e) =>
                      (function (e) {
                        if (!e || 0 == e.trim().length) return null;
                        try {
                          return JSON.parse(e);
                        } catch (e) {
                          return null;
                        }
                      })(e.partner_readonly_jsondata),
                    )
                    .filter((e) => !!e),
            [null == r ? void 0 : r.rgPlans],
          ),
          d = n.useMemo(() => {
            var e;
            return new Set(
              null !== (e = null == r ? void 0 : r.rgHiddenPlanIDs) &&
              void 0 !== e
                ? e
                : [],
            );
          }, [null == r ? void 0 : r.rgHiddenPlanIDs]);
        return t
          ? n.createElement(
              n.Fragment,
              null,
              (null == a ? void 0 : a.length) > 0 && n.createElement(c, null),
              m &&
                m.length > 0 &&
                n.createElement(L, {
                  promotionPlans: m,
                  hiddenPromotionPlanIDs: d,
                  earliestDataTime: (null == r ? void 0 : r.startTime)
                    ? new Date(1e3 * r.startTime)
                    : void 0,
                  upcomingReleaseApps: o,
                  optIns: s,
                  testData: i,
                }),
            )
          : null;
      }
      !(function (e) {
        (e[(e.BuildReview = 0)] = "BuildReview"),
          (e[(e.StorePageReview = 1)] = "StorePageReview"),
          (e[(e.SteamChina_BuildReview = 2)] = "SteamChina_BuildReview"),
          (e[(e.SteamChina_StorePageReview = 3)] =
            "SteamChina_StorePageReview"),
          (e[(e.SteamChinaPlatformOperator_StorePageReview = 4)] =
            "SteamChinaPlatformOperator_StorePageReview"),
          (e[(e.SteamChinaPlatformOperator_BuildReview = 5)] =
            "SteamChinaPlatformOperator_BuildReview"),
          (e[(e.SteamDeckCompatibilityReview = 6)] =
            "SteamDeckCompatibilityReview");
      })(K || (K = {}));
    },
  },
]);
