/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [8075],
  {
    69412: (e) => {
      e.exports = { Main: "basicpartnereventrender_Main_2U6-V" };
    },
    17170: (e) => {
      e.exports = {
        GameTitleContainer: "eventcalendartile_GameTitleContainer_1bEUE",
        AppIcon: "eventcalendartile_AppIcon_3wvlH",
        TileTextAppName: "eventcalendartile_TileTextAppName_2BL8L",
        EnableHovers: "eventcalendartile_EnableHovers_1fwVU",
        TileContainer: "eventcalendartile_TileContainer_27AwJ",
        CoverImageCtn: "eventcalendartile_CoverImageCtn_1z05m",
        GameShortDescription: "eventcalendartile_GameShortDescription_3t7Mb",
        LiveText: "eventcalendartile_LiveText_3efBC",
        LiveNow: "eventcalendartile_LiveNow_3VnsB",
        FutureDateText: "eventcalendartile_FutureDateText_nmVmP",
        PastDateText: "eventcalendartile_PastDateText_bg1_S",
        GameSource: "eventcalendartile_GameSource_NopR2",
        SourceList: "eventcalendartile_SourceList_EyXCR",
        Source: "eventcalendartile_Source_cwALQ",
        RecommendedSource: "eventcalendartile_RecommendedSource_dG5lj",
        SourceRecommended: "eventcalendartile_SourceRecommended_3__4f",
        DateAndSourceLine: "eventcalendartile_DateAndSourceLine_2sKqZ",
        EventTypeAndDateCtn: "eventcalendartile_EventTypeAndDateCtn_1aeC3",
        LeaveRoomForReminder: "eventcalendartile_LeaveRoomForReminder_3oE9t",
        SmallAppName: "eventcalendartile_SmallAppName_ToBXZ",
        TileTextCategoryType: "eventcalendartile_TileTextCategoryType_184La",
        EventType28: "eventcalendartile_EventType28_mk_un",
        EventType10: "eventcalendartile_EventType10_aHnCE",
        EventType11: "eventcalendartile_EventType11_12EBE",
        EventType23: "eventcalendartile_EventType23_3cfYl",
        EventType35: "eventcalendartile_EventType35_ikSKc",
        EventType13: "eventcalendartile_EventType13_23ExK",
        EventType14: "eventcalendartile_EventType14_1jnLc",
        EventType15: "eventcalendartile_EventType15_3Zi-O",
        Tile: "eventcalendartile_Tile_a0iPy",
        MainContentContainer: "eventcalendartile_MainContentContainer_2W5LC",
        YoutubePreviewImage: "eventcalendartile_YoutubePreviewImage_3T2CQ",
        TileImage: "eventcalendartile_TileImage_Zo12U",
        TileTextContainer: "eventcalendartile_TileTextContainer_ymS8R",
        EventType12: "eventcalendartile_EventType12_KucHh",
        EventName: "eventcalendartile_EventName_3myvq",
        EventSubTitle: "eventcalendartile_EventSubTitle_3sqG2",
        GameCapsuleCtn: "eventcalendartile_GameCapsuleCtn_1js7a",
        AppBannerLogo: "eventcalendartile_AppBannerLogo_QRRaO",
        TileTextHeader: "eventcalendartile_TileTextHeader_2SYia",
        PatchIconCtn: "eventcalendartile_PatchIconCtn_rRP5R",
        EventTitleCtn: "eventcalendartile_EventTitleCtn_1SP_7",
        Footer: "eventcalendartile_Footer_DEtoe",
        EventCapsuleCtn: "eventcalendartile_EventCapsuleCtn_2vLZ-",
        FallbackImage: "eventcalendartile_FallbackImage_kbkLs",
        LiveBroadcastPreview: "eventcalendartile_LiveBroadcastPreview_1HaxG",
        TileBackgroundImage: "eventcalendartile_TileBackgroundImage_2Gnfg",
        TileCoverImagePlayable:
          "eventcalendartile_TileCoverImagePlayable_2FHPA",
        TileCoverLiveIcon: "eventcalendartile_TileCoverLiveIcon_19TYS",
        ReminderContainer: "eventcalendartile_ReminderContainer_n9Vac",
        OnlyIcon: "eventcalendartile_OnlyIcon_2KOMz",
        EventSummaryDefault: "eventcalendartile_EventSummaryDefault_23hMR",
        Vote_NotLoggedIn: "eventcalendartile_Vote_NotLoggedIn_3-UCk",
        Vote_LimitedUser: "eventcalendartile_Vote_LimitedUser_1ZCW6",
        Vote_Positive: "eventcalendartile_Vote_Positive_3hsn9",
        RateIcon: "eventcalendartile_RateIcon_1e7Al",
        Vote_Negative: "eventcalendartile_Vote_Negative_3xf8Q",
        Vote_Ready: "eventcalendartile_Vote_Ready_3k8SI",
        FooterRightSide: "eventcalendartile_FooterRightSide_1pVH1",
        Options: "eventcalendartile_Options_fpyqp",
        TileViewerCount: "eventcalendartile_TileViewerCount_1Kark",
        FooterStat: "eventcalendartile_FooterStat_3L6pU",
        CommentIcon: "eventcalendartile_CommentIcon_e4HhG",
        CommentIconCtn: "eventcalendartile_CommentIconCtn_2beft",
        LoadingTile: "eventcalendartile_LoadingTile_ZT_XQ",
        CarouselMode: "eventcalendartile_CarouselMode_19V9q",
        UpcomingMode: "eventcalendartile_UpcomingMode_2oNi3",
        TileVideoIcon: "eventcalendartile_TileVideoIcon_3_ckM",
        DateAndTime: "eventcalendartile_DateAndTime_27Tkn",
        HasVideo: "eventcalendartile_HasVideo_1S66y",
        SubTitleShown: "eventcalendartile_SubTitleShown_10v7u",
        VideoPlayerReady: "eventcalendartile_VideoPlayerReady_1K9tx",
      };
    },
    82860: (e) => {
      e.exports = {
        SectionTitleHeader: "collapseablesection_SectionTitleHeader_1K5gA",
        required_title: "collapseablesection_required_title_29VCz",
      };
    },
    29181: (e) => {
      e.exports = { strMaxMobileWidth: "700px" };
    },
    47784: (e) => {
      e.exports = {
        YoutubePreviewImage: "youtubepreviewimage_YoutubePreviewImage_MzScK",
        YoutubePlayer: "youtubepreviewimage_YoutubePlayer_3uK6c",
      };
    },
    35577: (e, t, n) => {
      "use strict";
      n.d(t, { M: () => c });
      var a = n(70655),
        r = (n(3389), n(22188), n(92398), n(9669)),
        l = n.n(r),
        i = n(90666),
        o = n(7200),
        s = (n(82946), n(49186));
      n(26149);
      class c extends o.cA {
        DeleteOldAnnouncement(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = new URLSearchParams();
            n.append("sessionid", i.De.SESSIONID);
            let a =
                i.De.COMMUNITY_BASE_URL +
                "/gid/" +
                e.ConvertTo64BitString() +
                "/announcements/ajaxdeleteannouncement/" +
                t,
              r = yield l().post(a, n);
            if (1 != r.data.success) throw r.data;
            return this.RemoveGIDFromList(e, s.Vv + t), r.data;
          });
        }
        static Get() {
          return (
            c.sm_Instance || ((c.sm_Instance = new c()), c.sm_Instance.Init()),
            c.sm_Instance
          );
        }
      }
    },
    51983: (e, t, n) => {
      "use strict";
      n.d(t, { h: () => _ });
      var a = n(70655),
        r = n(29323),
        l = n(67294),
        i = (n(26149), n(49186), n(35577)),
        o = n(7200),
        s = n(89694),
        c = n(27535),
        d = n(59650),
        m = n(22975),
        u = n(69412),
        p = n(8850);
      function v(e) {
        const { event: t, closeModal: n } = e;
        return l.createElement(
          p.Pv,
          { navID: "SinglePartnerEventRoot", closeModal: n },
          l.createElement(c.m$, {
            initialEvent: t,
            bShowOnlyInitialEvent: !0,
            partnerEventStore: o.j1,
            emoticonStore: s.F,
            showAppHeader: !0,
            closeModal: n,
          })
        );
      }
      function _(e, t) {
        (0, d.AM)(l.createElement(v, { event: e }), t);
      }
      let E = class extends l.Component {
        constructor() {
          super(...arguments), (this.m_refFocus = l.createRef());
        }
        componentDidMount() {
          this.props.fnClose &&
            (document.addEventListener("keydown", this.escFunction, !1),
            this.m_refFocus.current && this.m_refFocus.current.focus());
        }
        componentWillUnmount() {
          this.props.fnClose &&
            document.removeEventListener("keydown", this.escFunction, !1);
        }
        escFunction(e) {
          const { fnClose: t } = this.props;
          27 === e.keyCode && t && t();
        }
        OnBackgroundClick(e) {
          e.currentTarget == e.target && this.props.fnClose();
        }
        render() {
          const { event: e, langOverride: t, isPreview: n } = this.props;
          return l.createElement(
            "div",
            {
              ref: this.m_refFocus,
              className: u.Main,
              onClick: this.OnBackgroundClick,
            },
            l.createElement(c.Xy, {
              key: e.GID,
              event: e,
              emoticonStore: s.F,
              partnerEventStore: i.M.Get(),
              langOverride: t,
              isPreview: n,
              bDisableBroadcastPlayer: !1,
            })
          );
        }
      };
      (0, a.gn)([m.ak], E.prototype, "escFunction", null),
        (0, a.gn)([m.ak], E.prototype, "OnBackgroundClick", null),
        (E = (0, a.gn)([r.Pi], E));
    },
    92663: (e, t, n) => {
      "use strict";
      n.d(t, { V: () => te, a: () => ae });
      var a = n(70655),
        r = n(9669),
        l = n.n(r),
        i = n(29323),
        o = n(67294),
        s = n(78587),
        c = n(26149),
        d = n(92398),
        m = n(80315),
        u = n(49186),
        p = n(3389),
        v = n(24399),
        _ = n(76776),
        E = n(35118),
        h = n(51391),
        g = n(75007),
        C = n(5525),
        T = n(9915),
        y = n(32548),
        b = n(20190),
        S = n(57287),
        k = n(77636),
        I = n(35017),
        f = n(10847),
        G = n(77475),
        M = n(95598),
        w = n(28268),
        N = n(7573),
        x = n(53622),
        F = n(41311),
        R = n(22975),
        A = n(35092),
        L = n(90666),
        D = n(8850),
        P = n(59650),
        O = (n(72258), n(17170)),
        V = n.n(O),
        B = n(23937);
      let H = class extends o.Component {
        OnMuteButton(e) {
          const { calendarEvent: t } = this.props;
          let n = t.GetEntityName();
          (0, P.AM)(
            o.createElement(
              D.uH,
              {
                strTitle: (0, F.Xx)("#EventCalendar_MuteApp_Title", n),
                strDescription: (0, F.Xx)("#EventCalendar_MuteApp_details", n),
                onOK: () =>
                  (0, E.vY)().UpdateEventBlockFromCalendarEvent(t, !1),
              },
              o.createElement(
                "a",
                {
                  href: L.De.STORE_BASE_URL + "account/emailoptout/app",
                  target: L.De.IN_CLIENT ? void 0 : "_blank",
                },
                (0, F.Xx)("#EventCalendar_ManageMutedSources")
              )
            ),
            (0, x.RA)(e)
          );
        }
        OnUnMuteButton() {
          const { calendarEvent: e } = this.props;
          (0, E.vY)().UpdateEventBlockFromCalendarEvent(e, !0);
        }
        HideAllEventsOfMyType() {
          const { eventModel: e } = this.props,
            t = this.GetVisibilityStore().MapClanEventTypeToGroup(
              e.GetEventType()
            );
          this.GetVisibilityStore().SetEventTypeGroupAllowed(t, !1);
        }
        GetVisibilityStore() {
          return (0, E.vY)().m_visibilityStore;
        }
        AddContextMenuForSource(e, t, n, a = !0) {
          this.GetVisibilityStore().BIsGameSourceAllowed(t) &&
            (a &&
              e.push(
                o.createElement(
                  f.Zo,
                  {
                    key: `item-source-${n}-${t}`,
                    disabled: !0,
                    onSelected: () => {},
                  },
                  (0, F.Xx)("#EventCalender_Reason_" + t)
                )
              ),
            e.push(
              o.createElement(
                f.Zo,
                {
                  key: `item-hidesource-${n}-${t}`,
                  onSelected: () => {
                    this.GetVisibilityStore().SetGameSourceAllowed(t, !1);
                  },
                },
                (0, F.Xx)("#EventCalender_Hide_Reason_" + t)
              )
            ));
        }
        GotoGameOrClanHub() {
          const { eventModel: e } = this.props,
            t = (0, B.q)(e, B.Ue.k_eStoreNewsHub, "allowRelative");
          t.startsWith("http")
            ? (window.location.href = t)
            : this.props.history.push(t);
        }
        ToggleFollowCurator() {
          (0, G.Sm)(this.props.eventModel.clanSteamID.GetAccountID());
        }
        CreateContextMenu(e) {
          const { eventModel: t, calendarEvent: n } = this.props;
          let a = [];
          const r = n.GetSource(),
            l = n.unique_id,
            i = L.De.EREALM === d.IN.k_ESteamRealmChina,
            s = (0, E.vY)();
          if (
            (s.BIsGlobalCalendar() &&
              (r &&
                r & m.ZT.k_eLibrary &&
                (this.GetVisibilityStore().BIsGameSourceAllowed(
                  g.Gf.k_ERecent
                ) && n.appInfo
                  ? (a.push(
                      o.createElement(
                        f.Zo,
                        {
                          key: `item-source-${l}-lastplayed`,
                          disabled: !0,
                          onSelected: () => {},
                        },
                        (0, F.Xx)(
                          "#EventCalender_LastPlayed",
                          (0, F.yW)(
                            C.JW.GetTimeNowWithOverride() -
                              n.appInfo.last_played
                          )
                        )
                      )
                    ),
                    this.AddContextMenuForSource(a, g.Gf.k_ERecent, l, !1))
                  : this.AddContextMenuForSource(a, g.Gf.k_ELibrary, l)),
              r &&
                r & m.ZT.k_eWishlist &&
                this.AddContextMenuForSource(a, g.Gf.k_EWishlist, l),
              r &&
                r & m.ZT.k_eFollowing &&
                this.AddContextMenuForSource(a, g.Gf.k_EFollowing, l),
              !i &&
                r &&
                r & m.ZT.k_eCurator &&
                this.AddContextMenuForSource(a, g.Gf.k_ECurator, l),
              r &&
                r & m.ZT.k_eRecommended &&
                this.AddContextMenuForSource(a, g.Gf.k_ERecommended, l),
              r &&
                r & m.ZT.k_eSteam &&
                this.AddContextMenuForSource(a, g.Gf.k_ESteam, l),
              r &&
                r & m.ZT.k_eFeatured &&
                this.AddContextMenuForSource(a, g.Gf.k_EFeatured, l)),
            a.push(
              o.createElement(
                f.Zo,
                {
                  key: t.GID + "hidetype",
                  onSelected: this.HideAllEventsOfMyType,
                },
                (0, F.Xx)(
                  "#EVentCalendar_Hide_EventType",
                  (0, F.Xx)(
                    "#EventCalendar_EventTypeGroup_" +
                      this.GetVisibilityStore().MapClanEventTypeToGroup(
                        t.GetEventType()
                      )
                  )
                )
              )
            ),
            L.L7.logged_in &&
              (I.m.Get().BIsEventBlocked(n)
                ? a.push(
                    o.createElement(
                      f.Zo,
                      {
                        key: t.GID + "unmuteapp",
                        onSelected: this.OnUnMuteButton,
                      },
                      o.createElement(
                        w.HP,
                        {
                          toolTipContent: (0, F.Xx)(
                            "#EventCalendar_UnMuteApp_ttip"
                          ),
                        },
                        (0, F.Xx)(
                          "#EventCalendar_UnMuteApp_Title",
                          this.props.calendarEvent.GetEntityName()
                        )
                      )
                    )
                  )
                : a.push(
                    o.createElement(
                      f.Zo,
                      { key: t.GID + "muteapp", onSelected: this.OnMuteButton },
                      o.createElement(
                        w.HP,
                        {
                          toolTipContent: (0, F.Xx)(
                            "#EventCalendar_MuteApp_ttip"
                          ),
                        },
                        (0, F.Xx)(
                          "#EventCalendar_MuteApp_Title",
                          this.props.calendarEvent.GetEntityName()
                        )
                      )
                    )
                  )),
            !t.BIsOGGEvent() && !i)
          ) {
            const e = k.jg.Get().BIsFollowingCurator(t.clanSteamID);
            a.push(
              o.createElement(
                f.Zo,
                {
                  key: t.GID + "followcurator",
                  onSelected: this.ToggleFollowCurator,
                },
                o.createElement(
                  w.HP,
                  {
                    toolTipContent: (0, F.Xx)(
                      e
                        ? "#EventCalendar_UnFollowCurator_ttip"
                        : "#EventCalendar_FollowCurator_ttip"
                    ),
                  },
                  (0, F.Xx)(
                    e
                      ? "#EventCalendar_UnFollowCurator"
                      : "#EventCalendar_FollowCurator",
                    this.props.calendarEvent.GetEntityName()
                  )
                )
              )
            );
          }
          s.BIsSingleSourceCalendar() ||
            a.push(
              o.createElement(
                f.Zo,
                { key: t.GID + "goto", onSelected: this.GotoGameOrClanHub },
                (0, F.Xx)(
                  "#EventCalendar_Goto_SpecificCalendar",
                  n.GetEntityName()
                )
              )
            ),
            t.appid &&
              a.push(
                o.createElement(
                  f.Zo,
                  {
                    key: t.GID + "goto",
                    onSelected: () =>
                      (window.location.href = (0, A.OL)(
                        L.De.STORE_BASE_URL + "app/" + t.appid
                      )),
                  },
                  (0, F.Xx)("#EventDisplay_ViewStorePage")
                )
              ),
            (0, S.yV)(o.createElement(f.xV, null, a), e);
        }
        render() {
          return o.createElement(
            "div",
            {
              className: (0, N.Z)(V().FooterStat, V().Options),
              onClick: this.CreateContextMenu,
            },
            o.createElement(M.vJ$, null)
          );
        }
      };
      (0, a.gn)([R.ak], H.prototype, "OnMuteButton", null),
        (0, a.gn)([R.ak], H.prototype, "OnUnMuteButton", null),
        (0, a.gn)([R.ak], H.prototype, "HideAllEventsOfMyType", null),
        (0, a.gn)([R.ak], H.prototype, "AddContextMenuForSource", null),
        (0, a.gn)([R.ak], H.prototype, "GotoGameOrClanHub", null),
        (0, a.gn)([R.ak], H.prototype, "ToggleFollowCurator", null),
        (0, a.gn)([R.ak], H.prototype, "CreateContextMenu", null),
        (H = (0, a.gn)([i.Pi], H));
      const U = (0, s.EN)(H);
      var Z = n(49691),
        W = n(90110),
        Y = n(96602),
        X = n(6092),
        z = n(96187),
        j = n(90844),
        K = n(47784),
        q = n.n(K);
      const $ = (e) => {
          const t = ["maxresdefault", "mqdefault", "default"],
            [n, a] = o.useState(0);
          o.useEffect(() => a(0), [e.video]);
          const r = o.useRef();
          if (e.altImgWithFallback && e.altImgWithFallback.length > 0)
            return o.createElement(z.J, {
              className: e.className,
              srcs: e.altImgWithFallback,
            });
          if (e.altImg)
            return o.createElement("img", {
              src: e.altImg,
              className: e.className,
            });
          {
            const l =
                "https://img.youtube.com/vi/" + e.video + "/" + t[n] + ".jpg",
              i = () => {
                n + 1 < t.length && a(n + 1);
              },
              s = () => {
                r.current && r.current.naturalHeight < 91 && i();
              };
            return o.createElement("img", {
              ref: r,
              onLoad: s,
              onError: i,
              src: l,
              className: (0, N.Z)(q().YoutubePreviewImage, e.className),
            });
          }
        },
        J = (e) => {
          const [t, n] = o.useState(!1);
          if (
            (o.useEffect(() => {
              e.preloadYoutubeScripts && (0, j.m)(() => {});
            }, [e.preloadYoutubeScripts]),
            t)
          )
            return o.createElement(
              j.e,
              Object.assign({}, e, {
                classnames: (0, N.Z)(q().YoutubePlayer, e.classnames),
              })
            );
          {
            const t = (t) => {
              e.onPlayerActivated && e.onPlayerActivated(),
                n(!0),
                t.stopPropagation(),
                t.preventDefault();
            };
            return o.createElement(
              "div",
              {
                className: (0, N.Z)(
                  "YoutubePreviewContainer",
                  q().YoutubePreviewImage,
                  e.imageClassnames
                ),
                onClick: t,
              },
              o.createElement($, {
                className: "YoutubePreviewImage",
                altImgWithFallback: e.altImgWithFallback,
                altImg: e.altImg,
                video: e.video,
              }),
              o.createElement(
                "div",
                { className: "YoutubePreviewPlay" },
                o.createElement(M.GhU, null)
              ),
              o.createElement(
                "div",
                { className: "VideoHintText" },
                (0, F.Xx)("#EventCalendar_WatchYouTubeVideo")
              )
            );
          }
        };
      var Q = n(47808),
        ee = n(86278);
      let te = class extends o.Component {
        constructor() {
          super(...arguments), (this.state = { bVideoPlayerReady: !1 });
        }
        OnFallbackClick(e) {
          h.Y.RecordAppInteractionEvent(
            this.props.calendarEvent.appid,
            h.g.k_eClickThrough
          ),
            this.props.fnOnClicked(this.props.eventModel),
            e.stopPropagation(),
            e.preventDefault();
        }
        componentDidMount() {
          if (this.props.calendarEvent.clanInfo) {
            let e = p.K.InitFromClanID(
              this.props.calendarEvent.clanInfo.clanid
            );
            _.sV.LoadClanInfoForClanSteamID(e);
          }
        }
        getVideoPreviewControl() {
          const { video_preview_type: e, video_preview_id: t } =
            this.props.eventModel;
          if (!t) return null;
          if (12 === this.props.eventModel.type) return null;
          if ("youtube" === e) {
            const e = (0, c.jM)(L.De.LANGUAGE),
              n =
                (0, X.p)() && 14 == this.props.eventModel.GetEventType()
                  ? v.FN.full
                  : v.FN.capsule_main,
              a = this.props.eventModel.GetImageForSizeAsArrayWithFallback(
                "capsule",
                e,
                n,
                !0
              );
            if ("carousel" === this.props.mode)
              return o.createElement($, {
                altImgWithFallback: a,
                video: t,
                className: V().YoutubePreviewImage,
              });
            const r = () => {
              h.Y.RecordAppInteractionEvent(
                this.props.calendarEvent.appid,
                h.g.k_ePlayedVideo
              ),
                this.setState({ bVideoPlayerReady: !0 });
            };
            return o.createElement(J, {
              video: t,
              altImgWithFallback: a,
              autoplay: !0,
              autopause: !0,
              showFullscreenBtn: !0,
              controls: !0,
              imageClassnames: V().YoutubePreviewImage,
              onPlayerActivated: r,
              preloadYoutubeScripts: !0,
              playsInline: !0,
            });
          }
          return null;
        }
        BIsSubTitleRedundant(e, t) {
          const n = (e) => e.replace(/\W+/g, "").toLocaleLowerCase(),
            a = n(e);
          return n(t).startsWith(a);
        }
        render() {
          const {
              eventModel: e,
              calendarEvent: t,
              bSuppressHoverEffects: n,
              mode: a,
            } = this.props,
            r = T.cb.Get(),
            l = t.GetGameCapsule(),
            i = (0, c.jM)(L.De.LANGUAGE),
            s = e.has_live_stream,
            d = e.has_live_stream,
            m =
              (0, X.p)() && 14 == e.GetEventType()
                ? v.FN.full
                : v.FN.capsule_main,
            p = "capsule",
            _ = e.BImageNeedScreenshotFallback(p, i),
            E = Boolean(_ && e.appid)
              ? e.GetFallbackArtworkScreenshot()
              : e.GetImageURLWithFallback(p, i, m),
            h = "upcoming" !== a && this.getVideoPreviewControl(),
            g = !h && "upcoming" !== a,
            y = e.GetCategoryAsString(),
            b = V()[`EventType${e.GetEventType()}`],
            S = e.GetAllTags().map((e) => V()[`Tag-${e}`]),
            k = (0, N.Z)(
              V().TileContainer,
              b,
              s && V().TileVideoIcon,
              n ? V().DisableHovers : V().EnableHovers,
              this.state.bVideoPlayerReady && V().VideoPlayerReady,
              h && V().HasVideo,
              r.HasEventBeenRead(e.GID) && V().HasBeenRead,
              "wide" === a && V().WideMode,
              "carousel" === a && V().CarouselMode,
              "upcoming" === a && V().UpcomingMode,
              ...S
            ),
            I = e.GetNameWithFallback(i);
          let f = e.GetSubTitleWithLanguageFallback(i),
            G = e.GetSummaryWithFallback(i);
          f === G && (G = void 0), f === I && (f = void 0);
          const w = (0, u.ax)(E),
            x = o.createElement(
              "div",
              { className: V().CoverImageCtn },
              h,
              g &&
                o.createElement(
                  o.Fragment,
                  null,
                  12 === e.type &&
                    o.createElement(
                      o.Fragment,
                      null,
                      o.createElement(
                        "div",
                        { className: V().GameCapsuleCtn },
                        o.createElement("div", {
                          className: V().AppBannerLogo,
                          style: { backgroundImage: `url(${l})` },
                        })
                      ),
                      o.createElement(
                        "div",
                        { className: V().GameShortDescription },
                        G
                      )
                    ),
                  12 !== e.type &&
                    o.createElement(
                      "div",
                      {
                        className: (0, N.Z)(
                          V().EventCapsuleCtn,
                          s && V().LiveBroadcastPreview
                        ),
                      },
                      o.createElement("div", {
                        className: (0, N.Z)(
                          V().TileImage,
                          _ && V().FallbackImage
                        ),
                        style: { backgroundImage: `url(${w})` },
                      }),
                      s &&
                        o.createElement("div", {
                          className: V().TileCoverImagePlayable,
                        }),
                      d &&
                        o.createElement(
                          "div",
                          { className: V().TileCoverLiveIcon },
                          (0, F.Xx)("#home_page_live_broadcast")
                        ),
                      s &&
                        o.createElement(
                          "div",
                          { className: "VideoHintText" },
                          (0, F.Xx)("#EventCalendar_WatchLiveBroadcast")
                        )
                    )
                )
            ),
            R = h && "carousel" !== a,
            A = n && 14 != e.GetEventType() && !R,
            D = A && x,
            P = !A && x,
            O = "wide" !== a || n,
            H =
              28 !== e.type &&
              12 !== e.type &&
              C.JW.GetTimeNowWithOverride() <
                e.GetStartTimeAndDateUnixSeconds() &&
              o.createElement(
                "div",
                {
                  className: (0, N.Z)(V().ReminderContainer, O && V().OnlyIcon),
                },
                o.createElement(W.m, {
                  eventModel: e,
                  lang: i,
                  bShowStartTime: !0,
                  bOnlyShowIcon: O,
                  bExpandLeft: O,
                })
              ),
            U = Boolean(12 !== e.type && G),
            Y = Boolean(f && (!U || !this.BIsSubTitleRedundant(f, G)));
          return o.createElement(
            "div",
            { className: k },
            o.createElement(Z.I, { event: e, recordNewsHubStats: !0 }),
            o.createElement(
              B.JW,
              { eventModel: e, route: B.Ue.k_eView },
              o.createElement(
                "div",
                { className: V().Tile, onClick: this.OnFallbackClick },
                14 === e.type &&
                  o.createElement("div", {
                    className: (0, N.Z)(
                      V().TileBackgroundImage,
                      _ && V().FallbackImage
                    ),
                    style: { backgroundImage: `url(${w})` },
                  }),
                o.createElement(
                  "div",
                  { className: V().MainContentContainer },
                  o.createElement(
                    "div",
                    { className: V().TileTextContainer },
                    o.createElement(
                      "div",
                      { className: V().PatchIconCtn },
                      o.createElement(M.mKt, null)
                    ),
                    o.createElement(
                      "div",
                      { className: V().EventTitleCtn },
                      D,
                      !this.props.bHideGameTitle &&
                        o.createElement(
                          "div",
                          { className: V().GameSource },
                          o.createElement(ae, Object.assign({}, this.props)),
                          t && o.createElement(le, { calendarEvent: t })
                        ),
                      o.createElement("div", { className: V().EventName }, I),
                      o.createElement(
                        "div",
                        { className: V().EventTypeAndDateCtn },
                        o.createElement(
                          "div",
                          { className: (0, N.Z)(V().TileTextCategoryType, b) },
                          y
                        ),
                        o.createElement(re, {
                          eventModel: e,
                          className: (0, N.Z)(O && V().LeaveRoomForReminder),
                        }),
                        O && H
                      ),
                      Y &&
                        o.createElement(
                          "div",
                          { className: V().EventSubTitle },
                          f
                        ),
                      U &&
                        o.createElement(
                          "div",
                          {
                            className: (0, N.Z)(
                              V().EventSummaryDefault,
                              f ? V().SubTitleShown : ""
                            ),
                          },
                          G
                        )
                    ),
                    !O && H
                  ),
                  P
                )
              )
            ),
            o.createElement(oe, Object.assign({}, this.props))
          );
        }
      };
      (0, a.gn)([R.ak], te.prototype, "OnFallbackClick", null),
        (te = (0, a.gn)([i.Pi], te));
      let ne = class extends o.Component {
        OnTitleClick(e) {
          const { eventModel: t } = this.props,
            n = (0, B.q)(t, B.Ue.k_eStoreNewsHub, "allowRelative");
          n.startsWith("http")
            ? (window.location.href = n)
            : this.props.history.push(n),
            e.stopPropagation(),
            e.preventDefault();
        }
        render() {
          const {
              eventModel: e,
              calendarEvent: t,
              bSuppressHoverEffects: n,
            } = this.props,
            a = t.GetEntityName(),
            r = t.GetGameIcon(),
            l = (0, N.Z)(
              V().GameTitleContainer,
              n ? V().DisableHovers : V().EnableHovers
            );
          return o.createElement(
            y.S,
            null,
            o.createElement(
              "div",
              { className: V().TileTextHeader },
              o.createElement(
                "div",
                { className: l, onClick: this.OnTitleClick },
                o.createElement("img", { className: V().AppIcon, src: r }),
                o.createElement(
                  "div",
                  { className: V().TileTextAppName },
                  a,
                  " "
                )
              )
            )
          );
        }
      };
      (0, a.gn)([R.ak], ne.prototype, "OnTitleClick", null),
        (ne = (0, a.gn)([i.Pi], ne));
      const ae = (0, s.EN)(ne),
        re = (0, i.Pi)((e) => {
          const { eventModel: t, calendarEvent: n, className: a } = e,
            r = (0, E.vY)().GetStoreInitializationTimestamp().getTime() / 1e3,
            l = t ? t.GetStartTimeAndDateUnixSeconds() : n.start_time,
            i = t && (0, ee.G1)(t.type) && t.GetEndTimeAndDateUnixSeconds();
          if (i && l < r && r < i) {
            const e = i - r,
              t = (0, F.yW)(e, !0);
            return o.createElement(
              "div",
              { className: (0, N.Z)(V().LiveText, a) },
              o.createElement(
                Y.Zg,
                { rtFullDate: l, stylesmodule: V() },
                o.createElement(
                  "div",
                  { className: V().LiveNow },
                  (0, F.Xx)("#EventCalendar_LiveNow")
                )
              ),
              o.createElement(
                Y.Zg,
                { rtFullDate: i, stylesmodule: V() },
                (0, F.Xx)("#EventCalendar_TimeLeft", t)
              )
            );
          }
          if (l < r) {
            const e = r - l,
              t = e < 86400 ? (0, F.yW)(e, !1, !0) : (0, F.m9)(l);
            return o.createElement(
              Y.Zg,
              { className: a, rtFullDate: l, stylesmodule: V() },
              o.createElement("div", { className: V().PastDateText }, t)
            );
          }
          {
            const e = new Date(1e3 * r);
            e.setHours(0, 0, 0, 1);
            const t = e.getTime() / 1e3,
              n = Math.floor((l - t) / 86400),
              i = n > 1 && n <= 5 ? (0, F.Mh)(new Date(1e3 * l)) : (0, F.m9)(l),
              s = (0, Y.Kj)(l);
            return o.createElement(
              Y.Zg,
              { className: a, rtFullDate: l, stylesmodule: V() },
              o.createElement(
                "div",
                { className: V().FutureDateText },
                (0, F.Xx)("#EventCalendar_WillStartAtDateTime", i, s)
              )
            );
          }
        }),
        le = (0, i.Pi)((e) => {
          const t = e.calendarEvent.GetSource(),
            n = [],
            a = (0, E.vY)().m_visibilityStore;
          t & m.ZT.k_eLibrary && a.BIsGameSourceAllowed(g.Gf.k_ELibrary)
            ? n.push({
                id: m.ZT.k_eLibrary,
                name: "#EventCalendar_GameSource_inLibrary",
                ttip: "#EventCalendar_GameSource_EventExplanation_ttip_library",
                styles: V().LibrarySource,
              })
            : t & m.ZT.k_eWishlist && a.BIsGameSourceAllowed(g.Gf.k_EWishlist)
            ? n.push({
                id: m.ZT.k_eWishlist,
                name: "#EventCalendar_GameSource_onWishlist",
                ttip: "#EventCalendar_GameSource_EventExplanation_ttip_wishlist",
                styles: V().WishlistSource,
              })
            : t & m.ZT.k_eRecommended &&
              a.BIsGameSourceAllowed(g.Gf.k_ERecommended)
            ? n.push({
                id: m.ZT.k_eRecommended,
                name: "#EventCalendar_GameSource_recommended_Verbose",
                ttip: "#EventCalendar_GameSource_EventExplanation_ttip_recommended",
                styles: V().RecommendedSource,
              })
            : t & m.ZT.k_eFeatured &&
              a.BIsGameSourceAllowed(g.Gf.k_EFeatured) &&
              n.push({
                id: m.ZT.k_eFeatured,
                name: "#EventCalendar_GameSource_featured",
                ttip: "#EventCalendar_GameSource_ttip_featured",
                styles: V().FeaturedSource,
              }),
            t & m.ZT.k_eFollowing &&
              a.BIsGameSourceAllowed(g.Gf.k_EFollowing) &&
              n.push({
                id: m.ZT.k_eFollowing,
                name: "#EventCalendar_GameSource_followed",
                ttip: "#EventCalendar_GameSource_EventExplanation_ttip_following",
                styles: V().FollowingSource,
              });
          const r = n.map((t, a) => {
            const r = e.calendarEvent.unique_id;
            return ie(
              `item-source-${r}-${t.id}`,
              t.name,
              t.ttip,
              t.styles,
              a + 1 < n.length
            );
          });
          return o.createElement("div", { className: V().SourceList }, r);
        }),
        ie = (e, t, n, a, r) =>
          o.createElement(
            w.HP,
            {
              key: e,
              className: (0, N.Z)(V().Source, a),
              toolTipContent: (0, F.Xx)(n),
            },
            (0, F.Xx)(t) + (r ? ", " : "")
          );
      let oe = class extends o.Component {
        OnPerformVoteUp() {
          const { eventModel: e } = this.props,
            t = T.cb.Get();
          !0 !== t.GetPreviouslyLoadedVote(this.props.eventModel) &&
            (0, b.QK)(e, t) &&
            (t.Vote(e, !0, l().CancelToken.source()),
            h.Y.RecordAppInteractionEvent(e.appid, h.g.k_eThumbsUp));
        }
        OnDiscussionClicked() {
          const { eventModel: e } = this.props;
          h.Y.RecordAppInteractionEvent(e.appid, h.g.k_eDiscussions);
        }
        render() {
          const e = T.cb.Get(),
            { eventModel: t } = this.props,
            n = Math.max(0, t.nVotesUp - t.nVotesDown),
            a = e.GetPreviouslyLoadedVote(this.props.eventModel),
            r = (function (e, t) {
              return e.BIsUserLoggedIn()
                ? L.L7.is_limited
                  ? V().Vote_LimitedUser
                  : !0 === t
                  ? V().Vote_Positive
                  : !1 === t
                  ? V().Vote_Negative
                  : V().Vote_Ready
                : V().Vote_NotLoggedIn;
            })(e, a),
            l = t.GetForumTopicURL(),
            i = L.De.EREALM !== d.IN.k_ESteamRealmChina && l,
            s =
              t.live_stream_viewer_count > 0
                ? t.live_stream_viewer_count
                : void 0;
          return o.createElement(
            "div",
            { className: V().Footer },
            o.createElement(
              "div",
              { className: V().FooterRightSide },
              Boolean(s) &&
                o.createElement(
                  "div",
                  { className: V().TileViewerCount },
                  (0, Q.AV)(s)
                ),
              o.createElement(
                "div",
                {
                  className: (0, N.Z)(V().FooterStat, V().Vote, r),
                  onClick: this.OnPerformVoteUp,
                },
                o.createElement(M.KJh, { className: V().RateIcon }),
                o.createElement("span", null, Number(n).toLocaleString())
              ),
              i &&
                o.createElement(
                  "div",
                  { className: V().FooterStat },
                  o.createElement(
                    "a",
                    {
                      href: l,
                      className: V().CommentIconCtn,
                      target: "_blank",
                      onClick: this.OnDiscussionClicked,
                    },
                    o.createElement(M.xg, { className: V().CommentIcon }),
                    o.createElement(
                      "span",
                      null,
                      Number(t.nCommentCount).toLocaleString()
                    )
                  )
                ),
              o.createElement(U, Object.assign({}, this.props))
            )
          );
        }
      };
      (0, a.gn)([R.ak], oe.prototype, "OnPerformVoteUp", null),
        (0, a.gn)([R.ak], oe.prototype, "OnDiscussionClicked", null),
        (oe = (0, a.gn)([i.Pi], oe));
    },
    49691: (e, t, n) => {
      "use strict";
      n.d(t, { I: () => m });
      var a = n(67294),
        r = n(80533),
        l = (n(92398), n(99533)),
        i = n(9915),
        o = (n(68002), n(49186), n(35118)),
        s = n(51391);
      class c {
        constructor() {
          (this.m_bHasBeenTracked = !1), (this.m_fnSubmit = null);
        }
      }
      const d = new (class {
          constructor() {
            (this.m_nImpressionDelayMS = 500), (this.m_mapEvents = new Map());
          }
          ShouldTrack(e) {
            if (e.bOldAnnouncement) return !1;
            const t = this.m_mapEvents.get(e.GID);
            return !t || !t.m_bHasBeenTracked;
          }
          StartTracking(e, t) {
            if (e.bOldAnnouncement) return;
            let n = this.m_mapEvents.get(e.GID);
            n || ((n = new c()), this.m_mapEvents.set(e.GID, n)),
              n.m_bHasBeenTracked ||
                n.m_fnSubmit ||
                ((n.m_fnSubmit = new l.Ar()),
                n.m_fnSubmit.Schedule(
                  this.m_nImpressionDelayMS,
                  this.ReportImpression.bind(this, e, t)
                ));
          }
          StopTracking(e) {
            const t = this.m_mapEvents.get(e.GID);
            t && t.m_fnSubmit && (t.m_fnSubmit.Cancel(), (t.m_fnSubmit = null));
          }
          ReportImpression(e, t) {
            i.cb.Get().RecordEventShown(e, 8),
              t && s.Y.RecordViewedEvent((0, o.vY)(), e.GID);
            const n = this.m_mapEvents.get(e.GID);
            n &&
              ((n.m_bHasBeenTracked = !0),
              n.m_fnSubmit.Cancel(),
              (n.m_fnSubmit = null));
          }
        })(),
        m = (e) => {
          const { event: t } = e;
          if (d.ShouldTrack(t)) {
            const n = () => d.StartTracking(t, e.recordNewsHubStats || !1),
              l = () => d.StopTracking(t);
            return a.createElement(r.h, { onEnter: n, onLeave: l });
          }
          return null;
        };
    },
    15396: (e, t, n) => {
      "use strict";
      n.d(t, { Y: () => o });
      var a = n(70655),
        r = n(67294),
        l = n(22975),
        i = n(54452);
      class o extends r.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bRenderChildren: !1,
              nPrevRenderWidth: 0,
              nPrevRenderHeight: 0,
            }),
            (this.m_refContainer = r.createRef());
        }
        BLoadAndUnload() {
          return "LoadAndUnload" == (this.props.mode || "JustLoad");
        }
        OnVisibilityChange(e) {
          let t = this.state.bRenderChildren;
          if (t == e) return;
          if (t && !this.BLoadAndUnload()) return;
          let n = 0,
            a = 0;
          if (this.m_refContainer.current) {
            const e = this.m_refContainer.current.GetBoundingClientRect();
            e && ((n = e.width), (a = e.height));
          }
          this.setState({
            bRenderChildren: e,
            nPrevRenderWidth: n,
            nPrevRenderHeight: a,
          }),
            e && this.props.onRender && this.props.onRender();
        }
        render() {
          const e = this.props,
            {
              placeholderWidth: t,
              placeholderHeight: n,
              onRender: l,
              style: o,
              mode: s,
            } = e,
            c = (0, a._T)(e, [
              "placeholderWidth",
              "placeholderHeight",
              "onRender",
              "style",
              "mode",
            ]),
            d = this.state.bRenderChildren;
          let m = o;
          if (!d) {
            const e = this.state.nPrevRenderWidth || t,
              a = this.state.nPrevRenderHeight || n;
            (void 0 === a && void 0 === e) ||
              (m = Object.assign(Object.assign({}, o), {
                minHeight: a,
                minWidth: e,
              }));
          }
          const u = this.BLoadAndUnload() ? "repeated" : "once";
          return r.createElement(
            i.U,
            Object.assign({ ref: this.m_refContainer, style: m }, c, {
              onVisibilityChange: this.OnVisibilityChange,
              trigger: u,
            }),
            d && this.props.children
          );
        }
      }
      (0, a.gn)([l.ak], o.prototype, "OnVisibilityChange", null);
    },
    98300: (e, t, n) => {
      "use strict";
      n.d(t, { bC: () => _, fU: () => v, mY: () => u, ug: () => p });
      var a = n(48341),
        r = n(41311),
        l = n(95598),
        i = n(67294),
        o = n(7573),
        s = n(34133),
        c = n(32548),
        d = n(29323),
        m = n(82860);
      const u = (0, d.Pi)((e) =>
        i.createElement(
          i.Fragment,
          null,
          i.createElement(
            "div",
            {
              className: (0, o.Z)(
                e.className ? e.className : m.SectionTitleHeader,
                m.required_title
              ),
            },
            i.createElement(
              "div",
              {
                className: (0, o.Z)(
                  s.EventEditorTextTitle,
                  "EventEditorTextTitle"
                ),
              },
              e.title,
              Boolean(e.tooltip) && i.createElement(_, { tooltip: e.tooltip })
            ),
            i.createElement(v, {
              bIsMinimized: e.getMinimized(),
              fnToggleMinimize: e.toggleMinimized,
            })
          ),
          !e.getMinimized() && i.createElement(c.S, null, e.children)
        )
      );
      function p(e) {
        const [t, n] = i.useState(Boolean(e.bStartMinimized));
        return i.createElement(
          u,
          Object.assign({}, e, {
            getMinimized: () => t,
            toggleMinimized: () => n(!t),
          }),
          e.children
        );
      }
      function v(e) {
        const { bIsMinimized: t, fnToggleMinimize: n } = e,
          o = t ? "#Section_Maximize_Tooltip" : "#Section_Minimize_Tooltip";
        return i.createElement(
          a.zx,
          { "data-tooltip-text": (0, r.Xx)(o), onClick: n },
          e.bIsMinimized
            ? i.createElement(l.YqJ, null)
            : i.createElement(l.gR, null)
        );
      }
      function _(e) {
        return i.createElement(
          "span",
          {
            "data-tooltip-text": e.tooltip,
            className: (0, o.Z)(s.HelperTooltip, "HelperTooltip"),
          },
          " ",
          i.createElement(l.WWB, null)
        );
      }
    },
    6092: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => l });
      var a = n(29181),
        r = n.n(a);
      function l() {
        return window.innerWidth < parseInt(r().strMaxMobileWidth);
      }
    },
    54452: (e, t, n) => {
      "use strict";
      n.d(t, { U: () => o });
      var a = n(70655),
        r = n(67294),
        l = n(53622),
        i = n(22975);
      class o extends r.Component {
        constructor() {
          super(...arguments),
            (this.m_observer = null),
            (this.m_refElement = r.createRef()),
            (this.m_elTracked = null),
            (this.m_bPreviouslyIntersecting = !1);
        }
        static GetScrollableClassname() {
          return "vt-scrollable";
        }
        BTriggerOnce() {
          return "once" == (this.props.trigger || "once");
        }
        GetBoundingClientRect() {
          return this.m_refElement.current
            ? this.m_refElement.current.getBoundingClientRect()
            : null;
        }
        DestroyObserver() {
          this.m_observer &&
            (this.m_observer.disconnect(),
            (this.m_observer = null),
            (this.m_elTracked = null));
        }
        componentWillUnmount() {
          this.DestroyObserver();
        }
        componentDidMount() {
          this.UpdateObserver(null);
        }
        componentDidUpdate(e) {
          this.UpdateObserver(e);
        }
        UpdateObserver(e) {
          if (this.m_bPreviouslyIntersecting && this.BTriggerOnce()) return;
          this.m_observer &&
            e &&
            e.rootMargin != this.m_observer.rootMargin &&
            this.DestroyObserver();
          let t = this.m_refElement.current;
          if (
            (this.m_observer &&
              t != this.m_elTracked &&
              (this.m_observer.unobserve(this.m_elTracked),
              (this.m_elTracked = null)),
            !this.m_observer && t)
          ) {
            let e = { root: this.FindScrollableAncestor(t) };
            this.props.rootMargin && (e.rootMargin = this.props.rootMargin),
              (this.m_observer = new IntersectionObserver(
                this.OnIntersection,
                e
              ));
          }
          this.m_observer &&
            t &&
            t != this.m_elTracked &&
            (this.m_observer.observe(t), (this.m_elTracked = t));
        }
        FindScrollableAncestor(e) {
          return l.Jk(e, (e) => {
            const t = this.props.bHorizontal
              ? window.getComputedStyle(e).overflowX
              : window.getComputedStyle(e).overflowY;
            return (
              "scroll" == t ||
              "auto" == t ||
              !!e.classList.contains(o.GetScrollableClassname())
            );
          });
        }
        OnIntersection(e, t) {
          let n = !1;
          for (const t of e)
            if (t.isIntersecting) {
              n = !0;
              break;
            }
          this.m_bPreviouslyIntersecting != n &&
            ((this.m_bPreviouslyIntersecting = n),
            this.props.onVisibilityChange && this.props.onVisibilityChange(n),
            n && this.BTriggerOnce() && this.DestroyObserver());
        }
        render() {
          let e = this.props,
            {
              onVisibilityChange: t,
              rootMargin: n,
              trigger: l,
              bHorizontal: i,
            } = e,
            o = (0, a._T)(e, [
              "onVisibilityChange",
              "rootMargin",
              "trigger",
              "bHorizontal",
            ]);
          return r.createElement(
            "div",
            Object.assign({ ref: this.m_refElement }, o),
            this.props.children
          );
        }
      }
      (0, a.gn)([i.ak], o.prototype, "OnIntersection", null);
    },
  },
]);
