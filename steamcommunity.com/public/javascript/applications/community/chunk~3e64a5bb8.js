/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [3058],
  {
    56052: (e) => {
      e.exports = {
        StoreSaleWidgetContainer_mini:
          "broadcastwidgets_StoreSaleWidgetContainer_mini_1Vz-y",
        Action: "broadcastwidgets_Action_1ZA3F",
        WishList: "broadcastwidgets_WishList_20tgR",
        StoreSaleWidgetImage_mini:
          "broadcastwidgets_StoreSaleWidgetImage_mini_1Ep8o",
        StoreSaleImage_mini: "broadcastwidgets_StoreSaleImage_mini_26Hh7",
        StoreSaleWidgetShortDesc_mini:
          "broadcastwidgets_StoreSaleWidgetShortDesc_mini_DvDV2",
      };
    },
    21807: (e) => {
      e.exports = { BreadContainer: "breadcrumbs_BreadContainer_1QPim" };
    },
    39853: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        carouselNavButton: "carousel_carouselNavButton_1KK5N",
        left: "carousel_left_gLIfz",
        carouselBtnCtn: "carousel_carouselBtnCtn_aqswv",
        right: "carousel_right_1qWih",
        carouselBody: "carousel_carouselBody_2M7XO",
        sliderBody: "carousel_sliderBody_gtnxY",
        slideTrayCustomize: "carousel_slideTrayCustomize_2rRBe",
        breadcrumbContainer: "carousel_breadcrumbContainer_1nhaj",
        pipList: "carousel_pipList_3oTuB",
        pipScrollerContainer: "carousel_pipScrollerContainer_1C-B8",
        pipScrollButton: "carousel_pipScrollButton_vy7Kr",
        scrollNavDiv: "carousel_scrollNavDiv_13TQ_",
        scrollNavButton: "carousel_scrollNavButton_1GLi1",
        pipScroller: "carousel_pipScroller_GXWYa",
        scrollBackground: "carousel_scrollBackground_3-RYo",
        scrollForeground: "carousel_scrollForeground_yJM1K",
        pipContainer: "carousel_pipContainer_373Zi",
        pip: "carousel_pip_3Bznr",
        pipNumber: "carousel_pipNumber_2_JtJ",
        innerSlide: "carousel_innerSlide_Kx5A5",
        DisableSliderMotion: "carousel_DisableSliderMotion_3la_1",
      };
    },
    7238: (e) => {
      e.exports = {
        LanguageHeader: "curatorfeedbrowse_LanguageHeader_1w7-R",
        CuratorInfoRow: "curatorfeedbrowse_CuratorInfoRow_1ePmt",
        CuratorInfoImg: "curatorfeedbrowse_CuratorInfoImg_3TDAb",
        CuratorInfoName: "curatorfeedbrowse_CuratorInfoName_Hrl-3",
        CuratorInfoTitleCtn: "curatorfeedbrowse_CuratorInfoTitleCtn_feb3U",
        CuratorInfoActionCtn: "curatorfeedbrowse_CuratorInfoActionCtn_3UORQ",
        CuratorInfoPreview: "curatorfeedbrowse_CuratorInfoPreview_11jpz",
        CuratorInfoIcon: "curatorfeedbrowse_CuratorInfoIcon_1j65n",
        CuratorInfoFollow: "curatorfeedbrowse_CuratorInfoFollow_M53Y8",
        CuratorHoverContainer: "curatorfeedbrowse_CuratorHoverContainer_2Q00L",
        CuratorHoverToolTip: "curatorfeedbrowse_CuratorHoverToolTip_3YF0X",
      };
    },
    23352: (e) => {
      e.exports = {
        FeedSuggestContainerBG:
          "curatorfeedsuggestrow_FeedSuggestContainerBG_1q6aG",
        FeedSuggestContainer:
          "curatorfeedsuggestrow_FeedSuggestContainer_17xnI",
        FeedSuggestCaption: "curatorfeedsuggestrow_FeedSuggestCaption_3w_M8",
        RowContainer: "curatorfeedsuggestrow_RowContainer_OHGO1",
        ClanInfo: "curatorfeedsuggestrow_ClanInfo_3R1cy",
        DismissButton: "curatorfeedsuggestrow_DismissButton_H14vN",
        BrowseMore: "curatorfeedsuggestrow_BrowseMore_2uAxs",
      };
    },
    71869: (e) => {
      e.exports = {
        strMaxMobileWidth: "700px",
        strMinMobileHeight: "360px",
        strDesktopControlBarWidth: "300px",
        strDesktopGlobalHeaderHeight: "104px",
        strMobileGlobalHeaderHeight: "62px",
        strDesktopLabsBannerHeight: "46px",
        strMobileLabsBannerHeight: "42px",
        strDesktopHubBannerHeight: "80px",
        strMobileHubBannerHeight: "80px",
        strJumboHubBannerHeight: "150px",
        strDesktopGroupHeaderHeight: "70px",
        strMobileGroupHeaderHeight: "37px",
        strMobileNavBannerHeight: "52px",
        strLogInBannerLargeHeight: "239px",
        strLogInBannerSmallHeight: "70px",
        HubBanner: "eventcalendar_HubBanner_3FLui",
        LargeMode: "eventcalendar_LargeMode_2a-qT",
        CloseFilterPage: "eventcalendar_CloseFilterPage_8f6V6",
        ShowSettings: "eventcalendar_ShowSettings_1gxRe",
        ControlPageContainer: "eventcalendar_ControlPageContainer_1q3uu",
        FiltersTitle: "eventcalendar_FiltersTitle_2wiwx",
        FiltersDescription: "eventcalendar_FiltersDescription_32EuV",
        SideSteamLabsBannerCtn: "eventcalendar_SideSteamLabsBannerCtn_13S5t",
        SteamLabsIdentifiers: "eventcalendar_SteamLabsIdentifiers_XKYrN",
        SteamLabsName: "eventcalendar_SteamLabsName_2zJUu",
        SteamLabsNumber: "eventcalendar_SteamLabsNumber_3zgCX",
        SteamLabsButton: "eventcalendar_SteamLabsButton_3w2FN",
        SteamLabsBanner: "eventcalendar_SteamLabsBanner_1ooep",
        SteamLabsBannerCtn: "eventcalendar_SteamLabsBannerCtn_201dI",
        SidebarContainer: "eventcalendar_SidebarContainer_1DLtr",
        SidebarCollapsed: "eventcalendar_SidebarCollapsed_JztN-",
        CollapseButton: "eventcalendar_CollapseButton_GHpEC",
        DesktopButton: "eventcalendar_DesktopButton_1q6qU",
        SidebarBackground: "eventcalendar_SidebarBackground_3_Jml",
        Sidebar: "eventcalendar_Sidebar_2A05H",
        SidebarTitle: "eventcalendar_SidebarTitle_3tbyf",
        FilterControlPage: "eventcalendar_FilterControlPage_1etlT",
        FilterOption: "eventcalendar_FilterOption_3k3Gi",
        FilterSubOption: "eventcalendar_FilterSubOption_hHIh7",
        SideBarFilterNavLinks: "eventcalendar_SideBarFilterNavLinks_2-HL_",
        FilterLink: "eventcalendar_FilterLink_1-Ujk",
        NumberDisplay: "eventcalendar_NumberDisplay_3Wff7",
        FilterSettingsCtn: "eventcalendar_FilterSettingsCtn_1C7Qd",
        OpenFilterSettings: "eventcalendar_OpenFilterSettings_1EGvy",
        SidebarBackLink: "eventcalendar_SidebarBackLink_2EpHe",
        MobileCloseButton: "eventcalendar_MobileCloseButton_2Og-q",
        FilterSection: "eventcalendar_FilterSection_240qv",
        FilterSubSection: "eventcalendar_FilterSubSection_1oWh_",
        FilterSubSectionTitle: "eventcalendar_FilterSubSectionTitle_3sotA",
        ConfigPanelSteamLabs: "eventcalendar_ConfigPanelSteamLabs_1izKM",
        ForceResponsiveLink: "eventcalendar_ForceResponsiveLink_3dYGU",
        SidebarLink: "eventcalendar_SidebarLink_ZyeWn",
        SidebarManageMutedApps: "eventcalendar_SidebarManageMutedApps_1jbMT",
        MutedSourcesGroup: "eventcalendar_MutedSourcesGroup_3jegH",
        MutedSourcesCount: "eventcalendar_MutedSourcesCount_1x7L5",
        SidebarFooter: "eventcalendar_SidebarFooter_3wIEo",
        FooterLegal: "eventcalendar_FooterLegal_3ABtB",
        MobileButton: "eventcalendar_MobileButton_2DSNf",
        BodyNoScroll: "eventcalendar_BodyNoScroll_2ppU0",
        EventCalendarContainer: "eventcalendar_EventCalendarContainer_3vzNv",
        ReserveControlSpace: "eventcalendar_ReserveControlSpace_3cdtJ",
        WideLeftGutter: "eventcalendar_WideLeftGutter_sEEVH",
        LogInFeedRow: "eventcalendar_LogInFeedRow_3GG4P",
        RowContainer: "eventcalendar_RowContainer_24NWG",
        Loading: "eventcalendar_Loading_2Xs6v",
        LoadingProgress: "eventcalendar_LoadingProgress_1LhRX",
        AdjustFiltersText: "eventcalendar_AdjustFiltersText_3eZJB",
        Rows: "eventcalendar_Rows_1TY7h",
        FutureSection: "eventcalendar_FutureSection_1qoJs",
        PastSection: "eventcalendar_PastSection_2S38Q",
        DarkerBackground: "eventcalendar_DarkerBackground_iSooR",
        EmptySectionText: "eventcalendar_EmptySectionText_38-PU",
        CalendarEventListRow: "eventcalendar_CalendarEventListRow_1-nZy",
        CalendarEventListContainer:
          "eventcalendar_CalendarEventListContainer_H6Xmf",
        CalendarRow: "eventcalendar_CalendarRow_uRe48",
        EventListTitle: "eventcalendar_EventListTitle_NhZOr",
        GroupHeader: "eventcalendar_GroupHeader_3ZL97",
        GroupHeaderTitle: "eventcalendar_GroupHeaderTitle_3wRHR",
        GroupHeaderLine: "eventcalendar_GroupHeaderLine_2dC7U",
        SeeAllLink: "eventcalendar_SeeAllLink_3fQBc",
        SeeAllCount: "eventcalendar_SeeAllCount_2lrj5",
        HorizontalTileContainer: "eventcalendar_HorizontalTileContainer_1RFyn",
        HorizontalTiles: "eventcalendar_HorizontalTiles_2dunE",
        HeaderAtTop: "eventcalendar_HeaderAtTop_22eDj",
        EndOfRows: "eventcalendar_EndOfRows_fIf4x",
        BackToThePast: "eventcalendar_BackToThePast_1C0lI",
        MobileSeeAllink: "eventcalendar_MobileSeeAllink_X0eKv",
        NoCount: "eventcalendar_NoCount_3Pmrq",
        LiveText: "eventcalendar_LiveText_2Vq2q",
        UpdatePageBanner: "eventcalendar_UpdatePageBanner_2zK8E",
        LoginPrompt: "eventcalendar_LoginPrompt_3PSOD",
        LoginButton: "eventcalendar_LoginButton_16XHf",
        SpecialEventListGroup: "eventcalendar_SpecialEventListGroup_cRgpU",
        SpecialEventListTitle: "eventcalendar_SpecialEventListTitle_3oR2P",
        SpecialEventList: "eventcalendar_SpecialEventList_2J5Fd",
        SpecialEvent: "eventcalendar_SpecialEvent_27uLY",
        SpecialEventTitle: "eventcalendar_SpecialEventTitle_355Ad",
        SpecialEventTime: "eventcalendar_SpecialEventTime_3KlFX",
        NewsChannelGroup: "eventcalendar_NewsChannelGroup_3Zc7j",
        NewsChannelListTitle: "eventcalendar_NewsChannelListTitle_niYt6",
        NewsChannelList: "eventcalendar_NewsChannelList_2ye1o",
        NewsChannel: "eventcalendar_NewsChannel_TOM8J",
        NewsChannelText: "eventcalendar_NewsChannelText_3giXA",
        NewsChannelCount: "eventcalendar_NewsChannelCount_1XImz",
        NewsChannelOnPage: "eventcalendar_NewsChannelOnPage_EhtJ_",
        NewsChannelTitle: "eventcalendar_NewsChannelTitle_1vRlL",
        NewsChannelSubtitle: "eventcalendar_NewsChannelSubtitle_3oo-Z",
        DiscoverGroup: "eventcalendar_DiscoverGroup_ZpiHX",
        NewsChannelIcon: "eventcalendar_NewsChannelIcon_CgI2T",
        SidePanelGameSearch: "eventcalendar_SidePanelGameSearch_2MujS",
        MobileNavBannerCtn: "eventcalendar_MobileNavBannerCtn_2Frbv",
        SearchDismiss: "eventcalendar_SearchDismiss_2FplR",
        SearchBox: "eventcalendar_SearchBox_2M_7N",
        SearchExpanded: "eventcalendar_SearchExpanded_1eVsV",
        SettingsPanel: "eventcalendar_SettingsPanel_psC2o",
        MobileNavHScroll: "eventcalendar_MobileNavHScroll_2M1_b",
        MobileNavBannerList: "eventcalendar_MobileNavBannerList_UZcA8",
        MobileNavButton: "eventcalendar_MobileNavButton_1f2uC",
        MobileNavCount: "eventcalendar_MobileNavCount_1wL6_",
        MobileNavButtonActive: "eventcalendar_MobileNavButtonActive_3jMyS",
        CalendarEventList: "eventcalendar_CalendarEventList_taRpt",
        LogInSmallMode: "eventcalendar_LogInSmallMode_S3Bg-",
        LogInFeedText: "eventcalendar_LogInFeedText_2Wwqw",
        PromptCtn: "eventcalendar_PromptCtn_2DXtj",
        LogInFeedTitle: "eventcalendar_LogInFeedTitle_dwZZT",
        LogInButton: "eventcalendar_LogInButton_1JHwA",
        LazyCalendarSectionCtn: "eventcalendar_LazyCalendarSectionCtn_2uSnK",
        TimeEventRow: "eventcalendar_TimeEventRow_3mvKU",
        TimeEventLastPlayed: "eventcalendar_TimeEventLastPlayed_331zO",
        TimeEventWishlisted: "eventcalendar_TimeEventWishlisted_vX6Wf",
      };
    },
    56364: (e) => {
      e.exports = {
        simpleTitleSmallHeight: "80",
        simpleTitleLargeHeight: "200",
        SimpleTitleHeaderCtn:
          "eventcalendarcollectionheaders_SimpleTitleHeaderCtn_PmpGj",
        CollectionBannerGroup:
          "eventcalendarcollectionheaders_CollectionBannerGroup_2tnx8",
        AppBannerLogoCtn:
          "eventcalendarcollectionheaders_AppBannerLogoCtn_16LX1",
        SimpleTitleCtn: "eventcalendarcollectionheaders_SimpleTitleCtn_yxDj9",
        Title: "eventcalendarcollectionheaders_Title_2Lv0Z",
        Subtitle: "eventcalendarcollectionheaders_Subtitle_2rp2c",
        LargeHeader: "eventcalendarcollectionheaders_LargeHeader_1lKhJ",
        NoHeaderImg: "eventcalendarcollectionheaders_NoHeaderImg_2HRXk",
        AppBannerLogo: "eventcalendarcollectionheaders_AppBannerLogo_3CJuc",
      };
    },
    17170: (e) => {
      e.exports = {
        GameTitleContainer: "eventcalendartile_GameTitleContainer_1bEUE",
        AppIcon: "eventcalendartile_AppIcon_3wvlH",
        TileTextAppName: "eventcalendartile_TileTextAppName_2BL8L",
        EnableHovers: "eventcalendartile_EnableHovers_1fwVU",
        TileContainer: "eventcalendartile_TileContainer_27AwJ",
        CoverImageCtn: "eventcalendartile_CoverImageCtn_1z05m",
        GameShortDescription: "eventcalendartile_GameShortDescription_3t7Mb",
        LiveText: "eventcalendartile_LiveText_3efBC",
        LiveNow: "eventcalendartile_LiveNow_3VnsB",
        FutureDateText: "eventcalendartile_FutureDateText_nmVmP",
        PastDateText: "eventcalendartile_PastDateText_bg1_S",
        GameSource: "eventcalendartile_GameSource_NopR2",
        SourceList: "eventcalendartile_SourceList_EyXCR",
        Source: "eventcalendartile_Source_cwALQ",
        RecommendedSource: "eventcalendartile_RecommendedSource_dG5lj",
        SourceRecommended: "eventcalendartile_SourceRecommended_3__4f",
        DateAndSourceLine: "eventcalendartile_DateAndSourceLine_2sKqZ",
        EventTypeAndDateCtn: "eventcalendartile_EventTypeAndDateCtn_1aeC3",
        LeaveRoomForReminder: "eventcalendartile_LeaveRoomForReminder_3oE9t",
        SmallAppName: "eventcalendartile_SmallAppName_ToBXZ",
        TileTextCategoryType: "eventcalendartile_TileTextCategoryType_184La",
        EventType28: "eventcalendartile_EventType28_mk_un",
        EventType10: "eventcalendartile_EventType10_aHnCE",
        EventType11: "eventcalendartile_EventType11_12EBE",
        EventType23: "eventcalendartile_EventType23_3cfYl",
        EventType35: "eventcalendartile_EventType35_ikSKc",
        EventType13: "eventcalendartile_EventType13_23ExK",
        EventType14: "eventcalendartile_EventType14_1jnLc",
        EventType15: "eventcalendartile_EventType15_3Zi-O",
        Tile: "eventcalendartile_Tile_a0iPy",
        MainContentContainer: "eventcalendartile_MainContentContainer_2W5LC",
        YoutubePreviewImage: "eventcalendartile_YoutubePreviewImage_3T2CQ",
        TileImage: "eventcalendartile_TileImage_Zo12U",
        TileTextContainer: "eventcalendartile_TileTextContainer_ymS8R",
        EventType12: "eventcalendartile_EventType12_KucHh",
        EventName: "eventcalendartile_EventName_3myvq",
        EventSubTitle: "eventcalendartile_EventSubTitle_3sqG2",
        GameCapsuleCtn: "eventcalendartile_GameCapsuleCtn_1js7a",
        AppBannerLogo: "eventcalendartile_AppBannerLogo_QRRaO",
        TileTextHeader: "eventcalendartile_TileTextHeader_2SYia",
        PatchIconCtn: "eventcalendartile_PatchIconCtn_rRP5R",
        EventTitleCtn: "eventcalendartile_EventTitleCtn_1SP_7",
        Footer: "eventcalendartile_Footer_DEtoe",
        EventCapsuleCtn: "eventcalendartile_EventCapsuleCtn_2vLZ-",
        FallbackImage: "eventcalendartile_FallbackImage_kbkLs",
        LiveBroadcastPreview: "eventcalendartile_LiveBroadcastPreview_1HaxG",
        TileBackgroundImage: "eventcalendartile_TileBackgroundImage_2Gnfg",
        TileCoverImagePlayable:
          "eventcalendartile_TileCoverImagePlayable_2FHPA",
        TileCoverLiveIcon: "eventcalendartile_TileCoverLiveIcon_19TYS",
        ReminderContainer: "eventcalendartile_ReminderContainer_n9Vac",
        OnlyIcon: "eventcalendartile_OnlyIcon_2KOMz",
        EventSummaryDefault: "eventcalendartile_EventSummaryDefault_23hMR",
        Vote_NotLoggedIn: "eventcalendartile_Vote_NotLoggedIn_3-UCk",
        Vote_LimitedUser: "eventcalendartile_Vote_LimitedUser_1ZCW6",
        Vote_Positive: "eventcalendartile_Vote_Positive_3hsn9",
        RateIcon: "eventcalendartile_RateIcon_1e7Al",
        Vote_Negative: "eventcalendartile_Vote_Negative_3xf8Q",
        Vote_Ready: "eventcalendartile_Vote_Ready_3k8SI",
        FooterRightSide: "eventcalendartile_FooterRightSide_1pVH1",
        Options: "eventcalendartile_Options_fpyqp",
        TileViewerCount: "eventcalendartile_TileViewerCount_1Kark",
        FooterStat: "eventcalendartile_FooterStat_3L6pU",
        CommentIcon: "eventcalendartile_CommentIcon_e4HhG",
        CommentIconCtn: "eventcalendartile_CommentIconCtn_2beft",
        LoadingTile: "eventcalendartile_LoadingTile_ZT_XQ",
        CarouselMode: "eventcalendartile_CarouselMode_19V9q",
        UpcomingMode: "eventcalendartile_UpcomingMode_2oNi3",
        TileVideoIcon: "eventcalendartile_TileVideoIcon_3_ckM",
        DateAndTime: "eventcalendartile_DateAndTime_27Tkn",
        HasVideo: "eventcalendartile_HasVideo_1S66y",
        SubTitleShown: "eventcalendartile_SubTitleShown_10v7u",
        VideoPlayerReady: "eventcalendartile_VideoPlayerReady_1K9tx",
      };
    },
    5726: (e) => {
      e.exports = {
        EventTileCarousel: "eventtilecarousel_EventTileCarousel_1uKel",
        HorizontalTiles: "eventtilecarousel_HorizontalTiles_1vFi-",
        EventTileCarouselTitleContainer:
          "eventtilecarousel_EventTileCarouselTitleContainer_2iHiV",
        EventTileCarouselTextTitle:
          "eventtilecarousel_EventTileCarouselTextTitle_1RnBj",
        EventTileCarouselTitle:
          "eventtilecarousel_EventTileCarouselTitle_2bhb_",
        EventTileCarouselFollow:
          "eventtilecarousel_EventTileCarouselFollow_3Hs-I",
      };
    },
    31890: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        strWidescreenWidth: "1420px",
        strPhoneWidth: "768px",
        FacetedBrowseInnerCtn: "facetedbrowse_FacetedBrowseInnerCtn_hWbTI",
        FacetedBrowseControls: "facetedbrowse_FacetedBrowseControls_3fHFf",
        FacetMenuTitle: "facetedbrowse_FacetMenuTitle_3K6Uu",
        FacetedBrowseMatchCount: "facetedbrowse_FacetedBrowseMatchCount_3jXlH",
        FacetedBrowseReset: "facetedbrowse_FacetedBrowseReset_CtoEO",
        Facet: "facetedbrowse_Facet_2i4LT",
        FacetTitleCtn: "facetedbrowse_FacetTitleCtn_3W_uV",
        FacetTitle: "facetedbrowse_FacetTitle_3L67O",
        FacetValue: "facetedbrowse_FacetValue_Qu-ZC",
        FacetValueEnabled: "facetedbrowse_FacetValueEnabled_2kNes",
        FacetValueDeactivated: "facetedbrowse_FacetValueDeactivated_1J6AZ",
        FacetValueName: "facetedbrowse_FacetValueName_3WMvo",
        FacetValueDescription: "facetedbrowse_FacetValueDescription_1Su6Q",
        FacetValueShowMore: "facetedbrowse_FacetValueShowMore_230Th",
        FacetedBrowseItems: "facetedbrowse_FacetedBrowseItems_NO-IP",
        FacetedBrowsePopupCtn: "facetedbrowse_FacetedBrowsePopupCtn_Vyowz",
        FacetedBrowsePopupLabel: "facetedbrowse_FacetedBrowsePopupLabel_1voIo",
        FacetedBrowsePopup: "facetedbrowse_FacetedBrowsePopup_35kqo",
        FacetedBrowseFeedbackLink:
          "facetedbrowse_FacetedBrowseFeedbackLink_3B2jY",
        FacetValuePriceSlider: "facetedbrowse_FacetValuePriceSlider_h8tqf",
        SelectedFacetValuesTitle:
          "facetedbrowse_SelectedFacetValuesTitle_1rCTF",
        SelectedFacetValuesList: "facetedbrowse_SelectedFacetValuesList_17tCW",
        SelectedFacetValueCtn: "facetedbrowse_SelectedFacetValueCtn_1whZi",
        FacetValueSearch: "facetedbrowse_FacetValueSearch_1nSEf",
      };
    },
    73863: (e) => {
      e.exports = {
        HorizontalScrollInDragForceCursor:
          "horizontalscrollcontainer_HorizontalScrollInDragForceCursor_1uftH",
      };
    },
    24161: (e) => {
      e.exports = {
        LanguageFeedNoteBucket: "languagefeedrow_LanguageFeedNoteBucket_1AmGk",
        LanguageFeedNoteCtn: "languagefeedrow_LanguageFeedNoteCtn_2F8lX",
        BodyFlow: "languagefeedrow_BodyFlow_2hM2g",
        LeftColumn: "languagefeedrow_LeftColumn_30y-r",
        RightColumn: "languagefeedrow_RightColumn_8nQdu",
        Title: "languagefeedrow_Title_30RYL",
        LanguageList: "languagefeedrow_LanguageList_2fQkM",
        Text: "languagefeedrow_Text_hp5WH",
        DismissButton: "languagefeedrow_DismissButton_1TLMk",
      };
    },
    21735: (e) => {
      e.exports = {
        ErrorStyles: "partnereventdialog_ErrorStyles_2TszC",
        ErrorStylesWithIcon: "partnereventdialog_ErrorStylesWithIcon_1mcSA",
        ErrorIconLayout: "partnereventdialog_ErrorIconLayout_15HwA",
        ErrorStylesBackground: "partnereventdialog_ErrorStylesBackground_3Ht2e",
        WarningStyles: "partnereventdialog_WarningStyles_1C_Im",
        WarningStylesWithIcon: "partnereventdialog_WarningStylesWithIcon_3p5KO",
        WarningIconLayout: "partnereventdialog_WarningIconLayout_3POKG",
        WarningStylesBackground:
          "partnereventdialog_WarningStylesBackground_2MAql",
        Stuck: "partnereventdialog_Stuck_2JqXL",
        Padding: "partnereventdialog_Padding_2oWai",
        NotTooWideModal: "partnereventdialog_NotTooWideModal_3P6Se",
      };
    },
    30185: (e) => {
      e.exports = {
        TotalsCtn: "partnereventstats_TotalsCtn_19vOo",
        SmallStatsMode: "partnereventstats_SmallStatsMode_kgm3s",
        StatsTitle: "partnereventstats_StatsTitle_OK8fz",
        StatsCtnTitle: "partnereventstats_StatsCtnTitle_1MBiN",
        VisibilityNote: "partnereventstats_VisibilityNote_3d3UX",
        NormalStatsMode: "partnereventstats_NormalStatsMode_1_k55",
        StatFigure: "partnereventstats_StatFigure_20Ce1",
        StatsCtn: "partnereventstats_StatsCtn_cwuZd",
        StatsLeftSection: "partnereventstats_StatsLeftSection_3Ff1q",
        StatsRightSection: "partnereventstats_StatsRightSection_1kxxO",
        ModerationWarningCtn: "partnereventstats_ModerationWarningCtn_Jrwlw",
        ModerationWarning: "partnereventstats_ModerationWarning_1A_Ln",
        ModerationNote: "partnereventstats_ModerationNote_HMIPL",
        DisabledStats: "partnereventstats_DisabledStats_G7mXJ",
      };
    },
    22661: (e) => {
      e.exports = {
        LegalFooter: "legalfooter_LegalFooter_2YSVe",
        FooterLegal: "legalfooter_FooterLegal_3Zkc7",
        mainmenu_socials_china: "legalfooter_mainmenu_socials_china_99YF1",
        mainmenu_social_box: "legalfooter_mainmenu_social_box_1PmFQ",
        mainmenu_line: "legalfooter_mainmenu_line_2idKn",
        mainmenu_links_china: "legalfooter_mainmenu_links_china_3SZUg",
        mainmenu_legal_china: "legalfooter_mainmenu_legal_china_Gz8AW",
        mainmenu_legal_pwlegal: "legalfooter_mainmenu_legal_pwlegal_1u5tI",
        mainmenu_logos_china: "legalfooter_mainmenu_logos_china_1Xxfm",
        mainmenu_china_wechat_logo:
          "legalfooter_mainmenu_china_wechat_logo_UBR1U",
        mainmenu_china_weibo_logo:
          "legalfooter_mainmenu_china_weibo_logo_24TYK",
        mainmenu_china_pw_logo: "legalfooter_mainmenu_china_pw_logo_2jNwb",
        mainmenu_china_valve_logo:
          "legalfooter_mainmenu_china_valve_logo_DTU_-",
        mainmenu_footer_spacer: "legalfooter_mainmenu_footer_spacer_yoJPd",
        china_spacer: "legalfooter_china_spacer_3QgUU",
      };
    },
    19474: (e) => {
      e.exports = {
        SuggestContainer: "storesuggest_SuggestContainer_2n5ab",
        Results: "storesuggest_Results__dpvO",
        EmptyResults: "storesuggest_EmptyResults_3BRBi",
        ResultSectionHeader: "storesuggest_ResultSectionHeader_23MUU",
        ResultRow: "storesuggest_ResultRow_3kPvF",
        AvatarImage: "storesuggest_AvatarImage_34zaz",
        GameName: "storesuggest_GameName_3DcZv",
        Label: "storesuggest_Label_21GTl",
      };
    },
    29181: (e) => {
      e.exports = { strMaxMobileWidth: "700px" };
    },
    47784: (e) => {
      e.exports = {
        YoutubePreviewImage: "youtubepreviewimage_YoutubePreviewImage_MzScK",
        YoutubePlayer: "youtubepreviewimage_YoutubePlayer_3uK6c",
      };
    },
    934: (e, t, a) => {
      "use strict";
      a.r(t),
        a.d(t, {
          BroadcastEmbeddablePopoutHeader: () => ve,
          default: () => me,
        });
      var n = a(70655),
        r = a(9669),
        s = a.n(r),
        l = a(29323),
        o = a(13271),
        i = a(67294),
        c = a(85503),
        d = a(63405),
        u = a(67833),
        m = (a(990), a(52114)),
        p = a(88335),
        _ = a(44741),
        h = a(5146),
        g = a(65924),
        v = a(13596),
        E = a(7573),
        S = a(90666),
        C = (a(54698), a(56052)),
        f = a.n(C);
      const b = (0, l.Pi)((e) => {
        const { appid: t } = e,
          a = (0, g.bJ)(),
          n = (0, i.useRef)({ include_assets: !0, include_release: !0 }),
          [r, s] = (0, m.vs)(t, n.current);
        let l = f().StoreSaleWidgetContainer_mini,
          o = f().StoreSaleWidgetImage_mini,
          c = f().StoreSaleImage_mini;
        if (!r && 2 != s)
          return i.createElement(
            "div",
            { className: l },
            i.createElement(v.V, { size: "medium" }),
            ";"
          );
        if (2 == s || !r.GetName())
          return i.createElement("div", {
            className: p.StoreSaleWidgetEmptyContainer,
          });
        const d = 8 != r.GetAppType(),
          C = (0, u.Hf)(r.GetStorePageURL(), a);
        return i.createElement(
          "div",
          { className: l },
          i.createElement(
            "div",
            { className: p.Actions },
            i.createElement(
              "a",
              { href: C, target: S.De.IN_CLIENT ? void 0 : "_blank" },
              i.createElement(
                h.W,
                { type: "app", id: t },
                i.createElement(
                  "div",
                  { className: o },
                  i.createElement("img", {
                    className: c,
                    src: r.GetAssets().GetSmallCapsuleURL(),
                  })
                )
              )
            )
          ),
          i.createElement(
            "div",
            { className: p.StoreSaleBroadcastWidgetRight },
            i.createElement(
              "div",
              { className: p.Actions },
              i.createElement(
                "a",
                { href: C, target: S.De.IN_CLIENT ? void 0 : "_blank" },
                i.createElement(
                  h.W,
                  { type: "app", id: t },
                  i.createElement(
                    "div",
                    {
                      className: (0, E.Z)(
                        p.StoreSaleWidgetTitle,
                        "StoreSaleWidgetTitle"
                      ),
                    },
                    r.GetName()
                  )
                )
              )
            ),
            i.createElement(
              "div",
              { className: p.StoreSaleWidgetRelease },
              r.GetFormattedSteamReleaseDate()
            ),
            Boolean(d) &&
              i.createElement(_.x1, {
                info: { id: t, type: "game" },
                bShowDemoButton: !0,
              })
          )
        );
      });
      var I = a(26149),
        y = a(1351),
        D = a(1245),
        w = (a(69765), a(58185), a(10767), a(81503)),
        B = a(52795),
        N = a(28976),
        T = (a(3356), a(27991)),
        G = a(159),
        A = a(71387),
        k = a(96187),
        F = a(15396),
        L = a(95598),
        x = a(28268),
        M = a(11539),
        P = a(41311),
        O = a(47808),
        R = a(64839),
        H = (a(19663), a(3389)),
        V = (a(49186), a(461)),
        U = a(17157),
        W = a.n(U);
      const Z = (0, l.Pi)((e) => {
        const { event: t } = e,
          a = t.clanSteamID.GetAccountID(),
          r = !t || !t.jsondata || !t.jsondata.broadcast_item_drops_enabled,
          l = (0, i.useRef)(null),
          [o, c] = (0, i.useState)(
            t ? V.bq.GetCreatorHome(t.clanSteamID) : null
          );
        if (
          ((0, i.useEffect)(() => {
            const e = s().CancelToken.source();
            l.current = e.cancel;
            return (
              (0, n.mG)(void 0, void 0, void 0, function* () {
                const t = H.K.InitFromClanID(a),
                  n = yield V.bq.LoadCreatorHome(t, e);
                e.token.reason || c(n);
              }),
              () => {
                l.current && l.current("BroadcastDropsDisplay: unmounting");
              }
            );
          }, [a]),
          r || !o || !o.BIsLoaded())
        )
          return null;
        const d =
          S.De.COMMUNITY_BASE_URL +
          "gid/" +
          t.jsondata.broadcast_item_drops_details_clan_accountid +
          "/partnerevents/view/" +
          t.jsondata.broadcast_item_drops_details_event_gid;
        return i.createElement(
          "div",
          { className: W().item_drop_ctn },
          i.createElement(
            "div",
            null,
            (0, P.Xx)(
              o.GetName().length > 0
                ? t.jsondata.broadcast_item_drops_min_watch_time_minutes % 60 ==
                  0
                  ? "#SalePage_WatchForDrop_Hours_CreatorNamed"
                  : "#SalePage_WatchForDrop_Minutes_CreatorNamed"
                : t.jsondata.broadcast_item_drops_min_watch_time_minutes % 60 ==
                  0
                ? "#SalePage_WatchForDrop_Hours_Developer"
                : "#SalePage_WatchForDrop_Minutes_Developer",
              t.jsondata.broadcast_item_drops_min_watch_time_minutes % 60 == 0
                ? t.jsondata.broadcast_item_drops_min_watch_time_minutes / 60
                : t.jsondata.broadcast_item_drops_min_watch_time_minutes,
              o.GetName()
            ),
            Boolean(t.jsondata.broadcast_item_drops_details_clan_accountid) &&
              i.createElement(
                "a",
                { href: d, target: S.De.IN_CLIENT ? "" : "_blank" },
                (0, P.Xx)("#SalePage_WatchForDrop_LearnMore")
              )
          )
        );
      });
      var X = a(34133),
        j = a.n(X),
        z = a(9495),
        Y = a(56175),
        J = a(47077),
        q = a(78853),
        K = a(69472),
        Q = a(88380),
        $ = a(72258),
        ee = a(23937),
        te = a(55285),
        ae = a.n(te);
      function ne(e) {
        const { steamid: t, closeModal: a } = e;
        return i.createElement(
          K.uH,
          {
            strDescription: "",
            strTitle: (0, Q.Xxn)("#Button_Share"),
            onCancel: a,
            onOK: a,
            bAlertDialog: !0,
            modalClassName: "EventDisplay_Share_Dialog",
          },
          i.createElement(re, { steamid: t }),
          i.createElement(se, { steamid: t })
        );
      }
      function re(e) {
        const { steamid: t } = e;
        return i.createElement(
          "div",
          {
            className: (0, E.Z)(j().FlexRowContainer, ae().share_controls_ctn),
          },
          i.createElement(
            x.HP,
            { toolTipContent: (0, Q.Xxn)("#EventDisplay_Share_OnFaceBook") },
            i.createElement(
              $.ns,
              { href: le(t, ee.u_.k_eFacebook), className: ae().ShareBtn },
              i.createElement("img", {
                className: (0, E.Z)(j().Button),
                src: Y.Z,
              })
            )
          ),
          i.createElement(
            x.HP,
            { toolTipContent: (0, Q.Xxn)("#EventDisplay_Share_OnTwitter") },
            i.createElement(
              $.ns,
              { href: le(t, ee.u_.k_eTwitter), className: ae().ShareBtn },
              i.createElement("img", {
                className: (0, E.Z)(j().Button),
                src: q.Z,
              })
            )
          ),
          i.createElement(
            x.HP,
            { toolTipContent: (0, Q.Xxn)("#EventDisplay_Share_OnReddit") },
            i.createElement(
              $.ns,
              { href: le(t, ee.u_.k_eReddit), className: ae().ShareBtn },
              i.createElement("img", {
                className: (0, E.Z)(j().Button),
                src: J.Z,
              })
            )
          )
        );
      }
      function se(e) {
        const { steamid: t } = e,
          a = i.createRef(),
          [n, r] = i.useState(!1),
          s = i.createRef(),
          l = i.useCallback(
            (e) => {
              a.current &&
                (a.current.select(), document.execCommand("copy"), r(!0));
            },
            [a]
          ),
          o = S.De.COMMUNITY_BASE_URL + "broadcast/watch/" + t;
        return i.createElement(
          "div",
          null,
          i.createElement(
            "div",
            {
              className: (0, E.Z)(j().FlexRowContainer, ae().linkField),
              onClick: l,
            },
            i.createElement(
              "span",
              { className: ae().LinkInputLabel },
              (0, Q.Xxn)("#EventDisplay_Share_Link")
            ),
            i.createElement("textarea", {
              className: ae().LinkInput,
              ref: a,
              value: o,
              readOnly: !0,
            }),
            Boolean(document.queryCommandSupported("copy")) &&
              i.createElement(
                x.HP,
                { toolTipContent: (0, Q.Xxn)("#ToolTip_CopyLinkToClipboard") },
                i.createElement(
                  "div",
                  {
                    className: (0, E.Z)(j().Button, j().Icon, ae().LinkButton),
                  },
                  i.createElement("img", {
                    className: ae().ClipboardIcon,
                    src: z.Z,
                  })
                )
              )
          ),
          i.createElement(
            "div",
            { ref: s, className: ae().ClipboardText },
            n ? (0, Q.Xxn)("#EventDisplay_Share_CopiedToClipboard") : ""
          )
        );
      }
      function le(e, t) {
        return S.De.COMMUNITY_BASE_URL + "broadcast/share/" + e + "?site=" + t;
      }
      var oe,
        ie = a(53622),
        ce = a(59650);
      const de = {
        list: [
          { appid: 444090, url: "https://steam.tv/paladins" },
          { appid: 386360, url: "https://steam.tv/smite" },
          { appid: 813820, url: "https://steam.tv/realmroyale" },
          {
            appid: 583950,
            url: "https://steam.tv/artifact",
            broadcasterAccountID: 912972716,
          },
          {
            appid: 570,
            url: "https://steam.tv/dota",
            broadcasterAccountID: 238221269,
          },
          {
            appid: 1025790,
            url: "https://steam.tv/steamawards",
            broadcasterAccountID: 934427243,
          },
          {
            appid: 730,
            url: "https://steam.tv/csgo",
            broadcasterAccountID: 927819071,
          },
        ],
      };
      let ue = (oe = class extends i.Component {
        constructor() {
          super(...arguments),
            (this.m_cancelSignal = s().CancelToken.source()),
            (this.m_bMarkedUsabilitySeen = !1),
            (this.state = {
              bShowPopoutHeader: !1,
              bExpanded: !1,
              bLoadingPreference: !0,
              style: {
                maxHeight: "0vh",
                overflow: "hidden",
                transition: "max-height 1s ease-in-out",
              },
              innerStyle: {
                maxHeight: "0vh",
                overflow: "hidden",
                transition: "max-height 1s ease-in-out",
              },
              bStartMuted: !0,
            });
        }
        static IsBroadcastAllowed() {
          return S.De.EREALM != y.IN.k_ESteamRealmChina && !S.De.IN_GAMEPADUI;
        }
        componentDidMount() {
          return (0, n.mG)(this, void 0, void 0, function* () {
            oe.IsBroadcastAllowed() &&
              ((0, T.nf)(null),
              yield N.ai
                .Get()
                .LoadBIsEmbeddedBroadcastHidden(this.m_cancelSignal),
              this.m_cancelSignal.token.reason ||
                this.setState({
                  bLoadingPreference: !1,
                  bExpanded: !N.ai
                    .Get()
                    .BIsEmbeddedBroadcastHiddenByDefaultUserSettings(),
                  innerStyle: Object.assign(
                    Object.assign({}, this.state.innerStyle),
                    {
                      maxHeight: N.ai
                        .Get()
                        .BIsEmbeddedBroadcastHiddenByDefaultUserSettings()
                        ? "0vh"
                        : "100vh",
                    }
                  ),
                }),
              yield this.props.bIsPreview &&
              this.props.accountIDs &&
              !this.props.event.BUsesContentHubForItemSource()
                ? N.ai.Get().HintLoadEmbeddablePreviewStreams(this.props)
                : N.ai.Get().HintLoadEmbeddableStreams(this.props),
              this.props.nAppIDVOD &&
                (N.ai
                  .Get()
                  .SetupEmbeddableVOD(this.props, !this.props.bSkipPreRoll),
                this.props.bSkipPreRoll && this.PlayTopNonVOD()),
              window.setTimeout(() => {
                this.m_cancelSignal.token.reason ||
                  this.setState({
                    style: Object.assign(Object.assign({}, this.state.style), {
                      maxHeight: "100vh",
                    }),
                  });
              }, 10));
          });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("BroadcastEmbeddable component unmounted");
        }
        ToggleBroadcastExpandShrink() {
          let e = N.ai.Get().GetPlayReadyStream(this.props);
          const t = this.state.bExpanded,
            a = B.c9.GetOrCreateBroadcastInfo(e.steamid).m_nAppID;
          (0, N.wx)(a, t ? 2 : 3, e.snr),
            t && (0, D.X)() && (0, D.X)().AddEvent(1005),
            window.setTimeout(
              () =>
                this.setState({
                  innerStyle: Object.assign(
                    Object.assign({}, this.state.innerStyle),
                    { maxHeight: t ? "0vh" : "100vh" }
                  ),
                }),
              10
            ),
            t ||
              this.setState({ bExpanded: !this.state.bExpanded }, () =>
                N.ai.Get().SetEmbeddedStreamCollapsed(!this.state.bExpanded)
              );
        }
        OnShrinkTransitionEnd() {
          "0vh" === this.state.innerStyle.maxHeight &&
            this.setState({ bExpanded: !1 }, () =>
              N.ai.Get().SetEmbeddedStreamCollapsed(!0)
            );
        }
        onStreamSelect(e) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            this.setState({ bStartMuted: !1 }),
              N.ai.Get().GetPlayReadyStream(this.props).accountid !=
                e.accountid &&
                (yield N.ai.Get().AttemptToPlayStream(this.props, e));
          });
        }
        PlayTopNonVOD() {
          return (0, n.mG)(this, void 0, void 0, function* () {
            this.setState({ bStartMuted: !1 });
            const e = N.ai
              .Get()
              .GetStreams(this.props)
              .filter(
                (e) =>
                  !this.props.fnFilterStreams || this.props.fnFilterStreams(e)
              );
            (0, N.rg)(e);
            for (const t of e)
              if (!t.nAppIDVOD)
                return void (yield N.ai
                  .Get()
                  .AttemptToPlayStream(this.props, t));
          });
        }
        ConstructSidePanels(e, t) {
          let a = {
            leftPanel: null,
            rightPanel: null,
            bRightPanelArtworkOrEmpty: !0,
          };
          if (this.props.bWidePlayer) return a;
          const n = N.ai.Get().GetConcurrentStreams(this.props) > 1;
          let r = B.c9.GetOrCreateBroadcastInfo(e.steamid).m_nAppID,
            s = i.createElement(
              "div",
              { className: W().rightPanel },
              i.createElement(ge, { key: "right" + r, ImgUrl: e.right_panel })
            ),
            l = i.createElement(ge, { key: "left" + r, ImgUrl: e.left_panel });
          if (r < 11) {
            const t = w.C.GetAppIDListForBroadcasterSteamID(e.steamid);
            t && 1 === t.length && (r = t[0]);
          }
          return (
            !(
              (this.props.promotionName ||
                this.props.bIsPreview ||
                this.props.subid ||
                this.props.bundleid) &&
              r >= 11
            ) ||
              (this.props.event &&
                this.props.event.jsondata.broadcast_force_banner) ||
              ((s = i.createElement(b, {
                key: "mini" + e.accountid,
                appid: r,
              })),
              (a.bRightPanelArtworkOrEmpty = !1)),
            n && !t
              ? ((a.leftPanel = i.createElement(Se, {
                  broadcastEmbedContext: this.props,
                  key: "selector" + r,
                  curStream: e,
                  onStreamSelect: this.onStreamSelect,
                  fnFilterStreams: this.props.fnFilterStreams,
                  bShowCapsuleArt: this.props.bShowCapsuleArt,
                })),
                (a.rightPanel = s))
              : t
              ? ((a.leftPanel = i.createElement("div", null)),
                (a.rightPanel = i.createElement(be, {
                  stream: e,
                  orientation: "rightside",
                })),
                (a.bRightPanelArtworkOrEmpty = !1))
              : ((a.leftPanel = l), (a.rightPanel = s)),
            a
          );
        }
        MarkBroadcastSeen() {
          this.m_bMarkedUsabilitySeen ||
            ((this.m_bMarkedUsabilitySeen = !0),
            (0, D.X)() && (0, D.X)().AddEvent(1004));
        }
        render() {
          if (!oe.IsBroadcastAllowed() || this.state.bLoadingPreference)
            return null;
          let e = N.ai.Get().GetPlayReadyStream(this.props);
          if (e) {
            this.MarkBroadcastSeen();
            let t = "show" === N.ai.Get().GetChatVisibility();
            const {
              event: a,
              language: n,
              fnRenderBroadcastContext: r,
            } = this.props;
            a &&
              (e = Object.assign(Object.assign({}, e), {
                left_panel: a.GetImageURL(
                  "broadcast_left",
                  n || (0, I.jM)(S.De.LANGUAGE)
                ),
                right_panel: a.GetImageURL(
                  "broadcast_right",
                  n || (0, I.jM)(S.De.LANGUAGE)
                ),
                store_title: a.GetBroadcastTitle(n || (0, I.jM)(S.De.LANGUAGE)),
                broadcast_chat_visibility: a.GetBroadcastChatVisibility(),
              }));
            let s = this.ConstructSidePanels(e, t),
              l = e.store_title ? e.store_title : e.title,
              o = N.ai.Get().GetConcurrentStreams(this.props) > 1;
            const c = () => {
              var t, a;
              e.nAppIDVOD && this.PlayTopNonVOD(),
                null === (a = (t = this.props).fnOnVideoEnd) ||
                  void 0 === a ||
                  a.call(t);
            };
            a && a.jsondata && a.jsondata.broadcast_gradient_inner_color,
              a && a.jsondata && a.jsondata.broadcast_gradient_outer_color;
            return i.createElement(
              i.Fragment,
              null,
              i.createElement(
                "div",
                {
                  className: "broadcast_embed_top_ctn_trgt",
                  style: this.state.style,
                },
                i.createElement(
                  "div",
                  {
                    className: (0, E.Z)({
                      [W().bordered_container]: !0,
                      [W().Event]: Boolean(a),
                      broadcast_brd_ctn_trgt: !0,
                    }),
                  },
                  i.createElement(
                    "div",
                    {
                      className: (0, E.Z)(
                        W().bordered_title,
                        "bordered_title_trgt"
                      ),
                    },
                    i.createElement(A.xP, null),
                    l,
                    i.createElement(
                      "div",
                      { className: W().bordered_corner_container },
                      !this.state.bExpanded &&
                        i.createElement("div", {
                          className: W().broadcast_settings_icon,
                          "data-tooltip-text": (0, P.Xx)(
                            "#StoreBroadcast_Change_store_Broadcast_settings"
                          ),
                          onClick: () =>
                            window.open(
                              `${S.De.STORE_BASE_URL}account/preferences/#store_broadcast_settings`
                            ),
                        }),
                      i.createElement("div", {
                        className: this.state.bExpanded
                          ? W().bordered_corner_expanded
                          : W().bordered_corner_shrinked,
                        "data-tooltip-text": (0, P.Xx)(
                          "#StoreBroadcast_Hide_Tooltip"
                        ),
                        onClick: this.ToggleBroadcastExpandShrink,
                      })
                    ),
                    Boolean(e.gamedata_subtitle) &&
                      i.createElement(
                        "div",
                        { className: W().bordered_subtitle },
                        e.gamedata_subtitle
                      )
                  ),
                  this.state.bExpanded &&
                    i.createElement(
                      "div",
                      {
                        className: (0, E.Z)({
                          [W().container]: !0,
                          embeddable_ctn_trgt: !0,
                          multistream: o,
                          broadcast_right_panel_simple:
                            s.bRightPanelArtworkOrEmpty,
                          broadcast_chat_expanded: t,
                        }),
                        style: Object.assign({}, this.state.innerStyle),
                        onTransitionEnd: this.OnShrinkTransitionEnd,
                      },
                      s.leftPanel,
                      i.createElement(pe, {
                        stream: e,
                        bStartMuted: this.state.bStartMuted,
                        fnRenderBroadcastContext: r,
                        fnOnVideoEnd: c,
                        bWidePlayer: this.props.bWidePlayer,
                      }),
                      s.rightPanel,
                      this.state.bExpanded &&
                        i.createElement(he, { stream: e, bMultistream: o })
                    )
                ),
                Boolean(
                  a && a.jsondata && a.jsondata.broadcast_item_drops_enabled
                ) && i.createElement(Z, { event: a }),
                this.state.bExpanded &&
                  i.createElement(
                    "div",
                    { className: `${a ? W().Event : ""}` },
                    i.createElement(he, { stream: e, bMultistream: o })
                  ),
                i.createElement("div", { className: W().clear_div })
              )
            );
          }
          return i.createElement("div", { className: "NoBroadcastAvailable" });
        }
      });
      (0, n.gn)([R.ak], ue.prototype, "ToggleBroadcastExpandShrink", null),
        (0, n.gn)([R.ak], ue.prototype, "OnShrinkTransitionEnd", null),
        (0, n.gn)([R.ak], ue.prototype, "onStreamSelect", null),
        (0, n.gn)([R.ak], ue.prototype, "PlayTopNonVOD", null),
        (ue = oe = (0, n.gn)([l.Pi], ue));
      const me = ue;
      class pe extends i.Component {
        constructor(e) {
          super(e),
            (this.m_iVideoContainerRef = i.createRef()),
            (this.state = {
              bPopout: !1,
              bPreventPopup: window.screen.width <= 768,
            });
        }
        CloseBroadcastPopup() {
          const e = B.c9.GetOrCreateBroadcastInfo(
            this.props.stream.steamid
          ).m_nAppID;
          (0, N.wx)(e, 7, this.props.stream.snr),
            (0, D.X)() && (0, D.X)().AddEvent(1006),
            this.setState({ bPopout: !1, bPreventPopup: !0 });
        }
        OnEnter() {
          !this.state.bPreventPopup &&
            this.state.bPopout &&
            this.setState({ bPopout: !1 });
        }
        OnLeave() {
          this.state.bPreventPopup ||
            this.state.bPopout ||
            this.setState({ bPopout: !0 });
        }
        render() {
          return i.createElement(
            "div",
            { className: W().wrapper },
            i.createElement(
              M.h,
              { onEnter: this.OnEnter, onLeave: this.OnLeave },
              i.createElement(
                "div",
                {
                  className: (0, E.Z)({
                    [W().video_placeholder]: !0,
                    video_placeholder_trgt: !0,
                    [W().WidePlayer]: this.props.bWidePlayer,
                  }),
                  ref: this.m_iVideoContainerRef,
                },
                i.createElement(
                  "div",
                  {
                    className: this.state.bPopout
                      ? W().broadcast_floating
                      : W().video_container,
                  },
                  this.state.bPopout &&
                    i.createElement(ve, {
                      steamIDBroadcast: this.props.stream.steamid,
                      OnPreventPopup: this.CloseBroadcastPopup,
                    }),
                  i.createElement(
                    "div",
                    { className: W().BroadcastPlayerContainer },
                    i.createElement(d.default, {
                      steamIDBroadcast: this.props.stream.steamid,
                      watchLocation: 6,
                      bStartMuted: this.props.bStartMuted,
                      fnRenderBroadcastContext:
                        this.props.fnRenderBroadcastContext,
                      fnOnVideoEnd: this.props.fnOnVideoEnd,
                      nAppIDVOD: this.props.stream.nAppIDVOD,
                    })
                  )
                )
              )
            )
          );
        }
      }
      function _e(e) {
        const { stream: t } = e,
          [a] = (0, o.SZ)(() => [t.steamid]),
          n = B.c9.GetOrCreateBroadcastInfo(a).m_nAppID,
          r = de.list.find(
            (e) =>
              e.appid == n &&
              (!e.broadcasterAccountID || e.broadcasterAccountID == t.accountid)
          );
        if (r) {
          let e = r.url;
          return (
            (S.De.IN_CLIENT ||
              navigator.userAgent.indexOf("Valve Steam Client") >= 0 ||
              navigator.userAgent.indexOf("Valve Steam GameOverlay") >= 0 ||
              navigator.userAgent.indexOf("Valve Steam Tenfoot") >= 0) &&
              (e = "steam://openurl/" + e),
            i.createElement(
              "a",
              { href: e },
              (0, P.Xx)("#Broadcast_Embed_Watch_With_Frieds_SteamTV")
            )
          );
        }
        {
          const e = S.De.COMMUNITY_BASE_URL + "broadcast/watch/" + a;
          return i.createElement(
            x.HP,
            {
              toolTipContent: (0, P.Xx)("#BroadcastWatch_View_Broadcast_Page"),
            },
            i.createElement(
              "a",
              { href: e, className: W().external_link },
              i.createElement(L.dLw, null)
            )
          );
        }
      }
      (0, n.gn)([R.ak], pe.prototype, "CloseBroadcastPopup", null),
        (0, n.gn)([R.ak], pe.prototype, "OnEnter", null),
        (0, n.gn)([R.ak], pe.prototype, "OnLeave", null);
      let he = class extends i.Component {
        OnToggleChat(e) {
          e.preventDefault();
          const t = B.c9.GetOrCreateBroadcastInfo(
            this.props.stream.steamid
          ).m_nAppID;
          (0, N.wx)(
            t,
            "show" === N.ai.Get().GetChatVisibility() ? 5 : 4,
            this.props.stream.snr
          ),
            N.ai.Get().ToggleChatVisibility();
        }
        onWatchBroadcastPage() {
          const e = B.c9.GetOrCreateBroadcastInfo(
            this.props.stream.steamid
          ).m_nAppID;
          (0, N.wx)(e, 9, this.props.stream.snr);
        }
        render() {
          const e = "remove" != N.ai.Get().GetChatVisibility(),
            t = "hide" === N.ai.Get().GetChatVisibility(),
            a = !this.props.stream.nAppIDVOD,
            n = a;
          let r = Number.parseInt(
            "" +
              B.c9.GetOrCreateBroadcastInfo(this.props.stream.steamid)
                .m_nViewerCount
          );
          return i.createElement(
            "div",
            { className: (0, E.Z)(W().viewer_bar, "viewer_bar") },
            i.createElement(
              "div",
              { className: (0, E.Z)(W().viewer_count, "viewer_count") },
              i.createElement(L.lsH, null),
              (0, O.AV)(r)
            ),
            i.createElement(
              "div",
              { className: (0, E.Z)(W().viewer_links, "viewer_links") },
              Boolean(e && !t && this.props.bMultistream) &&
                i.createElement(
                  "div",
                  { className: W().chat_link },
                  i.createElement(
                    "a",
                    {
                      href: "#",
                      className: W().ChatToggle,
                      onClick: this.OnToggleChat,
                    },
                    (0, P.Xx)("#sale_three_section_show_streams")
                  )
                ),
              e &&
                i.createElement(
                  "div",
                  { className: W().chat_link },
                  i.createElement(L.IWH, null),
                  i.createElement(
                    "a",
                    {
                      href: "#",
                      className: W().ChatToggle,
                      onClick: this.OnToggleChat,
                    },
                    (0, P.Xx)(
                      t
                        ? "#sale_three_section_show_chat"
                        : "#sale_three_section_hide_chat"
                    )
                  )
                ),
              n &&
                i.createElement(
                  "div",
                  { className: W().chat_link },
                  i.createElement(L.mBz, null),
                  i.createElement(
                    "a",
                    {
                      href: "#",
                      className: W().ChatToggle,
                      onClick: (e) =>
                        (0, ce.AM)(
                          i.createElement(ne, {
                            steamid: this.props.stream.steamid,
                          }),
                          (0, ie.RA)(e)
                        ),
                    },
                    (0, P.Xx)("#Broadcast_ShareBroadcast")
                  )
                ),
              i.createElement(
                x.HP,
                {
                  toolTipContent: (0, P.Xx)(
                    "#StoreBroadcast_Change_store_Broadcast_settings"
                  ),
                },
                i.createElement(
                  "a",
                  {
                    href:
                      S.De.STORE_BASE_URL +
                      "account/preferences/#store_broadcast_settings",
                    target: S.De.IN_CLIENT ? void 0 : "_blank",
                    className: W().settings_link,
                  },
                  i.createElement(L.Zrf, null)
                )
              ),
              a && i.createElement(_e, Object.assign({}, this.props))
            )
          );
        }
      };
      (0, n.gn)([R.ak], he.prototype, "OnToggleChat", null),
        (0, n.gn)([R.ak], he.prototype, "onWatchBroadcastPage", null),
        (he = (0, n.gn)([l.Pi], he));
      class ge extends i.Component {
        render() {
          let e = this.props.ImgUrl;
          return i.createElement(
            i.Fragment,
            null,
            e &&
              i.createElement("img", {
                className: W().side_panels,
                src: this.props.ImgUrl,
              }),
            !e && i.createElement("div", { className: W().side_panels })
          );
        }
      }
      const ve = (0, l.Pi)((e) => {
        const { steamIDBroadcast: t } = e,
          a = B.c9.GetOrCreateBroadcastInfo(t).m_nAppID,
          [n] = (0, m.vs)(a, {});
        return i.createElement(
          "div",
          { className: [W().PopOutVideoTitleBar, W().NoSeslect].join(" ") },
          Boolean(n)
            ? i.createElement(
                h._,
                { type: "app", id: a, className: W().PopOutVideoTitleText },
                (0, P.Xx)("#StoreBroadcast_Detault_popout_Title")
              )
            : i.createElement(
                "div",
                { className: W().PopOutVideoTitleText },
                (0, P.Xx)("#StoreBroadcast_Detault_popout_Title")
              ),
          i.createElement(
            "button",
            {
              className: W().PopOutVideoCloseButton,
              "data-tooltip-text": (0, P.Xx)(
                "#StoreBroadcast_close_broadcast_popup"
              ),
              onClick: e.OnPreventPopup,
            },
            i.createElement(L.X, null)
          )
        );
      });
      function Ee(e, t) {
        var a;
        const n = B.c9.GetOrCreateBroadcastInfo(t.steamid).m_nAppID,
          r = G.Z.Get().GetApp(n);
        return e &&
          (null === (a = null == r ? void 0 : r.GetAssets()) || void 0 === a
            ? void 0
            : a.GetHeaderURL())
          ? parseInt(W().strStreamIconCapsuleArtHeight)
          : parseInt(W().strStreamIconScreenshotArtHeight);
      }
      function Se(e) {
        const {
            curStream: t,
            onStreamSelect: a,
            fnFilterStreams: n,
            bShowCapsuleArt: r,
            broadcastEmbedContext: s,
          } = e,
          l = (0, i.useRef)(),
          o = (0, i.useMemo)(() => {
            const e = N.ai
              .Get()
              .GetStreams(s)
              .filter((e) => !n || n(e));
            return (0, N.rg)(e), e;
          }, [s, n]);
        return (
          (0, i.useEffect)(() => {
            if (l && l.current) {
              const e = o
                .map((e) => B.c9.GetOrCreateBroadcastInfo(e.steamid).m_nAppID)
                .filter(Boolean);
              G.Z.Get()
                .QueueMultipleAppRequests(e, { include_assets: !0 })
                .then(() => {
                  if (l.current) {
                    let e = 0;
                    for (const a of o) {
                      if (t.accountid == a.accountid) break;
                      e += Ee(r, a);
                    }
                    l.current.scrollTop = e;
                  }
                });
            }
          }, [o, r, t.accountid, l]),
          i.createElement(
            "div",
            {
              ref: l,
              className: (0, E.Z)({
                [W().side_panels]: !0,
                side_panels: !0,
                [W().multistream]: !0,
                [W().scrollingstreams]: o.length > 3,
              }),
            },
            o.map((e) => {
              var n;
              return i.createElement(Ce, {
                key: null !== (n = e.accountid) && void 0 !== n ? n : e.steamid,
                stream: e,
                bSelected: t.accountid == e.accountid,
                onStreamSelect: a,
                bShowCapsuleArt: r,
              });
            })
          )
        );
      }
      function Ce(e) {
        var t;
        const {
            onStreamSelect: a,
            bSelected: n,
            stream: r,
            bShowCapsuleArt: s,
          } = e,
          l = (0, o.SZ)(
            () => B.c9.GetOrCreateBroadcastInfo(r.steamid).m_nAppID
          ),
          [c] = (0, m.vs)(null !== (t = r.nAppIDVOD) && void 0 !== t ? t : l, {
            include_assets: !0,
          });
        if (!(0, N.A$)(r)) return null;
        const d = s && (null == c ? void 0 : c.GetAssets().GetHeaderURL()),
          u = Number.parseInt("" + r.viewer_count),
          p = !Number.isNaN(u),
          _ = !!r.nAppIDVOD && (null == c ? void 0 : c.GetName());
        return i.createElement(
          "div",
          {
            className: (0, E.Z)({
              [W().stream_icon_and_viewer_container]: !0,
              [W().stream_featured]:
                r.current_selection_priority == N.VA.k_eFeatured,
              [W().display_capsule_art]: Boolean(d),
            }),
          },
          i.createElement(
            h.W,
            { type: "app", id: l },
            i.createElement(
              F.Y,
              {
                className: W().stream_icon_container,
                onClick: () => a && a(r),
                rootMargin: "100px 0px 100px 0px",
              },
              i.createElement(fe, {
                strThumbnail: r.thumbnail_http_address,
                bSelected: n,
                strCapsuleArtURL: d,
              }),
              n && i.createElement("div", { className: W().stream_icon_arrow })
            )
          ),
          i.createElement(
            "div",
            { className: (0, E.Z)(W().viewer_count, !p && W().vod_title) },
            p
              ? i.createElement(
                  i.Fragment,
                  null,
                  i.createElement(L.lsH, null),
                  " ",
                  (0, O.AV)(u)
                )
              : _
          )
        );
      }
      function fe(e) {
        const { strCapsuleArtURL: t, strThumbnail: a, bSelected: n } = e,
          r = n ? W().stream_icon_selected : W().stream_icon;
        if (t) {
          const e = [t];
          return i.createElement(
            i.Fragment,
            null,
            i.createElement("img", {
              className: (0, E.Z)(r, W().stream_icon_hide_on_hover),
              src: t,
            }),
            i.createElement(k.J, {
              className: (0, E.Z)(r, W().stream_icon_show_on_hover),
              srcs: e,
            })
          );
        }
        return i.createElement("img", { className: r, src: a });
      }
      function be(e) {
        const { stream: t, orientation: a } = e,
          n = "below" == a,
          r = (0, o.SZ)(() => B.c9.GetBroadcast(t.steamid));
        return r
          ? i.createElement(
              "div",
              {
                className: (0, E.Z)({
                  [W().chat_below_container]: n,
                  [W().chat_rightside_container]: !n,
                  [W().store_chat_ctn]: !0,
                }),
              },
              i.createElement(
                "div",
                { className: W().ChatContainer },
                i.createElement(c.c, {
                  emoticonStore: N.D$,
                  watchLocation: 6,
                  steamID: t.steamid,
                  broadcastID: r.m_ulBroadcastID,
                })
              )
            )
          : null;
      }
    },
    88380: (e, t, a) => {
      "use strict";
      a.d(t, {
        DeH: () => s.De,
        kQm: () => s.kQ,
        Xxn: () => R.Xx,
        L7r: () => s.L7,
        NWM: () => H.NW,
      });
      var n = a(54698),
        r = a(7200),
        s = a(90666),
        l = (a(28578), a(934), a(70655)),
        o = a(9669),
        i = a.n(o),
        c = a(22188),
        d = a(29323),
        u = a(13271),
        m = a(27661),
        p = a(67294),
        _ = a(78587),
        h = a(26149),
        g = a(80315),
        v = a(49186),
        E = a(3389),
        S = (a(68002), a(24399)),
        C = a(76776),
        f = a(35118),
        b = a(75007),
        I = a(20562),
        y = a(5525),
        D = a(9915),
        w = a(35017),
        B = a(159),
        N = a(32548),
        T = a(73727),
        G = a(48341),
        A = a(34133),
        k = a.n(A),
        F = a(95598),
        L = a(28268),
        x = a(72258),
        M = a(77520),
        P = a(7573),
        O = a(53622),
        R = a(41311),
        H = a(64839),
        V = a(59650),
        U = a(52822),
        W = (a(19663), a(7209)),
        Z = a(69472),
        X = a(13596),
        j = a(22093),
        z = a(77475),
        Y = a(7238),
        J = a.n(Y),
        q = a(3044);
      const K = (e) =>
          p.createElement(
            Z.e1,
            { onEscKeypress: e.closeModal },
            p.createElement(
              N.S,
              null,
              p.createElement(
                G.VY,
                null,
                p.createElement(
                  G.h4,
                  null,
                  (0, R.Xx)("#EventCurator_BrowseDialog_Title")
                ),
                p.createElement(
                  G.uT,
                  null,
                  p.createElement(
                    "div",
                    null,
                    (0, R.Xx)("#EventCurator_BrowseDialog_Desc")
                  ),
                  p.createElement($, null)
                ),
                p.createElement(
                  G.$_,
                  null,
                  p.createElement(
                    G.KM,
                    { onClick: e.closeModal },
                    (0, R.Xx)("#Button_Dismiss")
                  )
                )
              )
            )
          ),
        Q = (e) =>
          p.createElement(
            be,
            {
              title: (0, R.Xx)("#EventCurator_BrowseDialog_Title"),
              description: (0, R.Xx)("#EventCurator_BrowseDialog_Desc"),
            },
            p.createElement($, null)
          ),
        $ = (e) => {
          const [t, a] = p.useState(W.E.Get().IsLoaded());
          p.useEffect(() => {
            if (!t) {
              (() =>
                (0, l.mG)(void 0, void 0, void 0, function* () {
                  yield W.E.Get().WaitForInitialLoad(), a(!0);
                }))();
            }
          }, [t]);
          let r = new Array();
          if (t) {
            R.Yt.GetELanguageFallbackOrder([n.IN.k_ESteamRealmGlobal]).forEach(
              (e) =>
                r.push(p.createElement(ee, { key: "curlang" + e, lang: e }))
            );
          }
          return p.createElement(
            p.Fragment,
            null,
            t
              ? p.createElement(p.Fragment, null, r)
              : p.createElement(X.V, {
                  size: "medium",
                  position: "center",
                  string: (0, R.Xx)("#Loading"),
                })
          );
        },
        ee = (e) => {
          const t = W.E.Get().GetCuratorsForLang(e.lang);
          if (!t) return null;
          const a = t
            .map((e) => C.sV.GetClanInfoByClanAccountID(e.clanAccountID))
            .filter((e) => Boolean(e));
          if (0 == a.length) return null;
          a.sort((e, t) => e.group_name.localeCompare(t.group_name));
          const n = a.map((e) =>
            p.createElement(ae, {
              clanInfo: e,
              key: "curatorbrowse_" + e.clanAccountID,
              layout: "row",
            })
          );
          return p.createElement(
            "div",
            null,
            p.createElement(
              "div",
              { className: J().LanguageHeader },
              (0, R.Xx)(
                "#EventCurator_BrowseDialog_LangCurator",
                (0, R.Xx)("#Language_" + (0, h.j_)(e.lang))
              )
            ),
            n
          );
        },
        te = (0, d.Pi)((e) => {
          const t = C.sV.GetClanInfoByClanAccountID(e.clanid);
          if (!t) return p.createElement("div", null, e.children);
          const a = {
              clan_account_id: t.clanAccountID,
              name: t.group_name,
              type: "developer",
            },
            n = p.createElement(
              "div",
              { className: J().CuratorHoverContainer },
              p.createElement(j.oZ, {
                creatorID: a,
                bSmallFormat: !0,
                bHideCreatorType: !0,
                bHideFollowButton: !0,
              })
            );
          return p.createElement(
            L.HP,
            { toolTipContent: n, strTooltipClassname: J().CuratorHoverToolTip },
            e.children
          );
        }),
        ae = (e) => {
          const [t, a] = p.useState(!1),
            n = () => {
              (0, V.AM)(
                p.createElement(Z.JX, {
                  strDescription: (0, R.Xx)("#EventCurator_NoEventsFound_Body"),
                  strTitle: (0, R.Xx)("#EventCurator_NoEventsFound_Title"),
                }),
                window
              ),
                a(!1);
            },
            { clanInfo: s, layout: l } = e,
            o = "row" === l ? J().CuratorInfoRow : J().CuratorInfoIcon,
            i = p.createElement(
              te,
              { clanid: s.clanSteamID.GetAccountID() },
              p.createElement(
                "div",
                {
                  className: (0, P.Z)(
                    k().FlexRowContainer,
                    J().CuratorInfoTitleCtn
                  ),
                  onClick: () => a(!0),
                },
                p.createElement("img", {
                  className: J().CuratorInfoImg,
                  src: s.avatar_full_url,
                  alt: s.group_name,
                }),
                p.createElement(
                  "div",
                  { className: J().CuratorInfoName },
                  s.group_name
                )
              )
            );
          return p.createElement(
            "div",
            { className: (0, P.Z)(k().FlexRowWrapSpaceBetweenContainer, o) },
            t
              ? p.createElement(
                  N.S,
                  null,
                  p.createElement(q.x, {
                    onEventNotFound: n,
                    appid: 0,
                    clanSteamID: e.clanInfo.clanSteamID,
                    trackingLocation: 8,
                    eventModel: void 0,
                    announcementGID: void 0,
                    partnerEventStore: r.j1,
                    showAppHeader: !0,
                    closeModal: () => a(!1),
                  })
                )
              : null,
            p.createElement("div", { onClick: () => a(!0) }, i),
            p.createElement(
              "div",
              {
                className: (0, P.Z)(
                  k().FlexRowContainer,
                  J().CuratorInfoActionCtn
                ),
              },
              p.createElement(z.C4, {
                clanAccountID: s.clanAccountID,
                className: J().CuratorInfoFollow,
              })
            )
          );
        };
      var ne = a(71869),
        re = a.n(ne),
        se = a(30381),
        le = a.n(se);
      class oe {
        constructor() {
          this.m_dateLoadTime = y.JW.GetTimeNowWithOverrideAsDate();
        }
        IsCurrentlyVisible(e) {
          return (
            (!e.startVisible || e.startVisible <= this.m_dateLoadTime) &&
            (!e.endVisible || e.endVisible >= this.m_dateLoadTime)
          );
        }
        static IsCurrentlyActive(e) {
          const t = y.JW.GetTimeNowWithOverrideAsDate();
          return (
            (!e.startEvent || e.startEvent <= t) &&
            (!e.endEvent || e.endEvent >= t)
          );
        }
        static LocalizeDateString(e) {
          if (!e.startEvent) return null;
          const t = e.startEvent.toLocaleDateString(
            R.Yt.GetPreferredLocales(),
            { month: "long", day: "numeric" }
          );
          if (!e.endEvent) return t;
          const a = {
            month:
              e.startEvent.getMonth() != e.endEvent.getMonth()
                ? "long"
                : void 0,
            day: "numeric",
          };
          return `${t} - ${e.endEvent.toLocaleDateString(
            R.Yt.GetPreferredLocales(),
            a
          )}`;
        }
        GetVisibleSpecialEvents() {
          return [
            {
              sLocToken: "#NewsHubSpecialEvent_GameFestival",
              startVisible: new Date(
                1e3 * le()("2020-06-16T14:00:00-07:00").unix()
              ),
              endVisible: new Date(
                1e3 * le()("2020-06-22T10:00:00-07:00").unix()
              ),
              startEvent: new Date(
                1e3 * le()("2020-06-16T10:00:00-07:00").unix()
              ),
              endEvent: new Date(
                1e3 * le()("2020-06-22T10:00:00-07:00").unix()
              ),
              newshubUrl: "news/collection/GameFestival2020",
            },
          ].filter((e) => this.IsCurrentlyVisible(e));
        }
      }
      const ie = new oe();
      class ce extends p.Component {
        render() {
          const { specialEvent: e } = this.props,
            t = window.location.href === s.De.STORE_BASE_URL + e.newshubUrl,
            a = oe.IsCurrentlyActive(e),
            n = oe.LocalizeDateString(e);
          return p.createElement(
            T.rU,
            { to: "/" + e.newshubUrl },
            p.createElement(
              "div",
              {
                className: (0, P.Z)(
                  re().SpecialEvent,
                  t && re().SpecialEventOnPage,
                  a && re().SpecialEventActive
                ),
              },
              p.createElement(
                "div",
                { className: re().SpecialEventTitle },
                (0, R.Xx)(e.sLocToken)
              ),
              n &&
                p.createElement("div", { className: re().SpecialEventTime }, n)
            )
          );
        }
      }
      class de extends p.Component {
        render() {
          const e = ie.GetVisibleSpecialEvents();
          return 0 === e.length
            ? null
            : p.createElement(
                "div",
                { className: re().SpecialEventListGroup },
                p.createElement(
                  "div",
                  { className: re().SpecialEventListTitle },
                  (0, R.Xx)("#Events_SpecialEvents")
                ),
                p.createElement(
                  "div",
                  { className: re().SpecialEventList },
                  e.map((e) =>
                    p.createElement(ce, { key: e.sLocToken, specialEvent: e })
                  )
                )
              );
        }
      }
      var ue = a(23937),
        me = a(31933),
        pe = a(97261),
        _e = a(22661),
        he = a.n(_e);
      function ge() {
        return (0, R.Np)(new Date());
      }
      const ve = (e) => {
          const t = s.De.PUBLIC_SHARED_URL + "images/";
          return p.createElement(
            "div",
            { className: he().LegalFooter },
            p.createElement(
              "div",
              { className: he().mainmenu_links_china },
              p.createElement(
                "a",
                { href: s.De.STORE_BASE_URL + "about" },
                "关于蒸汽平台"
              ),
              "  |  ",
              p.createElement(
                "a",
                { href: s.De.STORE_BASE_URL + "steam_refunds" },
                "退款政策"
              ),
              "  |  ",
              p.createElement(
                "a",
                { href: s.De.STORE_BASE_URL + "subscriber_agreement" },
                "软件许可服务协议"
              ),
              "  |  ",
              p.createElement("br", null),
              p.createElement(
                "a",
                { href: s.De.STORE_BASE_URL + "privacy_agreement" },
                "个人信息保护政策"
              ),
              "  |  ",
              p.createElement(
                "a",
                {
                  href: "https://about.steamchina.com/content_report.html",
                  target: "_blank",
                  rel: "noreferrer",
                },
                "不良内容举报投诉"
              ),
              "  |  ",
              p.createElement(
                "a",
                {
                  href: "https://about.steamchina.com/infringement_report.html",
                  target: "_blank",
                  rel: "noreferrer",
                },
                "侵权投诉"
              ),
              "  |  ",
              p.createElement(
                "a",
                {
                  href: "https://about.steamchina.com/parentguardianship_agreement.html",
                  target: "_blank",
                  rel: "noreferrer",
                },
                "家长监护"
              )
            ),
            p.createElement("div", { className: he().mainmenu_line }),
            p.createElement(
              "div",
              { className: he().mainmenu_logos_china },
              p.createElement(
                "a",
                {
                  href: "https://www.wanmei.com/",
                  target: "_blank",
                  rel: "noreferrer",
                },
                p.createElement("img", {
                  className: he().mainmenu_china_pw_logo,
                  src: t + "footer/pw_logo_gy.svg?v=1",
                })
              ),
              p.createElement(
                "a",
                {
                  href: "https://valvesoftware.com",
                  target: "_blank",
                  rel: "noreferrer",
                },
                p.createElement("img", {
                  className: he().mainmenu_china_valve_logo,
                  src: t + "footer/valve_logo_gy.svg?v=1",
                })
              )
            ),
            p.createElement(
              "div",
              { className: he().mainmenu_legal_china },
              p.createElement(
                "div",
                { className: he().mainmenu_legal_valvelegal },
                `© ${ge()} Valve Corporation 版权所有，完美世界已获授权`,
                p.createElement("br", null),
                "所有商标均属于其在美国或其他国家的拥有者。"
              ),
              p.createElement(
                "div",
                { className: he().mainmenu_legal_pwlegal },
                "© 完美世界征奇(上海)多媒体科技有限公司 版权所有。",
                p.createElement("br", null),
                "增值电信业务经营许可证沪B2-20180406"
              )
            )
          );
        },
        Ee = (e) =>
          p.createElement(
            "div",
            { className: he().LegalFooter },
            p.createElement("img", {
              src:
                s.De.STORE_CDN_URL + "public/images/footerLogo_valve_new.png",
            }),
            p.createElement(
              "div",
              { className: he().FooterLegal },
              (0, R.Xx)("#Legal_Footer_WithYear", ge())
            )
          ),
        Se = (e) =>
          s.De.EREALM === n.IN.k_ESteamRealmChina
            ? p.createElement(ve, null)
            : p.createElement(Ee, null);
      class Ce {
        constructor() {
          (this.m_curDisplay = "desktop_navigation"),
            (this.m_fnGetRouterHistory = void 0);
        }
        static Get() {
          return (
            Ce.s_GlobalStore || (Ce.s_GlobalStore = new Ce()), Ce.s_GlobalStore
          );
        }
        UpdateLocation(e, t) {
          this.m_fnGetRouterHistory = e;
          const a = (0, me.ks)(t, "optionpane");
          if (a)
            switch (a) {
              case "event_filter":
              case "browse_curator":
              case "desktop_navigation":
                this.m_curDisplay != a && (this.m_curDisplay = a);
            }
          else
            "desktop_navigation" != this.m_curDisplay &&
              (this.m_curDisplay = "desktop_navigation");
          return this.m_curDisplay;
        }
        SetDisplay(e) {
          (this.m_curDisplay = e),
            this.m_fnGetRouterHistory &&
              (0, me.i9)(
                this.m_fnGetRouterHistory(),
                "optionpane",
                "desktop_navigation" == this.m_curDisplay
                  ? void 0
                  : this.m_curDisplay
              );
        }
        GetDisplay() {
          return this.m_curDisplay;
        }
        ShowBrowseCurator(e) {
          St()
            ? Ce.Get().SetDisplay("browse_curator")
            : (0, V.AM)(p.createElement(K, null), (0, O.RA)(e));
        }
      }
      (0, l.gn)([c.LO], Ce.prototype, "m_curDisplay", void 0);
      let fe = class extends p.Component {
        GetVisibilityStore() {
          return (0, f.vY)().m_visibilityStore;
        }
        OnEventTypeChange(e, t) {
          this.GetVisibilityStore().SetEventTypeGroupAllowed(e, t),
            this.props.fnOnFilterChange();
        }
        RenderEventTypeCheckbox(e) {
          const t = this.GetVisibilityStore().BIsEventTypeGroupAllowed(e);
          return p.createElement(
            L.HP,
            {
              key: `group-${e}`,
              toolTipContent: (0, R.Xx)(
                "#EventCalendar_EventTypeGroup_ttip_" + e
              ),
              direction: "top",
            },
            p.createElement(
              "div",
              { className: (0, P.Z)(re().FilterOption, re().FilterEventType) },
              p.createElement(G.ji, {
                label: (0, R.Xx)("#EventCalendar_EventTypeGroup_" + e),
                checked: t,
                onChange: (t) => this.OnEventTypeChange(e, t),
              })
            )
          );
        }
        OnGameSourceChange(e, t) {
          this.GetVisibilityStore().SetGameSourceAllowed(e, t),
            this.props.fnOnFilterChange();
        }
        RenderGameSourceCheckbox(e, t) {
          const a =
            this.GetVisibilityStore().BIsGameSourceAllowed(e) ||
            (e == b.Gf.k_ELibrary &&
              this.GetVisibilityStore().BIsGameSourceAllowed(b.Gf.k_ERecent));
          return p.createElement(
            L.HP,
            {
              key: `gs-${e}`,
              direction: "top",
              toolTipContent: t
                ? (0, R.Xx)("#EventCalendar_DisabledFilter_LoginPrompt")
                : (0, R.Xx)("#EventCalendar_GameSource_ttip_" + e),
            },
            p.createElement(
              "div",
              { className: (0, P.Z)(re().FilterOption, re().FilterGameSource) },
              p.createElement(G.ji, {
                label: (0, R.Xx)("#EventCalendar_GameSource_" + e),
                checked: a,
                disabled: t,
                onChange: (t) => this.OnGameSourceChange(e, t),
              })
            )
          );
        }
        render() {
          const { bUserIsLoggedIn: e } = this.props,
            t = (0, f.vY)();
          let a = !0;
          if (t.BIsSingleGroupCalendar()) {
            let e = C.sV.GetClanInfoByClanAccountID(t.GetSingleGroupID());
            e && e.has_rss_feed && (a = !1);
          } else
            !t.BIsCollectionCalendar() ||
              (t.GetKey().collectionid != I.B.Press &&
                t.GetKey().collectionid != I.B.Dev_Sales &&
                t.GetKey().collectionid != I.B.Dev_AssociatedPress) ||
              (a = !1);
          const n = w.m.Get().GetMutedSourceCount(),
            r =
              t.BIsSingleSourceMuted() ||
              (!t.BIsSingleSourceCalendar() && n > 0);
          return p.createElement(
            be,
            {
              title: (0, R.Xx)("#EventCalendar_FiltersTitle"),
              description: (0, R.Xx)(
                t.BIsGlobalCalendar()
                  ? "#EventCalendar_FiltersDescription"
                  : "#EventCalendar_FiltersDescription_NonPersonalized"
              ),
            },
            p.createElement(
              "div",
              { className: re().FilterSection },
              a &&
                p.createElement(
                  "div",
                  { className: re().FilterSubSection },
                  p.createElement(
                    "div",
                    { className: re().FilterSubSectionTitle },
                    (0, R.Xx)("#EventCalendar_FilterSubSection_EventTypeGroups")
                  ),
                  this.RenderEventTypeCheckbox(b.Ar.k_EEvents),
                  this.RenderEventTypeCheckbox(b.Ar.k_EStreaming),
                  this.RenderEventTypeCheckbox(b.Ar.k_EUpdates),
                  this.RenderEventTypeCheckbox(b.Ar.k_EReleases),
                  this.RenderEventTypeCheckbox(b.Ar.k_ESales),
                  this.RenderEventTypeCheckbox(b.Ar.k_ENews)
                ),
              Boolean(t.BIsGlobalCalendar()) &&
                p.createElement(
                  "div",
                  { className: re().FilterSubSection },
                  p.createElement(
                    "div",
                    { className: re().FilterSubSectionTitle },
                    (0, R.Xx)("#EventCalendar_FilterSubSection_GameSources")
                  ),
                  this.RenderGameSourceCheckbox(b.Gf.k_ELibrary, !e),
                  p.createElement(
                    "div",
                    { className: re().FilterSubOption },
                    this.RenderGameSourceCheckbox(b.Gf.k_ERecent, !e)
                  ),
                  this.RenderGameSourceCheckbox(b.Gf.k_EWishlist, !e),
                  y.JW.bIsFollowingEnabled &&
                    this.RenderGameSourceCheckbox(b.Gf.k_EFollowing, !e),
                  this.RenderGameSourceCheckbox(b.Gf.k_ERecommended, !e),
                  this.RenderGameSourceCheckbox(b.Gf.k_ESteam),
                  y.JW.bIncludeFeaturedAsGameSource &&
                    this.RenderGameSourceCheckbox(b.Gf.k_EFeatured)
                ),
              Boolean(
                y.JW.bIsCuratorsEnabled &&
                  (t.BIsGlobalCalendar() || t.BIsSingleAppCalendar())
              ) &&
                p.createElement(
                  "div",
                  { className: re().FilterSubSection },
                  p.createElement(
                    "div",
                    { className: re().FilterSubSectionTitle },
                    (0, R.Xx)("#EventCalendar_FilterSubSection_CuratorSources")
                  ),
                  this.RenderGameSourceCheckbox(b.Gf.k_ECurator, !e),
                  p.createElement(
                    "div",
                    {
                      className: re().FilterLink,
                      onClick: Ce.Get().ShowBrowseCurator,
                    },
                    (0, R.Xx)("#EventCalendar_BrowseCurators")
                  )
                ),
              Boolean(t.BIsSingleSourceMuted()) &&
                p.createElement(
                  "div",
                  null,
                  (0, R.Xx)(
                    t.BIsSingleGroupCalendar()
                      ? "#EventCalendar_SingleGroupIsMuted"
                      : "#EventCalendar_SingleAppIsMuted"
                  )
                )
            ),
            p.createElement(
              "div",
              { className: re().SideBarFilterNavLinks },
              r &&
                p.createElement(
                  x.ns,
                  {
                    className: re().MutedSourcesGroup,
                    href: s.De.STORE_BASE_URL + "account/emailoptout/app",
                    bDisableContextMenu: !0,
                  },
                  p.createElement(
                    "div",
                    { className: re().FilterLink },
                    p.createElement(F.ffh, { muted: !0 }),
                    (0, R.Xx)("#EventCalendar_ManageMutedSources"),
                    p.createElement("div", { className: re().NumberDisplay }, n)
                  )
                ),
              p.createElement(
                x.ns,
                {
                  href: s.De.STORE_BASE_URL + "account/preferences",
                  bDisableContextMenu: !0,
                },
                p.createElement(
                  "div",
                  { className: re().FilterLink },
                  p.createElement(F.ZJH, null),
                  (0, R.Xx)("#EventCalendar_ManageStorePref")
                )
              )
            )
          );
        }
      };
      fe = (0, l.gn)([d.Pi], fe);
      const be = (e) =>
        p.createElement(
          "div",
          { className: re().FilterControlPage },
          p.createElement("div", { className: re().FiltersTitle }, e.title),
          Boolean(e.description) &&
            p.createElement(
              "div",
              { className: re().FiltersDescription },
              e.description
            ),
          e.children
        );
      let Ie = class extends p.Component {
        OpenFilterSettings(e) {
          Ce.Get().SetDisplay(e ? "event_filter" : "desktop_navigation");
        }
        render() {
          const {
              bUserIsLoggedIn: e,
              nDisappearingHeaderVisibleHeight: t,
              bIsCollapsed: a,
              fnToggleCollapsed: n,
              fnOnFilterChange: r,
            } = this.props,
            s = St(),
            l = p.createElement(
              "div",
              {
                className: re().MobileCloseButton,
                onClick: () => {
                  this.OpenFilterSettings(!1), n();
                },
              },
              p.createElement(F.XBH, null)
            ),
            o = a ? Math.max(0, t) : 0,
            i = s
              ? null
              : p.createElement(
                  "div",
                  { onClick: n, className: re().CollapseButton },
                  p.createElement(
                    "div",
                    {
                      style: { marginTop: `${o}px` },
                      className: re().DesktopButton,
                    },
                    p.createElement(F.NP6, { angle: a ? 180 : 0 })
                  )
                ),
            c = s
              ? null
              : p.createElement(
                  "div",
                  {
                    onClick: () => this.OpenFilterSettings(!1),
                    className: re().CollapseButton,
                  },
                  p.createElement(
                    "div",
                    {
                      style: { marginTop: `${o}px` },
                      className: re().DesktopButton,
                    },
                    p.createElement(F.XBH, null)
                  )
                ),
            d = "desktop_navigation" != Ce.Get().GetDisplay() ? c : i,
            u = a ? null : { top: `${t}px` };
          (0, f.vY)();
          let m;
          switch (Ce.Get().GetDisplay()) {
            case "event_filter":
              m = p.createElement(fe, {
                bUserIsLoggedIn: e,
                fnOnFilterChange: r,
              });
              break;
            case "browse_curator":
              m = p.createElement(Q, null);
              break;
            case "desktop_navigation":
              m = p.createElement(
                ye,
                Object.assign({}, this.props, {
                  fnOpenFilterSettings: this.OpenFilterSettings,
                })
              );
          }
          return p.createElement(
            p.Fragment,
            null,
            p.createElement(
              "div",
              {
                className: (0, P.Z)(
                  re().SidebarContainer,
                  a && re().SidebarCollapsed
                ),
                style: u,
              },
              a
                ? d
                : p.createElement(
                    "div",
                    { className: re().Sidebar },
                    l,
                    d,
                    p.createElement(
                      "div",
                      { className: re().ControlPageContainer },
                      m
                    )
                  )
            )
          );
        }
      };
      (0, l.gn)([H.ak], Ie.prototype, "OpenFilterSettings", null),
        (Ie = (0, l.gn)([d.Pi], Ie));
      const ye = (0, d.Pi)((e) => {
        const { bShouldIncludeLegalFooter: t, bShowUpcoming: a } = e,
          n =
            "Responsive_RequestMobileView" in window &&
            window.Responsive_RequestMobileView;
        return p.createElement(
          p.Fragment,
          null,
          p.createElement(
            "div",
            { className: re().SidebarBackground },
            p.createElement(F.ui7, null)
          ),
          p.createElement(
            "div",
            { className: re().SidebarTitle },
            (0, R.kQ)("#EventCalendar_Title", p.createElement("br", null))
          ),
          p.createElement(Fe, { bIsUpcoming: a }),
          p.createElement(de, null),
          p.createElement(
            "div",
            { className: re().SidePanelGameSearch },
            p.createElement(De, {
              label: (0, R.Xx)("#EventCalendar_UniversalSearch"),
            })
          ),
          p.createElement(Le, { bIsUpcoming: a }),
          p.createElement(
            "div",
            { className: re().FilterSettingsCtn },
            p.createElement(
              "div",
              {
                className: (0, P.Z)(re().FilterLink, re().OpenFilterSettings),
                onClick: () => e.fnOpenFilterSettings(!0),
              },
              p.createElement(F.Zrf, null),
              (0, R.Xx)("#EventCalendar_EditFilters")
            )
          ),
          n &&
            p.createElement(
              "div",
              {
                className: (0, P.Z)(re().SidebarLink, re().ForceResponsiveLink),
                onClick: n,
              },
              (0, R.Xx)("#EventCalendar_ShowResponsiveView")
            ),
          t && p.createElement(Se, null)
        );
      });
      let De = class extends p.Component {
        DecorateSearchSuggestion(e, t) {
          if (e && e.id) {
            let a = "";
            return (
              "curators" == e.corpus
                ? (a = "group/" + e.id)
                : "games" == e.corpus &&
                  ((0, M.X)((0, n.mU)(e.type), "Unexpected app type " + e.type),
                  (a = "app/" + e.id)),
              p.createElement(
                T.rU,
                { key: `suggestion-${e.id}`, to: `/${(0, ue.x3)()}/${a}/` },
                t
              )
            );
          }
          return t;
        }
        render() {
          return p.createElement(U.e, {
            strLabel: this.props.label,
            fnOnSelected: () => {},
            fnDecorateSuggestion: this.DecorateSearchSuggestion,
            rgCorporaToSearch: ["games", "curators"],
            focusOnMount: this.props.focusOnMount,
          });
        }
      };
      De = (0, l.gn)([d.Pi], De);
      function we(e, t) {
        const a = (0, I.W)(e);
        if (((0, M.X)(!!a, "Must define collection " + e), !a)) return null;
        let n,
          r = (0, f.vY)().GetCollectionID() == e;
        switch (e) {
          case I.B.Default:
            r = (0, f.vY)().BIsGlobalCalendar() && !t;
            break;
          case I.B.Upcoming:
            (r = (0, f.vY)().BIsGlobalCalendar() && t),
              (n = (function () {
                if (!(0, f.vY)().BIsGlobalCalendar()) return;
                if (!s.L7.logged_in) return;
                const e =
                    (0, f.vY)().GetStoreInitializationTimestamp().getTime() /
                    1e3,
                  t = (0, f.vY)().GetCurrentlyLoadedEventCount(e);
                if (!t) return;
                return (0, f.vY)().BHitEventHorizon("forward")
                  ? String(t.nCount)
                  : t.nCount + "+";
              })());
        }
        return {
          name: a.strName,
          shortName: a.strShortName,
          key: e,
          url: a.strUrl,
          subtitle: a.strSubtitle,
          onPage: r,
          count: n,
          bValveOnly: a.bIsValveOnly,
        };
      }
      function Be(e, t) {
        const a = new Array();
        return a.push(we(I.B.Default, e)), a.push(we(I.B.Upcoming, e)), a;
      }
      function Ne(e, t) {
        const a = new Array();
        return (
          a.push(we(I.B.Featured, e)),
          a.push(we(I.B.Steam, e)),
          y.JW.GetTimeNowWithOverride() < 1636653600 &&
            a.push(we(I.B.Halloween, e)),
          a
        );
      }
      function Te(e, t) {
        (0, f.vY)().BIsCollectionCalendar(), (0, ue.x3)();
        const a = new Array();
        if ((y.JW.bIsCuratorsEnabled && a.push(we(I.B.Press, e)), t))
          for (const e of ie.GetVisibleSpecialEvents()) {
            const t = !1;
            a.push({
              name: (0, R.Xx)(e.sLocToken),
              url: e.newshubUrl,
              onPage: t,
              key: "event_" + e.sLocToken,
            });
          }
        return (
          s.L7.is_support &&
            (a.push(we(I.B.Dev_All, e)),
            a.push(we(I.B.Dev_Sales, e)),
            a.push(we(I.B.Dev_AssociatedPress, e))),
          a
        );
      }
      const Ge = (e) => {
        const {
          shortName: t,
          name: a,
          url: n,
          onPage: r,
          count: l,
          bValveOnly: o,
        } = e.element;
        return !s.L7.is_support && o
          ? null
          : p.createElement(
              T.rU,
              { to: "/" + n },
              p.createElement(
                "div",
                {
                  className: (0, P.Z)(
                    re().MobileNavButton,
                    r && re().MobileNavButtonActive
                  ),
                },
                t || a,
                l &&
                  p.createElement("div", { className: re().MobileNavCount }, l)
              )
            );
      };
      let Ae = class extends p.Component {
        constructor() {
          super(...arguments), (this.state = { bSearchExpanded: !1 });
        }
        onExpandSearch(e) {
          this.setState({ bSearchExpanded: e });
        }
        render() {
          const { bSearchExpanded: e } = this.state,
            t = [
              ...Be(this.props.bIsUpcoming),
              ...Ne(this.props.bIsUpcoming),
              ...Te(this.props.bIsUpcoming, !1),
            ];
          return p.createElement(
            "div",
            {
              style: { transform: `translateY(${this.props.nTopOffset}px)` },
              className: re().MobileNavBannerCtn,
            },
            p.createElement(
              "div",
              {
                className: re().SettingsPanel,
                onClick: this.props.fnToggleCollapsed,
              },
              p.createElement(F.Zrf, null)
            ),
            p.createElement(
              "div",
              {
                className: (0, P.Z)(
                  re().SettingsPanel,
                  e && re().SearchExpanded
                ),
                onClick: () => this.onExpandSearch(!e),
              },
              p.createElement(F.YtI, null)
            ),
            e &&
              p.createElement(
                p.Fragment,
                null,
                p.createElement("div", {
                  className: re().SearchDismiss,
                  onClick: () => this.onExpandSearch(!1),
                }),
                p.createElement(
                  "div",
                  {
                    className: (0, P.Z)(
                      re().SearchBox,
                      e && re().SearchExpanded
                    ),
                  },
                  p.createElement(De, { focusOnMount: !0 })
                )
              ),
            p.createElement(
              pe.O,
              { className: re().MobileNavHScroll },
              p.createElement(
                "div",
                { className: re().MobileNavBannerList },
                t.map((e) => p.createElement(Ge, { key: e.key, element: e }))
              )
            )
          );
        }
      };
      (0, l.gn)([H.ak], Ae.prototype, "onExpandSearch", null),
        (Ae = (0, l.gn)([d.Pi], Ae));
      const ke = (e) => {
        const {
          key: t,
          name: a,
          subtitle: n,
          url: r,
          onPage: l,
          count: o,
          bValveOnly: i,
          icon: c,
        } = e.element;
        return !s.L7.is_support && i
          ? null
          : p.createElement(
              T.rU,
              { to: "/" + r },
              p.createElement(
                "div",
                {
                  className: (0, P.Z)(
                    re().NewsChannel,
                    l && re().NewsChannelOnPage,
                    i && k().ValveOnlyBackground
                  ),
                },
                Boolean(c) &&
                  p.createElement("img", {
                    className: (0, P.Z)(re().NewsChannelIcon),
                    src: c,
                  }),
                p.createElement(
                  "div",
                  { className: re().NewsChannelText },
                  p.createElement(
                    "div",
                    { className: re().NewsChannelTitle },
                    i && "(VO) ",
                    a
                  ),
                  n &&
                    p.createElement(
                      "div",
                      { className: re().NewsChannelSubtitle },
                      n
                    )
                ),
                Boolean(void 0 !== o) &&
                  p.createElement(
                    "div",
                    { className: re().NewsChannelCount },
                    o
                  )
              )
            );
      };
      let Fe = class extends p.Component {
        render() {
          const e = Be(this.props.bIsUpcoming),
            t = Ne(this.props.bIsUpcoming);
          return p.createElement(
            "div",
            { className: re().NewsChannelGroup },
            p.createElement(
              "div",
              { className: re().NewsChannelListTitle },
              (0, R.Xx)("#EventCalendar_NewsChannels")
            ),
            p.createElement(
              "div",
              { className: re().NewsChannelList },
              e.map((e) => p.createElement(ke, { key: e.key, element: e }))
            ),
            p.createElement(
              "div",
              { className: re().NewsChannelListTitle },
              (0, R.Xx)("#EventCalendar_NewsChannels_Global")
            ),
            p.createElement(
              "div",
              { className: re().NewsChannelList },
              t.map((e) => p.createElement(ke, { key: e.key, element: e }))
            )
          );
        }
      };
      Fe = (0, l.gn)([d.Pi], Fe);
      class Le extends p.Component {
        render() {
          const e = Te(this.props.bIsUpcoming, !1);
          return e && e.length > 0
            ? p.createElement(
                "div",
                {
                  className: (0, P.Z)(
                    re().NewsChannelGroup,
                    re().DiscoverGroup
                  ),
                },
                p.createElement(
                  "div",
                  { className: re().NewsChannelListTitle },
                  (0, R.Xx)("#EventCalendar_NewsChannels_Discover")
                ),
                p.createElement(
                  "div",
                  { className: re().NewsChannelList },
                  e.map((e) => p.createElement(ke, { key: e.key, element: e }))
                )
              )
            : null;
        }
      }
      var xe = a(80533),
        Me = (a(990), a(92663)),
        Pe = a(17170),
        Oe = a.n(Pe);
      const Re = {
        include_assets: !0,
        include_release: !0,
        include_screenshots: !0,
      };
      const He = (0, d.Pi)((e) => {
          const {
              calendarEvent: t,
              partnerEventStore: a,
              mode: n,
              forceParentUpdate: r,
            } = e,
            s = "-500px",
            l = Oe()[`EventType${t.event_type}`],
            o = (0, P.Z)(Oe().TileContainer, l),
            i = "carousel" === n;
          return p.createElement(
            xe.h,
            {
              onEnter: () => {
                !(function (e, t, a) {
                  const n = Array();
                  n.push(t.QueueLoadPartnerEvent(e.clanid, e.unique_id)),
                    e.appid && n.push(B.Z.Get().QueueAppRequest(e.appid, Re)),
                    e.clanInfo &&
                      n.push(
                        C.sV.LoadClanInfoForClanAccountID(e.clanInfo.clanid)
                      ),
                    Promise.all(n).then(() => {
                      const n = t.GetClanEventModel(e.unique_id);
                      n.appid &&
                      n.appid != e.appid &&
                      !B.Z.Get().BHasApp(n.appid, Re)
                        ? B.Z.Get().QueueAppRequest(n.appid, Re).then(a)
                        : a();
                    });
                })(t, a, r);
              },
              topOffset: s,
              bottomOffset: s,
            },
            p.createElement(
              "div",
              { className: o },
              p.createElement(
                "div",
                { className: (0, P.Z)(Oe().Tile, Oe().LoadingTile) },
                i && p.createElement(X.V, null)
              ),
              p.createElement("div", { className: Oe().Footer })
            )
          );
        }),
        Ve = (0, d.Pi)((e) => {
          const { partnerEventStore: t, calendarEvent: a } = e,
            n = (0, l._T)(e, ["partnerEventStore", "calendarEvent"]),
            r = t.GetClanEventModel(a.unique_id),
            s = (function (e, t) {
              const a = t.GetClanEventModel(e.unique_id);
              return !(
                !a ||
                (e.appid && !B.Z.Get().BHasApp(e.appid, Re)) ||
                (a.appid &&
                  a.appid != e.appid &&
                  !B.Z.Get().BHasApp(a.appid, Re)) ||
                (e.clanInfo && !C.sV.HasLoadedClanAccountID(e.clanInfo.clanid))
              );
            })(a, t),
            o = (0, H.NW)();
          return s
            ? p.createElement(
                Me.V,
                Object.assign({ eventModel: r, calendarEvent: a }, n)
              )
            : p.createElement(
                He,
                Object.assign({ calendarEvent: a, partnerEventStore: t }, n, {
                  forceParentUpdate: o,
                })
              );
        });
      var Ue = a(6092),
        We = a(15396),
        Ze = a(25164),
        Xe = a.n(Ze),
        je = a(48834),
        ze = a(77636),
        Ye = a(48780),
        Je = a(23352),
        qe = a.n(Je);
      class Ke extends p.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              rgCuratorList: null,
              nNumToDisplay: 0,
              bHasBeenDismissed: this.HasBeenDismissed(),
            }),
            (this.m_ref = p.createRef()),
            (this.m_cancelSignal = i().CancelToken.source());
        }
        componentDidMount() {
          return (0, l.mG)(this, void 0, void 0, function* () {
            this.state.rgCuratorList ||
              (yield W.E.Get().WaitForInitialLoad(),
              this.m_cancelSignal.token.reason ||
                this.setState({
                  rgCuratorList: this.GenerateNewsCuratorList(),
                })),
              window.addEventListener("resize", this.OnResize),
              this.OnResize();
          });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("CuratorFeedSuggestRow to unload"),
            window.removeEventListener("resize", this.OnResize);
        }
        GetMaxCapsulesPerRow() {
          if (!this.m_ref.current) return 0;
          const e = Math.floor(
            Math.min(this.m_ref.current.clientWidth, window.innerWidth) / 118
          );
          return Math.max(e - 1, 0);
        }
        OnResize() {
          this.m_cancelSignal.token.reason ||
            this.setState({ nNumToDisplay: this.GetMaxCapsulesPerRow() });
        }
        HasBeenDismissed() {
          const e = JSON.parse(localStorage.getItem(Ke.s_strLocalStorageKey));
          return e && e.bDismissed;
        }
        OnCommitDismiss() {
          localStorage.setItem(
            Ke.s_strLocalStorageKey,
            JSON.stringify({ bDismissed: !0 })
          ),
            this.m_cancelSignal.token.reason ||
              this.setState({ bHasBeenDismissed: !0 });
        }
        OnDismissButton(e) {
          (0, V.AM)(
            p.createElement(Z.uH, {
              strTitle: (0, R.Xx)("#EventCurator_DismissTitle"),
              strDescription: (0, R.Xx)("#EventCurator_DismissBody"),
              onOK: this.OnCommitDismiss,
            }),
            (0, O.RA)(e)
          );
        }
        GenerateNewsCuratorList() {
          const e = R.Yt.GetELanguageFallbackOrder();
          void 0 === e.find((e) => 0 === e) && e.push(0);
          const t = new Array();
          for (const a of e) {
            const e = W.E.Get().GetCuratorsForLang(a);
            if (!e) continue;
            const n = e.filter(
              (e) => !ze.jg.Get().BIsIgnoringCurator(e.clanAccountID)
            );
            (0, Ye.LQ)(n), t.push(...n);
          }
          return t;
        }
        GenerateCurator(e) {
          const t = C.sV.GetClanInfoByClanAccountID(e.clanAccountID);
          return t
            ? p.createElement(
                "div",
                { className: qe().ClanInfo, key: t.clanAccountID },
                p.createElement(ae, { clanInfo: t, layout: "icon" })
              )
            : null;
        }
        render() {
          const { bCanDismiss: e } = this.props,
            { bHasBeenDismissed: t, rgCuratorList: a } = this.state;
          if (t || !a || 0 === a.length) return null;
          let n = null;
          return (
            (n = a
              .slice(0, this.state.nNumToDisplay)
              .map((e) => this.GenerateCurator(e))),
            p.createElement(
              N.S,
              null,
              p.createElement(
                "div",
                { className: qe().FeedSuggestContainerBG },
                p.createElement(
                  "div",
                  { className: qe().FeedSuggestContainer },
                  p.createElement(
                    "div",
                    { className: qe().FeedSuggestCaption },
                    (0, R.Xx)("#EventCurator_FeedCaption_Long")
                  ),
                  e &&
                    p.createElement(
                      "div",
                      {
                        className: qe().DismissButton,
                        onClick: this.OnDismissButton,
                      },
                      p.createElement(F.XBH, null)
                    ),
                  p.createElement(
                    "div",
                    { className: qe().RowContainer, ref: this.m_ref },
                    n || p.createElement(X.V, null),
                    p.createElement(
                      "div",
                      {
                        className: qe().BrowseMore,
                        onClick: Ce.Get().ShowBrowseCurator,
                      },
                      (0, R.Xx)("#EventCurator_BrowseMore")
                    )
                  )
                )
              )
            )
          );
        }
      }
      (Ke.s_strLocalStorageKey = "SteamNewsHub_SuggestCuratorsDismissed"),
        (0, l.gn)([H.ak], Ke.prototype, "OnResize", null),
        (0, l.gn)([H.ak], Ke.prototype, "OnCommitDismiss", null),
        (0, l.gn)([H.ak], Ke.prototype, "OnDismissButton", null);
      var Qe = a(56364),
        $e = a.n(Qe);
      const et = (e) => {
        const {
            titleToken: t,
            subtitleToken: a,
            backgroundImg: n,
            headerImg: r,
            headerURL: s,
          } = e,
          l = n ? { backgroundImage: n } : {};
        return p.createElement(
          "div",
          {
            className: (0, P.Z)(
              $e().CommonHeaderStyles,
              $e().SimpleTitleHeaderCtn,
              e.largeHeader && $e().LargeHeader
            ),
            style: l,
          },
          p.createElement(
            "div",
            {
              className: (0, P.Z)(
                $e().CollectionBannerGroup,
                r ? $e().HeaderImg : $e().NoHeaderImg
              ),
            },
            Boolean(s && r) &&
              p.createElement(
                "a",
                { href: s, className: $e().AppBannerLogoCtn },
                p.createElement("img", {
                  className: $e().AppBannerLogo,
                  src: r,
                })
              ),
            Boolean(r && !s) &&
              p.createElement(
                "div",
                { className: $e().AppBannerLogoCtn },
                p.createElement("img", {
                  className: $e().AppBannerLogo,
                  src: r,
                })
              ),
            p.createElement(
              "div",
              { className: $e().SimpleTitleCtn },
              p.createElement(
                "div",
                { className: $e().Title },
                t.startsWith("#") ? (0, R.Xx)(t) : t
              ),
              a &&
                p.createElement(
                  "div",
                  { className: $e().Subtitle },
                  a.startsWith("#") ? (0, R.Xx)(a) : a
                )
            )
          )
        );
      };
      function tt(e) {
        const t = (0, I.W)(e);
        return (
          (0, M.X)(!!t, "Must define collection " + e),
          {
            collection: e,
            smallHeight: Number($e().simpleTitleSmallHeight),
            largeHeight: Number($e().simpleTitleLargeHeight),
            component: (e, a, n) =>
              p.createElement(et, {
                largeHeader: e,
                titleToken: t.strHeaderTitle,
                subtitleToken: t.strHeaderSubtitle,
                headerImg: a,
                headerURL: n,
              }),
          }
        );
      }
      let at = null;
      function nt() {
        return (
          at ||
            ((at = new Array()),
            at.push(tt(I.B.Press)),
            at.push(tt(I.B.Halloween))),
          at
        );
      }
      var rt,
        st = a(23331),
        lt = a(5726),
        ot = a.n(lt);
      let it = class extends p.Component {
        render() {
          const {
            rgCalendarItems: e,
            bSuppressHoverEffects: t,
            strMultipleSourceTitle: a,
          } = this.props;
          if (!e || 0 == e.length) return null;
          const n = e[0];
          if (!e.every((e) => e.appid === n.appid && e.clanid === n.clanid))
            return a
              ? p.createElement(
                  "div",
                  { className: ot().EventTileCarouselTitleContainer },
                  p.createElement(
                    "div",
                    { className: ot().EventTileCarouselTextTitle },
                    a
                  )
                )
              : null;
          const r = Boolean(0 === n.appid && s.L7.accountid);
          return p.createElement(
            "div",
            { className: ot().EventTileCarouselTitleContainer },
            p.createElement(
              "div",
              { className: ot().EventTileCarouselTitle },
              p.createElement(wt, { calendarItem: n, bSuppressHoverEffects: t })
            ),
            r &&
              p.createElement(
                "div",
                { className: ot().EventTileCarouselFollow },
                p.createElement(z.C4, { clanAccountID: n.clanid })
              )
          );
        }
      };
      it = (0, l.gn)([d.Pi], it);
      let ct = (rt = class extends p.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bScreenIsWide: rt.IsWideScreen(),
              nMaxCapsulesPerRow: this.GetMaxCapsulesPerRow(),
            });
        }
        componentDidMount() {
          window.addEventListener("resize", this.OnResize);
        }
        componentWillUnmount() {
          window.removeEventListener("resize", this.OnResize);
        }
        static IsWideScreen() {
          return window.innerWidth >= 910;
        }
        GetMaxCapsulesPerRow() {
          return rt.IsWideScreen() ? 3 : window.innerWidth > 700 ? 2 : 1;
        }
        OnResize() {
          this.setState({
            bScreenIsWide: rt.IsWideScreen(),
            nMaxCapsulesPerRow: this.GetMaxCapsulesPerRow(),
          });
        }
        render() {
          const {
            rgCalendarItems: e,
            fnOnEventClick: t,
            bSuppressHoverEffects: a,
            bHideGameTitle: n,
            strMultipleSourceTitle: s,
          } = this.props;
          if (!e || 0 == e.length) return null;
          const l = e.map((s) =>
            p.createElement(Ve, {
              key: "ht-" + s.unique_id,
              calendarEvent: s,
              partnerEventStore: r.j1,
              fnOnClicked: t,
              bSuppressHoverEffects: a,
              mode: e.length > 1 ? "carousel" : "wide",
              bHideGameTitle: n,
            })
          );
          return p.createElement(
            "div",
            { className: ot().CalendarRow },
            p.createElement(it, {
              rgCalendarItems: e,
              bSuppressHoverEffects: a,
              strMultipleSourceTitle: s,
            }),
            p.createElement(
              "div",
              {
                className: (0, P.Z)(
                  ot().EventTileCarousel,
                  "EventTileCarouselCtn"
                ),
              },
              p.createElement(
                st.l,
                {
                  hideArrows: !0,
                  visibleElements: Math.min(
                    this.state.nMaxCapsulesPerRow,
                    this.props.rgCalendarItems.length
                  ),
                  className: ot().HorizontalTiles,
                  useTestScrollbar: !0,
                  bLazyRenderChildren: !0,
                  disableEdgeWrap: !0,
                },
                l
              )
            )
          );
        }
      });
      (0, l.gn)([H.ak], ct.prototype, "OnResize", null),
        (ct = rt = (0, l.gn)([d.Pi], ct));
      var dt = a(24161),
        ut = a.n(dt);
      const mt = (e) => {
          var t;
          let a = new Array();
          return (
            (
              null === (t = s.De.SUPPORTED_LANGUAGES) || void 0 === t
                ? void 0
                : t.length
            )
              ? (a = s.De.SUPPORTED_LANGUAGES.map((e) => e.localizedName))
              : a.push((0, R.Xx)("#Language_" + s.De.LANGUAGE)),
            p.createElement(
              "div",
              { className: ut().LanguageList },
              a.join(", ")
            )
          );
        },
        pt = (e) => {
          const t = "SteamNewsHub_LanguageDismissed",
            [a, r] = p.useState(
              (() => {
                const e = JSON.parse(localStorage.getItem(t));
                return e && e.bDismissed;
              })()
            );
          if (a) return null;
          if (s.De.EREALM === n.IN.k_ESteamRealmChina) return null;
          const l = s.De.STORE_BASE_URL + "account/languagepreferences/";
          return p.createElement(
            "div",
            { className: ut().LanguageFeedNoteBucket },
            p.createElement(
              "div",
              { className: ut().LanguageFeedNoteCtn },
              p.createElement(
                "div",
                {
                  className: ut().DismissButton,
                  onClick: () => {
                    r(!0),
                      localStorage.setItem(
                        t,
                        JSON.stringify({ bDismissed: !0 })
                      );
                  },
                },
                p.createElement(F.XBH, null)
              ),
              p.createElement(
                "div",
                { className: ut().BodyFlow },
                p.createElement(
                  "div",
                  { className: ut().LeftColumn },
                  p.createElement(F.P7E, null)
                ),
                p.createElement(
                  "div",
                  { className: ut().RightColumn },
                  p.createElement(
                    "div",
                    { className: ut().Title },
                    (0, R.Xx)("#EventCalendar_NewsLanguage_Title")
                  ),
                  p.createElement(mt, null),
                  p.createElement(
                    "div",
                    { className: ut().Text },
                    (0, R.kQ)(
                      "#EventCalendar_NewsLanguage_Text",
                      p.createElement(
                        "a",
                        { href: l },
                        (0, R.Xx)("#EventCalendar_NewsLanguage_TextInHyperlink")
                      )
                    )
                  )
                )
              )
            )
          );
        };
      var _t,
        ht,
        gt = a(9410);
      const vt = "global_header";
      function Et() {
        const e = document.getElementById(vt);
        if (e && "none" != getComputedStyle(e).display) return e;
        const t = document.getElementsByClassName("responsive_header");
        if (
          ((0, M.X)(t.length <= 1, "Must have at most one responsive_header"),
          1 == t.length)
        ) {
          return t[0];
        }
        return null;
      }
      function St() {
        const e = Et();
        return (e && e.id != vt) || s.De.IN_MOBILE_WEBVIEW;
      }
      function Ct() {
        return (
          St() ||
          window.innerWidth <
            parseInt(re().strDesktopControlBarWidth) +
              parseInt(re().strMaxMobileWidth)
        );
      }
      let ft = (_t = class extends p.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bUserIsLoggedIn: s.L7.logged_in,
              nVisibleHeight: 0,
              nScrollTop: 0,
              bControlBarIsCollapsed: Ct(),
              bControlBarWasOpenedByUser: !1,
              nDisappearingHeaderTop: 0,
              nSteamNavHeaderHeight: 0,
              nMobileNavBannerHeight: 0,
              nHubBannerHeight: 0,
              nGroupHeaderHeight: 0,
              nLogInBannerHeight: 0,
              nAccumScrollUp: 0,
              nAccumScrollDown: 0,
            }),
            (this.m_refControlBar = p.createRef()),
            (this.m_cancelSignal = i().CancelToken.source());
        }
        componentDidMount() {
          this.InitEventCalendarStore(),
            this.UpdateDocumentUI(),
            window.addEventListener("resize", this.OnResize),
            window.addEventListener("scroll", this.OnScroll),
            this.setState({ nVisibleHeight: window.innerHeight }),
            window.scrollTo(0, 0),
            this.UpdateEventControlLocationAndVisibility(),
            s.De.IN_MOBILE_WEBVIEW &&
              this.props.location &&
              0 == this.props.history.length &&
              this.props.history.push(this.props.location);
        }
        componentDidUpdate(e, t) {
          (t.bUserIsLoggedIn == this.state.bUserIsLoggedIn &&
            JSON.stringify(e.filter_to_appids) ==
              JSON.stringify(this.props.filter_to_appids) &&
            JSON.stringify(e.filter_to_clanids) ==
              JSON.stringify(this.props.filter_to_clanids) &&
            e.filter_to_collection === this.props.filter_to_collection &&
            e.filter_to_saleid === this.props.filter_to_saleid &&
            e.filter_to_contenthub_hubtype ===
              this.props.filter_to_contenthub_hubtype &&
            e.filter_to_contenthub_category_or_language ===
              this.props.filter_to_contenthub_category_or_language &&
            e.filter_to_contenthub_tag_name ===
              this.props.filter_to_contenthub_tag_name &&
            e.section_by_day === this.props.section_by_day) ||
            (window.scrollTo(0, 0), this.InitEventCalendarStore()),
            this.UpdateDocumentUI(),
            this.LoadEventToShowAsModal(),
            this.UpdateEventControlLocationAndVisibility();
        }
        UpdateEventControlLocationAndVisibility() {
          if (this.props.location) {
            const e = Ce.Get().UpdateLocation(
              () => this.props.history,
              this.props.location
            );
            (("desktop_navigation" != e && this.state.bControlBarIsCollapsed) ||
              ("desktop_navigation" == e &&
                !this.state.bControlBarIsCollapsed &&
                St())) &&
              this.ToggleControlBarCollapsed();
          }
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("component unmounted"),
            window.removeEventListener("resize", this.OnResize),
            window.removeEventListener("scroll", this.OnScroll),
            this.UpdateBodyScrollState(!0);
          const e = Et();
          e && (e.style.transform = "");
        }
        GetCurrentHubBannerHeight(e) {
          const t = e && !(0, Ue.p)();
          return (0, f.vY)().GetCollectionID()
            ? (function (e, t) {
                if (!e) return 0;
                const a = nt().find((t) => t.collection === e);
                return a ? (t ? a.largeHeight : a.smallHeight) : 0;
              })((0, f.vY)().GetCollectionID(), t)
            : (0, f.vY)().BIsSaleCalendar()
            ? ((a = (0, f.vY)().GetSaleID()),
              (n = t),
              a && r.j1.GetClanEventModel(a)
                ? Number(
                    n
                      ? $e().simpleTitleLargeHeight
                      : $e().simpleTitleSmallHeight
                  )
                : 0)
            : (0, f.vY)().BIsSingleSourceCalendar()
            ? parseInt(
                t
                  ? re().strJumboHubBannerHeight
                  : re().strDesktopHubBannerHeight
              ) - 1
            : 0;
          var a, n;
        }
        BShowLogInBanner() {
          return Boolean(
            !this.state.bUserIsLoggedIn && (0, f.vY)().BIsGlobalCalendar()
          );
        }
        GetCurrentHeaderHeights(e) {
          const t = St(),
            a = (0, Ue.p)();
          let n = 0;
          Et() &&
            ((n = parseInt(
              t
                ? re().strMobileGlobalHeaderHeight
                : re().strDesktopGlobalHeaderHeight
            )),
            (n -= 1));
          const r =
              parseInt(
                a
                  ? re().strMobileGroupHeaderHeight
                  : re().strDesktopGroupHeaderHeight
              ) - 1,
            s = (t ? parseInt(re().strMobileNavBannerHeight) : 0) - 1,
            l = this.GetCurrentHubBannerHeight(e);
          let o = 0;
          return (
            this.BShowLogInBanner() &&
              (o =
                e && !a
                  ? parseInt(re().strLogInBannerLargeHeight)
                  : parseInt(re().strLogInBannerSmallHeight)),
            {
              nSteamNavHeaderHeight: n,
              nMobileNavBannerHeight: s,
              nHubBannerHeight: l,
              nGroupHeaderHeight: r,
              nLogInBannerHeight: o,
            }
          );
        }
        LoadEventToShowAsModal() {
          return (0, l.mG)(this, void 0, void 0, function* () {
            const e = (0, me.ks)(this.props.location, "megaphone");
            if (!!e && "0" !== e && "false" !== e) {
              (0, me.i9)(this.props.history, "megaphone", null);
              const e = { exclude_tags: ["patchnotes", "skip_megaphone"] },
                t = yield r.j1.LoadAdjacentPartnerEvents(
                  null,
                  null,
                  v.dn,
                  0,
                  1,
                  e
                );
              if (1 == (null == t ? void 0 : t.length)) {
                const e = t[0];
                (0, me.Wo)(this.props.history, {
                  emclan: e.clanSteamID.ConvertTo64BitString(),
                  emgid: e.GID,
                });
              } else
                console.error(
                  "Could not find the most recent Steam Blog post."
                );
            }
            const t = (0, me.ks)(this.props.location, "emclan"),
              a = (0, me.ks)(this.props.location, "emgid");
            if (t && a) {
              const e = new E.K(t);
              if (
                this.state.modalEvent &&
                this.state.modalEvent.clanSteamID.ConvertTo64BitString() ==
                  e.ConvertTo64BitString() &&
                this.state.modalEvent.GID == a
              )
                return;
              const n =
                yield r.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                  e,
                  a,
                  0
                );
              this.setState({ modalEvent: n });
            } else this.state.modalEvent && this.setState({ modalEvent: null });
          });
        }
        BShowFutureView() {
          const e = (0, me.ks)(this.props.location, "upcoming");
          return e && "false" != e;
        }
        BShowUpdatesOnly() {
          return !(
            !this.props.filter_to_appids ||
            1 != this.props.filter_to_appids.length ||
            "true" != (0, me.ks)(this.props.location, "updates")
          );
        }
        UpdateDocumentUI() {
          var e, t, a, n, l;
          let o, i;
          const c = (0, f.vY)();
          if (c.BIsGlobalCalendar()) {
            const t = (0, I.W)(
              this.BShowFutureView() ? I.B.Upcoming : I.B.Default
            );
            o =
              null !== (e = null == t ? void 0 : t.strHeaderTitle) &&
              void 0 !== e
                ? e
                : null == t
                ? void 0
                : t.strName;
          } else if (c.BIsSingleAppCalendar()) {
            const e = c.GetSingleAppID();
            o =
              null === (t = B.Z.Get().GetApp(e)) || void 0 === t
                ? void 0
                : t.GetName();
          } else if (c.BIsSingleGroupCalendar()) {
            const e = c.GetSingleGroupID(),
              t = e && C.sV.GetClanInfoByClanAccountID(e);
            o = t && t.group_name;
          } else if (c.BIsCollectionCalendar()) {
            const e = c.GetCollectionID(),
              t = (0, I.W)(e);
            o =
              null !== (a = null == t ? void 0 : t.strHeaderTitle) &&
              void 0 !== a
                ? a
                : null == t
                ? void 0
                : t.strName;
          } else if (c.BIsSaleCalendar()) {
            const e = r.j1.GetClanEventModel(c.GetSaleID());
            if (e) {
              if (e.appid)
                o =
                  null === (n = B.Z.Get().GetApp(e.appid)) || void 0 === n
                    ? void 0
                    : n.GetName();
              else {
                const t =
                    null === (l = e.clanSteamID) || void 0 === l
                      ? void 0
                      : l.GetAccountID(),
                  a = t && C.sV.GetClanInfoByClanAccountID(t);
                o = a && a.group_name;
              }
              i = e && e.GetNameWithFallback((0, h.jM)(s.De.LANGUAGE));
            }
          }
          let d = (0, R.Xx)("#EventCalendar_TabTitle_Global");
          o &&
            (d = i
              ? (0, R.Xx)(
                  "#EventCalendar_TabTitle_GroupNameAndEventDetail",
                  o,
                  i
                )
              : (0, R.Xx)("#EventCalendar_TabTitle_GroupHub", o)),
            document.title != d && (document.title = d),
            document.body.classList.contains("events_hub") ||
              document.body.classList.add("events_hub");
        }
        OnResize() {
          this.setState((e) => {
            const t = window.innerHeight,
              a = !e.bControlBarWasOpenedByUser && Ct(),
              n = this.GetCurrentHeaderHeights(this.state.nScrollTop <= 0);
            return (
              this.UpdateBodyScrollState(a),
              Object.assign({ nVisibleHeight: t, bControlBarIsCollapsed: a }, n)
            );
          });
        }
        OnScroll() {
          const e = Math.round(window.scrollY);
          this.setState((t) => {
            const a = t.nScrollTop <= 0,
              n = e <= 0;
            let { nHubBannerHeight: r, nLogInBannerHeight: s } = t;
            if (a != n) {
              const e = this.GetCurrentHeaderHeights(n);
              (r = e.nHubBannerHeight), (s = e.nLogInBannerHeight);
            }
            const l = e - t.nScrollTop;
            let o = Math.max(0, t.nAccumScrollUp - l),
              i = Math.max(0, t.nAccumScrollDown + l),
              c = t.nDisappearingHeaderTop;
            let d = t.nDisappearingHeaderTop < 0;
            i > 80 && ((o = 0), (i = 0), (d = !0)),
              (o > 100 || n) && ((o = 0), (i = 0), (d = !1)),
              this.state.bControlBarIsCollapsed || (d = !1),
              t.modalEvent && (d = !0);
            const u = t.nSteamNavHeaderHeight + r + t.nMobileNavBannerHeight;
            if (((c = d ? -1 * u : 0), c !== t.nDisappearingHeaderTop)) {
              const e = Et();
              e && (e.style.transform = `translateY(${c}px)`);
            }
            return {
              nScrollTop: e,
              nAccumScrollUp: o,
              nAccumScrollDown: i,
              nDisappearingHeaderTop: c,
              nHubBannerHeight: r,
              nLogInBannerHeight: s,
            };
          });
        }
        InitEventCalendarStore() {
          return (0, l.mG)(this, void 0, void 0, function* () {
            const e = {
                appids: this.props.filter_to_appids,
                clanaccountids: this.props.filter_to_clanids,
                collectionid: this.props.filter_to_collection,
                saleid: this.props.filter_to_saleid,
                hubtype: this.props.filter_to_contenthub_hubtype,
                category_or_language:
                  this.props.filter_to_contenthub_category_or_language,
                tag_name: this.props.filter_to_contenthub_tag_name,
                bSectionByDay: this.props.section_by_day,
              },
              t = (0, f.PC)(e),
              a = (0, f.vY)(),
              n =
                (w.m.Get(),
                Boolean(this.state.bUserIsLoggedIn && s.L7.accountid)),
              r = a.BIsGlobalCalendar() && n ? "local" : "session",
              l = a.BIsGlobalCalendar() ? "U" + s.L7.accountid : t;
            a.m_visibilityStore.Init(
              n,
              this.BShowUpdatesOnly(),
              a.BIsShowingFeaturedFeed(),
              l,
              r
            );
            const o = !a.BIsCollectionCalendar();
            if (
              (a.SetFilteredView(
                (e) => a.m_visibilityStore.BShouldDisplayEvent(e),
                o
              ),
              _t.m_bInitialLoad)
            ) {
              const e = (0, s.kQ)("metadatainfo", "application_config");
              a.SetCollectionMetaData(
                a.ValidateCollectionMetadata(e) ? e : null
              );
            }
            const i =
              _t.m_bInitialLoad &&
              (0, s.kQ)("initialEvents", "application_config");
            i
              ? (yield a.RegisterCalendarEventsAndModels(i),
                (_t.m_bInitialLoad = !1))
              : yield a.RegisterCalendarEventsAndModels({ success: 1 }),
              a.BIsSingleSourceCalendar() &&
                (a.BIsSingleAppCalendar()
                  ? B.Z.Get().QueueAppRequest(a.GetSingleAppID(), {
                      include_assets: !0,
                      include_platforms: !0,
                      include_basic_info: !0,
                      include_release: !0,
                    })
                  : C.sV.LoadClanInfoForClanSteamID(
                      E.K.InitFromClanID(a.GetSingleGroupID())
                    )),
              this.OnResize();
          });
        }
        UpdateBodyScrollState(e) {
          const t = !e && St(),
            a = document.body;
          a &&
            (t
              ? a.classList.add(re().BodyNoScroll)
              : a.classList.remove(re().BodyNoScroll));
        }
        MobileNavOpenSettings() {
          this.ToggleControlBarCollapsed(),
            this.m_refControlBar.current &&
              this.m_refControlBar.current.OpenFilterSettings(!0);
        }
        ToggleControlBarCollapsed() {
          this.setState((e) => {
            const t = !e.bControlBarIsCollapsed,
              a = e.bControlBarIsCollapsed,
              n = t ? e.nDisappearingHeaderTop : 0,
              r = Et();
            return (
              r && (r.style.transform = `translateY(${n}px)`),
              this.UpdateBodyScrollState(t),
              {
                bControlBarIsCollapsed: t,
                bControlBarWasOpenedByUser: a,
                nDisappearingHeaderTop: n,
              }
            );
          });
        }
        OnControlBarChange() {
          window.scrollTo(0, 0);
        }
        CloseEventModal() {
          const e = Et();
          e &&
            (e.style.transform = `translateY(${this.state.nDisappearingHeaderTop}px)`),
            "PUSH" === this.props.history.action
              ? this.props.history.goBack()
              : (0, me.Wo)(this.props.history, {
                  emclan: void 0,
                  emgid: void 0,
                });
        }
        OnEventClicked(e) {
          D.cb.Get().RecordEventRead(e, 8);
          const t =
              this.state.nSteamNavHeaderHeight +
              this.state.nHubBannerHeight +
              this.state.nMobileNavBannerHeight,
            a = Et();
          if (
            (a && (a.style.transform = `translateY(${-1 * t}px)`),
            y.JW.bOpenEventLandingPage)
          ) {
            const t = (0, ue.q)(e, ue.Ue.k_eStoreView, "allowRelative");
            this.props.history.push(t);
          } else
            (0, me.Wo)(this.props.history, {
              emclan: e.clanSteamID.ConvertTo64BitString(),
              emgid: e.GID,
            });
        }
        ToggleFutureView() {
          (0, me.i9)(
            this.props.history,
            "upcoming",
            this.BShowFutureView() ? "false" : "true"
          );
        }
        ResetAllFilters() {
          (0, me.i9)(this.props.history, "updates", void 0),
            (0, f.vY)().m_visibilityStore.InitDefaultCheckboxes(
              this.state.bUserIsLoggedIn,
              !1
            );
        }
        render() {
          const e =
              this.state.nSteamNavHeaderHeight +
              this.state.nHubBannerHeight +
              this.state.nMobileNavBannerHeight +
              this.state.nLogInBannerHeight,
            t =
              this.state.nDisappearingHeaderTop +
              this.state.nSteamNavHeaderHeight,
            a = t + this.state.nMobileNavBannerHeight,
            n = a + this.state.nLogInBannerHeight,
            l = this.state.nVisibleHeight <= parseInt(re().strMinMobileHeight),
            o = l
              ? 0
              : this.state.nDisappearingHeaderTop +
                this.state.nSteamNavHeaderHeight,
            i = l ? 0 : this.state.nDisappearingHeaderTop + e,
            c = (0, f.vY)().m_visibilityStore.BAreAnyEventsFiltered(
              this.state.bUserIsLoggedIn
            )
              ? this.ResetAllFilters
              : null;
          return p.createElement(
            p.Fragment,
            null,
            p.createElement(
              "div",
              { className: re().EventCalendarContainer },
              p.createElement(
                N.S,
                null,
                this.state.modalEvent
                  ? p.createElement(q.x, {
                      appid: this.state.modalEvent.appid,
                      trackingLocation: 8,
                      announcementGID:
                        this.state.modalEvent.GetAnnouncementGID(),
                      partnerEventStore: r.j1,
                      eventModel: this.state.modalEvent,
                      showAppHeader: !0,
                      closeModal: this.CloseEventModal,
                    })
                  : null
              ),
              p.createElement(
                N.S,
                null,
                p.createElement(Ie, {
                  ref: this.m_refControlBar,
                  bUserIsLoggedIn: this.state.bUserIsLoggedIn,
                  nDisappearingHeaderVisibleHeight: o,
                  bIsCollapsed: this.state.bControlBarIsCollapsed,
                  bShowUpcoming: this.BShowFutureView(),
                  bShouldIncludeLegalFooter: !St(),
                  fnToggleCollapsed: this.ToggleControlBarCollapsed,
                  fnOnFilterChange: this.OnControlBarChange,
                })
              ),
              p.createElement(
                N.S,
                null,
                p.createElement(
                  "div",
                  {
                    className: (0, P.Z)(
                      re().ReserveControlSpace,
                      !this.state.bControlBarIsCollapsed && re().WideLeftGutter
                    ),
                  },
                  p.createElement(
                    N.S,
                    null,
                    this.state.nLogInBannerHeight > 0 &&
                      p.createElement(Gt, {
                        nTopOffset: a,
                        bLargeMode: this.state.nScrollTop <= 0 && !(0, Ue.p)(),
                      })
                  ),
                  p.createElement(
                    N.S,
                    null,
                    this.state.nMobileNavBannerHeight > 0 &&
                      p.createElement(Ae, {
                        bIsUpcoming: this.BShowFutureView(),
                        nTopOffset: t,
                        fnToggleCollapsed: this.MobileNavOpenSettings,
                      }),
                    p.createElement(bt, {
                      nTopOffset: n,
                      bLargeMode: this.state.nScrollTop <= 0 && !(0, Ue.p)(),
                    })
                  ),
                  p.createElement(
                    N.S,
                    null,
                    p.createElement(It, {
                      bShowFutureViewOnly: this.BShowFutureView(),
                      bShowUpdatesOnly: this.BShowUpdatesOnly(),
                      fnOnEventClick: this.OnEventClicked,
                      fnToggleSeeFuture: this.ToggleFutureView,
                      fnResetFilters: c,
                      nVisibleHeight: this.state.nVisibleHeight,
                      nScrollTop: this.state.nScrollTop,
                      nDisappearingHeaderVisibleHeight: i,
                      bUserIsLoggedIn: Boolean(
                        this.state.bUserIsLoggedIn && s.L7.accountid
                      ),
                    })
                  )
                )
              )
            )
          );
        }
      });
      (ft.m_bInitialLoad = !0),
        (0, l.gn)([H.ak], ft.prototype, "OnResize", null),
        (0, l.gn)([H.ak], ft.prototype, "OnScroll", null),
        (0, l.gn)([H.ak], ft.prototype, "MobileNavOpenSettings", null),
        (0, l.gn)([H.ak], ft.prototype, "ToggleControlBarCollapsed", null),
        (0, l.gn)([H.ak], ft.prototype, "OnControlBarChange", null),
        (0, l.gn)([H.ak], ft.prototype, "CloseEventModal", null),
        (0, l.gn)([H.ak], ft.prototype, "OnEventClicked", null),
        (0, l.gn)([H.ak], ft.prototype, "ToggleFutureView", null),
        (0, l.gn)([H.ak], ft.prototype, "ResetAllFilters", null),
        (ft = _t = (0, l.gn)([d.Pi], ft));
      (0, _.EN)(ft);
      function bt(e) {
        const t = (0, u.SZ)(() => (0, f.vY)()),
          [a, n, o, i, c, d, m, _] = (0, u.SZ)(() => {
            var e;
            return [
              (null === (e = t.GetCollectionMetaData()) || void 0 === e
                ? void 0
                : e.clan_event_gid) || void 0,
              t.GetCollectionID(),
              t.BHasCollectionMetaData(),
              t.BIsSaleCalendar(),
              t.GetSaleID(),
              t.BIsSingleSourceCalendar(),
              t.BIsSingleAppCalendar() ? t.GetSingleAppID() : void 0,
              t.BIsSingleGroupCalendar() ? t.GetSingleGroupID() : void 0,
            ];
          }),
          [g, v] = p.useState(!1),
          C = (0, h.jM)(s.De.LANGUAGE);
        if (
          (p.useEffect(() => {
            if (o && a && !r.j1.GetClanEventModel(a)) {
              v(!0);
              (() =>
                (0, l.mG)(this, void 0, void 0, function* () {
                  const e = t.GetCollectionMetaData(),
                    a = E.K.InitFromClanID(e.clanid);
                  yield r.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                    a,
                    e.clan_event_gid,
                    0
                  ),
                    v(!1);
                }))();
            }
          }, [t, o, a]),
          n)
        ) {
          let t, s;
          if (o && !g) {
            const e = r.j1.GetClanEventModel(a);
            e &&
              ((t = e.GetImageURLWithFallback("capsule", C, S.FN.capsule_main)),
              (s = e.GetSaleURL()));
          }
          const l = (function (e, t, a, n) {
            if (!e) return null;
            const r = nt().find((t) => t.collection === e);
            return r ? r.component(t, a, n) : null;
          })(n, e.bLargeMode, t, s);
          if (!l) return null;
          const i = (0, P.Z)(re().HubBanner, Xe().WideBanner);
          return p.createElement(
            "div",
            {
              style: { transform: `translateY(${e.nTopOffset}px)` },
              className: i,
            },
            l
          );
        }
        if (i) {
          const t = (function (e, t) {
            if (!e) return null;
            let a = r.j1.GetClanEventModel(e);
            if (!a) return null;
            let n = (0, h.jM)(s.De.LANGUAGE);
            return p.createElement(et, {
              largeHeader: t,
              titleToken: a.GetNameWithFallback(n),
              subtitleToken: a.GetSubTitleWithSummaryFallback(n),
              headerImg: a.GetImageURLWithFallback(
                "capsule",
                n,
                S.FN.capsule_main
              ),
            });
          })(c, e.bLargeMode);
          if (!t) return null;
          const a = (0, P.Z)(re().HubBanner, Xe().WideBanner);
          return p.createElement(
            "div",
            {
              style: { transform: `translateY(${e.nTopOffset}px)` },
              className: a,
            },
            t
          );
        }
        if (d) {
          const t = (0, P.Z)(
            re().HubBanner,
            Xe().WideBanner,
            e.bLargeMode && re().LargeMode,
            e.bLargeMode && Xe().TallBanner
          );
          return p.createElement(
            "div",
            {
              style: { transform: `translateY(${e.nTopOffset}px)` },
              className: t,
            },
            p.createElement(je.n, { appId: m, clanId: _, bShowRSSFeed: !0 })
          );
        }
        return null;
      }
      let It = class extends p.Component {
        GetCurrentSectionLayout() {
          let e = 0;
          return (0, f.vY)()
            .GetCalendarSections(this.props.bShowFutureViewOnly)
            .map((t) => {
              const a = Math.max(e, t.nTopOffset),
                n = a + t.nRenderedHeight;
              return (e = n), { section: t, nTopOfSection: a };
            });
        }
        GetMergeEventsType() {
          const e = (0, f.vY)(),
            t = e.GetCollectionID();
          return e.BIsSingleSourceCalendar() || t === I.B.Steam
            ? "none"
            : e.BIsShowingFeaturedFeed()
            ? "full"
            : t
            ? "samesource"
            : "full";
        }
        GetCuratorSuggestionSettings(e) {
          if (s.L7.accountid && y.JW.bIsCuratorsEnabled)
            if (e.BIsGlobalCalendar() && !this.props.bShowFutureViewOnly) {
              if (e.m_visibilityStore.BIsGameSourceAllowed(b.Gf.k_ECurator))
                return {
                  nInlineOffset: 1e3,
                  bInlineDismissable: !0,
                  bShowAtEnd: !0,
                };
            } else if (e.GetCollectionID() === I.B.Press)
              return {
                nInlineOffset: 1e3,
                bInlineDismissable: !1,
                bShowAtEnd: !1,
              };
          return {
            nInlineOffset: void 0,
            bInlineDismissable: !1,
            bShowAtEnd: !1,
          };
        }
        render() {
          const e = (0, f.vY)(),
            {
              bShowFutureViewOnly: t,
              bShowUpdatesOnly: a,
              fnOnEventClick: n,
              fnToggleSeeFuture: r,
              fnResetFilters: s,
              nScrollTop: l,
              nDisappearingHeaderVisibleHeight: o,
            } = this.props,
            i = e.GetCalendarSections(t);
          if (0 == i.length) return null;
          const c = (0, Ue.p)(),
            d = e.m_visibilityStore.BAreAllEventsHidden(),
            u = l;
          let m = !0;
          const _ = this.GetCuratorSuggestionSettings(e);
          let h;
          const g = d
            ? []
            : this.GetCurrentSectionLayout().map(
                ({ section: e, nTopOfSection: a }, s) => {
                  const {
                      strId: l,
                      strSectionLabel: o,
                      rtSectionStart: i,
                      rtSectionEnd: d,
                      bIsFutureSection: g,
                      nRenderedHeight: v,
                    } = e,
                    E = a < u,
                    S = (0, P.Z)(re().PastSection, m && re().DarkerBackground);
                  v > 0 &&
                    ((m = !m),
                    void 0 !== _.nInlineOffset &&
                      a >= _.nInlineOffset &&
                      void 0 === h &&
                      (h = s));
                  const C = !t && g;
                  return p.createElement(
                    We.Y,
                    {
                      key: l,
                      className: re().LazyCalendarSectionCtn,
                      placeholderHeight: v,
                      rootMargin: "100% 0px 100% 0px",
                    },
                    p.createElement(Nt, {
                      bRenderStickyHeader: E,
                      strSectionLabel: o,
                      rtSectionStart: i,
                      rtSectionEnd: d,
                      strSectionClassname: S,
                      bUseHorizontalLayout: C,
                      fnOnSeeFutureClick: r,
                      bShowEarliestFirst: t || C,
                      section: e,
                      fnOnEventClick: n,
                      bSuppressHoverEffects: c,
                      strMergeEvents: this.GetMergeEventsType(),
                    })
                  );
                }
              );
          void 0 !== h &&
            g.splice(
              h,
              0,
              p.createElement(Ke, {
                key: "CuratorSuggestions",
                bCanDismiss: _.bInlineDismissable,
              })
            ),
            e.GetCollectionID() === I.B.Press &&
              g.splice(0, 0, p.createElement(pt, { key: "LanguageFeedRow" }));
          const v = i[0].rtSectionStart,
            E = (0, f.vY)().GetCurrentlyLoadedEventCount(0, v),
            S = (0, f.vY)().GetCurrentlyLoadedEventCount(v);
          let C =
              E &&
              (E.nCount
                ? "#EventCalendar_NoMorePastEvents"
                : "#EventCalendar_NoPastEvents"),
            b =
              s &&
              p.createElement(
                L.HP,
                {
                  key: "link-back",
                  toolTipContent: (0, R.Xx)("#EventCalendar_ResetFilters_ttip"),
                  className: (0, P.Z)(re().BackToThePast, re().NoCount),
                  onClick: s,
                },
                (0, R.Xx)("#EventCalendar_ResetFiltersButton")
              );
          d && this.props.fnResetFilters
            ? (C = "#EventCalendar_EmptyCalendar")
            : t
            ? ((C =
                S &&
                (S.nCount
                  ? "#EventCalendar_NoMoreFutureEvents"
                  : "#EventCalendar_NoFutureEvents")),
              (b =
                E &&
                p.createElement(
                  "div",
                  {
                    key: "link-back",
                    className: re().BackToThePast,
                    onClick: r,
                  },
                  (0, R.Xx)("#EventCalendar_PastEventsLink"),
                  p.createElement(
                    "span",
                    { className: re().SeeAllCount },
                    E.nCount + (E.bIsComplete ? "" : "+")
                  )
                )))
            : a &&
              (C =
                E &&
                (E.nCount
                  ? "#EventCalendar_NoMorePastUpdates"
                  : "#EventCalendar_NoPastUpdates"));
          let y = null;
          return (
            (d || e.BHitEventHorizon(t ? "forward" : "backward")) &&
              (y = p.createElement(
                p.Fragment,
                null,
                p.createElement(
                  "div",
                  {
                    key: "no-more-events",
                    className: (0, P.Z)(re().EndOfRows, re().CalendarRow),
                  },
                  p.createElement(
                    "div",
                    { className: re().NoMoreRows },
                    " ",
                    (0, R.Xx)(C),
                    " "
                  )
                ),
                _.bShowAtEnd &&
                  p.createElement(Ke, {
                    key: "CuratorSuggestions",
                    bCanDismiss: !1,
                  }),
                b
              )),
            p.createElement(
              "div",
              {
                className: re().RowContainer,
                style: { transform: `translateY(${o - 1}px)` },
              },
              p.createElement(
                "div",
                { className: re().Rows },
                a &&
                  p.createElement(
                    "div",
                    { className: re().UpdatePageBanner },
                    (0, R.Xx)("#EventCalendar_UpdatesViewHeader")
                  ),
                g,
                y
              )
            )
          );
        }
      };
      It = (0, l.gn)([d.Pi], It);
      let yt = class extends p.Component {
        render() {
          const e = this.props.rgCalendarItems[0].start_time,
            t = (0, f.vY)().GetCurrentlyLoadedEventCount(e);
          return this.props.rgCalendarItems.length <= 1
            ? null
            : p.createElement(
                "div",
                {
                  key: "see-all-link",
                  className: re().MobileSeeAllink,
                  onClick: this.props.fnOnSeeFutureClick,
                },
                (0, R.Xx)("#EventCalendar_FutureEventsLink"),
                p.createElement(
                  "span",
                  { className: re().SeeAllCount },
                  t.nCount + (t.bIsComplete ? "" : "+")
                )
              );
        }
      };
      yt = (0, l.gn)([d.Pi], yt);
      let Dt = class extends p.Component {
        render() {
          const {
            rgCalendarItems: e,
            fnOnEventClick: t,
            fnOnSeeFutureClick: a,
            bSuppressHoverEffects: n,
          } = this.props;
          return e && 0 != e.length
            ? p.createElement(
                "div",
                { className: re().CalendarRow },
                p.createElement(
                  "div",
                  {
                    className: (0, P.Z)(
                      re().HorizontalTileContainer,
                      "HorizontalTileCtn"
                    ),
                  },
                  p.createElement(
                    "div",
                    { className: re().HorizontalTiles },
                    e.map((a) =>
                      p.createElement(Ve, {
                        key: "ht-" + a.unique_id,
                        calendarEvent: a,
                        partnerEventStore: r.j1,
                        fnOnClicked: t,
                        bSuppressHoverEffects: n,
                        mode: e.length > 1 ? "upcoming" : "wide",
                        bHideGameTitle:
                          (0, f.vY)().BIsSingleSourceCalendar() &&
                          (0, f.vY)().BEventMatchCalendarSingleSource(a),
                      })
                    )
                  ),
                  p.createElement(yt, {
                    rgCalendarItems: e,
                    fnOnSeeFutureClick: a,
                  })
                )
              )
            : null;
        }
      };
      Dt = (0, l.gn)([d.Pi], Dt);
      const wt = (0, d.Pi)((e) => {
        const { calendarItem: t, bSuppressHoverEffects: a } = e,
          n = r.j1.GetClanEventModel(t.unique_id);
        return n
          ? p.createElement(
              "div",
              { className: re().EventListTitle },
              p.createElement(Me.a, {
                eventModel: n,
                calendarEvent: t,
                bSuppressHoverEffects: a,
              })
            )
          : null;
      });
      var Bt;
      !(function (e) {
        e[(e.eCurators = 1)] = "eCurators";
      })(Bt || (Bt = {}));
      let Nt = (ht = class extends p.Component {
        constructor() {
          super(...arguments), (this.m_ref = p.createRef());
        }
        componentDidMount() {
          this.UpdatePositioning();
        }
        componentDidUpdate() {
          this.UpdatePositioning();
        }
        UpdatePositioning() {
          this.m_ref.current &&
            (0, c.z)(() => {
              const { section: e } = this.props,
                t = this.m_ref.current.getBoundingClientRect().height;
              e.nRenderedHeight != t && (e.nRenderedHeight = t);
              const a = this.m_ref.current.offsetTop;
              e.nTopOffset != a && (e.nTopOffset = a);
            });
        }
        get cachedCalendarItems() {
          return (0, f.vY)().GetCalendarItemsInTimeRange(
            (0, m.YN)(() => this.props.rtSectionStart),
            (0, m.YN)(() => this.props.rtSectionEnd)
          );
        }
        GetCarouselGroupTitle(e) {
          return e.BIsShowingFeaturedFeed()
            ? (0, R.Xx)("#EventCalendar_GroupTitle_FeaturedCurators")
            : e.BIsGlobalCalendar()
            ? (0, R.Xx)("#EventCalendar_GroupTitle_Curators")
            : "";
        }
        GenerateKeyFromItem(e, t) {
          return t.GetSource() & g.ZT.k_eSteam || t.appid || "full" !== e
            ? t.clanid
            : Bt.eCurators;
        }
        static IsTimestampInRange(e, t, a) {
          return Boolean(e) && t < e && e <= a;
        }
        GetTimestampEvents(e) {
          const t = new Array();
          return t;
        }
        AddTimestampEventsInInterval(e, t, a, n) {
          for (const r of e)
            ht.IsTimestampInRange(r.rtTime, t, a) && n.push(r.component);
        }
        RenderEventList(e) {
          const {
              fnOnEventClick: t,
              bSuppressHoverEffects: a,
              strMergeEvents: n,
            } = this.props,
            s = (0, f.vY)();
          let l = null;
          if ("none" !== n) {
            l = new Map();
            for (const t of e) {
              const e = this.GenerateKeyFromItem(n, t),
                a = l.get(e);
              if (a) a.push(t);
              else {
                const a = new Array();
                a.push(t), l.set(e, a);
              }
            }
          }
          const o = new Array(),
            i = new Array(),
            c = "full" === n ? i : o,
            d = this.GetTimestampEvents(s);
          let u = this.props.bShowEarliestFirst
            ? this.props.rtSectionStart
            : this.props.rtSectionEnd;
          for (const i of e) {
            let e = o;
            if (l) {
              const r = this.GenerateKeyFromItem(n, i),
                o = l.get(r);
              if (!o) continue;
              if ((r === Bt.eCurators && (e = c), o.length >= 3)) {
                const n =
                    r === Bt.eCurators ? this.GetCarouselGroupTitle(s) : "",
                  c = !o.find((e) => e.clanid != i.clanid);
                o.sort((e, t) =>
                  t.score != e.score
                    ? t.score - e.score
                    : t.start_time - e.start_time
                ),
                  e.push(
                    p.createElement(
                      "div",
                      {
                        key: i.unique_id,
                        className: re().CalendarEventListRow,
                      },
                      p.createElement(
                        "div",
                        { className: re().CalendarEventListContainer },
                        p.createElement(ct, {
                          key: i.unique_id,
                          rgCalendarItems: o,
                          bSuppressHoverEffects: a,
                          fnOnEventClick: t,
                          bHideGameTitle: c,
                          strMultipleSourceTitle: n,
                        })
                      )
                    )
                  ),
                  l.delete(r);
                continue;
              }
            }
            e === o &&
              (this.AddTimestampEventsInInterval(
                d,
                Math.min(u, i.start_time),
                Math.max(u, i.start_time),
                o
              ),
              (u = i.start_time)),
              e.push(
                p.createElement(
                  "div",
                  { key: i.unique_id, className: re().CalendarRow },
                  p.createElement(Ve, {
                    calendarEvent: i,
                    partnerEventStore: r.j1,
                    mode: "wide",
                    fnOnClicked: t,
                    bSuppressHoverEffects: a,
                    bHideGameTitle:
                      s.BIsSingleSourceCalendar() &&
                      s.BEventMatchCalendarSingleSource(i),
                  })
                )
              );
          }
          return (
            this.props.bShowEarliestFirst
              ? this.AddTimestampEventsInInterval(
                  d,
                  u,
                  this.props.rtSectionEnd,
                  o
                )
              : this.AddTimestampEventsInInterval(
                  d,
                  this.props.rtSectionStart,
                  u,
                  o
                ),
            o.push(...i),
            o
          );
        }
        render() {
          const {
            bRenderStickyHeader: e,
            strSectionLabel: t,
            strSectionClassname: a,
            bUseHorizontalLayout: n,
            fnOnSeeFutureClick: r,
            bShowEarliestFirst: s,
            fnOnEventClick: l,
            bSuppressHoverEffects: o,
          } = this.props;
          let { rgCalendarItems: i, bIsComplete: c } = this.cachedCalendarItems;
          if (0 == i.length && c)
            return p.createElement("div", { ref: this.m_ref, className: a });
          i.length && s && (i = i.slice().reverse());
          let d = null;
          i.length > 0 &&
            (d = p.createElement(
              "div",
              {
                className: (0, P.Z)(
                  re().GroupHeader,
                  re().CalendarRow,
                  e && re().HeaderAtTop
                ),
              },
              p.createElement(
                "div",
                { className: re().GroupHeaderTitle },
                p.createElement("span", null, t),
                p.createElement("div", { className: re().GroupHeaderLine }),
                n &&
                  i.length > 3 &&
                  p.createElement(
                    "div",
                    { className: re().SeeAllLink, onClick: r },
                    (0, R.Xx)("#EventCalendar_FutureEventsLink"),
                    p.createElement(
                      "span",
                      { className: re().SeeAllCount },
                      i.length + (c ? "" : "+")
                    )
                  )
              )
            ));
          let u = null;
          return (
            (!y.JW.bRequireAllEventsLoadedInTimeBlock ||
              c ||
              (n && i.length >= 3)) &&
              (u = n
                ? p.createElement(Dt, {
                    rgCalendarItems: i.slice(0, 3),
                    fnOnEventClick: l,
                    fnOnSeeFutureClick: r,
                    bSuppressHoverEffects: o,
                  })
                : this.RenderEventList(i)),
            p.createElement(
              "div",
              { ref: this.m_ref, className: a },
              d,
              u,
              !c &&
                !n &&
                p.createElement(Tt, {
                  bShowEarliestFirst: this.props.bShowEarliestFirst,
                })
            )
          );
        }
      });
      (0, l.gn)([c.Fl], Nt.prototype, "cachedCalendarItems", null),
        (Nt = ht = (0, l.gn)([d.Pi], Nt));
      const Tt = (e) => {
          const t = (0, f.vY)().GetTimeEdgeForDirection(
            e.bShowEarliestFirst ? "forward" : "backward",
            void 0
          );
          return p.createElement(
            "div",
            { className: re().Loading },
            p.createElement(X.V, { size: "xlarge", position: "center" }),
            t &&
              p.createElement(
                p.Fragment,
                null,
                p.createElement(
                  "div",
                  { className: re().LoadingProgress },
                  (0, R.Xx)(
                    "#EventCalendar_LoadEventsProgress",
                    Number((0, f.vY)().GetNumEventsLoaded()).toLocaleString(),
                    (0, R.jr)(t)
                  )
                ),
                p.createElement(
                  "div",
                  { className: re().AdjustFiltersText },
                  (0, R.Xx)("#EventCalendar_LoadEventsFilters")
                )
              )
          );
        },
        Gt = (e) =>
          p.createElement(
            "div",
            {
              className: (0, P.Z)(
                re().LogInFeedRow,
                !e.bLargeMode && re().LogInSmallMode
              ),
              style: { transform: `translateY(${e.nTopOffset}px)` },
            },
            p.createElement(
              "div",
              { className: re().PromptCtn },
              p.createElement(
                "div",
                { className: re().LogInFeedTitle },
                (0, R.Xx)("#EventCalendar_SignIn_Title")
              ),
              p.createElement(
                "button",
                { onClick: gt.Xt, className: re().LogInButton },
                (0, R.Xx)("#Login_SignIn")
              ),
              p.createElement(
                "div",
                { className: re().LogInFeedText },
                (0, R.Xx)("#EventCalendar_SignIn_Text")
              )
            )
          );
      a(14627), a(67754), a(70350), a(27535), a(86605);
    },
    26273: (e, t, a) => {
      "use strict";
      a.d(t, {
        HG: () => s,
        LJ: () => d,
        Zh: () => i,
        _: () => o,
        ml: () => l,
        zs: () => c,
      });
      a(26149);
      var n = a(49186),
        r = (a(3356), a(46713), a(67294));
      const s = "0px 0px 100% 0px",
        l = "tab";
      function o() {
        return window.innerWidth >= 940;
      }
      function i(e = 940) {
        const [t, a] = (0, r.useState)(window.innerWidth >= e);
        return (
          (0, r.useEffect)(() => {
            const t = () => {
              a(window.innerWidth >= e);
            };
            return (
              window.addEventListener("resize", t),
              () => window.removeEventListener("resize", t)
            );
          }, [e]),
          t
        );
      }
      function c(e) {
        const t = i(940),
          a = (0, n.fD)(e);
        return t
          ? { nMaxCapsulesPerRow: a.nMaxItemsPerRow, bScreenIsWide: t }
          : {
              nMaxCapsulesPerRow: Math.min(
                Math.max(
                  Math.floor(window.innerWidth / a.nItemMinimumWidth),
                  1
                ),
                a.nMaxItemsPerRow
              ),
              bScreenIsWide: t,
            };
      }
      function d(e) {
        const t = (0, n.fD)(e);
        return o()
          ? t.nMaxItemsPerRow
          : Math.min(
              Math.max(Math.floor(window.innerWidth / t.nItemMinimumWidth), 1),
              t.nMaxItemsPerRow
            );
      }
    },
    11108: (e, t, a) => {
      "use strict";
      a.d(t, { LO: () => h, oS: () => p, xH: () => _ });
      var n = a(70655),
        r = a(93976),
        s = a(90666),
        l = a(9669),
        o = a.n(l),
        i = (a(82946), a(26149), a(67294)),
        c = a(99533),
        d = a(64839),
        u = a(77520);
      class m {
        constructor() {
          (this.m_mapBadgeInfo = new Map()),
            (this.m_mapBadgeLoadPromises = new Map()),
            (this.m_eventBadgehangeCallback = new Map()),
            (this.m_mapInitialBadgeInfo = new Map());
        }
        GetBadgeInfo(e) {
          return this.m_mapBadgeInfo.get(e);
        }
        GetInitialBadgeInfo(e) {
          return this.m_mapInitialBadgeInfo.get(e);
        }
        GetBadgeInfoChangeCallback(e) {
          return (
            this.m_eventBadgehangeCallback.has(e) ||
              this.m_eventBadgehangeCallback.set(e, new c.pB()),
            this.m_eventBadgehangeCallback.get(e)
          );
        }
        Test_SetBadgeInfo(e) {
          this.m_mapBadgeInfo.set(e.badgeid, e),
            this.GetBadgeInfoChangeCallback(e.badgeid).Dispatch(e);
        }
        LoadBadgeInfo(e) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            return this.m_mapBadgeInfo.has(e)
              ? this.m_mapBadgeInfo.get(e)
              : (this.m_mapBadgeLoadPromises.has(e) ||
                  this.m_mapBadgeLoadPromises.set(
                    e,
                    this.InternalLoadBadgeInfo(e)
                  ),
                this.m_mapBadgeLoadPromises.get(e));
          });
        }
        InternalLoadBadgeInfo(e) {
          var t, a;
          return (0, n.mG)(this, void 0, void 0, function* () {
            if (!e || !Number.isInteger(e)) return { badgeid: e, level: 0 };
            let n = null;
            try {
              const l = (0, s.Kc)();
              (0,
              u.X)(l == s.De.STORE_BASE_URL || l == s.De.COMMUNITY_BASE_URL, "ajaxgetbadgeinfo called on wrong unsupported site: " + l);
              const i = l + "actions/ajaxgetbadgeinfo",
                c = { badgeid: e },
                d = yield o().get(i, { params: c, withCredentials: !0 });
              if (
                200 == d.status &&
                (1 ==
                  (null === (t = d.data) || void 0 === t
                    ? void 0
                    : t.success) ||
                  42 ==
                    (null === (a = d.data) || void 0 === a
                      ? void 0
                      : a.success))
              ) {
                const t = {
                  badgeid: d.data.badgeid,
                  level: d.data.level,
                  xp: d.data.xp,
                  completion_time: d.data.completion_time,
                };
                return (
                  this.m_mapBadgeInfo.set(e, t),
                  this.m_mapInitialBadgeInfo.has(e) ||
                    this.m_mapInitialBadgeInfo.set(e, t),
                  t
                );
              }
              n = (0, r.l)(d);
            } catch (e) {
              n = (0, r.l)(e);
            }
            console.error(
              "useEventBadge: " + (null == n ? void 0 : n.strErrorMsg),
              n
            );
            const l = { badgeid: e, level: 0 };
            return this.m_mapBadgeInfo.set(e, l), l;
          });
        }
        static Get() {
          return (
            m.s_Singleton ||
              ((m.s_Singleton = new m()),
              "dev" == s.De.WEB_UNIVERSE &&
                (window.g_UserBadgeForEventStore = m.s_Singleton)),
            m.s_Singleton
          );
        }
      }
      function p(e) {
        const [t, a] = (0, i.useState)(m.Get().GetBadgeInfo(e));
        return (
          (0, i.useEffect)(() => {
            !t &&
              e &&
              m
                .Get()
                .LoadBadgeInfo(e)
                .then((e) => a(e));
          }, [e, t]),
          (0, d.Qg)(m.Get().GetBadgeInfoChangeCallback(e), a),
          t
        );
      }
      function _(e) {
        m.Get().Test_SetBadgeInfo(e);
      }
      function h(e) {
        const [t, a] = (0, i.useState)(m.Get().GetInitialBadgeInfo(e));
        return (
          (0, i.useEffect)(() => {
            !t && e && m.Get().LoadBadgeInfo(e);
          }, [e, t]),
          (0, d.Qg)(m.Get().GetBadgeInfoChangeCallback(e), () =>
            a(m.Get().GetInitialBadgeInfo(e))
          ),
          t
        );
      }
    },
    21946: (e, t, a) => {
      "use strict";
      a.d(t, { p: () => s });
      var n = a(90666),
        r = a(99646);
      class s {
        constructor() {
          (this.m_salePageBackgroundOverride = null),
            (this.m_salePageBackgroundWEBM = null),
            (this.m_salePageBackgroundMP4 = null),
            (this.m_salePageContextToken = null),
            (this.m_storyImages = null);
        }
        BHasSalePageBackgroundOverride() {
          return Boolean(this.m_salePageBackgroundOverride);
        }
        GetSalePageBackgroundOverride() {
          return this.m_salePageBackgroundOverride;
        }
        GetSalePageBackgroundMP4() {
          return this.m_salePageBackgroundMP4;
        }
        GetSalePageBackgroundWEBM() {
          return this.m_salePageBackgroundWEBM;
        }
        GetStoryImage(e) {
          return this.m_storyImages[e];
        }
        GetSalePageContext() {
          return this.m_salePageContextToken;
        }
        UpdateBackground(e, t) {
          (this.m_salePageBackgroundOverride = t.sale_pg_background_override),
            (this.m_salePageBackgroundMP4 = t.sale_pg_background_mp4),
            (this.m_salePageBackgroundWEBM = t.sale_pg_background_webm),
            (this.m_storyImages[e] = t.story_image),
            (this.m_salePageContextToken = t.sale_pg_context_token);
        }
        static Get() {
          return (
            s.s_Singleton ||
              ((s.s_Singleton = new s()),
              s.s_Singleton.Init(),
              "dev" == n.De.WEB_UNIVERSE &&
                (window.g_PromotionPlanningStore = s.s_Singleton)),
            s.s_Singleton
          );
        }
        Init() {
          (this.m_salePageBackgroundOverride = (0, n.ip)(
            "doorinfobackground",
            "application_config"
          )),
            (this.m_salePageBackgroundWEBM = (0, n.ip)(
              "doorinfowebm",
              "application_config"
            )),
            (this.m_salePageBackgroundMP4 = (0, n.ip)(
              "doorinfomp4",
              "application_config"
            )),
            (this.m_storyImages = (0, n.ip)(
              "storyimages",
              "application_config"
            )),
            this.m_storyImages || (this.m_storyImages = new Array(r.Nh));
        }
      }
    },
    99646: (e, t, a) => {
      "use strict";
      a.d(t, {
        Nh: () => _,
        Pe: () => f,
        Q5: () => b,
        Qr: () => g,
        Zb: () => h,
        _4: () => E,
        jK: () => v,
        rr: () => C,
        wB: () => S,
      });
      var n = a(70655),
        r = a(9669),
        s = a.n(r),
        l = a(22188),
        o = a(67294),
        i = (a(26149), a(21946), a(82946), a(93976)),
        c = a(99533),
        d = a(64839),
        u = a(90666),
        m = a(5525),
        p = a(22925);
      const _ = 6;
      class h {
        constructor() {
          (this.m_bLoadedDuringInit = !1),
            (this.m_strLastDoorOpenKey = "video_noneset"),
            (this.m_bIsAnyDoorOpened = !1),
            (this.m_nHighestDoorOpened = -1),
            (this.m_mapDoorOpenPromise = new Map()),
            (this.m_mapChangeCallback = new Map()),
            (this.m_doorInitializedChangedCallback = new c.pB()),
            (this.m_largestDoorChangeCallback = new c.pB()),
            (this.m_bIsAnyDoorOpenChangeCallback = new c.pB());
        }
        GetLastDoorOpen() {
          return this.m_strLastDoorOpenKey;
        }
        GetRawDoorData() {
          return this.m_userData;
        }
        BIsDoorOpened(e) {
          return (
            null != e &&
            null != e &&
            !!this.m_userData &&
            Boolean(e < this.m_userData.length && this.m_userData[e].opened)
          );
        }
        BCanUserOpenDoor(e) {
          let t = m.JW.GetTimeNowWithOverride();
          return (
            u.L7.logged_in &&
            this.m_userData &&
            e < this.m_userData.length &&
            t >= this.m_userData[e].rtime_start &&
            t <= this.m_userData[e].rtime_end
          );
        }
        GetDoorCount() {
          return this.m_userData ? this.m_userData.length : 0;
        }
        BIsAnyDoorOpened() {
          return this.m_bIsAnyDoorOpened;
        }
        GetIsAnyDoorOpenChange() {
          return this.m_bIsAnyDoorOpenChangeCallback;
        }
        GetLargestDoorOpenIndex() {
          return this.m_nHighestDoorOpened;
        }
        GetLargestDoorIndexChange() {
          return this.m_largestDoorChangeCallback;
        }
        GetDoorStateChangeCallback(e) {
          return (
            this.m_mapChangeCallback.has(e) ||
              this.m_mapChangeCallback.set(e, new c.pB()),
            this.m_mapChangeCallback.get(e)
          );
        }
        GetDoorStateInitializedChangeCallback() {
          return this.m_doorInitializedChangedCallback;
        }
        BIsInitialized() {
          return this.m_bLoadedDuringInit;
        }
        GetMaxDoor() {
          return _;
        }
        SetInMemoryUpdateDoorOpenUpto(e) {
          for (let t = 0; t < _; ++t) {
            const a = t <= e;
            this.m_userData[t].opened != a &&
              ((this.m_userData[t].opened = a),
              this.GetDoorStateChangeCallback(t).Dispatch(a));
          }
          this.RecomputeState();
        }
        SetInMemorySpecificDoorState(e, t) {
          e < _
            ? this.m_userData[e].opened != t &&
              ((this.m_userData[e].opened = t),
              this.GetDoorStateChangeCallback(e).Dispatch(t),
              this.RecomputeState())
            : console.error("CDoorStore: Wrong door being set " + e);
        }
        RecomputeState() {
          var e;
          let t = -1;
          null === (e = this.m_userData) ||
            void 0 === e ||
            e.forEach((e) => {
              e.opened && e.day > t && (t = e.day);
            });
          const a = -1 != t;
          a != this.m_bIsAnyDoorOpened &&
            ((this.m_bIsAnyDoorOpened = a),
            this.GetIsAnyDoorOpenChange().Dispatch(a)),
            t != this.m_nHighestDoorOpened &&
              ((this.m_nHighestDoorOpened = t),
              this.GetLargestDoorIndexChange().Dispatch(t));
        }
        OpenDoor(e, t = !0, a = "", r = !1) {
          var s;
          return (0, n.mG)(this, void 0, void 0, function* () {
            return !u.L7.logged_in ||
              !this.m_userData ||
              e > this.m_userData.length ||
              e < 0
              ? ("dev" == u.De.WEB_UNIVERSE &&
                  console.log(
                    "CDoorStore.OpenDoor Early fail settings:",
                    u.L7.logged_in,
                    this.m_userData,
                    e,
                    null === (s = this.m_userData) || void 0 === s
                      ? void 0
                      : s.length
                  ),
                null)
              : this.m_mapDoorOpenPromise.has(e)
              ? this.m_mapDoorOpenPromise.get(e)
              : this.m_userData[e].opened == t
              ? {}
              : (this.m_mapDoorOpenPromise.has(e) ||
                  this.m_mapDoorOpenPromise.set(
                    e,
                    this.InternalOpenDoor(e, t, a, r)
                  ),
                this.m_mapDoorOpenPromise.get(e));
          });
        }
        InternalOpenDoor(e, t = !0, a, r = !1) {
          var l;
          return (0, n.mG)(this, void 0, void 0, function* () {
            let n = u.De.STORE_BASE_URL + "saleaction/ajaxopendoor";
            const o = new FormData();
            o.append("sessionid", u.De.SESSIONID),
              a && o.append("datarecord", a),
              r && o.append("fake_open", "" + r),
              o.append("door_index", "" + e),
              o.append("clan_accountid", "" + u.JA.CLANACCOUNTID),
              t || o.append("open_door", "0");
            let c = null;
            try {
              let a = yield s().post(n, o, { withCredentials: !0 });
              if (
                200 == (null == a ? void 0 : a.status) &&
                1 ==
                  (null === (l = null == a ? void 0 : a.data) || void 0 === l
                    ? void 0
                    : l.success)
              )
                return (
                  (this.m_userData[e].opened = t),
                  (this.m_strLastDoorOpenKey = "door_" + (t ? e : e - 1)),
                  a.data.capsuleinsert && (0, p.j3)([a.data.capsuleinsert]),
                  this.GetDoorStateChangeCallback(e).Dispatch(t),
                  this.RecomputeState(),
                  a.data
                );
              c = (0, i.l)(a);
            } catch (e) {
              c = (0, i.l)(e);
            }
            return (
              this.m_mapDoorOpenPromise.delete(e),
              console.error("OpenDoor hit error: " + c.strErrorMsg, c),
              null
            );
          });
        }
        LoadDoorData() {
          return (0, n.mG)(this, void 0, void 0, function* () {
            return this.m_bLoadedDuringInit
              ? this.m_userData
              : (this.m_initialLoadPromise ||
                  (this.m_initialLoadPromise = this.InternalLoadDoorData()),
                this.m_initialLoadPromise);
          });
        }
        InternalLoadDoorData() {
          var e;
          return (0, n.mG)(this, void 0, void 0, function* () {
            const t = u.De.STORE_BASE_URL + "saleaction/ajaxgetopendoor";
            let a = null;
            try {
              const n = yield s().get(t, { withCredentials: !0 });
              if (
                200 == n.status &&
                (null === (e = n.data) || void 0 === e ? void 0 : e.doordata)
              ) {
                (this.m_userData = n.data.doordata),
                  (this.m_bLoadedDuringInit = !0);
                for (let e = 0; e < _; ++e)
                  this.GetDoorStateChangeCallback(e).Dispatch(
                    this.m_userData[e].opened
                  );
                return (
                  this.GetDoorStateInitializedChangeCallback().Dispatch(
                    this.m_bLoadedDuringInit
                  ),
                  this.RecomputeState(),
                  this.m_userData
                );
              }
              a = (0, i.l)(n);
            } catch (e) {
              a = (0, i.l)(e);
            }
            return (
              console.error(
                "CPromotionPlanningStore.UpdateAdminPlan failed: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a
              ),
              null
            );
          });
        }
        CloseAllDoors() {
          var e;
          return (0, n.mG)(this, void 0, void 0, function* () {
            let t = u.De.STORE_BASE_URL + "saleaction/ajaxclosealldoor";
            const a = new FormData();
            a.append("sessionid", u.De.SESSIONID);
            let n = null;
            try {
              let r = yield s().post(t, a, { withCredentials: !0 });
              if (
                200 == r.status &&
                1 ==
                  (null === (e = null == r ? void 0 : r.data) || void 0 === e
                    ? void 0
                    : e.success)
              ) {
                console.log("CDoorStore - closed " + r.data.count);
                for (let e = 0; e < _; ++e)
                  (this.m_userData[e].opened = !1),
                    this.GetDoorStateChangeCallback(e).Dispatch(
                      this.m_userData[e].opened
                    );
                return this.RecomputeState(), !0;
              }
              n = (0, i.l)(r);
            } catch (e) {
              n = (0, i.l)(e);
            }
            return (
              console.error(
                "CPromotionPlanningStore.CloseAllDoors failed: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n
              ),
              null
            );
          });
        }
        static Get() {
          return (
            h.s_Singleton ||
              ((h.s_Singleton = new h()),
              h.s_Singleton.Init(),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_EventDoorStore = h.s_Singleton)),
            h.s_Singleton
          );
        }
        Init() {
          (this.m_userData = (0, u.kQ)("doorinfo", "application_config")),
            this.m_userData &&
              ((this.m_bLoadedDuringInit = !0),
              this.RecomputeState(),
              "dev" == u.De.WEB_UNIVERSE &&
                console.log("CDoorStore Loading - ", this.m_userData));
        }
      }
      function g() {
        return { fnOpenDoor: h.Get().OpenDoor };
      }
      function v() {
        const [e, t] = (0, o.useState)(h.Get().BIsInitialized());
        return (
          (0, o.useEffect)(() => {
            e || h.Get().LoadDoorData();
          }, [e]),
          (0, d.Qg)(h.Get().GetDoorStateInitializedChangeCallback(), t),
          e
        );
      }
      function E(e) {
        const t = v(),
          [a, n] = (0, o.useState)(t ? h.Get().BIsDoorOpened(e) : void 0);
        return (0, d.Qg)(h.Get().GetDoorStateChangeCallback(e), n), a;
      }
      function S() {
        const e = v(),
          [t, a] = (0, o.useState)(e ? h.Get().GetLargestDoorOpenIndex() : -1);
        return (0, d.Qg)(h.Get().GetLargestDoorIndexChange(), a), t;
      }
      function C() {
        const e = v(),
          [t, a] = (0, o.useState)(!!e && h.Get().BIsAnyDoorOpened());
        return (0, d.Qg)(h.Get().GetIsAnyDoorOpenChange(), a), t;
      }
      function f(e) {
        h.Get().SetInMemoryUpdateDoorOpenUpto(e);
      }
      function b(e, t) {
        h.Get().SetInMemorySpecificDoorState(e, t);
      }
      (0, n.gn)([l.LO], h.prototype, "m_bIsAnyDoorOpened", void 0),
        (0, n.gn)([l.LO], h.prototype, "m_nHighestDoorOpened", void 0),
        (0, n.gn)([d.ak], h.prototype, "BIsDoorOpened", null),
        (0, n.gn)([d.ak], h.prototype, "OpenDoor", null);
    },
    35577: (e, t, a) => {
      "use strict";
      a.d(t, { M: () => c });
      var n = a(70655),
        r = (a(3389), a(22188), a(54698), a(9669)),
        s = a.n(r),
        l = a(90666),
        o = a(7200),
        i = (a(82946), a(49186));
      a(26149);
      class c extends o.cA {
        DeleteOldAnnouncement(e, t) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            let a = new URLSearchParams();
            a.append("sessionid", l.De.SESSIONID);
            let n =
                l.De.COMMUNITY_BASE_URL +
                "/gid/" +
                e.ConvertTo64BitString() +
                "/announcements/ajaxdeleteannouncement/" +
                t,
              r = yield s().post(n, a);
            if (1 != r.data.success) throw r.data;
            return this.RemoveGIDFromList(e, i.Vv + t), r.data;
          });
        }
        static Get() {
          return (
            c.sm_Instance || ((c.sm_Instance = new c()), c.sm_Instance.Init()),
            c.sm_Instance
          );
        }
      }
    },
    7209: (e, t, a) => {
      "use strict";
      a.d(t, { E: () => d });
      var n = a(70655),
        r = a(9669),
        s = a.n(r),
        l = a(22188),
        o = (a(26149), a(54698), a(82946), a(41311)),
        i = a(90666),
        c = a(76776);
      class d {
        constructor() {
          (this.m_mapNewsCurators = new Map()),
            (this.m_bIsLoadComplete = !1),
            (this.m_mapLangToNewsCurators = new Map()),
            (this.m_LoadingPromise = null);
        }
        static Get() {
          return (
            d.s_newsCuratorStore ||
              ((d.s_newsCuratorStore = new d()),
              (d.s_newsCuratorStore.m_LoadingPromise =
                d.s_newsCuratorStore.Init()),
              (window.g_NewsCuratorStore = d.s_newsCuratorStore)),
            d.s_newsCuratorStore
          );
        }
        IsLoaded() {
          return this.m_bIsLoadComplete;
        }
        WaitForInitialLoad() {
          return this.m_LoadingPromise;
        }
        get allNewsCurators() {
          return Array.from(this.m_mapNewsCurators.values());
        }
        GetCuratorsForLang(e) {
          return this.m_mapLangToNewsCurators.get(e);
        }
        GetNewsCuratorForAccount(e) {
          return this.m_mapNewsCurators.get(e);
        }
        BIsTrustedPressAccount(e) {
          return void 0 !== this.GetNewsCuratorForAccount(e);
        }
        Init() {
          return (0, n.mG)(this, void 0, void 0, function* () {
            o.LJ.GetLanguageListForRealms([i.De.EREALM]).forEach((e) =>
              this.m_mapLangToNewsCurators.set(e, [])
            );
            const e = i.De.STORE_BASE_URL + "events/ajaxgetnewscurators";
            let t = { origin: self.origin };
            const a = yield s().get(e, { params: t });
            (0, l.z)(() => {
              a.data && a.data.success && this.HandleCuratorResponse(a.data),
                (this.m_bIsLoadComplete = !0);
            });
          });
        }
        HandleCuratorResponse(e) {
          var t;
          if (
            (e.groupvanityinfo && c.sV.RegisterClanData(e.groupvanityinfo),
            e.newscuratorinfo)
          )
            for (const a of e.newscuratorinfo) {
              if (this.m_mapNewsCurators.has(a.clanAccountID)) continue;
              this.m_mapNewsCurators.set(a.clanAccountID, a);
              const e = c.sV.GetClanInfoByClanAccountID(a.clanAccountID);
              e &&
                (null ===
                  (t = this.m_mapLangToNewsCurators.get(e.rss_language)) ||
                  void 0 === t ||
                  t.push(a));
            }
        }
      }
      (0, n.gn)([l.LO], d.prototype, "m_mapNewsCurators", void 0),
        (0, n.gn)([l.LO], d.prototype, "m_bIsLoadComplete", void 0),
        (0, n.gn)([l.LO], d.prototype, "m_mapLangToNewsCurators", void 0),
        (0, n.gn)([l.Fl], d.prototype, "allNewsCurators", null),
        (0, n.gn)([l.aD], d.prototype, "HandleCuratorResponse", null);
    },
    47593: (e, t, a) => {
      "use strict";
      a.d(t, { h: () => m });
      var n = a(70655),
        r = a(9669),
        s = a.n(r),
        l = (a(54698), a(90666)),
        o = a(22188),
        i = (a(82946), a(93976)),
        c = a(3389);
      class d {
        constructor(e) {
          (this.m_stats = Object.assign(
            {
              event_gid: "0",
              library_overview_shown: 0,
              library_overview_read: 0,
              app_details_spotlight_shown: 0,
              app_details_spotlight_read: 0,
              app_details_activity_shown: 0,
              app_details_activity_read: 0,
              store_app_page_shown: 0,
              store_app_page_read: 0,
              store_front_page_shown: 0,
              store_front_page_read: 0,
              community_hub_shown: 0,
              community_hub_read: 0,
              news_hub_shown: 0,
              news_hub_read: 0,
              event_scroller_read: 0,
            },
            e
          )),
            (this.m_stats.total_showm =
              this.m_stats.library_overview_shown +
              this.m_stats.app_details_activity_shown +
              this.m_stats.app_details_spotlight_shown +
              this.m_stats.store_app_page_shown +
              this.m_stats.store_front_page_shown +
              this.m_stats.community_hub_shown +
              this.m_stats.news_hub_shown),
            (this.m_stats.total_read =
              this.m_stats.library_overview_read +
              this.m_stats.app_details_activity_read +
              this.m_stats.app_details_spotlight_read +
              this.m_stats.store_app_page_read +
              this.m_stats.store_front_page_read +
              this.m_stats.community_hub_read +
              this.m_stats.news_hub_read +
              this.m_stats.event_scroller_read),
            (this.m_lastUpdateTime = e ? Math.floor(Date.now() / 1e3) : 0);
        }
        reset(e) {
          (this.m_stats.library_overview_shown = e.library_overview_shown),
            (this.m_stats.library_overview_read = e.library_overview_read),
            (this.m_stats.app_details_spotlight_shown =
              e.app_details_spotlight_shown),
            (this.m_stats.app_details_spotlight_read =
              e.app_details_spotlight_read),
            (this.m_stats.app_details_activity_shown =
              e.app_details_activity_shown),
            (this.m_stats.app_details_activity_read =
              e.app_details_activity_read),
            (this.m_stats.store_app_page_shown = e.store_app_page_shown),
            (this.m_stats.store_app_page_read = e.store_app_page_read),
            (this.m_stats.store_front_page_shown = e.store_front_page_shown),
            (this.m_stats.store_front_page_read = e.store_front_page_read),
            (this.m_stats.community_hub_shown = e.community_hub_shown),
            (this.m_stats.community_hub_read = e.community_hub_read),
            (this.m_stats.news_hub_shown = e.news_hub_shown),
            (this.m_stats.news_hub_read = e.news_hub_read),
            (this.m_stats.event_scroller_read = e.event_scroller_read),
            (this.m_stats.total_showm =
              e.library_overview_shown +
              e.app_details_activity_shown +
              e.app_details_spotlight_shown +
              e.store_app_page_shown +
              e.store_front_page_shown +
              e.community_hub_shown +
              e.news_hub_shown),
            (this.m_stats.total_read =
              e.library_overview_read +
              e.app_details_activity_read +
              e.app_details_spotlight_read +
              e.store_app_page_read +
              e.store_front_page_read +
              e.community_hub_read +
              e.news_hub_read +
              e.event_scroller_read),
            (this.m_lastUpdateTime = Date.now() / 1e3);
        }
      }
      (0, n.gn)([o.LO], d.prototype, "m_stats", void 0),
        (0, n.gn)([o.LO], d.prototype, "m_lastUpdateTime", void 0);
      class u {
        constructor() {
          (this.m_mapPerEventStats = new Map()),
            (this.m_mapSummaryStats = new Map()),
            (this.m_bLoadedFromConfig = !1);
        }
        LazyInit() {
          if (!this.m_bLoadedFromConfig) {
            let e = (0, l.kQ)("trackingdatasummary", "application_config");
            this.ValidateStoreDefault(e) &&
              this.m_mapSummaryStats.set(e.clan_account_id, new d(e));
            let t = (0, l.kQ)("trackingdataevents", "application_config");
            this.ValidateStoreDefaultList(t) &&
              t.forEach((e) => {
                let t = c.K.InitFromClanID(e.clan_account_id),
                  a = this.GetKey(t, e.event_gid);
                this.m_mapPerEventStats.set(a, new d(e));
              }),
              (this.m_bLoadedFromConfig = !0);
          }
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !(!t || "object" != typeof t || !t.clan_account_id) &&
            "number" == typeof t.clan_account_id &&
            t.clan_account_id > 0
          );
        }
        ValidateStoreDefaultList(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].clan_account_id &&
            t[0].clan_account_id > 0
          );
        }
        GetStatsFor(e, t) {
          this.LazyInit();
          let a = this.GetKey(e, t);
          return (
            this.m_mapPerEventStats.has(a) ||
              this.m_mapPerEventStats.set(a, new d(null)),
            this.m_mapPerEventStats.get(a)
          );
        }
        GetTotalStats(e) {
          return (
            this.LazyInit(),
            this.m_mapSummaryStats.has(e.GetAccountID()) ||
              this.m_mapSummaryStats.set(e.GetAccountID(), new d(null)),
            this.m_mapSummaryStats.get(e.GetAccountID())
          );
        }
        GetKey(e, t) {
          return e.GetAccountID() + "_" + t;
        }
        LoadStatsForEvents(e, t, a) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            this.LazyInit();
            let n = Date.now() / 1e3,
              r = t.filter((t) => {
                let a = this.GetKey(e, t),
                  r = this.m_mapPerEventStats.get(a);
                return !r || null == r.m_stats || r.m_lastUpdateTime < n - 3600;
              });
            if (!r || 0 == r.length) return !0;
            let c = (0, l.Kc)() + "actions/ajaxgetpartnereventsreport",
              u = {
                sessionid: l.De.SESSIONID,
                clan_account_id: e.GetAccountID(),
                gidlist: r.join(","),
              };
            try {
              let t = yield s().get(c, {
                params: u,
                withCredentials: !0,
                cancelToken: null == a ? void 0 : a.token,
              });
              return (
                (0, o.z)(() => {
                  this.m_mapSummaryStats.set(
                    e.GetAccountID(),
                    new d(t.data.summary)
                  ),
                    t.data.events_detail.forEach((t) => {
                      let a = this.GetKey(e, t.event_gid);
                      if (this.m_mapPerEventStats.has(a)) {
                        this.m_mapPerEventStats.get(a).reset(t);
                      } else this.m_mapPerEventStats.set(a, new d(t));
                    });
                }),
                !0
              );
            } catch (e) {
              let t = (0, i.l)(e);
              console.error("CPartnerEventReportingStore " + t.strErrorMsg, t);
            }
            return !1;
          });
        }
        BHasEventStats(e, t) {
          let a = c.K.InitFromClanID(e),
            n = this.GetKey(a, t),
            r = this.m_mapPerEventStats.get(n);
          return Boolean(r && r.m_stats);
        }
      }
      (0, n.gn)([o.LO], u.prototype, "m_mapPerEventStats", void 0),
        (0, n.gn)([o.LO], u.prototype, "m_mapSummaryStats", void 0),
        (0, n.gn)([o.aD], u.prototype, "LazyInit", null);
      const m = new u();
    },
    22925: (e, t, a) => {
      "use strict";
      a.d(t, {
        F2: () => h,
        KX: () => v,
        dc: () => S,
        ix: () => g,
        j3: () => _,
        vS: () => E,
      });
      var n,
        r = a(70655),
        s = a(22188),
        l = (a(67294), a(54698), a(49186), a(77520)),
        o = a(99533),
        i = a(64839),
        c = a(90666),
        d = a(7200),
        u = a(159),
        m = a(20563);
      !(function (e) {
        (e[(e.k_EDiscoveryAction_Invalid = 0)] = "k_EDiscoveryAction_Invalid"),
          (e[(e.k_EDiscoveryAction_OpenStorePage = 1)] =
            "k_EDiscoveryAction_OpenStorePage"),
          (e[(e.k_EDiscoveryAction_OpenDoor = 2)] =
            "k_EDiscoveryAction_OpenDoor");
      })(n || (n = {}));
      class p {
        constructor() {
          (this.m_mapMaterializedInsertion = new Map()),
            (this.m_mapInsertCallback = new Map()),
            (this.m_rgFutureInsertions = new Array());
        }
        GetMatchingInsertion(e, t) {
          return this.m_mapMaterializedInsertion.get(this.GetKeyFromID(e, t));
        }
        GetChangeCallback(e, t) {
          const a = this.GetKey({ sectionID: e, tabID: t });
          return this.GetChangeCallbackByKey(a);
        }
        GetChangeCallbackByKey(e) {
          return (
            this.m_mapInsertCallback.has(e) ||
              this.m_mapInsertCallback.set(e, new o.pB()),
            this.m_mapInsertCallback.get(e)
          );
        }
        GetKey(e) {
          return e ? e.sectionID + "_" + (e.tabID || "-1") : null;
        }
        GetKeyFromID(e, t) {
          return e + "_" + (t || "-1");
        }
        ReplaceInsertion(e) {
          e.forEach((e) => {
            const t = this.GetKey(e);
            this.m_mapMaterializedInsertion.forEach((e) => {
              const a = this.GetKey(e);
              a && a != t && this.DispatchInsertion(e, !0);
            }),
              this.m_mapMaterializedInsertion.clear(),
              (this.m_rgFutureInsertions = Array()),
              this.AppendInsertion(e);
          });
        }
        AppendInsertion(e) {
          (null == e ? void 0 : e.sectionID)
            ? (this.m_mapMaterializedInsertion.set(this.GetKey(e), e),
              this.DispatchInsertion(e))
            : this.m_rgFutureInsertions.push(e);
        }
        DispatchInsertion(e, t) {
          e.sectionID &&
            this.GetChangeCallback(e.sectionID, e.tabID).Dispatch(t ? null : e);
        }
        AppCapsuleFound(e) {
          this.m_rgFutureInsertions = this.m_rgFutureInsertions.filter(
            (t) => !(!t.sectionID && t.insertion_requirement && t.appid == e)
          );
        }
        GetAnyNonMaterializedInsertionRequest() {
          const e = this.m_rgFutureInsertions.length;
          return e > 0
            ? this.m_rgFutureInsertions[Math.floor(e * Math.random())]
            : null;
        }
        SaleInteractionCallback(e, t) {
          if (this.m_rgFutureInsertions.length > 0)
            for (let a = 0; a < this.m_rgFutureInsertions.length; ++a)
              if (this.AreWeAllowedToDeploy(this.m_rgFutureInsertions[a], t)) {
                const t = this.DeployCapsuleIfPossible(
                  e,
                  this.m_rgFutureInsertions[a]
                );
                t &&
                  ((0, l.X)(
                    Boolean(t.sectionID),
                    "Expected to have a materialized insertion at this poiunt: " +
                      t.sectionID
                  ),
                  this.AppendInsertion(t));
              }
        }
        AreWeAllowedToDeploy(e, t) {
          if (
            !e.sectionID &&
            e.insertion_requirement &&
            t.size >= e.insertion_requirement.min_interactions
          ) {
            if (t.size >= e.insertion_requirement.max_interactions) return !0;
            const a =
              e.insertion_requirement.max_interactions -
              e.insertion_requirement.min_interactions;
            return 0 == Math.floor(a * Math.random());
          }
          return !1;
        }
        BIsInsertableSectionType(e) {
          if (e) {
            if ("contenthubsections" == e.section_type) return !0;
            if ("sale_item_browser" == e.section_type) return !0;
            if ("items" == e.section_type)
              return (
                !e.smart_section ||
                ("wishlist" != e.smart_section_type &&
                  "wishlist_onsale" != e.smart_section_type)
              );
          }
          return !1;
        }
        BHasExistingInsertion(e) {
          return Boolean(this.GetMatchingInsertion(e.sectionid, e.tabid));
        }
        DeployCapsuleIfPossible(e, t) {
          if (this.BHasExistingInsertion(e)) return null;
          if (c.Wj.ANNOUNCEMENT_GID) {
            const a = d.j1.GetClanEventFromAnnouncementGID(
                c.Wj.ANNOUNCEMENT_GID
              ),
              n = null == a ? void 0 : a.GetSaleSectionByID(e.sectionid);
            if (this.BIsInsertableSectionType(n)) {
              if (
                t.insertion_requirement.additional_adds > 0 &&
                t.insertion_requirement.delta_interactions > 0
              ) {
                const e = Object.assign({}, t);
                (e.insertion_requirement = Object.assign(
                  {},
                  t.insertion_requirement
                )),
                  (e.insertion_requirement.additional_adds -= 1),
                  (e.insertion_requirement.max_interactions +=
                    t.insertion_requirement.delta_interactions),
                  (e.insertion_requirement.min_interactions +=
                    t.insertion_requirement.delta_interactions),
                  this.AppendInsertion(e);
              }
              return (
                (t.sectionID = e.sectionid),
                (t.tabID = e.tabid),
                (t.insertionIndex = e.elementIndex),
                t
              );
            }
          }
          return null;
        }
        static Get() {
          return (
            p.s_Singleton ||
              ((p.s_Singleton = new p()),
              p.s_Singleton.Init(),
              "dev" == c.De.WEB_UNIVERSE &&
                (window.g_DynamicCapsuleInsertStore = p.s_Singleton)),
            p.s_Singleton
          );
        }
        Init() {
          const e = (0, c.ip)("capsuleinsert", "application_config");
          p.ValidateData(e) &&
            (e.sectionID
              ? this.m_mapMaterializedInsertion.set(this.GetKey(e), e)
              : e.insertion_requirement
              ? (this.m_rgFutureInsertions.push(e),
                (null == e ? void 0 : e.appid) &&
                  u.Z.Get()
                    .QueueAppRequest(e.appid, {
                      include_assets: !0,
                      include_release: !0,
                      include_trailers: !0,
                    })
                    .then(() => {
                      var t, a;
                      const n = u.Z.Get().GetApp(e.appid);
                      !n ||
                        (null ===
                          (a =
                            null === (t = n.GetBestPurchaseOption()) ||
                            void 0 === t
                              ? void 0
                              : t.formatted_final_price) || void 0 === a
                          ? void 0
                          : a.length) > 0 ||
                        n.ReplaceBestPurchaseOption({
                          packageid: 0,
                          bundleid: 0,
                          formatted_original_price: "CL.0R",
                          formatted_final_price: "TH.4X",
                          discount_pct: 50,
                        });
                    }))
              : "dev" == c.De.WEB_UNIVERSE &&
                console.error(
                  "CDynamicCapsuleInsertStore: Payload not material and missing instructions.",
                  e
                ),
            "dev" == c.De.WEB_UNIVERSE &&
              console.log("CDynamicCapsuleInsertStore loaded ", e)),
            m._.Get()
              .GetNewInteractionCallback()
              .Register(this.SaleInteractionCallback);
        }
        static ValidateData(e) {
          const t = e;
          return (
            t &&
            ("number" == typeof t.sectionID ||
              "object" == typeof t.insertion_requirement) &&
            "number" == typeof t.appid &&
            "number" == typeof t.action
          );
        }
      }
      function _(e) {
        p.Get().ReplaceInsertion(e);
      }
      function h(e, t) {
        return p.Get().GetMatchingInsertion(e, t);
      }
      function g(e, t) {
        return p.Get().GetChangeCallback(e, t);
      }
      function v(e) {
        p.Get().AppCapsuleFound(e);
      }
      function E() {
        return p.Get().GetAnyNonMaterializedInsertionRequest();
      }
      function S(e) {
        return p.Get().BIsInsertableSectionType(e);
      }
      (0, r.gn)([i.ak], p.prototype, "SaleInteractionCallback", null),
        (0, r.gn)([s.aD], p.prototype, "DeployCapsuleIfPossible", null);
    },
    35175: (e, t, a) => {
      "use strict";
      a.d(t, { Hy: () => h, mo: () => _ });
      var n = a(70655),
        r = (a(22188), a(67294)),
        s = (a(54698), a(58114)),
        l = a(65902),
        o = (a(46321), a(65497)),
        i = a(77520),
        c = a(93976),
        d = a(99533),
        u = a(64839),
        m = a(90666);
      class p {
        constructor() {
          (this.m_mapInventoryByApp = new Map()),
            (this.m_mapPromises = new Map()),
            (this.m_listChangeCallback = new Map()),
            (this.m_SteamInterface = null);
        }
        GetInventoryForApp(e) {
          return this.m_mapInventoryByApp.get(e);
        }
        GetItemDefsChangeForAppID(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new d.pB()),
            this.m_listChangeCallback.get(e)
          );
        }
        BHasLoadedDef(e) {
          return this.m_mapPromises.has(e);
        }
        SetTestAppCommunityItems(e, t) {
          this.m_mapInventoryByApp.set(e, t),
            this.GetItemDefsChangeForAppID(e).Dispatch(t),
            this.m_mapPromises.set(e, Promise.resolve(1));
        }
        LoadCommunityInventory(e) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            return e
              ? (this.m_mapPromises.has(e) ||
                  this.m_mapPromises.set(
                    e,
                    this.InternalLoadCommunityInventory(e)
                  ),
                this.m_mapPromises.get(e))
              : 2;
          });
        }
        InternalLoadCommunityInventory(e) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            const t = s.gA.Init(o.o0);
            t.Body().set_filter_appids([e]);
            let a = null;
            try {
              const n = yield o.Ts.GetCommunityInventory(
                this.m_SteamInterface.GetServiceTransport(),
                t
              );
              if (1 == n.GetEResult()) {
                const t = new Array();
                return (
                  n
                    .Body()
                    .items()
                    .forEach((e) => t.push(e.toObject())),
                  this.m_mapInventoryByApp.set(e, t),
                  this.GetItemDefsChangeForAppID(e).Dispatch(t),
                  1
                );
              }
              a = (0, c.l)(n);
            } catch (e) {
              a = (0, c.l)(e);
            }
            return (
              console.error(
                "CSaleMiniGameItemDefStore.InternalLoadAppCommunityItems failed: on appid " +
                  e +
                  " error: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a
              ),
              2
            );
          });
        }
        static Get() {
          return (
            p.s_Singleton ||
              ((p.s_Singleton = new p()),
              p.s_Singleton.Init(),
              "dev" == m.De.WEB_UNIVERSE &&
                (window.g_QuestCommunityInventoryStore = p.s_Singleton)),
            p.s_Singleton
          );
        }
        Init() {
          const e = (0, m.kQ)("read_inventory_token", "application_config");
          (0, i.X)(
            e,
            "CQuestCommunityInventoryStore: missing read_inventory:steam oauth permission"
          ),
            (this.m_SteamInterface = new l.J(m.De.WEBAPI_BASE_URL, e));
        }
      }
      function _(e, t) {
        const a = (function (e) {
            const [t, a] = (0, r.useState)(p.Get().GetInventoryForApp(e));
            return (
              (0, r.useEffect)(() => {
                e &&
                  !p.Get().BHasLoadedDef(e) &&
                  p.Get().LoadCommunityInventory(e);
              }, [e]),
              (0, u.Qg)(p.Get().GetItemDefsChangeForAppID(e), a),
              t
            );
          })(e),
          [n, s] = (0, r.useState)(null),
          [l, o] = (0, r.useState)(!1);
        return (
          (0, r.useEffect)(() => {
            if (e && a) {
              const r = a.find((a) => a.appid == e && a.item_type == t);
              n != r && s(r), o(!0);
            }
          }, [e, t, a, n]),
          { communityItem: n, bLoaded: l }
        );
      }
      function h(e, t) {
        p.Get().SetTestAppCommunityItems(e, t);
      }
      (0, n.gn)([u.ak], p.prototype, "SetTestAppCommunityItems", null);
    },
    20563: (e, t, a) => {
      "use strict";
      a.d(t, { _: () => s });
      var n = a(99533),
        r = a(90666);
      class s {
        constructor() {
          (this.m_setInteractions = new Set()),
            (this.m_nActiveTabID = -1),
            (this.m_interactionCallback = new n.pB()),
            (this.m_bDebugMode = !0);
        }
        GetNewInteractionCallback() {
          return this.m_interactionCallback;
        }
        AddInteraction(e, t) {
          const a = `${this.m_nActiveTabID}_${e}_${t}`,
            n = !this.m_setInteractions.has(a);
          this.m_setInteractions.add(a),
            n &&
              ("dev" == r.De.WEB_UNIVERSE &&
                this.m_bDebugMode &&
                console.log(
                  "CSaleInteractionStore new: " +
                    a +
                    " count: " +
                    this.m_setInteractions.size
                ),
              this.m_interactionCallback.Dispatch(
                { tabid: this.m_nActiveTabID, sectionid: e, elementIndex: t },
                this.m_setInteractions
              ));
        }
        SetActiveTab(e) {
          this.m_nActiveTabID = e;
        }
        static Get() {
          return (
            s.s_Singleton ||
              ((s.s_Singleton = new s()),
              s.s_Singleton.Init(),
              "dev" == r.De.WEB_UNIVERSE &&
                (window.g_SaleInteractionStore = s.s_Singleton)),
            s.s_Singleton
          );
        }
        Init() {}
      }
    },
    13871: (e, t, a) => {
      "use strict";
      a.d(t, { mn: () => m });
      var n = a(70655),
        r = a(9669),
        s = a.n(r),
        l = (a(22188), a(67294)),
        o = (a(54698), a(65497), a(82946), a(93976)),
        i = a(99533),
        c = a(64839),
        d = a(90666);
      class u {
        constructor() {
          (this.m_mapAppToDefs = new Map()),
            (this.m_mapPromises = new Map()),
            (this.m_listChangeCallback = new Map());
        }
        GetItemDefForAppID(e) {
          return this.m_mapAppToDefs.get(e);
        }
        GetItemDefsChangeForEventID(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new i.pB()),
            this.m_listChangeCallback.get(e)
          );
        }
        BHasLoadedDef(e) {
          return this.m_mapPromises.has(e);
        }
        SetTestItemDefs(e, t) {
          this.m_mapAppToDefs.set(e, t),
            this.GetItemDefsChangeForEventID(e).Dispatch(t),
            this.m_mapPromises.set(e, Promise.resolve(1));
        }
        LoadAppCommunityItems(e, t) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            return e
              ? (this.m_mapPromises.has(e) ||
                  this.m_mapPromises.set(
                    e,
                    this.InternalLoadAppCommunityItems(e, t)
                  ),
                this.m_mapPromises.get(e))
              : 2;
          });
        }
        InternalLoadAppCommunityItems(e, t) {
          var a, r;
          return (0, n.mG)(this, void 0, void 0, function* () {
            let n = null;
            try {
              const l =
                  d.De.COMMUNITY_BASE_URL +
                  (t
                    ? "minigame/ajaxgetgameitemdefsforeditor"
                    : "minigame/ajaxgetgameitemdefs"),
                i = {
                  appid: e,
                  origin: self.origin,
                  l: d.De.LANGUAGE,
                  sessionid: t ? d.De.SESSIONID : void 0,
                },
                c = yield s().get(l, { params: i, withCredentials: t });
              if (
                200 == (null == c ? void 0 : c.status) &&
                1 ==
                  (null === (a = null == c ? void 0 : c.data) || void 0 === a
                    ? void 0
                    : a.success) &&
                (null === (r = null == c ? void 0 : c.data) || void 0 === r
                  ? void 0
                  : r.item_definitions)
              )
                return (
                  this.m_mapAppToDefs.set(e, c.data.item_definitions),
                  this.GetItemDefsChangeForEventID(e).Dispatch(
                    c.data.item_definitions
                  ),
                  1
                );
              n = (0, o.l)(c);
            } catch (e) {
              n = (0, o.l)(e);
            }
            return (
              console.error(
                "CSaleMiniGameItemDefStore.InternalLoadAppCommunityItems failed: on appid " +
                  e +
                  " edit? " +
                  t +
                  " error: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n
              ),
              2
            );
          });
        }
        static Get() {
          return (
            u.s_Singleton ||
              ((u.s_Singleton = new u()),
              u.s_Singleton.Init(),
              "dev" == d.De.WEB_UNIVERSE &&
                (window.g_SaleMiniGameItemDefStore = u.s_Singleton)),
            u.s_Singleton
          );
        }
        Init() {}
      }
      function m(e, t, a) {
        const n = (function (e, t) {
            const [a, n] = (0, l.useState)(u.Get().GetItemDefForAppID(e));
            return (
              (0, l.useEffect)(() => {
                e &&
                  !u.Get().BHasLoadedDef(e) &&
                  u.Get().LoadAppCommunityItems(e, t);
              }, [e, t]),
              (0, c.Qg)(u.Get().GetItemDefsChangeForEventID(e), n),
              a
            );
          })(e, a),
          [r, s] = (0, l.useState)(null);
        return (
          (0, l.useEffect)(() => {
            if (e && n && null == r) {
              const a = n.find(
                (a) => a.active && a.appid == e && a.item_type == t
              );
              a && s(a);
            }
          }, [r, n, e, t]),
          r
        );
      }
    },
    23331: (e, t, a) => {
      "use strict";
      a.d(t, { l: () => h });
      var n = a(28777),
        r = a(67294),
        s = a(35921),
        l = a(95598),
        o = a(7573),
        i = a(69657),
        c = a(39853),
        d = a(15396),
        u = a(54452),
        m = a(90666);
      class p extends r.Component {
        render() {
          const { showArrows: e } = this.props,
            t = this.props.visibleSlides,
            a = this.props.totalSlides,
            s = this.props.currentSlide;
          if (t >= a) return null;
          const i = (100 * s) / a,
            d = 100 * (1 - Math.min(s + t, a) / a),
            u = i + (50 * t) / a,
            m = 100 - u;
          return r.createElement(
            "div",
            { className: c.pipScrollerContainer },
            e &&
              r.createElement(
                n.jp,
                {
                  className: (0, o.Z)(
                    c.pipScrollButton,
                    c.left,
                    c.carouselNavButton
                  ),
                },
                r.createElement(l.thP, null)
              ),
            r.createElement(
              "div",
              { className: c.pipScroller },
              r.createElement("div", { className: c.scrollBackground }),
              r.createElement("div", {
                className: c.scrollForeground,
                style: { left: i + "%", right: d + "%" },
              }),
              r.createElement(
                "div",
                {
                  className: c.scrollNavDiv,
                  style: { left: "0%", width: u + "%" },
                },
                r.createElement(
                  n.jp,
                  {
                    className: (0, o.Z)(c.carouselNavButton, c.scrollNavButton),
                  },
                  r.createElement("div", null)
                )
              ),
              r.createElement(
                "div",
                {
                  className: c.scrollNavDiv,
                  style: { right: "0%", width: m + "%" },
                },
                r.createElement(
                  n.P1,
                  {
                    className: (0, o.Z)(c.carouselNavButton, c.scrollNavButton),
                  },
                  r.createElement("div", null)
                )
              )
            ),
            e &&
              r.createElement(
                n.P1,
                {
                  className: (0, o.Z)(
                    c.pipScrollButton,
                    c.right,
                    c.carouselNavButton
                  ),
                },
                r.createElement(l.thP, null)
              )
          );
        }
      }
      const _ = (0, n.Rq)(p, (e) => ({
        currentSlide: e.currentSlide,
        totalSlides: e.totalSlides,
        visibleSlides: e.visibleSlides,
      }));
      function h(e) {
        const t = () => r.Children.count(e.children),
          a = t(),
          l = Math.min(t(), e.visibleElements);
        if (!a || !l) return null;
        const u = l < a,
          p = e.hideArrows || !u,
          h = !u || e.hidePips;
        let g = 4 / 3,
          E = !0;
        e.slideAspectRatio && ((g = e.slideAspectRatio), (E = !1));
        const S = `items_in_row_${e.visibleElements}`;
        return r.createElement(
          s.s,
          {
            "flow-children": "row",
            className: (0, o.Z)(c.carouselBody, e.className, S),
          },
          r.createElement(
            n.sj,
            {
              visibleSlides: e.visibleElements,
              totalSlides: t(),
              naturalSlideWidth: 100 * g,
              naturalSlideHeight: 100,
              step: e.visibleElements,
              infinite: !e.disableEdgeWrap,
              isIntrinsicHeight: E,
              touchEnabled: !0,
              lockOnWindowScroll: !0,
              orientation: "horizontal",
              disableKeyboard: !0,
            },
            r.createElement(
              v,
              {
                bHideArrows: p,
                bAutoAdvance: e.bAutoAdvance && !m.De.IN_GAMEPADUI,
                onSlide: e.onSlide,
              },
              r.Children.map(e.children, (t, a) => {
                const s = e.bLazyRenderChildren
                  ? r.createElement(
                      d.Y,
                      {
                        rootMargin: "0px 100% 0px 100%",
                        bHorizontal: !0,
                        placeholderWidth: 1,
                        placeholderHeight: 1,
                      },
                      t
                    )
                  : t;
                return r.createElement(
                  n.Mi,
                  { className: c.innerSlide, key: "slide_" + a, index: a },
                  s
                );
              })
            ),
            !h &&
              (e.useTestScrollbar
                ? r.createElement(_, { showArrows: p, carouselStore: null })
                : r.createElement(
                    "div",
                    { className: c.breadcrumbContainer },
                    ((t) =>
                      r.Children.map(e.children, (e, a) =>
                        a % t != 0
                          ? null
                          : r.createElement(
                              n.oT,
                              { slide: a, className: c.pip },
                              r.createElement("img", { src: i.Z })
                            )
                      ))(l)
                  ))
          )
        );
      }
      function g(e) {
        e && (window.clearTimeout(e.current), (e.current = null));
      }
      function v(e) {
        const { bHideArrows: t, bAutoAdvance: a, children: s, onSlide: i } = e,
          d = r.useContext(n.ro),
          m = r.useRef(d.state.currentSlide),
          [p, _] = r.useState(null),
          [h, v] = r.useState(!!a),
          E = r.useRef(null),
          S = r.useRef(null);
        r.useEffect(() => {
          const e = () => {
            E.current = window.setTimeout(() => {
              if (E.current) {
                g(E);
                const e = (d.state.currentSlide + 1) % d.state.totalSlides;
                d.setStoreState({ currentSlide: e });
              }
            }, 8e3);
          };
          h && e();
          const t = () => {
            const t = m.current,
              a = d.state.currentSlide;
            i && i(a), _(a > t ? "Right" : a < t ? "Left" : null), g(S);
            (S.current = window.setTimeout(() => {
              S.current && (_(null), g(S));
            }, 1e3)),
              (m.current = a),
              E.current ? (g(E), v(!1)) : h && e();
          };
          return (
            d.subscribe(t),
            () => {
              d.unsubscribe(t), g(E), g(S);
            }
          );
        }, [d, h]);
        const C = !!p && "CarouselSliding" + p;
        return r.createElement(
          "div",
          { className: (0, o.Z)(c.sliderBody, "SliderBody", C) },
          !t &&
            r.createElement(
              n.jp,
              {
                className: (0, o.Z)(
                  c.carouselBtnCtn,
                  c.left,
                  c.carouselNavButton,
                  "CarouselBtnLeft"
                ),
              },
              r.createElement(l.thP, null)
            ),
          r.createElement(
            n.iR,
            {
              className: u.U.GetScrollableClassname(),
              classNameTray: c.slideTrayCustomize,
              classNameAnimation: c.DisableSliderMotion,
            },
            s
          ),
          !t &&
            r.createElement(
              n.P1,
              {
                className: (0, o.Z)(
                  c.carouselBtnCtn,
                  c.right,
                  c.carouselNavButton,
                  "CarouselBtnRight"
                ),
              },
              r.createElement(l.thP, null)
            )
        );
      }
    },
    22093: (e, t, a) => {
      "use strict";
      a.d(t, { oZ: () => I, sE: () => y });
      var n = a(67294),
        r = (a(54698), a(7707)),
        s = a(35921),
        l = (a(19663), a(91891), a(83090), a(76776), a(461)),
        o = a(77636),
        i = a(52114),
        c = a(41498),
        d = a(7573),
        u = a(41311),
        m = a(47808),
        p = a(35092),
        _ = a(90666),
        h = a(56175);
      var g = a(78853);
      var v = a(32548),
        E = a(65924),
        S = a(13596),
        C = a(47871),
        f = a(77475),
        b = a(34133);
      function I(e) {
        const {
            creatorID: t,
            bShowTagline: a,
            bHideCreatorType: r,
            bSmallFormat: i,
            bHideFollowButton: h,
            bAddLinkToMemberList: g,
          } = e,
          I = (0, l.iG)(t.clan_account_id),
          [y] = (0, o.LA)();
        if (y || !I)
          return n.createElement(
            "div",
            { className: C.DevSummaryWidgetCtn },
            n.createElement(S.V, {
              string: (0, u.Xx)("#Loading"),
              size: "medium",
              position: "center",
            })
          );
        const w = t.type,
          B =
            "developer" == t.type
              ? (0, u.Xx)("#CreatorHome_DevelopedBy")
              : "publisher" == t.type
              ? (0, u.Xx)("#CreatorHome_PublishedBy")
              : (0, u.Xx)("#CreatorHome_InFranchise"),
          N = I.GetCreatorHomeURL(w),
          T = I.GetSocialList().map((e) =>
            n.createElement(D, {
              social: e,
              key: "creator_" + I.GetClanAccountID() + "_" + e.external_type,
            })
          ),
          G = I.GetNumFollowers();
        return n.createElement(
          v.S,
          null,
          n.createElement(
            E.ZP,
            { feature: "salecreatorhome" },
            n.createElement(
              s.s,
              {
                className: (0, d.Z)(
                  C.DevSummaryCtn,
                  i ? C.SmallFormat : C.LargeFormat
                ),
                "flow-children": "row",
              },
              !r && n.createElement("span", { className: C.Title }, B),
              n.createElement(
                "div",
                { className: C.DevSummaryWidgetCtn },
                n.createElement("div", {
                  className: C.DevSummaryBackground,
                  style: {
                    backgroundImage: `url(${I.GetAvatarURLFullSize()} )`,
                  },
                }),
                n.createElement(
                  "div",
                  {
                    className: (0, d.Z)(
                      C.DevSummaryContent,
                      b.FlexColumnContainer,
                      b.FlexContainSpaceBetween
                    ),
                  },
                  n.createElement(
                    "div",
                    { className: b.FlexRowContainer },
                    n.createElement(
                      c.V,
                      {
                        href: (0, p.OL)(N),
                        className: C.AvatarLink,
                        bAllowFocuseableAnchor: !0,
                      },
                      n.createElement("img", {
                        className: (0, d.Z)(C.Avatar, "Avatar_Trgt"),
                        src: I.GetAvatarURLFullSize(),
                      })
                    ),
                    n.createElement(
                      "div",
                      {
                        className: (0, d.Z)(
                          b.FlexColumnContainer,
                          C.CreatorDescCtn
                        ),
                      },
                      n.createElement(
                        "div",
                        {
                          className: (0, d.Z)(
                            C.CreatorTitleCtn,
                            b.FlexColumnContainer
                          ),
                        },
                        n.createElement(
                          c.V,
                          { href: (0, p.OL)(N), className: C.CreatorNameName },
                          I.GetName()
                        ),
                        Boolean(a) &&
                          n.createElement(
                            "div",
                            {
                              className: (0, d.Z)(
                                b.FlexColumnContainer,
                                C.CreatorTagline
                              ),
                            },
                            I.GetTagLine()
                          )
                      ),
                      n.createElement(
                        "div",
                        {
                          className: (0, d.Z)(
                            i ? b.FlexColumnContainer : b.FlexRowContainer,
                            C.SocialFollowersCtn
                          ),
                        },
                        n.createElement(
                          "div",
                          { className: C.FollowBtnCtn },
                          Boolean(!h) &&
                            n.createElement(f.C4, {
                              clanAccountID: t.clan_account_id,
                              creatorID: t,
                            }),
                          n.createElement(
                            "div",
                            { className: C.Followers },
                            n.createElement("span", null, (0, m.AV)(G)),
                            n.createElement("br", null),
                            (0, u.Xx)("#CreatorHome_JustFollowers")
                          )
                        ),
                        Boolean(T.length > 0) &&
                          n.createElement(
                            "div",
                            {
                              className: (0, d.Z)(
                                C.SocialContainer,
                                b.FlexColumnContainer
                              ),
                            },
                            T
                          )
                      )
                    )
                  ),
                  Boolean(g) &&
                    n.createElement(
                      "a",
                      {
                        href:
                          _.De.COMMUNITY_BASE_URL +
                          "gid/" +
                          I.GetClanSteamID().ConvertTo64BitString() +
                          "/members/",
                        target: "_blank",
                        className: C.MembersListLink,
                      },
                      (0, u.Xx)("#ClanMembershipList")
                    )
                )
              )
            )
          )
        );
      }
      function y(e) {
        const { appid: t, bSmallFormat: a } = e,
          [r] = (0, i.vs)(t, { include_basic_info: !0 });
        if (!t) return null;
        if (!r)
          return n.createElement(
            "div",
            { className: C.DevSummaryWidgetCtn },
            n.createElement(S.V, null)
          );
        let s;
        const l = r.GetAllDeveloperCreatorClans();
        if ((null == l ? void 0 : l.length) > 0)
          s = { appid: t, name: "", clan_account_id: l[0], type: "developer" };
        else {
          const e = r.GetAllPublisherCreatorClans();
          if ((null == e ? void 0 : e.length) > 0)
            s = {
              appid: t,
              name: "",
              clan_account_id: e[0],
              type: "publisher",
            };
          else {
            const e = r.GetAllFranchiseCreatorClans();
            (null == e ? void 0 : e.length) > 0 &&
              (s = {
                appid: t,
                name: "",
                clan_account_id: e[0],
                type: "franchise",
              });
          }
        }
        return s
          ? n.createElement(
              v.S,
              null,
              n.createElement(I, { creatorID: s, bSmallFormat: a })
            )
          : null;
      }
      function D(e) {
        const { social: t } = e;
        let a = "";
        switch (t.external_type) {
          case 3:
          case 7:
            a = h.Z;
            break;
          case 5:
            a =
              "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgJJREFUeNrsmz9LxDAYxpNyIhzICeIkiLM46KAf4EY9HBzcnDwXJ0cnFxddHdQP4ScQcXJxUvDP7qAOLg5Ot8TnpDhIkja5mL5t3hcechDS9Pmlb3mba6VSSqQcmUg8GAADYAAMgAHoQkr5K8QppGouvU9THZAbF+hvo3mDOjVfbOmbApsNMD/SPaDf5HuANQXQN4+fT4ax79CAqK9ZzSWvTYFWwYF2LH2rgHRP0T0W7rNs2maWg4yj2Uq5DtiAplIG0BcJhA1Al0thBsAAGEDToxVzMtQWL38LFBRTk6HHkAWQG+lEGMMpwAAYAANgAAyAATAABsAAGAADIPUw1POYs/ef5xkVAB5jb2KMSToFlFITaMaSBADzw32DK6idHIDc/CW0klwKlDB/bhtsUlEsUjEP3VrO8wySJp+1BlDWvG2hawvAxXzjALiatwEYpRBad4BwgYLmS2NkGs2ax9y70LKh7wTaw3yqLE3fK8Al5nTmoYfA8xy5+swquoSHK38NLQQ87DFWfZ98KUzJfHQA1MxHBUDRfEwAJM3/PG5bvhkK+THRKzRTpXnjC6GRAISMA5g/9EhB5x2hJY+Tu/MY8whti3Kv3Q5g/jnoLlXR6/KOlJWH+S7m+ohwEya3HxDNPMUNERLmqwJAxnwVAEiZjw2AnPmiOiCJ4D9HUwfwLcAAxHgyaE4johYAAAAASUVORK5CYII=";
            break;
          case 4:
            a = g.Z;
            break;
          case 6:
            a =
              "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtNJREFUeNrsmk1rE0EYgHe19ZBIY2kj4qUQVGjxAz2J4gcVvfmBP8FI8eZF8OJNL4oFPYrGX1CK4lEMiChe/aCClNBeRGxLTTE5GDU+Y2bDJG5rL5lZ950XnsxkE5h9n8zszkw2bDabgeTYEAgPL8AL8AK8AC/AC/AC5EafegnDcM0vMVvMUOyA7bBNswVymgHYDOp7m/SxUNczRlvZdZ5XDX7oeh2+q9OAqq6rY99gRR9TfIXPmk8wS171f+QVhH9eYgRw/BhFEQ7q5MP/7MdVwmbhNZTI8fm6BPBe/XoP4XzKevs0XCDX6qoCdPIvYE9Kh/xbOBpJULl3XwQfpDh5FXt1ju1o9wDKQ7x/KeTif5icX3X3gKKgu18xbh4wLkjAeMcQIPLwRdgcaCssRD1gTOAkcMwcAgWBAgqmgBGBAkZMAfkeN1ZPoIC8KWCox409hePwJkEChmwKCPRi5ABMJOSO0yFg2EaLSPgF96nuhFt6aesqhk0BgzZbRsIKXKU6Co8dCRg0BWRdnAESKnCO6gl4Z7n5rCmg3+VgREKZYj9cUrMzS832mwJyrq9ISPgJ9/T1YRIaPW4y170YSkSozQq4QnU3POl1e4ndFUbCRzhD9RS8FyfAVvQl9cRYpu+iuA2nRQnQG7PX4LKNu1MkoOr6TkDiGykuwnULi7Mo57aAhuPk1RbVncDujnTDvAjWHCVegEdUnwX2t+NrpoBly4kPwE2qH+Cso463bA6BRUuJK+FqS/pG0NqUdBmLpoAlC8mrP1vvwr6E3HCWbAo46bCrrykgugb0egWWSeBca8EUMC9wFjxvCqgIFFAxBcwIFDDTFsCyU42HOUHJz+mcO5bDZUECynH7ASVBAkp/CVBPTFBMCUh+Sufayts/JGWE/uBI0HqkLG0xbSYf2wNi5u7yHpRcZSGT7kdlJYd/XN4L8AK8AC/AC/ACvACx8VuAAQDxke5GRJ5P8AAAAABJRU5ErkJggg==";
        }
        const s = (_.De.IN_CLIENT ? "steam://openurl/" : "") + t.external_url;
        return n.createElement(
          r.IS,
          {
            href: s,
            target: _.De.IN_CLIENT ? void 0 : "_blank",
            "data-tooltip-text": t.external_user_name
              ? t.external_user_name
              : t.external_url,
            className: (0, d.Z)(C.SocialLink),
          },
          n.createElement("img", { className: (0, d.Z)(C.SocialImg), src: a }),
          n.createElement("div", null, (0, m.AV)(t.external_follows))
        );
      }
    },
    6205: (e, t, a) => {
      "use strict";
      a.d(t, { n: () => v });
      var n = a(70655),
        r = a(67294),
        s = a(69472),
        l = a(41311),
        o = a(64839),
        i = a(21735),
        c = a.n(i),
        d = a(26149),
        u = a(13596),
        m = (a(49186), a(90666)),
        p = a(93976),
        _ = (a(54698), a(3389), a(22188), a(9669)),
        h = a.n(_);
      a(82946);
      const g = new (class {
        DeleteForumTopic(e, t, a, r, s) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            let n =
              m.De.COMMUNITY_BASE_URL +
              "forum/" +
              e.GetAccountID() +
              "/" +
              t +
              "/deletetopic/";
            null != a && "" != a && (n += a + "/");
            const l = new FormData();
            l.append("sessionid", m.De.SESSIONID), l.append("gidforumtopic", r);
            let o = yield h().post(n, l, {
              withCredentials: !0,
              cancelToken: s.token,
            });
            if (1 != o.data.success) throw o.data;
            return o.data;
          });
        }
      })();
      a(35577);
      class v extends r.Component {
        constructor(e) {
          super(e),
            (this.m_cancelSignal = h().CancelToken.source()),
            (this.state = {
              dialogState: this.props.bNoConfirmationNeeded
                ? "waiting"
                : "confirmation",
              bDeleteCommentThread: !1,
            });
        }
        componentDidMount() {
          this.props.bNoConfirmationNeeded && this.OnDelete();
        }
        OnDeleteEventSuccessCallback() {
          this.props.partnerEventStore.ResetModel(),
            this.state.bDeleteCommentThread
              ? g
                  .DeleteForumTopic(
                    this.m_clanSteamID,
                    "Event",
                    void 0,
                    this.m_forumTopicGID,
                    this.m_cancelSignal
                  )
                  .then(this.OnDeleteForumTopicSuccessCallback)
                  .catch(this.OnDeleteForumTopicFailureCallback)
              : this.setState({ dialogState: "success" });
        }
        OnDeleteForumTopicSuccessCallback() {
          this.setState({ dialogState: "success" });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("component unmounted");
        }
        OnDeleteEventFailureCallback(e) {
          this.setState(Object.assign({ dialogState: "error" }, (0, p.l)(e)));
        }
        OnDeleteForumTopicFailureCallback(e) {
          this.setState(
            Object.assign({ dialogState: "failed_thread_delete" }, (0, p.l)(e))
          );
        }
        SetToWaiting() {
          "waiting" != this.state.dialogState &&
            this.setState({ dialogState: "waiting" });
        }
        OnDelete() {
          const { eventModel: e, partnerEventStore: t } = this.props;
          let a = e.clanSteamID,
            n = e.GID,
            r = e.AnnouncementGID;
          (this.m_forumTopicGID = e.forumTopicGID),
            (this.m_clanSteamID = a),
            !this.props.eventModel.bOldAnnouncement &&
            n &&
            "0" != n &&
            n != d.Z3
              ? (this.SetToWaiting(),
                t
                  .DeleteClanEvent(a, n)
                  .then(this.OnDeleteEventSuccessCallback)
                  .catch(this.OnDeleteEventFailureCallback))
              : this.props.eventModel.bOldAnnouncement
              ? (this.SetToWaiting(),
                t
                  .DeleteOldAnnouncement(a, r)
                  .then(this.OnDeleteEventSuccessCallback)
                  .catch(this.OnDeleteEventFailureCallback))
              : (t.ResetModel(), this.setState({ dialogState: "success" }));
        }
        OnChangeDeleteForum() {
          this.setState({
            bDeleteCommentThread: !this.state.bDeleteCommentThread,
          });
        }
        render() {
          let e = this.props.eventModel,
            t = this.props.closeModal,
            a = "",
            n = new Array();
          switch (this.state.dialogState) {
            case "confirmation":
              let s = e.GetNameWithFallback((0, d.jM)(m.De.LANGUAGE)),
                o = e.BIsVisibleEvent()
                  ? "#EventDisplay_AreYouSure_Visible"
                  : "#EventDisplay_AreYouSure";
              (a = (0, l.Xx)(o, s)),
                (t = this.OnDelete),
                e.BHasForumTopicGID() &&
                  n.push(
                    r.createElement(
                      "div",
                      { key: "WantToDeleteCmtThread", className: c().Padding },
                      r.createElement("input", {
                        type: "checkbox",
                        id: "del_cmt_post",
                        name: "del_cmt_post",
                        defaultChecked: this.state.bDeleteCommentThread,
                        onChange: this.OnChangeDeleteForum,
                      }),
                      r.createElement(
                        "label",
                        { htmlFor: "del_cmt_post" },
                        (0, l.Xx)("#EventDisplay_DeleteEvent_Comment")
                      )
                    )
                  );
              break;
            case "waiting":
              (a = (0, l.Xx)("#EventDisplay_DeleteEvent_InProgress")),
                n.push(r.createElement(u.V, { key: "throbber" }));
              break;
            case "error":
              (a = (0, l.Xx)("#EventDisplay_DeleteEvent_Error")),
                n.push(
                  r.createElement(
                    "div",
                    {
                      key: "deleteerror_" + ++v.m_uniqueError,
                      className: c().ErrorStyles,
                    },
                    this.state.strErrorMsg
                  )
                );
              break;
            case "failed_thread_delete":
              (a = (0, l.Xx)("#EventDisplay_DeleteEvent_ForumTopicError")),
                n.push(
                  r.createElement(
                    "div",
                    {
                      key: "deleteerror_" + ++v.m_uniqueError,
                      className: c().ErrorStyles,
                    },
                    this.state.strErrorMsg
                  )
                ),
                this.props.onDeleteSuccessAndCloseDialog &&
                  (t = () => {
                    this.props.onDeleteSuccessAndCloseDialog(),
                      this.props.closeModal();
                  });
              break;
            case "success":
              (a = (0, l.Xx)("#EventDisplay_DeleteEvent_Success")),
                this.props.onDeleteSuccessAndCloseDialog &&
                  (t = () => {
                    this.props.onDeleteSuccessAndCloseDialog(),
                      this.props.closeModal();
                  });
          }
          return r.createElement(
            s.uH,
            {
              strTitle: (0, l.Xx)("#EventDisplay_DeleteEvent"),
              strDescription: a,
              onCancel: this.props.closeModal,
              onOK: t,
              bAlertDialog: "confirmation" != this.state.dialogState,
              bOKDisabled: "waiting" == this.state.dialogState,
              bDestructiveWarning: "error" == this.state.dialogState,
            },
            n
          );
        }
      }
      (v.m_uniqueError = 0),
        (0, n.gn)([o.ak], v.prototype, "OnDeleteEventSuccessCallback", null),
        (0, n.gn)(
          [o.ak],
          v.prototype,
          "OnDeleteForumTopicSuccessCallback",
          null
        ),
        (0, n.gn)([o.ak], v.prototype, "OnDeleteEventFailureCallback", null),
        (0, n.gn)(
          [o.ak],
          v.prototype,
          "OnDeleteForumTopicFailureCallback",
          null
        ),
        (0, n.gn)([o.ak], v.prototype, "SetToWaiting", null),
        (0, n.gn)([o.ak], v.prototype, "OnDelete", null),
        (0, n.gn)([o.ak], v.prototype, "OnChangeDeleteForum", null);
    },
    67754: (e, t, a) => {
      "use strict";
      a.d(t, { H: () => N });
      var n = a(70655),
        r = a(13271),
        s = a(67294),
        l = (a(35577), a(9915)),
        o = a(49186),
        i = a(48341),
        c = a(32548),
        d = a(6205),
        u = a(23937),
        m = a(34133),
        p = a(59650),
        _ = a(7573),
        h = a(53622),
        g = a(41311),
        v = a(90666),
        E = a(96944),
        S = a(99646),
        C = a(69472),
        f = a(11108),
        b = a(22925),
        I = a(31933),
        y = a(26273),
        D = a(9669),
        w = a.n(D),
        B = (a(65497), a(35175));
      a(13871), a(22188);
      function N(e) {
        const {
            eventModel: t,
            partnerEventStore: a,
            addtionalAdminButtons: n,
            fnOnUpdateSaleDayIndex: S,
            bPreviewMode: C,
          } = e,
          [f, b] = s.useState(!1),
          I = (0, r.SZ)(() =>
            (function (e) {
              let t;
              (null == e ? void 0 : e.BHasSaleEnabled()) &&
                (e.GetSaleSectionCount() > 0 &&
                  e.GetSaleSections().forEach((e) => {
                    "items" != e.section_type ||
                      e.smart_section ||
                      e.capsules.forEach((e) => {
                        void 0 !== e.visibility_index &&
                          (void 0 === t || t < e.visibility_index) &&
                          (t = e.visibility_index);
                      });
                  }),
                e.jsondata.sale_num_headers > 1 &&
                  (void 0 === t || t < e.jsondata.sale_num_headers) &&
                  (t = e.jsondata.sale_num_headers));
              return t;
            })(t)
          ),
          [y, D] = s.useState(t ? t.GetDayIndexFromEventStart() : 0),
          [w, B, N, G] = (0, r.SZ)(() => [
            t.visibility_state,
            t.jsondata.bSaleEnabled,
            t.GID,
            t.clanSteamID.GetAccountID(),
          ]),
          F = (0, l.J)(G),
          L = (e) => {
            (0, p.AM)(
              s.createElement(d.n, {
                eventModel: t,
                onDeleteSuccessAndCloseDialog: () => b(!0),
                partnerEventStore: a,
              }),
              (0, h.RA)(e)
            );
          };
        if (f) return (0, u.Ij)(t, u.Ue.k_eCommunityAdminPage);
        const x = w == o.ac.k_EEventStateVisible,
          M = w == o.ac.k_EEventStateStaged;
        if ((F.can_edit || F.support_user) && !v.De.IN_GAMEPADUI) {
          const e = [];
          if (void 0 !== I)
            for (let t = 0; t <= I; ++t)
              e.push({
                label: (0, g.Xx)("#SalePage_Admin_SaleEventDay", t + 1),
                data: t,
              });
          const r = (0, v.Zv)(),
            l = "community" == r,
            o = "store" == r;
          return s.createElement(
            c.S,
            null,
            s.createElement(
              "div",
              { className: E.DisplayAdminPanel },
              s.createElement(
                "span",
                { className: E.DisplayAdminPanel_Title },
                (0, g.Xx)("#EventDisplay_Admin_Title")
              ),
              s.createElement(
                "div",
                { className: E.DisplayAdminPanel_ctn },
                n,
                n &&
                  s.createElement(
                    "span",
                    { className: E.DisplayAdminPanel_Spacer },
                    " "
                  ),
                s.createElement(
                  u.JW,
                  {
                    eventModel: t,
                    route: u.Ue.k_eCommunityEdit,
                    className: (0, _.Z)(m.Button, E.AdminButton),
                  },
                  (0, g.Xx)("#EventEditor_Edit")
                ),
                Boolean(a && "community" == (0, v.Zv)()) &&
                  s.createElement(
                    "span",
                    { className: m.Button + " " + E.AdminButton, onClick: L },
                    (0, g.Xx)("#EventDisplay_DeleteEvent")
                  ),
                !x &&
                  s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(
                      u.JW,
                      {
                        eventModel: t,
                        route: u.Ue.k_eCommunityPublish,
                        className: (0, _.Z)(m.Button, E.AdminButton),
                      },
                      (0, g.Xx)(
                        M
                          ? "#EventEditor_Publish_VisibleNow"
                          : "#Button_Publish"
                      )
                    )
                  ),
                s.createElement(
                  u.JW,
                  {
                    eventModel: t,
                    route: u.Ue.k_eCommunityAdminPage,
                    className: (0, _.Z)(m.Button, E.AdminButton),
                  },
                  (0, g.Xx)("#EventDisplay_Events")
                ),
                Boolean(void 0 !== I && e.length > 0) &&
                  s.createElement(i.ry, {
                    strDropDownClassName: m.DropDownScroll,
                    rgOptions: e,
                    selectedOption: Math.min(I, y),
                    onChange: (e) => {
                      D(e.data), S(e.data);
                    },
                    bDisableMouseOverlay: !0,
                    contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                  }),
                Boolean(t.jsondata.bSaleEnabled && C) &&
                  s.createElement(
                    u.JW,
                    {
                      eventModel: t,
                      route: u.Ue.k_eStoreSalePage,
                      className: (0, _.Z)(m.Button, E.AdminButton),
                    },
                    (0, g.Xx)("#EventDisplay_SalesPage")
                  ),
                Boolean(B && v.L7.is_support && N) &&
                  s.createElement(
                    "a",
                    {
                      href:
                        v.De.STATS_BASE_URL +
                        "sales/details/?gid=" +
                        N +
                        "&clanid=" +
                        G,
                      target: v.De.IN_CLIENT ? "" : "_blank",
                      className: (0, _.Z)(
                        m.Button,
                        E.AdminButton,
                        m.ValveOnlyBackground
                      ),
                    },
                    (0, g.Xx)("#EventDisplay_StatsPage")
                  ),
                Boolean(x && (o || C)) &&
                  s.createElement(
                    u.JW,
                    {
                      eventModel: t,
                      route: u.Ue.k_eCommunityView,
                      className: (0, _.Z)(m.Button, E.AdminButton),
                    },
                    (0, g.Xx)("#EventDisplay_ViewOnCommunity")
                  ),
                Boolean(x && l) &&
                  s.createElement(
                    u.JW,
                    {
                      eventModel: t,
                      route: u.Ue.k_eStoreView,
                      className: (0, _.Z)(m.Button, E.AdminButton),
                    },
                    (0, g.Xx)("#EventDisplay_ViewOnStore")
                  ),
                s.createElement(T, { eventModel: t }),
                s.createElement(k, { eventModel: t }),
                Boolean(v.L7.is_support) &&
                  s.createElement(A, { eventModel: t })
              )
            )
          );
        }
        return s.createElement("span", null);
      }
      function T(e) {
        const { eventModel: t } = e,
          a = (0, r.SZ)(() => t.jsondata.sale_sections);
        return (0, s.useMemo)(
          () =>
            null == a
              ? void 0
              : a.some((e) => {
                  var t;
                  return (
                    ("quiz" == e.section_type &&
                      (null === (t = e.quiz) || void 0 === t
                        ? void 0
                        : t.track_with_cozy_cottage_doors)) ||
                    "quest" == e.section_type ||
                    "rewards" == e.section_type
                  );
                }),
          [a]
        ) && v.L7.is_support
          ? s.createElement(G, Object.assign({}, e))
          : null;
      }
      function G(e) {
        var t;
        const { eventModel: a } = e,
          [n, r] = (0, s.useState)(!1),
          l = (0, S.wB)();
        if (
          ((0, s.useEffect)(() => {
            S.Zb.Get()
              .LoadDoorData()
              .then(() => r(!0));
          }, []),
          !n)
        )
          return null;
        const o = a.GetSaleSectionsByType("quiz"),
          c = [],
          d =
            1 == (null == o ? void 0 : o.length) &&
            "scenario" == o[0].quiz.quiz_type &&
            (null === (t = o[0].quiz.answer_categories) || void 0 === t
              ? void 0
              : t.length) > 0;
        if (d)
          c.push({ label: "State: Take the Quiz", data: -1 }),
            c.push(
              ...o[0].quiz.answer_categories.map((e) => ({
                label: "State: " + e.category_name,
                data: e.door_index,
              }))
            );
        else {
          const e = S.Zb.Get().GetMaxDoor();
          for (let t = -1; t <= e; ++t)
            c.push({ label: "Doors Opened " + (t + 1), data: t });
        }
        const u = a.GetSaleSectionsByType("rewards"),
          f = (null == u ? void 0 : u.length) > 0 ? u[0] : null;
        return s.createElement(
          s.Fragment,
          null,
          Boolean("public" != v.De.WEB_UNIVERSE) &&
            s.createElement(
              "a",
              {
                className: (0, _.Z)(
                  m.Button,
                  E.AdminButton,
                  m.ValveOnlyBackground
                ),
                onClick: (e) => {
                  (0, p.AM)(
                    s.createElement(C.uH, {
                      strTitle: (0, g.Xx)("#Dialog_AreYouSure"),
                      strDescription: "Reload page after you hit OK",
                      onOK: () => S.Zb.Get().CloseAllDoors(),
                    }),
                    (0, h.RA)(e)
                  );
                },
              },
              "(VO) Reset All Doors"
            ),
          s.createElement(i.ry, {
            strDropDownClassName: (0, _.Z)(
              m.DropDownScroll,
              m.ValveOnlyBackground
            ),
            rgOptions: c,
            selectedOption: l,
            label: "Minigame States:",
            onChange: (e) => {
              var t, a, n;
              const r = new Array();
              if (d)
                (0, S.Pe)(-1),
                  -1 != e.data &&
                    ((0, S.Q5)(0, !0),
                    (0, S.Q5)(e.data, !0),
                    r.push(0),
                    r.push(e.data));
              else {
                for (let t = 0; t <= e.data; ++t) r.push(t);
                (0, S.Pe)(e.data);
              }
              if (
                f &&
                (null ===
                  (a =
                    null === (t = f.rewards) || void 0 === t
                      ? void 0
                      : t.reward_items) || void 0 === a
                  ? void 0
                  : a.length) > 0
              ) {
                const e = r
                    .map((e) =>
                      (function (e, t) {
                        var a;
                        if (e && "rewards" == e.section_type) {
                          const n =
                            null === (a = e.rewards.reward_items) ||
                            void 0 === a
                              ? void 0
                              : a.filter((e) => e.item_bucket == t);
                          if ((null == n ? void 0 : n.length) > 0)
                            return n.map((e) => ({
                              appid: e.appid,
                              item_type: e.community_item_type,
                              amount: "1",
                            }));
                        }
                        return null;
                      })(f, e)
                    )
                    .filter(Boolean),
                  t = new Array();
                e.forEach((e) => t.push(...e)),
                  (0, B.Hy)(
                    null === (n = f.rewards) || void 0 === n
                      ? void 0
                      : n.reward_items[0].appid,
                    t
                  );
              }
            },
          })
        );
      }
      function A(e) {
        var t, a, r;
        const { eventModel: l } = e,
          o = (0, b.vS)(),
          [i] = (0, I.Ar)(y.ml, void 0);
        return Boolean(
          o &&
            (null === (t = l.jsondata) || void 0 === t
              ? void 0
              : t.bSaleEnabled) &&
            (null ===
              (r =
                null === (a = l.jsondata) || void 0 === a
                  ? void 0
                  : a.sale_sections) || void 0 === r
              ? void 0
              : r.length) > 0
        )
          ? s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "a",
                {
                  className: (0, _.Z)(
                    m.Button,
                    E.AdminButton,
                    m.ValveOnlyBackground
                  ),
                  onClick: () => {
                    var e;
                    const t = l.jsondata.sale_sections.find(
                        (e) => "tabs" == e.section_type
                      ),
                      a =
                        i ||
                        ((null === (e = null == t ? void 0 : t.tabs) ||
                        void 0 === e
                          ? void 0
                          : e.length) > 0 &&
                          t.tabs[0].unique_id) ||
                        null,
                      n = new Array();
                    l.jsondata.sale_sections.forEach((e) => {
                      (0, b.dc)(e) &&
                        n.push(
                          Object.assign(Object.assign({}, o), {
                            insertion_requirement: null,
                            sectionID: e.unique_id,
                            tabID: a,
                            insertionIndex: 0,
                            force_preview_mode: !0,
                          })
                        );
                    }),
                      (0, b.j3)(n);
                  },
                },
                "(VO) Inject Capsule"
              ),
              s.createElement(
                "a",
                {
                  className: (0, _.Z)(
                    m.Button,
                    E.AdminButton,
                    m.ValveOnlyBackground
                  ),
                  onClick: (e) =>
                    (0, p.AM)(
                      s.createElement(C.uH, {
                        strTitle: "Clear Rewards for Summer 2022",
                        onOK: () =>
                          (0, n.mG)(this, void 0, void 0, function* () {
                            const e = new FormData();
                            e.append("sessionid", v.De.SESSIONID),
                              e.append(
                                "clan_accountid",
                                "" + v.JA.CLANACCOUNTID
                              ),
                              e.append("event_id", "15");
                            const t = yield w().post(
                              `${v.De.STORE_BASE_URL}saleaction/ajaxgresetopendoorrewards`,
                              e,
                              { withCredentials: !0 }
                            );
                            console.log("ajaxgresetopendoorrewards", t);
                          }),
                      }),
                      (0, h.RA)(e)
                    ),
                },
                "( VO ) Clear Summer 2022 Rewards"
              )
            )
          : null;
      }
      function k(e) {
        var t, a;
        const { eventModel: n } = e,
          l = (0, r.SZ)(() => n.jsondata.sale_sections),
          o = (0, s.useMemo)(
            () =>
              null == l
                ? void 0
                : l.find((e) => "badge_progress" == e.section_type),
            [l]
          );
        return (null ===
          (a =
            null === (t = null == o ? void 0 : o.badge_progress) || void 0 === t
              ? void 0
              : t.levels) || void 0 === a
          ? void 0
          : a.length) > 0 && v.L7.is_support
          ? s.createElement(F, { section: o })
          : null;
      }
      function F(e) {
        var t;
        const { section: a } = e,
          n = (0, f.oS)(
            null === (t = a.badge_progress) || void 0 === t
              ? void 0
              : t.event_badgeid
          ),
          l = (0, r.SZ)(() => a.badge_progress.levels),
          o = Math.max(...l.map((e) => e.level));
        if (!n) return null;
        const c = [];
        for (let e = 0; e <= o; ++e) c.push({ label: "Level " + e, data: e });
        return s.createElement(i.ry, {
          strDropDownClassName: (0, _.Z)(
            m.DropDownScroll,
            m.ValveOnlyBackground
          ),
          rgOptions: c,
          selectedOption: n.level,
          onChange: (e) => {
            var t;
            return (0, f.xH)({
              badgeid:
                null === (t = a.badge_progress) || void 0 === t
                  ? void 0
                  : t.event_badgeid,
              level: e.data,
            });
          },
        });
      }
    },
    92663: (e, t, a) => {
      "use strict";
      a.d(t, { V: () => te, a: () => ne });
      var n = a(70655),
        r = a(9669),
        s = a.n(r),
        l = a(29323),
        o = a(67294),
        i = a(78587),
        c = a(26149),
        d = a(54698),
        u = a(80315),
        m = a(49186),
        p = a(3389),
        _ = a(24399),
        h = a(76776),
        g = a(35118),
        v = a(51391),
        E = a(75007),
        S = a(5525),
        C = a(9915),
        f = a(32548),
        b = a(65499),
        I = a(57287),
        y = a(77636),
        D = a(35017),
        w = a(10847),
        B = a(77475),
        N = a(95598),
        T = a(28268),
        G = a(7573),
        A = a(53622),
        k = a(41311),
        F = a(64839),
        L = a(35092),
        x = a(90666),
        M = a(69472),
        P = a(59650),
        O = (a(72258), a(17170)),
        R = a.n(O),
        H = a(23937);
      let V = class extends o.Component {
        OnMuteButton(e) {
          const { calendarEvent: t } = this.props;
          let a = t.GetEntityName();
          (0, P.AM)(
            o.createElement(
              M.uH,
              {
                strTitle: (0, k.Xx)("#EventCalendar_MuteApp_Title", a),
                strDescription: (0, k.Xx)("#EventCalendar_MuteApp_details", a),
                onOK: () =>
                  (0, g.vY)().UpdateEventBlockFromCalendarEvent(t, !1),
              },
              o.createElement(
                "a",
                {
                  href: x.De.STORE_BASE_URL + "account/emailoptout/app",
                  target: x.De.IN_CLIENT ? void 0 : "_blank",
                },
                (0, k.Xx)("#EventCalendar_ManageMutedSources")
              )
            ),
            (0, A.RA)(e)
          );
        }
        OnUnMuteButton() {
          const { calendarEvent: e } = this.props;
          (0, g.vY)().UpdateEventBlockFromCalendarEvent(e, !0);
        }
        HideAllEventsOfMyType() {
          const { eventModel: e } = this.props,
            t = this.GetVisibilityStore().MapClanEventTypeToGroup(
              e.GetEventType()
            );
          this.GetVisibilityStore().SetEventTypeGroupAllowed(t, !1);
        }
        GetVisibilityStore() {
          return (0, g.vY)().m_visibilityStore;
        }
        AddContextMenuForSource(e, t, a, n = !0) {
          this.GetVisibilityStore().BIsGameSourceAllowed(t) &&
            (n &&
              e.push(
                o.createElement(
                  w.Zo,
                  {
                    key: `item-source-${a}-${t}`,
                    disabled: !0,
                    onSelected: () => {},
                  },
                  (0, k.Xx)("#EventCalender_Reason_" + t)
                )
              ),
            e.push(
              o.createElement(
                w.Zo,
                {
                  key: `item-hidesource-${a}-${t}`,
                  onSelected: () => {
                    this.GetVisibilityStore().SetGameSourceAllowed(t, !1);
                  },
                },
                (0, k.Xx)("#EventCalender_Hide_Reason_" + t)
              )
            ));
        }
        GotoGameOrClanHub() {
          const { eventModel: e } = this.props,
            t = (0, H.q)(e, H.Ue.k_eStoreNewsHub, "allowRelative");
          t.startsWith("http")
            ? (window.location.href = t)
            : this.props.history.push(t);
        }
        ToggleFollowCurator() {
          (0, B.Sm)(this.props.eventModel.clanSteamID.GetAccountID());
        }
        CreateContextMenu(e) {
          const { eventModel: t, calendarEvent: a } = this.props;
          let n = [];
          const r = a.GetSource(),
            s = a.unique_id,
            l = x.De.EREALM === d.IN.k_ESteamRealmChina,
            i = (0, g.vY)();
          if (
            (i.BIsGlobalCalendar() &&
              (r &&
                r & u.ZT.k_eLibrary &&
                (this.GetVisibilityStore().BIsGameSourceAllowed(
                  E.Gf.k_ERecent
                ) && a.appInfo
                  ? (n.push(
                      o.createElement(
                        w.Zo,
                        {
                          key: `item-source-${s}-lastplayed`,
                          disabled: !0,
                          onSelected: () => {},
                        },
                        (0, k.Xx)(
                          "#EventCalender_LastPlayed",
                          (0, k.yW)(
                            S.JW.GetTimeNowWithOverride() -
                              a.appInfo.last_played
                          )
                        )
                      )
                    ),
                    this.AddContextMenuForSource(n, E.Gf.k_ERecent, s, !1))
                  : this.AddContextMenuForSource(n, E.Gf.k_ELibrary, s)),
              r &&
                r & u.ZT.k_eWishlist &&
                this.AddContextMenuForSource(n, E.Gf.k_EWishlist, s),
              r &&
                r & u.ZT.k_eFollowing &&
                this.AddContextMenuForSource(n, E.Gf.k_EFollowing, s),
              !l &&
                r &&
                r & u.ZT.k_eCurator &&
                this.AddContextMenuForSource(n, E.Gf.k_ECurator, s),
              r &&
                r & u.ZT.k_eRecommended &&
                this.AddContextMenuForSource(n, E.Gf.k_ERecommended, s),
              r &&
                r & u.ZT.k_eSteam &&
                this.AddContextMenuForSource(n, E.Gf.k_ESteam, s),
              r &&
                r & u.ZT.k_eFeatured &&
                this.AddContextMenuForSource(n, E.Gf.k_EFeatured, s)),
            n.push(
              o.createElement(
                w.Zo,
                {
                  key: t.GID + "hidetype",
                  onSelected: this.HideAllEventsOfMyType,
                },
                (0, k.Xx)(
                  "#EVentCalendar_Hide_EventType",
                  (0, k.Xx)(
                    "#EventCalendar_EventTypeGroup_" +
                      this.GetVisibilityStore().MapClanEventTypeToGroup(
                        t.GetEventType()
                      )
                  )
                )
              )
            ),
            x.L7.logged_in &&
              (D.m.Get().BIsEventBlocked(a)
                ? n.push(
                    o.createElement(
                      w.Zo,
                      {
                        key: t.GID + "unmuteapp",
                        onSelected: this.OnUnMuteButton,
                      },
                      o.createElement(
                        T.HP,
                        {
                          toolTipContent: (0, k.Xx)(
                            "#EventCalendar_UnMuteApp_ttip"
                          ),
                        },
                        (0, k.Xx)(
                          "#EventCalendar_UnMuteApp_Title",
                          this.props.calendarEvent.GetEntityName()
                        )
                      )
                    )
                  )
                : n.push(
                    o.createElement(
                      w.Zo,
                      { key: t.GID + "muteapp", onSelected: this.OnMuteButton },
                      o.createElement(
                        T.HP,
                        {
                          toolTipContent: (0, k.Xx)(
                            "#EventCalendar_MuteApp_ttip"
                          ),
                        },
                        (0, k.Xx)(
                          "#EventCalendar_MuteApp_Title",
                          this.props.calendarEvent.GetEntityName()
                        )
                      )
                    )
                  )),
            !t.BIsOGGEvent() && !l)
          ) {
            const e = y.jg.Get().BIsFollowingCurator(t.clanSteamID);
            n.push(
              o.createElement(
                w.Zo,
                {
                  key: t.GID + "followcurator",
                  onSelected: this.ToggleFollowCurator,
                },
                o.createElement(
                  T.HP,
                  {
                    toolTipContent: (0, k.Xx)(
                      e
                        ? "#EventCalendar_UnFollowCurator_ttip"
                        : "#EventCalendar_FollowCurator_ttip"
                    ),
                  },
                  (0, k.Xx)(
                    e
                      ? "#EventCalendar_UnFollowCurator"
                      : "#EventCalendar_FollowCurator",
                    this.props.calendarEvent.GetEntityName()
                  )
                )
              )
            );
          }
          i.BIsSingleSourceCalendar() ||
            n.push(
              o.createElement(
                w.Zo,
                { key: t.GID + "goto", onSelected: this.GotoGameOrClanHub },
                (0, k.Xx)(
                  "#EventCalendar_Goto_SpecificCalendar",
                  a.GetEntityName()
                )
              )
            ),
            t.appid &&
              n.push(
                o.createElement(
                  w.Zo,
                  {
                    key: t.GID + "goto",
                    onSelected: () =>
                      (window.location.href = (0, L.OL)(
                        x.De.STORE_BASE_URL + "app/" + t.appid
                      )),
                  },
                  (0, k.Xx)("#EventDisplay_ViewStorePage")
                )
              ),
            (0, I.yV)(o.createElement(w.xV, null, n), e);
        }
        render() {
          return o.createElement(
            "div",
            {
              className: (0, G.Z)(R().FooterStat, R().Options),
              onClick: this.CreateContextMenu,
            },
            o.createElement(N.vJ$, null)
          );
        }
      };
      (0, n.gn)([F.ak], V.prototype, "OnMuteButton", null),
        (0, n.gn)([F.ak], V.prototype, "OnUnMuteButton", null),
        (0, n.gn)([F.ak], V.prototype, "HideAllEventsOfMyType", null),
        (0, n.gn)([F.ak], V.prototype, "AddContextMenuForSource", null),
        (0, n.gn)([F.ak], V.prototype, "GotoGameOrClanHub", null),
        (0, n.gn)([F.ak], V.prototype, "ToggleFollowCurator", null),
        (0, n.gn)([F.ak], V.prototype, "CreateContextMenu", null),
        (V = (0, n.gn)([l.Pi], V));
      const U = (0, i.EN)(V);
      var W = a(49691),
        Z = a(90110),
        X = a(96602),
        j = a(6092),
        z = a(96187),
        Y = a(90844),
        J = a(47784),
        q = a.n(J);
      const K = (e) => {
          const t = ["maxresdefault", "mqdefault", "default"],
            [a, n] = o.useState(0);
          o.useEffect(() => n(0), [e.video]);
          const r = o.useRef();
          if (e.altImgWithFallback && e.altImgWithFallback.length > 0)
            return o.createElement(z.J, {
              className: e.className,
              srcs: e.altImgWithFallback,
            });
          if (e.altImg)
            return o.createElement("img", {
              src: e.altImg,
              className: e.className,
            });
          {
            const s =
                "https://img.youtube.com/vi/" + e.video + "/" + t[a] + ".jpg",
              l = () => {
                a + 1 < t.length && n(a + 1);
              },
              i = () => {
                r.current && r.current.naturalHeight < 91 && l();
              };
            return o.createElement("img", {
              ref: r,
              onLoad: i,
              onError: l,
              src: s,
              className: (0, G.Z)(q().YoutubePreviewImage, e.className),
            });
          }
        },
        Q = (e) => {
          const [t, a] = o.useState(!1);
          if (
            (o.useEffect(() => {
              e.preloadYoutubeScripts && (0, Y.m)(() => {});
            }, [e.preloadYoutubeScripts]),
            t)
          )
            return o.createElement(
              Y.e,
              Object.assign({}, e, {
                classnames: (0, G.Z)(q().YoutubePlayer, e.classnames),
              })
            );
          {
            const t = (t) => {
              e.onPlayerActivated && e.onPlayerActivated(),
                a(!0),
                t.stopPropagation(),
                t.preventDefault();
            };
            return o.createElement(
              "div",
              {
                className: (0, G.Z)(
                  "YoutubePreviewContainer",
                  q().YoutubePreviewImage,
                  e.imageClassnames
                ),
                onClick: t,
              },
              o.createElement(K, {
                className: "YoutubePreviewImage",
                altImgWithFallback: e.altImgWithFallback,
                altImg: e.altImg,
                video: e.video,
              }),
              o.createElement(
                "div",
                { className: "YoutubePreviewPlay" },
                o.createElement(N.GhU, null)
              ),
              o.createElement(
                "div",
                { className: "VideoHintText" },
                (0, k.Xx)("#EventCalendar_WatchYouTubeVideo")
              )
            );
          }
        };
      var $ = a(47808),
        ee = a(86278);
      let te = class extends o.Component {
        constructor() {
          super(...arguments), (this.state = { bVideoPlayerReady: !1 });
        }
        OnFallbackClick(e) {
          v.Y.RecordAppInteractionEvent(
            this.props.calendarEvent.appid,
            v.g.k_eClickThrough
          ),
            this.props.fnOnClicked(this.props.eventModel),
            e.stopPropagation(),
            e.preventDefault();
        }
        componentDidMount() {
          if (this.props.calendarEvent.clanInfo) {
            let e = p.K.InitFromClanID(
              this.props.calendarEvent.clanInfo.clanid
            );
            h.sV.LoadClanInfoForClanSteamID(e);
          }
        }
        getVideoPreviewControl() {
          const { video_preview_type: e, video_preview_id: t } =
            this.props.eventModel;
          if (!t) return null;
          if (12 === this.props.eventModel.type) return null;
          if ("youtube" === e) {
            const e = (0, c.jM)(x.De.LANGUAGE),
              a =
                (0, j.p)() && 14 == this.props.eventModel.GetEventType()
                  ? _.FN.full
                  : _.FN.capsule_main,
              n = this.props.eventModel.GetImageForSizeAsArrayWithFallback(
                "capsule",
                e,
                a,
                !0
              );
            if ("carousel" === this.props.mode)
              return o.createElement(K, {
                altImgWithFallback: n,
                video: t,
                className: R().YoutubePreviewImage,
              });
            const r = () => {
              v.Y.RecordAppInteractionEvent(
                this.props.calendarEvent.appid,
                v.g.k_ePlayedVideo
              ),
                this.setState({ bVideoPlayerReady: !0 });
            };
            return o.createElement(Q, {
              video: t,
              altImgWithFallback: n,
              autoplay: !0,
              autopause: !0,
              showFullscreenBtn: !0,
              controls: !0,
              imageClassnames: R().YoutubePreviewImage,
              onPlayerActivated: r,
              preloadYoutubeScripts: !0,
              playsInline: !0,
            });
          }
          return null;
        }
        BIsSubTitleRedundant(e, t) {
          const a = (e) => e.replace(/\W+/g, "").toLocaleLowerCase(),
            n = a(e);
          return a(t).startsWith(n);
        }
        render() {
          const {
              eventModel: e,
              calendarEvent: t,
              bSuppressHoverEffects: a,
              mode: n,
            } = this.props,
            r = C.cb.Get(),
            s = t.GetGameCapsule(),
            l = (0, c.jM)(x.De.LANGUAGE),
            i = e.has_live_stream,
            d = e.has_live_stream,
            u =
              (0, j.p)() && 14 == e.GetEventType()
                ? _.FN.full
                : _.FN.capsule_main,
            p = "capsule",
            h = e.BImageNeedScreenshotFallback(p, l),
            g = Boolean(h && e.appid)
              ? e.GetFallbackArtworkScreenshot()
              : e.GetImageURLWithFallback(p, l, u),
            v = "upcoming" !== n && this.getVideoPreviewControl(),
            E = !v && "upcoming" !== n,
            f = e.GetCategoryAsString(),
            b = R()[`EventType${e.GetEventType()}`],
            I = e.GetAllTags().map((e) => R()[`Tag-${e}`]),
            y = (0, G.Z)(
              R().TileContainer,
              b,
              i && R().TileVideoIcon,
              a ? R().DisableHovers : R().EnableHovers,
              this.state.bVideoPlayerReady && R().VideoPlayerReady,
              v && R().HasVideo,
              r.HasEventBeenRead(e.GID) && R().HasBeenRead,
              "wide" === n && R().WideMode,
              "carousel" === n && R().CarouselMode,
              "upcoming" === n && R().UpcomingMode,
              ...I
            ),
            D = e.GetNameWithFallback(l);
          let w = e.GetSubTitleWithLanguageFallback(l),
            B = e.GetSummaryWithFallback(l);
          w === B && (B = void 0), w === D && (w = void 0);
          const T = (0, m.ax)(g),
            A = o.createElement(
              "div",
              { className: R().CoverImageCtn },
              v,
              E &&
                o.createElement(
                  o.Fragment,
                  null,
                  12 === e.type &&
                    o.createElement(
                      o.Fragment,
                      null,
                      o.createElement(
                        "div",
                        { className: R().GameCapsuleCtn },
                        o.createElement("div", {
                          className: R().AppBannerLogo,
                          style: { backgroundImage: `url(${s})` },
                        })
                      ),
                      o.createElement(
                        "div",
                        { className: R().GameShortDescription },
                        B
                      )
                    ),
                  12 !== e.type &&
                    o.createElement(
                      "div",
                      {
                        className: (0, G.Z)(
                          R().EventCapsuleCtn,
                          i && R().LiveBroadcastPreview
                        ),
                      },
                      o.createElement("div", {
                        className: (0, G.Z)(
                          R().TileImage,
                          h && R().FallbackImage
                        ),
                        style: { backgroundImage: `url(${T})` },
                      }),
                      i &&
                        o.createElement("div", {
                          className: R().TileCoverImagePlayable,
                        }),
                      d &&
                        o.createElement(
                          "div",
                          { className: R().TileCoverLiveIcon },
                          (0, k.Xx)("#home_page_live_broadcast")
                        ),
                      i &&
                        o.createElement(
                          "div",
                          { className: "VideoHintText" },
                          (0, k.Xx)("#EventCalendar_WatchLiveBroadcast")
                        )
                    )
                )
            ),
            F = v && "carousel" !== n,
            L = a && 14 != e.GetEventType() && !F,
            M = L && A,
            P = !L && A,
            O = "wide" !== n || a,
            V =
              28 !== e.type &&
              12 !== e.type &&
              S.JW.GetTimeNowWithOverride() <
                e.GetStartTimeAndDateUnixSeconds() &&
              o.createElement(
                "div",
                {
                  className: (0, G.Z)(R().ReminderContainer, O && R().OnlyIcon),
                },
                o.createElement(Z.m, {
                  eventModel: e,
                  lang: l,
                  bShowStartTime: !0,
                  bOnlyShowIcon: O,
                  bExpandLeft: O,
                })
              ),
            U = Boolean(12 !== e.type && B),
            X = Boolean(w && (!U || !this.BIsSubTitleRedundant(w, B)));
          return o.createElement(
            "div",
            { className: y },
            o.createElement(W.I, { event: e, recordNewsHubStats: !0 }),
            o.createElement(
              H.JW,
              { eventModel: e, route: H.Ue.k_eView },
              o.createElement(
                "div",
                { className: R().Tile, onClick: this.OnFallbackClick },
                14 === e.type &&
                  o.createElement("div", {
                    className: (0, G.Z)(
                      R().TileBackgroundImage,
                      h && R().FallbackImage
                    ),
                    style: { backgroundImage: `url(${T})` },
                  }),
                o.createElement(
                  "div",
                  { className: R().MainContentContainer },
                  o.createElement(
                    "div",
                    { className: R().TileTextContainer },
                    o.createElement(
                      "div",
                      { className: R().PatchIconCtn },
                      o.createElement(N.mKt, null)
                    ),
                    o.createElement(
                      "div",
                      { className: R().EventTitleCtn },
                      M,
                      !this.props.bHideGameTitle &&
                        o.createElement(
                          "div",
                          { className: R().GameSource },
                          o.createElement(ne, Object.assign({}, this.props)),
                          t && o.createElement(se, { calendarEvent: t })
                        ),
                      o.createElement("div", { className: R().EventName }, D),
                      o.createElement(
                        "div",
                        { className: R().EventTypeAndDateCtn },
                        o.createElement(
                          "div",
                          { className: (0, G.Z)(R().TileTextCategoryType, b) },
                          f
                        ),
                        o.createElement(re, {
                          eventModel: e,
                          className: (0, G.Z)(O && R().LeaveRoomForReminder),
                        }),
                        O && V
                      ),
                      X &&
                        o.createElement(
                          "div",
                          { className: R().EventSubTitle },
                          w
                        ),
                      U &&
                        o.createElement(
                          "div",
                          {
                            className: (0, G.Z)(
                              R().EventSummaryDefault,
                              w ? R().SubTitleShown : ""
                            ),
                          },
                          B
                        )
                    ),
                    !O && V
                  ),
                  P
                )
              )
            ),
            o.createElement(oe, Object.assign({}, this.props))
          );
        }
      };
      (0, n.gn)([F.ak], te.prototype, "OnFallbackClick", null),
        (te = (0, n.gn)([l.Pi], te));
      let ae = class extends o.Component {
        OnTitleClick(e) {
          const { eventModel: t } = this.props,
            a = (0, H.q)(t, H.Ue.k_eStoreNewsHub, "allowRelative");
          a.startsWith("http")
            ? (window.location.href = a)
            : this.props.history.push(a),
            e.stopPropagation(),
            e.preventDefault();
        }
        render() {
          const {
              eventModel: e,
              calendarEvent: t,
              bSuppressHoverEffects: a,
            } = this.props,
            n = t.GetEntityName(),
            r = t.GetGameIcon(),
            s = (0, G.Z)(
              R().GameTitleContainer,
              a ? R().DisableHovers : R().EnableHovers
            );
          return o.createElement(
            f.S,
            null,
            o.createElement(
              "div",
              { className: R().TileTextHeader },
              o.createElement(
                "div",
                { className: s, onClick: this.OnTitleClick },
                o.createElement("img", { className: R().AppIcon, src: r }),
                o.createElement(
                  "div",
                  { className: R().TileTextAppName },
                  n,
                  " "
                )
              )
            )
          );
        }
      };
      (0, n.gn)([F.ak], ae.prototype, "OnTitleClick", null),
        (ae = (0, n.gn)([l.Pi], ae));
      const ne = (0, i.EN)(ae),
        re = (0, l.Pi)((e) => {
          const { eventModel: t, calendarEvent: a, className: n } = e,
            r = (0, g.vY)().GetStoreInitializationTimestamp().getTime() / 1e3,
            s = t ? t.GetStartTimeAndDateUnixSeconds() : a.start_time,
            l = t && (0, ee.G1)(t.type) && t.GetEndTimeAndDateUnixSeconds();
          if (l && s < r && r < l) {
            const e = l - r,
              t = (0, k.yW)(e, !0);
            return o.createElement(
              "div",
              { className: (0, G.Z)(R().LiveText, n) },
              o.createElement(
                X.Zg,
                { rtFullDate: s, stylesmodule: R() },
                o.createElement(
                  "div",
                  { className: R().LiveNow },
                  (0, k.Xx)("#EventCalendar_LiveNow")
                )
              ),
              o.createElement(
                X.Zg,
                { rtFullDate: l, stylesmodule: R() },
                (0, k.Xx)("#EventCalendar_TimeLeft", t)
              )
            );
          }
          if (s < r) {
            const e = r - s,
              t = e < 86400 ? (0, k.yW)(e, !1, !0) : (0, k.m9)(s);
            return o.createElement(
              X.Zg,
              { className: n, rtFullDate: s, stylesmodule: R() },
              o.createElement("div", { className: R().PastDateText }, t)
            );
          }
          {
            const e = new Date(1e3 * r);
            e.setHours(0, 0, 0, 1);
            const t = e.getTime() / 1e3,
              a = Math.floor((s - t) / 86400),
              l = a > 1 && a <= 5 ? (0, k.Mh)(new Date(1e3 * s)) : (0, k.m9)(s),
              i = (0, X.Kj)(s);
            return o.createElement(
              X.Zg,
              { className: n, rtFullDate: s, stylesmodule: R() },
              o.createElement(
                "div",
                { className: R().FutureDateText },
                (0, k.Xx)("#EventCalendar_WillStartAtDateTime", l, i)
              )
            );
          }
        }),
        se = (0, l.Pi)((e) => {
          const t = e.calendarEvent.GetSource(),
            a = [],
            n = (0, g.vY)().m_visibilityStore;
          t & u.ZT.k_eLibrary && n.BIsGameSourceAllowed(E.Gf.k_ELibrary)
            ? a.push({
                id: u.ZT.k_eLibrary,
                name: "#EventCalendar_GameSource_inLibrary",
                ttip: "#EventCalendar_GameSource_EventExplanation_ttip_library",
                styles: R().LibrarySource,
              })
            : t & u.ZT.k_eWishlist && n.BIsGameSourceAllowed(E.Gf.k_EWishlist)
            ? a.push({
                id: u.ZT.k_eWishlist,
                name: "#EventCalendar_GameSource_onWishlist",
                ttip: "#EventCalendar_GameSource_EventExplanation_ttip_wishlist",
                styles: R().WishlistSource,
              })
            : t & u.ZT.k_eRecommended &&
              n.BIsGameSourceAllowed(E.Gf.k_ERecommended)
            ? a.push({
                id: u.ZT.k_eRecommended,
                name: "#EventCalendar_GameSource_recommended_Verbose",
                ttip: "#EventCalendar_GameSource_EventExplanation_ttip_recommended",
                styles: R().RecommendedSource,
              })
            : t & u.ZT.k_eFeatured &&
              n.BIsGameSourceAllowed(E.Gf.k_EFeatured) &&
              a.push({
                id: u.ZT.k_eFeatured,
                name: "#EventCalendar_GameSource_featured",
                ttip: "#EventCalendar_GameSource_ttip_featured",
                styles: R().FeaturedSource,
              }),
            t & u.ZT.k_eFollowing &&
              n.BIsGameSourceAllowed(E.Gf.k_EFollowing) &&
              a.push({
                id: u.ZT.k_eFollowing,
                name: "#EventCalendar_GameSource_followed",
                ttip: "#EventCalendar_GameSource_EventExplanation_ttip_following",
                styles: R().FollowingSource,
              });
          const r = a.map((t, n) => {
            const r = e.calendarEvent.unique_id;
            return le(
              `item-source-${r}-${t.id}`,
              t.name,
              t.ttip,
              t.styles,
              n + 1 < a.length
            );
          });
          return o.createElement("div", { className: R().SourceList }, r);
        }),
        le = (e, t, a, n, r) =>
          o.createElement(
            T.HP,
            {
              key: e,
              className: (0, G.Z)(R().Source, n),
              toolTipContent: (0, k.Xx)(a),
            },
            (0, k.Xx)(t) + (r ? ", " : "")
          );
      let oe = class extends o.Component {
        OnPerformVoteUp() {
          const { eventModel: e } = this.props,
            t = C.cb.Get();
          !0 !== t.GetPreviouslyLoadedVote(this.props.eventModel) &&
            (0, b.Q)(e, t) &&
            (t.Vote(e, !0, s().CancelToken.source()),
            v.Y.RecordAppInteractionEvent(e.appid, v.g.k_eThumbsUp));
        }
        OnDiscussionClicked() {
          const { eventModel: e } = this.props;
          v.Y.RecordAppInteractionEvent(e.appid, v.g.k_eDiscussions);
        }
        render() {
          const e = C.cb.Get(),
            { eventModel: t } = this.props,
            a = Math.max(0, t.nVotesUp - t.nVotesDown),
            n = e.GetPreviouslyLoadedVote(this.props.eventModel),
            r = (function (e, t) {
              return e.BIsUserLoggedIn()
                ? x.L7.is_limited
                  ? R().Vote_LimitedUser
                  : !0 === t
                  ? R().Vote_Positive
                  : !1 === t
                  ? R().Vote_Negative
                  : R().Vote_Ready
                : R().Vote_NotLoggedIn;
            })(e, n),
            s = t.GetForumTopicURL(),
            l = x.De.EREALM !== d.IN.k_ESteamRealmChina && s,
            i =
              t.live_stream_viewer_count > 0
                ? t.live_stream_viewer_count
                : void 0;
          return o.createElement(
            "div",
            { className: R().Footer },
            o.createElement(
              "div",
              { className: R().FooterRightSide },
              Boolean(i) &&
                o.createElement(
                  "div",
                  { className: R().TileViewerCount },
                  (0, $.AV)(i)
                ),
              o.createElement(
                "div",
                {
                  className: (0, G.Z)(R().FooterStat, R().Vote, r),
                  onClick: this.OnPerformVoteUp,
                },
                o.createElement(N.KJh, { className: R().RateIcon }),
                o.createElement("span", null, Number(a).toLocaleString())
              ),
              l &&
                o.createElement(
                  "div",
                  { className: R().FooterStat },
                  o.createElement(
                    "a",
                    {
                      href: s,
                      className: R().CommentIconCtn,
                      target: "_blank",
                      onClick: this.OnDiscussionClicked,
                    },
                    o.createElement(N.xg, { className: R().CommentIcon }),
                    o.createElement(
                      "span",
                      null,
                      Number(t.nCommentCount).toLocaleString()
                    )
                  )
                ),
              o.createElement(U, Object.assign({}, this.props))
            )
          );
        }
      };
      (0, n.gn)([F.ak], oe.prototype, "OnPerformVoteUp", null),
        (0, n.gn)([F.ak], oe.prototype, "OnDiscussionClicked", null),
        (oe = (0, n.gn)([l.Pi], oe));
    },
    49691: (e, t, a) => {
      "use strict";
      a.d(t, { I: () => u });
      var n = a(67294),
        r = a(80533),
        s = (a(54698), a(99533)),
        l = a(9915),
        o = (a(68002), a(49186), a(35118)),
        i = a(51391);
      class c {
        constructor() {
          (this.m_bHasBeenTracked = !1), (this.m_fnSubmit = null);
        }
      }
      const d = new (class {
          constructor() {
            (this.m_nImpressionDelayMS = 500), (this.m_mapEvents = new Map());
          }
          ShouldTrack(e) {
            if (e.bOldAnnouncement) return !1;
            const t = this.m_mapEvents.get(e.GID);
            return !t || !t.m_bHasBeenTracked;
          }
          StartTracking(e, t) {
            if (e.bOldAnnouncement) return;
            let a = this.m_mapEvents.get(e.GID);
            a || ((a = new c()), this.m_mapEvents.set(e.GID, a)),
              a.m_bHasBeenTracked ||
                a.m_fnSubmit ||
                ((a.m_fnSubmit = new s.Ar()),
                a.m_fnSubmit.Schedule(
                  this.m_nImpressionDelayMS,
                  this.ReportImpression.bind(this, e, t)
                ));
          }
          StopTracking(e) {
            const t = this.m_mapEvents.get(e.GID);
            t && t.m_fnSubmit && (t.m_fnSubmit.Cancel(), (t.m_fnSubmit = null));
          }
          ReportImpression(e, t) {
            l.cb.Get().RecordEventShown(e, 8),
              t && i.Y.RecordViewedEvent((0, o.vY)(), e.GID);
            const a = this.m_mapEvents.get(e.GID);
            a &&
              ((a.m_bHasBeenTracked = !0),
              a.m_fnSubmit.Cancel(),
              (a.m_fnSubmit = null));
          }
        })(),
        u = (e) => {
          const { event: t } = e;
          if (d.ShouldTrack(t)) {
            const a = () => d.StartTracking(t, e.recordNewsHubStats || !1),
              s = () => d.StopTracking(t);
            return n.createElement(r.h, { onEnter: a, onLeave: s });
          }
          return null;
        };
    },
    63466: (e, t, a) => {
      "use strict";
      a.d(t, {
        EJ: () => R,
        Et: () => W,
        FY: () => V,
        PI: () => w,
        hj: () => B,
        j: () => H,
        mR: () => P,
        ow: () => U,
      });
      var n = a(70655),
        r = a(9669),
        s = a.n(r),
        l = a(22188),
        o = a(29323),
        i = a(67294),
        c = a(26149),
        d = a(54698),
        u = a(49186),
        m = a(77636),
        p = a(159),
        _ = a(73285),
        h = a(37694),
        g = a(48341),
        v = a(89673),
        E = a(95598),
        S = a(41311),
        C = a(90666),
        f = a(31890);
      function b(e, t) {
        const a = new Set(e);
        return (
          t.forEach((e) => {
            a.add(e);
          }),
          a
        );
      }
      function I(e, t) {
        const a = new Set();
        return (
          e.forEach((e) => {
            t.has(e) && a.add(e);
          }),
          a
        );
      }
      function y(e, t) {
        const a = new Set(e);
        return (
          t.forEach((t) => {
            e.delete(t);
          }),
          a
        );
      }
      function D(e, t) {
        const a = e.values();
        let n = a.next();
        for (; !n.done; ) {
          if (!t.has(n.value)) return !1;
          n = a.next();
        }
        return !0;
      }
      function w(e) {
        const t = Object.assign({}, e);
        if (!t) return t;
        if (
          t.type === u.PJ.k_EStoreFilterClauseTypeOr ||
          t.type === u.PJ.k_EStoreFilterClauseTypeAnd
        ) {
          if (!t.rgSubexpressions || 0 === t.rgSubexpressions.length)
            return null;
          if (
            ((t.rgSubexpressions = t.rgSubexpressions.map((e) => w(e))),
            !t.bNegated && 1 === t.rgSubexpressions.length)
          )
            return t.rgSubexpressions[0];
          if (!t.bNegated) {
            let e = [];
            for (const a of t.rgSubexpressions)
              a.bNegated || a.type !== t.type
                ? e.push(a)
                : (e = e.concat(a.rgSubexpressions));
            t.rgSubexpressions = e;
          }
        }
        return t;
      }
      class B {
        constructor(e, t, a, n, r, s) {
          (this.m_bServerSideFiltering = !1),
            (this.m_bUnboundedScope = !1),
            (this.m_nMinMatches = 1),
            (this.m_facetSortKey = u.bS.k_ESortFacetsByMatchCount),
            (this.m_language = -1),
            (this.m_nMinMatches = t),
            (this.m_facetSortKey = a),
            (this.m_language = n),
            (this.m_bServerSideFiltering = r),
            (this.m_bUnboundedScope = s),
            this.LoadPriceStops(),
            (this.m_facets = []),
            e.forEach((e) => {
              const t = [];
              e.facetValues.forEach((e) => {
                t.push({
                  facetValue: e,
                  bEnabled: Boolean(e.bEnabledByDefault),
                  nPriceStopIndex: Boolean(this.m_priceStopInfo)
                    ? this.m_priceStopInfo.length - 1
                    : void 0,
                  matchingCapsulesSet: Boolean(e.matchingCapsules)
                    ? new Set(e.matchingCapsules.map(O))
                    : void 0,
                  bDeactivated: !1,
                  nMatchingFilteredCapsules: null,
                  bHiddenBySearch: !1,
                });
              }),
                this.m_facets.push({
                  facet: e,
                  facetValues: t,
                  matchingCapsules: null,
                  matchingCapsulesInOtherFacets: null,
                });
            }),
            this.PruneFacets(),
            this.UpdateFilter(),
            (this.m_bHasHideIgnoredItemsFacetValue = e.some((e) =>
              e.facetValues.some(
                (e) =>
                  e.type === u.HL.k_EUserPreference &&
                  e.userPreference === u.oL.k_EHideIgnoredItems
              )
            )),
            this.SortFacets();
        }
        BHasHideIgnoredItemsFacetValue() {
          return this.m_bHasHideIgnoredItemsFacetValue;
        }
        GetFacets() {
          return this.m_facets;
        }
        GetQuery() {
          return this.m_strQuery;
        }
        GetURLParam() {
          return this.m_strURLParam;
        }
        GetSelectedOptionsCount() {
          return this.m_nSelectedOptions;
        }
        BIsUserPreferenceEnabled(e) {
          return this.m_userPreferences.has(e);
        }
        BIsAnyUserPreferenceEnabled() {
          return this.m_userPreferences.size > 0;
        }
        GetSortedFacets() {
          return this.m_sortedFacets;
        }
        GetPriceStops() {
          return this.m_priceStopInfo;
        }
        GetMatchCount() {
          return this.m_nFilteredCapsuleCount;
        }
        Reset() {
          this.m_facets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.bEnabled = Boolean(e.facetValue.bEnabledByDefault);
            });
          }),
            this.UpdateFilter();
        }
        SetFromURLParam(e) {
          if (e === this.m_strURLParam) return;
          this.m_facets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.bEnabled = Boolean(e.facetValue.bEnabledByDefault);
            });
          });
          ((null == e ? void 0 : e.split(",")) || []).forEach((e) => {
            const t = e.split(":"),
              a = Number(t[0]);
            t[1].split("|").forEach((e) => {
              if (e.includes("_")) {
                const t = e.split("_");
                (this.m_facets[a].facetValues[Number(t[0])].bEnabled = !0),
                  (this.m_facets[a].facetValues[Number(t[0])].nPriceStopIndex =
                    Number(t[1]));
              } else
                this.m_facets[a].facetValues[Number(e)].bEnabled =
                  !this.m_facets[a].facetValues[Number(e)].facetValue
                    .bEnabledByDefault;
            });
          }),
            this.UpdateFilter();
        }
        SetPotentiallyVisibleCapsules(e) {
          (this.m_potentiallyVisibleCapsules = new Set(e.map(O))),
            this.PruneFacets();
        }
        SetFacetCounts(e) {
          if (((this.m_facetCounts = new Map()), e))
            for (const t of Object.keys(e))
              this.m_facetCounts.set(Number(t), Number(e[t]));
        }
        SetMultiFacetCounts(e) {
          if (((this.m_mapMultiFacetCounts = new Map()), e))
            for (const t of Object.keys(e)) {
              const a = e[t],
                n = new Map();
              if ("discounted" === t) {
                let e = 0;
                for (const t of Object.keys(a)) e += Number(a[t]);
                n.set("true", e);
              } else for (const e of Object.keys(a)) n.set(e, Number(a[e]));
              this.m_mapMultiFacetCounts.set(t, n);
            }
        }
        FilterCapsules(e) {
          return null == this.m_matchingReferencedCapsules
            ? e
            : e.filter((e) => this.m_matchingReferencedCapsules.has(O(e)));
        }
        SetSolrMatchCount(e) {
          this.m_nSolrMatchCount = e;
        }
        SetFacetValueSearchString(e, t) {
          var a;
          for (const e of this.m_facets)
            for (const t of e.facetValues) t.bHiddenBySearch = !1;
          if (!e) return;
          const n = e.toLocaleLowerCase().trim();
          if (0 !== n.length)
            for (const e of this.m_facets)
              for (const r of e.facetValues) {
                (
                  (null === (a = k(r.facetValue, t)) || void 0 === a
                    ? void 0
                    : a.toLocaleLowerCase().trim()) || ""
                ).includes(n) || (r.bHiddenBySearch = !0);
              }
        }
        UpdateFilter() {
          this.UpdateMatchingReferencedCapsules(),
            this.UpdateQuery(),
            this.UpdateURLParam(),
            this.UpdateSelectedOptionsCount(),
            this.UpdateUserPreferenceFilters();
        }
        UpdateMatchingReferencedCapsules() {
          this.m_facets.forEach((e) => {
            (e.matchingCapsules = null),
              e.facetValues.some((e) => null == e.matchingCapsulesSet) ||
                e.facetValues.forEach((t) => {
                  if (t.bEnabled)
                    if (null == e.matchingCapsules)
                      e.matchingCapsules = t.matchingCapsulesSet;
                    else {
                      const a = e.facet.logical_and ? I : b;
                      e.matchingCapsules = a(
                        e.matchingCapsules,
                        t.matchingCapsulesSet
                      );
                    }
                });
          }),
            this.m_facets.forEach((e) => {
              const t = this.m_facets.filter(
                (t) => t !== e && null != t.matchingCapsules
              );
              (e.matchingCapsulesInOtherFacets = null),
                t.forEach((t) => {
                  null == e.matchingCapsulesInOtherFacets
                    ? (e.matchingCapsulesInOtherFacets = t.matchingCapsules)
                    : (e.matchingCapsulesInOtherFacets = I(
                        e.matchingCapsulesInOtherFacets,
                        t.matchingCapsules
                      ));
                });
            }),
            (this.m_matchingReferencedCapsules = null),
            this.m_facets.forEach((e) => {
              null != e.matchingCapsules &&
                (null == this.m_matchingReferencedCapsules
                  ? (this.m_matchingReferencedCapsules = e.matchingCapsules)
                  : (this.m_matchingReferencedCapsules = I(
                      this.m_matchingReferencedCapsules,
                      e.matchingCapsules
                    )));
            });
        }
        static BFacetHasEnabledOptTags(e) {
          for (const t of e.facetValues)
            if (t.bEnabled && null != t.facetValue.filter)
              for (const e of t.facetValue.filter.clauses)
                for (const t of e.or_tags) if (t.startsWith("[Opt]")) return !0;
          return !1;
        }
        UpdateQuery() {
          let e = {
            type: u.PJ.k_EStoreFilterClauseTypeAnd,
            rgSubexpressions: new Array(),
          };
          this.m_facets.forEach((t) => {
            if (B.BFacetHasEnabledOptTags(t)) return;
            const a = {
              type: t.facet.logical_and
                ? u.PJ.k_EStoreFilterClauseTypeAnd
                : u.PJ.k_EStoreFilterClauseTypeOr,
              rgSubexpressions: new Array(),
            };
            t.facetValues.forEach((e) => {
              if (e.bEnabled && Boolean(e.facetValue.rgStoreTagFilter)) {
                if (e.facetValue.type === u.HL.k_EUserPreference) return;
                const t = Object.assign({}, e.facetValue.rgStoreTagFilter);
                e.facetValue.type === u.HL.k_EPrice &&
                  (t.value = Boolean(this.m_priceStopInfo)
                    ? this.m_priceStopInfo[e.nPriceStopIndex].price
                    : void 0),
                  (e.facetValue.type !== u.HL.k_EPrice ||
                    Boolean(this.m_priceStopInfo)) &&
                    a.rgSubexpressions.push(t);
              }
            }),
              0 !== a.rgSubexpressions.length && e.rgSubexpressions.push(a);
          }),
            (e = w(e)),
            (this.m_strQuery = Boolean(e) ? JSON.stringify(e) : "");
        }
        UpdateURLParam() {
          const e = [];
          this.m_facets.forEach((t, a) => {
            const n = [];
            if (
              (t.facetValues.forEach((e, t) => {
                e.bEnabled !== Boolean(e.facetValue.bEnabledByDefault) &&
                  (e.facetValue.type === u.HL.k_EPrice
                    ? n.push(t + "_" + e.nPriceStopIndex)
                    : n.push(t.toString()));
              }),
              0 === n.length)
            )
              return;
            const r = n.join("|");
            e.push(a + ":" + r);
          }),
            (this.m_strURLParam = e.length > 0 ? e.join(",") : void 0);
        }
        UpdateSelectedOptionsCount() {
          (this.m_nSelectedOptions = 0),
            this.m_facets.forEach((e) => {
              e.facetValues.forEach((e) => {
                e.bEnabled !== Boolean(e.facetValue.bEnabledByDefault) &&
                  ++this.m_nSelectedOptions;
              });
            });
        }
        UpdateUserPreferenceFilters() {
          (this.m_userPreferences = new Set()),
            this.m_facets.forEach((e) => {
              e.facetValues.forEach((e) => {
                e.facetValue.type === u.HL.k_EUserPreference &&
                  e.bEnabled &&
                  this.m_userPreferences.add(e.facetValue.userPreference);
              });
            });
        }
        PruneFacets() {
          (this.m_prunedFacets = []),
            this.m_bServerSideFiltering || !this.m_potentiallyVisibleCapsules
              ? this.m_facets.forEach((e) => {
                  e.facetValues.forEach((e) => {
                    (e.bDeactivated = !1), (e.nMatchingFilteredCapsules = null);
                  }),
                    this.m_prunedFacets.push({
                      facet: e,
                      facetValues: e.facetValues,
                    });
                })
              : this.m_facets.forEach((e) => {
                  let t = [];
                  e.facetValues.forEach((e) => {
                    let a = !1;
                    if (null != e.matchingCapsulesSet) {
                      const t = I(
                        e.matchingCapsulesSet,
                        this.m_potentiallyVisibleCapsules
                      );
                      (t.size < this.m_nMinMatches ||
                        this.m_potentiallyVisibleCapsules.size <= t.size) &&
                        (a = !0);
                    }
                    a ||
                      ((e.bDeactivated = !1),
                      (e.nMatchingFilteredCapsules = null),
                      t.push(e));
                  }),
                    t.length > 0 &&
                      this.m_prunedFacets.push({ facet: e, facetValues: t });
                }),
            this.PruneFacetsForCurrentUser();
        }
        PruneFacetsForCurrentUser() {
          this.m_prunedFacets.forEach((e) => {
            e.facetValues = e.facetValues.filter((e) =>
              e.facetValue.type === u.HL.k_EContentDescriptor
                ? !m.jg.Get().BIsLoaded() ||
                  m.jg
                    .Get()
                    .BIncludesContentDescriptor(e.facetValue.contentDescriptor)
                : e.facetValue.type === u.HL.k_ELanguage
                ? !m.jg.Get().BIsLoaded() ||
                  (0 !== m.jg.Get().GetSecondaryLanguages().size &&
                    (m.jg.Get().GetPrimaryLanguage() ===
                      e.facetValue.language ||
                      m.jg
                        .Get()
                        .GetSecondaryLanguages()
                        .has(e.facetValue.language)))
                : e.facetValue.type !== u.HL.k_EUserPreference ||
                  (C.L7.logged_in && m.jg.Get().BIsLoaded())
            );
          }),
            (this.m_prunedFacets = this.m_prunedFacets.filter(
              (e) => e.facetValues.length > 0
            ));
        }
        UpdateMatchingFilteredCapsuleCounts() {
          this.m_bServerSideFiltering
            ? this.m_prunedFacets.forEach((e) => {
                e.facetValues.forEach((e) => {
                  e.nMatchingFilteredCapsules =
                    this.GetMatchCountForFacetValue(e);
                });
              })
            : this.m_prunedFacets.forEach((e) => {
                e.facetValues.forEach((e) => {
                  this.m_filteredCapsules && e.matchingCapsulesSet
                    ? (e.nMatchingFilteredCapsules = I(
                        this.m_filteredCapsules,
                        e.matchingCapsulesSet
                      ).size)
                    : (e.nMatchingFilteredCapsules = null);
                });
              });
        }
        GetMatchCountForFacetValue(e) {
          var t, a, n, r, s, l, o, i, c, m, p, _, h, g, v, E, S, C, f, b, I, y;
          if (this.m_mapMultiFacetCounts) {
            const y = "402",
              D = "401",
              w = "9",
              B = "28",
              N = "18",
              T = "41",
              G = "42",
              A = "43",
              k = "44",
              F = "37";
            switch (e.facetValue.type) {
              case u.HL.k_ESaleTagFilter:
              case void 0:
                if (
                  (null === (t = e.facetValue.rgStoreTagFilter) || void 0 === t
                    ? void 0
                    : t.type) === u.PJ.k_EStoreFilterClauseTypeStoreTag &&
                  e.facetValue.nAtomicStoreTagID
                )
                  return null ===
                    (a = this.m_mapMultiFacetCounts.get("tagidset")) ||
                    void 0 === a
                    ? void 0
                    : a.get(e.facetValue.nAtomicStoreTagID.toString());
                if (
                  (null === (n = e.facetValue.rgStoreTagFilter) || void 0 === n
                    ? void 0
                    : n.type) === u.PJ.k_EStoreFilterClauseTypeFeatureTag
                )
                  switch (e.facetValue.rgStoreTagFilter.value) {
                    case "linux":
                      return null ===
                        (r =
                          this.m_mapMultiFacetCounts.get("platform_linux")) ||
                        void 0 === r
                        ? void 0
                        : r.get("true");
                    case "mac":
                      return null ===
                        (s = this.m_mapMultiFacetCounts.get("platform_mac")) ||
                        void 0 === s
                        ? void 0
                        : s.get("true");
                    case "vr":
                      return null ===
                        (l = this.m_mapMultiFacetCounts.get("vrsupport")) ||
                        void 0 === l
                        ? void 0
                        : l.get(y);
                    case "vr only":
                      return null ===
                        (o = this.m_mapMultiFacetCounts.get("vrsupport")) ||
                        void 0 === o
                        ? void 0
                        : o.get(D);
                    case "full controller":
                      return null ===
                        (i = this.m_mapMultiFacetCounts.get("category")) ||
                        void 0 === i
                        ? void 0
                        : i.get(B);
                    case "any controller":
                      return (
                        (null ===
                          (c = this.m_mapMultiFacetCounts.get("category")) ||
                        void 0 === c
                          ? void 0
                          : c.get(B)) ||
                        (null ===
                          (m = this.m_mapMultiFacetCounts.get("category")) ||
                        void 0 === m
                          ? void 0
                          : m.get(N))
                      );
                    case "remote play":
                      return Math.max(
                        null ===
                          (p = this.m_mapMultiFacetCounts.get("category")) ||
                          void 0 === p
                          ? void 0
                          : p.get(T),
                        null ===
                          (_ = this.m_mapMultiFacetCounts.get("category")) ||
                          void 0 === _
                          ? void 0
                          : _.get(G),
                        null ===
                          (h = this.m_mapMultiFacetCounts.get("category")) ||
                          void 0 === h
                          ? void 0
                          : h.get(A),
                        null ===
                          (g = this.m_mapMultiFacetCounts.get("category")) ||
                          void 0 === g
                          ? void 0
                          : g.get(k)
                      );
                    case "remote play together":
                      return null ===
                        (v = this.m_mapMultiFacetCounts.get("category")) ||
                        void 0 === v
                        ? void 0
                        : v.get(k);
                    case "free":
                      return null ===
                        (E = this.m_mapMultiFacetCounts.get("genre")) ||
                        void 0 === E
                        ? void 0
                        : E.get(F);
                    case "discounted":
                      return null ===
                        (S = this.m_mapMultiFacetCounts.get("discounted")) ||
                        void 0 === S
                        ? void 0
                        : S.get("true");
                    case "coop":
                      return null ===
                        (C = this.m_mapMultiFacetCounts.get("category")) ||
                        void 0 === C
                        ? void 0
                        : C.get(w);
                  }
                break;
              case u.HL.k_EAppType:
                return null === (f = this.m_mapMultiFacetCounts.get("type")) ||
                  void 0 === f
                  ? void 0
                  : f.get(e.facetValue.appType);
              case u.HL.k_ELanguage:
                const L = (0, d.j_)(e.facetValue.language);
                return null ===
                  (b = this.m_mapMultiFacetCounts.get("supportedlang_" + L)) ||
                  void 0 === b
                  ? void 0
                  : b.get("true");
              case u.HL.k_EContentDescriptor:
                return null ===
                  (I = this.m_mapMultiFacetCounts.get("descids")) ||
                  void 0 === I
                  ? void 0
                  : I.get(e.facetValue.contentDescriptor.toString());
            }
          } else if (this.m_facetCounts)
            return null === (y = this.m_facetCounts) || void 0 === y
              ? void 0
              : y.get(e.facetValue.nAtomicStoreTagID);
          return null;
        }
        DeactivateFacetValues() {
          this.m_prunedFacets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.bDeactivated = !1;
            });
          }),
            this.m_bServerSideFiltering
              ? this.m_prunedFacets.forEach((e) => {
                  const t = V(e.facet.facet);
                  e.facetValues.forEach((e) => {
                    let a = e.nMatchingFilteredCapsules;
                    e.bDeactivated = !(
                      e.bEnabled ||
                      t ||
                      a ||
                      e.facetValue.type === u.HL.k_EUserPreference
                    );
                  });
                })
              : this.m_prunedFacets.forEach((e) => {
                  e.facetValues.forEach((t) => {
                    if (null != t.matchingCapsulesSet && !t.bEnabled)
                      if (null != e.facet.matchingCapsules) {
                        let a = t.matchingCapsulesSet;
                        null != e.facet.matchingCapsulesInOtherFacets &&
                          (a = I(a, e.facet.matchingCapsulesInOtherFacets)),
                          Boolean(this.m_filteredCapsules) &&
                            D(a, this.m_filteredCapsules) &&
                            (t.bDeactivated = !0);
                      } else
                        Boolean(this.m_filteredCapsules) &&
                          (!(function (e, t) {
                            if (
                              (!Boolean(e) && Boolean(t)) ||
                              (Boolean(e) && !Boolean(t))
                            )
                              return !0;
                            if (!Boolean(e) && !Boolean(t)) return !1;
                            const a = e.values();
                            let n = a.next();
                            for (; !n.done; ) {
                              if (t.has(n.value)) return !1;
                              n = a.next();
                            }
                            return !0;
                          })(t.matchingCapsulesSet, this.m_filteredCapsules)
                            ? D(
                                this.m_filteredCapsules,
                                t.matchingCapsulesSet
                              ) && (t.bDeactivated = !0)
                            : (t.bDeactivated = !0));
                  });
                });
        }
        SortFacets() {
          this.UpdateMatchingFilteredCapsuleCounts(),
            this.DeactivateFacetValues(),
            (this.m_sortedFacets = []),
            this.m_prunedFacets.forEach((e) => {
              const t = e.facetValues.slice();
              t.sort((e, t) => {
                if (
                  e.facetValue.type === u.HL.k_EPrice &&
                  t.facetValue.type !== u.HL.k_EPrice
                )
                  return 1;
                if (
                  e.facetValue.type !== u.HL.k_EPrice &&
                  t.facetValue.type == u.HL.k_EPrice
                )
                  return -1;
                if (e.bEnabled !== t.bEnabled) return t.bEnabled ? 1 : -1;
                if (e.bDeactivated !== t.bDeactivated)
                  return e.bDeactivated ? 1 : -1;
                if (!e.bEnabled && !e.bDeactivated) {
                  if (
                    e.facetValue.type === u.HL.k_ELanguage &&
                    t.facetValue.type === u.HL.k_ELanguage
                  )
                    return t.facetValue.language ===
                      m.jg.Get().GetPrimaryLanguage()
                      ? 1
                      : -1;
                  const a = e.nMatchingFilteredCapsules || 0,
                    n = t.nMatchingFilteredCapsules || 0;
                  if (
                    this.m_facetSortKey === u.bS.k_ESortFacetsByMatchCount &&
                    a !== n
                  )
                    return n - a;
                }
                if (this.m_facetSortKey === u.bS.k_ESortFacetsByName) {
                  const a = S.LZ.GetWithFallback(
                      e.facetValue.name,
                      this.m_language
                    ),
                    n = S.LZ.GetWithFallback(
                      t.facetValue.name,
                      this.m_language
                    );
                  return a.localeCompare(n);
                }
                return 0;
              }),
                this.m_sortedFacets.push(
                  Object.assign(Object.assign({}, e), { facetValues: t })
                );
            });
        }
        LoadPriceStops() {
          var e, t, a;
          return (0, n.mG)(this, void 0, void 0, function* () {
            const n = (0, C.ip)("pricestops", "application_config");
            if (n) this.m_priceStopInfo = n;
            else {
              const n = C.De.STORE_BASE_URL + "saleaction/ajaxgetpricestops";
              let r;
              try {
                if (
                  ((r = yield s().get(n)),
                  1 !==
                    (null === (e = null == r ? void 0 : r.data) || void 0 === e
                      ? void 0
                      : e.success))
                )
                  return (
                    console.error(
                      "Unable to load price stop data: ",
                      null === (t = null == r ? void 0 : r.data) || void 0 === t
                        ? void 0
                        : t.success
                    ),
                    null
                  );
              } catch (e) {
                return (
                  console.error(
                    "Unable to load price stop data: ",
                    null === (a = null == r ? void 0 : r.data) || void 0 === a
                      ? void 0
                      : a.success
                  ),
                  null
                );
              }
              this.m_priceStopInfo = r.data.rgPriceStops;
            }
            this.m_priceStopInfo[0].price = 0;
          });
        }
        ApplyOptInFilters(e) {
          if (
            ((this.m_setCapsulesRemovedByOptInFilters = new Set()),
            !this.m_bServerSideFiltering)
          )
            return e;
          if (this.m_bUnboundedScope) return e;
          let t;
          for (const e of this.m_facets)
            B.BFacetHasEnabledOptTags(e) &&
              (t = null == t ? e.matchingCapsules : I(t, e.matchingCapsules));
          if (null == t) return e;
          const a = [];
          for (const n of e) {
            const e = O(n);
            t.has(e)
              ? a.push(n)
              : this.m_setCapsulesRemovedByOptInFilters.add(e);
          }
          return a;
        }
        ApplyPriceFilters(e) {
          if (
            ((this.m_setCapsulesRemovedByPriceFilters = new Set()),
            this.m_bServerSideFiltering)
          )
            return e;
          let t;
          for (const e of this.m_facets) {
            for (const a of e.facetValues)
              if (a.facetValue.type === u.HL.k_EPrice) {
                t = a;
                break;
              }
            if (null != t) break;
          }
          if (null == t) return e;
          if (null == this.m_priceStopInfo) return e;
          const a =
            null != t.nPriceStopIndex
              ? t.nPriceStopIndex
              : this.m_priceStopInfo.length - 1;
          if (a === this.m_priceStopInfo.length - 1) return e;
          const n = this.m_priceStopInfo[a].price,
            r = [];
          for (const t of e) {
            let e = !1,
              a = 0;
            const s = p.Z.Get().GetStoreItem(t.id, (0, _.TM)(t.type));
            s && (a = s.GetBestPurchasePriceInCents()),
              e
                ? a <= 100 * n
                  ? r.push(t)
                  : this.m_setCapsulesRemovedByPriceFilters.add(O(t))
                : r.push(t);
          }
          return r;
        }
        ApplyUserPreferenceFilters(e, t, a) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            const n = this.BHasHideIgnoredItemsFacetValue(),
              r = this.BIsUserPreferenceEnabled(u.oL.k_EHideOwnedItems),
              s = this.BIsUserPreferenceEnabled(u.oL.k_EHideWishlistedItems),
              l = this.BIsUserPreferenceEnabled(u.oL.k_EHideIgnoredItems);
            let o = [];
            const i = yield (0, v.MN)(e, t, r, s, n, l, o);
            if (
              ((this.m_setCapsulesRemovedByUserPreferenceFilters = new Set(
                o.map(O)
              )),
              a)
            )
              for (const e of o) a.push(e);
            return i;
          });
        }
        UpdateMatchCount(e, t) {
          this.m_bServerSideFiltering ||
            ((this.m_filteredCapsules = null),
            null != this.m_potentiallyVisibleCapsules &&
              ((this.m_filteredCapsules = this.m_potentiallyVisibleCapsules),
              null != this.m_matchingReferencedCapsules &&
                (this.m_filteredCapsules = I(
                  this.m_filteredCapsules,
                  this.m_matchingReferencedCapsules
                )),
              null != this.m_setCapsulesRemovedByPriceFilters &&
                (this.m_filteredCapsules = y(
                  this.m_filteredCapsules,
                  this.m_setCapsulesRemovedByPriceFilters
                )),
              null != this.m_setCapsulesRemovedByUserPreferenceFilters &&
                (this.m_filteredCapsules = y(
                  this.m_filteredCapsules,
                  this.m_setCapsulesRemovedByUserPreferenceFilters
                )))),
            e
              ? this.m_bServerSideFiltering
                ? ((this.m_nFilteredCapsuleCount = this.m_nSolrMatchCount),
                  (this.m_nFilteredCapsuleCount -=
                    this.m_setCapsulesRemovedByOptInFilters.size),
                  (this.m_nFilteredCapsuleCount -=
                    this.m_setCapsulesRemovedByUserPreferenceFilters.size))
                : (this.m_nFilteredCapsuleCount = this.m_filteredCapsules.size)
              : (this.m_nFilteredCapsuleCount = t),
            this.SortFacets();
        }
      }
      (0, n.gn)([l.LO], B.prototype, "m_facets", void 0),
        (0, n.gn)([l.LO], B.prototype, "m_priceStopInfo", void 0),
        (0, n.gn)([l.LO], B.prototype, "m_sortedFacets", void 0),
        (0, n.gn)([l.aD], B.prototype, "Reset", null),
        (0, n.gn)([l.aD], B.prototype, "SetFromURLParam", null),
        (0, n.gn)([l.aD], B.prototype, "SetPotentiallyVisibleCapsules", null),
        (0, n.gn)([l.aD], B.prototype, "SetFacetCounts", null),
        (0, n.gn)([l.aD], B.prototype, "SetMultiFacetCounts", null),
        (0, n.gn)([l.aD], B.prototype, "SetSolrMatchCount", null),
        (0, n.gn)([l.aD], B.prototype, "SetFacetValueSearchString", null),
        (0, n.gn)([l.aD], B.prototype, "UpdateMatchCount", null);
      const N = (0, o.Pi)((e) => {
          var t;
          const {
              language: a,
              linkColor: n,
              headingColor: r,
              background: s,
              styleOverrides: o,
              facetFilterState: c,
              fnOnUpdateFilter: d,
            } = e,
            [u, m] = (0, i.useState)(""),
            p = (function (e) {
              const [t, a] = (0, i.useState)();
              return (
                (0, i.useEffect)(() => {
                  var t, n;
                  const r = [];
                  for (const a of e)
                    for (const e of a.facet.facetValues)
                      if (
                        (null === (t = e.name) || void 0 === t
                          ? void 0
                          : t.length) > 0 &&
                        (null === (n = e.name[0]) || void 0 === n
                          ? void 0
                          : n.startsWith("#tagid_"))
                      ) {
                        const t = parseInt(e.name[0].substring(7));
                        t > 0 && r.push(t);
                      }
                  h.OT.Get().QueueMultipleTagLoads(r).then(a);
                }, [e]),
                t
              );
            })(c.GetFacets());
          let _, v;
          (null == o ? void 0 : o.menu) ||
            (_ = { background: s, color: n || "white" }),
            (null == o ? void 0 : o.menuTitle) ||
              (v = {
                borderBottom: "0px solid " + (n || "white"),
                color: r || "white",
              });
          const E = (0, i.useRef)(null),
            C = () => {
              c.UpdateFilter(), d();
            };
          return 1 !== p
            ? null
            : i.createElement(
                "div",
                {
                  ref: E,
                  className:
                    (null == o ? void 0 : o.menu) || f.FacetedBrowseControls,
                  style: _,
                },
                i.createElement(
                  "div",
                  {
                    className:
                      (null == o ? void 0 : o.menuTitle) || f.FacetMenuTitle,
                    style: v,
                  },
                  (0, S.Xx)("#FacetedBrowse_Heading")
                ),
                Boolean(c) &&
                  i.createElement(
                    "div",
                    {
                      className:
                        (null == o ? void 0 : o.matchCount) ||
                        f.FacetedBrowseMatchCount,
                    },
                    null != c.GetMatchCount() &&
                      (0, S.kb)("#FacetedBrowse_MatchCount", c.GetMatchCount())
                  ),
                i.createElement(
                  "div",
                  { className: f.FacetValueSearch },
                  i.createElement(g.II, {
                    type: "text",
                    value: u,
                    placeholder: (0, S.Xx)("#FacetedBrowse_SearchFacetValues"),
                    onChange: (e) => {
                      m(e.target.value),
                        c.SetFacetValueSearchString(e.target.value, a);
                    },
                    bShowClearAction: !0,
                  })
                ),
                i.createElement(
                  T,
                  Object.assign(
                    {
                      facets: null == c ? void 0 : c.GetSortedFacets(),
                      onUpdateFilter: C,
                    },
                    e
                  )
                ),
                i.createElement(
                  "div",
                  {
                    className:
                      (null == o ? void 0 : o.reset) || f.FacetedBrowseReset,
                  },
                  i.createElement(
                    "a",
                    {
                      onClick: (e) => {
                        e.preventDefault(),
                          (0, l.z)(() => {
                            c.Reset(), d();
                          });
                      },
                    },
                    (0, S.Xx)("#FacetedBrowse_Reset")
                  )
                ),
                null === (t = null == c ? void 0 : c.GetSortedFacets()) ||
                  void 0 === t
                  ? void 0
                  : t.map((t, n) =>
                      i.createElement(A, {
                        key:
                          "facet_" +
                          S.LZ.GetWithFallback(t.facet.facet.name, a) +
                          "_" +
                          n,
                        facet: t,
                        facetFilterState: c,
                        nFacetIndex: n,
                        language: a,
                        nMaxFacetValues: e.nMaxFacetValues,
                        highlightedFacetColor: e.highlightedFacetColor,
                        linkColor: e.linkColor,
                        headingColor: e.headingColor,
                        fnOnUpdateFilter: C,
                        styleOverrides: o,
                        bSearching: (null == u ? void 0 : u.length) > 0,
                      })
                    ),
                i.createElement(
                  "div",
                  {
                    className:
                      (null == o ? void 0 : o.reset) || f.FacetedBrowseReset,
                  },
                  i.createElement(
                    "a",
                    {
                      onClick: (e) => {
                        e.preventDefault();
                        const t =
                          E.current.getBoundingClientRect().top +
                          window.scrollY;
                        window.scrollTo(0, t);
                      },
                    },
                    (0, S.Xx)("#FacetedBrowse_ReturnToTop")
                  )
                )
              );
        }),
        T = (0, o.Pi)((e) => {
          const { facets: t } = e,
            [a, n] = (0, i.useState)([]);
          return (
            (0, i.useEffect)(() => {
              const e = [];
              if (t)
                for (const a of t)
                  for (const t of a.facetValues)
                    t.bEnabled &&
                      t.facetValue.type !== u.HL.k_EPrice &&
                      e.push(t);
              n(e);
            }, [t]),
            a
              ? i.createElement(
                  i.Fragment,
                  null,
                  i.createElement(
                    "div",
                    { className: f.SelectedFacetValuesTitle },
                    (0, S.Xx)("#FacetedBrowse_SelectedFacetValues")
                  ),
                  i.createElement(
                    "div",
                    { className: f.SelectedFacetValuesList },
                    a.map((t) =>
                      i.createElement(
                        G,
                        Object.assign(
                          { key: t.facetValue.unique_id, facetValue: t },
                          e
                        )
                      )
                    )
                  )
                )
              : null
          );
        }),
        G = (0, o.Pi)((e) => {
          const { facetValue: t, language: a, onUpdateFilter: n } = e;
          return i.createElement(
            "a",
            {
              className: f.SelectedFacetValueCtn,
              onClick: (e) => {
                e.preventDefault(), (t.bEnabled = !1), n && n();
              },
            },
            i.createElement(E.XBH, null),
            i.createElement(
              "span",
              { className: f.SelectedFacetValue },
              k(t.facetValue, a)
            )
          );
        }),
        A = (0, o.Pi)((e) => {
          const {
              language: t,
              linkColor: a,
              headingColor: n,
              facet: r,
              nFacetIndex: s,
              styleOverrides: l,
              bSearching: o,
            } = e,
            [c, d] = (0, i.useState)(Boolean(0 !== s)),
            [m, p] = (0, i.useState)(!1);
          if (r.facetValues.every((e) => e.bHiddenBySearch)) return null;
          let _;
          (null == l ? void 0 : l.facetName) ||
            (_ = {
              borderBottom: "0px solid " + (a || "white"),
              color: n || "white",
            });
          const h = (0, S.Xx)(
            S.LZ.GetWithFallback(r.facet.facet.name, t).trim()
          );
          let g = e.nMaxFacetValues;
          const v = r.facetValues.reduce(
            (e, t) => e + (t.bDeactivated ? 1 : 0),
            0
          );
          g = Math.min(g, r.facetValues.length - v);
          const C = r.facetValues.reduce(
              (e, t) =>
                e + (t.bEnabled || t.facetValue.type === u.HL.k_EPrice ? 1 : 0),
              0
            ),
            b = r.facetValues.some((e) => !e.bEnabled && !e.bDeactivated);
          g = Math.max(g, C + (b ? 1 : 0));
          const I = r.facetValues.length > g;
          let y = !I || m || o ? r.facetValues : r.facetValues.slice(0, g);
          c && !o && (y = y.filter((e) => e.bEnabled));
          const D = y.every((e) => {
            var a;
            return (
              !Boolean(e.facetValue.subtitle) ||
              (null === (a = S.LZ.GetWithFallback(e.facetValue.subtitle, t)) ||
              void 0 === a
                ? void 0
                : a.length) <= 0
            );
          });
          return i.createElement(
            "div",
            { className: f.Facet },
            i.createElement(
              "div",
              { className: f.FacetTitleCtn, onClick: () => d(!c) },
              i.createElement(
                "div",
                {
                  className: (null == l ? void 0 : l.facetName) || f.FacetTitle,
                  style: _,
                },
                h
              ),
              i.createElement(E.ret, { angle: c ? 270 : 0 })
            ),
            y.map((t, a) =>
              i.createElement(
                F,
                Object.assign(
                  {
                    key: "facet_" + h + "_value_" + a,
                    facetValue: t,
                    styleOverrides: l,
                    showMatchCounts: D && !V(r.facet.facet),
                  },
                  e
                )
              )
            ),
            !c &&
              I &&
              !o &&
              i.createElement(
                "div",
                {
                  className:
                    (null == l ? void 0 : l.showMore) || f.FacetValueShowMore,
                  onClick: () => p(!m),
                },
                m
                  ? (0, S.Xx)("#Bbcode_Expand_ShowMore_Expanded")
                  : (0, S.Xx)("#Bbcode_Expand_ShowMore_Collapsed")
              )
          );
        });
      function k(e, t) {
        var a, n;
        const r = e.name;
        if (
          (null == r ? void 0 : r.length) > 0 &&
          (null === (a = r[0]) || void 0 === a
            ? void 0
            : a.startsWith("#tagid_"))
        ) {
          const e = parseInt(r[0].substring(7));
          if (e > 0)
            return null === (n = h.OT.Get().GetTagID(e)) || void 0 === n
              ? void 0
              : n.name;
        }
        return (0, S.Xx)(S.LZ.GetWithFallback(r, t).trim());
      }
      const F = (0, o.Pi)((e) => {
          const {
              language: t,
              highlightedFacetColor: a,
              linkColor: n,
              facetValue: r,
              facetFilterState: s,
              styleOverrides: o,
              fnOnUpdateFilter: c,
              showMatchCounts: d,
            } = e,
            m = k(r.facetValue, t);
          if (r.facetValue.type === u.HL.k_EPrice && null == s.m_priceStopInfo)
            return null;
          if (r.bHiddenBySearch) return null;
          const p = r.bEnabled,
            _ = r.bDeactivated,
            h = {
              color: a || "darkorange",
              borderLeft: "4px solid " + (a || "darkorange"),
            };
          let v, E;
          (null == o ? void 0 : o.facetValue) || (v = p ? h : {}),
            (null == o ? void 0 : o.facetValueName) ||
              (E = { color: n || "white" });
          const C = (e) => {
              e.preventDefault(),
                (0, l.z)(() => {
                  _ || ((r.bEnabled = !r.bEnabled), c());
                });
            },
            b = (e) => {
              (0, l.z)(() => {
                r.nPriceStopIndex = Math.floor(e);
              });
            },
            I = () => {
              (0, l.z)(() => {
                (r.bEnabled = Boolean(
                  r.nPriceStopIndex !== s.m_priceStopInfo.length - 1
                )),
                  c();
              });
            },
            y = m,
            D = Boolean(r.facetValue.subtitle)
              ? S.LZ.GetWithFallback(r.facetValue.subtitle, t)
              : null;
          if (r.facetValue.type === u.HL.k_EPrice) {
            const e =
              null != r.nPriceStopIndex
                ? r.nPriceStopIndex
                : s.m_priceStopInfo.length - 1;
            return i.createElement(g.DS, {
              className: f.FacetValuePriceSlider,
              min: 0,
              max: s.m_priceStopInfo.length - 1,
              value: e,
              label: s.m_priceStopInfo[e].label,
              onChange: b,
              onChangeComplete: I,
            });
          }
          {
            const e = (null == o ? void 0 : o.facetValue) || f.FacetValue,
              t =
                (null == o ? void 0 : o.facetValueEnabled) ||
                f.FacetValueEnabled,
              a =
                (null == o ? void 0 : o.facetValueDeactivated) ||
                f.FacetValueDeactivated,
              n = (null == o ? void 0 : o.facetValueName) || f.FacetValueName;
            return i.createElement(
              "div",
              { className: p ? t : _ ? a : e, style: v },
              i.createElement(
                "a",
                { className: n, style: E, onClick: C, href: "" },
                y
              ),
              d &&
                !r.bDeactivated &&
                Boolean(r.nMatchingFilteredCapsules) &&
                i.createElement(
                  "div",
                  {
                    className:
                      (null == o ? void 0 : o.facetValueDesc) ||
                      f.FacetValueDescription,
                  },
                  r.nMatchingFilteredCapsules
                ),
              Boolean(D) &&
                i.createElement(
                  "div",
                  {
                    className:
                      (null == o ? void 0 : o.facetValueDesc) ||
                      f.FacetValueDescription,
                  },
                  D
                )
            );
          }
        }),
        L = (0, o.Pi)((e) => {
          const {
              background: t,
              labelColor: a,
              headingColor: n,
              buttonColor: r,
              highlightedFacetColor: s,
            } = e,
            [l, o] = (0, i.useState)(!1);
          return i.createElement(
            "div",
            { className: f.FacetedBrowseCtn },
            M() &&
              i.createElement(x, {
                buttonColor: r,
                bShowControls: l,
                fnOnToggleControls: () => {
                  o(!l);
                },
              }),
            i.createElement(
              "div",
              { className: f.FacetedBrowseInnerCtn },
              l || !M()
                ? i.createElement(
                    N,
                    Object.assign(
                      {
                        highlightedFacetColor: s,
                        linkColor: a,
                        headingColor: n,
                        background: t,
                      },
                      e
                    )
                  )
                : null,
              i.createElement(
                "div",
                { className: f.FacetedBrowseItems },
                e.children
              )
            )
          );
        }),
        x = (0, o.Pi)((e) => {
          const { buttonColor: t, bShowControls: a, fnOnToggleControls: n } = e,
            r = { color: t || "white" };
          return i.createElement(
            "div",
            { className: f.FacetedBrowsePopupCtn, onClick: () => n() },
            a
              ? i.createElement(
                  i.Fragment,
                  null,
                  i.createElement(
                    "div",
                    { className: f.FacetedBrowsePopup, style: r },
                    i.createElement(E.XBH, null)
                  ),
                  i.createElement(
                    "div",
                    { className: f.FacetedBrowsePopupLabel },
                    (0, S.Xx)("#Button_Close")
                  )
                )
              : i.createElement(
                  i.Fragment,
                  null,
                  i.createElement(
                    "div",
                    { className: f.FacetedBrowsePopup, style: r },
                    i.createElement(E.wn$, null)
                  ),
                  i.createElement(
                    "div",
                    { className: f.FacetedBrowsePopupLabel },
                    (0, S.Xx)("#FacetedBrowse_Heading")
                  )
                )
          );
        }),
        M = () => window.innerWidth < parseInt(f.strWidescreenWidth),
        P = (0, o.Pi)((e) => {
          const { section: t } = e;
          return i.createElement(
            L,
            Object.assign(
              {
                labelColor: t.label_color,
                headingColor: t.heading_color,
                buttonColor: t.label_color,
                highlightedFacetColor: t.highlighted_facet_color,
              },
              e
            )
          );
        });
      function O(e) {
        return e.type + e.id;
      }
      function R(e) {
        return (
          !("items" !== e.section_type || !e.smart_section) ||
          "sale_item_browser" === e.section_type
        );
      }
      function H(e, t) {
        return !(
          !R(t) ||
          null == e.jsondata.item_source_type ||
          e.jsondata.item_source_type === u.J7.k_ETaggedItems
        );
      }
      function V(e) {
        for (const t of e.facetValues)
          if (null != t.filter)
            for (const e of t.filter.clauses)
              for (const t of e.or_tags) if (t.startsWith("[Opt]")) return !0;
        return !1;
      }
      function U(e) {
        const t = new Array(),
          a = new Set();
        for (const n of e)
          for (const e of n.facetValues)
            if (e.matchingCapsules)
              for (const n of e.matchingCapsules) {
                const e = n.type + n.id;
                a.has(e) || (t.push(n), a.add(e));
              }
        return t;
      }
      function W(e, t) {
        var a, n, r, s, l, o, i;
        const d = p.Z.Get().GetStoreItem(t.id, (0, _.TM)(t.type)),
          m = (0, _.Ds)(
            null == d ? void 0 : d.GetStoreItemType(),
            null == d ? void 0 : d.GetAppType()
          );
        switch (null == e ? void 0 : e.type) {
          case u.PJ.k_EStoreFilterClauseTypeStoreTag:
            return null == d
              ? void 0
              : d
                  .GetTags()
                  .some((t) => (null == t ? void 0 : t.tagid) === e.value);
          case u.PJ.k_EStoreFilterClauseTypeFeatureTag:
            switch (e.value) {
              case "linux":
                return null == d ? void 0 : d.GetPlatforms().steamos_linux;
              case "mac":
                return null == d ? void 0 : d.GetPlatforms().mac;
              case "vr":
                return null ===
                  (n =
                    null === (a = null == d ? void 0 : d.GetPlatforms()) ||
                    void 0 === a
                      ? void 0
                      : a.vr_support) || void 0 === n
                  ? void 0
                  : n.vrhmd;
              case "vr only":
                return null ===
                  (s =
                    null === (r = null == d ? void 0 : d.GetPlatforms()) ||
                    void 0 === r
                      ? void 0
                      : r.vr_support) || void 0 === s
                  ? void 0
                  : s.vrhmd_only;
              case "free":
                return null == d ? void 0 : d.BIsFree();
              case "discounted":
                return (
                  (null == d
                    ? void 0
                    : d.GetBestPurchaseOption().discount_pct) > 0
                );
              default:
                return !1;
            }
          case u.PJ.k_EStoreFilterClauseTypeAppType:
            return m === e.value;
          case u.PJ.k_EStoreFilterClauseTypeLanguage:
            return null == d
              ? void 0
              : d.BHasSomeLanguageSupport((0, c.jM)(e.value));
          case u.PJ.k_EStoreFilterClauseTypeContentDescriptor:
            return null ===
              (l = null == d ? void 0 : d.GetContentDescriptorIDs()) ||
              void 0 === l
              ? void 0
              : l.some((t) => t === e.value);
          case u.PJ.k_EStoreFilterClauseTypePrice:
            return (
              (null == d ? void 0 : d.GetBestPurchasePriceInCents()) <=
              100 * e.value
            );
          case u.PJ.k_EStoreFilterClauseTypeOr:
            const p =
              null === (o = e.rgSubexpressions) || void 0 === o
                ? void 0
                : o.some((e) => W(e, t));
            return e.bNegated ? !p : p;
          case u.PJ.k_EStoreFilterClauseTypeAnd:
            const _ =
              null === (i = e.rgSubexpressions) || void 0 === i
                ? void 0
                : i.every((e) => W(e, t));
            return e.bNegated ? !_ : _;
          default:
            return !0;
        }
      }
    },
    97261: (e, t, a) => {
      "use strict";
      a.d(t, { O: () => c });
      var n = a(70655),
        r = a(67294),
        s = a(64839),
        l = a(73863),
        o = a.n(l),
        i = a(35921);
      class c extends r.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bInScroll: !1,
              nStartXPos: 0,
              nStartScrollLeft: 0,
            }),
            (this.m_hSlider = r.createRef());
        }
        OnPointerDown(e) {
          const t = this.m_hSlider.current;
          t &&
            (t.scrollWidth <= t.clientWidth ||
              (this.setState({
                bInScroll: !1,
                nStartXPos: e.pageX - t.offsetLeft,
                nStartScrollLeft: t.scrollLeft,
              }),
              t.addEventListener("pointerup", this.OnPointerUp),
              t.addEventListener("pointerleave", this.OnPointerUp),
              t.addEventListener("pointercapturelost", this.OnPointerUp),
              t.addEventListener("pointermove", this.OnPointerMove)));
        }
        OnPointerUp(e) {
          const t = this.m_hSlider.current;
          t &&
            (this.state.bInScroll &&
              (t.releasePointerCapture(e.pointerId),
              document.body.classList.remove(
                o().HorizontalScrollInDragForceCursor
              ),
              this.props.dragClassName &&
                t.classList.remove(this.props.dragClassName)),
            t.removeEventListener("pointerup", this.OnPointerUp),
            t.removeEventListener("pointerleave", this.OnPointerUp),
            t.removeEventListener("pointercapturelost", this.OnPointerUp),
            t.removeEventListener("pointermove", this.OnPointerMove));
        }
        OnPointerMove(e) {
          const t = this.m_hSlider.current;
          if (!t) return;
          e.preventDefault();
          const a =
              (e.pageX - t.offsetLeft - this.state.nStartXPos) *
              (this.props.scrollMultiplier || c.knDefaultScrollMultiplier),
            n = this.state.nStartScrollLeft - a,
            r = Math.abs(n - this.state.nStartScrollLeft),
            s = this.props.minDragPixels || c.knDefaultMinDragPixels;
          !this.state.bInScroll &&
            r >= s &&
            ((t.scrollLeft = n),
            this.setState({ bInScroll: !0 }),
            document.body.classList.add(o().HorizontalScrollInDragForceCursor),
            this.props.dragClassName &&
              t.classList.add(this.props.dragClassName),
            t.setPointerCapture(e.pointerId)),
            this.state.bInScroll && (t.scrollLeft = n);
        }
        render() {
          return r.createElement(
            i.s,
            {
              ref: this.m_hSlider,
              className: this.props.className,
              onPointerDown: this.OnPointerDown,
            },
            this.props.children
          );
        }
      }
      (c.knDefaultScrollMultiplier = 1),
        (c.knDefaultMinDragPixels = 20),
        (0, n.gn)([s.ak], c.prototype, "OnPointerDown", null),
        (0, n.gn)([s.ak], c.prototype, "OnPointerUp", null),
        (0, n.gn)([s.ak], c.prototype, "OnPointerMove", null);
    },
    14627: (e, t, a) => {
      "use strict";
      a.d(t, { TY: () => $ });
      var n = a(70655),
        r = a(9669),
        s = a.n(r),
        l = a(29323),
        o = a(13271),
        i = a(67294),
        c = a(26149),
        d = a(54698),
        u = a(49186),
        m = (a(3389), a(76776)),
        p = (a(29139), a(5525)),
        _ = (a(35577), a(9915)),
        h = a(47593),
        g = (a(7200), a(52114)),
        v = a(21807),
        E = a(7573),
        S = a(73727),
        C = a(7707),
        f = a(35921);
      function b(e) {
        const { crumbs: t, className: a } = e;
        return t && 0 != t.length
          ? i.createElement(
              "div",
              { className: (0, E.Z)(v.BreadContainer, a) },
              i.createElement(
                f.s,
                { className: "blockbg", "flow-children": "row" },
                t.map((e) => {
                  const t = new Array();
                  return (
                    e.url.startsWith("http")
                      ? t.push(
                          i.createElement(
                            C.IS,
                            { key: "anchor_" + e.name, href: e.url },
                            e.name
                          )
                        )
                      : t.push(
                          i.createElement(
                            S.rU,
                            { key: "link_" + e.name, to: e.url },
                            e.name
                          )
                        ),
                    t.push(
                      i.createElement("span", { key: e.name + "span" }, " > ")
                    ),
                    t
                  );
                })
              ),
              i.createElement("div", { style: { clear: "left" } })
            )
          : null;
      }
      var I = a(32548),
        y = a(27535),
        D = a(22093),
        w = a(65499),
        B = a(26111),
        N = a(23937),
        T = a(90110),
        G = a(63543),
        A = a(96944),
        k = a.n(A),
        F = a(34948),
        L = a(30100),
        x = a(34133),
        M = a.n(x),
        P = a(58687),
        O = a(85732),
        R = a(93612),
        H = a(87541),
        V = a(51483),
        U = a(69491),
        W = a.n(U),
        Z = a(13596),
        X = a(72258),
        j = a(41498),
        z = a(77520),
        Y = a(41311),
        J = a(47808),
        q = a(64839),
        K = a(35092);
      const Q = i.lazy(() => Promise.resolve().then(a.bind(a, 934))),
        $ = (0, l.Pi)((e) => {
          const {
              event: t,
              lang: a,
              partnerEventStore: n,
              emoticonStore: r,
              nOverrideStartTime: s,
              nOverrideEndTime: l,
              adminPanel: o,
              previewMode: c,
              otherEventRow: u,
              titleBar: p,
            } = e,
            _ = t.appid,
            h = t.clanSteamID.GetAccountID(),
            [v, S] = (0, g.vs)(_, {
              include_assets: !0,
              include_platforms: !0,
              include_basic_info: !0,
              include_release: !0,
            }),
            [C, f] = (0, m.KU)(h);
          if (
            (i.useEffect(() => window.scrollTo(0, 0), [_, h]),
            !t.bLoaded || !f || (_ && !v && 2 !== S))
          )
            return i.createElement(
              "div",
              { className: W().FlexCenter, style: { height: "400px" } },
              i.createElement(Z.V, {
                size: "medium",
                string: (0, Y.Xx)("#Loading"),
              })
            );
          let y = t.GetDescriptionWithFallback(a);
          const T = (0, N.q)(t, N.Ue.k_eStoreNewsHub, "allowRelative");
          return i.createElement(ee, {
            event: t,
            lang: a,
            titleBar: p,
            body: i.createElement(
              I.S,
              null,
              i.createElement(
                "div",
                { className: k().EventDetailTitleContainer },
                i.createElement(b, {
                  crumbs: [
                    {
                      name: (0, Y.Xx)("#BreadCrumbs_AllEvents"),
                      url: (0, N.q)(
                        t,
                        N.Ue.k_eStoreUsersNewsHub,
                        "allowRelative"
                      ),
                    },
                    {
                      name: (0, Y.Xx)(
                        "#BreadCrumbs_GameEvents",
                        (null == v ? void 0 : v.GetName()) || f.group_name
                      ),
                      url: T,
                    },
                  ],
                }),
                i.createElement(
                  "div",
                  { className: k().EventDetailTitle },
                  t.GetNameWithFallback(a)
                ),
                t.BHasSubTitle(a) &&
                  i.createElement(
                    "div",
                    { className: k().EventDetailsSubTitle },
                    t.GetSubTitle(a)
                  )
              ),
              Boolean(t.BEventCanShowBroadcastWidget(c)) &&
                i.createElement(
                  "div",
                  { className: k().EventBroadcastCtn },
                  i.createElement(
                    i.Suspense,
                    { fallback: i.createElement("div", null) },
                    i.createElement(Q, {
                      event: t,
                      bIsPreview: c,
                      accountIDs: c ? t.jsondata.broadcast_whitelist : void 0,
                    })
                  )
                ),
              i.createElement(
                "div",
                { className: (0, E.Z)(k().EventColumns, "EventDetail") },
                i.createElement(
                  "div",
                  { className: k().EventDetailsDescription },
                  i.createElement(
                    I.S,
                    null,
                    t.BHasTag("steam_award_nomination_request") &&
                      i.createElement(G.yi, {
                        event: t,
                        lang: a,
                        previewMode: c,
                      }),
                    t.BHasTag("steam_award_vote_request") &&
                      i.createElement(G.WF, {
                        appID: t.appid,
                        bIsEventActionEnabled: t.BIsEventActionEnabled(),
                        voteCategories: t.GetSteamAwardNomineeCategories(),
                      })
                  ),
                  i.createElement(
                    I.S,
                    null,
                    i.createElement(
                      "div",
                      {
                        className: (0, E.Z)(
                          "EventDetailsBody",
                          k().EventDetailsBody
                        ),
                      },
                      i.createElement(B.d, {
                        text: y || "",
                        partnerEventStore: n,
                        showErrorInfo: c,
                        event: t,
                        languageOverride: a,
                      }),
                      Boolean(
                        t.jsondata.bSaleEnabled && t.jsondata.sale_vanity_id
                      ) &&
                        i.createElement(
                          "div",
                          { className: (0, E.Z)(k().ReadMoreCnt) },
                          i.createElement(R.i, { gidEvent: t.GID }),
                          i.createElement(
                            "a",
                            {
                              className: (0, E.Z)(M().Button, "LinkButton"),
                              href: (0, K.OL)(t.GetSaleURL()),
                            },
                            (0, Y.Xx)("#Event_Button_VisitSalePage")
                          )
                        )
                    )
                  ),
                  i.createElement(
                    I.S,
                    null,
                    i.createElement(L.D, { event: t })
                  ),
                  Boolean(t.jsondata.read_more_link) &&
                    i.createElement(
                      "div",
                      { className: (0, E.Z)(k().ReadMoreCnt) },
                      i.createElement(
                        X.ns,
                        {
                          className: (0, E.Z)(M().Button),
                          href: t.jsondata.read_more_link,
                        },
                        (0, Y.Xx)("#EventEmail_Button_ClickForMoreDetails")
                      )
                    ),
                  i.createElement("span", { className: M().Clear }),
                  i.createElement(
                    I.S,
                    null,
                    i.createElement(F.HQ, { appid: t.appid })
                  )
                ),
                i.createElement(
                  I.S,
                  null,
                  i.createElement(ne, {
                    event: t,
                    lang: a,
                    nOverrideStartTime: s,
                    nOverrideEndTime: l,
                  })
                )
              ),
              i.createElement(w.L, {
                eventModel: t,
                emoticonStore: r,
                partnerEventStore: n,
              })
            ),
            postbody: i.createElement(I.S, null, o, u),
            footer: i.createElement(
              I.S,
              null,
              i.createElement(
                "div",
                { className: k().AppSummaryCtn },
                i.createElement(
                  "div",
                  { className: k().EventBodyPosition },
                  Boolean(v) &&
                    i.createElement(
                      "div",
                      { className: k().AppSummaryWidgetTitleCtn },
                      i.createElement(
                        "span",
                        { className: k().Title },
                        (0, Y.Xx)("#CreatorHome_ThisGame")
                      ),
                      i.createElement(
                        "div",
                        {
                          className: (0, E.Z)(
                            k().AppSummaryWidgetCtn,
                            "AppSummaryWidgetCtn"
                          ),
                        },
                        i.createElement(O.ju, {
                          id: t.appid,
                          type: (0, d.Yd)(v.GetAppType()),
                        })
                      )
                    ),
                  i.createElement(D.sE, { appid: t.appid, bSmallFormat: !0 })
                )
              )
            ),
          });
        }),
        ee = (0, l.Pi)((e) => {
          const {
              event: t,
              lang: a,
              titleBar: n,
              body: r,
              postbody: s,
              footer: l,
            } = e,
            o = t.GetImageURLWithFallback("background", a),
            d = t.BIsImageSafeForAllAges("background", a),
            u = "lang_" + (0, c.dt)(a),
            m = !!o && t.BImageNeedScreenshotFallback("background", a);
          return i.createElement(
            "div",
            {
              className: (0, E.Z)(
                k().EventDetailsPageContainer,
                u,
                M().PartnerEventFont,
                d
                  ? k().DetailArtworkAgeAppropriate
                  : k().DetailArtworkAgeNotAppropriate,
                !o && k().NoTitleArtwork,
                m && k().ScreenshotInsteadOfCover
              ),
            },
            i.createElement(y.v6, {
              appId: t.appid,
              clanId: t.clanSteamID.GetAccountID(),
            }),
            n,
            i.createElement(te, { strImageURL: o }),
            i.createElement(ae, { strImageURL: o, body: r, postbody: s }),
            Boolean(l) && i.createElement(I.S, null, l)
          );
        }),
        te = (e) => {
          const { strImageURL: t } = e;
          return i.createElement(
            "div",
            { className: k().EventCoverImageCtn },
            i.createElement(
              "div",
              { className: k().EventCoverImageBlr },
              t &&
                i.createElement(
                  i.Fragment,
                  null,
                  i.createElement("div", {
                    className: k().EventCoverImageFuzz,
                    style: {
                      backgroundColor: "rgb(37, 41, 46)",
                      backgroundImage: `url(${t})`,
                    },
                  }),
                  i.createElement("div", {
                    className: k().EventCoverImage,
                    style: {
                      backgroundColor: "rgb(37, 41, 46)",
                      backgroundImage: `url(${t})`,
                    },
                  })
                )
            ),
            t && i.createElement("div", { className: k().CoverImageGradient })
          );
        },
        ae = (e) => {
          const { body: t, postbody: a, strImageURL: n } = e;
          return i.createElement(
            "div",
            { className: k().EventBodyCtn },
            i.createElement("div", { className: k().EventBackgroundBlurCtn }),
            i.createElement(
              "div",
              { className: k().EventBodyPosition },
              i.createElement(
                "div",
                { className: k().EventBody },
                Boolean(n) &&
                  i.createElement("div", {
                    className: k().EventBackgroundBlur,
                    style: { backgroundImage: `url(${n})` },
                  }),
                i.createElement(I.S, null, t)
              ),
              Boolean(a) && i.createElement(I.S, null, a)
            )
          );
        };
      function ne(e) {
        const {
            event: t,
            lang: a,
            nOverrideStartTime: n,
            nOverrideEndTime: r,
          } = e,
          [s, l, c, d, u, _] = (0, o.SZ)(() => [
            t.appid,
            t.clanSteamID,
            p.JW.GetTimeNowWithOverride(),
            n || t.GetStartTimeAndDateUnixSeconds(),
            t.GetCategoryAsString(),
            t.type,
          ]),
          [h] = (0, g.vs)(s, {
            include_assets: !0,
            include_platforms: !0,
            include_release: !0,
          }),
          [v, E] = (0, m.KU)(l.GetAccountID());
        return E
          ? t.appid && !h
            ? null
            : i.createElement(
                "div",
                { className: k().EventDetailTitleDesc },
                i.createElement(
                  "div",
                  { className: k().EventDetailsSticky },
                  E.is_ogg
                    ? i.createElement(re, { appid: E.appid })
                    : i.createElement(se, { clanSteamID: l }),
                  i.createElement(F.wM, {
                    event: t,
                    nOverrideEndTime: r,
                    nOverrideStartTime: n,
                  }),
                  28 !== _ &&
                    c < d &&
                    i.createElement(
                      "div",
                      { className: k().EventDetailTimeInfo },
                      i.createElement(T.m, { eventModel: t, lang: a })
                    ),
                  i.createElement(
                    "div",
                    { className: k().EventDetailUserType },
                    i.createElement(
                      "div",
                      { className: k().RightSideTitles },
                      (0, Y.Xx)("#EventDisplay_RightColumnTitle_EventType")
                    ),
                    i.createElement(
                      "div",
                      { className: k().EventDetailsType },
                      u,
                      " "
                    )
                  ),
                  i.createElement(ie, { event: t, bIsOGG: E.is_ogg })
                )
              )
          : ((0, z.X)(
              E,
              "EventDetailsRightColumn - clan info (" +
                l.GetAccountID() +
                ") is missing"
            ),
            null);
      }
      function re(e) {
        const { appid: t } = e;
        (0, z.X)(t && 0 != t, "Expected Appid In Game Info Section");
        const [a] = (0, g.vs)(t, {
          include_assets: !0,
          include_platforms: !0,
          include_release: !0,
        });
        return i.createElement(
          "div",
          { className: k().EventDetailGameCallToAction },
          i.createElement(
            "div",
            { className: k().RightSideTitles },
            u.bN.some((e) => t === e)
              ? (0, Y.Xx)("#EventDisplay_RightColumnTitle_Blog")
              : (0, Y.Xx)("#EventDisplay_RightColumnTitle_Game")
          ),
          i.createElement(H.B, {
            imageType: "header",
            capsule: { id: t, type: "game" },
            bHidePriceIfOwned: !0,
            bHideStatusBanners: !0,
          }),
          i.createElement(
            "div",
            { className: (0, E.Z)(k().GameActions) },
            a
              ? i.createElement(V.s, {
                  appid: t,
                  bIsFree: a.BIsFree(),
                  bIsComingSoon: a.BIsComingSoon(),
                  className: k().ActionButton,
                })
              : i.createElement(Z.V, { size: "small", position: "center" })
          )
        );
      }
      function se(e) {
        const { clanSteamID: t } = e,
          [a, n] = (0, m.KU)(t.GetAccountID());
        return n
          ? i.createElement(
              "div",
              { className: k().EventDetailGameCallToAction },
              i.createElement(
                "div",
                { className: k().RightSideTitles },
                n.group_name
              ),
              i.createElement(
                j.V,
                { href: (0, K.OL)(m.sV.GetCreatorStoreURL(t)) },
                i.createElement("div", {
                  className: k().EventDetailsAvatar,
                  style: { backgroundImage: `url(${n.avatar_full_url})` },
                })
              )
            )
          : ((0, z.X)(
              n,
              "EventDetailsRightCreatorInfo - clan info (" +
                t.GetAccountID() +
                ") is missing"
            ),
            null);
      }
      const le = ["", "en-US", "en-GB", "zh-CN", "es-ES", "br-BR"];
      let oe = class extends i.Component {
        GenerateOptions() {
          let e = new Array();
          return (
            le.forEach((t) =>
              e.push(i.createElement("option", { key: t, value: t }, t))
            ),
            e
          );
        }
        OnLanguageChange(e) {
          this.props.fnOverrideLocale(e.currentTarget.value);
        }
        render() {
          if (
            !_.cb.Get().GetPartnerEventPermissions(this.props.event.clanSteamID)
              .valve_admin
          )
            return i.createElement("div", null);
          let e = this.GenerateOptions();
          return i.createElement(
            "div",
            { style: { paddingTop: 10 } },
            i.createElement(
              "div",
              {
                className: (0, E.Z)(
                  M().FlexColumnContainer,
                  M().ValveOnlyBackground
                ),
              },
              i.createElement(
                "div",
                {
                  className: (0, E.Z)(
                    M().EventEditorTextTitle,
                    M().ValveSupportOnly
                  ),
                },
                "Valve Support Tools (VO)"
              ),
              i.createElement("span", null, "Override Locale"),
              i.createElement("select", { onChange: this.OnLanguageChange }, e)
            )
          );
        }
      };
      (0, n.gn)([q.ak], oe.prototype, "OnLanguageChange", null),
        (oe = (0, n.gn)([l.Pi], oe));
      let ie = class extends i.Component {
        constructor() {
          super(...arguments), (this.m_cancelSignal = s().CancelToken.source());
        }
        componentDidMount() {
          const { event: e } = this.props;
          e.BIsPartnerEvent() &&
            e.BIsVisibleEvent() &&
            _.cb
              .Get()
              .LoadSingleAppEventPermissions(e.clanSteamID)
              .then((t) => {
                t &&
                  t.can_edit &&
                  h.h.LoadStatsForEvents(
                    e.clanSteamID,
                    [e.GID],
                    this.m_cancelSignal
                  );
              });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("EventDisplayEditorInfo cancelled");
        }
        render() {
          const { event: e, bIsOGG: t } = this.props;
          if (!_.cb.Get().GetPartnerEventPermissions(e.clanSteamID).can_edit)
            return null;
          const a =
            e.BIsPartnerEvent() &&
            e.BIsVisibleEvent() &&
            h.h.GetStatsFor(e.clanSteamID, e.GID);
          return i.createElement(
            I.S,
            null,
            i.createElement(
              "div",
              { className: k().EditorStatsCtn },
              i.createElement(
                "div",
                { className: k().EditorStatsRow },
                i.createElement(
                  "span",
                  null,
                  (0, Y.Xx)("#EventEditor_Comments")
                ),
                i.createElement("span", null, (0, J.AV)(e.nCommentCount))
              ),
              i.createElement(
                "div",
                { className: k().EditorStatsRow },
                i.createElement(
                  "span",
                  null,
                  (0, Y.Xx)("#EventEditor_UpVotes")
                ),
                i.createElement(
                  "span",
                  null,
                  e.nVotesUp ? (0, J.AV)(e.nVotesUp) : 0
                )
              ),
              i.createElement(
                "div",
                { className: k().EditorStatsRow },
                i.createElement(
                  "span",
                  null,
                  (0, Y.Xx)("#EventEditor_DownVotes")
                ),
                i.createElement(
                  "span",
                  null,
                  e.nVotesDown ? (0, J.AV)(e.nVotesDown) : 0
                )
              )
            ),
            Boolean(a) &&
              i.createElement(
                "div",
                { className: k().EditorStatsCtn },
                (0, Y.Xx)("#EventDashBoard_SummaryStats_Admin_Title"),
                i.createElement(P.y, {
                  summary: a.m_stats,
                  bIsAllowedInLibrary: t,
                  bEventIsInModerationQueue: (0, u.Kt)(e),
                })
              )
          );
        }
      };
      ie = (0, n.gn)([l.Pi], ie);
    },
    58687: (e, t, a) => {
      "use strict";
      a.d(t, { y: () => u });
      var n = a(70655),
        r = a(29323),
        s = a(67294),
        l = (a(47593), a(7573)),
        o = a(41311),
        i = a(30185),
        c = a(90666),
        d = a(47808);
      let u = class extends s.Component {
        render() {
          const {
            summary: e,
            bEventIsInModerationQueue: t,
            bIsAllowedInLibrary: a,
            bIncludeDescription: n,
          } = this.props;
          return 0 == e.total_read + e.total_showm
            ? null
            : s.createElement(
                "div",
                null,
                s.createElement(
                  "div",
                  {
                    className: (0, l.Z)(
                      i.StatsCtnTitle,
                      n ? i.NormalStatsMode : i.SmallStatsMode
                    ),
                  },
                  s.createElement(
                    "h1",
                    null,
                    (0, o.Xx)("#EventDashBoard_SummaryStats_Title")
                  ),
                  Boolean(n) &&
                    s.createElement(
                      "p",
                      null,
                      (0, o.Xx)("#EventDashBoard_SummaryStats_Desc"),
                      " ",
                      s.createElement(
                        "a",
                        {
                          href: "https://partner.steamgames.com/doc/marketing/event_tools/stats",
                          target: "_blank",
                        },
                        (0, o.Xx)("#EventDashBoard_SummaryStats_Link")
                      )
                    )
                ),
                s.createElement(
                  "div",
                  {
                    className: (0, l.Z)(
                      i.TotalsCtn,
                      n ? i.NormalStatsMode : i.SmallStatsMode
                    ),
                  },
                  s.createElement(
                    "div",
                    { className: i.StatsTitle },
                    s.createElement(
                      "span",
                      { className: i.StatDescription },
                      (0, o.Xx)("#EventDashBoard_SummaryStats_TotalImpressions")
                    ),
                    s.createElement(
                      "span",
                      { className: i.StatFigure },
                      (0, d.AV)(e.total_showm)
                    )
                  ),
                  s.createElement(
                    "div",
                    { className: i.StatsTitle },
                    s.createElement(
                      "span",
                      { className: i.StatDescription },
                      (0, o.Xx)("#EventDashBoard_SummaryStats_TotalViews")
                    ),
                    s.createElement(
                      "span",
                      { className: i.StatFigure },
                      (0, d.AV)(e.total_read)
                    )
                  )
                ),
                Boolean(a && t) &&
                  s.createElement(
                    "div",
                    { className: i.ModerationWarningCtn },
                    s.createElement(
                      "div",
                      { className: i.ModerationWarning },
                      (0, o.Xx)("#EventDashBoard_ModerationQueueWarning")
                    ),
                    s.createElement(
                      "a",
                      {
                        href:
                          c.De.PARTNER_BASE_URL +
                          "doc/marketing/event_tools/moderation",
                      },
                      (0, o.Xx)("#EventDashBoard_Location_ModerationTitle")
                    )
                  ),
                s.createElement(
                  "div",
                  {
                    className: (0, l.Z)(
                      i.StatsCtn,
                      n ? i.NormalStatsMode : i.SmallStatsMode
                    ),
                  },
                  a &&
                    s.createElement(
                      "div",
                      {
                        className: (0, l.Z)(
                          i.StatsLeftSection,
                          t && i.DisabledStats
                        ),
                      },
                      s.createElement(
                        "div",
                        { className: i.StatsTitle_ctn },
                        s.createElement(
                          "span",
                          null,
                          (0, o.Xx)("#EventDashBoard_Location_LibraryHome")
                        ),
                        s.createElement(
                          "span",
                          { className: i.ModerationNote },
                          "( ",
                          (0, o.Xx)(
                            "#EventDashBoard_Location_WaitingModeraion"
                          ),
                          " )"
                        )
                      ),
                      s.createElement(
                        "div",
                        { className: i.StatsTitle },
                        s.createElement(
                          "span",
                          null,
                          (0, o.Xx)("#EventDashBoard_Summary_LibraryHome_Shown")
                        ),
                        s.createElement(
                          "span",
                          null,
                          (0, d.AV)(e.library_overview_shown)
                        )
                      ),
                      s.createElement(
                        "div",
                        { className: i.StatsTitle },
                        s.createElement(
                          "span",
                          null,
                          (0, o.Xx)("#EventDashBoard_Summary_LibraryHome_Read")
                        ),
                        s.createElement(
                          "span",
                          null,
                          (0, d.AV)(e.library_overview_read)
                        )
                      ),
                      s.createElement("br", null),
                      s.createElement(
                        "div",
                        { className: i.StatsTitle_ctn },
                        s.createElement(
                          "span",
                          null,
                          (0, o.Xx)("#EventDashBoard_Location_LibraryDetail")
                        ),
                        s.createElement(
                          "span",
                          { className: i.ModerationNote },
                          "( ",
                          (0, o.Xx)(
                            "#EventDashBoard_Location_WaitingModeraion"
                          ),
                          " )"
                        )
                      ),
                      s.createElement(
                        "div",
                        { className: i.StatsTitle },
                        s.createElement(
                          "span",
                          null,
                          (0, o.Xx)(
                            "#EventDashBoard_Summary_AppDetailSpotlight_Shown"
                          )
                        ),
                        s.createElement(
                          "span",
                          null,
                          (0, d.AV)(e.app_details_spotlight_shown)
                        )
                      ),
                      s.createElement(
                        "div",
                        { className: i.StatsTitle },
                        s.createElement(
                          "span",
                          null,
                          (0, o.Xx)(
                            "#EventDashBoard_Summary_AppDetailSpotlight_Read"
                          )
                        ),
                        s.createElement(
                          "span",
                          null,
                          (0, d.AV)(e.app_details_spotlight_read)
                        )
                      ),
                      s.createElement(
                        "div",
                        { className: i.StatsTitle },
                        s.createElement(
                          "span",
                          null,
                          (0, o.Xx)(
                            "#EventDashBoard_Summary_AppDetailActivity_Shown"
                          )
                        ),
                        s.createElement(
                          "span",
                          null,
                          (0, d.AV)(e.app_details_activity_shown)
                        )
                      ),
                      s.createElement(
                        "div",
                        { className: i.StatsTitle },
                        s.createElement(
                          "span",
                          null,
                          (0, o.Xx)(
                            "#EventDashBoard_Summary_AppDetailActivity_Read"
                          )
                        ),
                        s.createElement(
                          "span",
                          null,
                          (0, d.AV)(e.app_details_activity_read)
                        )
                      )
                    ),
                  s.createElement(
                    "div",
                    { className: i.StatsRightSection },
                    s.createElement(
                      "div",
                      { className: i.StatsTitle_ctn },
                      s.createElement(
                        "span",
                        null,
                        (0, o.Xx)("#EventDashBoard_Location_StoreDetail")
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: i.StatsTitle },
                      s.createElement(
                        "span",
                        null,
                        (0, o.Xx)("#EventDashBoard_Summary_StoreAppPage_Shown")
                      ),
                      s.createElement(
                        "span",
                        null,
                        (0, d.AV)(e.store_app_page_shown)
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: i.StatsTitle },
                      s.createElement(
                        "span",
                        null,
                        (0, o.Xx)("#EventDashBoard_Summary_StoreAppPage_Read")
                      ),
                      s.createElement(
                        "span",
                        null,
                        (0, d.AV)(e.store_app_page_read)
                      )
                    ),
                    s.createElement("br", null),
                    s.createElement(
                      "div",
                      { className: i.StatsTitle_ctn },
                      s.createElement(
                        "span",
                        null,
                        (0, o.Xx)("#EventDashBoard_Location_CommunityDetail")
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: i.StatsTitle },
                      s.createElement(
                        "span",
                        null,
                        (0, o.Xx)("#EventDashBoard_Summary_Community_Shown")
                      ),
                      s.createElement(
                        "span",
                        null,
                        (0, d.AV)(e.community_hub_shown)
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: i.StatsTitle },
                      s.createElement(
                        "span",
                        null,
                        (0, o.Xx)("#EventDashBoard_Summary_Community_Read")
                      ),
                      s.createElement(
                        "span",
                        null,
                        (0, d.AV)(e.community_hub_read)
                      )
                    ),
                    s.createElement("br", null),
                    s.createElement(
                      "div",
                      { className: i.StatsTitle_ctn },
                      s.createElement(
                        "span",
                        null,
                        (0, o.Xx)("#EventDashBoard_Location_NewsHubDetail")
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: i.StatsTitle },
                      s.createElement(
                        "span",
                        null,
                        (0, o.Xx)("#EventDashBoard_Summary_NewsHub_Shown")
                      ),
                      s.createElement("span", null, (0, d.AV)(e.news_hub_shown))
                    ),
                    s.createElement(
                      "div",
                      { className: i.StatsTitle },
                      s.createElement(
                        "span",
                        null,
                        (0, o.Xx)("#EventDashBoard_Summary_NewsHub_Read")
                      ),
                      s.createElement("span", null, (0, d.AV)(e.news_hub_read))
                    )
                  )
                )
              );
        }
      };
      u = (0, n.gn)([r.Pi], u);
    },
    87541: (e, t, a) => {
      "use strict";
      a.d(t, { B: () => T, O: () => N });
      var n = a(67294),
        r = a(77442),
        s = a(7707),
        l = a(35921),
        o = a(39746),
        i = (a(49186), a(67833)),
        c = (a(990), a(77636)),
        d = a(73285),
        u = a(52114),
        m = a(36567),
        p = a(67777),
        _ = a(85732),
        h = a(88335),
        g = a.n(h),
        v = a(88592),
        E = a(71387),
        S = (a(45031), a(75896)),
        C = a(23051),
        f = a(72842),
        b = a(5146),
        I = a(65160),
        y = a(65924),
        D = a(7573),
        w = a(41311),
        B = a(90666);
      const N = "capsule_index_";
      function T(e) {
        const {
            capsule: t,
            bShowParentApp: a,
            strExtraParams: i,
            elElementToAppendToHover: c,
            index: _,
            bAutoFocus: h,
          } = e,
          [v, E] = n.useState(!1),
          [f] = (0, u.jk)(t.id, (0, d.TM)(t.type), r.bk),
          [I] = (0, u.vs)(a && (null == f ? void 0 : f.GetParentAppID()), r.bk),
          T = (0, y.bJ)();
        if (!f) return null;
        const A = Boolean(I);
        return n.createElement(
          l.s,
          {
            className: (0, D.Z)({
              [g().OuterCapsuleContainer]: !0,
              [N + _]: 0 == _,
            }),
            navEntryPreferPosition: o.c4.PREFERRED_CHILD,
            autoFocus: h,
          },
          n.createElement(
            C.zw,
            { appid: f.GetAppID() },
            n.createElement(
              p.ll,
              {
                className: g().CapsuleContainer,
                item: t,
                elElementToAppend: e.elElementToAppendToHover,
                bShowDemoButton: e.bShowDemoButton,
                bShowDeckCompatibilityDialog: e.bShowDeckCompatibilityDialog,
                bHidePrice: e.bHidePrice,
                bUseSubscriptionLayout: e.bUseSubscriptionLayout,
                strExtraParams: e.strExtraParams,
                fnOnHoverStateChange: !B.De.IN_GAMEPADUI && E,
                nCreatorAccountID: e.creatorAccountID,
              },
              n.createElement(
                G,
                Object.assign({}, e, {
                  info: t,
                  bIsHovered: v,
                  bHasParentAppToDisplay: A,
                })
              )
            ),
            Boolean(c) && n.createElement("div", null, c)
          ),
          A &&
            n.createElement(
              s.Ks,
              Object.assign(
                { className: g().CapsuleParentInfo },
                (0, S.h)(I, T, e.strExtraParams)
              ),
              n.createElement(
                C.zw,
                { appid: I.GetAppID() },
                n.createElement(
                  "div",
                  { className: g().ParentType },
                  (0, w.Xx)(
                    11 == f.GetAppType()
                      ? "#SalePage_ParentApp_SoundTrack"
                      : "#SalePage_ParentApp_DLC"
                  )
                ),
                n.createElement(
                  b._,
                  {
                    type: "app",
                    id: I.GetAppID(),
                    strExtraParams: e.strExtraParams,
                  },
                  n.createElement(
                    "img",
                    Object.assign(
                      {
                        loading: "lazy",
                        className: m.AppCapsuleImage,
                        alt: I.GetName(),
                        src: I.GetAssets().GetSmallCapsuleURL(),
                      },
                      (0, r.fn)()
                    )
                  )
                )
              )
            )
        );
      }
      function G(e) {
        var t;
        const {
            info: a,
            bHidePriceIfOwned: r,
            bHideStatusBanners: l,
            strExtraParams: o,
            imageType: m,
            bHasParentAppToDisplay: h,
            bUseSubscriptionLayout: g,
            elElementToAppendToHover: S,
            bHidePrice: b,
            bHidePlatforms: D,
            creatorAccountID: w,
            bIsHovered: N,
          } = e,
          [T] = (0, u.jk)(a.id, (0, d.TM)(a.type), { include_platforms: !0 }),
          G = (0, y.bJ)(),
          A = (0, C.Dt)(a.type),
          k = (0, n.useMemo)(
            () => (null == T ? void 0 : T.GetIncludedAppIDsOrSelf()),
            [T]
          ),
          F =
            T &&
            (null == T
              ? void 0
              : T.GetIncludedAppIDsOrSelf().every((e) =>
                  c.jg.Get().BOwnsApp(e)
                ));
        if (!T) return null;
        const L = F && !l,
          x = (0, i.Hf)(
            `${B.De.STORE_BASE_URL}${A}/${a.id}${o ? `?${o}` : ""}`,
            G
          );
        let M,
          P = null;
        if (g && 0 == (null == T ? void 0 : T.GetStoreItemType()))
          P = n.createElement(f.r, { appid: T.GetAppID(), bIsMuted: N });
        else if (S);
        else {
          const e = F && r,
            t = L;
          P = n.createElement(_.Hl, {
            info: a,
            bShowAsMuted: t,
            bHidePrice: b,
            bShowInLibraryInsteadOfPrice: e,
            bHidePlatforms: D,
            creatorAccountID: w,
          });
        }
        return (
          "overrideNavigation" in a &&
            (M = (e) => (
              a.overrideNavigation(),
              e.preventDefault(),
              e.stopPropagation(),
              !1
            )),
          n.createElement(
            s.IS,
            {
              href: M ? null : x,
              style: { display: "block" },
              preferredFocus: h,
              onClick: M,
            },
            n.createElement(E.vs, { appids: k, hide_status_banners: l }),
            n.createElement(_.a4, { imageType: m, info: a }),
            n.createElement(I.y, {
              eDeckCompatibilityCategory:
                null === (t = null == T ? void 0 : T.GetPlatforms()) ||
                void 0 === t
                  ? void 0
                  : t.steam_deck_compat_category,
            }),
            Boolean(N && !(0, p.Hu)()) && n.createElement(v.v, { appInfo: a }),
            P
          )
        );
      }
    },
    46713: (e, t, a) => {
      "use strict";
      a.d(t, { K: () => r, u: () => s });
      a(54698), a(49186);
      var n = a(63466);
      function r(e, t) {
        return e.filter(
          (e) => null == e.visibility_index || e.visibility_index == t
        );
      }
      class s {
        constructor(e, t, a = !0) {
          (this.m_activeTab = null),
            (this.m_capsuleFilter = null),
            (this.m_bDefaultTab = !0),
            (this.m_nSaleDay = t),
            e &&
              ((this.m_activeTab = e),
              (this.m_bDefaultTab = a),
              e.capsules && 0 !== e.capsules.length
                ? ((this.m_capsuleFilter = new Set()),
                  r(e.capsules, t).forEach((e) => {
                    this.m_capsuleFilter.add(Number(e.id));
                  }))
                : (this.m_capsuleFilter = null));
        }
        GetSaleDay() {
          return this.m_nSaleDay;
        }
        ShouldShowSection(e) {
          return (
            !this.m_activeTab ||
            !e.show_on_tabs ||
            0 === e.show_on_tabs.length ||
            e.show_on_tabs.some((e) => e === this.GetActiveTabUniqueID())
          );
        }
        GetTab() {
          return this.m_activeTab;
        }
        GetActiveTabUniqueID() {
          var e;
          return null === (e = this.m_activeTab) || void 0 === e
            ? void 0
            : e.unique_id;
        }
        ShouldShowOnTab(e) {
          return !this.m_capsuleFilter || this.m_capsuleFilter.has(Number(e));
        }
        ShouldShowCapsule(e) {
          return this.ShouldShowOnTab(e.id);
        }
        ShouldShowEvent(e) {
          return 0 === e.appid || this.ShouldShowOnTab(e.appid);
        }
        BIsDefaultTab() {
          return this.m_bDefaultTab;
        }
        BIsTabFilteringEnabled() {
          return Boolean(this.m_capsuleFilter);
        }
        GetTabAppIDs() {
          return this.BIsTabFilteringEnabled()
            ? this.m_capsuleFilter
            : new Set();
        }
        GetStoreFilter() {
          var e, t;
          return (
            null === (e = this.GetTab()) || void 0 === e
              ? void 0
              : e.store_filter
          )
            ? JSON.stringify(
                (0, n.PI)(
                  null === (t = this.GetTab()) || void 0 === t
                    ? void 0
                    : t.store_filter
                )
              )
            : "";
        }
      }
    },
    15396: (e, t, a) => {
      "use strict";
      a.d(t, { Y: () => o });
      var n = a(70655),
        r = a(67294),
        s = a(64839),
        l = a(54452);
      class o extends r.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bRenderChildren: !1,
              nPrevRenderWidth: 0,
              nPrevRenderHeight: 0,
            }),
            (this.m_refContainer = r.createRef());
        }
        BLoadAndUnload() {
          return "LoadAndUnload" == (this.props.mode || "JustLoad");
        }
        OnVisibilityChange(e) {
          let t = this.state.bRenderChildren;
          if (t == e) return;
          if (t && !this.BLoadAndUnload()) return;
          let a = 0,
            n = 0;
          if (this.m_refContainer.current) {
            const e = this.m_refContainer.current.GetBoundingClientRect();
            e && ((a = e.width), (n = e.height));
          }
          this.setState({
            bRenderChildren: e,
            nPrevRenderWidth: a,
            nPrevRenderHeight: n,
          }),
            e && this.props.onRender && this.props.onRender();
        }
        render() {
          const e = this.props,
            {
              placeholderWidth: t,
              placeholderHeight: a,
              onRender: s,
              style: o,
              mode: i,
            } = e,
            c = (0, n._T)(e, [
              "placeholderWidth",
              "placeholderHeight",
              "onRender",
              "style",
              "mode",
            ]),
            d = this.state.bRenderChildren;
          let u = o;
          if (!d) {
            const e = this.state.nPrevRenderWidth || t,
              n = this.state.nPrevRenderHeight || a;
            (void 0 === n && void 0 === e) ||
              (u = Object.assign(Object.assign({}, o), {
                minHeight: n,
                minWidth: e,
              }));
          }
          const m = this.BLoadAndUnload() ? "repeated" : "once";
          return r.createElement(
            l.U,
            Object.assign({ ref: this.m_refContainer, style: u }, c, {
              onVisibilityChange: this.OnVisibilityChange,
              trigger: m,
            }),
            d && this.props.children
          );
        }
      }
      (0, n.gn)([s.ak], o.prototype, "OnVisibilityChange", null);
    },
    52822: (e, t, a) => {
      "use strict";
      a.d(t, { e: () => b });
      var n = a(70655),
        r = a(13596),
        s = a(9669),
        l = a.n(s),
        o = a(67294),
        i = a(54698),
        c = a(76776),
        d = a(77636),
        u = a(7209),
        m = a(48341),
        p = a(99533),
        _ = a(7573),
        h = a(41311),
        g = a(64839),
        v = a(73604),
        E = a(90666),
        S = a(19474),
        C = a.n(S);
      function f(e) {
        const t = new Set();
        return (
          (e.indexOf("games") >= 0 || e.indexOf("dlc") >= 0) && t.add("apps"),
          e.indexOf("curators") >= 0 && t.add("curators"),
          t
        );
      }
      class b extends o.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              strSearchString: "",
              rgAppSuggestions: null,
              rgCuratorSuggestions: null,
            }),
            (this.m_nHighestSentRequestID = 0),
            (this.m_mapHighestReceivedRequestIDFromBackEnd = new Map([
              ["apps", 0],
              ["curators", 0],
            ])),
            (this.m_timerForChange = new p.Ar());
        }
        componentWillUnmount() {
          this.m_timerForChange.Cancel();
        }
        CloseSuggestions() {
          this.setState({
            rgCuratorSuggestions: null,
            rgAppSuggestions: null,
            strSearchString: "",
          });
        }
        GetSuggestionsFromServer(e) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            const t = f(this.props.rgCorporaToSearch);
            t.has("apps") && this.GetAppSuggestionsFromServer(e),
              t.has("curators") && this.GetCuratorSuggestions(e);
          });
        }
        GetCuratorSuggestions(e) {
          var t;
          return (0, n.mG)(this, void 0, void 0, function* () {
            const a = u.E.Get().allNewsCurators,
              n = [];
            for (const r of a) {
              const a = c.sV.GetClanInfoByClanAccountID(r.clanAccountID),
                s = {
                  corpus: "curators",
                  id: r.clanAccountID,
                  name: null == a ? void 0 : a.group_name,
                  img: null == a ? void 0 : a.avatar_full_url,
                };
              if (
                (
                  (null === (t = null == a ? void 0 : a.group_name) ||
                  void 0 === t
                    ? void 0
                    : t.toLocaleLowerCase()) || ""
                ).indexOf(e) >= 0
              ) {
                if (
                  this.props.fnFilterSuggestion &&
                  !this.props.fnFilterSuggestion(s)
                )
                  continue;
                if (d.jg.Get().BIsIgnoringCurator(a.clanAccountID)) continue;
                const e = d.jg.Get().BIsFollowingCurator(a.clanAccountID),
                  t = o.createElement(I, {
                    key: "curatorsug_" + s.id,
                    suggestion: s,
                    fnOnSelected: this.props.fnOnSelected,
                    bShowFollowingLabel: e,
                  });
                n.push(
                  this.props.fnDecorateSuggestion
                    ? this.props.fnDecorateSuggestion(s, t)
                    : t
                );
              }
            }
            this.m_mapHighestReceivedRequestIDFromBackEnd.set(
              "curators",
              this.m_nHighestSentRequestID
            ),
              this.setState({ rgCuratorSuggestions: n });
          });
        }
        GetAppSuggestionsFromServer(e) {
          var t;
          return (0, n.mG)(this, void 0, void 0, function* () {
            const a = this.m_nHighestSentRequestID,
              n = [];
            this.props.rgCorporaToSearch.indexOf("games") >= 0 &&
              (n.push("game"), n.push("software")),
              this.props.rgCorporaToSearch.indexOf("dlc") >= 0 &&
                (n.push("dlc"), n.push("music"));
            const r = {
                cc: E.De.COUNTRY,
                l: E.De.LANGUAGE,
                realm: i.IN.k_ESteamRealmGlobal,
                origin: self.origin,
                f: "jsonfull",
                term: e.replace(" ", "+"),
                require_type: n.join(","),
                excluded_tags: d.jg.Get().GetExcludedTagsSortedByID(),
                excluded_content_descriptors:
                  d.jg.Get().ExcludedContentDescriptor,
              },
              s = `${E.De.STORE_BASE_URL}search/suggest`,
              c = yield l().get(s, { params: r, withCredentials: !0 });
            if (a < this.m_mapHighestReceivedRequestIDFromBackEnd.get("apps"))
              return;
            let u;
            this.m_mapHighestReceivedRequestIDFromBackEnd.set("apps", a),
              (null === (t = null == c ? void 0 : c.data) || void 0 === t
                ? void 0
                : t.length) &&
                (u = c.data.map((e) => {
                  const t = Object.assign(
                    Object.assign(
                      {
                        corpus:
                          ((a = e.type),
                          "game" == a || "software" == a
                            ? "games"
                            : "dlc" == a || "music" == a
                            ? "dlc"
                            : null),
                      },
                      e
                    ),
                    { id: parseInt(e.id) }
                  );
                  var a;
                  if (
                    this.props.fnFilterSuggestion &&
                    !this.props.fnFilterSuggestion(t)
                  )
                    return null;
                  const n = o.createElement(I, {
                    key: t.type + t.id,
                    suggestion: t,
                    fnOnSelected: this.props.fnOnSelected,
                  });
                  return this.props.fnDecorateSuggestion
                    ? this.props.fnDecorateSuggestion(t, n)
                    : n;
                })),
              this.setState({ rgAppSuggestions: u });
          });
        }
        UpdateSuggestions(e) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            const t =
              e.target.value && e.target.value.trim().toLocaleLowerCase();
            if (
              (this.m_nHighestSentRequestID++, !(null == t ? void 0 : t.length))
            )
              return (
                Array.from(f(this.props.rgCorporaToSearch)).forEach((e) =>
                  this.m_mapHighestReceivedRequestIDFromBackEnd.set(
                    e,
                    this.m_nHighestSentRequestID
                  )
                ),
                this.m_timerForChange.Cancel(),
                this.setState({ strSearchString: "" }),
                void this.ResetSuggestions()
              );
            this.setState({ strSearchString: t }),
              this.m_timerForChange.Schedule(300, () =>
                this.GetSuggestionsFromServer(t)
              );
          });
        }
        ResetSuggestions() {
          this.setState({ rgAppSuggestions: null, rgCuratorSuggestions: null });
        }
        GetLimitedSuggestions() {
          let { rgAppSuggestions: e, rgCuratorSuggestions: t } = this.state;
          let a = e ? e.length : 10,
            n = t ? t.length : 10;
          return (
            a + n > 10 && (a = 10 - Math.min(n, 2)),
            (n = 10 - a),
            (e = null == e ? void 0 : e.slice(0, a)),
            (t = null == t ? void 0 : t.slice(0, n)),
            { rgAppSuggestions: e, rgCuratorSuggestions: t }
          );
        }
        render() {
          const {
              strLabel: e,
              focusOnMount: t,
              rgCorporaToSearch: a,
              strResultsClass: n,
            } = this.props,
            { strSearchString: s } = this.state,
            { rgAppSuggestions: l, rgCuratorSuggestions: i } =
              this.GetLimitedSuggestions(),
            c = (null == s ? void 0 : s.length) > 0,
            d = (null == l ? void 0 : l.length) > 0,
            u = (null == i ? void 0 : i.length) > 0,
            p = f(a).size > 1,
            g =
              p &&
              d &&
              (0, h.Xx)(
                a.indexOf("dlc") >= 0
                  ? "#EventCalendar_SearchResultsHeader_GameAndDLCSection"
                  : "#EventCalendar_SearchResultsHeader_GameSection"
              ),
            v = Array.from(f(a)).some(
              (e) =>
                this.m_nHighestSentRequestID >
                this.m_mapHighestReceivedRequestIDFromBackEnd.get(e)
            ),
            E = !u && !d && !v;
          return o.createElement(
            "div",
            { className: C().SuggestContainer },
            o.createElement(m.II, {
              type: "text",
              label: e,
              onChange: this.UpdateSuggestions,
              bAlwaysShowClearAction: c,
              focusOnMount: t,
            }),
            c &&
              o.createElement(
                "div",
                { className: (0, _.Z)(C().Results, n) },
                d &&
                  o.createElement(
                    "div",
                    { key: "game-suggestions" },
                    p &&
                      o.createElement(
                        "div",
                        { className: C().ResultSectionHeader },
                        g
                      ),
                    l
                  ),
                u &&
                  o.createElement(
                    "div",
                    { key: "curator-suggestions" },
                    p &&
                      o.createElement(
                        "div",
                        { className: C().ResultSectionHeader },
                        (0, h.Xx)(
                          "#EventCalendar_SearchResultsHeader_CuratorSection"
                        )
                      ),
                    i
                  ),
                E &&
                  o.createElement(
                    "div",
                    { className: C().EmptyResults, key: "empty-results" },
                    (0, h.Xx)("#EventCalendar_GameSearch_NoneFound")
                  ),
                v && o.createElement(r.V, { size: "small" })
              )
          );
        }
      }
      (0, n.gn)([g.ak], b.prototype, "UpdateSuggestions", null);
      const I = (e) =>
        o.createElement(
          "div",
          {
            className: C().ResultRow,
            key: `suggestion-${e.suggestion.id}`,
            onClick: () => e.fnOnSelected(e.suggestion),
          },
          o.createElement("img", {
            src: e.suggestion.img,
            className: C().AvatarImage,
          }),
          o.createElement(
            "div",
            { className: C().GameName },
            " ",
            (0, v.HA)(e.suggestion.name),
            " "
          ),
          e.bShowFollowingLabel &&
            o.createElement(
              "div",
              { className: C().Label },
              (0, h.Xx)("#EventCalendar_FollowingCurator")
            )
        );
    },
    6092: (e, t, a) => {
      "use strict";
      a.d(t, { p: () => s });
      var n = a(29181),
        r = a.n(n);
      function s() {
        return window.innerWidth < parseInt(r().strMaxMobileWidth);
      }
    },
    41498: (e, t, a) => {
      "use strict";
      a.d(t, { V: () => i });
      var n = a(70655),
        r = a(7707),
        s = a(67294),
        l = a(54698),
        o = a(90666);
      a(72258);
      function i(e) {
        const { href: t, children: a, bAllowFocuseableAnchor: i } = e,
          c = (0, n._T)(e, ["href", "children", "bAllowFocuseableAnchor"]);
        return o.De.EREALM === l.IN.k_ESteamRealmChina
          ? s.createElement("div", Object.assign({}, c), a)
          : i
          ? s.createElement(r.IS, Object.assign({ href: t }, c), a)
          : s.createElement("a", Object.assign({ href: t }, c), a);
      }
    },
    54452: (e, t, a) => {
      "use strict";
      a.d(t, { U: () => o });
      var n = a(70655),
        r = a(67294),
        s = a(53622),
        l = a(64839);
      class o extends r.Component {
        constructor() {
          super(...arguments),
            (this.m_observer = null),
            (this.m_refElement = r.createRef()),
            (this.m_elTracked = null),
            (this.m_bPreviouslyIntersecting = !1);
        }
        static GetScrollableClassname() {
          return "vt-scrollable";
        }
        BTriggerOnce() {
          return "once" == (this.props.trigger || "once");
        }
        GetBoundingClientRect() {
          return this.m_refElement.current
            ? this.m_refElement.current.getBoundingClientRect()
            : null;
        }
        DestroyObserver() {
          this.m_observer &&
            (this.m_observer.disconnect(),
            (this.m_observer = null),
            (this.m_elTracked = null));
        }
        componentWillUnmount() {
          this.DestroyObserver();
        }
        componentDidMount() {
          this.UpdateObserver(null);
        }
        componentDidUpdate(e) {
          this.UpdateObserver(e);
        }
        UpdateObserver(e) {
          if (this.m_bPreviouslyIntersecting && this.BTriggerOnce()) return;
          this.m_observer &&
            e &&
            e.rootMargin != this.m_observer.rootMargin &&
            this.DestroyObserver();
          let t = this.m_refElement.current;
          if (
            (this.m_observer &&
              t != this.m_elTracked &&
              (this.m_observer.unobserve(this.m_elTracked),
              (this.m_elTracked = null)),
            !this.m_observer && t)
          ) {
            let e = { root: this.FindScrollableAncestor(t) };
            this.props.rootMargin && (e.rootMargin = this.props.rootMargin),
              (this.m_observer = new IntersectionObserver(
                this.OnIntersection,
                e
              ));
          }
          this.m_observer &&
            t &&
            t != this.m_elTracked &&
            (this.m_observer.observe(t), (this.m_elTracked = t));
        }
        FindScrollableAncestor(e) {
          return s.Jk(e, (e) => {
            const t = this.props.bHorizontal
              ? window.getComputedStyle(e).overflowX
              : window.getComputedStyle(e).overflowY;
            return (
              "scroll" == t ||
              "auto" == t ||
              !!e.classList.contains(o.GetScrollableClassname())
            );
          });
        }
        OnIntersection(e, t) {
          let a = !1;
          for (const t of e)
            if (t.isIntersecting) {
              a = !0;
              break;
            }
          this.m_bPreviouslyIntersecting != a &&
            ((this.m_bPreviouslyIntersecting = a),
            this.props.onVisibilityChange && this.props.onVisibilityChange(a),
            a && this.BTriggerOnce() && this.DestroyObserver());
        }
        render() {
          let e = this.props,
            {
              onVisibilityChange: t,
              rootMargin: a,
              trigger: s,
              bHorizontal: l,
            } = e,
            o = (0, n._T)(e, [
              "onVisibilityChange",
              "rootMargin",
              "trigger",
              "bHorizontal",
            ]);
          return r.createElement(
            "div",
            Object.assign({ ref: this.m_refElement }, o),
            this.props.children
          );
        }
      }
      (0, n.gn)([l.ak], o.prototype, "OnIntersection", null);
    },
    11539: (e, t, a) => {
      "use strict";
      a.d(t, { h: () => s });
      var n = a(67294),
        r = a(80533);
      const s = (e) => {
        const { onPositionChange: t, onLeave: a } = e,
          s = n.useCallback(
            (e) => (
              void 0 === e.previousPosition &&
                e.currentPosition === r.h.above &&
                a &&
                a(e),
              t && t(e)
            ),
            [t, a]
          );
        return n.createElement(
          r.h,
          Object.assign({}, e, { onPositionChange: s })
        );
      };
    },
    69657: (e, t, a) => {
      "use strict";
      a.d(t, { Z: () => n });
      const n =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUQ5NEMwOTYzRDc4MTFFQUExREZEODRBMDBCNjdENTEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUQ5NEMwOTczRDc4MTFFQUExREZEODRBMDBCNjdENTEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRDk0QzA5NDNENzgxMUVBQTFERkQ4NEEwMEI2N0Q1MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRDk0QzA5NTNENzgxMUVBQTFERkQ4NEEwMEI2N0Q1MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po/TXacAAABMSURBVHjaYvz//z8DNQHjyDMQDICGJgDx3f/kA5DeBJhh8f+pB+JBXr4DNFeZSp69CzLwP7UjZdTAkWAgVdMh1XMK1fPyCCwPAQIMAKf/Y+3dveJlAAAAAElFTkSuQmCC";
    },
  },
]);
