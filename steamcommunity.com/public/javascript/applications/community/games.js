/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [3903],
  {
    27522: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Icon: "_2bzHb-caO-Nm9nCFXRj7zq",
        IconGlow: "tH67cztsTrD9IF2zpG8ep",
        AchievementIconWrapper: "_373lENtPG9blrNsyXz0y_J",
        RareAchievementIconGlowContainerRoot: "_39Chtmumni5hlYAbFZt-PU",
        RareAchievementIconGlowContainer: "leuGOqykWKVDUuR082MPV",
        rotate: "_1Mdch_OwSiwWooFB8LxqbE",
        RareAchievementNoAnimation: "_25gJmeIGPjHa2ccPzTntg4",
        RareAchievementIconGlow: "rORbR_CuoyBuXGKfa8_2-",
        HiddenLabel: "_2yMyP8POdcTHs9u9CEQIKY",
      };
    },
    76478: (e) => {
      e.exports = {
        ProgressBar: "yZ55NhARZGx1Awk2qs8pS",
        AnimateProgress: "_1CcdviLW6hebdTPh-3a7DC",
        loadingBarAnim: "BX2Tm1w9-ANfTCqXg431i",
        Indeterminate: "_1sxT4GOX7iqToa-lS_Wx_E",
      };
    },
    89729: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
      };
    },
    33672: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        Gameslistapp: "_2nl8HoZ_rxg3AGpYs0N_UD",
        DisplayControls: "_2_BHLBIwWKIyKmoabfDFH-",
        FilterInput: "_24EKvqXebLSndHLcU0oa9S",
        SortOptions: "_3pgJXGeUvcAyf_Qx8Gviyl",
        SortOption: "YcplNXvbAo_QrR2RGHq7A",
        SelectedSort: "MA0IhL4avzBMZsPIv_Onx",
        BothOwnedFilter: "NKeON8ijAOy_Uhx4o6-oS",
        MeasurementContainer: "ZmRLuak1LI0RT7TdSGaSp",
        PrivacySettingsLink: "mRoicVJ4W3e852Q42-bzU",
      };
    },
    1086: (e) => {
      e.exports = {
        Filter: "ZQQNQC6M0Bnh0edYDcm0p",
        ClearButton: "_2iq6O4IihM1DlK3T6MDriW",
        SearchIcon: "QptTjZmYHOPv7_vqyAhnS",
      };
    },
    19766: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        List: "_3tY9vKLCmyG2H2Q4rUJpkr",
        GamesListItemContainer: "_29H3o3m-GUmx6UfXhQaDAm",
        GamesListItem: "_2-pQFn1G7dZ7667rrakcU3",
        Changing: "_2virZnBQZfVnSt_RLteF8d",
        NavButton: "_3aNUlXqnUCLTuW3Aeu2vQ1",
        GameItemPortrait: "_1bAC6eBHy0MpRWrwTkgT9o",
        FallbackTitle: "MHfYK1d8GyLy-Pw2Zd0oX",
        PortraitContainer: "_1CHM8-0EM9IeDAZ47-cYit",
        HasAdultContent: "_2jXu55ZFxTRANaTIIV7EJ5",
        GameNameContainer: "w6q9piMq3gT16oj_lEvpy",
        GameName: "_22awlPiAoaZjQMqxJhp-KP",
        Playtime: "_2EeyhCvW_KhEdtuarguZYh",
        Hours: "_26nl3MClDebGDV7duYjZVn",
        Hours2weeks: "_1_mJZIdFpISpEwLAdgWwHG",
        LastPlayed: "_2jglu-fYE_XNY6tkn6J99Y",
        FactLabel: "_2L1rk5AZ6FW8trFciJnHSs",
        AchievementContainer: "_38RhR5f2dCM0suwMTTCyMk",
        AchievementsProgress: "_3L-qRrHSjklL-XerpCawLU",
        Buttons: "_1uRB5he6cj97y-rG3RcI6H",
        GameLinks: "_35fxd2upwJHRuX_fNyRbbM",
        GameLinksButton: "_1pXbX5mBA7v__kVWHg0_Ja",
        AppPrivateIndicator: "_2UkkK2haCjZZi3oNZjrHTt",
        DownloadStatus: "bDheibeyyAaooxTc0G5Bh",
        PerfectRibbon: "_1uKlfc1_Z49lxRNSctgO7y",
        ContentLinks: "_1yvGN-lhGKwgwFZ0hqNf3",
        StatLinks: "_1sruH2EotKih-5xc1nw_Ak",
        BottomSheetContainer: "_3EfAk-1beaL1stoa1Zphh2",
        BottomSheetOverlay: "_3M4Jfj5fXzOUlgH9BqKlOq",
        BottomSheet: "_2ywCPkpOvBVojX4Mnn7zuJ",
        GameInfo: "_36tJrb1jp0FbroHbjR6K2b",
        Facts: "_34z3MVFlA6nkaOvj9p0BXg",
        GameTitle: "_3RUE8mOoeGf8bZ77aurU_I",
        AchievementIcons: "_6o-Nn_9cs5UP8u0ZSRljj",
        Portrait: "_3MzPltH_U92rP-soE-XXhZ",
        BlurredBackground: "r1Y-M8ZjYRcmI8sTqnnbW",
        BottomSheetSection: "NZhfSfVUUKzxiu-j4DLM-",
        SectionContent: "_1ynpS-BFysdDH9UAW-iRDf",
        BottomSheetRemoteControls: "_2gji1dsQmGsIQfeoZ3ZDLp",
        BottomSheetLink: "_34fh9Z8MPpZ4_9yScG6sTQ",
        ClientName: "_1Jcm1lR6ir2WXkex7RFhNc",
        NavDropdownMenu: "_1HvmxTJCyuUCUtpqb-Jvbm",
        AchievementIcon: "_2J4HYQJrf2UMRTTLMmtWQY",
        Remainder: "fVmXu5fTPTvdMa9Wfl4-t",
        AchievementHover: "_1Whe1Zq6Wp7xVMB3L_kD7z",
        Background: "OMxTbLGmt5VsNqE2XXp_z",
        Blur: "BPScsrxPEywJlzL3Nps-T",
        TopSection: "_3OoXTDF9l6Vk3NVig_aEs7",
        TextSection: "_3sCHJt5zL0N6_BEWg0qu-e",
        Name: "_2jbhFCR7QFZlm9OjxHKzR4",
        Unlocked: "_1UIA3j5VZhatQINGh2TCP5",
        RareLabel: "_3g9oIyfEdZ_IaqN-AdCrUd",
        AchievementsProgressBar: "_3Z3qpPO7VynFPtiyMoSUOj",
        AchievementsProgressLabel: "_3eZMLQT-bjZ0EhBSvQlDQ0",
        AchievementsFraction: "_1YRRMk6X7vrOL-02K-q1pf",
        emptyDescription: "_3oj8bwi8usJEPiy_cYHLnV",
        GamepadNavigationDropdown: "Ml4QU2rA5poyzlN6Mpn_V",
        GamepadNavigationDropdownButton: "_2u7K0-MM3a_gPWpWBEUSOb",
        placeholderPulse: "_3qZsOXqZUFEK9ISDZudzlL",
        rotate: "_1TDttoOdo6-4lnAb7-9v_0",
      };
    },
    3980: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        ClientSelectDropdown: "_2Z6JLrWwlE-rD6qsK1mpwA",
        ClientListDropdownMenu: "_22iS0ZTKxg-SJsAgi5pqBI",
        RemoteDownloadClientBar: "hQ4Q9MOyzOvVrZauH-tj5",
        RemoteDownloadHeader: "UVZ1rP5saSNYWAWH3yMTl",
        InfoIcon: "_3TWnE-0Q1fkvhkB9mfdf27",
        ClientIndicator: "_2XcV9fHY60YOpjt36jVCfY",
        NoConnection: "E0OMiLaKR_MRnFXmJAZmf",
        RemoteDownloadStatus: "_14QBdf-5S88wYLJbazoFrh",
        RemoteDownloadHelp: "_1pQIr9TvX9JCZcMmMETHx1",
        NoConnectionText: "_1A0dfMNzS5OX5an6RIFIK-",
        LearnMoreCta: "_3XDsbImB-54v0oQIFtqdJj",
        DownloadBarWithLabel: "_14YOdPTduI4LctS9AB_CjI",
        DownloadStatus: "_2JtXwjoHHm0U24wGc2CfVV",
        DownloadProgress: "_2b6Qyvo_fVAbVShbS2jmJQ",
        CurrentSpace: "_3_zPYGBGckOlSj4oGyYok5",
        DownloadEstimate: "_2QWHYy_4BKkdD243QQJWM4",
        DownloadBar: "_4ZW4ifW1Y2eVWWfugmjfC",
        RemoteControls: "_1FputvTUMDlSdMWR6dzBHN",
        ButtonContainer: "_2mcktnnmYz7Erghm5hxnqS",
        NoRemoteControl: "_217EiSw2ETc8OiRB6_XCAN",
        DownloadSize: "_2zfId9cfT2zTYc0lGKOhrr",
        UpdateSchedule: "_nq0rHACsxcW4OBfu3FB9",
        DownloadIconButton: "_2P6595PfFeyY96lncv5stz",
        DownloadBarContainer: "_2Qx7nzrAjG0zOX4ZElhETi",
      };
    },
    54129: (e) => {
      e.exports = {
        WishlistTab: "_1BZR3-r7Ext8HXYzmdK9zn",
        tabList: "_1sHACvEQL-LRtUYan0JxdB",
        TabBaseline: "_2gC9IPFcO2QkemlSXC51zW",
        SelectBaseline: "_1qj0peBs6iRD1XsxTT68xH",
      };
    },
    13043: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => d });
      var a = n(85556),
        r = n(47427),
        o = n(82493),
        s = n(4030),
        i = n(20417),
        l = n(37563),
        c = n(35643);
      function d(e) {
        const { children: t, navTreeRef: n } = e,
          d = (0, a._T)(e, ["children", "navTreeRef"]),
          m = r.useRef(),
          u = (0, i.BE)(m, n),
          p = (0, l.id)(),
          f = window.__virtual_keyboard_client;
        if (p) {
          const e = window.__nav_tree_root;
          return r.createElement(
            o.Fe,
            Object.assign({}, d, {
              navTreeRef: u,
              secondary: !0,
              parentEmbeddedNavTree: e,
            }),
            r.createElement(
              c.o5,
              { factory: f },
              r.createElement(s.O, null, t),
            ),
          );
        }
        return r.createElement(r.Fragment, null, t);
      }
    },
    71472: (e, t, n) => {
      "use strict";
      n.d(t, { Ar: () => l, Wo: () => c, i9: () => i, ks: () => o });
      var a = n(47427),
        r = n(8285);
      function o(e, t) {
        let n;
        "string" == typeof e
          ? (n = e)
          : "location" in e
          ? (n = e.location.search)
          : "search" in e && (n = e.search);
        const a = new URLSearchParams(n.substring(1));
        if (a.has(t)) {
          const e = a.getAll(t);
          return e[e.length - 1];
        }
      }
      const s = (e) => null != e;
      function i(e, t, n, a = !1) {
        const r = new URLSearchParams(e.location.search.substring(1));
        r.delete(t),
          s(n) && r.append(t, n),
          a
            ? e.replace(`?${r.toString()}`, Object.assign({}, e.location.state))
            : e.push(`?${r.toString()}`);
      }
      function l(e, t) {
        const n = (0, r.k6)(),
          l = (0, r.TH)(),
          c = (0, a.useMemo)(() => {
            const n = o(l.search, e);
            return s(n)
              ? s(t)
                ? "boolean" == typeof t
                  ? t.constructor("false" !== n)
                  : t.constructor(n)
                : n
              : t;
          }, [l.search, e, t]),
          d = (0, a.useCallback)(
            (t) => {
              i(n, e, s(t) ? String(t) : null);
            },
            [n, e],
          );
        return [c, d];
      }
      function c(e, t, n = !1) {
        const a = new URLSearchParams(e.location.search.substring(1));
        for (const e in t)
          if (t.hasOwnProperty(e)) {
            const n = t[e];
            a.delete(e), s(n) && a.append(e, n);
          }
        n
          ? e.replace(`?${a.toString()}`, Object.assign({}, e.location.state))
          : e.push(`?${a.toString()}`);
      }
    },
    29480: (e, t, n) => {
      "use strict";
      n.d(t, { T: () => s });
      var a = n(80751),
        r = n.n(a),
        o = n(47427);
      function s(e) {
        const t = o.useRef(r().CancelToken.source());
        return (
          o.useEffect(() => {
            const n = t.current;
            return () => n.cancel(e ? `${e}: unmounting` : "unmounting");
          }, [e]),
          t.current
        );
      }
    },
    54117: (e, t, n) => {
      "use strict";
      n.d(t, { W: () => r });
      var a = n(31846);
      function r(e, t = "#Played_", n = !1) {
        if (e >= 120) {
          let n = e / 60;
          n = Math.round(10 * n) / 10;
          let r = a.Yt.GetPreferredLocales(),
            o = n.toLocaleString(r, {
              minimumFractionDigits: 0,
              maximumFractionDigits: 1,
            });
          return (0, a.Xx)(t + "Hours", o);
        }
        return n && 1 == e
          ? (0, a.Xx)(t + "Minute", e)
          : (0, a.Xx)(t + "Minutes", e);
      }
    },
    68761: (e, t, n) => {
      "use strict";
      n.d(t, { _: () => a });
      let a = { ProfileURL: "" };
    },
    39047: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { default: () => xn });
      var a = n(85556),
        r = n(47427),
        o = n(42718),
        s = n(79545),
        i = n(40057),
        l = n(77581),
        c = n(82182),
        d = n(48746),
        m = n(54879);
      const u = new Map(),
        p = new Map();
      function f(e) {
        const t = (0, o.useQueryClient)(),
          n = (0, o.hashQueryKey)(e.batchKey),
          r = (0, o.hashQueryKey)(e.queryKey);
        return (0, o.useQuery)({
          queryKey: [e.batchKey, r],
          queryFn: () => {
            let o = u.get(n);
            return (
              o || ((o = new Map()), u.set(n, o)),
              o.set(r, e.request),
              new Promise((r, o) => {
                if (p.get(n)) return;
                const s = setTimeout(
                  () =>
                    (0, a.mG)(this, void 0, void 0, function* () {
                      try {
                        const a = u.get(n),
                          r = Array.from(a.keys()),
                          o = Array.from(a.values());
                        a.clear(), p.delete(n);
                        const s = yield e.queryFn(o);
                        o.forEach((n, a) => {
                          t.setQueryData(
                            [e.batchKey, r[a]],
                            e.requestMatcher
                              ? s.find((t) => e.requestMatcher(n, t))
                              : s[a],
                          );
                        });
                      } catch (e) {
                        o(e);
                      }
                    }),
                  e.batchDuration,
                );
                p.set(n, s);
              })
            );
          },
          enabled: e.enabled,
        });
      }
      var _ = n(2041),
        h = n(37563),
        v = n(68761);
      function g(e) {
        let t = e
          .replace(/^the\s/i, "")
          .replace(/^a\s/i, "")
          .replace(/^[^\w]+/u, "");
        if (t != e) return t;
      }
      function E(e) {
        if (!(e < 1e5)) return e;
      }
      class y {
        static Get() {
          return this.s_Singleton
            ? this.s_Singleton
            : (this.s_Singleton = new y(
                (0, h.kQ)("config", "profile_config"),
                (0, h.kQ)("profile-gameslist", "gameslist_config"),
              ));
        }
        constructor(e, t) {
          var n, a, r, s, i, l, c;
          (this.rgGameslistConfig = t),
            (this.setExcludedContentDescriptorIds = new Set()),
            e && Object.assign(v._, e),
            this.BViewingOwnProfile() ||
              null ===
                (r =
                  null ===
                    (a =
                      null === (n = this.rgGameslistConfig) || void 0 === n
                        ? void 0
                        : n.rgContentDescriptorPreferences) || void 0 === a
                    ? void 0
                    : a.content_descriptors_to_exclude) ||
              void 0 === r ||
              r.forEach((e) => {
                this.setExcludedContentDescriptorIds.add(
                  e.content_descriptorid,
                );
              });
          const d = this.GetProfileSteamId();
          if (
            ((null ===
              (i =
                null === (s = this.rgGameslistConfig) || void 0 === s
                  ? void 0
                  : s.rgGames) || void 0 === i
              ? void 0
              : i.length) > 0 &&
              _.U.setQueryData(
                ["OwnedGames", d, h.De.LANGUAGE],
                this.rgGameslistConfig.rgGames.map((e) =>
                  Object.assign(Object.assign({}, e), {
                    rtime_last_played: E(e.rtime_last_played),
                  }),
                ),
              ),
            (null ===
              (c =
                null === (l = this.rgGameslistConfig) || void 0 === l
                  ? void 0
                  : l.achievement_progress) || void 0 === c
              ? void 0
              : c.length) > 0)
          ) {
            const e = ["AchievementProgress", d, h.De.LANGUAGE];
            _.U.setQueryData(e, this.rgGameslistConfig.achievement_progress);
            for (const t of this.rgGameslistConfig.achievement_progress)
              _.U.setQueryData([e, (0, o.hashQueryKey)([t.appid])], t);
          }
        }
        FetchAchievementProgressBatch(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = n.filter((e) => e.has_community_visible_stats);
            if (0 === a.length) return [];
            const r = s.gA.Init(c.M4);
            r.Body().set_steamid(t),
              r.Body().set_language(h.De.LANGUAGE),
              r.Body().set_appids(a.map((e) => e.appid));
            const o = yield c.lk.GetAchievementsProgress(e, r);
            if (1 !== o.GetEResult())
              throw (
                (console.error(
                  "Received error from GetAchievementsProgress",
                  o.GetEResult(),
                ),
                new Error(
                  `Error from GetAchievementsProgress: ${o.GetEResult()}`,
                ))
              );
            return o
              .Body()
              .achievement_progress()
              .map((e) => ({
                unlocked: e.unlocked(),
                total: e.total(),
                appid: e.appid(),
              }));
          });
        }
        FetchTopAchievementsBatch(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = n.filter((e) => e.has_community_visible_stats);
            if (0 === a.length) return [];
            const r = s.gA.Init(c.OZ);
            r.Body().set_steamid(t),
              r.Body().set_language(h.De.LANGUAGE),
              r.Body().set_appids(a.map((e) => e.appid)),
              r.Body().set_max_achievements(6);
            const o = yield c.lk.GetTopAchievementsForGames(e, r);
            if (1 !== o.GetEResult())
              throw (
                (console.error(
                  "Received error from GetTopAchievementsForGames",
                  o.GetEResult(),
                ),
                new Error(
                  `Error from GetTopAchievementsForGames: ${o.GetEResult()}`,
                ))
              );
            return o
              .Body()
              .games()
              .map((e) => ({
                appid: e.appid(),
                total_achievements: e.total_achievements(),
                achievements: e
                  .achievements()
                  .map((e) => ({
                    icon: e.icon(),
                    name: e.name(),
                    desc: e.desc(),
                    statid: e.statid(),
                    bit: e.bit(),
                    player_percent_unlocked: e.player_percent_unlocked(),
                  })),
              }));
          });
        }
        GetGames(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = s.gA.Init(c.pp);
            n.Body().set_steamid(e),
              n.Body().set_include_appinfo(!0),
              n.Body().set_skip_unvetted_apps(!1),
              n.Body().set_include_extended_appinfo(!0),
              n.Body().set_include_played_free_games(!0),
              n.Body().set_language(h.De.LANGUAGE);
            const a = yield c.lk.GetOwnedGames(t, n);
            if (1 !== a.GetEResult())
              throw (
                (console.error(
                  "Received error from GetOwnedGames",
                  a.GetEResult(),
                ),
                new Error(`Error from GetOwnedGames: ${a.GetEResult()}`))
              );
            return a
              .Body()
              .games()
              .map((e) => ({
                appid: e.appid(),
                name: e.name(),
                sort_as: e.sort_as() || g(e.name()),
                playtime_forever: e.playtime_forever(),
                playtime_2weeks: e.playtime_2weeks(),
                playtime_disconnected: e.playtime_disconnected(),
                rtime_last_played: E(e.rtime_last_played()),
                capsule_filename: e.capsule_filename(),
                has_dlc: e.has_dlc() || !1,
                has_workshop: e.has_workshop() || !1,
                has_market: e.has_market() || !1,
                has_community_visible_stats:
                  e.has_community_visible_stats() || !1,
                has_leaderboards: e.has_leaderboards() || !1,
                content_descriptorids: e.content_descriptorids() || [],
                img_icon_url: e.img_icon_url(),
              }));
          });
        }
        GetUserFileCount(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = s.gA.Init(d.AO);
            a.Body().set_steamid(e),
              a.Body().set_filetype(4),
              a.Body().set_totalonly(!0),
              a.Body().set_appid(n);
            const r = yield d.vx.GetUserFileCount(t, a);
            if (1 !== r.GetEResult())
              throw (
                (console.error(
                  "Received error from GetUserFileCount",
                  r.GetEResult(),
                ),
                new Error(`Error from GetUserFileCount: ${r.GetEResult()}`))
              );
            return r.Body().total();
          });
        }
        GetFriendsWhoPlayCount(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = s.gA.Init(c.$_);
            n.Body().set_appid(t);
            const a = yield c.lk.GetFriendsGameplayInfo(e, n);
            if (1 !== a.GetEResult())
              throw (
                (console.error(
                  "Received error from GetFriendsGameplayInfo",
                  a.GetEResult(),
                ),
                new Error(
                  `Error from GetFriendsGameplayInfo: ${a.GetEResult()}`,
                ))
              );
            return a.Body().played_recently().length;
          });
        }
        GetIndividualHasRecommendations(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = s.gA.Init(m.Vy),
              r = s.gA.Init(m.K9);
            r.Body().set_steamid(e),
              r.Body().set_appid(n),
              a.Body().add_requests(r.Body());
            const o = yield m.fG.GetIndividualRecommendations(t, a);
            if (1 !== o.GetEResult() && 42 !== o.GetEResult())
              throw (
                (console.error(
                  "Received error from GetIndividualRecommendations",
                  o.GetEResult(),
                ),
                new Error(
                  `Error from GetIndividualRecommendations: ${o.GetEResult()}`,
                ))
              );
            return o.Body().recommendations().length > 0;
          });
        }
        GetTradingCardsCount(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = `${h.De.COMMUNITY_BASE_URL}/profiles/${e}/ajaxgetbadgeinfo/${t}`,
              a = new AbortController();
            let r, o;
            try {
              const e = setTimeout(() => {
                a.abort();
              }, 6e3);
              (r = yield fetch(n, {
                credentials: "include",
                signal: a.signal,
              })),
                clearTimeout(e),
                (o = yield r.json());
            } catch (e) {
              throw e.response
                ? new Error(
                    `HTTP result ${e.response.status} from ajax of ${n}`,
                  )
                : new Error(`Bad HTTP request for ajax for ${n}`);
            }
            const s = null == o ? void 0 : o.badgedata;
            if (!s) return;
            let i = 0,
              l = 0;
            for (let e of s.rgCards) i++, e.owned && l++;
            return { total: i, owned: l };
          });
        }
        GetProfileName() {
          return this.rgGameslistConfig.strProfileName;
        }
        GetProfileSteamId() {
          return this.rgGameslistConfig.strSteamId;
        }
        BViewingOwnProfile() {
          return this.rgGameslistConfig.bViewingOwnProfile;
        }
        GetWebAPIToken() {
          return this.rgGameslistConfig.webapi_token;
        }
        GetGCPDGames() {
          return this.rgGameslistConfig.gcpdGames;
        }
        GetReviewCount() {
          return this.rgGameslistConfig.nUserReviewCount;
        }
        GetFollowedCount() {
          return this.rgGameslistConfig.nUserFollowedCount;
        }
        GetExcludedContentDescriptors() {
          return this.setExcludedContentDescriptorIds;
        }
        GetPerfectUnownedGames() {
          return this.rgGameslistConfig.rgPerfectUnownedGames;
        }
        GetRecentlyPlayedUnownedGames() {
          return this.rgGameslistConfig.rgRecentlyPlayedUnownedGames;
        }
      }
      function b(e, t = {}) {
        const n = y.Get(),
          a = (0, i.bY)();
        return (0, o.useQuery)(
          Object.assign(
            {
              queryKey: ["OwnedGames", e, h.De.LANGUAGE],
              queryFn: () => n.GetGames(e, a),
              select: (e) => e.filter((e) => e.img_icon_url),
            },
            t,
          ),
        );
      }
      function C() {
        return y.Get().GetProfileName();
      }
      function G() {
        return y.Get().GetProfileSteamId();
      }
      function w() {
        return y.Get().BViewingOwnProfile();
      }
      function L() {
        const [e] = (0, r.useState)(
          () => new l.J(h.De.WEBAPI_BASE_URL, y.Get().GetWebAPIToken()),
        );
        return e;
      }
      function R(e) {
        var t;
        const n = y.Get().GetExcludedContentDescriptors();
        return null === (t = null == e ? void 0 : e.content_descriptorids) ||
          void 0 === t
          ? void 0
          : t.some((e) => n.has(e));
      }
      function A(e) {
        const t = (0, i.bY)(),
          n = y.Get(),
          a = (0, o.useQueryClient)(),
          r = ["AchievementProgress", e, h.De.LANGUAGE],
          s = b(e);
        return (0, o.useQuery)({
          queryKey: r,
          queryFn: () => n.FetchAchievementProgressBatch(t, e, s.data),
          onSuccess(e) {
            e.forEach((e) => {
              const t = [r, (0, o.hashQueryKey)([e.appid])];
              a.setQueryData(t, e);
            });
          },
          enabled: void 0 !== s.data && s.data.length > 0,
        });
      }
      function N(e, t) {
        const n = (0, i.bY)(),
          a = y.Get(),
          r = a.GetProfileSteamId();
        return f({
          batchKey: ["AchievementProgress", r, h.De.LANGUAGE],
          queryKey: [e.appid],
          queryFn: (e) => a.FetchAchievementProgressBatch(n, r, e),
          requestMatcher: (e, t) => e.appid === t.appid,
          batchDuration: 100,
          request: e,
          enabled: t,
        });
      }
      function S(e) {
        const t = (0, i.bY)(),
          n = y.Get(),
          a = n.GetProfileSteamId();
        return (0, o.useQuery)(["ScreenshotCount", a, e], () =>
          n.GetUserFileCount(a, t, e),
        );
      }
      var B = n(61134),
        k = n(20417),
        P = n(13043),
        I = n(91618),
        D = n(41130),
        x = n(1485),
        T = n(71472),
        M = n(46882),
        U = n(59728),
        O = n(13129);
      var F = n(31846),
        X = n(33672),
        H = n(58538),
        $ = n(62613),
        Z = n(1086);
      function Q(e, t, n = !1) {
        return (0, r.useMemo)(() => {
          var a;
          return {
            data: null === (a = e.data) || void 0 === a ? void 0 : a.filter(t),
            isLoading: e.isLoading || n,
            error: e.error,
          };
        }, [e.data, e.isLoading, e.error, t, n]);
      }
      const j = 2592e3;
      function q(e) {
        return (
          void 0 !== e.rtime_last_played &&
          e.rtime_last_played > Date.now() / 1e3 - j
        );
      }
      function W({ strNameFilter: e, setStrNameFilter: t, className: n }) {
        const a = (0, r.useRef)(null),
          o = e && "" != e;
        return r.createElement(
          "div",
          { className: (0, O.Z)(Z.Filter, n) },
          r.createElement("input", {
            ref: a,
            onChange: () => {
              var e;
              return t(
                null === (e = a.current) || void 0 === e ? void 0 : e.value,
              );
            },
            value: null != e ? e : "",
            placeholder: (0, F.Xx)("#GamesList_Filter_Placeholder"),
          }),
          o
            ? r.createElement(
                "button",
                { className: Z.ClearButton, onClick: () => t("") },
                r.createElement($.X, null),
              )
            : r.createElement(
                "div",
                { className: Z.SearchIcon },
                r.createElement(H.olm, null),
              ),
        );
      }
      function Y(e) {
        return r.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 30 29",
              fill: "none",
            },
            e,
          ),
          r.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M26 20V25H4V20H0V29H30V20H26Z",
          }),
          r.createElement("path", {
            fill: "currentColor",
            d: "M17 12.1716L21.5858 7.58578L24.4142 10.4142L15 19.8284L5.58582 10.4142L8.41424 7.58578L13 12.1715V0H17V12.1716Z",
          }),
        );
      }
      function V(e) {
        return r.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 30 30",
              fill: "none",
            },
            e,
          ),
          r.createElement("path", {
            fill: "currentColor",
            d: "M29.12 4.41L25.59 0.880005L15 11.46L4.41 0.880005L0.880005 4.41L11.46 15L0.880005 25.59L4.41 29.12L15 18.54L25.59 29.12L29.12 25.59L18.54 15L29.12 4.41Z",
          }),
        );
      }
      function z(e) {
        return r.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 30 30",
              fill: "none",
            },
            e,
          ),
          r.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M15 0C12.0333 0 9.13318 0.879735 6.66645 2.52796C4.19971 4.17618 2.27712 6.51886 1.14181 9.25975C0.00649166 12.0006 -0.290558 15.0166 0.28822 17.9264C0.866998 20.8361 2.29561 23.5088 4.3934 25.6066C6.49119 27.7044 9.16393 29.133 12.0736 29.7118C14.9834 30.2906 17.9994 29.9935 20.7402 28.8582C23.4811 27.7229 25.8238 25.8003 27.472 23.3336C29.1203 20.8668 30 17.9667 30 15C30 13.0302 29.612 11.0796 28.8582 9.25975C28.1044 7.43986 26.9995 5.78628 25.6066 4.3934C24.2137 3.00052 22.5601 1.89563 20.7402 1.14181C18.9204 0.387987 16.9698 0 15 0ZM17.5 23H12.5V13H17.5V23ZM15 11C14.4067 11 13.8266 10.8241 13.3333 10.4944C12.8399 10.1648 12.4554 9.69623 12.2284 9.14805C12.0013 8.59987 11.9419 7.99667 12.0576 7.41473C12.1734 6.83279 12.4591 6.29824 12.8787 5.87868C13.2982 5.45912 13.8328 5.1734 14.4147 5.05764C14.9967 4.94189 15.5999 5.0013 16.148 5.22836C16.6962 5.45542 17.1648 5.83994 17.4944 6.33329C17.8241 6.82664 18 7.40666 18 8C18 8.79565 17.6839 9.55871 17.1213 10.1213C16.5587 10.6839 15.7956 11 15 11Z",
          }),
        );
      }
      function K(e) {
        return r.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 13 8",
              fill: "none",
            },
            e,
          ),
          r.createElement("path", {
            fill: "currentColor",
            d: "M12.6128 1.7121C12.7616 1.56087 12.8428 1.3684 12.8428 1.14155C12.8428 0.687862 12.491 0.323534 12.0446 0.323534C11.8214 0.323534 11.6184 0.419772 11.4628 0.577877L6.83601 5.38975L2.22271 0.577877C2.06712 0.419772 1.85743 0.323534 1.64097 0.323534C1.19452 0.323534 0.842773 0.687862 0.842773 1.14155C0.842773 1.3684 0.923946 1.56087 1.07276 1.71211L6.21369 7.06016C6.38956 7.25264 6.60602 7.342 6.84277 7.34888C7.07953 7.34888 7.28246 7.25264 7.4651 7.06016L12.6128 1.7121Z",
          }),
        );
      }
      function J(e) {
        return r.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 14 14",
              fill: "none",
            },
            e,
          ),
          r.createElement("path", {
            fill: "currentColor",
            d: "M13.6666 8.05776V5.9422L11.9199 5.6222C11.8053 5.22889 11.6457 4.8501 11.4444 4.49331L12.4533 3.03554L10.9644 1.53776L9.50659 2.55554C9.1498 2.35419 8.77101 2.19461 8.3777 2.07998L8.0577 0.333313H5.94214L5.62214 2.07998C5.22883 2.19461 4.85003 2.35419 4.49325 2.55554L3.03547 1.53776L1.5377 3.03554L2.55547 4.49331C2.35412 4.8501 2.19455 5.22889 2.07992 5.6222L0.333252 5.9422V8.05776L2.07992 8.37776C2.19455 8.77107 2.35412 9.14986 2.55547 9.50665L1.5377 10.9644L3.03547 12.4622L4.49325 11.4444C4.85043 11.6427 5.22921 11.7993 5.62214 11.9111L5.94214 13.6666H8.0577L8.3777 11.92C8.77101 11.8053 9.1498 11.6458 9.50659 11.4444L10.9644 12.4533L12.4621 10.9555L11.4444 9.50665C11.6426 9.14947 11.7992 8.77069 11.911 8.37776L13.6666 8.05776ZM6.99992 9.2222C6.56041 9.2222 6.13076 9.09187 5.76532 8.84769C5.39988 8.60351 5.11505 8.25645 4.94685 7.85039C4.77866 7.44433 4.73465 6.99751 4.8204 6.56645C4.90614 6.13538 5.11779 5.73942 5.42857 5.42863C5.73935 5.11785 6.13532 4.9062 6.56638 4.82046C6.99745 4.73471 7.44427 4.77872 7.85033 4.94691C8.25639 5.11511 8.60345 5.39994 8.84763 5.76538C9.09181 6.13082 9.22214 6.56047 9.22214 6.99998C9.22214 7.29181 9.16466 7.58078 9.05299 7.85039C8.94131 8.12 8.77762 8.36498 8.57127 8.57133C8.36491 8.77768 8.11994 8.94137 7.85033 9.05305C7.58071 9.16472 7.29175 9.2222 6.99992 9.2222Z",
            fillOpacity: "0.5",
          }),
        );
      }
      var ee = n(38071),
        te = n(95315),
        ne = n(82493),
        ae = n(84686),
        re = n(77936),
        oe = n(53923),
        se = (n(67573), n(83120));
      const ie = "RemoteDownload_OnlineClient",
        le = "RemoteDownload_ClientAppList",
        ce = "RemoteDownload_ClientAppData";
      class de extends Error {
        constructor(e, t) {
          super(e), (this.result = t);
        }
      }
      function me() {
        const e = (0, i.bY)(),
          t = (0, oe.M)();
        return (0, o.useQuery)(
          [ie, t],
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              const t = s.gA.Init(se.II),
                n = yield se.b5.GetAllClientLogonInfo(e, t);
              if (1 !== n.GetEResult())
                throw (
                  (console.error(
                    "Received error from GetAllClientLogonInfo",
                    n.GetEResult(),
                    n.Hdr().transport_error(),
                  ),
                  new Error(
                    `Error from GetAllClientLogonInfo: ${n.GetEResult()}`,
                  ))
                );
              const a = [];
              for (const e of n.Body().sessions())
                e.device_type() !== re.gg.k_EGamingDeviceType_Unknown &&
                  a.push(e.toObject());
              return {
                sessions: a,
                refetchInterval: n.Body().refetch_interval_sec() || 300,
              };
            }),
          {
            staleTime: 3e5,
            refetchInterval: (e) =>
              1e3 * ((null == e ? void 0 : e.refetchInterval) || 300),
          },
        );
      }
      class ue {
        constructor(e) {
          Object.assign(this, e.toObject()),
            (this.bytes_to_download = parseInt(e.bytes_to_download()) || 0),
            (this.bytes_downloaded = parseInt(e.bytes_downloaded()) || 0),
            (this.bytes_staged = parseInt(e.bytes_staged()) || 0),
            (this.bytes_to_stage = parseInt(e.bytes_to_stage()) || 0),
            (this.bytes_required = parseInt(e.bytes_required()) || 0);
        }
        BIsDownloading() {
          return this.num_downloading > 0;
        }
        BIsAtTopOfQueue() {
          return 0 === this.queue_position;
        }
        BIsPaused() {
          return (
            this.download_paused &&
            (this.bytes_downloaded < this.bytes_to_download ||
              this.bytes_staged < this.bytes_to_stage ||
              -1 != this.queue_position)
          );
        }
        BHasPendingUpdate() {
          return (
            !this.BIsDownloading() &&
            !this.download_paused &&
            (this.bytes_downloaded < this.bytes_to_download ||
              this.bytes_staged < this.bytes_to_stage)
          );
        }
      }
      function pe(e, t, n) {
        return (0, a.mG)(this, void 0, void 0, function* () {
          const a = t.client_instanceid,
            r = s.gA.Init(se.eV);
          r.Body().set_fields("games"),
            r.Body().set_filters(n),
            r.Body().set_client_instanceid(a),
            r.Body().set_include_client_info(!0);
          const o = yield se.b5.GetClientAppList(e, r);
          if (1 !== o.GetEResult())
            throw (
              (console.error(
                "Received error from GetClientAppList",
                o.GetEResult(),
                o.Hdr().transport_error(),
              ),
              new de(
                `Error from GetClientAppList: ${o.GetEResult()}`,
                o.GetEResult(),
              ))
            );
          const i = new Map();
          for (const e of o.Body().apps()) {
            const t = new ue(e);
            i.set(e.appid(), t);
          }
          return {
            session: t,
            mapApps: i,
            clientInfo: o.Body().client_info().toObject(),
            refetchIntervals: {
              full: o.Body().refetch_interval_sec_full() || 3600,
              changing: o.Body().refetch_interval_sec_changing() || 60,
              updating: o.Body().refetch_interval_sec_updating() || 10,
            },
          };
        });
      }
      function fe(e, t, n) {
        return [le, e, t, n];
      }
      function _e(e, t = !0) {
        var n, s;
        const l = me(),
          c = (0, i.bY)(),
          d = (0, oe.M)(),
          m = (e) => {
            t && ((21 != e.result && 16 != e.result) || l.refetch());
          },
          u = (0, o.useQueries)(
            (
              (null === (n = l.data) || void 0 === n ? void 0 : n.sessions) ||
              []
            ).map((e) => ({
              queryKey: fe(d, e.client_instanceid, "none"),
              queryFn: () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  return pe(c, e, "none");
                }),
              staletime: 36e5,
              refetchInterval: (e) =>
                1e3 * ((null == e ? void 0 : e.refetchIntervals.full) || 3600),
              enabled: l.isSuccess && !l.isFetching,
              onError: m,
              retry: t,
            })),
          ),
          p = (0, r.useCallback)(
            (t) => {
              if (!e) return t;
              const n = new Map(Array.from(t.mapApps.entries()).filter(e));
              return Object.assign(Object.assign({}, t), { mapApps: n });
            },
            [e],
          ),
          f = (0, o.useQueries)(
            (
              (null === (s = l.data) || void 0 === s ? void 0 : s.sessions) ||
              []
            ).map((e, n) => ({
              queryKey: fe(d, e.client_instanceid, "changing"),
              queryFn: () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  return (function (e, t, n, r) {
                    return (0, a.mG)(this, void 0, void 0, function* () {
                      if (!r) return;
                      const a = yield pe(e, t, n);
                      for (const [e, t] of a.mapApps) r.mapApps.set(e, t);
                      return Object.assign(Object.assign({}, a), {
                        mapApps: r.mapApps,
                      });
                    });
                  })(c, e, "changing", u[n].data);
                }),
              enabled: u[n].isSuccess && !u[n].isFetching,
              staletime: 1e4,
              select: p,
              refetchInterval: (e) => {
                if (!e) return 6e4;
                let t = !1;
                for (const n of e.mapApps.values())
                  if (n.num_downloading > 0 || n.uninstalling) {
                    t = !0;
                    break;
                  }
                const n = e.refetchIntervals;
                return 1e3 * (t ? n.updating : n.changing);
              },
              onError: m,
              retry: t,
            })),
          );
        return {
          rgQueries: f.map((e, t) =>
            u[t].isError && !u[t].isFetching ? u[t] : e,
          ),
          refetch: () => {
            for (const e of f) e.remove();
            for (const e of u) e.refetch();
          },
        };
      }
      function he(e, t) {
        return [ce, e, t];
      }
      function ve(e, t = !0) {
        const n = (0, oe.M)(),
          { rgQueries: a } = _e(void 0, t);
        return (0, o.useQuery)(
          he(n, e),
          () => {
            var t, n;
            const r = new Map();
            for (const o of a)
              if (o.isSuccess) {
                const a =
                    null === (t = o.data) || void 0 === t
                      ? void 0
                      : t.session.client_instanceid,
                  s = (
                    null === (n = o.data) || void 0 === n ? void 0 : n.mapApps
                  ).get(e);
                s &&
                  r.set(a, {
                    session: o.data.session,
                    app: s,
                    clientInfo: o.data.clientInfo,
                  });
              }
            return r;
          },
          {
            enabled: a.reduce((e, t) => e && t.isSuccess && !t.isFetching, !0),
            staleTime: 0,
            cacheTime: 0,
          },
        );
      }
      function ge(e, t, n, r) {
        const l = (0, i.bY)(),
          c = ve(e),
          d = (0, oe.M)(),
          m = (0, o.useQueryClient)();
        return (0, o.useMutation)(
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              var a;
              const r = null == c ? void 0 : c.data,
                o = r && r.get(t);
              if (
                (null === (a = null == o ? void 0 : o.clientInfo) ||
                void 0 === a
                  ? void 0
                  : a.clientcomm_version) >= 1
              ) {
                const e = s.gA.Init(se.BF);
                e.Body().set_client_instanceid(t), e.Body().set_enable(!n);
                const a = yield se.b5.EnableOrDisableDownloads(l, e);
                if (1 != a.GetEResult())
                  throw (
                    (console.error(
                      "Received error from EnableOrDisableDownloads",
                      a.GetEResult(),
                    ),
                    new Error(
                      `Error from EnableOrDisableDownloads: ${a.GetEResult()}`,
                    ))
                  );
              } else {
                const a = s.gA.Init(se.iH);
                a.Body().set_appid(e),
                  a.Body().set_client_instanceid(t),
                  a.Body().set_action(n ? 0 : 1);
                const r = yield se.b5.SetClientAppUpdateState(l, a);
                if (1 != r.GetEResult())
                  throw (
                    (console.error(
                      "Received error from SetClientAppUpdateState",
                      r.GetEResult(),
                    ),
                    new Error(
                      `Error from SetClientAppUpdateState: ${r.GetEResult()}`,
                    ))
                  );
              }
              o &&
                ((r.get(t).app.download_paused = n),
                (r.get(t).app.num_downloading = n ? 0 : 1)),
                m.setQueryData(he(d, e), r),
                c.refetch();
            }),
          { onSuccess: r },
        );
      }
      var Ee = n(27522),
        ye = n.n(Ee);
      const be = r.forwardRef(function (
        {
          imgURL: e,
          glow: t,
          pauseAnimation: n,
          hidden: a,
          alt: o,
          className: s,
        },
        i,
      ) {
        const [l, c] = r.useState(!1);
        if (a)
          return r.createElement("div", { className: ye().HiddenLabel }, "?");
        const d = l && t;
        return r.createElement(
          "div",
          {
            ref: i,
            className: (0, O.Z)(
              ye().AchievementIconWrapper,
              s,
              n && ye().RareAchievementNoAnimation,
            ),
          },
          d &&
            r.createElement(
              "div",
              { className: ye().RareAchievementIconGlowContainerRoot },
              r.createElement(
                "div",
                { className: ye().RareAchievementIconGlowContainer },
                r.createElement("div", {
                  className: ye().RareAchievementIconGlow,
                }),
              ),
            ),
          r.createElement("img", {
            className: (0, O.Z)(ye().Icon, d && ye().IconGlow),
            src: e,
            loading: "lazy",
            alt: o,
            onLoad: () => c(!0),
          }),
        );
      });
      var Ce = n(22042),
        Ge = n(10162),
        we = n(85305),
        Le = n(76478);
      function Re({ nPercent: e, indeterminate: t, animate: n, className: a }) {
        return r.createElement("div", {
          className: (0, O.Z)(
            Le.ProgressBar,
            n && Le.AnimateProgress,
            t && Le.Indeterminate,
            a,
          ),
          style: { "--percent": e / 100 },
        });
      }
      var Ae = n(54117);
      var Ne = n(89729),
        Se = n(19766),
        Be = n(50898),
        ke = n(90069),
        Pe = n(12251),
        Ie = n(24549),
        De = n(3980);
      const xe = r.createContext(void 0);
      function Te() {
        const e = (0, r.useContext)(xe);
        if (!e)
          throw new Error(
            "Attempted to get download client context outside of provider",
          );
        return e;
      }
      function Me() {
        const e = Te().remoteDownloadClientId,
          t = me(),
          n = _e();
        if (
          !h.De.IN_CLIENT &&
          t.data &&
          0 !== t.data.sessions.length &&
          n.rgQueries.some((e) => e.data)
        )
          return e
            ? t.data.sessions.find((t) => t.client_instanceid === e)
            : t.data.sessions[0];
      }
      function Ue({ children: e }) {
        const [t, n] = (0, r.useState)(void 0),
          a = (0, r.useMemo)(
            () => ({ remoteDownloadClientId: t, setRemoteDownloadClientId: n }),
            [t],
          );
        return r.createElement(xe.Provider, { value: a }, e);
      }
      function Oe(e) {
        switch (e) {
          case re.gg.k_EGamingDeviceType_StandardPC:
            return (0, F.Xx)("#Library_DeviceType_PC");
          case re.gg.k_EGamingDeviceType_SteamDeck:
            return (0, F.Xx)("#Library_DeviceType_SteamDeck");
          default:
            return;
        }
      }
      const Fe = {
        bFitToWindow: !0,
        bOverlapHorizontal: !0,
        bMatchWidth: !1,
        bShiftToFitWindow: !0,
      };
      function Xe({ sessions: e, setRemoteDownloadClientId: t }) {
        return r.createElement(
          "ul",
          { className: De.ClientListDropdownMenu },
          e.map((e) =>
            r.createElement(
              Ce.Zo,
              {
                onSelected: () => {
                  t(e.client_instanceid);
                },
                key: e.client_instanceid,
              },
              (0, F.Xx)(
                "#GamesList_Client_Indicator",
                Oe(e.device_type),
                e.machine_name,
              ),
            ),
          ),
        );
      }
      function He() {
        const e = me(),
          t = Me(),
          n = Te().setRemoteDownloadClientId,
          a = (0, r.useRef)(null),
          o = (0, r.useCallback)(() => {
            e.data &&
              (0, te.yV)(
                r.createElement(Xe, {
                  sessions: e.data.sessions,
                  setRemoteDownloadClientId: n,
                }),
                a.current,
                Fe,
              );
          }, [n, a, e.data]);
        return t
          ? r.createElement(
              "div",
              { className: De.RemoteDownloadClientBar },
              r.createElement(
                "span",
                { className: De.RemoteDownloadHeader },
                (0, F.kQ)(
                  "#GamesList_Header_RemoteDownload",
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(
                      "span",
                      { className: De.ClientIndicator },
                      (0, F.Xx)(
                        "#GamesList_Client_Indicator",
                        Oe(t.device_type),
                        t.machine_name,
                      ),
                      e.data.sessions.length > 1 &&
                        r.createElement(
                          "button",
                          {
                            ref: a,
                            onClick: o,
                            className: De.ClientSelectDropdown,
                          },
                          r.createElement(K, null),
                        ),
                    ),
                  ),
                ),
              ),
              r.createElement(
                U.HP,
                {
                  toolTipContent: (0, F.Xx)("#GamesList_RemoteDownload_Help"),
                  className: De.InfoIcon,
                },
                r.createElement(z, null),
              ),
            )
          : r.createElement(
              "details",
              {
                className: (0, O.Z)(
                  De.RemoteDownloadClientBar,
                  De.NoConnection,
                ),
              },
              r.createElement(
                "summary",
                { className: De.RemoteDownloadHeader },
                r.createElement(
                  "span",
                  { className: De.RemoteDownloadStatus },
                  (0, F.kQ)(
                    "#GamesList_Header_RemoteDownloadStatus",
                    r.createElement(
                      "span",
                      { className: De.NoConnectionText },
                      (0, F.Xx)("#GamesList_RemoteDownload_NoConnection"),
                    ),
                  ),
                ),
                r.createElement(
                  "span",
                  { className: De.LearnMoreCta },
                  (0, F.Xx)("#GamesList_RemoteDownload_LearnMore"),
                  r.createElement(K, null),
                ),
              ),
              r.createElement(
                "p",
                { className: De.RemoteDownloadHelp },
                (0, F.kQ)(
                  "#GamesList_RemoteDownload_Info",
                  (0, F.Xx)("#GamesList_RemoteDownload_Help"),
                  r.createElement(
                    "a",
                    {
                      href: "https://help.steampowered.com/faqs/view/1025-BD94-12FC-3409",
                    },
                    (0, F.Xx)("#GamesList_RemoteDownload_ReadTheFAQ"),
                  ),
                ),
              ),
            );
      }
      function $e({ app: e, clientid: t }) {
        const n = !e.download_paused,
          a = ge(e.appid, t, !0),
          o = ge(e.appid, t, !1),
          s = n ? "#GamesList_Header_Downloading" : "#GamesList_Header_Paused",
          i = n ? a : o,
          l = e.bytes_to_download
            ? Math.floor((100 * e.bytes_downloaded) / e.bytes_to_download)
            : 0,
          c = !(e.bytes_downloaded && e.bytes_to_download),
          d = n ? r.createElement($.dzL, null) : r.createElement(Y, null),
          m = n
            ? (0, F.Xx)("#GamesList_Button_Pause")
            : (0, F.Xx)("#GamesList_Button_Resume"),
          u = (0, r.useContext)(bn);
        return (
          (0, r.useEffect)(
            () => (
              null == u || u(e.appid, !0),
              () => (null == u ? void 0 : u(e.appid, !1))
            ),
            [e.appid, u],
          ),
          r.createElement(
            r.Fragment,
            null,
            r.createElement(
              "div",
              { className: De.DownloadBarWithLabel },
              r.createElement(
                "span",
                { className: De.DownloadStatus },
                (0, F.Xx)(s, l),
              ),
              r.createElement(
                "div",
                { className: De.DownloadProgress },
                r.createElement(
                  "span",
                  { className: De.CurrentSpace },
                  (0, Ie.l)(e.bytes_downloaded, {
                    nDigitsAfterDecimal: 1,
                    nMinimumDigitsAfterDecimal: 1,
                    bValueIsInBytes: !0,
                  }),
                ),
                r.createElement("span", null, " / "),
                r.createElement(
                  "span",
                  { className: De.TotalSpace },
                  (0, Ie.l)(e.bytes_to_download, {
                    nDigitsAfterDecimal: 1,
                    nMinimumDigitsAfterDecimal: 1,
                    bValueIsInBytes: !0,
                  }),
                ),
              ),
              e.BIsDownloading() &&
                e.estimated_seconds_remaining > 0 &&
                r.createElement(
                  "span",
                  { className: De.DownloadEstimate },
                  (0, Pe.jA)(e.estimated_seconds_remaining),
                ),
              r.createElement(Re, {
                className: De.DownloadBar,
                animate: n,
                nPercent: l,
                indeterminate: c,
              }),
            ),
            r.createElement(
              "button",
              {
                disabled: i.isLoading,
                onClick: () => {
                  i.mutateAsync(), _n(e.appid);
                },
                className: De.DownloadIconButton,
              },
              d,
              m,
            ),
          )
        );
      }
      function Ze({ app: e, clientid: t }) {
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "button",
            { disabled: !0, className: De.DownloadIconButton },
            r.createElement(V, null),
            (0, F.Xx)("#GamesList_Button_Uninstalling"),
          ),
        );
      }
      function Qe({ app: e, clientid: t }) {
        const n = (function (e, t, n) {
            const r = (0, i.bY)(),
              l = ve(e),
              c = (0, oe.M)(),
              d = (0, o.useQueryClient)();
            return (0, o.useMutation)(
              () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  const n = null == l ? void 0 : l.data,
                    a = n && n.get(t),
                    o = s.gA.Init(se.iH);
                  o.Body().set_appid(e),
                    o.Body().set_client_instanceid(t),
                    o.Body().set_action(1);
                  const i = yield se.b5.SetClientAppUpdateState(r, o);
                  if (1 != i.GetEResult())
                    throw (
                      (console.error(
                        "Received error from SetClientAppUpdateState",
                        i.GetEResult(),
                      ),
                      new Error(
                        `Error from SetClientAppUpdateState: ${i.GetEResult()}`,
                      ))
                    );
                  a &&
                    ((n.get(t).app.download_paused = !1),
                    (n.get(t).app.num_downloading = 1)),
                    d.setQueryData(he(c, e), n),
                    l.refetch();
                }),
              { onSuccess: n },
            );
          })(e.appid, t),
          l = e.rt_time_scheduled,
          c =
            l &&
            (0, F.jr)(l, { bGranularFutureTime: !0 }) +
              " " +
              (0, Pe.Sc)(l, { bForce24HourClock: !1 });
        return r.createElement(
          r.Fragment,
          null,
          c && r.createElement("span", { className: De.UpdateSchedule }, c),
          r.createElement(
            "button",
            {
              disabled: n.isLoading,
              onClick: () => {
                n.mutateAsync(), _n(e.appid);
              },
              className: De.DownloadIconButton,
            },
            r.createElement($.Lao, null),
            (0, F.Xx)("#GamesList_Button_UpdateRequired"),
          ),
        );
      }
      function je({ app: e, closeModal: t, onOK: n }) {
        return r.createElement(Be.uH, {
          strOKButtonText: (0, F.Xx)("#GamesList_Button_Uninstall"),
          strCancelButtonText: (0, F.Xx)("#GamesList_Button_Cancel"),
          strDescription: (0, F.Xx)(
            "#GamesList_RemoteDownload_UninstallConfirm",
            e.app,
          ),
          strTitle: (0, F.Xx)("#GamesList_Button_Uninstall"),
          closeModal: t,
          onOK: n,
        });
      }
      function qe({ app: e, clientid: t }) {
        const n = (function (e, t, n) {
            const r = (0, i.bY)(),
              l = ve(e),
              c = (0, oe.M)(),
              d = (0, o.useQueryClient)();
            return (0, o.useMutation)(
              () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  const n = s.gA.Init(se.fF);
                  n.Body().set_appid(e), n.Body().set_client_instanceid(t);
                  const a = yield se.b5.InstallClientApp(r, n);
                  if (1 != a.GetEResult())
                    throw (
                      (console.error(
                        "Received error from InstallClientApp",
                        a.GetEResult(),
                      ),
                      new Error(
                        `Error from InstallClientApp: ${a.GetEResult()}`,
                      ))
                    );
                  const o = null == l ? void 0 : l.data;
                  o &&
                    o.get(t) &&
                    ((o.get(t).app.num_downloading = 1),
                    (o.get(t).app.download_paused = !1)),
                    d.setQueryData(he(c, e), o),
                    l.refetch();
                }),
              { onSuccess: n },
            );
          })(e.appid, t),
          l = (function (e, t, n) {
            const r = (0, i.bY)(),
              l = ve(e),
              c = (0, oe.M)(),
              d = (0, o.useQueryClient)();
            return (0, o.useMutation)(
              () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  const n = s.gA.Init(se.Zu);
                  n.Body().set_appid(e), n.Body().set_client_instanceid(t);
                  const a = yield se.b5.UninstallClientApp(r, n);
                  if (1 != a.GetEResult())
                    throw (
                      (console.error(
                        "Received error from UninstallClientApp",
                        a.GetEResult(),
                      ),
                      new Error(
                        `Error from UninstallClientApp: ${a.GetEResult()}`,
                      ))
                    );
                  const o = null == l ? void 0 : l.data;
                  o && o.get(t) && (o.get(t).app.uninstalling = !0),
                    d.setQueryData(he(c, e), o),
                    l.refetch();
                }),
              { onSuccess: n },
            );
          })(e.appid, t),
          c = e.installed ? l : n,
          d = e.installed
            ? () => {
                (0, ke.AM)(
                  r.createElement(je, {
                    app: e,
                    onOK: () => {
                      l.mutateAsync(), _n(e.appid);
                    },
                  }),
                  window,
                );
              }
            : () => {
                n.mutateAsync(), _n(e.appid);
              },
          m = e.installed
            ? "#GamesList_Button_Uninstall"
            : "#GamesList_Button_Download",
          u = e.installed ? V : Y;
        return r.createElement(
          r.Fragment,
          null,
          !e.installed &&
            e.bytes_required > 0 &&
            r.createElement(
              "span",
              { className: De.DownloadSize },
              (0, Ie.l)(e.bytes_required, { nDigitsAfterDecimal: 1 }),
            ),
          r.createElement(
            "button",
            {
              disabled: c.isLoading,
              onClick: d,
              className: De.DownloadIconButton,
            },
            r.createElement(u, null),
            (0, F.Xx)(m),
          ),
        );
      }
      function We(e) {
        return e.BIsDownloading() || e.BIsPaused() || e.changing;
      }
      function Ye({ game: e }) {
        var t;
        const n = ve(e.appid, !1),
          a = Me(),
          o = null == a ? void 0 : a.client_instanceid;
        if (
          a &&
          0 === (null === (t = n.data) || void 0 === t ? void 0 : t.size)
        )
          return null;
        if (!n.data || 0 === n.data.size || !a) return null;
        const s = n.data.get(o).app;
        return s.BIsDownloading() || s.BIsPaused()
          ? r.createElement(
              "div",
              { className: De.DownloadBarContainer },
              r.createElement($e, { key: "downloading", app: s, clientid: o }),
            )
          : null;
      }
      function Ve({ game: e, className: t, enableDownloadBar: n = !1 }) {
        var a;
        const o = ve(e.appid, !1),
          s = Me(),
          i = null == s ? void 0 : s.client_instanceid;
        if (
          s &&
          0 === (null === (a = o.data) || void 0 === a ? void 0 : a.size)
        )
          return r.createElement(
            "div",
            { className: (0, O.Z)(De.RemoteControls, t) },
            r.createElement(
              "span",
              { className: De.NoRemoteControl },
              (0, F.Xx)("#GamesList_RemoteDownload_NoRemoteControl"),
            ),
          );
        if (!o.data || 0 === o.data.size || !s) return null;
        const l = [],
          c = o.data.get(i),
          d = null == c ? void 0 : c.app;
        if (!d) return null;
        if (d.BIsDownloading() || d.BIsPaused()) {
          if (!n) return null;
          l.push(
            r.createElement($e, { key: "downloading", app: d, clientid: i }),
          );
        } else
          d.uninstalling
            ? l.push(
                r.createElement(Ze, {
                  key: "uninstalling",
                  app: d,
                  clientid: i,
                }),
              )
            : d.BHasPendingUpdate()
            ? l.push(
                r.createElement(Qe, {
                  key: "updatePending",
                  app: d,
                  clientid: i,
                }),
              )
            : l.push(
                r.createElement(qe, {
                  key: "installuninstall",
                  app: d,
                  clientid: i,
                }),
              );
        return r.createElement(
          "div",
          { className: (0, O.Z)(De.RemoteControls, t) },
          r.createElement("div", { className: De.ButtonContainer }, l),
        );
      }
      function ze(e) {
        var { visible: t } = e,
          n = (0, a._T)(e, ["visible"]);
        return t ? r.createElement(Ye, Object.assign({}, n)) : null;
      }
      function Ke(e) {
        var { visible: t, className: n } = e,
          o = (0, a._T)(e, ["visible", "className"]);
        return Me()
          ? t
            ? r.createElement(Ve, Object.assign({ className: n }, o))
            : r.createElement("div", {
                className: (0, O.Z)(De.RemoteControls, n),
              })
          : null;
      }
      var Je;
      !(function (e) {
        (e.HoursPlayed = "playtime"),
          (e.RecentlyPlayed = "recent"),
          (e.Name = "name"),
          (e.AchievementCompletion = "achievements");
      })(Je || (Je = {}));
      const et = (0, re.dt)((0, re.jM)(h.De.LANGUAGE)),
        tt = new Intl.Collator([et, "en"]);
      function nt(e, t) {
        return (
          tt.compare(
            (e.sort_as || e.name || "").trim(),
            (t.sort_as || t.name || "").trim(),
          ) ||
          (function (e, t) {
            return e.appid - t.appid;
          })(e, t)
        );
      }
      function at(e, t, n) {
        var a, r;
        const o =
            null !== (a = n.find((t) => t.appid === e.appid)) && void 0 !== a
              ? a
              : { unlocked: 0, total: 0 },
          s =
            null !== (r = n.find((e) => e.appid === t.appid)) && void 0 !== r
              ? r
              : { unlocked: 0, total: 0 };
        return (
          s.unlocked / (s.total || 1) - o.unlocked / (o.total || 1) ||
          (function (e, t, n) {
            var a, r;
            const o =
              null !== (a = n.find((t) => t.appid === e.appid)) && void 0 !== a
                ? a
                : { unlocked: 0, total: 0 };
            return (
              (null !== (r = n.find((e) => e.appid === t.appid)) && void 0 !== r
                ? r
                : { unlocked: 0, total: 0 }
              ).total - o.total || nt(e, t)
            );
          })(e, t, n)
        );
      }
      function rt(e, t) {
        const n = A(G()),
          a = (0, r.useCallback)(
            (e, a) => {
              switch (t) {
                case Je.HoursPlayed:
                  return (
                    (r = e),
                    (null !== (s = (o = a).playtime_forever) && void 0 !== s
                      ? s
                      : 0) -
                      (null !== (i = r.playtime_forever) && void 0 !== i
                        ? i
                        : 0) || nt(r, o)
                  );
                case Je.RecentlyPlayed:
                  return (function (e, t) {
                    return (
                      t.rtime_last_played - e.rtime_last_played || nt(e, t)
                    );
                  })(e, a);
                case Je.AchievementCompletion:
                  if (n.data) return at(e, a, n.data);
                default:
                case Je.Name:
                  return nt(e, a);
              }
              var r, o, s, i;
            },
            [t, n.data],
          );
        return (0, r.useMemo)(
          () => ({
            data: e.data && [...e.data].sort(a),
            isLoading:
              e.isLoading || (t === Je.AchievementCompletion && n.isLoading),
            error: e.error,
          }),
          [a, e.data, e.isLoading, e.error, n.isLoading, t],
        );
      }
      var ot,
        st = n(54129);
      function it(e) {
        var t;
        if (e.isLoading) return "";
        const n = null === (t = e.data) || void 0 === t ? void 0 : t.length;
        return void 0 === n ? "" : `(${n})`;
      }
      function lt(e, t, n, a) {
        const o = w(),
          s = y.Get().GetReviewCount(),
          i = y.Get().GetFollowedCount();
        return (0, r.useMemo)(() => {
          const r = [];
          return (
            r.push({
              tab: ot.RecentlyPlayed,
              label: (0, F.Xx)("#GamesList_Tab_RecentlyPlayed", it(n)),
            }),
            r.push({
              tab: ot.All,
              label: (0, F.Xx)("#GamesList_Tab_AllGames", it(t)),
            }),
            (o ||
              e === ot.Perfect ||
              a.isLoading ||
              (a.data && a.data.length > 0)) &&
              r.push({
                tab: ot.Perfect,
                label: (0, F.Xx)("#GamesList_Tab_PerfectGames", it(a)),
              }),
            r.push(
              {
                tab: ot.Followed,
                href: `${v._.ProfileURL}followedgames`,
                label: (0, F.Xx)(
                  "#GamesList_Tab_Followed",
                  i > 0 ? `(${i})` : "",
                ),
              },
              {
                tab: ot.Reviews,
                href: `${v._.ProfileURL}reviews`,
                label: (0, F.Xx)(
                  "#GamesList_Tab_Reviews",
                  s > 0 ? `(${s})` : "",
                ),
              },
              {
                tab: ot.Wishlist,
                href: `${v._.ProfileURL}wishlist`,
                label: (0, F.Xx)("#GamesList_Tab_Wishlist"),
                className: st.WishlistTab,
              },
            ),
            r
          );
        }, [e, t, n, a, s, i, o]);
      }
      function ct({ tabs: e, strTab: t, setStrTab: n }) {
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            {
              className: (0, O.Z)(
                "sectionTabs item responsive_hidden",
                st.tabList,
              ),
            },
            e.map((e) =>
              e.href
                ? r.createElement(
                    "a",
                    {
                      className: (0, O.Z)("sectionTab", e.className),
                      href: e.href,
                      key: e.label,
                    },
                    r.createElement("span", null, e.label),
                  )
                : r.createElement(
                    "a",
                    {
                      className: (0, O.Z)(
                        "sectionTab",
                        e.tab === t && "active",
                        e.className,
                      ),
                      key: e.tab,
                      href: `${v._.ProfileURL}games/?tab=${e.tab}`,
                      onClick: (t) => {
                        t.preventDefault(), n(e.tab);
                      },
                    },
                    r.createElement("span", null, e.label),
                  ),
            ),
          ),
          r.createElement(
            "div",
            {
              className: (0, O.Z)(
                "nonresponsive_hidden responsive_tab_ctn sharedfiles_responsive_tab",
                st.SelectBaseline,
              ),
            },
            r.createElement(
              "div",
              { className: "responsive_tab_control" },
              r.createElement(
                "select",
                {
                  value: t,
                  onChange: (t) => {
                    const a = e.find((e) => e.tab === t.target.value);
                    a &&
                      (t.preventDefault(),
                      a.href ? (location.href = a.href) : n(a.tab));
                  },
                },
                e.map((e) =>
                  e.href
                    ? r.createElement(
                        "option",
                        { value: e.tab, key: e.label },
                        e.label,
                      )
                    : r.createElement(
                        "option",
                        { value: e.tab, key: e.tab },
                        e.label,
                      ),
                ),
              ),
            ),
          ),
          r.createElement("div", {
            id: "tabs_baseline",
            className: (0, O.Z)("responsive_tab_baseline", st.TabBaseline),
          }),
        );
      }
      !(function (e) {
        (e.All = "all"),
          (e.RecentlyPlayed = "recent"),
          (e.Perfect = "perfect"),
          (e.Followed = "followed"),
          (e.Reviews = "reviews"),
          (e.Wishlist = "wishlist");
      })(ot || (ot = {}));
      const dt =
        n.p +
        "images/applications/community/defaultappheader.png?v=valveisgoodatcaching";
      var mt = n(75545),
        ut = n(65255),
        pt = n(41003);
      function ft() {
        const e = (0, i.bY)();
        return (0, o.useQuery)(
          ["AccountPrivateApps"],
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              const t = s.gA.Init(mt.XR),
                n = yield mt.kk.GetPrivateAppList(e, t);
              return new Set(n.Body().private_apps(!0).appids());
            }),
          { enabled: !!ut.L7.accountid },
        );
      }
      function _t() {
        const e = (function () {
            const { data: e } = ft();
            return e ? e.size > 0 : void 0;
          })(),
          { data: t } = (0, o.useQuery)(
            ["ClientPrivateAppsEnabled"],
            () =>
              (0, a.mG)(this, void 0, void 0, function* () {
                return ut.De.IN_STEAMUI
                  ? yield SteamClient.Apps.ArePrivateAppsEnabled()
                  : (0, pt.M4)();
              }),
            { staleTime: 3e4 },
          );
        return e || !0 === t || !1;
      }
      function ht(e) {
        const { data: t } = ft();
        return !!ut.L7.accountid && !!e && (t ? t.has(e) : void 0);
      }
      function vt(e) {
        e.invalidateQueries(["AccountPrivateApps"]);
      }
      function gt(e) {
        const t = (0, i.bY)(),
          n = (0, o.useQueryClient)();
        return (0, o.useMutation)({
          mutationFn: (n) =>
            (0, a.mG)(this, void 0, void 0, function* () {
              return Et(t, [e], n);
            }),
          onSuccess: (t, a) => yt(n, [e], a),
          onError() {
            vt(n);
          },
        });
      }
      function Et(e, t, n) {
        return (0, a.mG)(this, void 0, void 0, function* () {
          const a = s.gA.Init(mt._c);
          a.Body().set_appids(t.slice()), a.Body().set_private(n);
          const r = yield mt.kk.ToggleAppPrivacy(e, a);
          if (!r.BSuccess()) throw r.GetErrorMessage();
        });
      }
      function yt(e, t, n) {
        e.setQueryData(["AccountPrivateApps"], (e) => {
          if (!e) return;
          const a = new Set(e);
          return (
            t.forEach((e) => {
              n ? a.add(e) : a.delete(e);
            }),
            a
          );
        });
      }
      const bt = parseInt(Ne.GameHeight),
        Ct = parseInt(Ne.GamePadding),
        Gt = parseInt(Ne.RemoteControlsHeight),
        wt = bt + Ct;
      function Lt() {
        return (function (e) {
          const t = (0, r.useMemo)(() => matchMedia(e), [e]),
            [n, a] = (0, r.useState)(t.matches);
          return (
            (0, r.useEffect)(() => {
              function e(e) {
                a(e.matches);
              }
              return (
                t.addEventListener("change", e),
                () => t.removeEventListener("change", e)
              );
            }, [t]),
            n
          );
        })(`(max-width: ${Ne.MobileBreakpoint})`);
      }
      function Rt(e) {
        const t = S(e.appid),
          n = (function (e) {
            const t = (0, i.bY)(),
              n = y.Get();
            return (0, o.useQuery)(["FriendsWhoPlayCount", e], () =>
              n.GetFriendsWhoPlayCount(t, e),
            );
          })(e.appid),
          a = (function (e) {
            const t = y.Get(),
              n = t.GetProfileSteamId();
            return (0, o.useQuery)(["TradingCardsCount", n, e], () =>
              t.GetTradingCardsCount(n, e),
            );
          })(e.appid);
        return (0, r.useMemo)(() => {
          const r = [];
          return (
            r.push({
              href: `${h.De.COMMUNITY_BASE_URL}app/${e.appid}`,
              label: (0, F.Xx)("#Community_GameHubMenuItem"),
              key: "gamehub",
            }),
            void 0 !== t.data &&
              r.push({
                href: `${v._.ProfileURL}screenshots/?appid=${e.appid}`,
                label: (0, F.Xx)(
                  "#Community_ScreenshotsMenuItemFirstPerson",
                  t.data > 0 ? `(${t.data})` : "",
                ),
                key: "screenshots",
              }),
            void 0 !== n.data &&
              r.push({
                href: `${v._.ProfileURL}friendsthatplay/${e.appid}`,
                label: (0, F.Xx)(
                  "#Community_FriendsWhoPlayMenuItemFirstPerson",
                  n.data > 0 ? `(${n.data})` : "",
                ),
                key: "friendswhoplay",
              }),
            void 0 !== a.data &&
              r.push({
                href: `${v._.ProfileURL}gamecards/${e.appid}`,
                label: (0, F.Xx)(
                  "#Community_TradingCardsMenuItemFirstPerson",
                  `(${a.data.owned}/${a.data.total})`,
                ),
                key: "tradingcards",
              }),
            r.push({
              href: `${v._.ProfileURL}recommended/${e.appid}`,
              label: (0, F.Xx)("#Community_ReviewMenuItemFirstPerson"),
              key: "review",
            }),
            {
              rgLinks: r,
              bIsLoading: t.isLoading || n.isLoading || a.isLoading,
            }
          );
        }, [e, t.data, t.isLoading, n.data, n.isLoading, a.data, a.isLoading]);
      }
      function At(e) {
        const t = C(),
          n = S(e.appid),
          a = (function (e) {
            const t = (0, i.bY)(),
              n = y.Get(),
              a = n.GetProfileSteamId();
            return (0, o.useQuery)(
              ["UserIndividualRecommendations", a, e],
              () => n.GetIndividualHasRecommendations(a, t, e),
            );
          })(e.appid);
        return (0, r.useMemo)(() => {
          const r = [];
          return (
            r.push({
              href: `${h.De.COMMUNITY_BASE_URL}app/${e.appid}`,
              label: (0, F.Xx)("#Community_GameHubMenuItem"),
              key: "gamehub",
            }),
            n.data &&
              n.data > 0 &&
              r.push({
                href: `${v._.ProfileURL}screenshots/?appid=${e.appid}`,
                label: (0, F.Xx)(
                  "#Community_ScreenshotsMenuItemThirdPerson",
                  t,
                  n.data > 0 ? `(${n.data})` : "",
                ),
                key: "screenshots",
              }),
            a.data &&
              r.push({
                href: `${v._.ProfileURL}recommended/${e.appid}`,
                label: (0, F.Xx)("#Community_ReviewMenuItemThirdPerson", t),
                key: "review",
              }),
            { rgLinks: r, bIsLoading: n.isLoading }
          );
        }, [e, t, n.data, n.isLoading, a.data]);
      }
      function Nt(e) {
        return w() ? Rt(e) : At(e);
      }
      function St(e) {
        const t = C(),
          n = (function (e) {
            return y.Get().GetGCPDGames().includes(e.appid);
          })(e),
          a = w();
        return (0, r.useMemo)(() => {
          const r = [];
          return (
            e.has_community_visible_stats &&
              (r.push({
                href: `${v._.ProfileURL}stats/${e.appid}/?tab=achievements`,
                label: a
                  ? (0, F.Xx)("#Community_UsersAchievementsFirstPerson")
                  : (0, F.Xx)("#Community_UsersAchievements", t),
                key: "achievements",
              }),
              r.push({
                href: `${h.De.COMMUNITY_BASE_URL}stats/${e.appid}/achievements/`,
                label: (0, F.Xx)("#Community_GlobalAchievements"),
                key: "global_achievements",
              })),
            e.has_leaderboards &&
              (r.push({
                href: `${v._.ProfileURL}stats/${e.appid}/?tab=leaderboards`,
                label: a
                  ? (0, F.Xx)("#Community_UsersLeaderboardsFirstPerson")
                  : (0, F.Xx)("#Community_UsersLeaderboards", t),
                key: "leaderboards",
              }),
              r.push({
                href: `${h.De.COMMUNITY_BASE_URL}stats/${e.appid}/leaderboards/`,
                label: (0, F.Xx)("#Community_GlobalLeaderboards"),
                key: "global_leaderboards",
              })),
            a &&
              n &&
              r.push({
                href: `${v._.ProfileURL}gcpd/${e.appid}/`,
                label: (0, F.Xx)("#Community_GamePersonalData", t),
                key: "gcpd",
              }),
            r
          );
        }, [t, e, n, a]);
      }
      function Bt(e) {
        const t = w(),
          n = ht(e.appid),
          a = _t() && t,
          { mutate: o } = gt(e.appid);
        return (0, r.useMemo)(() => {
          const t = [];
          return (
            t.push({
              href: `${h.De.STORE_BASE_URL}app/${e.appid}`,
              label: (0, F.Xx)("#Community_StorePage"),
              key: "store",
            }),
            (0, ee.e7)(h.De.EREALM) ||
              t.push(
                {
                  href: `${h.De.IN_CLIENT ? "steam://openurl_external/" : ""}${
                    h.De.STORE_BASE_URL
                  }forum/${e.appid}`,
                  label: (0, F.Xx)("#Community_Forums"),
                  key: "forums",
                },
                {
                  href: `${
                    h.De.COMMUNITY_BASE_URL
                  }search/groups/?text=${encodeURIComponent(e.name)}`,
                  label: (0, F.Xx)("#Community_Groups"),
                  key: "groups",
                },
                {
                  href: `${h.De.IN_CLIENT ? "steam://openurl_external/" : ""}${
                    h.De.STORE_BASE_URL
                  }appofficialsite/${e.appid}`,
                  label: (0, F.Xx)("#Community_OfficialWebsite"),
                  key: "website",
                },
                {
                  href: `${h.De.STORE_BASE_URL}news/?appids=${e.appid}`,
                  label: (0, F.Xx)("#Community_News"),
                  key: "news",
                },
              ),
            a &&
              (n
                ? t.push({
                    action: () => o(!1),
                    label: (0, F.Xx)("#AppPrivacy_UnmarkAsPrivate"),
                    key: "appprivacy",
                  })
                : t.push({
                    action: () => o(!0),
                    label: (0, F.Xx)("#AppPrivacy_MarkAsPrivate"),
                    key: "appprivacy",
                    tooltip: (0, F.Xx)("#AppPrivacy_Explanation"),
                  })),
            t
          );
        }, [e, a, n, o]);
      }
      const kt = r.forwardRef(
        ({ achievement: e, appid: t, className: n }, a) => {
          const o = parseFloat(e.player_percent_unlocked) < 10,
            s = `${h.De.MEDIA_CDN_COMMUNITY_URL}images/apps/${t}/${e.icon}`;
          return r.createElement(be, {
            ref: a,
            className: (0, O.Z)(
              Se.AchievementIcon,
              Se.RareAchievementIconWrapper,
              n,
            ),
            glow: o,
            imgURL: s,
          });
        },
      );
      function Pt({ appid: e, achievement: t }) {
        const n = `${h.De.MEDIA_CDN_COMMUNITY_URL}images/apps/${e}/${t.icon}`,
          a = parseFloat(t.player_percent_unlocked) < 10;
        return r.createElement(
          "div",
          { className: Se.AchievementHover },
          r.createElement(
            "div",
            { className: Se.Background },
            r.createElement("img", { className: Se.Blur, src: n }),
          ),
          r.createElement(
            "div",
            { className: Se.TopSection },
            r.createElement(kt, { appid: e, achievement: t }),
            r.createElement(
              "div",
              { className: Se.TextSection },
              r.createElement("div", { className: Se.Name }, t.name),
              r.createElement("div", { className: Se.Desc }, t.desc),
            ),
          ),
          t.player_percent_unlocked &&
            r.createElement(
              "div",
              { className: Se.Unlocked },
              r.createElement(
                "span",
                { className: (0, O.Z)(a && Se.RareLabel) },
                (0, F.Xx)(
                  "#GamesList_Achievement_Unlock_Percentage",
                  t.player_percent_unlocked,
                ),
              ),
            ),
        );
      }
      const It = {
          direction: "top",
          bEnablePointerEvents: !1,
          style: { width: void 0, height: void 0, minHeight: void 0 },
        },
        Dt = r.forwardRef(({ appid: e, achievement: t }, n) =>
          r.createElement(
            we.tl,
            {
              hoverContent: r.createElement(Pt, { appid: e, achievement: t }),
              hoverProps: It,
            },
            r.createElement(kt, { ref: n, achievement: t, appid: e }),
          ),
        );
      function xt(e) {
        var {
            children: t,
            remainderRenderer: n,
            totalItemOverride: o,
            itemPadding: s = 0,
          } = e,
          i = (0, a._T)(e, [
            "children",
            "remainderRenderer",
            "totalItemOverride",
            "itemPadding",
          ]);
        const [l, ...c] = t,
          d = (0, k.yU)((e) => {
            _(e.contentRect.width);
          }),
          m = (0, k.yU)((e) => {
            p(e.contentRect.width);
          }),
          [u, p] = (0, r.useState)(0),
          [f, _] = (0, r.useState)(0),
          h = null != o ? o : t.length;
        let v = t.length;
        if (f && u) {
          let e = 1,
            n = f;
          for (; n < u; ) (n += s), n + f <= u && ((n += f), e++);
          e < h && (v = Math.max(0, Math.min(t.length, e - 1)));
        }
        return r.createElement(
          "div",
          Object.assign({ ref: m }, i, {
            style: 0 === u || 0 === f ? { opacity: 0 } : void 0,
          }),
          v > 0 && r.cloneElement(l, { ref: d }),
          v > 1 && c.slice(0, v - 1),
          v < h && n(h - v),
        );
      }
      function Tt({ game: e, visible: t, totalUnlocked: n }) {
        var a, o;
        const s = (function (e, t) {
            const n = (0, i.bY)(),
              a = y.Get(),
              r = a.GetProfileSteamId();
            return f({
              batchKey: ["TopAchievements", r, h.De.LANGUAGE],
              queryKey: [e.appid],
              queryFn: (e) => a.FetchTopAchievementsBatch(n, r, e),
              requestMatcher: (e, t) => e.appid === t.appid,
              batchDuration: 100,
              request: e,
              enabled: t,
            });
          })(e, t),
          l = `${v._.ProfileURL}stats/${e.appid}/?tab=achievements`;
        return (null ===
          (o =
            null === (a = s.data) || void 0 === a ? void 0 : a.achievements) ||
        void 0 === o
          ? void 0
          : o.length) > 0
          ? r.createElement(
              xt,
              {
                className: Se.AchievementIcons,
                totalItemOverride: n,
                itemPadding: 8,
                remainderRenderer: (e) =>
                  r.createElement(
                    "a",
                    { href: l, className: Se.Remainder },
                    "+",
                    e,
                  ),
              },
              s.data.achievements.map((t) =>
                r.createElement(Dt, {
                  appid: e.appid,
                  achievement: t,
                  key: `${t.statid}${t.bit}`,
                }),
              ),
            )
          : null;
      }
      function Mt({ game: e, visible: t, showTop: n }) {
        const a = N(e, t).data;
        if (!a) return null;
        if (0 === a.total) return null;
        const o = Math.floor((a.unlocked / a.total) * 100),
          s = (0, F.Xx)("#GamesList_Header_Achievements"),
          i = (0, F.Xx)("#GamesList_Achievement_Fraction", a.unlocked, a.total),
          l = `${v._.ProfileURL}stats/${e.appid}/?tab=achievements`;
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            { className: Se.AchievementsProgress },
            r.createElement(
              "a",
              { className: Se.AchievementsProgressLabel, href: l },
              s,
            ),
            r.createElement("span", { className: Se.AchievementsFraction }, i),
            r.createElement(Re, {
              className: Se.AchievementsProgressBar,
              animate: !1,
              nPercent: o,
            }),
          ),
          n &&
            r.createElement(Tt, {
              game: e,
              visible: t,
              totalUnlocked: a.unlocked,
            }),
        );
      }
      function Ut({ game: e, visible: t }) {
        const n = N(e, t).data;
        return n && t && n.total && n.unlocked === n.total
          ? r.createElement(
              "div",
              { title: (0, F.Xx)("#Perfect_Game_Description") },
              r.createElement($.Gue, {
                fullcolor: !0,
                className: Se.PerfectRibbon,
              }),
            )
          : null;
      }
      const Ot = () => {};
      function Ft({ links: e }) {
        return r.createElement(
          Ce.xV,
          { className: Se.NavDropdownMenu },
          e.map((e) =>
            r.createElement(
              Ce.Zo,
              { onSelected: "action" in e ? () => e.action() : Ot, key: e.key },
              r.createElement(tn, { link: e }),
            ),
          ),
        );
      }
      function Xt({ game: e }) {
        const t = Nt(e);
        return t.bIsLoading
          ? r.createElement(
              Ce.xV,
              { className: Se.NavDropdownMenu },
              r.createElement(M.V, { size: "small", position: "center" }),
            )
          : r.createElement(Ft, { links: t.rgLinks });
      }
      const Ht = {
        bFitToWindow: !0,
        bOverlapHorizontal: !0,
        bMatchWidth: !1,
        bShiftToFitWindow: !0,
      };
      function $t({ links: e, children: t, className: n }) {
        const a = (0, r.useRef)(null),
          o = (0, r.useCallback)(() => {
            (0, te.yV)(r.createElement(Ft, { links: e }), a.current, Ht);
          }, [a, e]);
        return r.createElement(
          I.s,
          {
            className: (0, O.Z)(Se.NavButton, n),
            onActivate: o,
            ref: a,
            focusable: !0,
          },
          t,
        );
      }
      function Zt({ links: e, label: t, className: n, onClick: a }) {
        return r.createElement(x.gB, {
          rgOptions: e.map((e) => ({ label: e.label, data: e })),
          onMenuOpened: a,
          onChange: (e) => {
            "href" in e.data ? (location.href = e.data.href) : e.data.action();
          },
          strDefaultLabel: t,
          strClassName: (0, O.Z)(Se.GamepadNavigationDropdown, n),
          strDropDownButtonClassName: Se.GamepadNavigationDropdownButton,
          highlightOnFocus: !0,
        });
      }
      function Qt({ game: e, setLinkData: t }) {
        const n = Nt(e);
        return (
          (0, r.useEffect)(() => {
            t(n.rgLinks);
          }, [t, n.rgLinks]),
          null
        );
      }
      function jt({ game: e }) {
        const t = w(),
          n = (0, F.Xx)(
            t ? "#Community_GameContentFirstPerson" : "#Community_GameContent",
          ),
          [a, o] = (0, r.useState)([]),
          [s, i] = (0, r.useState)(!1);
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(Zt, { links: a, label: n, onClick: () => i(!0) }),
          s && r.createElement(Qt, { game: e, setLinkData: o }),
        );
      }
      function qt(e) {
        const { game: t, children: n } = e,
          a = w();
        return r.createElement(
          "div",
          { className: Se.GameLinks },
          a && r.createElement(Wt, { game: t }),
          n,
        );
      }
      function Wt(e) {
        const { game: t } = e,
          n = ht(t.appid),
          a = gt(t.appid);
        return !0 !== n
          ? null
          : r.createElement(
              I.s,
              {
                className: (0, O.Z)(
                  Se.AppPrivateIndicator,
                  Se.GameLinksButton,
                  Se.NavButton,
                ),
                onActivate: () => a.mutate(!1),
              },
              r.createElement(H.dQJ, null),
            );
      }
      function Yt({ game: e }) {
        const t = Bt(e);
        return (0, h.id)()
          ? r.createElement(Zt, {
              links: t,
              label: (0, F.Xx)("#Community_GameLinks"),
            })
          : r.createElement(
              $t,
              { links: t, className: Se.GameLinksButton },
              r.createElement(H.bbz, null),
            );
      }
      function Vt({ game: e }) {
        const t = St(e),
          n = w(),
          a = (0, h.id)();
        if (0 === t.length) return null;
        const o = (0, F.Xx)(
          n ? "#Community_GameStatsFirstPerson" : "#Community_GameStats",
        );
        return a
          ? r.createElement(Zt, { links: t, label: o })
          : r.createElement(
              $t,
              { links: t, className: Se.StatLinks },
              r.createElement("span", null, " ", o, " "),
              r.createElement(K, null),
            );
      }
      function zt({ game: e }) {
        const t = (0, r.useRef)(null),
          n = (0, i.P9)(),
          a = (0, r.useCallback)(() => {
            (0, te.yV)(
              r.createElement(
                i.Ub,
                {
                  useActiveSteamInterface: n.useActiveSteamInterface,
                  useStorage: n.useStorage,
                },
                r.createElement(Xt, { game: e }),
              ),
              t.current,
              Ht,
            );
          }, [t, e, n]),
          o = w(),
          s = (0, h.id)(),
          l = (0, F.Xx)(
            o ? "#Community_GameContentFirstPerson" : "#Community_GameContent",
          );
        return s
          ? r.createElement(jt, { game: e })
          : r.createElement(
              I.s,
              {
                className: (0, O.Z)(Se.NavButton, Se.ContentLinks),
                onActivate: a,
                ref: t,
              },
              r.createElement("span", null, " ", l, " "),
              r.createElement(K, null),
            );
      }
      function Kt({ label: e, children: t }) {
        return r.createElement(
          "details",
          { className: Se.BottomSheetSection },
          r.createElement("summary", null, e, r.createElement(K, null)),
          r.createElement("div", { className: Se.SectionContent }, t),
        );
      }
      function Jt({ game: e }) {
        const t = St(e);
        return 0 === t.length
          ? null
          : r.createElement(
              Kt,
              { label: (0, F.Xx)("#Community_GameStats") },
              t.map((e) =>
                r.createElement(tn, {
                  key: e.key,
                  link: e,
                  className: Se.BottomSheetLink,
                }),
              ),
            );
      }
      function en({ game: e }) {
        const t = Nt(e);
        return 0 === t.rgLinks.length
          ? null
          : r.createElement(
              Kt,
              { label: (0, F.Xx)("#Community_GameContent") },
              t.rgLinks.map((e) =>
                r.createElement(tn, {
                  key: e.key,
                  link: e,
                  className: Se.BottomSheetLink,
                }),
              ),
            );
      }
      function tn(e) {
        const { link: t, className: n } = e;
        let a;
        return (
          (a =
            "href" in t
              ? r.createElement("a", { className: n, href: t.href }, t.label)
              : r.createElement(
                  "span",
                  { className: n, onClick: () => t.action },
                  t.label,
                )),
          t.tooltip &&
            (a = r.createElement(U.HP, { toolTipContent: t.tooltip }, a)),
          a
        );
      }
      function nn({ game: e }) {
        const t = Bt(e);
        return 0 === t.length
          ? null
          : r.createElement(
              Kt,
              { label: (0, F.Xx)("#GamesList_MenuLabel_GameInfo") },
              t.map((e) =>
                r.createElement(tn, {
                  key: e.key,
                  link: e,
                  className: Se.BottomSheetLink,
                }),
              ),
            );
      }
      function an({ game: e }) {
        const t = w(),
          n = (function () {
            const e = Me();
            return e
              ? (0, F.Xx)(
                  "#GamesList_Client_Indicator",
                  Oe(e.device_type),
                  e.machine_name,
                )
              : null;
          })();
        return t && n
          ? r.createElement(
              Kt,
              { label: (0, F.Xx)("#GamesList_MenuLabel_RemoteDownload") },
              r.createElement("span", { className: Se.ClientName }, n),
              r.createElement(Ke, {
                game: e,
                className: Se.BottomSheetRemoteControls,
                visible: !0,
                enableDownloadBar: !0,
              }),
            )
          : null;
      }
      function rn({ tab: e }) {
        const t = mn().openGame,
          n = dn(),
          a = (0, r.useRef)(null);
        (0, r.useEffect)(() => {
          var e;
          a.current &&
            (null === (e = a.current.querySelector("summary")) ||
              void 0 === e ||
              e.focus());
        }, [t]);
        const o = R(t);
        if (!t) return null;
        const s =
          h.De.STORE_ICON_BASE_URL +
          `/${t.appid}/${t.capsule_filename || "library_600x900.jpg"}`;
        return r.createElement(
          "div",
          {
            className: (0, O.Z)(
              Se.BottomSheetContainer,
              o && Se.HasAdultContent,
            ),
            role: "dialog",
            "aria-modal": "true",
            onKeyDown: (e) => {
              "Escape" === e.key && n(void 0);
            },
          },
          r.createElement("div", {
            className: Se.BottomSheetOverlay,
            onClick: (e) => {
              e.preventDefault(), e.stopPropagation(), n(void 0);
            },
          }),
          r.createElement(
            "div",
            { className: Se.BottomSheet, ref: a },
            r.createElement(
              "div",
              { className: Se.GameInfo },
              r.createElement(
                "div",
                { className: Se.BlurredBackground },
                r.createElement("img", { src: s, alt: t.name }),
              ),
              r.createElement("img", {
                src: s,
                alt: t.name,
                className: Se.Portrait,
              }),
              r.createElement(
                "div",
                { className: Se.Facts },
                r.createElement("span", { className: Se.GameTitle }, t.name),
                r.createElement(on, { game: t, visible: !0, tab: e }),
              ),
            ),
            r.createElement(en, { game: t }),
            r.createElement(Jt, { game: t }),
            r.createElement(nn, { game: t }),
            r.createElement(an, { game: t }),
          ),
        );
      }
      function on({ game: e, visible: t, tab: n }) {
        const a = w(),
          o = R(e),
          s = Lt(),
          i = n !== ot.All && !(s && n === ot.RecentlyPlayed);
        return r.createElement(
          "div",
          { className: Se.Playtime },
          n === ot.RecentlyPlayed &&
            !!e.playtime_2weeks &&
            r.createElement(
              "span",
              { className: Se.Hours2weeks },
              r.createElement(
                "span",
                { className: Se.FactLabel },
                (0, F.Xx)("#GamesList_Header_TwoWeeks"),
              ),
              (0, Ae.W)(e.playtime_2weeks),
            ),
          !!e.playtime_forever &&
            r.createElement(
              "span",
              { className: Se.Hours },
              r.createElement(
                "span",
                { className: Se.FactLabel },
                (0, F.Xx)("#GamesList_Header_TotalPlayed"),
              ),
              (0, Ae.W)(
                e.playtime_forever +
                  (e.playtime_disconnected ? e.playtime_disconnected : 0),
              ),
            ),
          n !== ot.RecentlyPlayed &&
            a &&
            !!e.rtime_last_played &&
            r.createElement(
              "span",
              { className: Se.LastPlayed },
              r.createElement(
                "span",
                { className: Se.FactLabel },
                (0, F.Xx)("#GamesList_Header_LastPlayed"),
              ),
              (0, F.m9)(e.rtime_last_played),
            ),
          !o &&
            r.createElement(
              "div",
              { className: Se.AchievementContainer },
              r.createElement(Mt, { game: e, visible: t, showTop: i }),
            ),
        );
      }
      function sn({ game: e }) {
        const t = Lt(),
          [n, a] = (0, r.useState)(0),
          o = [
            `${h.De.STORE_ICON_BASE_URL}${e.appid}/${
              e.capsule_filename || "library_600x900.jpg"
            }`,
            `${h.De.STORE_ICON_BASE_URL}${e.appid}/portrait.png`,
            dt,
          ],
          s = [`${h.De.STORE_ICON_BASE_URL}${e.appid}/header.jpg`, dt],
          i = t ? o[n] === dt : s[n] === dt;
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "picture",
            { onError: () => a((e) => e + 1) },
            r.createElement("source", {
              media: `(max-width: ${Ne.MobileBreakpoint})`,
              srcSet: o[n],
            }),
            r.createElement("img", { src: s[n], alt: e.name, loading: "lazy" }),
          ),
          i && r.createElement("span", { className: Se.FallbackTitle }, e.name),
        );
      }
      function ln({ game: e, hasEverBeenVisible: t }) {
        const n = Lt();
        return r.createElement(
          "div",
          { className: Se.PortraitContainer },
          r.createElement(sn, { game: e }),
          !n && r.createElement(Ut, { game: e, visible: t }),
        );
      }
      const cn = r.memo(function ({ game: e, top: t, tab: n }) {
        const a = `${h.De.STORE_BASE_URL}app/${e.appid}`,
          o = w(),
          s = Lt(),
          i = dn(),
          l = s ? "button" : ae.eh,
          c = s ? () => i(e) : void 0,
          [d, m] = (0, r.useState)(!1),
          u = (0, k.S1)(
            (0, r.useCallback)((e) => {
              e.isIntersecting && m(!0);
            }, []),
            { rootMargin: "600px" },
          ),
          p = R(e),
          f = (0, h.id)(),
          _ = s ? "div" : ne.IS,
          v = s ? "span" : "a";
        return r.createElement(
          "div",
          {
            className: (0, O.Z)(
              Se.GamesListItemContainer,
              p && Se.HasAdultContent,
            ),
            style: { top: `${t}px` },
            ref: u,
          },
          r.createElement(
            l,
            {
              className: (0, O.Z)(Se.GamesListItem, e.changing && Se.Changing),
              onClick: c,
            },
            r.createElement(
              _,
              { href: a, className: Se.GameItemPortrait },
              r.createElement(ln, { game: e, hasEverBeenVisible: d }),
            ),
            r.createElement(
              "span",
              { className: Se.GameNameContainer },
              r.createElement(v, { href: a, className: Se.GameName }, e.name),
            ),
            r.createElement(on, { game: e, visible: d, tab: n }),
            !s &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  "div",
                  { className: Se.Buttons },
                  r.createElement(Vt, { game: e }),
                  r.createElement(zt, { game: e }),
                  f && r.createElement(Yt, { game: e }),
                ),
                !f &&
                  r.createElement(
                    qt,
                    { game: e },
                    r.createElement(Yt, { game: e }),
                  ),
              ),
            o &&
              !s &&
              r.createElement(Ke, {
                className: Se.DownloadStatus,
                game: e,
                visible: d,
              }),
            s && r.createElement(Ut, { game: e, visible: d }),
          ),
          o && r.createElement(ze, { game: e, visible: d }),
        );
      });
      function dn() {
        return mn().fnSetOpenGame;
      }
      function mn() {
        const e = (0, r.useContext)(un);
        if (!e)
          throw new Error(
            "attempted to use BottomSheetContext outside of provider",
          );
        return e;
      }
      const un = r.createContext(void 0);
      function pn({ children: e }) {
        const [t, n] = (0, r.useState)(void 0);
        return r.createElement(
          un.Provider,
          { value: { openGame: t, fnSetOpenGame: n } },
          e,
        );
      }
      const fn = new Set();
      function _n(e) {
        fn.add(e);
      }
      const hn = new Set();
      function vn({ games: e, tab: t, fnCalculateGameSize: n }) {
        const [a, o] = (0, r.useMemo)(() => {
          let t = 0;
          const a = e.map((e) => {
            const a = n(e);
            return (t += a), a;
          });
          return [t, a];
        }, [e, n]);
        !(function () {
          const e = (0, r.useRef)(!1);
          (0, r.useEffect)(() => {
            var t;
            if (e.current) return;
            const n =
              null === (t = history.state) || void 0 === t ? void 0 : t.scrollY;
            n && window.scroll({ top: n }), (e.current = !0);
          }, []),
            (0, r.useEffect)(() => {
              let e;
              const t = () => {
                e && clearTimeout(e),
                  (e = setTimeout(() => {
                    var e;
                    history.replaceState(
                      Object.assign(
                        Object.assign(
                          {},
                          null !== (e = history.state) && void 0 !== e ? e : {},
                        ),
                        { scrollY: window.scrollY },
                      ),
                      "",
                    );
                  }, 100));
              };
              return (
                addEventListener("scroll", t, { passive: !0 }),
                () => {
                  removeEventListener("scroll", t), e && clearTimeout(e);
                }
              );
            }, []);
        })();
        const s = (0, r.useRef)(null);
        let i = 0;
        return r.createElement(
          I.s,
          { ref: s, className: Se.List, style: { height: a }, autoFocus: !0 },
          r.createElement(
            En,
            {
              disableContinuousRender: e.length > 1024,
              batchSize: 16,
              containerRef: s,
              childSizes: o,
            },
            e.map((e, n) => {
              const a = i;
              return (
                (i += o[n]),
                r.createElement(cn, { game: e, key: e.appid, top: a, tab: t })
              );
            }),
          ),
        );
      }
      function gn() {
        return (0, a.mG)(this, void 0, void 0, function* () {
          return new Promise((e) => {
            setTimeout(e, 0);
          });
        });
      }
      function En({
        children: e,
        batchSize: t,
        containerRef: n,
        childSizes: o,
        disableContinuousRender: s,
      }) {
        const [i] = (0, r.useState)([]);
        return (
          (0, r.useEffect)(() => {
            if (s) return () => {};
            let e = !1;
            return (
              (function () {
                var n;
                (0, a.mG)(this, void 0, void 0, function* () {
                  for (let a = 0; a < i.length + t; a += t) {
                    for (let r = a; r < a + t; r++) {
                      if (e) return;
                      null === (n = i[r]) || void 0 === n || n.call(i, !0);
                    }
                    yield gn();
                  }
                });
              })(),
              () => {
                e = !0;
              }
            );
          }, [i, t, e.length, s]),
          (0, r.useEffect)(() => {
            if (!n || !o) return () => {};
            function e() {
              let e = null == t ? void 0 : t.getBoundingClientRect().top;
              e > 0 && (e = 0);
              const n = Math.ceil(window.innerHeight / o[0]);
              let a = 0,
                r = 0;
              for (; a > e; ) (a -= o[r]), r++;
              const s = r - n,
                l = s + 3 * n;
              for (let e = s; e < l; e++)
                setTimeout(() => {
                  var t;
                  null === (t = i[e]) || void 0 === t || t.call(i, !0);
                }, 0);
            }
            const t = n.current;
            return (
              null == t ||
                t.ownerDocument.defaultView.addEventListener("scroll", e),
              e(),
              () => {
                null == t ||
                  t.ownerDocument.defaultView.removeEventListener("scroll", e);
              }
            );
          }, [e.length, e, n, o, t, i]),
          r.createElement(
            r.Fragment,
            null,
            e.map((e, t) =>
              r.createElement(yn, { key: e.key, index: t, renderers: i }, e),
            ),
          )
        );
      }
      function yn({ renderers: e, index: t, children: n }) {
        const [a, o] = (0, r.useState)(!1);
        return (e[t] = o), a ? r.createElement(r.Fragment, null, n) : null;
      }
      const bn = r.createContext(void 0);
      function Cn({ query: e, isLoading: t, tab: n }) {
        var a;
        const o = me(),
          s = (function (e) {
            const t = Me(),
              n = _e(void 0, !1).rgQueries.find((e) => {
                var n;
                return (
                  (null === (n = e.data) || void 0 === n
                    ? void 0
                    : n.session.client_instanceid) ===
                  (null == t ? void 0 : t.client_instanceid)
                );
              });
            return (0, r.useMemo)(() => {
              var t;
              const a = new Set();
              if (null == n ? void 0 : n.data)
                for (const e of n.data.mapApps.values())
                  (hn.has(e.appid) || (!fn.has(e.appid) && We(e))) &&
                    (a.add(e.appid), hn.add(e.appid));
              const r = [],
                o = [];
              return (
                null === (t = e.data) ||
                  void 0 === t ||
                  t.forEach((e) => {
                    a.has(e.appid)
                      ? r.push(
                          Object.assign(Object.assign({}, e), { changing: !0 }),
                        )
                      : o.push(e);
                  }),
                { data: [...r, ...o], isLoading: e.isLoading, error: e.error }
              );
            }, [e.data, e.isLoading, e.error, null == n ? void 0 : n.data]);
          })(e),
          [i, l] = (0, r.useState)({}),
          c = (0, r.useCallback)((e, t) => {
            l((n) => Object.assign(Object.assign({}, n), { [e]: t }));
          }, []),
          d = (0, r.useCallback)((e) => (i[e.appid] ? wt + Gt : wt), [i]);
        return s.isLoading || o.isLoading || t
          ? r.createElement(M.V, {
              string: (0, F.Xx)("#Loading"),
              position: "center",
            })
          : 0 === (null === (a = s.data) || void 0 === a ? void 0 : a.length) &&
            n === ot.Perfect
          ? r.createElement(
              "p",
              { className: Se.emptyDescription },
              (0, F.Xx)("#GamesList_PerfectGames_Description"),
            )
          : r.createElement(
              bn.Provider,
              { value: c },
              !h.De.IN_CLIENT && r.createElement(He, null),
              r.createElement(vn, {
                games: s.data,
                tab: n,
                fnCalculateGameSize: d,
              }),
            );
      }
      function Gn(e) {
        return wt;
      }
      function wn({ query: e, isLoading: t, tab: n }) {
        return void 0 === e.data || t
          ? null
          : r.createElement(vn, {
              games: e.data,
              tab: n,
              fnCalculateGameSize: Gn,
            });
      }
      const Ln = (0, Ge.AP)(
          ({ owned: e, filter: t, dependencyLoading: n, sort: a, tab: o }) => {
            const s = rt(Q(e, t), a),
              i = w(),
              l = s.isLoading || n;
            if (s.error && !l) throw s.error;
            return r.createElement(
              pn,
              null,
              r.createElement(rn, { tab: o }),
              i
                ? r.createElement(Cn, { query: s, isLoading: l, tab: o })
                : r.createElement(wn, { query: s, isLoading: l, tab: o }),
            );
          },
        ),
        Rn = [
          {
            label: (0, F.Xx)("#GamesList_Sort_HoursPlayed"),
            sortOption: Je.HoursPlayed,
          },
          { label: (0, F.Xx)("#GamesList_Sort_Name"), sortOption: Je.Name },
          {
            label: (0, F.Xx)("#GamesList_Sort_AchievementCompletion"),
            sortOption: Je.AchievementCompletion,
          },
        ];
      function An({ strSort: e, setStrSort: t }) {
        return r.createElement(
          "ul",
          { className: X.SortOptions },
          Rn.map((n) =>
            r.createElement(
              "li",
              { key: n.sortOption },
              r.createElement(
                "button",
                {
                  className: (0, O.Z)(
                    X.SortOption,
                    e === n.sortOption && X.SelectedSort,
                  ),
                  onClick: () => t(n.sortOption),
                },
                n.label,
              ),
            ),
          ),
        );
      }
      function Nn() {
        const [e, t] = (0, T.Ar)("games_in_common", !1);
        return r.createElement(
          "label",
          { className: X.BothOwnedFilter },
          (0, F.Xx)("#GamesList_Filter_BothOwned"),
          r.createElement("input", {
            type: "checkbox",
            checked: e,
            onChange: (e) => t(e.target.checked),
          }),
        );
      }
      function Sn() {
        return r.createElement(
          U.HP,
          {
            toolTipContent: (0, F.Xx)("#GamesList_PrivacySettings_Tooltip"),
            "aria-label": (0, F.Xx)("#GamesList_PrivacySettings_Tooltip"),
            className: X.PrivacySettingsLink,
          },
          r.createElement(
            "a",
            { href: `${v._.ProfileURL}edit/settings` },
            r.createElement(J, null),
          ),
        );
      }
      function Bn(e) {
        const t = new Set();
        return null == e || e.forEach((e) => t.add(e.appid)), t;
      }
      function kn(e, t, n) {
        const [a, r] = (0, T.Ar)(e, n);
        let o = a;
        return Object.values(t).includes(a) || (o = n), [o, r];
      }
      function Pn(e, t) {
        return (0, r.useMemo)(() => {
          var n;
          return {
            data: null === (n = e.data) || void 0 === n ? void 0 : n.concat(t),
            isLoading: e.isLoading,
            error: e.error,
          };
        }, [e.data, e.isLoading, e.error, t]);
      }
      function In({ children: e }) {
        return (0, h.id)() ? r.createElement(x.vY, null, e) : e;
      }
      function Dn(e) {
        const t = G(),
          [n, a] = kn("sort", Je, Je.HoursPlayed),
          [o, s] = kn("tab", ot),
          i = null != o ? o : ot.RecentlyPlayed,
          [l, c, d] = (function (e, t) {
            const [n, a] = (0, r.useState)(e),
              [o, s] = (0, r.useState)(e);
            return (
              (0, r.useEffect)(() => {
                if (t < 1) return s(n), () => {};
                const e = setTimeout(() => s(n), t);
                return () => clearTimeout(e);
              }, [n, t]),
              [n, o, a]
            );
          })(void 0, 100),
          m = i === ot.RecentlyPlayed,
          u = (0, r.useCallback)(
            (e) => {
              var t;
              return (
                !(c && !m) ||
                (null === (t = e.name) || void 0 === t
                  ? void 0
                  : t.toLowerCase().includes(c.toLowerCase()))
              );
            },
            [c, m],
          ),
          p = A(t),
          f = (0, r.useCallback)(
            (e) =>
              !!p.data &&
              p.data.some(
                (t) =>
                  t.appid === e.appid &&
                  0 !== t.unlocked &&
                  t.unlocked === t.total,
              ),
            [p.data],
          ),
          [_] = (0, T.Ar)("games_in_common", !1),
          v = _ && i === ot.All,
          g = (function (e) {
            const t = b(h.L7.steamid, { enabled: e });
            return (0, r.useMemo)(
              () => ({ data: Bn(t.data), isLoading: t.isLoading }),
              [t.data, t.isLoading],
            );
          })(v),
          E = (0, r.useCallback)(
            (e) => {
              var t;
              return (
                !v ||
                (null === (t = g.data) || void 0 === t
                  ? void 0
                  : t.has(e.appid))
              );
            },
            [v, g],
          ),
          C = b(t),
          L = y.Get().GetPerfectUnownedGames(),
          R = y.Get().GetRecentlyPlayedUnownedGames(),
          N = Pn(Q(C, f, p.isLoading), L),
          S = Pn(Q(C, q), R);
        (0, r.useEffect)(() => {
          !o && S.data && 0 === S.data.length && s(ot.All);
        }, [o, S.data, s]);
        const B = w(),
          k = (0, h.id)();
        let x = C;
        i === ot.RecentlyPlayed ? (x = S) : i === ot.Perfect && (x = N),
          (0, r.useEffect)(() => {
            fn.clear();
          }, [i]);
        const U = lt(i, C, S, N),
          H = (function (...e) {
            return (0, r.useCallback)((t) => {
              for (const n of e) if (n && !n(t)) return !1;
              return !0;
            }, e);
          })(c && u, v && E),
          $ = (0, O.Z)(X.Gameslistapp, k && "GamepadMode"),
          Z = (0, D.L)(),
          j = n === Je.AchievementCompletion && p.isLoading,
          Y = x.isLoading || j;
        return r.createElement(
          P.p,
          { navID: "Gamelist", NavigationManager: Z },
          r.createElement(
            Ue,
            null,
            r.createElement(
              In,
              null,
              r.createElement(
                I.s,
                { className: $ },
                Y &&
                  r.createElement(M.V, {
                    string: (0, F.Xx)("#Loading"),
                    position: "center",
                  }),
                !Y &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(ct, { tabs: U, strTab: i, setStrTab: s }),
                    i !== ot.RecentlyPlayed &&
                      r.createElement(
                        "div",
                        { className: X.DisplayControls },
                        r.createElement(W, {
                          strNameFilter: l,
                          setStrNameFilter: d,
                          className: X.FilterInput,
                        }),
                        B && r.createElement(Sn, null),
                        !B && i === ot.All && r.createElement(Nn, null),
                        r.createElement(An, { strSort: n, setStrSort: a }),
                      ),
                  ),
                r.createElement(Ln, {
                  owned: x,
                  filter: H,
                  sort: i === ot.RecentlyPlayed ? Je.RecentlyPlayed : n,
                  dependencyLoading: Y,
                  tab: i,
                }),
              ),
            ),
          ),
        );
      }
      function xn(e) {
        const t = (0, k.kD)(r.useCallback(() => new B.Z(), []));
        return r.createElement(
          i.Ub,
          { useActiveSteamInterface: L, useStorage: t },
          r.createElement(Dn, Object.assign({}, e)),
        );
      }
    },
  },
]);
