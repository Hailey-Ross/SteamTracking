/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [3903],
  {
    27522: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Icon: "_2bzHb-caO-Nm9nCFXRj7zq",
        IconGlow: "tH67cztsTrD9IF2zpG8ep",
        AchievementIconWrapper: "_373lENtPG9blrNsyXz0y_J",
        RareAchievementIconGlowContainerRoot: "_39Chtmumni5hlYAbFZt-PU",
        RareAchievementIconGlowContainer: "leuGOqykWKVDUuR082MPV",
        rotate: "_1Mdch_OwSiwWooFB8LxqbE",
        RareAchievementNoAnimation: "_25gJmeIGPjHa2ccPzTntg4",
        RareAchievementIconGlow: "rORbR_CuoyBuXGKfa8_2-",
        HiddenLabel: "_2yMyP8POdcTHs9u9CEQIKY",
      };
    },
    76478: (e) => {
      e.exports = {
        ProgressBar: "yZ55NhARZGx1Awk2qs8pS",
        AnimateProgress: "_1CcdviLW6hebdTPh-3a7DC",
        loadingBarAnim: "BX2Tm1w9-ANfTCqXg431i",
        Indeterminate: "_1sxT4GOX7iqToa-lS_Wx_E",
      };
    },
    89729: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
      };
    },
    33672: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        Gameslistapp: "_2nl8HoZ_rxg3AGpYs0N_UD",
        DisplayControls: "_2_BHLBIwWKIyKmoabfDFH-",
        FilterInput: "_24EKvqXebLSndHLcU0oa9S",
        SortOptions: "_3pgJXGeUvcAyf_Qx8Gviyl",
        SortOption: "YcplNXvbAo_QrR2RGHq7A",
        SelectedSort: "MA0IhL4avzBMZsPIv_Onx",
        BothOwnedFilter: "NKeON8ijAOy_Uhx4o6-oS",
        MeasurementContainer: "ZmRLuak1LI0RT7TdSGaSp",
        PrivacySettingsLink: "mRoicVJ4W3e852Q42-bzU",
      };
    },
    1086: (e) => {
      e.exports = {
        Filter: "ZQQNQC6M0Bnh0edYDcm0p",
        ClearButton: "_2iq6O4IihM1DlK3T6MDriW",
        SearchIcon: "QptTjZmYHOPv7_vqyAhnS",
      };
    },
    19766: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        List: "_3tY9vKLCmyG2H2Q4rUJpkr",
        GamesListItemContainer: "_29H3o3m-GUmx6UfXhQaDAm",
        GamesListItem: "_2-pQFn1G7dZ7667rrakcU3",
        Changing: "_2virZnBQZfVnSt_RLteF8d",
        NavButton: "_3aNUlXqnUCLTuW3Aeu2vQ1",
        GameItemPortrait: "_1bAC6eBHy0MpRWrwTkgT9o",
        FallbackTitle: "MHfYK1d8GyLy-Pw2Zd0oX",
        PortraitContainer: "_1CHM8-0EM9IeDAZ47-cYit",
        HasAdultContent: "_2jXu55ZFxTRANaTIIV7EJ5",
        GameNameContainer: "w6q9piMq3gT16oj_lEvpy",
        GameName: "_22awlPiAoaZjQMqxJhp-KP",
        Playtime: "_2EeyhCvW_KhEdtuarguZYh",
        Hours: "_26nl3MClDebGDV7duYjZVn",
        Hours2weeks: "_1_mJZIdFpISpEwLAdgWwHG",
        LastPlayed: "_2jglu-fYE_XNY6tkn6J99Y",
        FactLabel: "_2L1rk5AZ6FW8trFciJnHSs",
        AchievementContainer: "_38RhR5f2dCM0suwMTTCyMk",
        AchievementsProgress: "_3L-qRrHSjklL-XerpCawLU",
        Buttons: "_1uRB5he6cj97y-rG3RcI6H",
        GameLinks: "_35fxd2upwJHRuX_fNyRbbM",
        GameLinksButton: "_1pXbX5mBA7v__kVWHg0_Ja",
        AppPrivateIndicator: "_2UkkK2haCjZZi3oNZjrHTt",
        DownloadStatus: "bDheibeyyAaooxTc0G5Bh",
        PerfectRibbon: "_1uKlfc1_Z49lxRNSctgO7y",
        ContentLinks: "_1yvGN-lhGKwgwFZ0hqNf3",
        StatLinks: "_1sruH2EotKih-5xc1nw_Ak",
        BottomSheetContainer: "_3EfAk-1beaL1stoa1Zphh2",
        BottomSheetOverlay: "_3M4Jfj5fXzOUlgH9BqKlOq",
        BottomSheet: "_2ywCPkpOvBVojX4Mnn7zuJ",
        GameInfo: "_36tJrb1jp0FbroHbjR6K2b",
        Facts: "_34z3MVFlA6nkaOvj9p0BXg",
        GameTitle: "_3RUE8mOoeGf8bZ77aurU_I",
        AchievementIcons: "_6o-Nn_9cs5UP8u0ZSRljj",
        Portrait: "_3MzPltH_U92rP-soE-XXhZ",
        BlurredBackground: "r1Y-M8ZjYRcmI8sTqnnbW",
        BottomSheetSection: "NZhfSfVUUKzxiu-j4DLM-",
        SectionContent: "_1ynpS-BFysdDH9UAW-iRDf",
        BottomSheetRemoteControls: "_2gji1dsQmGsIQfeoZ3ZDLp",
        BottomSheetLink: "_34fh9Z8MPpZ4_9yScG6sTQ",
        ClientName: "_1Jcm1lR6ir2WXkex7RFhNc",
        NavDropdownMenu: "_1HvmxTJCyuUCUtpqb-Jvbm",
        AchievementIcon: "_2J4HYQJrf2UMRTTLMmtWQY",
        Remainder: "fVmXu5fTPTvdMa9Wfl4-t",
        AchievementHover: "_1Whe1Zq6Wp7xVMB3L_kD7z",
        Background: "OMxTbLGmt5VsNqE2XXp_z",
        Blur: "BPScsrxPEywJlzL3Nps-T",
        TopSection: "_3OoXTDF9l6Vk3NVig_aEs7",
        TextSection: "_3sCHJt5zL0N6_BEWg0qu-e",
        Name: "_2jbhFCR7QFZlm9OjxHKzR4",
        Unlocked: "_1UIA3j5VZhatQINGh2TCP5",
        RareLabel: "_3g9oIyfEdZ_IaqN-AdCrUd",
        AchievementsProgressBar: "_3Z3qpPO7VynFPtiyMoSUOj",
        AchievementsProgressLabel: "_3eZMLQT-bjZ0EhBSvQlDQ0",
        AchievementsFraction: "_1YRRMk6X7vrOL-02K-q1pf",
        emptyDescription: "_3oj8bwi8usJEPiy_cYHLnV",
        GamepadNavigationDropdown: "Ml4QU2rA5poyzlN6Mpn_V",
        GamepadNavigationDropdownButton: "_2u7K0-MM3a_gPWpWBEUSOb",
        placeholderPulse: "_3qZsOXqZUFEK9ISDZudzlL",
        rotate: "_1TDttoOdo6-4lnAb7-9v_0",
      };
    },
    3980: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        ClientSelectDropdown: "_2Z6JLrWwlE-rD6qsK1mpwA",
        ClientListDropdownMenu: "_22iS0ZTKxg-SJsAgi5pqBI",
        RemoteDownloadClientBar: "hQ4Q9MOyzOvVrZauH-tj5",
        RemoteDownloadHeader: "UVZ1rP5saSNYWAWH3yMTl",
        InfoIcon: "_3TWnE-0Q1fkvhkB9mfdf27",
        ClientIndicator: "_2XcV9fHY60YOpjt36jVCfY",
        NoConnection: "E0OMiLaKR_MRnFXmJAZmf",
        RemoteDownloadStatus: "_14QBdf-5S88wYLJbazoFrh",
        RemoteDownloadHelp: "_1pQIr9TvX9JCZcMmMETHx1",
        NoConnectionText: "_1A0dfMNzS5OX5an6RIFIK-",
        LearnMoreCta: "_3XDsbImB-54v0oQIFtqdJj",
        DownloadBarWithLabel: "_14YOdPTduI4LctS9AB_CjI",
        DownloadStatus: "_2JtXwjoHHm0U24wGc2CfVV",
        DownloadProgress: "_2b6Qyvo_fVAbVShbS2jmJQ",
        CurrentSpace: "_3_zPYGBGckOlSj4oGyYok5",
        DownloadEstimate: "_2QWHYy_4BKkdD243QQJWM4",
        DownloadBar: "_4ZW4ifW1Y2eVWWfugmjfC",
        RemoteControls: "_1FputvTUMDlSdMWR6dzBHN",
        ButtonContainer: "_2mcktnnmYz7Erghm5hxnqS",
        NoRemoteControl: "_217EiSw2ETc8OiRB6_XCAN",
        DownloadSize: "_2zfId9cfT2zTYc0lGKOhrr",
        UpdateSchedule: "_nq0rHACsxcW4OBfu3FB9",
        DownloadIconButton: "_2P6595PfFeyY96lncv5stz",
        DownloadBarContainer: "_2Qx7nzrAjG0zOX4ZElhETi",
      };
    },
    54129: (e) => {
      e.exports = {
        WishlistTab: "_1BZR3-r7Ext8HXYzmdK9zn",
        tabList: "_1sHACvEQL-LRtUYan0JxdB",
        TabBaseline: "_2gC9IPFcO2QkemlSXC51zW",
        SelectBaseline: "_1qj0peBs6iRD1XsxTT68xH",
      };
    },
    13043: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => c });
      var a = n(47427),
        r = n(82493),
        s = n(4030),
        o = n(20417),
        i = n(37563),
        l = n(35643);
      function c(e) {
        const { children: t, navTreeRef: n, ...c } = e,
          m = a.useRef(),
          d = (0, o.BE)(m, n),
          u = (0, i.id)(),
          p = window.__virtual_keyboard_client;
        if (u) {
          const e = window.__nav_tree_root;
          return a.createElement(
            r.Fe,
            { ...c, navTreeRef: d, secondary: !0, parentEmbeddedNavTree: e },
            a.createElement(
              l.o5,
              { factory: p },
              a.createElement(s.O, null, t),
            ),
          );
        }
        return a.createElement(a.Fragment, null, t);
      }
    },
    71472: (e, t, n) => {
      "use strict";
      n.d(t, { Ar: () => l, Wo: () => c, i9: () => i, ks: () => s });
      var a = n(47427),
        r = n(8285);
      function s(e, t) {
        let n;
        "string" == typeof e
          ? (n = e)
          : "location" in e
            ? (n = e.location.search)
            : "search" in e && (n = e.search);
        const a = new URLSearchParams(n.substring(1));
        if (a.has(t)) {
          const e = a.getAll(t);
          return e[e.length - 1];
        }
      }
      const o = (e) => null != e;
      function i(e, t, n, a = !1) {
        const r = new URLSearchParams(e.location.search.substring(1));
        r.delete(t),
          o(n) && r.append(t, n),
          a
            ? e.replace(`?${r.toString()}`, { ...e.location.state })
            : e.push(`?${r.toString()}`);
      }
      function l(e, t) {
        const n = (0, r.k6)(),
          l = (0, r.TH)(),
          c = (0, a.useMemo)(() => {
            const n = s(l.search, e);
            return o(n)
              ? o(t)
                ? "boolean" == typeof t
                  ? t.constructor("false" !== n)
                  : t.constructor(n)
                : n
              : t;
          }, [l.search, e, t]),
          m = (0, a.useCallback)(
            (t) => {
              i(n, e, o(t) ? String(t) : null);
            },
            [n, e],
          );
        return [c, m];
      }
      function c(e, t, n = !1) {
        const a = new URLSearchParams(e.location.search.substring(1));
        for (const e in t)
          if (t.hasOwnProperty(e)) {
            const n = t[e];
            a.delete(e), o(n) && a.append(e, n);
          }
        n
          ? e.replace(`?${a.toString()}`, { ...e.location.state })
          : e.push(`?${a.toString()}`);
      }
    },
    29480: (e, t, n) => {
      "use strict";
      n.d(t, { T: () => o });
      var a = n(80751),
        r = n.n(a),
        s = n(47427);
      function o(e) {
        const t = s.useRef(r().CancelToken.source());
        return (
          s.useEffect(() => {
            const n = t.current;
            return () => n.cancel(e ? `${e}: unmounting` : "unmounting");
          }, [e]),
          t.current
        );
      }
    },
    54117: (e, t, n) => {
      "use strict";
      n.d(t, { W: () => r });
      var a = n(31846);
      function r(e, t = "#Played_", n = !1) {
        if (e >= 120) {
          let n = e / 60;
          n = Math.round(10 * n) / 10;
          let r = a.Yt.GetPreferredLocales(),
            s = n.toLocaleString(r, {
              minimumFractionDigits: 0,
              maximumFractionDigits: 1,
            });
          return (0, a.Xx)(t + "Hours", s);
        }
        return n && 1 == e
          ? (0, a.Xx)(t + "Minute", e)
          : (0, a.Xx)(t + "Minutes", e);
      }
    },
    68761: (e, t, n) => {
      "use strict";
      n.d(t, { _: () => a });
      let a = { ProfileURL: "" };
    },
    39047: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { default: () => Pn });
      var a = n(47427),
        r = n(42718),
        s = n(79545),
        o = n(40057),
        i = n(77581),
        l = n(82182),
        c = n(48746),
        m = n(54879);
      const d = new Map(),
        u = new Map();
      function p(e) {
        const t = (0, r.useQueryClient)(),
          n = (0, r.hashQueryKey)(e.batchKey),
          a = (0, r.hashQueryKey)(e.queryKey);
        return (0, r.useQuery)({
          queryKey: [e.batchKey, a],
          queryFn: () => {
            let r = d.get(n);
            return (
              r || ((r = new Map()), d.set(n, r)),
              r.set(a, e.request),
              new Promise((a, r) => {
                if (u.get(n)) return;
                const s = setTimeout(async () => {
                  try {
                    const a = d.get(n),
                      r = Array.from(a.keys()),
                      s = Array.from(a.values());
                    a.clear(), u.delete(n);
                    const o = await e.queryFn(s);
                    s.forEach((n, a) => {
                      t.setQueryData(
                        [e.batchKey, r[a]],
                        e.requestMatcher
                          ? o.find((t) => e.requestMatcher(n, t))
                          : o[a],
                      );
                    });
                  } catch (e) {
                    r(e);
                  }
                }, e.batchDuration);
                u.set(n, s);
              })
            );
          },
          enabled: e.enabled,
        });
      }
      var _ = n(2041),
        f = n(37563),
        h = n(68761);
      function g(e) {
        let t = e
          .replace(/^the\s/i, "")
          .replace(/^a\s/i, "")
          .replace(/^[^\w]+/u, "");
        if (t != e) return t;
      }
      function y(e) {
        if (!(e < 1e5)) return e;
      }
      class E {
        rgGameslistConfig;
        static s_Singleton;
        static Get() {
          return this.s_Singleton
            ? this.s_Singleton
            : (this.s_Singleton = new E(
                (0, f.kQ)("config", "profile_config"),
                (0, f.kQ)("profile-gameslist", "gameslist_config"),
              ));
        }
        setExcludedContentDescriptorIds = new Set();
        constructor(e, t) {
          (this.rgGameslistConfig = t),
            e && Object.assign(h._, e),
            this.BViewingOwnProfile() ||
              this.rgGameslistConfig?.rgContentDescriptorPreferences?.content_descriptors_to_exclude?.forEach(
                (e) => {
                  this.setExcludedContentDescriptorIds.add(
                    e.content_descriptorid,
                  );
                },
              );
          const n = this.GetProfileSteamId();
          if (
            (this.rgGameslistConfig?.rgGames?.length > 0 &&
              _.U.setQueryData(
                ["OwnedGames", n, f.De.LANGUAGE],
                this.rgGameslistConfig.rgGames.map((e) => ({
                  ...e,
                  rtime_last_played: y(e.rtime_last_played),
                })),
              ),
            this.rgGameslistConfig?.achievement_progress?.length > 0)
          ) {
            const e = ["AchievementProgress", n, f.De.LANGUAGE];
            _.U.setQueryData(e, this.rgGameslistConfig.achievement_progress);
            for (const t of this.rgGameslistConfig.achievement_progress)
              _.U.setQueryData([e, (0, r.hashQueryKey)([t.appid])], t);
          }
        }
        async FetchAchievementProgressBatch(e, t, n) {
          const a = n.filter((e) => e.has_community_visible_stats);
          if (0 === a.length) return [];
          const r = s.gA.Init(l.M4);
          r.Body().set_steamid(t),
            r.Body().set_language(f.De.LANGUAGE),
            r.Body().set_appids(a.map((e) => e.appid));
          const o = await l.lk.GetAchievementsProgress(e, r);
          if (1 !== o.GetEResult())
            throw (
              (console.error(
                "Received error from GetAchievementsProgress",
                o.GetEResult(),
              ),
              new Error(
                `Error from GetAchievementsProgress: ${o.GetEResult()}`,
              ))
            );
          return o
            .Body()
            .achievement_progress()
            .map((e) => ({
              unlocked: e.unlocked(),
              total: e.total(),
              appid: e.appid(),
            }));
        }
        async FetchTopAchievementsBatch(e, t, n) {
          const a = n.filter((e) => e.has_community_visible_stats);
          if (0 === a.length) return [];
          const r = s.gA.Init(l.OZ);
          r.Body().set_steamid(t),
            r.Body().set_language(f.De.LANGUAGE),
            r.Body().set_appids(a.map((e) => e.appid)),
            r.Body().set_max_achievements(6);
          const o = await l.lk.GetTopAchievementsForGames(e, r);
          if (1 !== o.GetEResult())
            throw (
              (console.error(
                "Received error from GetTopAchievementsForGames",
                o.GetEResult(),
              ),
              new Error(
                `Error from GetTopAchievementsForGames: ${o.GetEResult()}`,
              ))
            );
          return o
            .Body()
            .games()
            .map((e) => ({
              appid: e.appid(),
              total_achievements: e.total_achievements(),
              achievements: e
                .achievements()
                .map((e) => ({
                  icon: e.icon(),
                  name: e.name(),
                  desc: e.desc(),
                  statid: e.statid(),
                  bit: e.bit(),
                  player_percent_unlocked: e.player_percent_unlocked(),
                })),
            }));
        }
        async GetGames(e, t) {
          const n = s.gA.Init(l.pp);
          n.Body().set_steamid(e),
            n.Body().set_include_appinfo(!0),
            n.Body().set_skip_unvetted_apps(!1),
            n.Body().set_include_extended_appinfo(!0),
            n.Body().set_include_played_free_games(!0),
            n.Body().set_language(f.De.LANGUAGE);
          const a = await l.lk.GetOwnedGames(t, n);
          if (1 !== a.GetEResult())
            throw (
              (console.error(
                "Received error from GetOwnedGames",
                a.GetEResult(),
              ),
              new Error(`Error from GetOwnedGames: ${a.GetEResult()}`))
            );
          return a
            .Body()
            .games()
            .map((e) => ({
              appid: e.appid(),
              name: e.name(),
              sort_as: e.sort_as() || g(e.name()),
              playtime_forever: e.playtime_forever(),
              playtime_2weeks: e.playtime_2weeks(),
              playtime_disconnected: e.playtime_disconnected(),
              rtime_last_played: y(e.rtime_last_played()),
              capsule_filename: e.capsule_filename(),
              has_dlc: e.has_dlc() || !1,
              has_workshop: e.has_workshop() || !1,
              has_market: e.has_market() || !1,
              has_community_visible_stats:
                e.has_community_visible_stats() || !1,
              has_leaderboards: e.has_leaderboards() || !1,
              content_descriptorids: e.content_descriptorids() || [],
              img_icon_url: e.img_icon_url(),
            }));
        }
        async GetUserFileCount(e, t, n) {
          let a = s.gA.Init(c.AO);
          a.Body().set_steamid(e),
            a.Body().set_filetype(4),
            a.Body().set_totalonly(!0),
            a.Body().set_appid(n);
          const r = await c.vx.GetUserFileCount(t, a);
          if (1 !== r.GetEResult())
            throw (
              (console.error(
                "Received error from GetUserFileCount",
                r.GetEResult(),
              ),
              new Error(`Error from GetUserFileCount: ${r.GetEResult()}`))
            );
          return r.Body().total();
        }
        async GetFriendsWhoPlayCount(e, t) {
          let n = s.gA.Init(l.$_);
          n.Body().set_appid(t);
          const a = await l.lk.GetFriendsGameplayInfo(e, n);
          if (1 !== a.GetEResult())
            throw (
              (console.error(
                "Received error from GetFriendsGameplayInfo",
                a.GetEResult(),
              ),
              new Error(`Error from GetFriendsGameplayInfo: ${a.GetEResult()}`))
            );
          return a.Body().played_recently().length;
        }
        async GetIndividualHasRecommendations(e, t, n) {
          let a = s.gA.Init(m.Vy),
            r = s.gA.Init(m.K9);
          r.Body().set_steamid(e),
            r.Body().set_appid(n),
            a.Body().add_requests(r.Body());
          const o = await m.fG.GetIndividualRecommendations(t, a);
          if (1 !== o.GetEResult() && 42 !== o.GetEResult())
            throw (
              (console.error(
                "Received error from GetIndividualRecommendations",
                o.GetEResult(),
              ),
              new Error(
                `Error from GetIndividualRecommendations: ${o.GetEResult()}`,
              ))
            );
          return o.Body().recommendations().length > 0;
        }
        async GetTradingCardsCount(e, t) {
          const n = `${f.De.COMMUNITY_BASE_URL}/profiles/${e}/ajaxgetbadgeinfo/${t}`,
            a = new AbortController();
          let r, s;
          try {
            const e = setTimeout(() => {
              a.abort();
            }, 6e3);
            (r = await fetch(n, { credentials: "include", signal: a.signal })),
              clearTimeout(e),
              (s = await r.json());
          } catch (e) {
            throw e.response
              ? new Error(`HTTP result ${e.response.status} from ajax of ${n}`)
              : new Error(`Bad HTTP request for ajax for ${n}`);
          }
          const o = s?.badgedata;
          if (!o) return;
          let i = 0,
            l = 0;
          for (let e of o.rgCards) i++, e.owned && l++;
          return { total: i, owned: l };
        }
        GetProfileName() {
          return this.rgGameslistConfig.strProfileName;
        }
        GetProfileSteamId() {
          return this.rgGameslistConfig.strSteamId;
        }
        BViewingOwnProfile() {
          return this.rgGameslistConfig.bViewingOwnProfile;
        }
        GetWebAPIToken() {
          return this.rgGameslistConfig.webapi_token;
        }
        GetGCPDGames() {
          return this.rgGameslistConfig.gcpdGames;
        }
        GetReviewCount() {
          return this.rgGameslistConfig.nUserReviewCount;
        }
        GetFollowedCount() {
          return this.rgGameslistConfig.nUserFollowedCount;
        }
        GetExcludedContentDescriptors() {
          return this.setExcludedContentDescriptorIds;
        }
        GetPerfectUnownedGames() {
          return this.rgGameslistConfig.rgPerfectUnownedGames;
        }
        GetRecentlyPlayedUnownedGames() {
          return this.rgGameslistConfig.rgRecentlyPlayedUnownedGames;
        }
      }
      function v(e, t = {}) {
        const n = E.Get(),
          a = (0, o.bY)();
        return (0, r.useQuery)({
          queryKey: ["OwnedGames", e, f.De.LANGUAGE],
          queryFn: () => n.GetGames(e, a),
          select: (e) => e.filter((e) => e.img_icon_url),
          ...t,
        });
      }
      function b() {
        return E.Get().GetProfileName();
      }
      function C() {
        return E.Get().GetProfileSteamId();
      }
      function w() {
        return E.Get().BViewingOwnProfile();
      }
      function G() {
        const [e] = (0, a.useState)(
          () => new i.J(f.De.WEBAPI_BASE_URL, E.Get().GetWebAPIToken()),
        );
        return e;
      }
      function L(e) {
        const t = E.Get().GetExcludedContentDescriptors();
        return e?.content_descriptorids?.some((e) => t.has(e));
      }
      function R(e) {
        const t = (0, o.bY)(),
          n = E.Get(),
          a = (0, r.useQueryClient)(),
          s = ["AchievementProgress", e, f.De.LANGUAGE],
          i = v(e);
        return (0, r.useQuery)({
          queryKey: s,
          queryFn: () => n.FetchAchievementProgressBatch(t, e, i.data),
          onSuccess(e) {
            e.forEach((e) => {
              const t = [s, (0, r.hashQueryKey)([e.appid])];
              a.setQueryData(t, e);
            });
          },
          enabled: void 0 !== i.data && i.data.length > 0,
        });
      }
      function A(e, t) {
        const n = (0, o.bY)(),
          a = E.Get(),
          r = a.GetProfileSteamId();
        return p({
          batchKey: ["AchievementProgress", r, f.De.LANGUAGE],
          queryKey: [e.appid],
          queryFn: (e) => a.FetchAchievementProgressBatch(n, r, e),
          requestMatcher: (e, t) => e.appid === t.appid,
          batchDuration: 100,
          request: e,
          enabled: t,
        });
      }
      function N(e) {
        const t = (0, o.bY)(),
          n = E.Get(),
          a = n.GetProfileSteamId();
        return (0, r.useQuery)(["ScreenshotCount", a, e], () =>
          n.GetUserFileCount(a, t, e),
        );
      }
      var S = n(61134),
        B = n(20417),
        k = n(13043),
        P = n(91618),
        I = n(41130),
        D = n(1485),
        x = n(71472),
        M = n(46882),
        T = n(59728),
        U = n(13129);
      var F = n(31846),
        X = n(33672),
        H = n(58538),
        O = n(62613),
        $ = n(1086);
      function Z(e, t, n = !1) {
        return (0, a.useMemo)(
          () => ({
            data: e.data?.filter(t),
            isLoading: e.isLoading || n,
            error: e.error,
          }),
          [e.data, e.isLoading, e.error, t, n],
        );
      }
      const Q = 2592e3;
      function q(e) {
        return (
          void 0 !== e.rtime_last_played &&
          e.rtime_last_played > Date.now() / 1e3 - Q
        );
      }
      function W({ strNameFilter: e, setStrNameFilter: t, className: n }) {
        const r = (0, a.useRef)(null),
          s = e && "" != e;
        return a.createElement(
          "div",
          { className: (0, U.Z)($.Filter, n) },
          a.createElement("input", {
            ref: r,
            onChange: () => t(r.current?.value),
            value: e ?? "",
            placeholder: (0, F.Xx)("#GamesList_Filter_Placeholder"),
          }),
          s
            ? a.createElement(
                "button",
                { className: $.ClearButton, onClick: () => t("") },
                a.createElement(O.X, null),
              )
            : a.createElement(
                "div",
                { className: $.SearchIcon },
                a.createElement(H.olm, null),
              ),
        );
      }
      function Y(e) {
        return a.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 30 29",
            fill: "none",
            ...e,
          },
          a.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M26 20V25H4V20H0V29H30V20H26Z",
          }),
          a.createElement("path", {
            fill: "currentColor",
            d: "M17 12.1716L21.5858 7.58578L24.4142 10.4142L15 19.8284L5.58582 10.4142L8.41424 7.58578L13 12.1715V0H17V12.1716Z",
          }),
        );
      }
      function V(e) {
        return a.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 30 30",
            fill: "none",
            ...e,
          },
          a.createElement("path", {
            fill: "currentColor",
            d: "M29.12 4.41L25.59 0.880005L15 11.46L4.41 0.880005L0.880005 4.41L11.46 15L0.880005 25.59L4.41 29.12L15 18.54L25.59 29.12L29.12 25.59L18.54 15L29.12 4.41Z",
          }),
        );
      }
      function j(e) {
        return a.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 30 30",
            fill: "none",
            ...e,
          },
          a.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M15 0C12.0333 0 9.13318 0.879735 6.66645 2.52796C4.19971 4.17618 2.27712 6.51886 1.14181 9.25975C0.00649166 12.0006 -0.290558 15.0166 0.28822 17.9264C0.866998 20.8361 2.29561 23.5088 4.3934 25.6066C6.49119 27.7044 9.16393 29.133 12.0736 29.7118C14.9834 30.2906 17.9994 29.9935 20.7402 28.8582C23.4811 27.7229 25.8238 25.8003 27.472 23.3336C29.1203 20.8668 30 17.9667 30 15C30 13.0302 29.612 11.0796 28.8582 9.25975C28.1044 7.43986 26.9995 5.78628 25.6066 4.3934C24.2137 3.00052 22.5601 1.89563 20.7402 1.14181C18.9204 0.387987 16.9698 0 15 0ZM17.5 23H12.5V13H17.5V23ZM15 11C14.4067 11 13.8266 10.8241 13.3333 10.4944C12.8399 10.1648 12.4554 9.69623 12.2284 9.14805C12.0013 8.59987 11.9419 7.99667 12.0576 7.41473C12.1734 6.83279 12.4591 6.29824 12.8787 5.87868C13.2982 5.45912 13.8328 5.1734 14.4147 5.05764C14.9967 4.94189 15.5999 5.0013 16.148 5.22836C16.6962 5.45542 17.1648 5.83994 17.4944 6.33329C17.8241 6.82664 18 7.40666 18 8C18 8.79565 17.6839 9.55871 17.1213 10.1213C16.5587 10.6839 15.7956 11 15 11Z",
          }),
        );
      }
      function z(e) {
        return a.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 13 8",
            fill: "none",
            ...e,
          },
          a.createElement("path", {
            fill: "currentColor",
            d: "M12.6128 1.7121C12.7616 1.56087 12.8428 1.3684 12.8428 1.14155C12.8428 0.687862 12.491 0.323534 12.0446 0.323534C11.8214 0.323534 11.6184 0.419772 11.4628 0.577877L6.83601 5.38975L2.22271 0.577877C2.06712 0.419772 1.85743 0.323534 1.64097 0.323534C1.19452 0.323534 0.842773 0.687862 0.842773 1.14155C0.842773 1.3684 0.923946 1.56087 1.07276 1.71211L6.21369 7.06016C6.38956 7.25264 6.60602 7.342 6.84277 7.34888C7.07953 7.34888 7.28246 7.25264 7.4651 7.06016L12.6128 1.7121Z",
          }),
        );
      }
      function K(e) {
        return a.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 14 14",
            fill: "none",
            ...e,
          },
          a.createElement("path", {
            fill: "currentColor",
            d: "M13.6666 8.05776V5.9422L11.9199 5.6222C11.8053 5.22889 11.6457 4.8501 11.4444 4.49331L12.4533 3.03554L10.9644 1.53776L9.50659 2.55554C9.1498 2.35419 8.77101 2.19461 8.3777 2.07998L8.0577 0.333313H5.94214L5.62214 2.07998C5.22883 2.19461 4.85003 2.35419 4.49325 2.55554L3.03547 1.53776L1.5377 3.03554L2.55547 4.49331C2.35412 4.8501 2.19455 5.22889 2.07992 5.6222L0.333252 5.9422V8.05776L2.07992 8.37776C2.19455 8.77107 2.35412 9.14986 2.55547 9.50665L1.5377 10.9644L3.03547 12.4622L4.49325 11.4444C4.85043 11.6427 5.22921 11.7993 5.62214 11.9111L5.94214 13.6666H8.0577L8.3777 11.92C8.77101 11.8053 9.1498 11.6458 9.50659 11.4444L10.9644 12.4533L12.4621 10.9555L11.4444 9.50665C11.6426 9.14947 11.7992 8.77069 11.911 8.37776L13.6666 8.05776ZM6.99992 9.2222C6.56041 9.2222 6.13076 9.09187 5.76532 8.84769C5.39988 8.60351 5.11505 8.25645 4.94685 7.85039C4.77866 7.44433 4.73465 6.99751 4.8204 6.56645C4.90614 6.13538 5.11779 5.73942 5.42857 5.42863C5.73935 5.11785 6.13532 4.9062 6.56638 4.82046C6.99745 4.73471 7.44427 4.77872 7.85033 4.94691C8.25639 5.11511 8.60345 5.39994 8.84763 5.76538C9.09181 6.13082 9.22214 6.56047 9.22214 6.99998C9.22214 7.29181 9.16466 7.58078 9.05299 7.85039C8.94131 8.12 8.77762 8.36498 8.57127 8.57133C8.36491 8.77768 8.11994 8.94137 7.85033 9.05305C7.58071 9.16472 7.29175 9.2222 6.99992 9.2222Z",
            fillOpacity: "0.5",
          }),
        );
      }
      var J = n(38071),
        ee = n(95315),
        te = n(75545),
        ne = n(65255);
      function ae() {
        const e = (0, o.bY)();
        return (0, r.useQuery)(
          ["AccountPrivateApps"],
          async () => {
            const t = s.gA.Init(te.XR),
              n = await te.kk.GetPrivateAppList(e, t);
            return new Set(n.Body().private_apps(!0).appids());
          },
          { enabled: !!ne.L7.accountid },
        );
      }
      function re(e) {
        const { data: t } = ae();
        return !!ne.L7.accountid && !!e && (t ? t.has(e) : void 0);
      }
      function se(e) {
        e.invalidateQueries(["AccountPrivateApps"]);
      }
      function oe(e) {
        const t = (0, o.bY)(),
          n = (0, r.useQueryClient)();
        return (0, r.useMutation)({
          mutationFn: async (n) => ie(t, [e], n),
          onSuccess: (t, a) => le(n, [e], a),
          onError() {
            se(n);
          },
        });
      }
      async function ie(e, t, n) {
        const a = s.gA.Init(te._c);
        a.Body().set_appids(t.slice()), a.Body().set_private(n);
        const r = await te.kk.ToggleAppPrivacy(e, a);
        if (!r.BSuccess()) throw r.GetErrorMessage();
      }
      function le(e, t, n) {
        e.setQueryData(["AccountPrivateApps"], (e) => {
          if (!e) return;
          const a = new Set(e);
          return (
            t.forEach((e) => {
              n ? a.add(e) : a.delete(e);
            }),
            a
          );
        });
      }
      var ce = n(82493),
        me = n(84686),
        de = n(77936),
        ue = n(53923),
        pe = (n(67573), n(83120));
      const _e = "RemoteDownload_OnlineClient",
        fe = "RemoteDownload_ClientAppList",
        he = "RemoteDownload_ClientAppData";
      class ge extends Error {
        constructor(e, t) {
          super(e), (this.result = t);
        }
        result;
      }
      function ye() {
        const e = (0, o.bY)(),
          t = (0, ue.M)();
        return (0, r.useQuery)(
          [_e, t],
          async () => {
            const t = s.gA.Init(pe.II),
              n = await pe.b5.GetAllClientLogonInfo(e, t);
            if (1 !== n.GetEResult())
              throw (
                (console.error(
                  "Received error from GetAllClientLogonInfo",
                  n.GetEResult(),
                  n.Hdr().transport_error(),
                ),
                new Error(
                  `Error from GetAllClientLogonInfo: ${n.GetEResult()}`,
                ))
              );
            const a = [];
            for (const e of n.Body().sessions())
              e.device_type() !== de.gg.k_EGamingDeviceType_Unknown &&
                a.push(e.toObject());
            return {
              sessions: a,
              refetchInterval: n.Body().refetch_interval_sec() || 300,
            };
          },
          {
            staleTime: 3e5,
            refetchInterval: (e) => 1e3 * (e?.refetchInterval || 300),
          },
        );
      }
      class Ee {
        constructor(e) {
          Object.assign(this, e.toObject()),
            (this.bytes_to_download = parseInt(e.bytes_to_download()) || 0),
            (this.bytes_downloaded = parseInt(e.bytes_downloaded()) || 0),
            (this.bytes_staged = parseInt(e.bytes_staged()) || 0),
            (this.bytes_to_stage = parseInt(e.bytes_to_stage()) || 0),
            (this.bytes_required = parseInt(e.bytes_required()) || 0);
        }
        appid;
        app;
        category;
        app_type;
        num_downloading;
        num_paused;
        bytes_download_rate;
        bytes_downloaded;
        bytes_to_download;
        favorite;
        auto_update;
        installed;
        download_paused;
        changing;
        available_on_platform;
        bytes_staged;
        bytes_to_stage;
        bytes_required;
        source_buildid;
        target_buildid;
        estimated_seconds_remaining;
        queue_position;
        uninstalling;
        rt_time_scheduled;
        BIsDownloading() {
          return this.num_downloading > 0;
        }
        BIsAtTopOfQueue() {
          return 0 === this.queue_position;
        }
        BIsPaused() {
          return (
            this.download_paused &&
            (this.bytes_downloaded < this.bytes_to_download ||
              this.bytes_staged < this.bytes_to_stage ||
              -1 != this.queue_position)
          );
        }
        BHasPendingUpdate() {
          return (
            !this.BIsDownloading() &&
            !this.download_paused &&
            (this.bytes_downloaded < this.bytes_to_download ||
              this.bytes_staged < this.bytes_to_stage)
          );
        }
      }
      async function ve(e, t, n) {
        const a = t.client_instanceid,
          r = s.gA.Init(pe.eV);
        r.Body().set_fields("games"),
          r.Body().set_filters(n),
          r.Body().set_client_instanceid(a),
          r.Body().set_include_client_info(!0);
        const o = await pe.b5.GetClientAppList(e, r);
        if (1 !== o.GetEResult())
          throw (
            (console.error(
              "Received error from GetClientAppList",
              o.GetEResult(),
              o.Hdr().transport_error(),
            ),
            new ge(
              `Error from GetClientAppList: ${o.GetEResult()}`,
              o.GetEResult(),
            ))
          );
        const i = new Map();
        for (const e of o.Body().apps()) {
          const t = new Ee(e);
          i.set(e.appid(), t);
        }
        return {
          session: t,
          mapApps: i,
          clientInfo: o.Body().client_info().toObject(),
          refetchIntervals: {
            full: o.Body().refetch_interval_sec_full() || 3600,
            changing: o.Body().refetch_interval_sec_changing() || 60,
            updating: o.Body().refetch_interval_sec_updating() || 10,
          },
        };
      }
      function be(e, t, n) {
        return [fe, e, t, n];
      }
      function Ce(e, t = !0) {
        const n = ye(),
          s = (0, o.bY)(),
          i = (0, ue.M)(),
          l = (e) => {
            t && ((21 != e.result && 16 != e.result) || n.refetch());
          },
          c = (0, r.useQueries)(
            (n.data?.sessions || []).map((e) => ({
              queryKey: be(i, e.client_instanceid, "none"),
              queryFn: async () => ve(s, e, "none"),
              staletime: 36e5,
              refetchInterval: (e) => 1e3 * (e?.refetchIntervals.full || 3600),
              enabled: n.isSuccess && !n.isFetching,
              onError: l,
              retry: t,
            })),
          ),
          m = (0, a.useCallback)(
            (t) => {
              if (!e) return t;
              const n = new Map(Array.from(t.mapApps.entries()).filter(e));
              return { ...t, mapApps: n };
            },
            [e],
          ),
          d = (0, r.useQueries)(
            (n.data?.sessions || []).map((e, n) => ({
              queryKey: be(i, e.client_instanceid, "changing"),
              queryFn: async () =>
                (async function (e, t, n, a) {
                  if (!a) return;
                  const r = await ve(e, t, n);
                  for (const [e, t] of r.mapApps) a.mapApps.set(e, t);
                  return { ...r, mapApps: a.mapApps };
                })(s, e, "changing", c[n].data),
              enabled: c[n].isSuccess && !c[n].isFetching,
              staletime: 1e4,
              select: m,
              refetchInterval: (e) => {
                if (!e) return 6e4;
                let t = !1;
                for (const n of e.mapApps.values())
                  if (n.num_downloading > 0 || n.uninstalling) {
                    t = !0;
                    break;
                  }
                const n = e.refetchIntervals;
                return 1e3 * (t ? n.updating : n.changing);
              },
              onError: l,
              retry: t,
            })),
          );
        return {
          rgQueries: d.map((e, t) =>
            c[t].isError && !c[t].isFetching ? c[t] : e,
          ),
          refetch: () => {
            for (const e of d) e.remove();
            for (const e of c) e.refetch();
          },
        };
      }
      function we(e, t) {
        return [he, e, t];
      }
      function Ge(e, t = !0) {
        const n = (0, ue.M)(),
          { rgQueries: a } = Ce(void 0, t);
        return (0, r.useQuery)(
          we(n, e),
          () => {
            const t = new Map();
            for (const n of a)
              if (n.isSuccess) {
                const a = n.data?.session.client_instanceid,
                  r = n.data?.mapApps,
                  s = r.get(e);
                s &&
                  t.set(a, {
                    session: n.data.session,
                    app: s,
                    clientInfo: n.data.clientInfo,
                  });
              }
            return t;
          },
          {
            enabled: a.reduce((e, t) => e && t.isSuccess && !t.isFetching, !0),
            staleTime: 0,
            cacheTime: 0,
          },
        );
      }
      function Le(e, t, n, a) {
        const i = (0, o.bY)(),
          l = Ge(e),
          c = (0, ue.M)(),
          m = (0, r.useQueryClient)();
        return (0, r.useMutation)(
          async () => {
            const a = l?.data,
              r = a && a.get(t);
            if (r?.clientInfo?.clientcomm_version >= 1) {
              const e = s.gA.Init(pe.BF);
              e.Body().set_client_instanceid(t), e.Body().set_enable(!n);
              const a = await pe.b5.EnableOrDisableDownloads(i, e);
              if (1 != a.GetEResult())
                throw (
                  (console.error(
                    "Received error from EnableOrDisableDownloads",
                    a.GetEResult(),
                  ),
                  new Error(
                    `Error from EnableOrDisableDownloads: ${a.GetEResult()}`,
                  ))
                );
            } else {
              const a = s.gA.Init(pe.iH);
              a.Body().set_appid(e),
                a.Body().set_client_instanceid(t),
                a.Body().set_action(n ? 0 : 1);
              const r = await pe.b5.SetClientAppUpdateState(i, a);
              if (1 != r.GetEResult())
                throw (
                  (console.error(
                    "Received error from SetClientAppUpdateState",
                    r.GetEResult(),
                  ),
                  new Error(
                    `Error from SetClientAppUpdateState: ${r.GetEResult()}`,
                  ))
                );
            }
            r &&
              ((a.get(t).app.download_paused = n),
              (a.get(t).app.num_downloading = n ? 0 : 1)),
              m.setQueryData(we(c, e), a),
              l.refetch();
          },
          { onSuccess: a },
        );
      }
      var Re = n(27522),
        Ae = n.n(Re);
      const Ne = a.forwardRef(function (
        {
          imgURL: e,
          glow: t,
          pauseAnimation: n,
          hidden: r,
          alt: s,
          className: o,
        },
        i,
      ) {
        const [l, c] = a.useState(!1);
        if (r)
          return a.createElement("div", { className: Ae().HiddenLabel }, "?");
        const m = l && t;
        return a.createElement(
          "div",
          {
            ref: i,
            className: (0, U.Z)(
              Ae().AchievementIconWrapper,
              o,
              n && Ae().RareAchievementNoAnimation,
            ),
          },
          m &&
            a.createElement(
              "div",
              { className: Ae().RareAchievementIconGlowContainerRoot },
              a.createElement(
                "div",
                { className: Ae().RareAchievementIconGlowContainer },
                a.createElement("div", {
                  className: Ae().RareAchievementIconGlow,
                }),
              ),
            ),
          a.createElement("img", {
            className: (0, U.Z)(Ae().Icon, m && Ae().IconGlow),
            src: e,
            loading: "lazy",
            alt: s,
            onLoad: () => c(!0),
          }),
        );
      });
      var Se = n(22042),
        Be = n(10162),
        ke = n(85305),
        Pe = n(76478);
      function Ie({ nPercent: e, indeterminate: t, animate: n, className: r }) {
        return a.createElement("div", {
          className: (0, U.Z)(
            Pe.ProgressBar,
            n && Pe.AnimateProgress,
            t && Pe.Indeterminate,
            r,
          ),
          style: { "--percent": e / 100 },
        });
      }
      var De = n(54117);
      var xe = n(89729),
        Me = n(19766),
        Te = n(50898),
        Ue = n(90069),
        Fe = n(12251),
        Xe = n(24549),
        He = n(3980);
      const Oe = a.createContext(void 0);
      function $e() {
        const e = (0, a.useContext)(Oe);
        if (!e)
          throw new Error(
            "Attempted to get download client context outside of provider",
          );
        return e;
      }
      function Ze() {
        const e = $e().remoteDownloadClientId,
          t = ye(),
          n = Ce();
        if (
          !f.De.IN_CLIENT &&
          t.data &&
          0 !== t.data.sessions.length &&
          n.rgQueries.some((e) => e.data)
        )
          return e
            ? t.data.sessions.find((t) => t.client_instanceid === e)
            : t.data.sessions[0];
      }
      function Qe({ children: e }) {
        const [t, n] = (0, a.useState)(void 0),
          r = (0, a.useMemo)(
            () => ({ remoteDownloadClientId: t, setRemoteDownloadClientId: n }),
            [t],
          );
        return a.createElement(Oe.Provider, { value: r }, e);
      }
      function qe(e) {
        switch (e) {
          case de.gg.k_EGamingDeviceType_StandardPC:
            return (0, F.Xx)("#Library_DeviceType_PC");
          case de.gg.k_EGamingDeviceType_SteamDeck:
            return (0, F.Xx)("#Library_DeviceType_SteamDeck");
          default:
            return;
        }
      }
      const We = {
        bFitToWindow: !0,
        bOverlapHorizontal: !0,
        bMatchWidth: !1,
        bShiftToFitWindow: !0,
      };
      function Ye({ sessions: e, setRemoteDownloadClientId: t }) {
        return a.createElement(
          "ul",
          { className: He.ClientListDropdownMenu },
          e.map((e) =>
            a.createElement(
              Se.Zo,
              {
                onSelected: () => {
                  t(e.client_instanceid);
                },
                key: e.client_instanceid,
              },
              (0, F.Xx)(
                "#GamesList_Client_Indicator",
                qe(e.device_type),
                e.machine_name,
              ),
            ),
          ),
        );
      }
      function Ve() {
        const e = ye(),
          t = Ze(),
          n = $e().setRemoteDownloadClientId,
          r = (0, a.useRef)(null),
          s = (0, a.useCallback)(() => {
            e.data &&
              (0, ee.yV)(
                a.createElement(Ye, {
                  sessions: e.data.sessions,
                  setRemoteDownloadClientId: n,
                }),
                r.current,
                We,
              );
          }, [n, r, e.data]);
        return t
          ? a.createElement(
              "div",
              { className: He.RemoteDownloadClientBar },
              a.createElement(
                "span",
                { className: He.RemoteDownloadHeader },
                (0, F.kQ)(
                  "#GamesList_Header_RemoteDownload",
                  a.createElement(
                    a.Fragment,
                    null,
                    a.createElement(
                      "span",
                      { className: He.ClientIndicator },
                      (0, F.Xx)(
                        "#GamesList_Client_Indicator",
                        qe(t.device_type),
                        t.machine_name,
                      ),
                      e.data.sessions.length > 1 &&
                        a.createElement(
                          "button",
                          {
                            ref: r,
                            onClick: s,
                            className: He.ClientSelectDropdown,
                          },
                          a.createElement(z, null),
                        ),
                    ),
                  ),
                ),
              ),
              a.createElement(
                T.HP,
                {
                  toolTipContent: (0, F.Xx)("#GamesList_RemoteDownload_Help"),
                  className: He.InfoIcon,
                },
                a.createElement(j, null),
              ),
            )
          : a.createElement(
              "details",
              {
                className: (0, U.Z)(
                  He.RemoteDownloadClientBar,
                  He.NoConnection,
                ),
              },
              a.createElement(
                "summary",
                { className: He.RemoteDownloadHeader },
                a.createElement(
                  "span",
                  { className: He.RemoteDownloadStatus },
                  (0, F.kQ)(
                    "#GamesList_Header_RemoteDownloadStatus",
                    a.createElement(
                      "span",
                      { className: He.NoConnectionText },
                      (0, F.Xx)("#GamesList_RemoteDownload_NoConnection"),
                    ),
                  ),
                ),
                a.createElement(
                  "span",
                  { className: He.LearnMoreCta },
                  (0, F.Xx)("#GamesList_RemoteDownload_LearnMore"),
                  a.createElement(z, null),
                ),
              ),
              a.createElement(
                "p",
                { className: He.RemoteDownloadHelp },
                (0, F.kQ)(
                  "#GamesList_RemoteDownload_Info",
                  (0, F.Xx)("#GamesList_RemoteDownload_Help"),
                  a.createElement(
                    "a",
                    {
                      href: "https://help.steampowered.com/faqs/view/1025-BD94-12FC-3409",
                    },
                    (0, F.Xx)("#GamesList_RemoteDownload_ReadTheFAQ"),
                  ),
                ),
              ),
            );
      }
      function je({ app: e, clientid: t }) {
        const n = !e.download_paused,
          r = Le(e.appid, t, !0),
          s = Le(e.appid, t, !1),
          o = n ? "#GamesList_Header_Downloading" : "#GamesList_Header_Paused",
          i = n ? r : s,
          l = e.bytes_to_download
            ? Math.floor((100 * e.bytes_downloaded) / e.bytes_to_download)
            : 0,
          c = !(e.bytes_downloaded && e.bytes_to_download),
          m = n ? a.createElement(O.dzL, null) : a.createElement(Y, null),
          d = n
            ? (0, F.Xx)("#GamesList_Button_Pause")
            : (0, F.Xx)("#GamesList_Button_Resume"),
          u = (0, a.useContext)(yn);
        return (
          (0, a.useEffect)(
            () => (u?.(e.appid, !0), () => u?.(e.appid, !1)),
            [e.appid, u],
          ),
          a.createElement(
            a.Fragment,
            null,
            a.createElement(
              "div",
              { className: He.DownloadBarWithLabel },
              a.createElement(
                "span",
                { className: He.DownloadStatus },
                (0, F.Xx)(o, l),
              ),
              a.createElement(
                "div",
                { className: He.DownloadProgress },
                a.createElement(
                  "span",
                  { className: He.CurrentSpace },
                  (0, Xe.l)(e.bytes_downloaded, {
                    nDigitsAfterDecimal: 1,
                    nMinimumDigitsAfterDecimal: 1,
                    bValueIsInBytes: !0,
                  }),
                ),
                a.createElement("span", null, " / "),
                a.createElement(
                  "span",
                  { className: He.TotalSpace },
                  (0, Xe.l)(e.bytes_to_download, {
                    nDigitsAfterDecimal: 1,
                    nMinimumDigitsAfterDecimal: 1,
                    bValueIsInBytes: !0,
                  }),
                ),
              ),
              e.BIsDownloading() &&
                e.estimated_seconds_remaining > 0 &&
                a.createElement(
                  "span",
                  { className: He.DownloadEstimate },
                  (0, Fe.jA)(e.estimated_seconds_remaining),
                ),
              a.createElement(Ie, {
                className: He.DownloadBar,
                animate: n,
                nPercent: l,
                indeterminate: c,
              }),
            ),
            a.createElement(
              "button",
              {
                disabled: i.isLoading,
                onClick: () => {
                  i.mutateAsync(), un(e.appid);
                },
                className: He.DownloadIconButton,
              },
              m,
              d,
            ),
          )
        );
      }
      function ze({ app: e, clientid: t }) {
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(
            "button",
            { disabled: !0, className: He.DownloadIconButton },
            a.createElement(V, null),
            (0, F.Xx)("#GamesList_Button_Uninstalling"),
          ),
        );
      }
      function Ke({ app: e, clientid: t }) {
        const n = (function (e, t, n) {
            const a = (0, o.bY)(),
              i = Ge(e),
              l = (0, ue.M)(),
              c = (0, r.useQueryClient)();
            return (0, r.useMutation)(
              async () => {
                const n = i?.data,
                  r = n && n.get(t),
                  o = s.gA.Init(pe.iH);
                o.Body().set_appid(e),
                  o.Body().set_client_instanceid(t),
                  o.Body().set_action(1);
                const m = await pe.b5.SetClientAppUpdateState(a, o);
                if (1 != m.GetEResult())
                  throw (
                    (console.error(
                      "Received error from SetClientAppUpdateState",
                      m.GetEResult(),
                    ),
                    new Error(
                      `Error from SetClientAppUpdateState: ${m.GetEResult()}`,
                    ))
                  );
                r &&
                  ((n.get(t).app.download_paused = !1),
                  (n.get(t).app.num_downloading = 1)),
                  c.setQueryData(we(l, e), n),
                  i.refetch();
              },
              { onSuccess: n },
            );
          })(e.appid, t),
          i = e.rt_time_scheduled,
          l =
            i &&
            (0, F.jr)(i, { bGranularFutureTime: !0 }) +
              " " +
              (0, Fe.Sc)(i, { bForce24HourClock: !1 });
        return a.createElement(
          a.Fragment,
          null,
          l && a.createElement("span", { className: He.UpdateSchedule }, l),
          a.createElement(
            "button",
            {
              disabled: n.isLoading,
              onClick: () => {
                n.mutateAsync(), un(e.appid);
              },
              className: He.DownloadIconButton,
            },
            a.createElement(O.Lao, null),
            (0, F.Xx)("#GamesList_Button_UpdateRequired"),
          ),
        );
      }
      function Je({ app: e, closeModal: t, onOK: n }) {
        return a.createElement(Te.uH, {
          strOKButtonText: (0, F.Xx)("#GamesList_Button_Uninstall"),
          strCancelButtonText: (0, F.Xx)("#GamesList_Button_Cancel"),
          strDescription: (0, F.Xx)(
            "#GamesList_RemoteDownload_UninstallConfirm",
            e.app,
          ),
          strTitle: (0, F.Xx)("#GamesList_Button_Uninstall"),
          closeModal: t,
          onOK: n,
        });
      }
      function et({ app: e, clientid: t }) {
        const n = (function (e, t, n) {
            const a = (0, o.bY)(),
              i = Ge(e),
              l = (0, ue.M)(),
              c = (0, r.useQueryClient)();
            return (0, r.useMutation)(
              async () => {
                const n = s.gA.Init(pe.fF);
                n.Body().set_appid(e), n.Body().set_client_instanceid(t);
                const r = await pe.b5.InstallClientApp(a, n);
                if (1 != r.GetEResult())
                  throw (
                    (console.error(
                      "Received error from InstallClientApp",
                      r.GetEResult(),
                    ),
                    new Error(`Error from InstallClientApp: ${r.GetEResult()}`))
                  );
                const o = i?.data;
                o &&
                  o.get(t) &&
                  ((o.get(t).app.num_downloading = 1),
                  (o.get(t).app.download_paused = !1)),
                  c.setQueryData(we(l, e), o),
                  i.refetch();
              },
              { onSuccess: n },
            );
          })(e.appid, t),
          i = (function (e, t, n) {
            const a = (0, o.bY)(),
              i = Ge(e),
              l = (0, ue.M)(),
              c = (0, r.useQueryClient)();
            return (0, r.useMutation)(
              async () => {
                const n = s.gA.Init(pe.Zu);
                n.Body().set_appid(e), n.Body().set_client_instanceid(t);
                const r = await pe.b5.UninstallClientApp(a, n);
                if (1 != r.GetEResult())
                  throw (
                    (console.error(
                      "Received error from UninstallClientApp",
                      r.GetEResult(),
                    ),
                    new Error(
                      `Error from UninstallClientApp: ${r.GetEResult()}`,
                    ))
                  );
                const o = i?.data;
                o && o.get(t) && (o.get(t).app.uninstalling = !0),
                  c.setQueryData(we(l, e), o),
                  i.refetch();
              },
              { onSuccess: n },
            );
          })(e.appid, t),
          l = e.installed ? i : n,
          c = e.installed
            ? () => {
                (0, Ue.AM)(
                  a.createElement(Je, {
                    app: e,
                    onOK: () => {
                      i.mutateAsync(), un(e.appid);
                    },
                  }),
                  window,
                );
              }
            : () => {
                n.mutateAsync(), un(e.appid);
              },
          m = e.installed
            ? "#GamesList_Button_Uninstall"
            : "#GamesList_Button_Download",
          d = e.installed ? V : Y;
        return a.createElement(
          a.Fragment,
          null,
          !e.installed &&
            e.bytes_required > 0 &&
            a.createElement(
              "span",
              { className: He.DownloadSize },
              (0, Xe.l)(e.bytes_required, { nDigitsAfterDecimal: 1 }),
            ),
          a.createElement(
            "button",
            {
              disabled: l.isLoading,
              onClick: c,
              className: He.DownloadIconButton,
            },
            a.createElement(d, null),
            (0, F.Xx)(m),
          ),
        );
      }
      function tt(e) {
        return e.BIsDownloading() || e.BIsPaused() || e.changing;
      }
      function nt({ game: e }) {
        const t = Ge(e.appid, !1),
          n = Ze(),
          r = n?.client_instanceid;
        if (n && 0 === t.data?.size) return null;
        if (!t.data || 0 === t.data.size || !n) return null;
        const s = t.data.get(r).app;
        return s.BIsDownloading() || s.BIsPaused()
          ? a.createElement(
              "div",
              { className: He.DownloadBarContainer },
              a.createElement(je, { key: "downloading", app: s, clientid: r }),
            )
          : null;
      }
      function at({ game: e, className: t, enableDownloadBar: n = !1 }) {
        const r = Ge(e.appid, !1),
          s = Ze(),
          o = s?.client_instanceid;
        if (s && 0 === r.data?.size)
          return a.createElement(
            "div",
            { className: (0, U.Z)(He.RemoteControls, t) },
            a.createElement(
              "span",
              { className: He.NoRemoteControl },
              (0, F.Xx)("#GamesList_RemoteDownload_NoRemoteControl"),
            ),
          );
        if (!r.data || 0 === r.data.size || !s) return null;
        const i = [],
          l = r.data.get(o),
          c = l?.app;
        if (!c) return null;
        if (c.BIsDownloading() || c.BIsPaused()) {
          if (!n) return null;
          i.push(
            a.createElement(je, { key: "downloading", app: c, clientid: o }),
          );
        } else
          c.uninstalling
            ? i.push(
                a.createElement(ze, {
                  key: "uninstalling",
                  app: c,
                  clientid: o,
                }),
              )
            : c.BHasPendingUpdate()
              ? i.push(
                  a.createElement(Ke, {
                    key: "updatePending",
                    app: c,
                    clientid: o,
                  }),
                )
              : i.push(
                  a.createElement(et, {
                    key: "installuninstall",
                    app: c,
                    clientid: o,
                  }),
                );
        return a.createElement(
          "div",
          { className: (0, U.Z)(He.RemoteControls, t) },
          a.createElement("div", { className: He.ButtonContainer }, i),
        );
      }
      function rt({ visible: e, ...t }) {
        return e ? a.createElement(nt, { ...t }) : null;
      }
      function st({ visible: e, className: t, ...n }) {
        return Ze()
          ? e
            ? a.createElement(at, { className: t, ...n })
            : a.createElement("div", {
                className: (0, U.Z)(He.RemoteControls, t),
              })
          : null;
      }
      var ot;
      !(function (e) {
        (e.HoursPlayed = "playtime"),
          (e.RecentlyPlayed = "recent"),
          (e.Name = "name"),
          (e.AchievementCompletion = "achievements");
      })(ot || (ot = {}));
      const it = (0, de.dt)((0, de.jM)(f.De.LANGUAGE)),
        lt = new Intl.Collator([it, "en"]);
      function ct(e, t) {
        return (
          lt.compare(
            (e.sort_as || e.name || "").trim(),
            (t.sort_as || t.name || "").trim(),
          ) ||
          (function (e, t) {
            return e.appid - t.appid;
          })(e, t)
        );
      }
      function mt(e, t, n) {
        const a = n.find((t) => t.appid === e.appid) ?? {
            unlocked: 0,
            total: 0,
          },
          r = n.find((e) => e.appid === t.appid) ?? { unlocked: 0, total: 0 };
        return (
          r.unlocked / (r.total || 1) - a.unlocked / (a.total || 1) ||
          (function (e, t, n) {
            const a = n.find((t) => t.appid === e.appid) ?? {
              unlocked: 0,
              total: 0,
            };
            return (
              (n.find((e) => e.appid === t.appid) ?? { unlocked: 0, total: 0 })
                .total - a.total || ct(e, t)
            );
          })(e, t, n)
        );
      }
      function dt(e, t) {
        const n = R(C()),
          r = (0, a.useCallback)(
            (e, a) => {
              switch (t) {
                case ot.HoursPlayed:
                  return (
                    (r = e),
                    ((s = a).playtime_forever ?? 0) -
                      (r.playtime_forever ?? 0) || ct(r, s)
                  );
                case ot.RecentlyPlayed:
                  return (function (e, t) {
                    return (
                      t.rtime_last_played - e.rtime_last_played || ct(e, t)
                    );
                  })(e, a);
                case ot.AchievementCompletion:
                  if (n.data) return mt(e, a, n.data);
                default:
                case ot.Name:
                  return ct(e, a);
              }
              var r, s;
            },
            [t, n.data],
          );
        return (0, a.useMemo)(
          () => ({
            data: e.data && [...e.data].sort(r),
            isLoading:
              e.isLoading || (t === ot.AchievementCompletion && n.isLoading),
            error: e.error,
          }),
          [r, e.data, e.isLoading, e.error, n.isLoading, t],
        );
      }
      var ut,
        pt = n(54129);
      function _t(e) {
        if (e.isLoading) return "";
        const t = e.data?.length;
        return void 0 === t ? "" : `(${t})`;
      }
      function ft(e, t, n, r) {
        const s = w(),
          o = E.Get().GetReviewCount(),
          i = E.Get().GetFollowedCount();
        return (0, a.useMemo)(() => {
          const a = [];
          return (
            a.push({
              tab: ut.RecentlyPlayed,
              label: (0, F.Xx)("#GamesList_Tab_RecentlyPlayed", _t(n)),
            }),
            a.push({
              tab: ut.All,
              label: (0, F.Xx)("#GamesList_Tab_AllGames", _t(t)),
            }),
            (s ||
              e === ut.Perfect ||
              r.isLoading ||
              (r.data && r.data.length > 0)) &&
              a.push({
                tab: ut.Perfect,
                label: (0, F.Xx)("#GamesList_Tab_PerfectGames", _t(r)),
              }),
            a.push(
              {
                tab: ut.Followed,
                href: `${h._.ProfileURL}followedgames`,
                label: (0, F.Xx)(
                  "#GamesList_Tab_Followed",
                  i > 0 ? `(${i})` : "",
                ),
              },
              {
                tab: ut.Reviews,
                href: `${h._.ProfileURL}reviews`,
                label: (0, F.Xx)(
                  "#GamesList_Tab_Reviews",
                  o > 0 ? `(${o})` : "",
                ),
              },
              {
                tab: ut.Wishlist,
                href: `${h._.ProfileURL}wishlist`,
                label: (0, F.Xx)("#GamesList_Tab_Wishlist"),
                className: pt.WishlistTab,
              },
            ),
            a
          );
        }, [e, t, n, r, o, i, s]);
      }
      function ht({ tabs: e, strTab: t, setStrTab: n }) {
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(
            "div",
            {
              className: (0, U.Z)(
                "sectionTabs item responsive_hidden",
                pt.tabList,
              ),
            },
            e.map((e) =>
              e.href
                ? a.createElement(
                    "a",
                    {
                      className: (0, U.Z)("sectionTab", e.className),
                      href: e.href,
                      key: e.label,
                    },
                    a.createElement("span", null, e.label),
                  )
                : a.createElement(
                    "a",
                    {
                      className: (0, U.Z)(
                        "sectionTab",
                        e.tab === t && "active",
                        e.className,
                      ),
                      key: e.tab,
                      href: `${h._.ProfileURL}games/?tab=${e.tab}`,
                      onClick: (t) => {
                        t.preventDefault(), n(e.tab);
                      },
                    },
                    a.createElement("span", null, e.label),
                  ),
            ),
          ),
          a.createElement(
            "div",
            {
              className: (0, U.Z)(
                "nonresponsive_hidden responsive_tab_ctn sharedfiles_responsive_tab",
                pt.SelectBaseline,
              ),
            },
            a.createElement(
              "div",
              { className: "responsive_tab_control" },
              a.createElement(
                "select",
                {
                  value: t,
                  onChange: (t) => {
                    const a = e.find((e) => e.tab === t.target.value);
                    a &&
                      (t.preventDefault(),
                      a.href ? (location.href = a.href) : n(a.tab));
                  },
                },
                e.map((e) =>
                  e.href
                    ? a.createElement(
                        "option",
                        { value: e.tab, key: e.label },
                        e.label,
                      )
                    : a.createElement(
                        "option",
                        { value: e.tab, key: e.tab },
                        e.label,
                      ),
                ),
              ),
            ),
          ),
          a.createElement("div", {
            id: "tabs_baseline",
            className: (0, U.Z)("responsive_tab_baseline", pt.TabBaseline),
          }),
        );
      }
      !(function (e) {
        (e.All = "all"),
          (e.RecentlyPlayed = "recent"),
          (e.Perfect = "perfect"),
          (e.Followed = "followed"),
          (e.Reviews = "reviews"),
          (e.Wishlist = "wishlist");
      })(ut || (ut = {}));
      const gt =
          n.p +
          "images/applications/community/defaultappheader.png?v=valveisgoodatcaching",
        yt = parseInt(xe.GameHeight),
        Et = parseInt(xe.GamePadding),
        vt = parseInt(xe.RemoteControlsHeight),
        bt = yt + Et;
      function Ct() {
        return (function (e) {
          const t = (0, a.useMemo)(() => matchMedia(e), [e]),
            [n, r] = (0, a.useState)(t.matches);
          return (
            (0, a.useEffect)(() => {
              function e(e) {
                r(e.matches);
              }
              return (
                t.addEventListener("change", e),
                () => t.removeEventListener("change", e)
              );
            }, [t]),
            n
          );
        })(`(max-width: ${xe.MobileBreakpoint})`);
      }
      function wt(e) {
        const t = N(e.appid),
          n = (function (e) {
            const t = (0, o.bY)(),
              n = E.Get();
            return (0, r.useQuery)(["FriendsWhoPlayCount", e], () =>
              n.GetFriendsWhoPlayCount(t, e),
            );
          })(e.appid),
          s = (function (e) {
            const t = E.Get(),
              n = t.GetProfileSteamId();
            return (0, r.useQuery)(["TradingCardsCount", n, e], () =>
              t.GetTradingCardsCount(n, e),
            );
          })(e.appid);
        return (0, a.useMemo)(() => {
          const a = [];
          return (
            a.push({
              href: `${f.De.COMMUNITY_BASE_URL}app/${e.appid}`,
              label: (0, F.Xx)("#Community_GameHubMenuItem"),
              key: "gamehub",
            }),
            void 0 !== t.data &&
              a.push({
                href: `${h._.ProfileURL}screenshots/?appid=${e.appid}`,
                label: (0, F.Xx)(
                  "#Community_ScreenshotsMenuItemFirstPerson",
                  t.data > 0 ? `(${t.data})` : "",
                ),
                key: "screenshots",
              }),
            void 0 !== n.data &&
              a.push({
                href: `${h._.ProfileURL}friendsthatplay/${e.appid}`,
                label: (0, F.Xx)(
                  "#Community_FriendsWhoPlayMenuItemFirstPerson",
                  n.data > 0 ? `(${n.data})` : "",
                ),
                key: "friendswhoplay",
              }),
            void 0 !== s.data &&
              a.push({
                href: `${h._.ProfileURL}gamecards/${e.appid}`,
                label: (0, F.Xx)(
                  "#Community_TradingCardsMenuItemFirstPerson",
                  `(${s.data.owned}/${s.data.total})`,
                ),
                key: "tradingcards",
              }),
            a.push({
              href: `${h._.ProfileURL}recommended/${e.appid}`,
              label: (0, F.Xx)("#Community_ReviewMenuItemFirstPerson"),
              key: "review",
            }),
            {
              rgLinks: a,
              bIsLoading: t.isLoading || n.isLoading || s.isLoading,
            }
          );
        }, [e, t.data, t.isLoading, n.data, n.isLoading, s.data, s.isLoading]);
      }
      function Gt(e) {
        const t = b(),
          n = N(e.appid),
          s = (function (e) {
            const t = (0, o.bY)(),
              n = E.Get(),
              a = n.GetProfileSteamId();
            return (0, r.useQuery)(
              ["UserIndividualRecommendations", a, e],
              () => n.GetIndividualHasRecommendations(a, t, e),
            );
          })(e.appid);
        return (0, a.useMemo)(() => {
          const a = [];
          return (
            a.push({
              href: `${f.De.COMMUNITY_BASE_URL}app/${e.appid}`,
              label: (0, F.Xx)("#Community_GameHubMenuItem"),
              key: "gamehub",
            }),
            n.data &&
              n.data > 0 &&
              a.push({
                href: `${h._.ProfileURL}screenshots/?appid=${e.appid}`,
                label: (0, F.Xx)(
                  "#Community_ScreenshotsMenuItemThirdPerson",
                  t,
                  n.data > 0 ? `(${n.data})` : "",
                ),
                key: "screenshots",
              }),
            s.data &&
              a.push({
                href: `${h._.ProfileURL}recommended/${e.appid}`,
                label: (0, F.Xx)("#Community_ReviewMenuItemThirdPerson", t),
                key: "review",
              }),
            { rgLinks: a, bIsLoading: n.isLoading }
          );
        }, [e, t, n.data, n.isLoading, s.data]);
      }
      function Lt(e) {
        return w() ? wt(e) : Gt(e);
      }
      function Rt(e) {
        const t = b(),
          n = (function (e) {
            return E.Get().GetGCPDGames().includes(e.appid);
          })(e),
          r = w();
        return (0, a.useMemo)(() => {
          const a = [];
          return (
            e.has_community_visible_stats &&
              (a.push({
                href: `${h._.ProfileURL}stats/${e.appid}/?tab=achievements`,
                label: r
                  ? (0, F.Xx)("#Community_UsersAchievementsFirstPerson")
                  : (0, F.Xx)("#Community_UsersAchievements", t),
                key: "achievements",
              }),
              a.push({
                href: `${f.De.COMMUNITY_BASE_URL}stats/${e.appid}/achievements/`,
                label: (0, F.Xx)("#Community_GlobalAchievements"),
                key: "global_achievements",
              })),
            e.has_leaderboards &&
              (a.push({
                href: `${h._.ProfileURL}stats/${e.appid}/?tab=leaderboards`,
                label: r
                  ? (0, F.Xx)("#Community_UsersLeaderboardsFirstPerson")
                  : (0, F.Xx)("#Community_UsersLeaderboards", t),
                key: "leaderboards",
              }),
              a.push({
                href: `${f.De.COMMUNITY_BASE_URL}stats/${e.appid}/leaderboards/`,
                label: (0, F.Xx)("#Community_GlobalLeaderboards"),
                key: "global_leaderboards",
              })),
            r &&
              n &&
              a.push({
                href: `${h._.ProfileURL}gcpd/${e.appid}/`,
                label: (0, F.Xx)("#Community_GamePersonalData", t),
                key: "gcpd",
              }),
            a
          );
        }, [t, e, n, r]);
      }
      function At(e) {
        const t = w(),
          n = re(e.appid),
          r = t,
          { mutate: s } = oe(e.appid);
        return (0, a.useMemo)(() => {
          const t = [];
          return (
            t.push({
              href: `${f.De.STORE_BASE_URL}app/${e.appid}`,
              label: (0, F.Xx)("#Community_StorePage"),
              key: "store",
            }),
            (0, J.e7)(f.De.EREALM) ||
              t.push(
                {
                  href: `${f.De.IN_CLIENT ? "steam://openurl_external/" : ""}${f.De.STORE_BASE_URL}forum/${e.appid}`,
                  label: (0, F.Xx)("#Community_Forums"),
                  key: "forums",
                },
                {
                  href: `${f.De.COMMUNITY_BASE_URL}search/groups/?text=${encodeURIComponent(e.name)}`,
                  label: (0, F.Xx)("#Community_Groups"),
                  key: "groups",
                },
                {
                  href: `${f.De.IN_CLIENT ? "steam://openurl_external/" : ""}${f.De.STORE_BASE_URL}appofficialsite/${e.appid}`,
                  label: (0, F.Xx)("#Community_OfficialWebsite"),
                  key: "website",
                },
                {
                  href: `${f.De.STORE_BASE_URL}news/?appids=${e.appid}`,
                  label: (0, F.Xx)("#Community_News"),
                  key: "news",
                },
              ),
            r &&
              (n
                ? t.push({
                    action: () => s(!1),
                    label: (0, F.Xx)("#AppPrivacy_UnmarkAsPrivate"),
                    key: "appprivacy",
                  })
                : t.push({
                    action: () => s(!0),
                    label: (0, F.Xx)("#AppPrivacy_MarkAsPrivate"),
                    key: "appprivacy",
                    tooltip: (0, F.Xx)("#AppPrivacy_Explanation"),
                  })),
            t
          );
        }, [e, r, n, s]);
      }
      const Nt = a.forwardRef(
        ({ achievement: e, appid: t, className: n }, r) => {
          const s = parseFloat(e.player_percent_unlocked) < 10,
            o = `${f.De.MEDIA_CDN_COMMUNITY_URL}images/apps/${t}/${e.icon}`;
          return a.createElement(Ne, {
            ref: r,
            className: (0, U.Z)(
              Me.AchievementIcon,
              Me.RareAchievementIconWrapper,
              n,
            ),
            glow: s,
            imgURL: o,
          });
        },
      );
      function St({ appid: e, achievement: t }) {
        const n = `${f.De.MEDIA_CDN_COMMUNITY_URL}images/apps/${e}/${t.icon}`,
          r = parseFloat(t.player_percent_unlocked) < 10;
        return a.createElement(
          "div",
          { className: Me.AchievementHover },
          a.createElement(
            "div",
            { className: Me.Background },
            a.createElement("img", { className: Me.Blur, src: n }),
          ),
          a.createElement(
            "div",
            { className: Me.TopSection },
            a.createElement(Nt, { appid: e, achievement: t }),
            a.createElement(
              "div",
              { className: Me.TextSection },
              a.createElement("div", { className: Me.Name }, t.name),
              a.createElement("div", { className: Me.Desc }, t.desc),
            ),
          ),
          t.player_percent_unlocked &&
            a.createElement(
              "div",
              { className: Me.Unlocked },
              a.createElement(
                "span",
                { className: (0, U.Z)(r && Me.RareLabel) },
                (0, F.Xx)(
                  "#GamesList_Achievement_Unlock_Percentage",
                  t.player_percent_unlocked,
                ),
              ),
            ),
        );
      }
      const Bt = {
          direction: "top",
          bEnablePointerEvents: !1,
          style: { width: void 0, height: void 0, minHeight: void 0 },
        },
        kt = a.forwardRef(({ appid: e, achievement: t }, n) =>
          a.createElement(
            ke.tl,
            {
              hoverContent: a.createElement(St, { appid: e, achievement: t }),
              hoverProps: Bt,
            },
            a.createElement(Nt, { ref: n, achievement: t, appid: e }),
          ),
        );
      function Pt({
        children: e,
        remainderRenderer: t,
        totalItemOverride: n,
        itemPadding: r = 0,
        ...s
      }) {
        const [o, ...i] = e,
          l = (0, B.yU)((e) => {
            p(e.contentRect.width);
          }),
          c = (0, B.yU)((e) => {
            d(e.contentRect.width);
          }),
          [m, d] = (0, a.useState)(0),
          [u, p] = (0, a.useState)(0),
          _ = n ?? e.length;
        let f = e.length;
        if (u && m) {
          let t = 1,
            n = u;
          for (; n < m; ) (n += r), n + u <= m && ((n += u), t++);
          t < _ && (f = Math.max(0, Math.min(e.length, t - 1)));
        }
        return a.createElement(
          "div",
          { ref: c, ...s, style: 0 === m || 0 === u ? { opacity: 0 } : void 0 },
          f > 0 && a.cloneElement(o, { ref: l }),
          f > 1 && i.slice(0, f - 1),
          f < _ && t(_ - f),
        );
      }
      function It({ game: e, visible: t, totalUnlocked: n }) {
        const r = (function (e, t) {
            const n = (0, o.bY)(),
              a = E.Get(),
              r = a.GetProfileSteamId();
            return p({
              batchKey: ["TopAchievements", r, f.De.LANGUAGE],
              queryKey: [e.appid],
              queryFn: (e) => a.FetchTopAchievementsBatch(n, r, e),
              requestMatcher: (e, t) => e.appid === t.appid,
              batchDuration: 100,
              request: e,
              enabled: t,
            });
          })(e, t),
          s = `${h._.ProfileURL}stats/${e.appid}/?tab=achievements`;
        return r.data?.achievements?.length > 0
          ? a.createElement(
              Pt,
              {
                className: Me.AchievementIcons,
                totalItemOverride: n,
                itemPadding: 8,
                remainderRenderer: (e) =>
                  a.createElement(
                    "a",
                    { href: s, className: Me.Remainder },
                    "+",
                    e,
                  ),
              },
              r.data.achievements.map((t) =>
                a.createElement(kt, {
                  appid: e.appid,
                  achievement: t,
                  key: `${t.statid}${t.bit}`,
                }),
              ),
            )
          : null;
      }
      function Dt({ game: e, visible: t, showTop: n }) {
        const r = A(e, t).data;
        if (!r) return null;
        if (0 === r.total) return null;
        const s = Math.floor((r.unlocked / r.total) * 100),
          o = (0, F.Xx)("#GamesList_Header_Achievements"),
          i = (0, F.Xx)("#GamesList_Achievement_Fraction", r.unlocked, r.total),
          l = `${h._.ProfileURL}stats/${e.appid}/?tab=achievements`;
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(
            "div",
            { className: Me.AchievementsProgress },
            a.createElement(
              "a",
              { className: Me.AchievementsProgressLabel, href: l },
              o,
            ),
            a.createElement("span", { className: Me.AchievementsFraction }, i),
            a.createElement(Ie, {
              className: Me.AchievementsProgressBar,
              animate: !1,
              nPercent: s,
            }),
          ),
          n &&
            a.createElement(It, {
              game: e,
              visible: t,
              totalUnlocked: r.unlocked,
            }),
        );
      }
      function xt({ game: e, visible: t }) {
        const n = A(e, t).data;
        return n && t && n.total && n.unlocked === n.total
          ? a.createElement(
              "div",
              { title: (0, F.Xx)("#Perfect_Game_Description") },
              a.createElement(O.Gue, {
                fullcolor: !0,
                className: Me.PerfectRibbon,
              }),
            )
          : null;
      }
      const Mt = () => {};
      function Tt({ links: e }) {
        return a.createElement(
          Se.xV,
          { className: Me.NavDropdownMenu },
          e.map((e) =>
            a.createElement(
              Se.Zo,
              { onSelected: "action" in e ? () => e.action() : Mt, key: e.key },
              a.createElement(Kt, { link: e }),
            ),
          ),
        );
      }
      function Ut({ game: e }) {
        const t = Lt(e);
        return t.bIsLoading
          ? a.createElement(
              Se.xV,
              { className: Me.NavDropdownMenu },
              a.createElement(M.V, { size: "small", position: "center" }),
            )
          : a.createElement(Tt, { links: t.rgLinks });
      }
      const Ft = {
        bFitToWindow: !0,
        bOverlapHorizontal: !0,
        bMatchWidth: !1,
        bShiftToFitWindow: !0,
      };
      function Xt({ links: e, children: t, className: n }) {
        const r = (0, a.useRef)(null),
          s = (0, a.useCallback)(() => {
            (0, ee.yV)(a.createElement(Tt, { links: e }), r.current, Ft);
          }, [r, e]);
        return a.createElement(
          P.s,
          {
            className: (0, U.Z)(Me.NavButton, n),
            onActivate: s,
            ref: r,
            focusable: !0,
          },
          t,
        );
      }
      function Ht({ links: e, label: t, className: n, onClick: r }) {
        return a.createElement(D.gB, {
          rgOptions: e.map((e) => ({ label: e.label, data: e })),
          onMenuOpened: r,
          onChange: (e) => {
            "href" in e.data ? (location.href = e.data.href) : e.data.action();
          },
          strDefaultLabel: t,
          strClassName: (0, U.Z)(Me.GamepadNavigationDropdown, n),
          strDropDownButtonClassName: Me.GamepadNavigationDropdownButton,
          highlightOnFocus: !0,
        });
      }
      function Ot({ game: e, setLinkData: t }) {
        const n = Lt(e);
        return (
          (0, a.useEffect)(() => {
            t(n.rgLinks);
          }, [t, n.rgLinks]),
          null
        );
      }
      function $t({ game: e }) {
        const t = w(),
          n = (0, F.Xx)(
            t ? "#Community_GameContentFirstPerson" : "#Community_GameContent",
          ),
          [r, s] = (0, a.useState)([]),
          [o, i] = (0, a.useState)(!1);
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(Ht, { links: r, label: n, onClick: () => i(!0) }),
          o && a.createElement(Ot, { game: e, setLinkData: s }),
        );
      }
      function Zt(e) {
        const { game: t, children: n } = e,
          r = w();
        return a.createElement(
          "div",
          { className: Me.GameLinks },
          r && a.createElement(Qt, { game: t }),
          n,
        );
      }
      function Qt(e) {
        const { game: t } = e,
          n = re(t.appid),
          r = oe(t.appid);
        return !0 !== n
          ? null
          : a.createElement(
              P.s,
              {
                className: (0, U.Z)(
                  Me.AppPrivateIndicator,
                  Me.GameLinksButton,
                  Me.NavButton,
                ),
                onActivate: () => r.mutate(!1),
              },
              a.createElement(H.dQJ, null),
            );
      }
      function qt({ game: e }) {
        const t = At(e);
        return (0, f.id)()
          ? a.createElement(Ht, {
              links: t,
              label: (0, F.Xx)("#Community_GameLinks"),
            })
          : a.createElement(
              Xt,
              { links: t, className: Me.GameLinksButton },
              a.createElement(H.bbz, null),
            );
      }
      function Wt({ game: e }) {
        const t = Rt(e),
          n = w(),
          r = (0, f.id)();
        if (0 === t.length) return null;
        const s = (0, F.Xx)(
          n ? "#Community_GameStatsFirstPerson" : "#Community_GameStats",
        );
        return r
          ? a.createElement(Ht, { links: t, label: s })
          : a.createElement(
              Xt,
              { links: t, className: Me.StatLinks },
              a.createElement("span", null, " ", s, " "),
              a.createElement(z, null),
            );
      }
      function Yt({ game: e }) {
        const t = (0, a.useRef)(null),
          n = (0, o.P9)(),
          r = (0, a.useCallback)(() => {
            (0, ee.yV)(
              a.createElement(
                o.Ub,
                {
                  useActiveSteamInterface: n.useActiveSteamInterface,
                  useStorage: n.useStorage,
                },
                a.createElement(Ut, { game: e }),
              ),
              t.current,
              Ft,
            );
          }, [t, e, n]),
          s = w(),
          i = (0, f.id)(),
          l = (0, F.Xx)(
            s ? "#Community_GameContentFirstPerson" : "#Community_GameContent",
          );
        return i
          ? a.createElement($t, { game: e })
          : a.createElement(
              P.s,
              {
                className: (0, U.Z)(Me.NavButton, Me.ContentLinks),
                onActivate: r,
                ref: t,
              },
              a.createElement("span", null, " ", l, " "),
              a.createElement(z, null),
            );
      }
      function Vt({ label: e, children: t }) {
        return a.createElement(
          "details",
          { className: Me.BottomSheetSection },
          a.createElement("summary", null, e, a.createElement(z, null)),
          a.createElement("div", { className: Me.SectionContent }, t),
        );
      }
      function jt({ game: e }) {
        const t = Rt(e);
        return 0 === t.length
          ? null
          : a.createElement(
              Vt,
              { label: (0, F.Xx)("#Community_GameStats") },
              t.map((e) =>
                a.createElement(Kt, {
                  key: e.key,
                  link: e,
                  className: Me.BottomSheetLink,
                }),
              ),
            );
      }
      function zt({ game: e }) {
        const t = Lt(e);
        return 0 === t.rgLinks.length
          ? null
          : a.createElement(
              Vt,
              { label: (0, F.Xx)("#Community_GameContent") },
              t.rgLinks.map((e) =>
                a.createElement(Kt, {
                  key: e.key,
                  link: e,
                  className: Me.BottomSheetLink,
                }),
              ),
            );
      }
      function Kt(e) {
        const { link: t, className: n } = e;
        let r;
        return (
          (r =
            "href" in t
              ? a.createElement("a", { className: n, href: t.href }, t.label)
              : a.createElement(
                  "span",
                  { className: n, onClick: () => t.action },
                  t.label,
                )),
          t.tooltip &&
            (r = a.createElement(T.HP, { toolTipContent: t.tooltip }, r)),
          r
        );
      }
      function Jt({ game: e }) {
        const t = At(e);
        return 0 === t.length
          ? null
          : a.createElement(
              Vt,
              { label: (0, F.Xx)("#GamesList_MenuLabel_GameInfo") },
              t.map((e) =>
                a.createElement(Kt, {
                  key: e.key,
                  link: e,
                  className: Me.BottomSheetLink,
                }),
              ),
            );
      }
      function en({ game: e }) {
        const t = w(),
          n = (function () {
            const e = Ze();
            return e
              ? (0, F.Xx)(
                  "#GamesList_Client_Indicator",
                  qe(e.device_type),
                  e.machine_name,
                )
              : null;
          })();
        return t && n
          ? a.createElement(
              Vt,
              { label: (0, F.Xx)("#GamesList_MenuLabel_RemoteDownload") },
              a.createElement("span", { className: Me.ClientName }, n),
              a.createElement(st, {
                game: e,
                className: Me.BottomSheetRemoteControls,
                visible: !0,
                enableDownloadBar: !0,
              }),
            )
          : null;
      }
      function tn({ tab: e }) {
        const t = ln().openGame,
          n = on(),
          r = (0, a.useRef)(null);
        (0, a.useEffect)(() => {
          r.current && r.current.querySelector("summary")?.focus();
        }, [t]);
        const s = L(t);
        if (!t) return null;
        const o =
          f.De.STORE_ICON_BASE_URL +
          `/${t.appid}/${t.capsule_filename || "library_600x900.jpg"}`;
        return a.createElement(
          "div",
          {
            className: (0, U.Z)(
              Me.BottomSheetContainer,
              s && Me.HasAdultContent,
            ),
            role: "dialog",
            "aria-modal": "true",
            onKeyDown: (e) => {
              "Escape" === e.key && n(void 0);
            },
          },
          a.createElement("div", {
            className: Me.BottomSheetOverlay,
            onClick: (e) => {
              e.preventDefault(), e.stopPropagation(), n(void 0);
            },
          }),
          a.createElement(
            "div",
            { className: Me.BottomSheet, ref: r },
            a.createElement(
              "div",
              { className: Me.GameInfo },
              a.createElement(
                "div",
                { className: Me.BlurredBackground },
                a.createElement("img", { src: o, alt: t.name }),
              ),
              a.createElement("img", {
                src: o,
                alt: t.name,
                className: Me.Portrait,
              }),
              a.createElement(
                "div",
                { className: Me.Facts },
                a.createElement("span", { className: Me.GameTitle }, t.name),
                a.createElement(nn, { game: t, visible: !0, tab: e }),
              ),
            ),
            a.createElement(zt, { game: t }),
            a.createElement(jt, { game: t }),
            a.createElement(Jt, { game: t }),
            a.createElement(en, { game: t }),
          ),
        );
      }
      function nn({ game: e, visible: t, tab: n }) {
        const r = w(),
          s = L(e),
          o = Ct(),
          i = n !== ut.All && !(o && n === ut.RecentlyPlayed);
        return a.createElement(
          "div",
          { className: Me.Playtime },
          n === ut.RecentlyPlayed &&
            !!e.playtime_2weeks &&
            a.createElement(
              "span",
              { className: Me.Hours2weeks },
              a.createElement(
                "span",
                { className: Me.FactLabel },
                (0, F.Xx)("#GamesList_Header_TwoWeeks"),
              ),
              (0, De.W)(e.playtime_2weeks),
            ),
          !!e.playtime_forever &&
            a.createElement(
              "span",
              { className: Me.Hours },
              a.createElement(
                "span",
                { className: Me.FactLabel },
                (0, F.Xx)("#GamesList_Header_TotalPlayed"),
              ),
              (0, De.W)(
                e.playtime_forever +
                  (e.playtime_disconnected ? e.playtime_disconnected : 0),
              ),
            ),
          n !== ut.RecentlyPlayed &&
            r &&
            !!e.rtime_last_played &&
            a.createElement(
              "span",
              { className: Me.LastPlayed },
              a.createElement(
                "span",
                { className: Me.FactLabel },
                (0, F.Xx)("#GamesList_Header_LastPlayed"),
              ),
              (0, F.m9)(e.rtime_last_played),
            ),
          !s &&
            a.createElement(
              "div",
              { className: Me.AchievementContainer },
              a.createElement(Dt, { game: e, visible: t, showTop: i }),
            ),
        );
      }
      function an({ game: e }) {
        const t = Ct(),
          [n, r] = (0, a.useState)(0),
          s = [
            `${f.De.STORE_ICON_BASE_URL}${e.appid}/${e.capsule_filename || "library_600x900.jpg"}`,
            `${f.De.STORE_ICON_BASE_URL}${e.appid}/portrait.png`,
            gt,
          ],
          o = [`${f.De.STORE_ICON_BASE_URL}${e.appid}/header.jpg`, gt],
          i = t ? s[n] === gt : o[n] === gt;
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(
            "picture",
            { onError: () => r((e) => e + 1) },
            a.createElement("source", {
              media: `(max-width: ${xe.MobileBreakpoint})`,
              srcSet: s[n],
            }),
            a.createElement("img", { src: o[n], alt: e.name, loading: "lazy" }),
          ),
          i && a.createElement("span", { className: Me.FallbackTitle }, e.name),
        );
      }
      function rn({ game: e, hasEverBeenVisible: t }) {
        const n = Ct();
        return a.createElement(
          "div",
          { className: Me.PortraitContainer },
          a.createElement(an, { game: e }),
          !n && a.createElement(xt, { game: e, visible: t }),
        );
      }
      const sn = a.memo(function ({ game: e, top: t, tab: n }) {
        const r = `${f.De.STORE_BASE_URL}app/${e.appid}`,
          s = w(),
          o = Ct(),
          i = on(),
          l = o ? "button" : me.eh,
          c = o ? () => i(e) : void 0,
          [m, d] = (0, a.useState)(!1),
          u = (0, B.S1)(
            (0, a.useCallback)((e) => {
              e.isIntersecting && d(!0);
            }, []),
            { rootMargin: "600px" },
          ),
          p = L(e),
          _ = (0, f.id)(),
          h = o ? "div" : ce.IS,
          g = o ? "span" : "a";
        return a.createElement(
          "div",
          {
            className: (0, U.Z)(
              Me.GamesListItemContainer,
              p && Me.HasAdultContent,
            ),
            style: { top: `${t}px` },
            ref: u,
          },
          a.createElement(
            l,
            {
              className: (0, U.Z)(Me.GamesListItem, e.changing && Me.Changing),
              onClick: c,
            },
            a.createElement(
              h,
              { href: r, className: Me.GameItemPortrait },
              a.createElement(rn, { game: e, hasEverBeenVisible: m }),
            ),
            a.createElement(
              "span",
              { className: Me.GameNameContainer },
              a.createElement(g, { href: r, className: Me.GameName }, e.name),
            ),
            a.createElement(nn, { game: e, visible: m, tab: n }),
            !o &&
              a.createElement(
                a.Fragment,
                null,
                a.createElement(
                  "div",
                  { className: Me.Buttons },
                  a.createElement(Wt, { game: e }),
                  a.createElement(Yt, { game: e }),
                  _ && a.createElement(qt, { game: e }),
                ),
                !_ &&
                  a.createElement(
                    Zt,
                    { game: e },
                    a.createElement(qt, { game: e }),
                  ),
              ),
            s &&
              !o &&
              a.createElement(st, {
                className: Me.DownloadStatus,
                game: e,
                visible: m,
              }),
            o && a.createElement(xt, { game: e, visible: m }),
          ),
          s && a.createElement(rt, { game: e, visible: m }),
        );
      });
      function on() {
        return ln().fnSetOpenGame;
      }
      function ln() {
        const e = (0, a.useContext)(cn);
        if (!e)
          throw new Error(
            "attempted to use BottomSheetContext outside of provider",
          );
        return e;
      }
      const cn = a.createContext(void 0);
      function mn({ children: e }) {
        const [t, n] = (0, a.useState)(void 0);
        return a.createElement(
          cn.Provider,
          { value: { openGame: t, fnSetOpenGame: n } },
          e,
        );
      }
      const dn = new Set();
      function un(e) {
        dn.add(e);
      }
      const pn = new Set();
      function _n({ games: e, tab: t, fnCalculateGameSize: n }) {
        const [r, s] = (0, a.useMemo)(() => {
          let t = 0;
          const a = e.map((e) => {
            const a = n(e);
            return (t += a), a;
          });
          return [t, a];
        }, [e, n]);
        !(function () {
          const e = (0, a.useRef)(!1);
          (0, a.useEffect)(() => {
            if (e.current) return;
            const t = history.state?.scrollY;
            t && window.scroll({ top: t }), (e.current = !0);
          }, []),
            (0, a.useEffect)(() => {
              let e;
              const t = () => {
                e && clearTimeout(e),
                  (e = setTimeout(() => {
                    history.replaceState(
                      { ...(history.state ?? {}), scrollY: window.scrollY },
                      "",
                    );
                  }, 100));
              };
              return (
                addEventListener("scroll", t, { passive: !0 }),
                () => {
                  removeEventListener("scroll", t), e && clearTimeout(e);
                }
              );
            }, []);
        })();
        const o = (0, a.useRef)(null);
        let i = 0;
        return a.createElement(
          P.s,
          { ref: o, className: Me.List, style: { height: r }, autoFocus: !0 },
          a.createElement(
            hn,
            {
              disableContinuousRender: e.length > 1024,
              batchSize: 16,
              containerRef: o,
              childSizes: s,
            },
            e.map((e, n) => {
              const r = i;
              return (
                (i += s[n]),
                a.createElement(sn, { game: e, key: e.appid, top: r, tab: t })
              );
            }),
          ),
        );
      }
      async function fn() {
        return new Promise((e) => {
          setTimeout(e, 0);
        });
      }
      function hn({
        children: e,
        batchSize: t,
        containerRef: n,
        childSizes: r,
        disableContinuousRender: s,
      }) {
        const [o] = (0, a.useState)([]);
        return (
          (0, a.useEffect)(() => {
            if (s) return () => {};
            let e = !1;
            return (
              (async function () {
                for (let n = 0; n < o.length + t; n += t) {
                  for (let a = n; a < n + t; a++) {
                    if (e) return;
                    o[a]?.(!0);
                  }
                  await fn();
                }
              })(),
              () => {
                e = !0;
              }
            );
          }, [o, t, e.length, s]),
          (0, a.useEffect)(() => {
            if (!n || !r) return () => {};
            function e() {
              let e = t?.getBoundingClientRect().top;
              e > 0 && (e = 0);
              const n = Math.ceil(window.innerHeight / r[0]);
              let a = 0,
                s = 0;
              for (; a > e; ) (a -= r[s]), s++;
              const i = s - n,
                l = i + 3 * n;
              for (let e = i; e < l; e++)
                setTimeout(() => {
                  o[e]?.(!0);
                }, 0);
            }
            const t = n.current;
            return (
              t?.ownerDocument.defaultView.addEventListener("scroll", e),
              e(),
              () => {
                t?.ownerDocument.defaultView.removeEventListener("scroll", e);
              }
            );
          }, [e.length, e, n, r, t, o]),
          a.createElement(
            a.Fragment,
            null,
            e.map((e, t) =>
              a.createElement(gn, { key: e.key, index: t, renderers: o }, e),
            ),
          )
        );
      }
      function gn({ renderers: e, index: t, children: n }) {
        const [r, s] = (0, a.useState)(!1);
        return (e[t] = s), r ? a.createElement(a.Fragment, null, n) : null;
      }
      const yn = a.createContext(void 0);
      function En({ query: e, isLoading: t, tab: n }) {
        const r = ye(),
          s = (function (e) {
            const t = Ze(),
              n = Ce(void 0, !1).rgQueries.find(
                (e) =>
                  e.data?.session.client_instanceid === t?.client_instanceid,
              );
            return (0, a.useMemo)(() => {
              const t = new Set();
              if (n?.data)
                for (const e of n.data.mapApps.values())
                  (pn.has(e.appid) || (!dn.has(e.appid) && tt(e))) &&
                    (t.add(e.appid), pn.add(e.appid));
              const a = [],
                r = [];
              return (
                e.data?.forEach((e) => {
                  t.has(e.appid) ? a.push({ ...e, changing: !0 }) : r.push(e);
                }),
                { data: [...a, ...r], isLoading: e.isLoading, error: e.error }
              );
            }, [e.data, e.isLoading, e.error, n?.data]);
          })(e),
          [o, i] = (0, a.useState)({}),
          l = (0, a.useCallback)((e, t) => {
            i((n) => ({ ...n, [e]: t }));
          }, []),
          c = (0, a.useCallback)((e) => (o[e.appid] ? bt + vt : bt), [o]);
        return s.isLoading || r.isLoading || t
          ? a.createElement(M.V, {
              string: (0, F.Xx)("#Loading"),
              position: "center",
            })
          : 0 === s.data?.length && n === ut.Perfect
            ? a.createElement(
                "p",
                { className: Me.emptyDescription },
                (0, F.Xx)("#GamesList_PerfectGames_Description"),
              )
            : a.createElement(
                yn.Provider,
                { value: l },
                !f.De.IN_CLIENT && a.createElement(Ve, null),
                a.createElement(_n, {
                  games: s.data,
                  tab: n,
                  fnCalculateGameSize: c,
                }),
              );
      }
      function vn(e) {
        return bt;
      }
      function bn({ query: e, isLoading: t, tab: n }) {
        return void 0 === e.data || t
          ? null
          : a.createElement(_n, {
              games: e.data,
              tab: n,
              fnCalculateGameSize: vn,
            });
      }
      const Cn = (0, Be.AP)(
          ({ owned: e, filter: t, dependencyLoading: n, sort: r, tab: s }) => {
            const o = dt(Z(e, t), r),
              i = w(),
              l = o.isLoading || n;
            if (o.error && !l) throw o.error;
            return a.createElement(
              mn,
              null,
              a.createElement(tn, { tab: s }),
              i
                ? a.createElement(En, { query: o, isLoading: l, tab: s })
                : a.createElement(bn, { query: o, isLoading: l, tab: s }),
            );
          },
        ),
        wn = [
          {
            label: (0, F.Xx)("#GamesList_Sort_HoursPlayed"),
            sortOption: ot.HoursPlayed,
          },
          { label: (0, F.Xx)("#GamesList_Sort_Name"), sortOption: ot.Name },
          {
            label: (0, F.Xx)("#GamesList_Sort_AchievementCompletion"),
            sortOption: ot.AchievementCompletion,
          },
        ];
      function Gn({ strSort: e, setStrSort: t }) {
        return a.createElement(
          "ul",
          { className: X.SortOptions },
          wn.map((n) =>
            a.createElement(
              "li",
              { key: n.sortOption },
              a.createElement(
                "button",
                {
                  className: (0, U.Z)(
                    X.SortOption,
                    e === n.sortOption && X.SelectedSort,
                  ),
                  onClick: () => t(n.sortOption),
                },
                n.label,
              ),
            ),
          ),
        );
      }
      function Ln() {
        const [e, t] = (0, x.Ar)("games_in_common", !1);
        return a.createElement(
          "label",
          { className: X.BothOwnedFilter },
          (0, F.Xx)("#GamesList_Filter_BothOwned"),
          a.createElement("input", {
            type: "checkbox",
            checked: e,
            onChange: (e) => t(e.target.checked),
          }),
        );
      }
      function Rn() {
        return a.createElement(
          T.HP,
          {
            toolTipContent: (0, F.Xx)("#GamesList_PrivacySettings_Tooltip"),
            "aria-label": (0, F.Xx)("#GamesList_PrivacySettings_Tooltip"),
            className: X.PrivacySettingsLink,
          },
          a.createElement(
            "a",
            { href: `${h._.ProfileURL}edit/settings` },
            a.createElement(K, null),
          ),
        );
      }
      function An(e) {
        const t = new Set();
        return e?.forEach((e) => t.add(e.appid)), t;
      }
      function Nn(e, t, n) {
        const [a, r] = (0, x.Ar)(e, n);
        let s = a;
        return Object.values(t).includes(a) || (s = n), [s, r];
      }
      function Sn(e, t) {
        return (0, a.useMemo)(
          () => ({
            data: e.data?.concat(t),
            isLoading: e.isLoading,
            error: e.error,
          }),
          [e.data, e.isLoading, e.error, t],
        );
      }
      function Bn({ children: e }) {
        return (0, f.id)() ? a.createElement(D.vY, null, e) : e;
      }
      function kn(e) {
        const t = C(),
          [n, r] = Nn("sort", ot, ot.HoursPlayed),
          [s, o] = Nn("tab", ut),
          i = s ?? ut.RecentlyPlayed,
          [l, c, m] = (function (e, t) {
            const [n, r] = (0, a.useState)(e),
              [s, o] = (0, a.useState)(e);
            return (
              (0, a.useEffect)(() => {
                if (t < 1) return o(n), () => {};
                const e = setTimeout(() => o(n), t);
                return () => clearTimeout(e);
              }, [n, t]),
              [n, s, r]
            );
          })(void 0, 100),
          d = i === ut.RecentlyPlayed,
          u = (0, a.useCallback)(
            (e) =>
              !(c && !d) || e.name?.toLowerCase().includes(c.toLowerCase()),
            [c, d],
          ),
          p = R(t),
          _ = (0, a.useCallback)(
            (e) =>
              !!p.data &&
              p.data.some(
                (t) =>
                  t.appid === e.appid &&
                  0 !== t.unlocked &&
                  t.unlocked === t.total,
              ),
            [p.data],
          ),
          [h] = (0, x.Ar)("games_in_common", !1),
          g = h && i === ut.All,
          y = (function (e) {
            const t = v(f.L7.steamid, { enabled: e });
            return (0, a.useMemo)(
              () => ({ data: An(t.data), isLoading: t.isLoading }),
              [t.data, t.isLoading],
            );
          })(g),
          b = (0, a.useCallback)((e) => !g || y.data?.has(e.appid), [g, y]),
          G = v(t),
          L = E.Get().GetPerfectUnownedGames(),
          A = E.Get().GetRecentlyPlayedUnownedGames(),
          N = Sn(Z(G, _, p.isLoading), L),
          S = Sn(Z(G, q), A);
        (0, a.useEffect)(() => {
          !s && S.data && 0 === S.data.length && o(ut.All);
        }, [s, S.data, o]);
        const B = w(),
          D = (0, f.id)();
        let T = G;
        i === ut.RecentlyPlayed ? (T = S) : i === ut.Perfect && (T = N),
          (0, a.useEffect)(() => {
            dn.clear();
          }, [i]);
        const H = ft(i, G, S, N),
          O = (function (...e) {
            return (0, a.useCallback)((t) => {
              for (const n of e) if (n && !n(t)) return !1;
              return !0;
            }, e);
          })(c && u, g && b),
          $ = (0, U.Z)(X.Gameslistapp, D && "GamepadMode"),
          Q = (0, I.L)(),
          Y = n === ot.AchievementCompletion && p.isLoading,
          V = T.isLoading || Y;
        return a.createElement(
          k.p,
          { navID: "Gamelist", NavigationManager: Q },
          a.createElement(
            Qe,
            null,
            a.createElement(
              Bn,
              null,
              a.createElement(
                P.s,
                { className: $ },
                V &&
                  a.createElement(M.V, {
                    string: (0, F.Xx)("#Loading"),
                    position: "center",
                  }),
                !V &&
                  a.createElement(
                    a.Fragment,
                    null,
                    a.createElement(ht, { tabs: H, strTab: i, setStrTab: o }),
                    i !== ut.RecentlyPlayed &&
                      a.createElement(
                        "div",
                        { className: X.DisplayControls },
                        a.createElement(W, {
                          strNameFilter: l,
                          setStrNameFilter: m,
                          className: X.FilterInput,
                        }),
                        B && a.createElement(Rn, null),
                        !B && i === ut.All && a.createElement(Ln, null),
                        a.createElement(Gn, { strSort: n, setStrSort: r }),
                      ),
                  ),
                a.createElement(Cn, {
                  owned: T,
                  filter: O,
                  sort: i === ut.RecentlyPlayed ? ot.RecentlyPlayed : n,
                  dependencyLoading: V,
                  tab: i,
                }),
              ),
            ),
          ),
        );
      }
      function Pn(e) {
        const t = (0, B.kD)(a.useCallback(() => new S.Z(), []));
        return a.createElement(
          o.Ub,
          { useActiveSteamInterface: G, useStorage: t },
          a.createElement(kn, { ...e }),
        );
      }
    },
  },
]);
