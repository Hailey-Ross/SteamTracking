/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [3903],
  {
    99718: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Icon: "achievementiconbase_Icon_2bzHb",
        IconGlow: "achievementiconbase_IconGlow_tH67c",
        AchievementIconWrapper:
          "achievementiconbase_AchievementIconWrapper_373lE",
        RareAchievementIconGlowContainerRoot:
          "achievementiconbase_RareAchievementIconGlowContainerRoot_39Cht",
        RareAchievementIconGlowContainer:
          "achievementiconbase_RareAchievementIconGlowContainer_leuGO",
        rotate: "achievementiconbase_rotate_1Mdch",
        RareAchievementNoAnimation:
          "achievementiconbase_RareAchievementNoAnimation_25gJm",
        RareAchievementIconGlow:
          "achievementiconbase_RareAchievementIconGlow_rORbR",
        HiddenLabel: "achievementiconbase_HiddenLabel_2yMyP",
      };
    },
    32032: (e) => {
      e.exports = {
        ProgressBar: "progressbar_ProgressBar_yZ55N",
        AnimateProgress: "progressbar_AnimateProgress_1Ccdv",
        loadingBarAnim: "progressbar_loadingBarAnim_BX2Tm",
        Indeterminate: "progressbar_Indeterminate_1sxT4",
      };
    },
    49959: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
      };
    },
    43295: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        Gameslistapp: "gameslistapp_Gameslistapp_2nl8H",
        DisplayControls: "gameslistapp_DisplayControls_2_BHL",
        FilterInput: "gameslistapp_FilterInput_24EKv",
        SortOptions: "gameslistapp_SortOptions_3pgJX",
        SortOption: "gameslistapp_SortOption_YcplN",
        SelectedSort: "gameslistapp_SelectedSort_MA0Ih",
        BothOwnedFilter: "gameslistapp_BothOwnedFilter_NKeON",
        MeasurementContainer: "gameslistapp_MeasurementContainer_ZmRLu",
        PrivacySettingsLink: "gameslistapp_PrivacySettingsLink_mRoic",
      };
    },
    73727: (e) => {
      e.exports = {
        Filter: "gameslistfilter_Filter_ZQQNQ",
        ClearButton: "gameslistfilter_ClearButton_2iq6O",
        SearchIcon: "gameslistfilter_SearchIcon_QptTj",
      };
    },
    55357: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        List: "gameslistitems_List_3tY9v",
        GamesListItemContainer: "gameslistitems_GamesListItemContainer_29H3o",
        GamesListItem: "gameslistitems_GamesListItem_2-pQF",
        Changing: "gameslistitems_Changing_2virZ",
        NavButton: "gameslistitems_NavButton_3aNUl",
        GameItemPortrait: "gameslistitems_GameItemPortrait_1bAC6",
        FallbackTitle: "gameslistitems_FallbackTitle_MHfYK",
        PortraitContainer: "gameslistitems_PortraitContainer_1CHM8",
        HasAdultContent: "gameslistitems_HasAdultContent_2jXu5",
        GameNameContainer: "gameslistitems_GameNameContainer_w6q9p",
        GameName: "gameslistitems_GameName_22awl",
        Playtime: "gameslistitems_Playtime_2Eeyh",
        Hours: "gameslistitems_Hours_26nl3",
        Hours2weeks: "gameslistitems_Hours2weeks_1_mJZ",
        LastPlayed: "gameslistitems_LastPlayed_2jglu",
        FactLabel: "gameslistitems_FactLabel_2L1rk",
        AchievementContainer: "gameslistitems_AchievementContainer_38RhR",
        AchievementsProgress: "gameslistitems_AchievementsProgress_3L-qR",
        Buttons: "gameslistitems_Buttons_1uRB5",
        GameLinks: "gameslistitems_GameLinks_35fxd",
        DownloadStatus: "gameslistitems_DownloadStatus_bDhei",
        PerfectRibbon: "gameslistitems_PerfectRibbon_1uKlf",
        ContentLinks: "gameslistitems_ContentLinks_1yvGN",
        StatLinks: "gameslistitems_StatLinks_1sruH",
        BottomSheetContainer: "gameslistitems_BottomSheetContainer_3EfAk",
        BottomSheetOverlay: "gameslistitems_BottomSheetOverlay_3M4Jf",
        BottomSheet: "gameslistitems_BottomSheet_2ywCP",
        GameInfo: "gameslistitems_GameInfo_36tJr",
        Facts: "gameslistitems_Facts_34z3M",
        GameTitle: "gameslistitems_GameTitle_3RUE8",
        AchievementIcons: "gameslistitems_AchievementIcons_6o-Nn",
        Portrait: "gameslistitems_Portrait_3MzPl",
        BlurredBackground: "gameslistitems_BlurredBackground_r1Y-M",
        BottomSheetSection: "gameslistitems_BottomSheetSection_NZhfS",
        SectionContent: "gameslistitems_SectionContent_1ynpS",
        BottomSheetRemoteControls:
          "gameslistitems_BottomSheetRemoteControls_2gji1",
        BottomSheetLink: "gameslistitems_BottomSheetLink_34fh9",
        ClientName: "gameslistitems_ClientName_1Jcm1",
        NavDropdownMenu: "gameslistitems_NavDropdownMenu_1Hvmx",
        AchievementIcon: "gameslistitems_AchievementIcon_2J4HY",
        Remainder: "gameslistitems_Remainder_fVmXu",
        AchievementHover: "gameslistitems_AchievementHover_1Whe1",
        Background: "gameslistitems_Background_OMxTb",
        Blur: "gameslistitems_Blur_BPScs",
        TopSection: "gameslistitems_TopSection_3OoXT",
        TextSection: "gameslistitems_TextSection_3sCHJ",
        Name: "gameslistitems_Name_2jbhF",
        Unlocked: "gameslistitems_Unlocked_1UIA3",
        RareLabel: "gameslistitems_RareLabel_3g9oI",
        AchievementsProgressBar: "gameslistitems_AchievementsProgressBar_3Z3qp",
        AchievementsProgressLabel:
          "gameslistitems_AchievementsProgressLabel_3eZML",
        AchievementsFraction: "gameslistitems_AchievementsFraction_1YRRM",
        emptyDescription: "gameslistitems_emptyDescription_3oj8b",
        GamepadNavigationDropdown:
          "gameslistitems_GamepadNavigationDropdown_Ml4QU",
        GamepadNavigationDropdownButton:
          "gameslistitems_GamepadNavigationDropdownButton_2u7K0",
        placeholderPulse: "gameslistitems_placeholderPulse_3qZsO",
        rotate: "gameslistitems_rotate_1TDtt",
      };
    },
    86836: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        ClientSelectDropdown: "gameslistremote_ClientSelectDropdown_2Z6JL",
        ClientListDropdownMenu: "gameslistremote_ClientListDropdownMenu_22iS0",
        RemoteDownloadClientBar:
          "gameslistremote_RemoteDownloadClientBar_hQ4Q9",
        RemoteDownloadHeader: "gameslistremote_RemoteDownloadHeader_UVZ1r",
        InfoIcon: "gameslistremote_InfoIcon_3TWnE",
        ClientIndicator: "gameslistremote_ClientIndicator_2XcV9",
        NoConnection: "gameslistremote_NoConnection_E0OMi",
        RemoteDownloadStatus: "gameslistremote_RemoteDownloadStatus_14QBd",
        RemoteDownloadHelp: "gameslistremote_RemoteDownloadHelp_1pQIr",
        NoConnectionText: "gameslistremote_NoConnectionText_1A0df",
        LearnMoreCta: "gameslistremote_LearnMoreCta_3XDsb",
        DownloadBarWithLabel: "gameslistremote_DownloadBarWithLabel_14YOd",
        DownloadStatus: "gameslistremote_DownloadStatus_2JtXw",
        DownloadProgress: "gameslistremote_DownloadProgress_2b6Qy",
        CurrentSpace: "gameslistremote_CurrentSpace_3_zPY",
        DownloadEstimate: "gameslistremote_DownloadEstimate_2QWHY",
        DownloadBar: "gameslistremote_DownloadBar_4ZW4i",
        RemoteControls: "gameslistremote_RemoteControls_1Fput",
        ButtonContainer: "gameslistremote_ButtonContainer_2mckt",
        NoRemoteControl: "gameslistremote_NoRemoteControl_217Ei",
        DownloadSize: "gameslistremote_DownloadSize_2zfId",
        UpdateSchedule: "gameslistremote_UpdateSchedule__nq0r",
        DownloadIconButton: "gameslistremote_DownloadIconButton_2P659",
        DownloadBarContainer: "gameslistremote_DownloadBarContainer_2Qx7n",
      };
    },
    18934: (e) => {
      e.exports = {
        WishlistTab: "gameslisttabs_WishlistTab_1BZR3",
        tabList: "gameslisttabs_tabList_1sHAC",
        TabBaseline: "gameslisttabs_TabBaseline_2gC9I",
        SelectBaseline: "gameslisttabs_SelectBaseline_1qj0p",
      };
    },
    66294: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => m });
      var a = n(33940),
        s = n(89526),
        o = n(44026),
        i = n(17589),
        r = n(4306),
        l = n(32765),
        c = n(94952);
      function m(e) {
        const { children: t, navTreeRef: n } = e,
          m = (0, a._T)(e, ["children", "navTreeRef"]),
          d = s.useRef(),
          u = (0, r.BE)(d, n),
          p = (0, l.id)(),
          _ = window.__virtual_keyboard_client;
        if (
          ((0, s.useEffect)(() => {
            c.Wz.SetHookFactory(() => _);
          }, [_]),
          p)
        ) {
          const e = window.__nav_tree_root;
          return s.createElement(
            o.Fe,
            Object.assign({}, m, {
              navTreeRef: u,
              secondary: !0,
              parentEmbeddedNavTree: e,
            }),
            s.createElement(i.O, null, t),
          );
        }
        return s.createElement(s.Fragment, null, t);
      }
    },
    5029: (e, t, n) => {
      "use strict";
      n.d(t, { Ar: () => l, Wo: () => c, i9: () => r, ks: () => o });
      var a = n(89526),
        s = n(59934);
      function o(e, t) {
        let n;
        "string" == typeof e
          ? (n = e)
          : "location" in e
          ? (n = e.location.search)
          : "search" in e && (n = e.search);
        const a = new URLSearchParams(n.substring(1));
        if (a.has(t)) {
          const e = a.getAll(t);
          return e[e.length - 1];
        }
      }
      const i = (e) => null != e;
      function r(e, t, n, a = !1) {
        const s = new URLSearchParams(e.location.search.substring(1));
        s.delete(t),
          i(n) && s.append(t, n),
          a
            ? e.replace(`?${s.toString()}`, Object.assign({}, e.location.state))
            : e.push(`?${s.toString()}`);
      }
      function l(e, t) {
        const n = (0, s.k6)(),
          l = (0, s.TH)(),
          c = (0, a.useMemo)(() => {
            const n = o(l.search, e);
            return i(n)
              ? i(t)
                ? "boolean" == typeof t
                  ? t.constructor("false" !== n)
                  : t.constructor(n)
                : n
              : t;
          }, [l.search, e, t]),
          m = (0, a.useCallback)(
            (t) => {
              r(n, e, i(t) ? String(t) : null);
            },
            [n, e],
          );
        return [c, m];
      }
      function c(e, t, n = !1) {
        const a = new URLSearchParams(e.location.search.substring(1));
        for (const e in t)
          if (t.hasOwnProperty(e)) {
            const n = t[e];
            a.delete(e), i(n) && a.append(e, n);
          }
        n
          ? e.replace(`?${a.toString()}`, Object.assign({}, e.location.state))
          : e.push(`?${a.toString()}`);
      }
    },
    29551: (e, t, n) => {
      "use strict";
      n.d(t, { W: () => s });
      var a = n(14826);
      function s(e, t = "#Played_", n = !1) {
        if (e >= 120) {
          let n = e / 60;
          n = Math.round(10 * n) / 10;
          let s = a.Yt.GetPreferredLocales(),
            o = n.toLocaleString(s, {
              minimumFractionDigits: 0,
              maximumFractionDigits: 1,
            });
          return (0, a.Xx)(t + "Hours", o);
        }
        return n && 1 == e
          ? (0, a.Xx)(t + "Minute", e)
          : (0, a.Xx)(t + "Minutes", e);
      }
    },
    66594: (e, t, n) => {
      "use strict";
      n.d(t, { _: () => a });
      let a = { ProfileURL: "" };
    },
    47176: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { default: () => Gn });
      var a = n(33940),
        s = n(89526),
        o = n(5615),
        i = n(42735),
        r = n(75457),
        l = n(67328),
        c = n(27070),
        m = n(19094),
        d = n(94738),
        u = n(54999),
        p = n(59067);
      const _ = new Map(),
        g = new Map();
      function f(e) {
        const t = (0, o.useQueryClient)(),
          n = (0, o.hashQueryKey)(e.batchKey),
          s = (0, o.hashQueryKey)(e.queryKey);
        return (0, o.useQuery)({
          queryKey: [e.batchKey, s],
          queryFn: () => {
            let o = _.get(n);
            return (
              o || ((o = new Map()), _.set(n, o)),
              o.set(s, e.request),
              new Promise((s, o) => {
                if (g.get(n)) return;
                const i = setTimeout(
                  () =>
                    (0, a.mG)(this, void 0, void 0, function* () {
                      try {
                        const a = _.get(n),
                          s = Array.from(a.keys()),
                          o = Array.from(a.values());
                        a.clear(), g.delete(n);
                        const i = yield e.queryFn(o);
                        o.forEach((n, a) => {
                          t.setQueryData(
                            [e.batchKey, s[a]],
                            e.requestMatcher
                              ? i.find((t) => e.requestMatcher(n, t))
                              : i[a],
                          );
                        });
                      } catch (e) {
                        o(e);
                      }
                    }),
                  e.batchDuration,
                );
                g.set(n, i);
              })
            );
          },
          enabled: e.enabled,
        });
      }
      var h = n(86900),
        v = n(32765),
        E = n(66594);
      function y(e) {
        let t = e
          .replace(/^the\s/i, "")
          .replace(/^a\s/i, "")
          .replace(/^[^\w]+/u, "");
        if (t != e) return t;
      }
      function b(e) {
        if (!(e < 1e5)) return e;
      }
      class C {
        static Get() {
          return this.s_Singleton
            ? this.s_Singleton
            : (this.s_Singleton = new C(
                (0, v.kQ)("config", "profile_config"),
                (0, v.kQ)("profile-gameslist", "gameslist_config"),
              ));
        }
        constructor(e, t) {
          var n, a, s, i, r, l, c;
          (this.rgGameslistConfig = t),
            (this.setExcludedContentDescriptorIds = new Set()),
            e && Object.assign(E._, e),
            this.BViewingOwnProfile() ||
              null ===
                (s =
                  null ===
                    (a =
                      null === (n = this.rgGameslistConfig) || void 0 === n
                        ? void 0
                        : n.rgContentDescriptorPreferences) || void 0 === a
                    ? void 0
                    : a.content_descriptors_to_exclude) ||
              void 0 === s ||
              s.forEach((e) => {
                this.setExcludedContentDescriptorIds.add(
                  e.content_descriptorid,
                );
              });
          const m = this.GetProfileSteamId();
          if (
            ((null ===
              (r =
                null === (i = this.rgGameslistConfig) || void 0 === i
                  ? void 0
                  : i.rgGames) || void 0 === r
              ? void 0
              : r.length) > 0 &&
              h.U.setQueryData(
                ["OwnedGames", m, v.De.LANGUAGE],
                this.rgGameslistConfig.rgGames.map((e) =>
                  Object.assign(Object.assign({}, e), {
                    rtime_last_played: b(e.rtime_last_played),
                  }),
                ),
              ),
            (null ===
              (c =
                null === (l = this.rgGameslistConfig) || void 0 === l
                  ? void 0
                  : l.achievement_progress) || void 0 === c
              ? void 0
              : c.length) > 0)
          ) {
            const e = ["AchievementProgress", m, v.De.LANGUAGE];
            h.U.setQueryData(e, this.rgGameslistConfig.achievement_progress);
            for (const t of this.rgGameslistConfig.achievement_progress)
              h.U.setQueryData([e, (0, o.hashQueryKey)([t.appid])], t);
          }
        }
        FetchAchievementProgressBatch(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = n.filter((e) => e.has_community_visible_stats);
            if (0 === a.length) return [];
            const s = l.gA.Init(d.M4);
            s.Body().set_steamid(t),
              s.Body().set_language(v.De.LANGUAGE),
              s.Body().set_appids(a.map((e) => e.appid));
            const o = yield d.lk.GetAchievementsProgress(e, s);
            if (o.GetEResult() !== i.s.k_EResultOK)
              throw (
                (console.error(
                  "Received error from GetAchievementsProgress",
                  o.GetEResult(),
                ),
                new Error(
                  `Error from GetAchievementsProgress: ${o.GetEResult()}`,
                ))
              );
            return o
              .Body()
              .achievement_progress()
              .map((e) => ({
                unlocked: e.unlocked(),
                total: e.total(),
                appid: e.appid(),
              }));
          });
        }
        FetchTopAchievementsBatch(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = n.filter((e) => e.has_community_visible_stats);
            if (0 === a.length) return [];
            const s = l.gA.Init(d.OZ);
            s.Body().set_steamid(t),
              s.Body().set_language(v.De.LANGUAGE),
              s.Body().set_appids(a.map((e) => e.appid)),
              s.Body().set_max_achievements(6);
            const o = yield d.lk.GetTopAchievementsForGames(e, s);
            if (o.GetEResult() !== i.s.k_EResultOK)
              throw (
                (console.error(
                  "Received error from GetTopAchievementsForGames",
                  o.GetEResult(),
                ),
                new Error(
                  `Error from GetTopAchievementsForGames: ${o.GetEResult()}`,
                ))
              );
            return o
              .Body()
              .games()
              .map((e) => ({
                appid: e.appid(),
                total_achievements: e.total_achievements(),
                achievements: e
                  .achievements()
                  .map((e) => ({
                    icon: e.icon(),
                    name: e.name(),
                    desc: e.desc(),
                    statid: e.statid(),
                    bit: e.bit(),
                    player_percent_unlocked: e.player_percent_unlocked(),
                  })),
              }));
          });
        }
        GetGames(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = l.gA.Init(d.pp);
            n.Body().set_steamid(e),
              n.Body().set_include_appinfo(!0),
              n.Body().set_skip_unvetted_apps(!1),
              n.Body().set_include_extended_appinfo(!0),
              n.Body().set_include_played_free_games(!0),
              n.Body().set_language(v.De.LANGUAGE);
            const a = yield d.lk.GetOwnedGames(t, n);
            if (a.GetEResult() !== i.s.k_EResultOK)
              throw (
                (console.error(
                  "Received error from GetOwnedGames",
                  a.GetEResult(),
                ),
                new Error(`Error from GetOwnedGames: ${a.GetEResult()}`))
              );
            return a
              .Body()
              .games()
              .map((e) => ({
                appid: e.appid(),
                name: e.name(),
                sort_as: e.sort_as() || y(e.name()),
                playtime_forever: e.playtime_forever(),
                playtime_2weeks: e.playtime_2weeks(),
                playtime_disconnected: e.playtime_disconnected(),
                rtime_last_played: b(e.rtime_last_played()),
                capsule_filename: e.capsule_filename(),
                has_dlc: e.has_dlc() || !1,
                has_workshop: e.has_workshop() || !1,
                has_market: e.has_market() || !1,
                has_community_visible_stats:
                  e.has_community_visible_stats() || !1,
                has_leaderboards: e.has_leaderboards() || !1,
                content_descriptorids: e.content_descriptorids() || [],
                img_icon_url: e.img_icon_url(),
              }));
          });
        }
        GetUserFileCount(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = l.gA.Init(u.AO);
            a.Body().set_steamid(e),
              a.Body().set_filetype(r.ys.k_PFI_MatchingFileType_Screenshots),
              a.Body().set_totalonly(!0),
              a.Body().set_appid(n);
            const s = yield u.vx.GetUserFileCount(t, a);
            if (s.GetEResult() !== i.s.k_EResultOK)
              throw (
                (console.error(
                  "Received error from GetUserFileCount",
                  s.GetEResult(),
                ),
                new Error(`Error from GetUserFileCount: ${s.GetEResult()}`))
              );
            return s.Body().total();
          });
        }
        GetFriendsWhoPlayCount(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = l.gA.Init(d.$_);
            n.Body().set_appid(t);
            const a = yield d.lk.GetFriendsGameplayInfo(e, n);
            if (a.GetEResult() !== i.s.k_EResultOK)
              throw (
                (console.error(
                  "Received error from GetFriendsGameplayInfo",
                  a.GetEResult(),
                ),
                new Error(
                  `Error from GetFriendsGameplayInfo: ${a.GetEResult()}`,
                ))
              );
            return a.Body().played_recently().length;
          });
        }
        GetIndividualHasRecommendations(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = l.gA.Init(p.Vy),
              s = l.gA.Init(p.K9);
            s.Body().set_steamid(e),
              s.Body().set_appid(n),
              a.Body().add_requests(s.Body());
            const o = yield p.fG.GetIndividualRecommendations(t, a);
            if (
              o.GetEResult() !== i.s.k_EResultOK &&
              o.GetEResult() !== i.s.k_EResultNoMatch
            )
              throw (
                (console.error(
                  "Received error from GetIndividualRecommendations",
                  o.GetEResult(),
                ),
                new Error(
                  `Error from GetIndividualRecommendations: ${o.GetEResult()}`,
                ))
              );
            return o.Body().recommendations().length > 0;
          });
        }
        GetTradingCardsCount(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = `${v.De.COMMUNITY_BASE_URL}/profiles/${e}/ajaxgetbadgeinfo/${t}`,
              a = new AbortController();
            let s, o;
            try {
              const e = setTimeout(() => {
                a.abort();
              }, 6e3);
              (s = yield fetch(n, {
                credentials: "include",
                signal: a.signal,
              })),
                clearTimeout(e),
                (o = yield s.json());
            } catch (e) {
              throw e.response
                ? new Error(
                    `HTTP result ${e.response.status} from ajax of ${n}`,
                  )
                : new Error(`Bad HTTP request for ajax for ${n}`);
            }
            const i = null == o ? void 0 : o.badgedata;
            if (!i) return;
            let r = 0,
              l = 0;
            for (let e of i.rgCards) r++, e.owned && l++;
            return { total: r, owned: l };
          });
        }
        GetProfileName() {
          return this.rgGameslistConfig.strProfileName;
        }
        GetProfileSteamId() {
          return this.rgGameslistConfig.strSteamId;
        }
        BViewingOwnProfile() {
          return this.rgGameslistConfig.bViewingOwnProfile;
        }
        GetWebAPIToken() {
          return this.rgGameslistConfig.webapi_token;
        }
        GetGCPDGames() {
          return this.rgGameslistConfig.gcpdGames;
        }
        GetReviewCount() {
          return this.rgGameslistConfig.nUserReviewCount;
        }
        GetFollowedCount() {
          return this.rgGameslistConfig.nUserFollowedCount;
        }
        GetExcludedContentDescriptors() {
          return this.setExcludedContentDescriptorIds;
        }
        GetPerfectUnownedGames() {
          return this.rgGameslistConfig.rgPerfectUnownedGames;
        }
        GetRecentlyPlayedUnownedGames() {
          return this.rgGameslistConfig.rgRecentlyPlayedUnownedGames;
        }
      }
      function G(e, t = {}) {
        const n = C.Get(),
          a = (0, c.bY)();
        return (0, o.useQuery)(
          Object.assign(
            {
              queryKey: ["OwnedGames", e, v.De.LANGUAGE],
              queryFn: () => n.GetGames(e, a),
              select: (e) => e.filter((e) => e.img_icon_url),
            },
            t,
          ),
        );
      }
      function w() {
        return C.Get().GetProfileName();
      }
      function L() {
        return C.Get().GetProfileSteamId();
      }
      function R() {
        return C.Get().BViewingOwnProfile();
      }
      function S() {
        const [e] = (0, s.useState)(
          () => new m.J(v.De.WEBAPI_BASE_URL, C.Get().GetWebAPIToken()),
        );
        return e;
      }
      function N(e) {
        var t;
        const n = C.Get().GetExcludedContentDescriptors();
        return null === (t = null == e ? void 0 : e.content_descriptorids) ||
          void 0 === t
          ? void 0
          : t.some((e) => n.has(e));
      }
      function B(e) {
        const t = (0, c.bY)(),
          n = C.Get(),
          a = (0, o.useQueryClient)(),
          s = ["AchievementProgress", e, v.De.LANGUAGE],
          i = G(e);
        return (0, o.useQuery)({
          queryKey: s,
          queryFn: () => n.FetchAchievementProgressBatch(t, e, i.data),
          onSuccess(e) {
            e.forEach((e) => {
              const t = [s, (0, o.hashQueryKey)([e.appid])];
              a.setQueryData(t, e);
            });
          },
          enabled: void 0 !== i.data && i.data.length > 0,
        });
      }
      function k(e, t) {
        const n = (0, c.bY)(),
          a = C.Get(),
          s = a.GetProfileSteamId();
        return f({
          batchKey: ["AchievementProgress", s, v.De.LANGUAGE],
          queryKey: [e.appid],
          queryFn: (e) => a.FetchAchievementProgressBatch(n, s, e),
          requestMatcher: (e, t) => e.appid === t.appid,
          batchDuration: 100,
          request: e,
          enabled: t,
        });
      }
      function A(e) {
        const t = (0, c.bY)(),
          n = C.Get(),
          a = n.GetProfileSteamId();
        return (0, o.useQuery)(["ScreenshotCount", a, e], () =>
          n.GetUserFileCount(a, t, e),
        );
      }
      var I = n(65406),
        D = n(4306),
        P = n(66294),
        x = n(51438),
        M = n(83145),
        O = n(57605),
        T = n(5029),
        F = n(3301),
        U = n(84343),
        $ = n(19304);
      var H = n(14826),
        X = n(43295),
        Q = n(16826),
        Z = n(701),
        j = n(73727);
      function q(e, t, n = !1) {
        return (0, s.useMemo)(() => {
          var a;
          return {
            data: null === (a = e.data) || void 0 === a ? void 0 : a.filter(t),
            isLoading: e.isLoading || n,
            error: e.error,
          };
        }, [e.data, e.isLoading, e.error, t, n]);
      }
      const K = 2592e3;
      function W(e) {
        return (
          void 0 !== e.rtime_last_played &&
          e.rtime_last_played > Date.now() / 1e3 - K
        );
      }
      function Y({ strNameFilter: e, setStrNameFilter: t, className: n }) {
        const a = (0, s.useRef)(null),
          o = e && "" != e;
        return s.createElement(
          "div",
          { className: (0, $.Z)(j.Filter, n) },
          s.createElement("input", {
            ref: a,
            onChange: () => {
              var e;
              return t(
                null === (e = a.current) || void 0 === e ? void 0 : e.value,
              );
            },
            value: null != e ? e : "",
            placeholder: (0, H.Xx)("#GamesList_Filter_Placeholder"),
          }),
          o
            ? s.createElement(
                "button",
                { className: j.ClearButton, onClick: () => t("") },
                s.createElement(Z.X, null),
              )
            : s.createElement(
                "div",
                { className: j.SearchIcon },
                s.createElement(Q.olm, null),
              ),
        );
      }
      function V(e) {
        return s.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 30 29",
              fill: "none",
            },
            e,
          ),
          s.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M26 20V25H4V20H0V29H30V20H26Z",
          }),
          s.createElement("path", {
            fill: "currentColor",
            d: "M17 12.1716L21.5858 7.58578L24.4142 10.4142L15 19.8284L5.58582 10.4142L8.41424 7.58578L13 12.1715V0H17V12.1716Z",
          }),
        );
      }
      function z(e) {
        return s.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 30 30",
              fill: "none",
            },
            e,
          ),
          s.createElement("path", {
            fill: "currentColor",
            d: "M29.12 4.41L25.59 0.880005L15 11.46L4.41 0.880005L0.880005 4.41L11.46 15L0.880005 25.59L4.41 29.12L15 18.54L25.59 29.12L29.12 25.59L18.54 15L29.12 4.41Z",
          }),
        );
      }
      function J(e) {
        return s.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 30 30",
              fill: "none",
            },
            e,
          ),
          s.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M15 0C12.0333 0 9.13318 0.879735 6.66645 2.52796C4.19971 4.17618 2.27712 6.51886 1.14181 9.25975C0.00649166 12.0006 -0.290558 15.0166 0.28822 17.9264C0.866998 20.8361 2.29561 23.5088 4.3934 25.6066C6.49119 27.7044 9.16393 29.133 12.0736 29.7118C14.9834 30.2906 17.9994 29.9935 20.7402 28.8582C23.4811 27.7229 25.8238 25.8003 27.472 23.3336C29.1203 20.8668 30 17.9667 30 15C30 13.0302 29.612 11.0796 28.8582 9.25975C28.1044 7.43986 26.9995 5.78628 25.6066 4.3934C24.2137 3.00052 22.5601 1.89563 20.7402 1.14181C18.9204 0.387987 16.9698 0 15 0ZM17.5 23H12.5V13H17.5V23ZM15 11C14.4067 11 13.8266 10.8241 13.3333 10.4944C12.8399 10.1648 12.4554 9.69623 12.2284 9.14805C12.0013 8.59987 11.9419 7.99667 12.0576 7.41473C12.1734 6.83279 12.4591 6.29824 12.8787 5.87868C13.2982 5.45912 13.8328 5.1734 14.4147 5.05764C14.9967 4.94189 15.5999 5.0013 16.148 5.22836C16.6962 5.45542 17.1648 5.83994 17.4944 6.33329C17.8241 6.82664 18 7.40666 18 8C18 8.79565 17.6839 9.55871 17.1213 10.1213C16.5587 10.6839 15.7956 11 15 11Z",
          }),
        );
      }
      function ee(e) {
        return s.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 13 8",
              fill: "none",
            },
            e,
          ),
          s.createElement("path", {
            fill: "currentColor",
            d: "M12.6128 1.7121C12.7616 1.56087 12.8428 1.3684 12.8428 1.14155C12.8428 0.687862 12.491 0.323534 12.0446 0.323534C11.8214 0.323534 11.6184 0.419772 11.4628 0.577877L6.83601 5.38975L2.22271 0.577877C2.06712 0.419772 1.85743 0.323534 1.64097 0.323534C1.19452 0.323534 0.842773 0.687862 0.842773 1.14155C0.842773 1.3684 0.923946 1.56087 1.07276 1.71211L6.21369 7.06016C6.38956 7.25264 6.60602 7.342 6.84277 7.34888C7.07953 7.34888 7.28246 7.25264 7.4651 7.06016L12.6128 1.7121Z",
          }),
        );
      }
      function te(e) {
        return s.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 14 14",
              fill: "none",
            },
            e,
          ),
          s.createElement("path", {
            fill: "currentColor",
            d: "M13.6666 8.05776V5.9422L11.9199 5.6222C11.8053 5.22889 11.6457 4.8501 11.4444 4.49331L12.4533 3.03554L10.9644 1.53776L9.50659 2.55554C9.1498 2.35419 8.77101 2.19461 8.3777 2.07998L8.0577 0.333313H5.94214L5.62214 2.07998C5.22883 2.19461 4.85003 2.35419 4.49325 2.55554L3.03547 1.53776L1.5377 3.03554L2.55547 4.49331C2.35412 4.8501 2.19455 5.22889 2.07992 5.6222L0.333252 5.9422V8.05776L2.07992 8.37776C2.19455 8.77107 2.35412 9.14986 2.55547 9.50665L1.5377 10.9644L3.03547 12.4622L4.49325 11.4444C4.85043 11.6427 5.22921 11.7993 5.62214 11.9111L5.94214 13.6666H8.0577L8.3777 11.92C8.77101 11.8053 9.1498 11.6458 9.50659 11.4444L10.9644 12.4533L12.4621 10.9555L11.4444 9.50665C11.6426 9.14947 11.7992 8.77069 11.911 8.37776L13.6666 8.05776ZM6.99992 9.2222C6.56041 9.2222 6.13076 9.09187 5.76532 8.84769C5.39988 8.60351 5.11505 8.25645 4.94685 7.85039C4.77866 7.44433 4.73465 6.99751 4.8204 6.56645C4.90614 6.13538 5.11779 5.73942 5.42857 5.42863C5.73935 5.11785 6.13532 4.9062 6.56638 4.82046C6.99745 4.73471 7.44427 4.77872 7.85033 4.94691C8.25639 5.11511 8.60345 5.39994 8.84763 5.76538C9.09181 6.13082 9.22214 6.56047 9.22214 6.99998C9.22214 7.29181 9.16466 7.58078 9.05299 7.85039C8.94131 8.12 8.77762 8.36498 8.57127 8.57133C8.36491 8.77768 8.11994 8.94137 7.85033 9.05305C7.58071 9.16472 7.29175 9.2222 6.99992 9.2222Z",
            fillOpacity: "0.5",
          }),
        );
      }
      var ne = n(63903),
        ae = n(40103),
        se = n(44026),
        oe = n(30928),
        ie = n(47742),
        re = (n(42525), n(37426));
      const le = "RemoteDownload_OnlineClient",
        ce = "RemoteDownload_ClientAppList",
        me = "RemoteDownload_ClientAppData";
      class de extends Error {
        constructor(e, t) {
          super(e), (this.result = t);
        }
      }
      function ue() {
        const e = (0, c.bY)(),
          t = (0, ie.M)();
        return (0, o.useQuery)(
          [le, t],
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              const t = l.gA.Init(re.II),
                n = yield re.b5.GetAllClientLogonInfo(e, t);
              if (n.GetEResult() !== i.s.k_EResultOK)
                throw (
                  (console.error(
                    "Received error from GetAllClientLogonInfo",
                    n.GetEResult(),
                    n.Hdr().transport_error(),
                  ),
                  new Error(
                    `Error from GetAllClientLogonInfo: ${n.GetEResult()}`,
                  ))
                );
              const a = [];
              for (const e of n.Body().sessions())
                e.device_type() !== r.gg.k_EGamingDeviceType_Unknown &&
                  a.push(e.toObject());
              return {
                sessions: a,
                refetchInterval: n.Body().refetch_interval_sec() || 300,
              };
            }),
          {
            staleTime: 3e5,
            refetchInterval: (e) =>
              1e3 * ((null == e ? void 0 : e.refetchInterval) || 300),
          },
        );
      }
      class pe {
        constructor(e) {
          Object.assign(this, e.toObject()),
            (this.bytes_to_download = parseInt(e.bytes_to_download()) || 0),
            (this.bytes_downloaded = parseInt(e.bytes_downloaded()) || 0),
            (this.bytes_staged = parseInt(e.bytes_staged()) || 0),
            (this.bytes_to_stage = parseInt(e.bytes_to_stage()) || 0),
            (this.bytes_required = parseInt(e.bytes_required()) || 0);
        }
        BIsDownloading() {
          return this.num_downloading > 0;
        }
        BIsAtTopOfQueue() {
          return 0 === this.queue_position;
        }
        BIsPaused() {
          return (
            this.download_paused &&
            (this.bytes_downloaded < this.bytes_to_download ||
              this.bytes_staged < this.bytes_to_stage ||
              -1 != this.queue_position)
          );
        }
        BHasPendingUpdate() {
          return (
            !this.BIsDownloading() &&
            !this.download_paused &&
            (this.bytes_downloaded < this.bytes_to_download ||
              this.bytes_staged < this.bytes_to_stage)
          );
        }
      }
      function _e(e, t, n) {
        return (0, a.mG)(this, void 0, void 0, function* () {
          const a = t.client_instanceid,
            s = l.gA.Init(re.eV);
          s.Body().set_fields("games"),
            s.Body().set_filters(n),
            s.Body().set_client_instanceid(a),
            s.Body().set_include_client_info(!0);
          const o = yield re.b5.GetClientAppList(e, s);
          if (o.GetEResult() !== i.s.k_EResultOK)
            throw (
              (console.error(
                "Received error from GetClientAppList",
                o.GetEResult(),
                o.Hdr().transport_error(),
              ),
              new de(
                `Error from GetClientAppList: ${o.GetEResult()}`,
                o.GetEResult(),
              ))
            );
          const r = new Map();
          for (const e of o.Body().apps()) {
            const t = new pe(e);
            r.set(e.appid(), t);
          }
          return {
            session: t,
            mapApps: r,
            clientInfo: o.Body().client_info().toObject(),
            refetchIntervals: {
              full: o.Body().refetch_interval_sec_full() || 3600,
              changing: o.Body().refetch_interval_sec_changing() || 60,
              updating: o.Body().refetch_interval_sec_updating() || 10,
            },
          };
        });
      }
      function ge(e, t, n) {
        return [ce, e, t, n];
      }
      function fe(e, t = !0) {
        var n, r;
        const l = ue(),
          m = (0, c.bY)(),
          d = (0, ie.M)(),
          u = (e) => {
            t &&
              ((e.result != i.s.k_EResultNotLoggedOn &&
                e.result != i.s.k_EResultTimeout) ||
                l.refetch());
          },
          p = (0, o.useQueries)(
            (
              (null === (n = l.data) || void 0 === n ? void 0 : n.sessions) ||
              []
            ).map((e) => ({
              queryKey: ge(d, e.client_instanceid, "none"),
              queryFn: () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  return _e(m, e, "none");
                }),
              staletime: 36e5,
              refetchInterval: (e) =>
                1e3 * ((null == e ? void 0 : e.refetchIntervals.full) || 3600),
              enabled: l.isSuccess && !l.isFetching,
              onError: u,
              retry: t,
            })),
          ),
          _ = (0, s.useCallback)(
            (t) => {
              if (!e) return t;
              const n = new Map(Array.from(t.mapApps.entries()).filter(e));
              return Object.assign(Object.assign({}, t), { mapApps: n });
            },
            [e],
          ),
          g = (0, o.useQueries)(
            (
              (null === (r = l.data) || void 0 === r ? void 0 : r.sessions) ||
              []
            ).map((e, n) => ({
              queryKey: ge(d, e.client_instanceid, "changing"),
              queryFn: () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  return (function (e, t, n, s) {
                    return (0, a.mG)(this, void 0, void 0, function* () {
                      if (!s) return;
                      const a = yield _e(e, t, n);
                      for (const [e, t] of a.mapApps) s.mapApps.set(e, t);
                      return Object.assign(Object.assign({}, a), {
                        mapApps: s.mapApps,
                      });
                    });
                  })(m, e, "changing", p[n].data);
                }),
              enabled: p[n].isSuccess && !p[n].isFetching,
              staletime: 1e4,
              select: _,
              refetchInterval: (e) => {
                if (!e) return 6e4;
                let t = !1;
                for (const n of e.mapApps.values())
                  if (n.num_downloading > 0 || n.uninstalling) {
                    t = !0;
                    break;
                  }
                const n = e.refetchIntervals;
                return 1e3 * (t ? n.updating : n.changing);
              },
              onError: u,
              retry: t,
            })),
          );
        return {
          rgQueries: g.map((e, t) =>
            p[t].isError && !p[t].isFetching ? p[t] : e,
          ),
          refetch: () => {
            for (const e of g) e.remove();
            for (const e of p) e.refetch();
          },
        };
      }
      function he(e, t) {
        return [me, e, t];
      }
      function ve(e, t = !0) {
        const n = (0, ie.M)(),
          { rgQueries: a } = fe(void 0, t);
        return (0, o.useQuery)(
          he(n, e),
          () => {
            var t, n;
            const s = new Map();
            for (const o of a)
              if (o.isSuccess) {
                const a =
                    null === (t = o.data) || void 0 === t
                      ? void 0
                      : t.session.client_instanceid,
                  i = (
                    null === (n = o.data) || void 0 === n ? void 0 : n.mapApps
                  ).get(e);
                i &&
                  s.set(a, {
                    session: o.data.session,
                    app: i,
                    clientInfo: o.data.clientInfo,
                  });
              }
            return s;
          },
          {
            enabled: a.reduce((e, t) => e && t.isSuccess && !t.isFetching, !0),
            staleTime: 0,
            cacheTime: 0,
          },
        );
      }
      function Ee(e, t, n, s) {
        const r = (0, c.bY)(),
          m = ve(e),
          d = (0, ie.M)(),
          u = (0, o.useQueryClient)();
        return (0, o.useMutation)(
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              var a;
              const s = null == m ? void 0 : m.data,
                o = s && s.get(t);
              if (
                (null === (a = null == o ? void 0 : o.clientInfo) ||
                void 0 === a
                  ? void 0
                  : a.clientcomm_version) >= 1
              ) {
                const e = l.gA.Init(re.BF);
                e.Body().set_client_instanceid(t), e.Body().set_enable(!n);
                const a = yield re.b5.EnableOrDisableDownloads(r, e);
                if (a.GetEResult() != i.s.k_EResultOK)
                  throw (
                    (console.error(
                      "Received error from EnableOrDisableDownloads",
                      a.GetEResult(),
                    ),
                    new Error(
                      `Error from EnableOrDisableDownloads: ${a.GetEResult()}`,
                    ))
                  );
              } else {
                const a = l.gA.Init(re.iH);
                a.Body().set_appid(e),
                  a.Body().set_client_instanceid(t),
                  a.Body().set_action(n ? 0 : 1);
                const s = yield re.b5.SetClientAppUpdateState(r, a);
                if (s.GetEResult() != i.s.k_EResultOK)
                  throw (
                    (console.error(
                      "Received error from SetClientAppUpdateState",
                      s.GetEResult(),
                    ),
                    new Error(
                      `Error from SetClientAppUpdateState: ${s.GetEResult()}`,
                    ))
                  );
              }
              o &&
                ((s.get(t).app.download_paused = n),
                (s.get(t).app.num_downloading = n ? 0 : 1)),
                u.setQueryData(he(d, e), s),
                m.refetch();
            }),
          { onSuccess: s },
        );
      }
      var ye = n(99718),
        be = n.n(ye);
      const Ce = s.forwardRef(function (
        {
          imgURL: e,
          glow: t,
          pauseAnimation: n,
          hidden: a,
          alt: o,
          className: i,
        },
        r,
      ) {
        const [l, c] = s.useState(!1);
        if (a)
          return s.createElement("div", { className: be().HiddenLabel }, "?");
        const m = l && t;
        return s.createElement(
          "div",
          {
            ref: r,
            className: (0, $.Z)(
              be().AchievementIconWrapper,
              i,
              n && be().RareAchievementNoAnimation,
            ),
          },
          m &&
            s.createElement(
              "div",
              { className: be().RareAchievementIconGlowContainerRoot },
              s.createElement(
                "div",
                { className: be().RareAchievementIconGlowContainer },
                s.createElement("div", {
                  className: be().RareAchievementIconGlow,
                }),
              ),
            ),
          s.createElement("img", {
            className: (0, $.Z)(be().Icon, m && be().IconGlow),
            src: e,
            loading: "lazy",
            alt: o,
            onLoad: () => c(!0),
          }),
        );
      });
      var Ge = n(69159),
        we = n(17547),
        Le = n(51441),
        Re = n(32032);
      function Se({ nPercent: e, indeterminate: t, animate: n, className: a }) {
        return s.createElement("div", {
          className: (0, $.Z)(
            Re.ProgressBar,
            n && Re.AnimateProgress,
            t && Re.Indeterminate,
            a,
          ),
          style: { "--percent": e / 100 },
        });
      }
      var Ne = n(29551);
      var Be = n(55357),
        ke = n(99307),
        Ae = n(57742),
        Ie = n(72120),
        De = n(88443),
        Pe = n(86836);
      const xe = s.createContext(void 0);
      function Me() {
        const e = (0, s.useContext)(xe);
        if (!e)
          throw new Error(
            "Attempted to get download client context outside of provider",
          );
        return e;
      }
      function Oe() {
        const e = Me().remoteDownloadClientId,
          t = ue(),
          n = fe();
        if (
          !v.De.IN_CLIENT &&
          t.data &&
          0 !== t.data.sessions.length &&
          n.rgQueries.some((e) => e.data)
        )
          return e
            ? t.data.sessions.find((t) => t.client_instanceid === e)
            : t.data.sessions[0];
      }
      function Te({ children: e }) {
        const [t, n] = (0, s.useState)(void 0),
          a = (0, s.useMemo)(
            () => ({ remoteDownloadClientId: t, setRemoteDownloadClientId: n }),
            [t],
          );
        return s.createElement(xe.Provider, { value: a }, e);
      }
      function Fe(e) {
        switch (e) {
          case r.gg.k_EGamingDeviceType_StandardPC:
            return (0, H.Xx)("#Library_DeviceType_PC");
          case r.gg.k_EGamingDeviceType_SteamDeck:
            return (0, H.Xx)("#Library_DeviceType_SteamDeck");
          default:
            return;
        }
      }
      const Ue = {
        bFitToWindow: !0,
        bOverlapHorizontal: !0,
        bMatchWidth: !1,
        bShiftToFitWindow: !0,
      };
      function $e({ sessions: e, setRemoteDownloadClientId: t }) {
        return s.createElement(
          "ul",
          { className: Pe.ClientListDropdownMenu },
          e.map((e) =>
            s.createElement(
              Ge.Zo,
              {
                onSelected: () => {
                  t(e.client_instanceid);
                },
                key: e.client_instanceid,
              },
              (0, H.Xx)(
                "#GamesList_Client_Indicator",
                Fe(e.device_type),
                e.machine_name,
              ),
            ),
          ),
        );
      }
      function He() {
        const e = ue(),
          t = Oe(),
          n = Me().setRemoteDownloadClientId,
          a = (0, s.useRef)(null),
          o = (0, s.useCallback)(() => {
            e.data &&
              (0, ae.yV)(
                s.createElement($e, {
                  sessions: e.data.sessions,
                  setRemoteDownloadClientId: n,
                }),
                a.current,
                Ue,
              );
          }, [n, a, e.data]);
        return t
          ? s.createElement(
              "div",
              { className: Pe.RemoteDownloadClientBar },
              s.createElement(
                "span",
                { className: Pe.RemoteDownloadHeader },
                (0, H.kQ)(
                  "#GamesList_Header_RemoteDownload",
                  s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(
                      "span",
                      { className: Pe.ClientIndicator },
                      (0, H.Xx)(
                        "#GamesList_Client_Indicator",
                        Fe(t.device_type),
                        t.machine_name,
                      ),
                      e.data.sessions.length > 1 &&
                        s.createElement(
                          "button",
                          {
                            ref: a,
                            onClick: o,
                            className: Pe.ClientSelectDropdown,
                          },
                          s.createElement(ee, null),
                        ),
                    ),
                  ),
                ),
              ),
              s.createElement(
                U.HP,
                {
                  toolTipContent: (0, H.Xx)("#GamesList_RemoteDownload_Help"),
                  className: Pe.InfoIcon,
                },
                s.createElement(J, null),
              ),
            )
          : s.createElement(
              "details",
              {
                className: (0, $.Z)(
                  Pe.RemoteDownloadClientBar,
                  Pe.NoConnection,
                ),
              },
              s.createElement(
                "summary",
                { className: Pe.RemoteDownloadHeader },
                s.createElement(
                  "span",
                  { className: Pe.RemoteDownloadStatus },
                  (0, H.kQ)(
                    "#GamesList_Header_RemoteDownloadStatus",
                    s.createElement(
                      "span",
                      { className: Pe.NoConnectionText },
                      (0, H.Xx)("#GamesList_RemoteDownload_NoConnection"),
                    ),
                  ),
                ),
                s.createElement(
                  "span",
                  { className: Pe.LearnMoreCta },
                  (0, H.Xx)("#GamesList_RemoteDownload_LearnMore"),
                  s.createElement(ee, null),
                ),
              ),
              s.createElement(
                "p",
                { className: Pe.RemoteDownloadHelp },
                (0, H.kQ)(
                  "#GamesList_RemoteDownload_Info",
                  (0, H.Xx)("#GamesList_RemoteDownload_Help"),
                  s.createElement(
                    "a",
                    {
                      href: "https://help.steampowered.com/faqs/view/1025-BD94-12FC-3409",
                    },
                    (0, H.Xx)("#GamesList_RemoteDownload_ReadTheFAQ"),
                  ),
                ),
              ),
            );
      }
      function Xe({ app: e, clientid: t }) {
        const n = !e.download_paused,
          a = Ee(e.appid, t, !0),
          o = Ee(e.appid, t, !1),
          i = n ? "#GamesList_Header_Downloading" : "#GamesList_Header_Paused",
          r = n ? a : o,
          l = e.bytes_to_download
            ? Math.floor((100 * e.bytes_downloaded) / e.bytes_to_download)
            : 0,
          c = !(e.bytes_downloaded && e.bytes_to_download),
          m = n ? s.createElement(Z.dzL, null) : s.createElement(V, null),
          d = n
            ? (0, H.Xx)("#GamesList_Button_Pause")
            : (0, H.Xx)("#GamesList_Button_Resume"),
          u = (0, s.useContext)(cn);
        return (
          (0, s.useEffect)(
            () => (
              null == u || u(e.appid, !0),
              () => (null == u ? void 0 : u(e.appid, !1))
            ),
            [e.appid, u],
          ),
          s.createElement(
            s.Fragment,
            null,
            s.createElement(
              "div",
              { className: Pe.DownloadBarWithLabel },
              s.createElement(
                "span",
                { className: Pe.DownloadStatus },
                (0, H.Xx)(i, l),
              ),
              s.createElement(
                "div",
                { className: Pe.DownloadProgress },
                s.createElement(
                  "span",
                  { className: Pe.CurrentSpace },
                  (0, De.l)(e.bytes_downloaded, {
                    nDigitsAfterDecimal: 1,
                    nMinimumDigitsAfterDecimal: 1,
                    bValueIsInBytes: !0,
                  }),
                ),
                s.createElement("span", null, " / "),
                s.createElement(
                  "span",
                  { className: Pe.TotalSpace },
                  (0, De.l)(e.bytes_to_download, {
                    nDigitsAfterDecimal: 1,
                    nMinimumDigitsAfterDecimal: 1,
                    bValueIsInBytes: !0,
                  }),
                ),
              ),
              e.BIsDownloading() &&
                e.estimated_seconds_remaining > 0 &&
                s.createElement(
                  "span",
                  { className: Pe.DownloadEstimate },
                  (0, Ie.jA)(e.estimated_seconds_remaining),
                ),
              s.createElement(Se, {
                className: Pe.DownloadBar,
                animate: n,
                nPercent: l,
                indeterminate: c,
              }),
            ),
            s.createElement(
              "button",
              {
                disabled: r.isLoading,
                onClick: () => {
                  r.mutateAsync(), nn(e.appid);
                },
                className: Pe.DownloadIconButton,
              },
              m,
              d,
            ),
          )
        );
      }
      function Qe({ app: e, clientid: t }) {
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "button",
            { disabled: !0, className: Pe.DownloadIconButton },
            s.createElement(z, null),
            (0, H.Xx)("#GamesList_Button_Uninstalling"),
          ),
        );
      }
      function Ze({ app: e, clientid: t }) {
        const n = (function (e, t, n) {
            const s = (0, c.bY)(),
              r = ve(e),
              m = (0, ie.M)(),
              d = (0, o.useQueryClient)();
            return (0, o.useMutation)(
              () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  const n = null == r ? void 0 : r.data,
                    a = n && n.get(t),
                    o = l.gA.Init(re.iH);
                  o.Body().set_appid(e),
                    o.Body().set_client_instanceid(t),
                    o.Body().set_action(1);
                  const c = yield re.b5.SetClientAppUpdateState(s, o);
                  if (c.GetEResult() != i.s.k_EResultOK)
                    throw (
                      (console.error(
                        "Received error from SetClientAppUpdateState",
                        c.GetEResult(),
                      ),
                      new Error(
                        `Error from SetClientAppUpdateState: ${c.GetEResult()}`,
                      ))
                    );
                  a &&
                    ((n.get(t).app.download_paused = !1),
                    (n.get(t).app.num_downloading = 1)),
                    d.setQueryData(he(m, e), n),
                    r.refetch();
                }),
              { onSuccess: n },
            );
          })(e.appid, t),
          r = e.rt_time_scheduled,
          m =
            r &&
            (0, H.jr)(r, { bGranularFutureTime: !0 }) +
              " " +
              (0, Ie.Sc)(r, { bForce24HourClock: !1 });
        return s.createElement(
          s.Fragment,
          null,
          m && s.createElement("span", { className: Pe.UpdateSchedule }, m),
          s.createElement(
            "button",
            {
              disabled: n.isLoading,
              onClick: () => {
                n.mutateAsync(), nn(e.appid);
              },
              className: Pe.DownloadIconButton,
            },
            s.createElement(Z.Lao, null),
            (0, H.Xx)("#GamesList_Button_UpdateRequired"),
          ),
        );
      }
      function je({ app: e, closeModal: t, onOK: n }) {
        return s.createElement(ke.uH, {
          strOKButtonText: (0, H.Xx)("#GamesList_Button_Uninstall"),
          strCancelButtonText: (0, H.Xx)("#GamesList_Button_Cancel"),
          strDescription: (0, H.Xx)(
            "#GamesList_RemoteDownload_UninstallConfirm",
            e.app,
          ),
          strTitle: (0, H.Xx)("#GamesList_Button_Uninstall"),
          closeModal: t,
          onOK: n,
        });
      }
      function qe({ app: e, clientid: t }) {
        const n = (function (e, t, n) {
            const s = (0, c.bY)(),
              r = ve(e),
              m = (0, ie.M)(),
              d = (0, o.useQueryClient)();
            return (0, o.useMutation)(
              () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  const n = l.gA.Init(re.fF);
                  n.Body().set_appid(e), n.Body().set_client_instanceid(t);
                  const a = yield re.b5.InstallClientApp(s, n);
                  if (a.GetEResult() != i.s.k_EResultOK)
                    throw (
                      (console.error(
                        "Received error from InstallClientApp",
                        a.GetEResult(),
                      ),
                      new Error(
                        `Error from InstallClientApp: ${a.GetEResult()}`,
                      ))
                    );
                  const o = null == r ? void 0 : r.data;
                  o &&
                    o.get(t) &&
                    ((o.get(t).app.num_downloading = 1),
                    (o.get(t).app.download_paused = !1)),
                    d.setQueryData(he(m, e), o),
                    r.refetch();
                }),
              { onSuccess: n },
            );
          })(e.appid, t),
          r = (function (e, t, n) {
            const s = (0, c.bY)(),
              r = ve(e),
              m = (0, ie.M)(),
              d = (0, o.useQueryClient)();
            return (0, o.useMutation)(
              () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  const n = l.gA.Init(re.Zu);
                  n.Body().set_appid(e), n.Body().set_client_instanceid(t);
                  const a = yield re.b5.UninstallClientApp(s, n);
                  if (a.GetEResult() != i.s.k_EResultOK)
                    throw (
                      (console.error(
                        "Received error from UninstallClientApp",
                        a.GetEResult(),
                      ),
                      new Error(
                        `Error from UninstallClientApp: ${a.GetEResult()}`,
                      ))
                    );
                  const o = null == r ? void 0 : r.data;
                  o && o.get(t) && (o.get(t).app.uninstalling = !0),
                    d.setQueryData(he(m, e), o),
                    r.refetch();
                }),
              { onSuccess: n },
            );
          })(e.appid, t),
          m = e.installed ? r : n,
          d = e.installed
            ? () => {
                (0, Ae.AM)(
                  s.createElement(je, {
                    app: e,
                    onOK: () => {
                      r.mutateAsync(), nn(e.appid);
                    },
                  }),
                  window,
                );
              }
            : () => {
                n.mutateAsync(), nn(e.appid);
              },
          u = e.installed
            ? "#GamesList_Button_Uninstall"
            : "#GamesList_Button_Download",
          p = e.installed ? z : V;
        return s.createElement(
          s.Fragment,
          null,
          !e.installed &&
            e.bytes_required > 0 &&
            s.createElement(
              "span",
              { className: Pe.DownloadSize },
              (0, De.l)(e.bytes_required, { nDigitsAfterDecimal: 1 }),
            ),
          s.createElement(
            "button",
            {
              disabled: m.isLoading,
              onClick: d,
              className: Pe.DownloadIconButton,
            },
            s.createElement(p, null),
            (0, H.Xx)(u),
          ),
        );
      }
      function Ke(e) {
        return e.BIsDownloading() || e.BIsPaused() || e.changing;
      }
      function We({ game: e }) {
        var t;
        const n = ve(e.appid, !1),
          a = Oe(),
          o = null == a ? void 0 : a.client_instanceid;
        if (
          a &&
          0 === (null === (t = n.data) || void 0 === t ? void 0 : t.size)
        )
          return null;
        if (!n.data || 0 === n.data.size || !a) return null;
        const i = n.data.get(o).app;
        return i.BIsDownloading() || i.BIsPaused()
          ? s.createElement(
              "div",
              { className: Pe.DownloadBarContainer },
              s.createElement(Xe, { key: "downloading", app: i, clientid: o }),
            )
          : null;
      }
      function Ye({ game: e, className: t, enableDownloadBar: n = !1 }) {
        var a;
        const o = ve(e.appid, !1),
          i = Oe(),
          r = null == i ? void 0 : i.client_instanceid;
        if (
          i &&
          0 === (null === (a = o.data) || void 0 === a ? void 0 : a.size)
        )
          return s.createElement(
            "div",
            { className: (0, $.Z)(Pe.RemoteControls, t) },
            s.createElement(
              "span",
              { className: Pe.NoRemoteControl },
              (0, H.Xx)("#GamesList_RemoteDownload_NoRemoteControl"),
            ),
          );
        if (!o.data || 0 === o.data.size || !i) return null;
        const l = [],
          c = o.data.get(r),
          m = null == c ? void 0 : c.app;
        if (!m) return null;
        if (m.BIsDownloading() || m.BIsPaused()) {
          if (!n) return null;
          l.push(
            s.createElement(Xe, { key: "downloading", app: m, clientid: r }),
          );
        } else
          m.uninstalling
            ? l.push(
                s.createElement(Qe, {
                  key: "uninstalling",
                  app: m,
                  clientid: r,
                }),
              )
            : m.BHasPendingUpdate()
            ? l.push(
                s.createElement(Ze, {
                  key: "updatePending",
                  app: m,
                  clientid: r,
                }),
              )
            : l.push(
                s.createElement(qe, {
                  key: "installuninstall",
                  app: m,
                  clientid: r,
                }),
              );
        return s.createElement(
          "div",
          { className: (0, $.Z)(Pe.RemoteControls, t) },
          s.createElement("div", { className: Pe.ButtonContainer }, l),
        );
      }
      function Ve(e) {
        var { visible: t } = e,
          n = (0, a._T)(e, ["visible"]);
        return t ? s.createElement(We, Object.assign({}, n)) : null;
      }
      function ze(e) {
        var { visible: t, className: n } = e,
          o = (0, a._T)(e, ["visible", "className"]);
        return Oe()
          ? t
            ? s.createElement(Ye, Object.assign({ className: n }, o))
            : s.createElement("div", {
                className: (0, $.Z)(Pe.RemoteControls, n),
              })
          : null;
      }
      var Je;
      !(function (e) {
        (e.HoursPlayed = "playtime"),
          (e.RecentlyPlayed = "recent"),
          (e.Name = "name"),
          (e.AchievementCompletion = "achievements");
      })(Je || (Je = {}));
      const et = (0, r.dt)((0, r.jM)(v.De.LANGUAGE)),
        tt = new Intl.Collator([et, "en"]);
      function nt(e, t) {
        return (
          tt.compare(
            (e.sort_as || e.name || "").trim(),
            (t.sort_as || t.name || "").trim(),
          ) ||
          (function (e, t) {
            return e.appid - t.appid;
          })(e, t)
        );
      }
      function at(e, t, n) {
        var a, s;
        const o =
            null !== (a = n.find((t) => t.appid === e.appid)) && void 0 !== a
              ? a
              : { unlocked: 0, total: 0 },
          i =
            null !== (s = n.find((e) => e.appid === t.appid)) && void 0 !== s
              ? s
              : { unlocked: 0, total: 0 };
        return (
          i.unlocked / (i.total || 1) - o.unlocked / (o.total || 1) ||
          (function (e, t, n) {
            var a, s;
            const o =
              null !== (a = n.find((t) => t.appid === e.appid)) && void 0 !== a
                ? a
                : { unlocked: 0, total: 0 };
            return (
              (null !== (s = n.find((e) => e.appid === t.appid)) && void 0 !== s
                ? s
                : { unlocked: 0, total: 0 }
              ).total - o.total || nt(e, t)
            );
          })(e, t, n)
        );
      }
      function st(e, t) {
        const n = B(L()),
          a = (0, s.useCallback)(
            (e, a) => {
              switch (t) {
                case Je.HoursPlayed:
                  return (
                    (s = e),
                    (null !== (i = (o = a).playtime_forever) && void 0 !== i
                      ? i
                      : 0) -
                      (null !== (r = s.playtime_forever) && void 0 !== r
                        ? r
                        : 0) || nt(s, o)
                  );
                case Je.RecentlyPlayed:
                  return (function (e, t) {
                    return (
                      t.rtime_last_played - e.rtime_last_played || nt(e, t)
                    );
                  })(e, a);
                case Je.AchievementCompletion:
                  if (n.data) return at(e, a, n.data);
                default:
                case Je.Name:
                  return nt(e, a);
              }
              var s, o, i, r;
            },
            [t, n.data],
          );
        return (0, s.useMemo)(
          () => ({
            data: e.data && [...e.data].sort(a),
            isLoading:
              e.isLoading || (t === Je.AchievementCompletion && n.isLoading),
            error: e.error,
          }),
          [a, e.data, e.isLoading, e.error, n.isLoading, t],
        );
      }
      var ot,
        it = n(18934);
      function rt(e) {
        var t;
        if (e.isLoading) return "";
        const n = null === (t = e.data) || void 0 === t ? void 0 : t.length;
        return void 0 === n ? "" : `(${n})`;
      }
      function lt(e, t, n, a) {
        const o = R(),
          i = C.Get().GetReviewCount(),
          r = C.Get().GetFollowedCount();
        return (0, s.useMemo)(() => {
          const s = [];
          return (
            s.push({
              tab: ot.RecentlyPlayed,
              label: (0, H.Xx)("#GamesList_Tab_RecentlyPlayed", rt(n)),
            }),
            s.push({
              tab: ot.All,
              label: (0, H.Xx)("#GamesList_Tab_AllGames", rt(t)),
            }),
            (o ||
              e === ot.Perfect ||
              a.isLoading ||
              (a.data && a.data.length > 0)) &&
              s.push({
                tab: ot.Perfect,
                label: (0, H.Xx)("#GamesList_Tab_PerfectGames", rt(a)),
              }),
            s.push(
              {
                tab: ot.Followed,
                href: `${E._.ProfileURL}followedgames`,
                label: (0, H.Xx)(
                  "#GamesList_Tab_Followed",
                  r > 0 ? `(${r})` : "",
                ),
              },
              {
                tab: ot.Reviews,
                href: `${E._.ProfileURL}reviews`,
                label: (0, H.Xx)(
                  "#GamesList_Tab_Reviews",
                  i > 0 ? `(${i})` : "",
                ),
              },
              {
                tab: ot.Wishlist,
                href: `${E._.ProfileURL}wishlist`,
                label: (0, H.Xx)("#GamesList_Tab_Wishlist"),
                className: it.WishlistTab,
              },
            ),
            s
          );
        }, [e, t, n, a, i, r, o]);
      }
      function ct({ tabs: e, strTab: t, setStrTab: n }) {
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            {
              className: (0, $.Z)(
                "sectionTabs item responsive_hidden",
                it.tabList,
              ),
            },
            e.map((e) =>
              e.href
                ? s.createElement(
                    "a",
                    {
                      className: (0, $.Z)("sectionTab", e.className),
                      href: e.href,
                      key: e.label,
                    },
                    s.createElement("span", null, e.label),
                  )
                : s.createElement(
                    "a",
                    {
                      className: (0, $.Z)(
                        "sectionTab",
                        e.tab === t && "active",
                        e.className,
                      ),
                      key: e.tab,
                      href: `${E._.ProfileURL}games/?tab=${e.tab}`,
                      onClick: (t) => {
                        t.preventDefault(), n(e.tab);
                      },
                    },
                    s.createElement("span", null, e.label),
                  ),
            ),
          ),
          s.createElement(
            "div",
            {
              className: (0, $.Z)(
                "nonresponsive_hidden responsive_tab_ctn sharedfiles_responsive_tab",
                it.SelectBaseline,
              ),
            },
            s.createElement(
              "div",
              { className: "responsive_tab_control" },
              s.createElement(
                "select",
                {
                  value: t,
                  onChange: (t) => {
                    const a = e.find((e) => e.tab === t.target.value);
                    a &&
                      (t.preventDefault(),
                      a.href ? (location.href = a.href) : n(a.tab));
                  },
                },
                e.map((e) =>
                  e.href
                    ? s.createElement(
                        "option",
                        { value: e.tab, key: e.label },
                        e.label,
                      )
                    : s.createElement(
                        "option",
                        { value: e.tab, key: e.tab },
                        e.label,
                      ),
                ),
              ),
            ),
          ),
          s.createElement("div", {
            id: "tabs_baseline",
            className: (0, $.Z)("responsive_tab_baseline", it.TabBaseline),
          }),
        );
      }
      !(function (e) {
        (e.All = "all"),
          (e.RecentlyPlayed = "recent"),
          (e.Perfect = "perfect"),
          (e.Followed = "followed"),
          (e.Reviews = "reviews"),
          (e.Wishlist = "wishlist");
      })(ot || (ot = {}));
      const mt =
        n.p +
        "images/applications/community/defaultappheader.png?v=valveisgoodatcaching";
      var dt = n(49959);
      const ut = parseInt(dt.GameHeight),
        pt = parseInt(dt.GamePadding),
        _t = parseInt(dt.RemoteControlsHeight),
        gt = ut + pt;
      function ft() {
        return (function (e) {
          const t = (0, s.useMemo)(() => matchMedia(e), [e]),
            [n, a] = (0, s.useState)(t.matches);
          return (
            (0, s.useEffect)(() => {
              function e(e) {
                a(e.matches);
              }
              return (
                t.addEventListener("change", e),
                () => t.removeEventListener("change", e)
              );
            }, [t]),
            n
          );
        })(`(max-width: ${dt.MobileBreakpoint})`);
      }
      function ht(e) {
        const t = A(e.appid),
          n = (function (e) {
            const t = (0, c.bY)(),
              n = C.Get();
            return (0, o.useQuery)(["FriendsWhoPlayCount", e], () =>
              n.GetFriendsWhoPlayCount(t, e),
            );
          })(e.appid),
          a = (function (e) {
            const t = C.Get(),
              n = t.GetProfileSteamId();
            return (0, o.useQuery)(["TradingCardsCount", n, e], () =>
              t.GetTradingCardsCount(n, e),
            );
          })(e.appid);
        return (0, s.useMemo)(() => {
          const s = [];
          return (
            s.push({
              href: `${v.De.COMMUNITY_BASE_URL}app/${e.appid}`,
              label: (0, H.Xx)("#Community_GameHubMenuItem"),
              key: "gamehub",
            }),
            void 0 !== t.data &&
              s.push({
                href: `${E._.ProfileURL}screenshots/?appid=${e.appid}`,
                label: (0, H.Xx)(
                  "#Community_ScreenshotsMenuItemFirstPerson",
                  t.data > 0 ? `(${t.data})` : "",
                ),
                key: "screenshots",
              }),
            void 0 !== n.data &&
              s.push({
                href: `${E._.ProfileURL}friendsthatplay/${e.appid}`,
                label: (0, H.Xx)(
                  "#Community_FriendsWhoPlayMenuItemFirstPerson",
                  n.data > 0 ? `(${n.data})` : "",
                ),
                key: "friendswhoplay",
              }),
            void 0 !== a.data &&
              s.push({
                href: `${E._.ProfileURL}gamecards/${e.appid}`,
                label: (0, H.Xx)(
                  "#Community_TradingCardsMenuItemFirstPerson",
                  `(${a.data.owned}/${a.data.total})`,
                ),
                key: "tradingcards",
              }),
            s.push({
              href: `${E._.ProfileURL}recommended/${e.appid}`,
              label: (0, H.Xx)("#Community_ReviewMenuItemFirstPerson"),
              key: "review",
            }),
            {
              rgLinks: s,
              bIsLoading: t.isLoading || n.isLoading || a.isLoading,
            }
          );
        }, [e, t.data, t.isLoading, n.data, n.isLoading, a.data, a.isLoading]);
      }
      function vt(e) {
        const t = w(),
          n = A(e.appid),
          a = (function (e) {
            const t = (0, c.bY)(),
              n = C.Get(),
              a = n.GetProfileSteamId();
            return (0, o.useQuery)(
              ["UserIndividualRecommendations", a, e],
              () => n.GetIndividualHasRecommendations(a, t, e),
            );
          })(e.appid);
        return (0, s.useMemo)(() => {
          const s = [];
          return (
            s.push({
              href: `${v.De.COMMUNITY_BASE_URL}app/${e.appid}`,
              label: (0, H.Xx)("#Community_GameHubMenuItem"),
              key: "gamehub",
            }),
            n.data &&
              n.data > 0 &&
              s.push({
                href: `${E._.ProfileURL}screenshots/?appid=${e.appid}`,
                label: (0, H.Xx)(
                  "#Community_ScreenshotsMenuItemThirdPerson",
                  t,
                  n.data > 0 ? `(${n.data})` : "",
                ),
                key: "screenshots",
              }),
            a.data &&
              s.push({
                href: `${E._.ProfileURL}recommended/${e.appid}`,
                label: (0, H.Xx)("#Community_ReviewMenuItemThirdPerson", t),
                key: "review",
              }),
            { rgLinks: s, bIsLoading: n.isLoading }
          );
        }, [e, t, n.data, n.isLoading, a.data]);
      }
      function Et(e) {
        return R() ? ht(e) : vt(e);
      }
      function yt(e) {
        const t = w(),
          n = (function (e) {
            return C.Get().GetGCPDGames().includes(e.appid);
          })(e),
          a = R();
        return (0, s.useMemo)(() => {
          const s = [];
          return (
            e.has_community_visible_stats &&
              (s.push({
                href: `${E._.ProfileURL}stats/${e.appid}/?tab=achievements`,
                label: a
                  ? (0, H.Xx)("#Community_UsersAchievementsFirstPerson")
                  : (0, H.Xx)("#Community_UsersAchievements", t),
                key: "achievements",
              }),
              s.push({
                href: `${v.De.COMMUNITY_BASE_URL}stats/${e.appid}/achievements/`,
                label: (0, H.Xx)("#Community_GlobalAchievements"),
                key: "global_achievements",
              })),
            e.has_leaderboards &&
              (s.push({
                href: `${E._.ProfileURL}stats/${e.appid}/?tab=leaderboards`,
                label: a
                  ? (0, H.Xx)("#Community_UsersLeaderboardsFirstPerson")
                  : (0, H.Xx)("#Community_UsersLeaderboards", t),
                key: "leaderboards",
              }),
              s.push({
                href: `${v.De.COMMUNITY_BASE_URL}stats/${e.appid}/leaderboards/`,
                label: (0, H.Xx)("#Community_GlobalLeaderboards"),
                key: "global_leaderboards",
              })),
            a &&
              n &&
              s.push({
                href: `${E._.ProfileURL}gcpd/${e.appid}/`,
                label: (0, H.Xx)("#Community_GamePersonalData", t),
                key: "gcpd",
              }),
            s
          );
        }, [t, e, n, a]);
      }
      function bt(e) {
        return (0, s.useMemo)(() => {
          const t = [];
          return (
            t.push({
              href: `${v.De.STORE_BASE_URL}app/${e.appid}`,
              label: (0, H.Xx)("#Community_StorePage"),
              key: "store",
            }),
            (0, ne.e7)(v.De.EREALM) ||
              t.push(
                {
                  href: `${v.De.IN_CLIENT ? "steam://openurl_external/" : ""}${
                    v.De.STORE_BASE_URL
                  }forum/${e.appid}`,
                  label: (0, H.Xx)("#Community_Forums"),
                  key: "forums",
                },
                {
                  href: `${
                    v.De.COMMUNITY_BASE_URL
                  }search/groups/?text=${encodeURIComponent(e.name)}`,
                  label: (0, H.Xx)("#Community_Groups"),
                  key: "groups",
                },
                {
                  href: `${v.De.IN_CLIENT ? "steam://openurl_external/" : ""}${
                    v.De.STORE_BASE_URL
                  }appofficialsite/${e.appid}`,
                  label: (0, H.Xx)("#Community_OfficialWebsite"),
                  key: "website",
                },
                {
                  href: `${v.De.STORE_BASE_URL}news/?appids=${e.appid}`,
                  label: (0, H.Xx)("#Community_News"),
                  key: "news",
                },
              ),
            t
          );
        }, [e]);
      }
      const Ct = s.forwardRef(
        ({ achievement: e, appid: t, className: n }, a) => {
          const o = parseFloat(e.player_percent_unlocked) < 10,
            i = `${v.De.MEDIA_CDN_COMMUNITY_URL}images/apps/${t}/${e.icon}`;
          return s.createElement(Ce, {
            ref: a,
            className: (0, $.Z)(
              Be.AchievementIcon,
              Be.RareAchievementIconWrapper,
              n,
            ),
            glow: o,
            imgURL: i,
          });
        },
      );
      function Gt({ appid: e, achievement: t }) {
        const n = `${v.De.MEDIA_CDN_COMMUNITY_URL}images/apps/${e}/${t.icon}`,
          a = parseFloat(t.player_percent_unlocked) < 10;
        return s.createElement(
          "div",
          { className: Be.AchievementHover },
          s.createElement(
            "div",
            { className: Be.Background },
            s.createElement("img", { className: Be.Blur, src: n }),
          ),
          s.createElement(
            "div",
            { className: Be.TopSection },
            s.createElement(Ct, { appid: e, achievement: t }),
            s.createElement(
              "div",
              { className: Be.TextSection },
              s.createElement("div", { className: Be.Name }, t.name),
              s.createElement("div", { className: Be.Desc }, t.desc),
            ),
          ),
          t.player_percent_unlocked &&
            s.createElement(
              "div",
              { className: Be.Unlocked },
              s.createElement(
                "span",
                { className: (0, $.Z)(a && Be.RareLabel) },
                (0, H.Xx)(
                  "#GamesList_Achievement_Unlock_Percentage",
                  t.player_percent_unlocked,
                ),
              ),
            ),
        );
      }
      const wt = {
          direction: "top",
          bEnablePointerEvents: !1,
          style: { width: void 0, height: void 0, minHeight: void 0 },
        },
        Lt = s.forwardRef(({ appid: e, achievement: t }, n) =>
          s.createElement(
            Le.tl,
            {
              hoverContent: s.createElement(Gt, { appid: e, achievement: t }),
              hoverProps: wt,
            },
            s.createElement(Ct, { ref: n, achievement: t, appid: e }),
          ),
        );
      function Rt(e) {
        var {
            children: t,
            remainderRenderer: n,
            totalItemOverride: o,
            itemPadding: i = 0,
          } = e,
          r = (0, a._T)(e, [
            "children",
            "remainderRenderer",
            "totalItemOverride",
            "itemPadding",
          ]);
        const [l, ...c] = t,
          m = (0, D.yU)((e) => {
            g(e.contentRect.width);
          }),
          d = (0, D.yU)((e) => {
            p(e.contentRect.width);
          }),
          [u, p] = (0, s.useState)(0),
          [_, g] = (0, s.useState)(0),
          f = null != o ? o : t.length;
        let h = t.length;
        if (_ && u) {
          let e = 1,
            n = _;
          for (; n < u; ) (n += i), n + _ <= u && ((n += _), e++);
          e < f && (h = Math.max(0, Math.min(t.length, e - 1)));
        }
        return s.createElement(
          "div",
          Object.assign({ ref: d }, r, {
            style: 0 === u || 0 === _ ? { opacity: 0 } : void 0,
          }),
          h > 0 && s.cloneElement(l, { ref: m }),
          h > 1 && c.slice(0, h - 1),
          h < f && n(f - h),
        );
      }
      function St({ game: e, visible: t, totalUnlocked: n }) {
        var a, o;
        const i = (function (e, t) {
            const n = (0, c.bY)(),
              a = C.Get(),
              s = a.GetProfileSteamId();
            return f({
              batchKey: ["TopAchievements", s, v.De.LANGUAGE],
              queryKey: [e.appid],
              queryFn: (e) => a.FetchTopAchievementsBatch(n, s, e),
              requestMatcher: (e, t) => e.appid === t.appid,
              batchDuration: 100,
              request: e,
              enabled: t,
            });
          })(e, t),
          r = `${E._.ProfileURL}stats/${e.appid}/?tab=achievements`;
        return (null ===
          (o =
            null === (a = i.data) || void 0 === a ? void 0 : a.achievements) ||
        void 0 === o
          ? void 0
          : o.length) > 0
          ? s.createElement(
              Rt,
              {
                className: Be.AchievementIcons,
                totalItemOverride: n,
                itemPadding: 8,
                remainderRenderer: (e) =>
                  s.createElement(
                    "a",
                    { href: r, className: Be.Remainder },
                    "+",
                    e,
                  ),
              },
              i.data.achievements.map((t) =>
                s.createElement(Lt, {
                  appid: e.appid,
                  achievement: t,
                  key: `${t.statid}${t.bit}`,
                }),
              ),
            )
          : null;
      }
      function Nt({ game: e, visible: t, showTop: n }) {
        const a = k(e, t).data;
        if (!a) return null;
        if (0 === a.total) return null;
        const o = Math.floor((a.unlocked / a.total) * 100),
          i = (0, H.Xx)("#GamesList_Header_Achievements"),
          r = (0, H.Xx)("#GamesList_Achievement_Fraction", a.unlocked, a.total),
          l = `${E._.ProfileURL}stats/${e.appid}/?tab=achievements`;
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            { className: Be.AchievementsProgress },
            s.createElement(
              "a",
              { className: Be.AchievementsProgressLabel, href: l },
              i,
            ),
            s.createElement("span", { className: Be.AchievementsFraction }, r),
            s.createElement(Se, {
              className: Be.AchievementsProgressBar,
              animate: !1,
              nPercent: o,
            }),
          ),
          n &&
            s.createElement(St, {
              game: e,
              visible: t,
              totalUnlocked: a.unlocked,
            }),
        );
      }
      function Bt({ game: e, visible: t }) {
        const n = k(e, t).data;
        return n && t && n.total && n.unlocked === n.total
          ? s.createElement(
              "div",
              { title: (0, H.Xx)("#Perfect_Game_Description") },
              s.createElement(Z.Gue, {
                fullcolor: !0,
                className: Be.PerfectRibbon,
              }),
            )
          : null;
      }
      const kt = () => {};
      function At({ links: e }) {
        return s.createElement(
          Ge.xV,
          { className: Be.NavDropdownMenu },
          e.map((e) =>
            s.createElement(
              Ge.Zo,
              { onSelected: kt, key: e.key },
              s.createElement("a", { href: e.href }, e.label),
            ),
          ),
        );
      }
      function It({ game: e }) {
        const t = Et(e);
        return t.bIsLoading
          ? s.createElement(
              Ge.xV,
              { className: Be.NavDropdownMenu },
              s.createElement(F.V, { size: "small", position: "center" }),
            )
          : s.createElement(At, { links: t.rgLinks });
      }
      const Dt = {
        bFitToWindow: !0,
        bOverlapHorizontal: !0,
        bMatchWidth: !1,
        bShiftToFitWindow: !0,
      };
      function Pt({ links: e, children: t, className: n }) {
        const a = (0, s.useRef)(null),
          o = (0, s.useCallback)(() => {
            (0, ae.yV)(s.createElement(At, { links: e }), a.current, Dt);
          }, [a, e]);
        return s.createElement(
          x.s,
          {
            className: (0, $.Z)(Be.NavButton, n),
            onActivate: o,
            ref: a,
            focusable: !0,
          },
          t,
        );
      }
      function xt({ links: e, label: t, className: n, onClick: a }) {
        return s.createElement(O.gB, {
          rgOptions: e.map((e) => ({ label: e.label, data: e.href })),
          onMenuOpened: a,
          onChange: (e) => {
            location.href = e.data;
          },
          strDefaultLabel: t,
          strClassName: (0, $.Z)(Be.GamepadNavigationDropdown, n),
          strDropDownButtonClassName: Be.GamepadNavigationDropdownButton,
          highlightOnFocus: !0,
        });
      }
      function Mt({ game: e, setLinkData: t }) {
        const n = Et(e);
        return (
          (0, s.useEffect)(() => {
            t(n.rgLinks);
          }, [t, n.rgLinks]),
          null
        );
      }
      function Ot({ game: e }) {
        const t = R(),
          n = (0, H.Xx)(
            t ? "#Community_GameContentFirstPerson" : "#Community_GameContent",
          ),
          [a, o] = (0, s.useState)([]),
          [i, r] = (0, s.useState)(!1);
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(xt, { links: a, label: n, onClick: () => r(!0) }),
          i && s.createElement(Mt, { game: e, setLinkData: o }),
        );
      }
      function Tt({ game: e }) {
        const t = bt(e),
          n = (0, v.id)();
        return n
          ? s.createElement(xt, {
              links: t,
              label: (0, H.Xx)("#Community_GameLinks"),
            })
          : s.createElement(
              Pt,
              { links: t, className: Be.GameLinks },
              n
                ? s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(
                      "span",
                      null,
                      " ",
                      (0, H.Xx)("#Community_GameLinks"),
                      " ",
                    ),
                    s.createElement(ee, null),
                  )
                : s.createElement(Q.bbz, null),
            );
      }
      function Ft({ game: e }) {
        const t = yt(e),
          n = R(),
          a = (0, v.id)();
        if (0 === t.length) return null;
        const o = (0, H.Xx)(
          n ? "#Community_GameStatsFirstPerson" : "#Community_GameStats",
        );
        return a
          ? s.createElement(xt, { links: t, label: o })
          : s.createElement(
              Pt,
              { links: t, className: Be.StatLinks },
              s.createElement("span", null, " ", o, " "),
              s.createElement(ee, null),
            );
      }
      function Ut({ game: e }) {
        const t = (0, s.useRef)(null),
          n = (0, c.P9)(),
          a = (0, s.useCallback)(() => {
            (0, ae.yV)(
              s.createElement(
                c.Ub,
                {
                  useActiveSteamInterface: n.useActiveSteamInterface,
                  useStorage: n.useStorage,
                },
                s.createElement(It, { game: e }),
              ),
              t.current,
              Dt,
            );
          }, [t, e, n]),
          o = R(),
          i = (0, v.id)(),
          r = (0, H.Xx)(
            o ? "#Community_GameContentFirstPerson" : "#Community_GameContent",
          );
        return i
          ? s.createElement(Ot, { game: e })
          : s.createElement(
              x.s,
              {
                className: (0, $.Z)(Be.NavButton, Be.ContentLinks),
                onActivate: a,
                ref: t,
              },
              s.createElement("span", null, " ", r, " "),
              s.createElement(ee, null),
            );
      }
      function $t({ label: e, children: t }) {
        return s.createElement(
          "details",
          { className: Be.BottomSheetSection },
          s.createElement("summary", null, e, s.createElement(ee, null)),
          s.createElement("div", { className: Be.SectionContent }, t),
        );
      }
      function Ht({ game: e }) {
        const t = yt(e);
        return 0 === t.length
          ? null
          : s.createElement(
              $t,
              { label: (0, H.Xx)("#Community_GameStats") },
              t.map((e) =>
                s.createElement(
                  "a",
                  { className: Be.BottomSheetLink, href: e.href, key: e.key },
                  e.label,
                ),
              ),
            );
      }
      function Xt({ game: e }) {
        const t = Et(e);
        return 0 === t.rgLinks.length
          ? null
          : s.createElement(
              $t,
              { label: (0, H.Xx)("#Community_GameContent") },
              t.rgLinks.map((e) =>
                s.createElement(
                  "a",
                  { className: Be.BottomSheetLink, href: e.href, key: e.key },
                  e.label,
                ),
              ),
            );
      }
      function Qt({ game: e }) {
        const t = bt(e);
        return 0 === t.length
          ? null
          : s.createElement(
              $t,
              { label: (0, H.Xx)("#GamesList_MenuLabel_GameInfo") },
              t.map((e) =>
                s.createElement(
                  "a",
                  { className: Be.BottomSheetLink, href: e.href, key: e.key },
                  e.label,
                ),
              ),
            );
      }
      function Zt({ game: e }) {
        const t = R(),
          n = (function () {
            const e = Oe();
            return e
              ? (0, H.Xx)(
                  "#GamesList_Client_Indicator",
                  Fe(e.device_type),
                  e.machine_name,
                )
              : null;
          })();
        return t && n
          ? s.createElement(
              $t,
              { label: (0, H.Xx)("#GamesList_MenuLabel_RemoteDownload") },
              s.createElement("span", { className: Be.ClientName }, n),
              s.createElement(ze, {
                game: e,
                className: Be.BottomSheetRemoteControls,
                visible: !0,
                enableDownloadBar: !0,
              }),
            )
          : null;
      }
      function jt({ tab: e }) {
        const t = zt().openGame,
          n = Vt(),
          a = (0, s.useRef)(null);
        (0, s.useEffect)(() => {
          var e;
          a.current &&
            (null === (e = a.current.querySelector("summary")) ||
              void 0 === e ||
              e.focus());
        }, [t]);
        const o = N(t);
        if (!t) return null;
        const i =
          v.De.STORE_ICON_BASE_URL +
          `/${t.appid}/${t.capsule_filename || "library_600x900.jpg"}`;
        return s.createElement(
          "div",
          {
            className: (0, $.Z)(
              Be.BottomSheetContainer,
              o && Be.HasAdultContent,
            ),
            role: "dialog",
            "aria-modal": "true",
            onKeyDown: (e) => {
              "Escape" === e.key && n(void 0);
            },
          },
          s.createElement("div", {
            className: Be.BottomSheetOverlay,
            onClick: (e) => {
              e.preventDefault(), e.stopPropagation(), n(void 0);
            },
          }),
          s.createElement(
            "div",
            { className: Be.BottomSheet, ref: a },
            s.createElement(
              "div",
              { className: Be.GameInfo },
              s.createElement(
                "div",
                { className: Be.BlurredBackground },
                s.createElement("img", { src: i, alt: t.name }),
              ),
              s.createElement("img", {
                src: i,
                alt: t.name,
                className: Be.Portrait,
              }),
              s.createElement(
                "div",
                { className: Be.Facts },
                s.createElement("span", { className: Be.GameTitle }, t.name),
                s.createElement(qt, { game: t, visible: !0, tab: e }),
              ),
            ),
            s.createElement(Xt, { game: t }),
            s.createElement(Ht, { game: t }),
            s.createElement(Qt, { game: t }),
            s.createElement(Zt, { game: t }),
          ),
        );
      }
      function qt({ game: e, visible: t, tab: n }) {
        const a = R(),
          o = N(e),
          i = ft(),
          r = n !== ot.All && !(i && n === ot.RecentlyPlayed);
        return s.createElement(
          "div",
          { className: Be.Playtime },
          n === ot.RecentlyPlayed &&
            !!e.playtime_2weeks &&
            s.createElement(
              "span",
              { className: Be.Hours2weeks },
              s.createElement(
                "span",
                { className: Be.FactLabel },
                (0, H.Xx)("#GamesList_Header_TwoWeeks"),
              ),
              (0, Ne.W)(e.playtime_2weeks),
            ),
          !!e.playtime_forever &&
            s.createElement(
              "span",
              { className: Be.Hours },
              s.createElement(
                "span",
                { className: Be.FactLabel },
                (0, H.Xx)("#GamesList_Header_TotalPlayed"),
              ),
              (0, Ne.W)(
                e.playtime_forever +
                  (e.playtime_disconnected ? e.playtime_disconnected : 0),
              ),
            ),
          n !== ot.RecentlyPlayed &&
            a &&
            !!e.rtime_last_played &&
            s.createElement(
              "span",
              { className: Be.LastPlayed },
              s.createElement(
                "span",
                { className: Be.FactLabel },
                (0, H.Xx)("#GamesList_Header_LastPlayed"),
              ),
              (0, H.m9)(e.rtime_last_played),
            ),
          !o &&
            s.createElement(
              "div",
              { className: Be.AchievementContainer },
              s.createElement(Nt, { game: e, visible: t, showTop: r }),
            ),
        );
      }
      function Kt({ game: e }) {
        const t = ft(),
          [n, a] = (0, s.useState)(0),
          o = [
            `${v.De.STORE_ICON_BASE_URL}${e.appid}/${
              e.capsule_filename || "library_600x900.jpg"
            }`,
            `${v.De.STORE_ICON_BASE_URL}${e.appid}/portrait.png`,
            mt,
          ],
          i = [`${v.De.STORE_ICON_BASE_URL}${e.appid}/header.jpg`, mt],
          r = t ? o[n] === mt : i[n] === mt;
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "picture",
            { onError: () => a((e) => e + 1) },
            s.createElement("source", {
              media: `(max-width: ${dt.MobileBreakpoint})`,
              srcSet: o[n],
            }),
            s.createElement("img", { src: i[n], alt: e.name, loading: "lazy" }),
          ),
          r && s.createElement("span", { className: Be.FallbackTitle }, e.name),
        );
      }
      function Wt({ game: e, hasEverBeenVisible: t }) {
        const n = ft();
        return s.createElement(
          "div",
          { className: Be.PortraitContainer },
          s.createElement(Kt, { game: e }),
          !n && s.createElement(Bt, { game: e, visible: t }),
        );
      }
      const Yt = s.memo(function ({ game: e, top: t, tab: n }) {
        const a = `${v.De.STORE_BASE_URL}app/${e.appid}`,
          o = R(),
          i = ft(),
          r = Vt(),
          l = i ? "button" : oe.eh,
          c = i ? () => r(e) : void 0,
          [m, d] = (0, s.useState)(!1),
          u = (0, D.S1)(
            (0, s.useCallback)((e) => {
              e.isIntersecting && d(!0);
            }, []),
            { rootMargin: "600px" },
          ),
          p = N(e),
          _ = (0, v.id)(),
          g = i ? "div" : se.IS,
          f = i ? "span" : "a";
        return s.createElement(
          "div",
          {
            className: (0, $.Z)(
              Be.GamesListItemContainer,
              p && Be.HasAdultContent,
            ),
            style: { top: `${t}px` },
            ref: u,
          },
          s.createElement(
            l,
            {
              className: (0, $.Z)(Be.GamesListItem, e.changing && Be.Changing),
              onClick: c,
            },
            s.createElement(
              g,
              { href: a, className: Be.GameItemPortrait },
              s.createElement(Wt, { game: e, hasEverBeenVisible: m }),
            ),
            s.createElement(
              "span",
              { className: Be.GameNameContainer },
              s.createElement(f, { href: a, className: Be.GameName }, e.name),
            ),
            s.createElement(qt, { game: e, visible: m, tab: n }),
            !i &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "div",
                  { className: Be.Buttons },
                  s.createElement(Ft, { game: e }),
                  s.createElement(Ut, { game: e }),
                  _ && s.createElement(Tt, { game: e }),
                ),
                !_ && s.createElement(Tt, { game: e }),
              ),
            o &&
              !i &&
              s.createElement(ze, {
                className: Be.DownloadStatus,
                game: e,
                visible: m,
              }),
            i && s.createElement(Bt, { game: e, visible: m }),
          ),
          o && s.createElement(Ve, { game: e, visible: m }),
        );
      });
      function Vt() {
        return zt().fnSetOpenGame;
      }
      function zt() {
        const e = (0, s.useContext)(Jt);
        if (!e)
          throw new Error(
            "attempted to use BottomSheetContext outside of provider",
          );
        return e;
      }
      const Jt = s.createContext(void 0);
      function en({ children: e }) {
        const [t, n] = (0, s.useState)(void 0);
        return s.createElement(
          Jt.Provider,
          { value: { openGame: t, fnSetOpenGame: n } },
          e,
        );
      }
      const tn = new Set();
      function nn(e) {
        tn.add(e);
      }
      const an = new Set();
      function sn({ games: e, tab: t, fnCalculateGameSize: n }) {
        const [a, o] = (0, s.useMemo)(() => {
          let t = 0;
          const a = e.map((e) => {
            const a = n(e);
            return (t += a), a;
          });
          return [t, a];
        }, [e, n]);
        !(function () {
          const e = (0, s.useRef)(!1);
          (0, s.useEffect)(() => {
            var t;
            if (e.current) return;
            const n =
              null === (t = history.state) || void 0 === t ? void 0 : t.scrollY;
            n && window.scroll({ top: n }), (e.current = !0);
          }, []),
            (0, s.useEffect)(() => {
              let e;
              const t = () => {
                e && clearTimeout(e),
                  (e = setTimeout(() => {
                    var e;
                    history.replaceState(
                      Object.assign(
                        Object.assign(
                          {},
                          null !== (e = history.state) && void 0 !== e ? e : {},
                        ),
                        { scrollY: window.scrollY },
                      ),
                      "",
                    );
                  }, 100));
              };
              return (
                addEventListener("scroll", t, { passive: !0 }),
                () => {
                  removeEventListener("scroll", t), e && clearTimeout(e);
                }
              );
            }, []);
        })();
        const i = (0, s.useRef)(null);
        let r = 0;
        return s.createElement(
          x.s,
          { ref: i, className: Be.List, style: { height: a }, autoFocus: !0 },
          s.createElement(
            rn,
            {
              disableContinuousRender: e.length > 1024,
              batchSize: 16,
              containerRef: i,
              childSizes: o,
            },
            e.map((e, n) => {
              const a = r;
              return (
                (r += o[n]),
                s.createElement(Yt, { game: e, key: e.appid, top: a, tab: t })
              );
            }),
          ),
        );
      }
      function on() {
        return (0, a.mG)(this, void 0, void 0, function* () {
          return new Promise((e) => {
            setTimeout(e, 0);
          });
        });
      }
      function rn({
        children: e,
        batchSize: t,
        containerRef: n,
        childSizes: o,
        disableContinuousRender: i,
      }) {
        const [r] = (0, s.useState)([]);
        return (
          (0, s.useEffect)(() => {
            if (i) return () => {};
            let e = !1;
            return (
              (function () {
                var n;
                (0, a.mG)(this, void 0, void 0, function* () {
                  for (let a = 0; a < r.length + t; a += t) {
                    for (let s = a; s < a + t; s++) {
                      if (e) return;
                      null === (n = r[s]) || void 0 === n || n.call(r, !0);
                    }
                    yield on();
                  }
                });
              })(),
              () => {
                e = !0;
              }
            );
          }, [r, t, e.length, i]),
          (0, s.useEffect)(() => {
            if (!n || !o) return () => {};
            function e() {
              let e = null == t ? void 0 : t.getBoundingClientRect().top;
              e > 0 && (e = 0);
              const n = Math.ceil(window.innerHeight / o[0]);
              let a = 0,
                s = 0;
              for (; a > e; ) (a -= o[s]), s++;
              const i = s - n,
                l = i + 3 * n;
              for (let e = i; e < l; e++)
                setTimeout(() => {
                  var t;
                  null === (t = r[e]) || void 0 === t || t.call(r, !0);
                }, 0);
            }
            const t = n.current;
            return (
              null == t ||
                t.ownerDocument.defaultView.addEventListener("scroll", e),
              e(),
              () => {
                null == t ||
                  t.ownerDocument.defaultView.removeEventListener("scroll", e);
              }
            );
          }, [e.length, e, n, o, t, r]),
          s.createElement(
            s.Fragment,
            null,
            e.map((e, t) =>
              s.createElement(ln, { key: e.key, index: t, renderers: r }, e),
            ),
          )
        );
      }
      function ln({ renderers: e, index: t, children: n }) {
        const [a, o] = (0, s.useState)(!1);
        return (e[t] = o), a ? s.createElement(s.Fragment, null, n) : null;
      }
      const cn = s.createContext(void 0);
      function mn({ query: e, isLoading: t, tab: n }) {
        var a;
        const o = ue(),
          i = (function (e) {
            const t = Oe(),
              n = fe(void 0, !1).rgQueries.find((e) => {
                var n;
                return (
                  (null === (n = e.data) || void 0 === n
                    ? void 0
                    : n.session.client_instanceid) ===
                  (null == t ? void 0 : t.client_instanceid)
                );
              });
            return (0, s.useMemo)(() => {
              var t;
              const a = new Set();
              if (null == n ? void 0 : n.data)
                for (const e of n.data.mapApps.values())
                  (an.has(e.appid) || (!tn.has(e.appid) && Ke(e))) &&
                    (a.add(e.appid), an.add(e.appid));
              const s = [],
                o = [];
              return (
                null === (t = e.data) ||
                  void 0 === t ||
                  t.forEach((e) => {
                    a.has(e.appid)
                      ? s.push(
                          Object.assign(Object.assign({}, e), { changing: !0 }),
                        )
                      : o.push(e);
                  }),
                { data: [...s, ...o], isLoading: e.isLoading, error: e.error }
              );
            }, [e.data, e.isLoading, e.error, null == n ? void 0 : n.data]);
          })(e),
          [r, l] = (0, s.useState)({}),
          c = (0, s.useCallback)((e, t) => {
            l((n) => Object.assign(Object.assign({}, n), { [e]: t }));
          }, []),
          m = (0, s.useCallback)((e) => (r[e.appid] ? gt + _t : gt), [r]);
        return i.isLoading || o.isLoading || t
          ? s.createElement(F.V, {
              string: (0, H.Xx)("#Loading"),
              position: "center",
            })
          : 0 === (null === (a = i.data) || void 0 === a ? void 0 : a.length) &&
            n === ot.Perfect
          ? s.createElement(
              "p",
              { className: Be.emptyDescription },
              (0, H.Xx)("#GamesList_PerfectGames_Description"),
            )
          : s.createElement(
              cn.Provider,
              { value: c },
              !v.De.IN_CLIENT && s.createElement(He, null),
              s.createElement(sn, {
                games: i.data,
                tab: n,
                fnCalculateGameSize: m,
              }),
            );
      }
      function dn(e) {
        return gt;
      }
      function un({ query: e, isLoading: t, tab: n }) {
        return void 0 === e.data || t
          ? null
          : s.createElement(sn, {
              games: e.data,
              tab: n,
              fnCalculateGameSize: dn,
            });
      }
      const pn = (0, we.AP)(
          ({ owned: e, filter: t, dependencyLoading: n, sort: a, tab: o }) => {
            const i = st(q(e, t), a),
              r = R(),
              l = i.isLoading || n;
            if (i.error && !l) throw i.error;
            return s.createElement(
              en,
              null,
              s.createElement(jt, { tab: o }),
              r
                ? s.createElement(mn, { query: i, isLoading: l, tab: o })
                : s.createElement(un, { query: i, isLoading: l, tab: o }),
            );
          },
        ),
        _n = [
          {
            label: (0, H.Xx)("#GamesList_Sort_HoursPlayed"),
            sortOption: Je.HoursPlayed,
          },
          { label: (0, H.Xx)("#GamesList_Sort_Name"), sortOption: Je.Name },
          {
            label: (0, H.Xx)("#GamesList_Sort_AchievementCompletion"),
            sortOption: Je.AchievementCompletion,
          },
        ];
      function gn({ strSort: e, setStrSort: t }) {
        return s.createElement(
          "ul",
          { className: X.SortOptions },
          _n.map((n) =>
            s.createElement(
              "li",
              { key: n.sortOption },
              s.createElement(
                "button",
                {
                  className: (0, $.Z)(
                    X.SortOption,
                    e === n.sortOption && X.SelectedSort,
                  ),
                  onClick: () => t(n.sortOption),
                },
                n.label,
              ),
            ),
          ),
        );
      }
      function fn() {
        const [e, t] = (0, T.Ar)("games_in_common", !1);
        return s.createElement(
          "label",
          { className: X.BothOwnedFilter },
          (0, H.Xx)("#GamesList_Filter_BothOwned"),
          s.createElement("input", {
            type: "checkbox",
            checked: e,
            onChange: (e) => t(e.target.checked),
          }),
        );
      }
      function hn() {
        return s.createElement(
          U.HP,
          {
            toolTipContent: (0, H.Xx)("#GamesList_PrivacySettings_Tooltip"),
            "aria-label": (0, H.Xx)("#GamesList_PrivacySettings_Tooltip"),
            className: X.PrivacySettingsLink,
          },
          s.createElement(
            "a",
            { href: `${E._.ProfileURL}edit/settings` },
            s.createElement(te, null),
          ),
        );
      }
      function vn(e) {
        const t = new Set();
        return null == e || e.forEach((e) => t.add(e.appid)), t;
      }
      function En(e, t, n) {
        const [a, s] = (0, T.Ar)(e, n);
        let o = a;
        return Object.values(t).includes(a) || (o = n), [o, s];
      }
      function yn(e, t) {
        return (0, s.useMemo)(() => {
          var n;
          return {
            data: null === (n = e.data) || void 0 === n ? void 0 : n.concat(t),
            isLoading: e.isLoading,
            error: e.error,
          };
        }, [e.data, e.isLoading, e.error, t]);
      }
      function bn({ children: e }) {
        return (0, v.id)() ? s.createElement(O.vY, null, e) : e;
      }
      function Cn(e) {
        const t = L(),
          [n, a] = En("sort", Je, Je.HoursPlayed),
          [o, i] = En("tab", ot),
          r = null != o ? o : ot.RecentlyPlayed,
          [l, c, m] = (function (e, t) {
            const [n, a] = (0, s.useState)(e),
              [o, i] = (0, s.useState)(e);
            return (
              (0, s.useEffect)(() => {
                const e = setTimeout(() => i(n), t);
                return () => clearTimeout(e);
              }, [n]),
              [n, o, a]
            );
          })(void 0, 100),
          d = r === ot.RecentlyPlayed,
          u = (0, s.useCallback)(
            (e) => {
              var t;
              return (
                !(c && !d) ||
                (null === (t = e.name) || void 0 === t
                  ? void 0
                  : t.toLowerCase().includes(c.toLowerCase()))
              );
            },
            [c, d],
          ),
          p = B(t),
          _ = (0, s.useCallback)(
            (e) =>
              !!p.data &&
              p.data.some(
                (t) =>
                  t.appid === e.appid &&
                  0 !== t.unlocked &&
                  t.unlocked === t.total,
              ),
            [p.data],
          ),
          [g] = (0, T.Ar)("games_in_common", !1),
          f = g && r === ot.All,
          h = (function (e) {
            const t = G(v.L7.steamid, { enabled: e });
            return (0, s.useMemo)(
              () => ({ data: vn(t.data), isLoading: t.isLoading }),
              [t.data, t.isLoading],
            );
          })(f),
          E = (0, s.useCallback)(
            (e) => {
              var t;
              return (
                !f ||
                (null === (t = h.data) || void 0 === t
                  ? void 0
                  : t.has(e.appid))
              );
            },
            [f, h],
          ),
          y = G(t),
          b = C.Get().GetPerfectUnownedGames(),
          w = C.Get().GetRecentlyPlayedUnownedGames(),
          S = yn(q(y, _, p.isLoading), b),
          N = yn(q(y, W), w);
        (0, s.useEffect)(() => {
          !o && N.data && 0 === N.data.length && i(ot.All);
        }, [o, N.data, i]);
        const k = R(),
          A = (0, v.id)();
        let I = y;
        r === ot.RecentlyPlayed ? (I = N) : r === ot.Perfect && (I = S),
          (0, s.useEffect)(() => {
            tn.clear();
          }, [r]);
        const D = lt(r, y, N, S),
          O = (function (...e) {
            return (0, s.useCallback)((t) => {
              for (const n of e) if (n && !n(t)) return !1;
              return !0;
            }, e);
          })(c && u, f && E),
          U = (0, $.Z)(X.Gameslistapp, A && "GamepadMode"),
          Q = (0, M.L)(),
          Z = n === Je.AchievementCompletion && p.isLoading,
          j = I.isLoading || Z;
        return s.createElement(
          P.p,
          { navID: "Gamelist", NavigationManager: Q },
          s.createElement(
            Te,
            null,
            s.createElement(
              bn,
              null,
              s.createElement(
                x.s,
                { className: U },
                j &&
                  s.createElement(F.V, {
                    string: (0, H.Xx)("#Loading"),
                    position: "center",
                  }),
                !j &&
                  s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(ct, { tabs: D, strTab: r, setStrTab: i }),
                    r !== ot.RecentlyPlayed &&
                      s.createElement(
                        "div",
                        { className: X.DisplayControls },
                        s.createElement(Y, {
                          strNameFilter: l,
                          setStrNameFilter: m,
                          className: X.FilterInput,
                        }),
                        k && s.createElement(hn, null),
                        !k && r === ot.All && s.createElement(fn, null),
                        s.createElement(gn, { strSort: n, setStrSort: a }),
                      ),
                  ),
                s.createElement(pn, {
                  owned: I,
                  filter: O,
                  sort: r === ot.RecentlyPlayed ? Je.RecentlyPlayed : n,
                  dependencyLoading: j,
                  tab: r,
                }),
              ),
            ),
          ),
        );
      }
      function Gn(e) {
        const t = (0, D.kD)(s.useCallback(() => new I.Z(), []));
        return s.createElement(
          c.Ub,
          { useActiveSteamInterface: S, useStorage: t },
          s.createElement(Cn, Object.assign({}, e)),
        );
      }
    },
  },
]);
