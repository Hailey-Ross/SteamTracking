/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [1649],
  {
    85007: (e) => {
      e.exports = {
        QAFullPageView: "_3tZpFqpGKrksArepdxSE5j",
        QAName: "_2mOBpH-Q1B2CGYjpyVcZvL",
        QAColumns: "pBgAbPu5S77EkhwULNJMQ",
        QAMainCtn: "hHqRc8tmJX5DmOC_J9OSu",
        QAModeratorColumn: "nfftCsjuFUxqo7oht5ZvS",
        QASplitColumns: "_1CRIgUwMI8-DV8bby3TWQb",
        ModeratorInstructions: "RqtnW1y7dqFHzNYQgEXMn",
        AnsweredSectionHeader: "_3cWpkis2Mqzl8A8xF-a9em",
        InputButton: "_1z1rtA-m0g-2LV2Vt1oofr",
        Reload: "_3LIo4Gupf-bEyoN38m0xLy",
        Reloading: "_1hooLg2kfnpqXDhLgPG6gH",
        SignInButton: "GRHnXc4HVJuz6yC7Gkr5k",
        QAHeader: "_3skHmzAqxcsZBq_tkNXLzN",
        QuestionACK: "_16zhk22TxzqPMUoz7I3WEB",
        Visible: "_2jHMeCl9ijq2--JlPwQ6Fz",
        QATitleRow: "_2qdcmBnuOzyLEABfqaT8qv",
        QATitle: "_1c7nCnSMqU4Ukz3wdWSqXF",
        Description: "_3eGNNYyxMkZO39myQDE1XE",
        InputCtn: "oF1kTvqJ3SFh3lHuR5ZHs",
        LogInPrompt: "_3Gbueor3CAgrLqcm5BgjPx",
        ButtonCtn: "_3kFHrlDJDcAvIcJq4lX8lD",
        SaveSpinner: "_20svvC9NhGF5A1hTD-y9kJ",
        QuestionsCtn: "_1W6uJMpV-79gv8A662-iKM",
        InsetShadowTopCtn: "ak9JV2IB-GQLWSc_4GpKB",
        InsetShadowTop: "_1C2e4GaJWY9UCfxJeu3Ifp",
        QuestionsHeader: "jUQG923rSCGTIp6iR40rb",
        QuestionsTitle: "_2CYLB3xFHbAEJS6Z-bSlKz",
        QuestionList: "_28dwOiBG4CQlQcXClFrN9K",
        NoQuestions: "_1R9HBMmOpYYYhZwQh1m5U1",
        Question: "_3BIOouufQgR-V7ivTXLZAm",
        Hidden: "_3XPCkzLM8mFswGMcSCywUA",
        QuestionCtn: "_31sLydaeDe38gXM5axlD9O",
        UserAvatar: "_2ojKekaqQWNpGw8G3x8l_r",
        PersonaName: "_3CaA53te3MV1l4rP0TmdB9",
        QuestionText: "_2NuCE315-vCtCSzxcT1qEm",
        QuestionAndVotes: "ChywOlxnWN_3W_lql2DeN",
        QuestionTitle: "_2AXcHkyp6G5iqdDfTZiwAg",
        QuestionStats: "_1DzgV6zsHS23fEBSvckX88",
        PostTime: "_2hfBugBzm8yU7a82qW2cHx",
        Votes: "_2IyuQJGwbrnTb3a7m8KsZ9",
        Vote_Ready: "_3_8_aVxn-PwduHvKlx36tI",
        Vote_Positive: "eWDCyQ-vvgH6BcvF4_o_e",
        RateIcon: "_2j0GwqqS7RK_-mNPfvuX0f",
        Vote_CannotVote: "_2Pq4zAswQX0s4q5BmDOcoK",
        DateAndTime: "_4VjnZ9DL9exM7YcbLbSh",
        Answer: "wNABP6_Qx7yRFrLkXK41M",
        AnswerTitle: "_1c4moP5DV4s2TT8XzHbSDw",
        AnswerCheck: "u8uV8ZaFofO6c9D42VGY2",
        AnswerText: "_3ar8cNQn3f1-OIjiWPPitA",
        ModerationHeader: "_37OKcYRfuIkylm4nu1umCb",
        ModeratorSection: "_3tP54OFg61u8qq9vrI1GA2",
        ToolRow: "_2c2voljR8QU6ly18xBe9Zx",
        ToolLabel: "_3prTNENecqxmB7UBSWgUyl",
        QADashboardCtn: "_32zJGAGkfjaRrwwUDmbx_Y",
        DashboardHeader: "_1R1EmLdoSBJK82hy_FSG9G",
        DashboardHeaderTitle: "_1cRHaKXhGTjxUnsyLMS0IW",
        DashboardHeaderButtonCtn: "uoLDQx7BVP24M7CtMdUVy",
        DashboardRow: "gpraRkr_GCHPzeFW5wUm7",
        GIDSession: "_3d_6fxEUu5QKFk1X6BmmdU",
        QuestionCount: "_3kZ9Sdx0fxIPNbawZ-iPRU",
        QAndADeleteColumn: "_363MyYnsIHR3suqCkDJb1a",
        QAndAName: "_2-5V8wZPsLM9riXorBMJ1F",
        Prompt: "_2ZFvNUfdh3b32ljUOOm1NB",
        Editing: "_1wUKv_abvHzqvyJg-4E_04",
        NameInput: "_3avr0gEWefqtJlQehAE4CH",
        DeleteButton: "o8aBaeNMu_AdleoGeHA_Z",
        DashboardColumnHeaders: "_2WOM0O_ir8k-lcFjHONR4_",
        CreateQAndADialog: "_1wBzuya0z43LtB3hBPU90I",
        DeleteQAndADialog: "_3valPN89TuPANLrExHyKuc",
        DeleteInfo: "_3EhGHfB3z9uPkO3ZTnwUVm",
      };
    },
    97504: (e, t, s) => {
      "use strict";
      s.d(t, { A: () => P, EI: () => K, kF: () => W });
      var n = s(47427),
        a = s(35427),
        o = s(64936),
        r = s(85556),
        i = s(16997),
        l = s(45492),
        c = s(20417),
        u = s(37563);
      const d = [
        "mousemove",
        "keypress",
        "scroll",
        "wheel",
        "focusin",
        "touchstart",
        "touchmove",
      ];
      class m {
        m_callbackList = new l.pB();
        m_timer = null;
        m_bAreEventListenersRegistered = !1;
        static s_Singleton;
        static Get() {
          return m.s_Singleton || (m.s_Singleton = new m()), m.s_Singleton;
        }
        constructor() {
          "dev" == u.De.WEB_UNIVERSE && (window.g_FidgetStore = this);
        }
        ResetFidgetTimer(e) {
          this.m_timer && window.clearTimeout(this.m_timer);
          this.m_timer = window.setTimeout(() => {
            (this.m_timer = null), this.m_callbackList.Dispatch();
          }, 2e3);
        }
        BIsUserFidgeting() {
          return !!this.m_timer;
        }
        GetCallbackList() {
          return this.m_callbackList;
        }
        BRegisterEventListeners() {
          if (this.m_bAreEventListenersRegistered) return !1;
          const e = window;
          for (const t of d) e.addEventListener(t, this.ResetFidgetTimer);
          return (this.m_bAreEventListenersRegistered = !0), !0;
        }
        BUnregisterEventListeners() {
          if (!this.m_bAreEventListenersRegistered) return !1;
          const e = window;
          for (const t of d) e.removeEventListener(t, this.ResetFidgetTimer);
          return (this.m_bAreEventListenersRegistered = !1), !1;
        }
      }
      function A() {
        n.useEffect(() => {
          const e = m.Get().BRegisterEventListeners();
          return () => {
            e && m.Get().BUnregisterEventListeners();
          };
        }, []);
      }
      (0, r.gn)([i.a], m.prototype, "ResetFidgetTimer", null);
      var Q = s(80751),
        _ = s.n(Q),
        p = s(29480),
        g = s(16649);
      class C {
        m_mapQAndASessions = new Map();
        m_mapQAndAChangeCallbackList = new Map();
        m_dashboardCallbackList = new l.pB();
        m_mapQuestions = new Map();
        m_mapQuestionCallbackList = new Map();
        m_rgPendingQuestionGIDs = [];
        static s_Singleton;
        static Get() {
          return C.s_Singleton || (C.s_Singleton = new C()), C.s_Singleton;
        }
        constructor() {
          "dev" == u.De.WEB_UNIVERSE && (window.g_QAndAStore = this);
        }
        GetQAndACallbackList(e) {
          return (
            this.m_mapQAndAChangeCallbackList.has(e) ||
              this.m_mapQAndAChangeCallbackList.set(e, new l.pB()),
            this.m_mapQAndAChangeCallbackList.get(e)
          );
        }
        GetQuestionCallbackList(e) {
          return (
            this.m_mapQuestionCallbackList.has(e) ||
              this.m_mapQuestionCallbackList.set(e, new l.pB()),
            this.m_mapQuestionCallbackList.get(e)
          );
        }
        GetDashboardCallbackList() {
          return this.m_dashboardCallbackList;
        }
        GetSession(e) {
          return this.m_mapQAndASessions.get(e);
        }
        GetAllSessions() {
          return Array.from(this.m_mapQAndASessions.values());
        }
        GetQuestion(e) {
          return this.m_mapQuestions.get(e);
        }
        async LoadAllSessions(e) {
          if (!u.L7.logged_in || !u.De.SESSIONID) return 15;
          const t =
              u.De.COMMUNITY_BASE_URL +
              "questions/" +
              u.JA.VANITY_ID +
              "/ajaxgetqandasforgroup",
            s = {};
          let n = null;
          try {
            const a = await _().get(t, { params: s, cancelToken: e?.token });
            if (
              (console.log(a),
              200 == a?.status && 1 == a.data?.success && a.data.qandas)
            ) {
              for (const e of a.data.qandas)
                this.m_mapQAndASessions.set(e.gidSession, e);
              return (
                this.m_dashboardCallbackList.Dispatch(this.GetAllSessions()), 1
              );
            }
            n = { response: a };
          } catch (e) {
            n = e;
          }
          const a = (0, g.l)(n);
          return (
            console.error(
              "Could not load question and answer sessions for group",
              a.strErrorMsg,
              a,
            ),
            n?.response?.data?.success ?? 2
          );
        }
        async CreateNewSession(e, t) {
          if (!u.L7.logged_in || !u.De.SESSIONID) return 15;
          const s =
              u.De.COMMUNITY_BASE_URL +
              "questions/" +
              u.JA.VANITY_ID +
              "/ajaxcreateqanda",
            n = new FormData();
          n.append("sessionid", u.De.SESSIONID), n.append("name", e);
          let a = null;
          try {
            const e = await _().post(s, n, {
              withCredentials: !0,
              cancelToken: t?.token,
            });
            if (200 == e?.status && 1 == e.data?.success && e.data.qanda)
              return (
                this.m_mapQAndASessions.set(
                  e.data.qanda.gidSession,
                  e.data.qanda,
                ),
                this.m_dashboardCallbackList.Dispatch(this.GetAllSessions()),
                1
              );
            a = { response: e };
          } catch (e) {
            a = e;
          }
          const o = (0, g.l)(a);
          return (
            console.error("Could not create Q&A", e, o.strErrorMsg, o),
            a?.response?.data?.success ?? 2
          );
        }
        async RenameSession(e, t, s) {
          if (!u.L7.logged_in || !u.De.SESSIONID) return 15;
          const n =
              u.De.COMMUNITY_BASE_URL +
              "questions/" +
              u.JA.VANITY_ID +
              "/ajaxrenameqanda/" +
              e,
            a = new FormData();
          a.append("sessionid", u.De.SESSIONID), a.append("name", t);
          let o = null;
          try {
            const r = await _().post(n, a, {
              withCredentials: !0,
              cancelToken: s?.token,
            });
            if (200 == r?.status && 1 == r.data?.success)
              return (
                (this.m_mapQAndASessions.get(e).strName = t),
                this.GetQAndACallbackList(e).Dispatch(
                  this.m_mapQAndASessions.get(e),
                ),
                this.m_dashboardCallbackList.Dispatch(this.GetAllSessions()),
                1
              );
            o = { response: r };
          } catch (e) {
            o = e;
          }
          const r = (0, g.l)(o);
          return (
            console.error("Could not rename Q&A", e, t, r.strErrorMsg, r),
            o?.response?.data?.success ?? 2
          );
        }
        async DeleteSession(e, t) {
          if (!u.L7.logged_in || !u.De.SESSIONID) return 15;
          const s =
              u.De.COMMUNITY_BASE_URL +
              "questions/" +
              u.JA.VANITY_ID +
              "/ajaxdeleteqanda/" +
              e,
            n = new FormData();
          n.append("sessionid", u.De.SESSIONID);
          let a = null;
          try {
            const o = await _().post(s, n, {
              withCredentials: !0,
              cancelToken: t?.token,
            });
            if (200 == o?.status && 1 == o.data?.success)
              return (
                this.m_mapQAndASessions.delete(e),
                this.m_dashboardCallbackList.Dispatch(this.GetAllSessions()),
                1
              );
            a = { response: o };
          } catch (e) {
            a = e;
          }
          const o = (0, g.l)(a);
          return (
            console.error("Could not delete Q&A", e, o.strErrorMsg, o),
            a?.response?.data?.success ?? 2
          );
        }
        async LoadSession(e, t, s) {
          const n =
              u.L7.logged_in &&
              (!this.m_mapQAndASessions.has(e) ||
                this.m_mapQAndASessions.get(e).bUserCanModerate ||
                this.m_rgPendingQuestionGIDs.length > 0 ||
                t)
                ? "/ajaxgetqandasessionforuser/"
                : "/ajaxgetqandasession/",
            a = u.De.COMMUNITY_BASE_URL + "questions/" + u.JA.VANITY_ID + n + e,
            o = {};
          let r = null;
          try {
            const t = await _().get(a, { params: o, cancelToken: s?.token });
            if (
              200 == t?.status &&
              1 == t.data?.success &&
              t.data.qanda &&
              t.data.questions
            ) {
              for (const e of t.data.questions) {
                const t = e.gidQuestion,
                  s =
                    this.m_mapQuestions.get(t)?.bUserUpVoted ?? e.bUserUpVoted,
                  n = { ...e, bUserUpVoted: s };
                this.m_mapQuestions.set(t, n),
                  this.GetQuestionCallbackList(t).Dispatch(n);
              }
              const s =
                  this.m_mapQAndASessions.get(e)?.bUserCanModerate ??
                  t.data.qanda.bUserCanModerate,
                n =
                  this.m_mapQAndASessions.get(e)?.bUserCanAskQuestions ??
                  t.data.qanda.bUserCanAskQuestions,
                a = {
                  ...t.data.qanda,
                  bUserCanModerate: s,
                  bUserCanAskQuestions: n,
                };
              return (
                this.m_mapQAndASessions.set(e, a),
                this.GetQAndACallbackList(e).Dispatch(a),
                this.UpdatePendingQuestionList(t.data.qanda.rgQuestionGIDs),
                1
              );
            }
            r = { response: t };
          } catch (e) {
            r = e;
          }
          const i = (0, g.l)(r);
          return (
            console.error("Could not load Q&A", e, i.strErrorMsg, i),
            r?.response?.data?.success ?? 2
          );
        }
        UpdatePendingQuestionList(e) {
          const t = new Set();
          for (const s of e) {
            const e = this.m_mapQuestions.get(s);
            e.posterAccountID == u.L7.accountid &&
              1 == e.eState &&
              t.add(e.gidQuestion);
          }
          if (this.m_rgPendingQuestionGIDs.length > 0) {
            const s = new Set(e);
            for (const e of this.m_rgPendingQuestionGIDs)
              s.has(e) && 1 == this.m_mapQuestions.get(e)?.eState && t.add(e);
          }
          this.m_rgPendingQuestionGIDs = Array.from(t);
        }
        async AskNewQuestion(e, t, s) {
          if (
            !u.L7.logged_in ||
            !u.De.SESSIONID ||
            !this.m_mapQAndASessions.get(e)?.bUserCanAskQuestions
          )
            return 15;
          const n =
              u.De.COMMUNITY_BASE_URL +
              "questions/" +
              u.JA.VANITY_ID +
              "/ajaxaskquestion/" +
              e,
            a = new FormData();
          a.append("sessionid", u.De.SESSIONID), a.append("question", t);
          let o = null;
          try {
            const t = await _().post(n, a, {
              withCredentials: !0,
              cancelToken: s?.token,
            });
            if (200 == t?.status && 1 == t.data?.success) {
              this.m_rgPendingQuestionGIDs.push(t.data.gidQuestion);
              const n = !0;
              return this.LoadSession(e, n, s), 1;
            }
            o = { response: t };
          } catch (e) {
            o = e;
          }
          const r = (0, g.l)(o);
          return (
            console.error("Could not upload question", e, t, r.strErrorMsg, r),
            o?.response?.data?.success ?? 2
          );
        }
        async ModerateQuestion(e, t, s, n) {
          if (
            !u.L7.logged_in ||
            !u.De.SESSIONID ||
            !this.m_mapQAndASessions.get(e)?.bUserCanModerate
          )
            return 15;
          if (1 != s && 3 != s) return 8;
          if (this.m_mapQuestions.get(t).eState == s) return 1;
          const a =
              u.De.COMMUNITY_BASE_URL +
              "questions/" +
              u.JA.VANITY_ID +
              "/ajaxmoderatequestion/" +
              e,
            o = new FormData();
          o.append("sessionid", u.De.SESSIONID),
            o.append("gidquestion", t),
            o.append("action", 1 == s ? "show" : "hide");
          let r = null;
          try {
            const t = await _().post(a, o, {
              withCredentials: !0,
              cancelToken: n?.token,
            });
            if (200 == t?.status && 1 == t.data?.success) {
              const t = !0;
              return this.LoadSession(e, t, n), 1;
            }
            r = { response: t };
          } catch (e) {
            r = e;
          }
          const i = (0, g.l)(r);
          return (
            console.error(
              "Could not moderate question",
              e,
              t,
              s,
              i.strErrorMsg,
              i,
            ),
            r?.response?.data?.success ?? 2
          );
        }
        async AnswerQuestion(e, t, s, n) {
          if (
            !u.L7.logged_in ||
            !u.De.SESSIONID ||
            !this.m_mapQAndASessions.get(e)?.bUserCanAskQuestions
          )
            return 15;
          const a =
              u.De.COMMUNITY_BASE_URL +
              "questions/" +
              u.JA.VANITY_ID +
              "/ajaxanswerquestion/" +
              e,
            o = new FormData();
          o.append("sessionid", u.De.SESSIONID),
            o.append("gidquestion", t),
            o.append("answer", s);
          let r = null;
          try {
            const t = await _().post(a, o, {
              withCredentials: !0,
              cancelToken: n?.token,
            });
            if (200 == t?.status && 1 == t.data?.success) {
              const t = !0;
              return this.LoadSession(e, t, n), 1;
            }
            r = { response: t };
          } catch (e) {
            r = e;
          }
          const i = (0, g.l)(r);
          return (
            console.error("Could not upload answer", e, t, s, i.strErrorMsg, i),
            r?.response?.data?.success ?? 2
          );
        }
        async VoteOnQuestion(e, t, s, n) {
          if (
            !u.L7.logged_in ||
            !u.De.SESSIONID ||
            !this.m_mapQAndASessions.get(e)?.bUserCanAskQuestions
          )
            return 15;
          if (s === this.m_mapQuestions.get(t).bUserUpVoted) return 1;
          let a = this.m_mapQuestions.get(t);
          const o = a.nVoteCount,
            r = o + (s ? 1 : -1);
          (a = { ...a, nVoteCount: r, bUserUpVoted: s }),
            this.m_mapQuestions.set(t, a),
            this.GetQuestionCallbackList(t).Dispatch(a);
          const i =
              u.De.COMMUNITY_BASE_URL +
              "questions/" +
              u.JA.VANITY_ID +
              "/ajaxvoteforquestion/" +
              e,
            l = new FormData();
          l.append("sessionid", u.De.SESSIONID),
            l.append("gidquestion", t),
            l.append("up", s ? "1" : "0");
          let c = null;
          try {
            const e = await _().post(i, l, {
              withCredentials: !0,
              cancelToken: n?.token,
            });
            if (200 == e?.status && 1 == e.data?.success) return 1;
            c = { response: e };
          } catch (e) {
            c = e;
          }
          (a = { ...a, nVoteCount: o, bUserUpVoted: !s }),
            this.m_mapQuestions.set(t, a),
            this.GetQuestionCallbackList(t).Dispatch(a);
          const d = (0, g.l)(c);
          return (
            console.error("Could not upload vote", e, t, s, d.strErrorMsg, d),
            c?.response?.data?.success ?? 2
          );
        }
      }
      function S(e) {
        const t = (0, p.T)("useQAndASession"),
          s = n.useCallback(
            async (s) =>
              C.Get().GetSession(e)?.bUserCanAskQuestions &&
              (await C.Get().AskNewQuestion(e, s, t)),
            [e, t],
          ),
          a = n.useCallback(
            (s, n) =>
              C.Get().GetSession(e)?.bUserCanAskQuestions &&
              C.Get().VoteOnQuestion(e, s, n, t),
            [e, t],
          ),
          o = n.useCallback(
            (e) => {
              const t = !!e,
                n = e?.strName,
                o = e?.bUserCanModerate,
                r = e?.bUserCanAskQuestions,
                i = [],
                l = [],
                c = [],
                u = [];
              for (const t of e?.rgQuestionGIDs ?? []) {
                const e = C.Get().GetQuestion(t);
                switch (e?.eState) {
                  case 1:
                    i.push(t);
                    break;
                  case 2:
                    l.push(t);
                    break;
                  case 0:
                    c.push(t);
                    break;
                  case 3:
                    u.push(t);
                }
              }
              return (
                i.sort(
                  (e, t) =>
                    C.Get().GetQuestion(t).nVoteCount -
                    C.Get().GetQuestion(e).nVoteCount,
                ),
                l.sort(
                  (e, t) =>
                    C.Get().GetQuestion(t).rtAnswerTime -
                    C.Get().GetQuestion(e).rtAnswerTime,
                ),
                c.sort(
                  (e, t) =>
                    C.Get().GetQuestion(t).rtPostTime -
                    C.Get().GetQuestion(e).rtPostTime,
                ),
                u.sort(
                  (e, t) =>
                    C.Get().GetQuestion(t).rtPostTime -
                    C.Get().GetQuestion(e).rtPostTime,
                ),
                {
                  bIsLoaded: t,
                  strName: n,
                  bUserCanModerate: o,
                  bUserCanAskQuestions: r,
                  fnAskQuestion: s,
                  fnVoteOnQuestion: a,
                  rgModeratedQuestionGIDs: i,
                  rgAnsweredQuestionGIDs: l,
                  rgNewQuestionGIDs: c,
                  rgHiddenQuestionGIDs: u,
                }
              );
            },
            [s, a],
          ),
          [r, i] = n.useState(() => o(C.Get().GetSession(e))),
          l = n.useCallback((e) => i(o(e)), [o]);
        return (
          (0, c.Qg)(C.Get().GetQAndACallbackList(e), l),
          n.useEffect(() => {
            r.bIsLoaded || C.Get().LoadSession(e);
          }, [r.bIsLoaded, e]),
          r
        );
      }
      let E = null;
      function h(e) {
        const t = (0, p.T)("useReloadFunction"),
          [s, a] = n.useState(!1),
          o = n.useCallback(() => {
            a(!0);
            const s = C.Get().LoadSession(e, !1, t);
            return s.then(() => a(!1)), s;
          }, [e, t]),
          r = (function (e) {
            const t = n.useRef(null),
              s = n.useCallback(() => {
                t.current && (t.current(), (t.current = null));
              }, []);
            return (
              (0, c.Qg)(m.Get().GetCallbackList(), s),
              n.useEffect(() => () => {
                t.current = null;
              }),
              n.useCallback(
                (...s) => {
                  m.Get().BIsUserFidgeting()
                    ? (t.current = () => e(...s))
                    : ((t.current = null), e(...s));
                },
                [e],
              )
            );
          })(o);
        return (
          n.useEffect(() => {
            if (E) return () => {};
            return (
              (E = window.setInterval(r, 1e4)), () => window.clearInterval(E)
            );
          }, [r]),
          n.useMemo(() => ({ fnReload: o, bIsReloading: s }), [o, s])
        );
      }
      function N(e) {
        const t = (0, p.T)("useQuestionModeratorActions"),
          s = n.useCallback(
            (s, n) =>
              C.Get().GetSession(e)?.bUserCanModerate &&
              C.Get().AnswerQuestion(e, s, n, t),
            [e, t],
          ),
          a = n.useCallback(
            (s, n) =>
              C.Get().GetSession(e)?.bUserCanModerate &&
              C.Get().ModerateQuestion(e, s, n, t),
            [e, t],
          );
        return n.useMemo(
          () => ({ fnAnswerQuestion: s, fnModerateQuestion: a }),
          [s, a],
        );
      }
      var D = s(1485),
        b = s(80212),
        I = s(24827),
        w = s(50898),
        f = s(90069),
        k = s(62613),
        v = s(46882),
        G = s(59728),
        T = s(56164),
        L = s(13129),
        M = s(31846),
        x = s(45284),
        U = s(46984),
        B = s(85007),
        q = s.n(B),
        V = s(51915);
      function P(e) {
        const t = (function () {
          const [e, t] = n.useState(C.Get().GetAllSessions());
          return (
            (0, c.Qg)(C.Get().GetDashboardCallbackList(), t),
            n.useEffect(() => {
              0 == e.length && C.Get().LoadAllSessions();
            }, [e.length]),
            e
          );
        })();
        return n.createElement(
          "div",
          { className: q().QADashboardCtn },
          n.createElement(y, null),
          n.createElement(
            "div",
            {
              className: (0, L.Z)(q().DashboardRow, q().DashboardColumnHeaders),
            },
            n.createElement(
              "div",
              { className: q().QAndAName },
              (0, M.Xx)("#QAndA_Column_Name"),
            ),
            n.createElement(
              "div",
              { className: q().GIDSession },
              (0, M.Xx)("#QAndA_Column_GID"),
            ),
            n.createElement(
              "div",
              { className: q().QuestionCount },
              (0, M.Xx)("#QAndA_Column_QuestionCount"),
            ),
            n.createElement(
              "div",
              { className: q().QAndADeleteColumn },
              (0, M.Xx)("#QAndA_Column_DeleteButtons"),
            ),
          ),
          t.map((e) => n.createElement(X, { key: e.gidSession, qanda: e })),
        );
      }
      function y(e) {
        const t = n.useCallback(
          () =>
            (0, f.x1)(n.createElement(R, null), window, {
              strTitle: (0, M.Xx)("#QAndA_CreateQAndA_Title"),
            }),
          [],
        );
        return n.createElement(
          "div",
          { className: q().DashboardHeader },
          n.createElement(
            "div",
            { className: q().DashboardHeaderTitle },
            (0, M.Xx)("#QAndA_Dashboard"),
          ),
          n.createElement(
            "div",
            { className: q().DashboardHeaderButtonCtn },
            n.createElement(
              D.zx,
              { onClick: t },
              (0, M.Xx)("#QAndA_CreateQAndA_Button"),
            ),
          ),
        );
      }
      const H = 120;
      function R(e) {
        const t = (function () {
            const e = (0, p.T)("useCreateQAndAFn");
            return n.useCallback((t) => C.Get().CreateNewSession(t, e), [e]);
          })(),
          [s, a] = n.useState("");
        return n.createElement(
          w.uH,
          {
            strTitle: (0, M.Xx)("#QAndA_CreateQAndA_Title"),
            strDescription: (0, M.Xx)("#QAndA_CreateQAndA_Instructions"),
            strOKButtonText: (0, M.Xx)("#Button_Create"),
            onOK: () => t(s),
            bOKDisabled: 0 == s.length,
            closeModal: e.closeModal,
            className: q().CreateQAndADialog,
          },
          n.createElement(D.II, {
            type: "text",
            className: q().NameInput,
            value: s,
            placeholder: (0, M.Xx)("#QAndA_EnterNamePrompt"),
            onFocus: (e) => e.target.select(),
            onChange: (e) => a(e.currentTarget.value),
            maxLength: H,
          }),
        );
      }
      function X(e) {
        const { qanda: t } = e,
          s =
            u.De.COMMUNITY_BASE_URL +
            "questions/" +
            u.JA.VANITY_ID +
            "/view/" +
            t.gidSession,
          a = n.useCallback(
            (e) => {
              e.stopPropagation(),
                e.preventDefault(),
                (0, f.x1)(n.createElement(F, { qanda: t }), window, {
                  strTitle: (0, M.Xx)("#QAndA_CreateQAndA_Title"),
                });
            },
            [t],
          );
        return n.createElement(
          "a",
          { className: q().DashboardRow, href: s },
          n.createElement(O, { qanda: t }),
          n.createElement("div", { className: q().GIDSession }, t.gidSession),
          n.createElement(
            "div",
            { className: q().QuestionCount },
            t.rgQuestionGIDs.length,
          ),
          n.createElement(
            "div",
            { className: q().QAndADeleteColumn },
            n.createElement(
              "div",
              { className: q().DeleteButton, onClick: a },
              n.createElement(k.rFk, null),
            ),
          ),
        );
      }
      function O(e) {
        const { qanda: t } = e,
          [s, a] = n.useState(!1),
          [o, r] = n.useState(t.strName),
          i = (function () {
            const e = (0, p.T)("useRenameQAndAFn");
            return n.useCallback((t, s) => C.Get().RenameSession(t, s, e), [e]);
          })(),
          l =
            t.strName.length > 0
              ? t.strName
              : n.createElement(
                  "span",
                  { className: q().Prompt },
                  (0, M.Xx)("#QAndA_EnterNamePrompt"),
                ),
          c = n.createElement(
            "div",
            { className: q().NameInput },
            n.createElement(D.II, {
              type: "text",
              className: q().NameInput,
              value: o,
              placeholder: (0, M.Xx)("#QAndA_EnterNamePrompt"),
              onFocus: (e) => e.target.select(),
              onChange: (e) => r(e.currentTarget.value),
              maxLength: H,
            }),
            n.createElement(
              D.KM,
              {
                onClick: (e) => {
                  e.stopPropagation(),
                    e.preventDefault(),
                    0 != (0, x.eT)(o, t.strName)
                      ? i(t.gidSession, o).then(() => a(!1))
                      : a(!1);
                },
                className: q().InputButton,
              },
              (0, M.Xx)("#Button_Save"),
            ),
          );
        return n.createElement(
          "div",
          {
            className: (0, L.Z)(q().QAndAName, s && q().Editing),
            onClick: (e) => {
              e.stopPropagation(), e.preventDefault(), s || a(!0);
            },
          },
          s ? c : l,
        );
      }
      function F(e) {
        const { qanda: t } = e,
          s = (function () {
            const e = (0, p.T)("useDeleteQAndAFn");
            return n.useCallback((t) => C.Get().DeleteSession(t, e), [e]);
          })();
        return n.createElement(
          w.uH,
          {
            strTitle: (0, M.Xx)("#QAndA_Column_DeleteButtons"),
            strDescription: (0, M.Xx)("#QAndA_DeleteQAndA_Instructions"),
            onOK: () => s(t.gidSession),
            closeModal: e.closeModal,
            className: q().DeleteQAndADialog,
          },
          n.createElement(
            "div",
            { className: q().DeleteInfo },
            (0, M.Xx)("#QAndA_Column_Name") + ": " + t.strName,
          ),
          n.createElement(
            "div",
            { className: q().DeleteInfo },
            (0, M.Xx)("#QAndA_Column_QuestionCount") +
              ": " +
              t.rgQuestionGIDs.length,
          ),
        );
      }
      function z(e) {
        const {
            gidSession: t,
            gidQuestion: s,
            bUserCanModerate: a,
            bUserCanVote: o,
            fnVoteOnQuestion: r,
            rtNow: i,
          } = e,
          [l, u] = (function (e) {
            const [t, s] = n.useState(C.Get().GetQuestion(e));
            (0, c.Qg)(C.Get().GetQuestionCallbackList(e), s);
            const [a, o] = n.useState(!!t);
            return [t, !!t || a];
          })(s);
        if (!l) return null;
        const d = i - l.rtPostTime,
          m = d < U._H.PerDay ? (0, M.yW)(d) : (0, M.m9)(l.rtPostTime),
          A = o ? () => r(s, !l.bUserUpVoted) : null,
          Q = o
            ? l.bUserUpVoted
              ? q().Vote_Positive
              : q().Vote_Ready
            : q().Vote_CannotVote,
          _ = (0, L.Z)(
            q().Question,
            3 == l.eState && q().Hidden,
            1 == l.eState && q().Moderated,
            0 == l.eState && q().Unmoderated,
            2 == l.eState && q().Answered,
          );
        return n.createElement(
          "div",
          { className: _ },
          n.createElement(
            "div",
            { className: (0, L.Z)(q().QuestionCtn, "questionCtn") },
            n.createElement(Z, { accountID: l.posterAccountID }),
            n.createElement(
              "div",
              { className: q().QuestionText },
              n.createElement(
                "div",
                { className: q().QuestionAndVotes },
                n.createElement(
                  "div",
                  { className: q().QuestionTitle },
                  l.strQuestionText,
                ),
                n.createElement(
                  G.HP,
                  {
                    toolTipContent:
                      o &&
                      (l.bUserUpVoted
                        ? (0, M.Xx)("#QAndA_VoteRemoveTooltip")
                        : (0, M.Xx)("#QAndA_VoteTooltip")),
                  },
                  n.createElement(
                    "div",
                    { className: (0, L.Z)(Q, q().Votes), onClick: A },
                    n.createElement(k.KJh, { className: q().RateIcon }),
                    n.createElement(
                      "div",
                      { className: q().VoteCount },
                      Number(l.nVoteCount).toLocaleString(),
                    ),
                  ),
                ),
              ),
              n.createElement(
                "div",
                { className: q().QuestionStats },
                n.createElement(
                  "div",
                  { className: q().PostTime },
                  n.createElement(
                    I.Zg,
                    {
                      rtFullDate: l.rtPostTime,
                      className: q().PostTime,
                      stylesmodule: q(),
                    },
                    m,
                  ),
                ),
              ),
            ),
          ),
          l.rtAnswerTime && n.createElement(Y, { question: l, rtNow: i }),
          a &&
            n.createElement(J, {
              gidSession: t,
              gidQuestion: s,
              eState: l?.eState,
            }),
        );
      }
      function Y(e) {
        const { question: t, rtNow: s } = e,
          a = t.rtAnswerTime && s - t.rtAnswerTime,
          o =
            t.rtAnswerTime &&
            (a < U._H.PerDay ? (0, M.yW)(a) : (0, M.m9)(t.rtAnswerTime));
        return t.strAnswerText
          ? n.createElement(
              "div",
              { className: q().Answer },
              n.createElement(
                "div",
                { className: q().AnswerTitle },
                n.createElement(
                  "div",
                  { className: q().AnswerCheck },
                  n.createElement(k.mKE, { color: "#67c1f5" }),
                ),
                (0, M.Xx)("#QAndA_ModeratorAnswerTitle"),
              ),
              n.createElement(
                "div",
                { className: q().AnswerText },
                " ",
                t.strAnswerText,
                " ",
              ),
              n.createElement(
                "div",
                { className: q().QuestionStats },
                n.createElement(
                  I.Zg,
                  {
                    rtFullDate: t.rtAnswerTime,
                    className: q().PostTime,
                    stylesmodule: q(),
                  },
                  o,
                ),
              ),
            )
          : n.createElement(
              "div",
              { className: q().AnswerTitle },
              n.createElement(
                "div",
                { className: q().AnswerCheck },
                n.createElement(k.mKE, { color: "#67c1f5" }),
              ),
              (0, M.Xx)("#QAndA_AlreadyAnsweredTitle"),
            );
      }
      function Z(e) {
        const t = a.K.InitFromAccountID(e.accountID).ConvertTo64BitString(),
          { isLoading: s, data: o } = (0, V.IE)(e.accountID);
        return s
          ? null
          : n.createElement(
              "a",
              {
                href: o.GetCommunityProfileURL(),
                className: q().PersonaName,
                "data-miniprofile": "s" + t,
              },
              o?.m_strPlayerName ?? t,
            );
      }
      function J(e) {
        const { gidSession: t, gidQuestion: s, eState: a } = e,
          { fnAnswerQuestion: o, fnModerateQuestion: r } = N(t),
          i = 0 == a || 3 == a,
          l = 3 != a,
          c = 1 == a;
        return n.createElement(
          "div",
          { className: q().ModeratorSection },
          (0, M.Xx)("#QAndA_ModeratorLabel"),
          n.createElement(
            "div",
            { className: q().ToolRow },
            n.createElement(ee, {
              strPrompt: (0, M.Xx)("#QAndA_AnswerPrompt"),
              fnSubmit: (e) => o(s, e),
            }),
          ),
          n.createElement(
            "div",
            { className: q().ToolRow },
            (0, M.Xx)("#QAndA_ModeratorOtherOptionsLabel"),
            n.createElement(
              G.HP,
              {
                toolTipContent: (0, M.Xx)("#QAndA_ModerateApproveButton_ttip"),
              },
              n.createElement(
                D.zx,
                {
                  onClick: () => r(s, 1),
                  className: q().InputButton,
                  disabled: !i,
                },
                (0, M.Xx)("#QAndA_ModerateApproveButton"),
              ),
            ),
            n.createElement(
              G.HP,
              { toolTipContent: (0, M.Xx)("#QAndA_ModerateHideButton_ttip") },
              n.createElement(
                D.zx,
                {
                  onClick: () => r(s, 3),
                  className: q().InputButton,
                  disabled: !l,
                },
                (0, M.Xx)("#QAndA_ModerateHideButton"),
              ),
            ),
            n.createElement(
              G.HP,
              { toolTipContent: (0, M.Xx)("#QAndA_QuickAnswerButton_ttip") },
              n.createElement(
                D.zx,
                {
                  onClick: () => o(s, ""),
                  className: q().InputButton,
                  disabled: !c,
                },
                (0, M.Xx)("#QAndA_QuickAnswerButton"),
              ),
            ),
          ),
        );
      }
      function K(e) {
        const { gidSession: t } = e;
        A();
        const { strName: s, bUserCanModerate: a } = S(t);
        return n.createElement(
          "div",
          { className: q().QAFullPageView },
          n.createElement(
            "div",
            { className: q().QAName },
            (0, M.Xx)("#QAndA_Header") + (s?.length > 0 ? ": " + s : ""),
          ),
          n.createElement(
            "div",
            { className: q().QAColumns },
            n.createElement(W, { gidSession: t, bHalfOfFullPage: a }),
            a && n.createElement(j, { gidSession: t }),
          ),
        );
      }
      function j(e) {
        const { gidSession: t } = e,
          {
            bUserCanModerate: s,
            rgNewQuestionGIDs: a,
            rgHiddenQuestionGIDs: r,
          } = S(t),
          i = (0, o.F_)(10);
        return s
          ? n.createElement(
              "div",
              {
                className: (0, L.Z)(q().QAModeratorColumn, q().QASplitColumns),
              },
              n.createElement(
                T.ug,
                {
                  title: (0, M.Xx)("#QAndA_ModeratorViewHeader"),
                  className: q().ModeratorInstructions,
                },
                n.createElement(
                  "div",
                  { className: q().QuestionList },
                  a.map((e) =>
                    n.createElement(z, {
                      key: e,
                      gidSession: t,
                      gidQuestion: e,
                      bUserCanModerate: s,
                      bUserCanVote: !1,
                      rtNow: i,
                    }),
                  ),
                ),
              ),
              n.createElement(
                T.ug,
                {
                  title: (0, M.Xx)("#QAndA_HiddenQuestionsHeader"),
                  className: q().AnsweredSectionHeader,
                  bStartMinimized: !0,
                },
                n.createElement(
                  "div",
                  { className: q().QuestionList },
                  r.map((e) =>
                    n.createElement(z, {
                      key: e,
                      gidSession: t,
                      gidQuestion: e,
                      bUserCanModerate: s,
                      bUserCanVote: !1,
                      rtNow: i,
                    }),
                  ),
                ),
              ),
            )
          : null;
      }
      function W(e) {
        const { gidSession: t, bHalfOfFullPage: s } = e;
        A();
        const {
            bIsLoaded: a,
            bUserCanAskQuestions: r,
            bUserCanModerate: i,
            fnAskQuestion: l,
            fnVoteOnQuestion: c,
            rgModeratedQuestionGIDs: u,
            rgAnsweredQuestionGIDs: d,
            rgNewQuestionGIDs: m,
          } = S(t),
          { fnReload: Q, bIsReloading: _ } = h(t),
          p = (0, o.F_)(10),
          g = i && s,
          { fnModerateQuestion: C } = N(t);
        return n.createElement(
          "div",
          { className: (0, L.Z)(q().QAMainCtn, s && q().QASplitColumns) },
          n.createElement(
            "div",
            { className: (0, L.Z)(q().QAHeader, g && q().ModerationHeader) },
            n.createElement(
              D.zx,
              {
                onClick: Q,
                disabled: !a,
                className: (0, L.Z)(
                  q().InputButton,
                  q().Reload,
                  _ && q().Reloading,
                ),
              },
              n.createElement(
                "div",
                { className: q().ReloadIcon },
                n.createElement(k.Lao, null),
              ),
            ),
            g
              ? n.createElement(
                  n.Fragment,
                  null,
                  (0, M.Xx)("#QAndA_ModeratorLabelHeader"),
                  n.createElement(
                    G.HP,
                    {
                      toolTipContent: (0, M.Xx)(
                        "#QAndA_ModerateHideAllButton_ttip",
                      ),
                    },
                    n.createElement(
                      D.zx,
                      {
                        onClick: async () => {
                          for (const e of [m, u, d])
                            for (const t of e) await C(t, 3);
                        },
                        className: q().InputButton,
                      },
                      (0, M.Xx)("#QAndA_ModerateHideAllButton"),
                    ),
                  ),
                )
              : r
                ? n.createElement($, { fnAskQuestion: l })
                : a && n.createElement(te, null),
          ),
          u.length + d.length == 0
            ? n.createElement(
                "div",
                { className: q().NoQuestions },
                (0, M.Xx)("#QAndA_NoQuestionsYet"),
              )
            : n.createElement(
                "div",
                { className: q().QuestionsCtn },
                n.createElement(
                  "div",
                  { className: q().InsetShadowTopCtn },
                  n.createElement("div", { className: q().InsetShadowTop }),
                ),
                n.createElement(
                  "div",
                  { className: q().QuestionList },
                  a
                    ? u.map((e) =>
                        n.createElement(z, {
                          key: e,
                          gidSession: t,
                          gidQuestion: e,
                          bUserCanModerate: g,
                          bUserCanVote: r,
                          fnVoteOnQuestion: c,
                          rtNow: p,
                        }),
                      )
                    : n.createElement(v.V, { position: "center" }),
                ),
                d.length > 0 &&
                  n.createElement(
                    n.Fragment,
                    null,
                    n.createElement(
                      "div",
                      { className: q().AnsweredSectionHeader },
                      (0, M.Xx)("#QAndA_AnsweredQuestionsHeader"),
                    ),
                    n.createElement(
                      "div",
                      { className: q().QuestionList },
                      d.map((e) =>
                        n.createElement(z, {
                          key: e,
                          gidSession: t,
                          gidQuestion: e,
                          bUserCanModerate: g,
                          bUserCanVote: r,
                          fnVoteOnQuestion: c,
                          rtNow: p,
                        }),
                      ),
                    ),
                  ),
              ),
        );
      }
      function $(e) {
        const [t, s] = n.useState(!1),
          a = (0, p.T)("QuestionBox");
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(
            "div",
            { className: q().Description },
            (0, M.Xx)("#QAndA_HeaderDescription"),
          ),
          n.createElement(ee, {
            strPrompt: (0, M.Xx)("#QAndA_QuestionPrompt"),
            fnSubmit: async (t) => {
              const n = await e.fnAskQuestion(t);
              return (
                1 != n ||
                  a.token.reason ||
                  (s(!0),
                  window.setTimeout(() => {
                    a.token.reason || s(!1);
                  }, 1e3)),
                n
              );
            },
          }),
          n.createElement(
            "div",
            { className: (0, L.Z)(q().QuestionACK, t && q().Visible) },
            (0, M.Xx)("#QAndA_QuestionWasPosted"),
          ),
        );
      }
      function ee(e) {
        const { strPrompt: t, fnSubmit: s } = e,
          [a, o] = n.useState(""),
          [r, i] = n.useState(!1);
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(
            "div",
            { className: q().InputCtn },
            n.createElement(D.II, {
              type: "text",
              placeholder: t,
              maxLength: 512,
              value: a,
              onChange: (e) => o(e.target.value),
            }),
            n.createElement(
              "div",
              { className: q().ButtonCtn },
              r &&
                n.createElement(
                  "div",
                  { className: q().SaveSpinner },
                  n.createElement(v.V, { size: "small", position: "center" }),
                ),
              n.createElement(
                D.zx,
                {
                  onClick: async () => {
                    i(!0);
                    1 == (await s(a)) && o(""), i(!1);
                  },
                  disabled: r || !a,
                  className: q().InputButton,
                },
                (0, M.Xx)("#QAndA_SubmitCommentButton"),
              ),
            ),
          ),
        );
      }
      function te(e) {
        return n.createElement(
          "div",
          { className: q().Description },
          n.createElement(
            "div",
            { className: q().LogInPrompt },
            (0, M.Xx)("#QAndA_LogInPrompt"),
          ),
          !u.L7.logged_in &&
            n.createElement(
              D.zx,
              {
                onClick: b.Xt,
                className: (0, L.Z)(q().SignInButton, q().InputButton),
              },
              (0, M.Xx)("#Login_SignIn"),
            ),
        );
      }
    },
  },
]);
