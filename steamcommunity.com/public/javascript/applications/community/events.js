/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(window.webpackJsonp = window.webpackJsonp || []).push([
  [10],
  {
    "+chf": function (e, t, a) {
      e.exports = { SearchResults: "search_curator_SearchResults_1roMu" };
    },
    "+w6J": function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return F;
      });
      var n = a("mrSG"),
        i = a("fcuX"),
        r = a("KP/B"),
        o = a("mHFc"),
        l = a("i3zJ"),
        s = a("CoyA"),
        c = a("Zan1"),
        d = a("oqmg"),
        u = a("TyAF"),
        p = a("q1tI"),
        m = a("qD+2"),
        _ = a("5eAM"),
        g = a("R+8l"),
        E = a("oVVc"),
        b = a("Mgs7"),
        h = a("IjL/"),
        v = a("qP7j"),
        f = a("fpVW"),
        S = a("gyoR"),
        O = a("YLyR"),
        y = a("Jqb/"),
        C = a("ka0M"),
        j = a("0rc7"),
        T = a("0OaU"),
        I = a("5E+2"),
        D = a("UvY0"),
        w = a("r64O"),
        G = a("exH9"),
        A = a("X3Ds"),
        M = a("TLQK"),
        k = a("opsS"),
        L = a("as1E"),
        N = a("DisI"),
        B = a("JiI5"),
        R = -1,
        F = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                nImportCapsuleVisibiltyIndex: R,
                nShowVisibilityIndexOnly: R,
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.RemoveCapsule = function (e) {
              var t = this.props,
                a = t.capsuleContainer,
                n = t.editModel;
              Object(w.a)(
                e >= 0 && e < a.capsules.length,
                "Remove capsule called outside of range: " +
                  e +
                  " len: " +
                  a.capsules.length
              ),
                e >= 0 &&
                  e < a.capsules.length &&
                  (a.capsules.splice(e, 1), n.SetDirty(i.c.jsondata_sales));
            }),
            (t.prototype.AddCapsule = function (e, t) {
              var a = {
                id: e,
                type: t,
                visibility_index:
                  this.state.nImportCapsuleVisibiltyIndex == R
                    ? void 0
                    : this.state.nImportCapsuleVisibiltyIndex,
              };
              this.props.capsuleContainer.capsules.push(a),
                Object(S.i)([a]),
                this.props.editModel.SetDirty(i.c.jsondata_sales);
            }),
            (t.prototype.CountCapsPerVisibilityIndex = function () {
              var e = this.props,
                t = e.capsuleContainer,
                a = e.editModel;
              if (t.capsules) {
                var n = a.GetNumberOfDays(),
                  i = new Array(n);
                i.fill(0);
                var r = !1;
                return (
                  t.capsules.forEach(function (e) {
                    if (void 0 !== (null == e ? void 0 : e.visibility_index)) {
                      for (; i.length <= e.visibility_index; ) i.push(0);
                      (r = !0), (i[e.visibility_index] += 1);
                    }
                  }),
                  r ? i : void 0
                );
              }
            }),
            (t.prototype.ImportSaleItems = function (e) {
              Object(C.d)(
                p.createElement(c.a, { fnAddCapsule: this.AddCapsule }),
                Object(A.m)(e)
              );
            }),
            (t.prototype.OnChangeVisibilityDate = function (e) {
              this.setState({ nImportCapsuleVisibiltyIndex: e });
            }),
            (t.prototype.OnVisibilityIndexFilterChange = function (e) {
              this.setState({ nShowVisibilityIndexOnly: e });
            }),
            (t.prototype.OnRemoveAllPrompt = function () {
              Object(C.d)(
                p.createElement(y.d, {
                  strTitle: Object(M.f)("#Sale_RemoveAllConfirm_Title"),
                  strDescription: Object(M.f)("#Sale_RemoveAllConfirm_Body"),
                  onOK: this.OnRemoveAllConfirmed,
                }),
                window
              );
            }),
            (t.prototype.OnRemoveAllConfirmed = function () {
              (this.props.capsuleContainer.capsules = []),
                this.props.editModel.SetDirty(i.c.jsondata_sales);
            }),
            (t.prototype.OnEditRaw = function (e) {
              Object(C.d)(
                p.createElement(P, {
                  editModel: this.props.editModel,
                  capsuleContainer: this.props.capsuleContainer,
                }),
                Object(A.m)(e)
              );
            }),
            (t.prototype.OnUseTagFilterChangeConfirmed = function (e) {
              var t,
                a,
                n = this.props,
                o = n.capsuleContainer,
                l = n.editModel;
              if (e) {
                var s = Object(r.o)(l);
                (o.sale_tag_filter = { clauses: new Array() }),
                  (o.capsules = Object(r.r)(s, o.sale_tag_filter, o.capsules));
              } else
                (null ===
                  (a =
                    null === (t = o.sale_tag_filter) || void 0 === t
                      ? void 0
                      : t.clauses) || void 0 === a
                  ? void 0
                  : a.length) || (o.capsules = []),
                  (o.sale_tag_filter = null);
              l.SetDirty(i.c.jsondata_sales);
            }),
            (t.prototype.OnUseTagFilterChange = function (e) {
              var t,
                a = this,
                n = this.props,
                i = n.capsuleContainer;
              n.editModel;
              if (e) {
                if (i.sale_tag_filter) return;
                i.capsules.length
                  ? Object(C.d)(
                      p.createElement(y.d, {
                        strTitle: Object(M.f)(
                          "#Sale_TaggedItemFilter_EnableTitle"
                        ),
                        strDescription: Object(M.f)(
                          "#Sale_TaggedItemFilter_EnableDescription"
                        ),
                        onOK: function () {
                          return a.OnUseTagFilterChangeConfirmed(!0);
                        },
                      }),
                      window
                    )
                  : this.OnUseTagFilterChangeConfirmed(!0);
              } else {
                if (!i.sale_tag_filter) return;
                (
                  null === (t = i.sale_tag_filter.clauses) || void 0 === t
                    ? void 0
                    : t.length
                )
                  ? Object(C.d)(
                      p.createElement(y.d, {
                        strTitle: Object(M.f)(
                          "#Sale_TaggedItemFilter_DisableTitle"
                        ),
                        strDescription: Object(M.f)(
                          "#Sale_TaggedItemFilter_DisableDescription"
                        ),
                        onOK: function () {
                          return a.OnUseTagFilterChangeConfirmed(!1);
                        },
                      }),
                      window
                    )
                  : this.OnUseTagFilterChangeConfirmed(!1);
              }
            }),
            (t.prototype.renderFilterView = function () {
              var e = this.props,
                t = e.editModel,
                a = e.capsuleContainer,
                n =
                  Object(M.f)(
                    this.props.titleLocToken ||
                      "#Sale_Section_FilteredProducts_Title"
                  ) +
                  " - " +
                  a.capsules.length,
                r = Object(M.f)(
                  this.props.ttipLocToken ||
                    "#Sale_Section_FilteredProducts_Tooltip"
                ),
                l = "ShowFilterItems_" + this.props.uniqueKey,
                c = Object(o.a)(l, !0);
              return p.createElement(
                h.a,
                null,
                p.createElement(
                  "div",
                  { className: L.FilterDisplayCtn },
                  p.createElement(d.d, { editModel: t, capsuleContainer: a }),
                  p.createElement(
                    "div",
                    { className: L.SaleSectionTitleHeader },
                    p.createElement(
                      "div",
                      { className: f.EventEditorTextTitle },
                      n,
                      p.createElement(N.b, { tooltip: r })
                    ),
                    p.createElement(N.a, {
                      bIsMinimized: c,
                      fnToggleMinimize: function () {
                        return Object(o.d)(l, !0);
                      },
                    })
                  ),
                  !c &&
                    p.createElement(
                      "div",
                      {
                        className: Object(G.a)(
                          f.FlexColumnContainer,
                          f.EventDefaultRowContainer
                        ),
                      },
                      p.createElement(j.a, {
                        items: a.capsules,
                        onReorder: function () {
                          return t.SetDirty(i.c.jsondata_sales);
                        },
                        render: function (e) {
                          return p.createElement(s.a, {
                            capsule: e,
                            capsuleContainer: a,
                          });
                        },
                      })
                    )
                )
              );
            }),
            (t.prototype.OnSelectDiscountEvent = function (e) {
              var t = this;
              Object(C.d)(
                p.createElement(l.a, {
                  onDiscountEventSelected: function (e, a) {
                    var n =
                        t.state.nImportCapsuleVisibiltyIndex == R
                          ? void 0
                          : t.state.nImportCapsuleVisibiltyIndex,
                      r = t.props.capsuleContainer;
                    e.forEach(function (e) {
                      if (
                        !r.capsules.find(function (t) {
                          return t.id === e && "sub" !== t.type;
                        })
                      ) {
                        var t = _.a.GetAppLinkInfo(e);
                        r.capsules.push({
                          id: e,
                          type: t ? t.type : "game",
                          visibility_index: n,
                        });
                      }
                    }),
                      a.forEach(function (e) {
                        r.capsules.find(function (t) {
                          return t.id === e && "sub" === t.type;
                        }) ||
                          r.capsules.push({
                            id: e,
                            type: "sub",
                            visibility_index: n,
                          });
                      }),
                      t.props.editModel.SetDirty(i.c.jsondata_sales);
                  },
                }),
                Object(A.m)(e)
              );
            }),
            (t.prototype.renderItemView = function () {
              var e = this,
                t = this.props,
                a = t.editModel,
                n = t.capsuleContainer,
                r = [
                  {
                    label: Object(M.f)("#Sale_VisibilityIndex_Default"),
                    data: R,
                  },
                ],
                l = a.GetNumberOfDays(),
                c = "ShowCapsuleItems_" + this.props.uniqueKey,
                u = Object(o.a)(c, !1);
              if (!this.props.disableDaySelection && l > 1)
                for (var m = 0; m < l; m++) {
                  var _ = a.GetEventStartTime() + 86400 * m,
                    g = {
                      label: Object(M.n)(
                        m + 1 == l
                          ? "#Sale_VisibilityIndex_DayTimeOnward"
                          : "#Sale_VisibilityIndex_DayTime",
                        m + 1,
                        p.createElement(O.a, {
                          dateAndTime: _,
                          bSingleLine: !0,
                        }),
                        p.createElement(O.a, {
                          dateAndTime: _ + 86400,
                          bSingleLine: !0,
                        })
                      ),
                      data: m,
                    };
                  r.push(g);
                }
              var E = this.CountCapsPerVisibilityIndex(),
                v = new Array();
              if (E) {
                var S = "CountFilter_Sale" + this.props.uniqueKey,
                  y = "CountFilter_Sale" + this.props.uniqueKey + "_day_all";
                v.push(
                  p.createElement(
                    "div",
                    {
                      key: "CountFilter_sale" + this.props.uniqueKey + "_" + R,
                      className: Object(G.a)(f.FlexRowContainer, f.RadioOption),
                    },
                    p.createElement("input", {
                      type: "radio",
                      name: S,
                      id: y,
                      value: R,
                      checked: R == this.state.nShowVisibilityIndexOnly,
                      onChange: function () {
                        return e.OnVisibilityIndexFilterChange(R);
                      },
                    }),
                    p.createElement(
                      "label",
                      { htmlFor: y },
                      p.createElement(
                        "span",
                        null,
                        Object(M.f)("#Sale_VisibilityIndex_ShowAll")
                      )
                    )
                  )
                ),
                  E.forEach(function (t, a) {
                    var n =
                      "CountFilter_Sale" + e.props.uniqueKey + "_day_" + a;
                    v.push(
                      p.createElement(
                        "div",
                        {
                          key: "CountFilter_sale" + e.props.uniqueKey + "_" + a,
                          className: Object(G.a)(
                            f.FlexRowContainer,
                            f.RadioOption
                          ),
                        },
                        p.createElement("input", {
                          type: "radio",
                          name: S,
                          id: n,
                          value: a,
                          checked: a == e.state.nShowVisibilityIndexOnly,
                          onChange: function () {
                            return e.OnVisibilityIndexFilterChange(a);
                          },
                        }),
                        p.createElement(
                          "label",
                          { htmlFor: n },
                          p.createElement(
                            "span",
                            null,
                            Object(M.f)(
                              "#Sale_VisibilityIndex_ShowDay",
                              a + 1,
                              t
                            )
                          )
                        )
                      )
                    );
                  });
              }
              var C =
                  Object(M.f)(
                    this.props.titleLocToken ||
                      "#Sale_Section_ReferencedProducts_Title"
                  ) +
                  " - " +
                  n.capsules.length,
                T = Object(M.f)(
                  this.props.ttipLocToken ||
                    "#Sale_Section_ReferencedProducts_Tooltip"
                );
              return p.createElement(
                h.a,
                null,
                p.createElement(
                  "div",
                  { className: L.SaleSectionTitleHeader },
                  p.createElement(
                    "div",
                    { className: f.EventEditorTextTitle },
                    C,
                    p.createElement(N.b, { tooltip: T })
                  ),
                  p.createElement(N.a, {
                    bIsMinimized: u,
                    fnToggleMinimize: function () {
                      return Object(o.d)(c, !1);
                    },
                  })
                ),
                !u &&
                  p.createElement(
                    "div",
                    {
                      className: Object(G.a)(
                        f.FlexColumnContainer,
                        f.EventDefaultRowContainer
                      ),
                    },
                    Boolean(E && E.length > 0) &&
                      p.createElement(
                        "div",
                        { className: B.SaleVisibilityDateFilter },
                        p.createElement(
                          "span",
                          null,
                          Object(M.f)("#Sale_VisibilityIndex_ShowFilter")
                        ),
                        v
                      ),
                    p.createElement(d.c, { onAddItem: this.AddCapsule }),
                    p.createElement(
                      "div",
                      { className: B.SaleImportBar },
                      p.createElement(
                        I.a,
                        {
                          className: B.SaleImportBarTooltip,
                          toolTipContent: Object(M.f)(
                            "#Sale_RemoveAll_Tooltip"
                          ),
                        },
                        p.createElement(
                          b.d,
                          {
                            className: B.SaleImportBarButton,
                            onClick: this.OnRemoveAllPrompt,
                          },
                          Object(M.f)("#Sale_RemoveAll")
                        )
                      ),
                      p.createElement(
                        I.a,
                        {
                          className: B.SaleImportBarTooltip,
                          toolTipContent: Object(M.f)(
                            "#Sale_ImportItems_Tooltip"
                          ),
                        },
                        p.createElement(
                          b.d,
                          {
                            className: B.SaleImportBarButton,
                            onClick: this.ImportSaleItems,
                          },
                          Object(M.f)("#Sale_ImportItems")
                        )
                      ),
                      p.createElement(
                        I.a,
                        {
                          className: B.SaleImportBarTooltip,
                          toolTipContent: Object(M.f)("#Sale_EditRaw_Tooltip"),
                        },
                        p.createElement(
                          b.d,
                          {
                            className: B.SaleImportBarButton,
                            onClick: this.OnEditRaw,
                          },
                          Object(M.f)("#Sale_EditRaw")
                        )
                      ),
                      p.createElement(
                        D.b,
                        { requireAdmin: !0, clanSteamID: a.GetClanSteamID() },
                        p.createElement(
                          I.a,
                          {
                            className: B.SaleImportBarTooltip,
                            toolTipContent: Object(M.f)(
                              "#Sale_DiscountEvent_ttip"
                            ),
                          },
                          p.createElement(
                            b.d,
                            {
                              className: B.SaleImportBarButton,
                              onClick: this.OnSelectDiscountEvent,
                            },
                            Object(M.f)("#Sale_DiscountEvent_Add")
                          )
                        )
                      )
                    ),
                    p.createElement(j.a, {
                      bDisabled: this.state.nShowVisibilityIndexOnly != R,
                      items:
                        this.state.nShowVisibilityIndexOnly === R
                          ? n.capsules
                          : n.capsules.filter(function (t) {
                              return (
                                null == t.visibility_index ||
                                t.visibility_index ==
                                  e.state.nShowVisibilityIndexOnly
                              );
                            }),
                      onDelete: this.RemoveCapsule,
                      onReorder: function () {
                        return e.props.editModel.SetDirty(i.c.jsondata_sales);
                      },
                      render: function (e) {
                        return p.createElement(s.a, {
                          capsule: e,
                          capsuleContainer: n,
                        });
                      },
                    }),
                    r.length > 1 &&
                      p.createElement(b.h, {
                        strDropDownClassName: f.DropDownScroll,
                        label: Object(M.f)("#Sale_VisibilityIndex_Label"),
                        rgOptions: r,
                        selectedOption: this.state.nImportCapsuleVisibiltyIndex,
                        onChange: function (t) {
                          return e.OnChangeVisibilityDate(t.data);
                        },
                        bDisableMouseOverlay: !0,
                        contextMenuPositionOptions: {
                          bDisableMouseOverlay: !0,
                          bDisablePopTop: !0,
                        },
                        disabled: 1 == r.length,
                        strClassName: B.SaleDaySelection,
                        tooltip: Object(M.f)("#Sale_VisibilityIndex_Tooltip"),
                      })
                  )
              );
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.editModel,
                a = e.capsuleContainer,
                n = Boolean(a.sale_tag_filter),
                i =
                  n ||
                  t.GetEventModel().GetTaggedItems().length > 0 ||
                  t.GetEventModel().BUsesContentHubForItemSource();
              return p.createElement(
                h.a,
                null,
                i &&
                  p.createElement(b.p, {
                    onChange: this.OnUseTagFilterChange,
                    label: Object(M.f)("#Sale_TaggedItemFilter"),
                    description: a.sale_tag_filter
                      ? ""
                      : Object(M.f)("#Sale_TaggedItemFilterDescription"),
                    checked: Boolean(a.sale_tag_filter),
                  }),
                n && this.renderFilterView(),
                !n && this.renderItemView()
              );
            }),
            Object(n.c)([k.a], t.prototype, "RemoveCapsule", null),
            Object(n.c)([k.a], t.prototype, "AddCapsule", null),
            Object(n.c)([k.a], t.prototype, "ImportSaleItems", null),
            Object(n.c)([k.a], t.prototype, "OnChangeVisibilityDate", null),
            Object(n.c)(
              [k.a],
              t.prototype,
              "OnVisibilityIndexFilterChange",
              null
            ),
            Object(n.c)([k.a], t.prototype, "OnRemoveAllPrompt", null),
            Object(n.c)([k.a], t.prototype, "OnRemoveAllConfirmed", null),
            Object(n.c)([k.a], t.prototype, "OnEditRaw", null),
            Object(n.c)(
              [k.a],
              t.prototype,
              "OnUseTagFilterChangeConfirmed",
              null
            ),
            Object(n.c)([k.a], t.prototype, "OnUseTagFilterChange", null),
            Object(n.c)([k.a], t.prototype, "OnSelectDiscountEvent", null),
            (t = Object(n.c)([u.a], t))
          );
        })(p.Component),
        P = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bImporting: !1,
                editValue: t.PopulateInitialEditField(),
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.PopulateInitialEditField = function () {
              var e = this.props.capsuleContainer,
                t = !1;
              e.capsules.forEach(function (e) {
                return (t =
                  t || void 0 !== (null == e ? void 0 : e.visibility_index));
              });
              for (var a = "", n = 0, i = e.capsules; n < i.length; n++) {
                var r = i[n];
                if (r) {
                  var o = "";
                  if ("bundle" === r.type)
                    o = (l = g.a.GetBundleInfo(r.id)) && l.name;
                  else if ("sub" === r.type) {
                    o = (l = E.b.GetPackageInfo(r.id)) && l.name;
                  } else {
                    var l;
                    o = (l = m.a.GetAppInfo(r.id)) && l.name;
                  }
                  var s = r.id + "\t" + r.type;
                  void 0 !== r.visibility_index
                    ? (s += "\tDay " + r.visibility_index)
                    : t && (s += "\t"),
                    o && (s += '\t"' + o + '"'),
                    (a += s + "\n");
                }
              }
              return a;
            }),
            (t.prototype.ParseCapsuleInfoFromLine = function (e) {
              var t = e + " ",
                a = /^\s*([0-9]+)\W+(.*)/.exec(t);
              if (a) {
                var n = { id: parseInt(a[1]), type: "game" };
                t = a[2];
                var i = /^(game|software|dlc|bundle|video|sub|event|tag|music|hardware)\W+(.*)/i.exec(
                  t
                );
                i && ((n.type = i[1]), (t = i[2]));
                var r = /^day\s+(\d+)\W+/i.exec(t);
                return r && (n.visibility_index = parseInt(r[1])), n;
              }
            }),
            (t.prototype.OnCompleteEdit = function () {
              this.setState({ bImporting: !0, errMsg: void 0 }, this.DoImport);
            }),
            (t.prototype.DoImport = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a, r, o, l, s, c, d, u, p, m, _, g;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      for (
                        e = this.props,
                          t = e.editModel,
                          a = e.capsuleContainer,
                          r = new Array(),
                          o = this.state.editValue.split("\n"),
                          l = 0,
                          s = o;
                        l < s.length;
                        l++
                      )
                        (c = s[l]),
                          (d = this.ParseCapsuleInfoFromLine(c)) && r.push(d);
                      return [4, Object(S.i)(r)];
                    case 1:
                      for (
                        n.sent(), u = "", p = t.GetNumberOfDays(), m = 0, _ = r;
                        m < _.length;
                        m++
                      )
                        if (
                          void 0 !== (g = _[m]).visibility_index &&
                          g.visibility_index >= p
                        ) {
                          u = Object(M.f)(
                            "#Sale_EditRaw_Error_InvalidDay",
                            g.id,
                            g.visibility_index
                          );
                          break;
                        }
                      return (
                        this.setState({ bImporting: !1, errMsg: u }),
                        u ||
                          (JSON.stringify(a.capsules) !== JSON.stringify(r) &&
                            ((a.capsules = r), t.SetDirty(i.c.jsondata_sales)),
                          this.props.closeModal()),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnTextChange = function (e) {
              this.setState({ editValue: e.currentTarget.value });
            }),
            (t.prototype.render = function () {
              var e = this.props.closeModal;
              return p.createElement(
                y.e,
                {
                  onCancel: e,
                  closeModal: e,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  bHideCloseIcon: this.state.bImporting,
                },
                p.createElement(b.k, null, Object(M.f)("#Sale_EditRaw_Title")),
                p.createElement(
                  b.b,
                  null,
                  p.createElement(
                    "div",
                    null,
                    Object(M.f)("#Sale_EditRaw_Desc_1")
                  ),
                  p.createElement(
                    "div",
                    null,
                    Object(M.f)("#Sale_EditRaw_Desc_2")
                  ),
                  p.createElement(
                    "div",
                    { className: L.EditRawExample },
                    Object(M.f)("#Sale_EditRaw_Example_Title")
                  ),
                  p.createElement(
                    "div",
                    { className: L.EditRawExample },
                    Object(M.f)("#Sale_EditRaw_Example_1")
                  ),
                  p.createElement(
                    "div",
                    { className: L.EditRawExample },
                    Object(M.f)("#Sale_EditRaw_Example_2")
                  ),
                  p.createElement(
                    "div",
                    { className: L.EditRawExample },
                    Object(M.f)("#Sale_EditRaw_Example_3")
                  ),
                  Boolean(this.state.errMsg) &&
                    p.createElement(
                      "p",
                      { className: v.ErrorStyles },
                      this.state.errMsg
                    ),
                  this.state.bImporting &&
                    p.createElement(T.a, {
                      size: "medium",
                      position: "center",
                    }),
                  !this.state.bImporting &&
                    p.createElement("textarea", {
                      className: L.EditRawTextArea,
                      value: this.state.editValue,
                      cols: 40,
                      rows: 30,
                      onChange: this.OnTextChange,
                    })
                ),
                !this.state.bImporting &&
                  p.createElement(
                    b.j,
                    null,
                    p.createElement(
                      b.q,
                      { onClick: this.OnCompleteEdit, disabled: !1 },
                      Object(M.f)("#Button_Confirm"),
                      " "
                    ),
                    p.createElement(
                      b.d,
                      { onClick: e, disabled: !1 },
                      Object(M.f)("#Button_Cancel")
                    )
                  )
              );
            }),
            Object(n.c)([k.a], t.prototype, "OnCompleteEdit", null),
            Object(n.c)([k.a], t.prototype, "DoImport", null),
            Object(n.c)([k.a], t.prototype, "OnTextChange", null),
            (t = Object(n.c)([u.a], t))
          );
        })(p.Component);
    },
    "0XOM": function (e, t, a) {
      e.exports = {
        TileContainer: "partnereventtile_TileContainer_1eeyC",
        ShowEventMetaDataSizes: "partnereventtile_ShowEventMetaDataSizes_EU0bQ",
        EventStateUpcoming: "partnereventtile_EventStateUpcoming_qfpNt",
        EventStateActive: "partnereventtile_EventStateActive_3F1Bj",
        EventStateRecent: "partnereventtile_EventStateRecent_2ge3p",
        TileStats: "partnereventtile_TileStats_GZhwe",
        Spacer: "partnereventtile_Spacer_Lux3q",
        TileImageCtn: "partnereventtile_TileImageCtn_1vi2y",
        TileImage: "partnereventtile_TileImage_5NjHV",
        TileTextContainer: "partnereventtile_TileTextContainer_31yes",
        TileTextAppName: "partnereventtile_TileTextAppName_3x6bH",
        TileTextEventType: "partnereventtile_TileTextEventType_2DMSl",
        TileHasSale: "partnereventtile_TileHasSale_1trq1",
        TileTextStartsIn: "partnereventtile_TileTextStartsIn_3jRSO",
        TileTextSubTitle: "partnereventtile_TileTextSubTitle_3Sc1E",
        TileDescriptionContainer:
          "partnereventtile_TileDescriptionContainer_2yxWD",
        TileButtonContainer: "partnereventtile_TileButtonContainer_1JNbD",
        TileAgeNotAppropriate: "partnereventtile_TileAgeNotAppropriate_1EyzX",
        ManageButton: "partnereventtile_ManageButton_60Iyt",
        Edit: "partnereventtile_Edit_2h3Yf",
        Delete: "partnereventtile_Delete_8zmLU",
        Clone: "partnereventtile_Clone_1QJ8I",
        View: "partnereventtile_View_1IvY3",
        Publish: "partnereventtile_Publish_1szIu",
        CloneLangCtn: "partnereventtile_CloneLangCtn_2EoxS",
        CloneCheckBox: "partnereventtile_CloneCheckBox_28WRJ",
        MetaDataCtn: "partnereventtile_MetaDataCtn_3EXNJ",
      };
    },
    "1fPh": function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return r;
      });
      var n = a("lkRc"),
        i = function () {
          return n.b.IS_OGG ? "games" : "groups";
        },
        r = {
          Home: function (e) {
            return "/" + i() + "/" + e + "/partnerevents";
          },
          Create: function (e) {
            return "/" + i() + "/" + e + "/partnerevents/create";
          },
          Category: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/category/" + t;
          },
          Edit: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/edit/" + t;
          },
          EditRedirectToCategory: function (e) {
            return "/" + i() + "/" + e + "/partnerevents/edit";
          },
          Preview: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/preview/" + t;
          },
          PreviewSale: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/previewsale/" + t;
          },
          View: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/view/" + t;
          },
          List: function (e) {
            return "/" + i() + "/" + e + "/partnerevents/list";
          },
          Publish: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/publish/" + t;
          },
          ViewEventDetails: function (e, t) {
            return "/" + i() + "/" + e + "/announcements/detail/" + t;
          },
          Listing: function (e) {
            return "/" + i() + "/" + e + "/announcements/(listing)?";
          },
          Migrate: function (e, t) {
            return (
              "/" + i() + "/" + e + "/partnerevents/migrate_announcement/" + t
            );
          },
          MigrateCategory: function (e, t) {
            return (
              "/" +
              i() +
              "/" +
              e +
              "/partnerevents/migrate_category_announcement/" +
              t
            );
          },
          ViewOldAnnouncement: function (e, t) {
            return (
              "/" + i() + "/" + e + "/partnerevents/view_old_announcement/" + t
            );
          },
          PreviewOldAnnouncement: function (e, t) {
            return (
              "/" +
              i() +
              "/" +
              e +
              "/partnerevents/preview_old_announcement/" +
              t
            );
          },
          MigrateEvents: function () {
            return "/(migrateevents|migrate)";
          },
          MigrateSaleEvents: function () {
            return "/migrate/migratesale";
          },
          WorkshopHub: function (e) {
            return "/app/" + e + "/workshop/";
          },
          AppHub: function (e) {
            return "/app/" + e;
          },
          GroupHub: function (e) {
            return "/groups/" + e;
          },
          DiagData: function () {
            return "/" + i() + "/:anything*/diagdata";
          },
        };
    },
    "226m": function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return s;
      });
      var n = a("mrSG"),
        i = a("vDqi"),
        r = a.n(i),
        o = a("OS6B"),
        l = a("lkRc"),
        s = (function () {
          function e() {
            this.m_mapOptInData = new Map();
          }
          return (
            (e.Get = function () {
              return (
                this.s_Singleton || (this.s_Singleton = new e()),
                this.s_Singleton
              );
            }),
            (e.prototype.ForceLoadOptInPage = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t, a, i, s, c;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      (t = {
                        sessionid: l.c.SESSIONID,
                        origin: self.origin,
                        cc: l.c.COUNTRY || "US",
                        l: l.c.LANGUAGE,
                        saleid: e,
                      }),
                        (a = l.c.COMMUNITY_BASE_URL + "sale/ajaxoptinsummary"),
                        (i = null),
                        (n.label = 1);
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]), [4, r.a.get(a, { params: t })]
                      );
                    case 2:
                      return (s = n.sent()), (i = s.data), [3, 4];
                    case 3:
                      return (
                        (c = n.sent()),
                        console.error(
                          "Failed getting opt in summary: " +
                            Object(o.a)(c).strErrorMsg
                        ),
                        [3, 4]
                      );
                    case 4:
                      return this.AddOptInPageToCache(e, i), [2, i];
                  }
                });
              });
            }),
            (e.prototype.AddOptInPageToCache = function (e, t) {
              var a = new Map();
              if (t && t.success)
                for (var n = 0, i = t.opted_in; n < i.length; n++) {
                  var r = i[n];
                  a.set(r.appid, r);
                }
              this.m_mapOptInData.set(e, a);
            }),
            (e.prototype.HintLoadOptInPageData = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                return Object(n.e)(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return this.GetOptInPageData(e)
                        ? [2]
                        : [4, this.ForceLoadOptInPage(e)];
                    case 1:
                      return t.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.GetOptInPageData = function (e) {
              return this.m_mapOptInData.get(e);
            }),
            e
          );
        })();
    },
    "3USw": function (e, t, a) {
      e.exports = {
        SectionTitleHeader: "collapseablesection_SectionTitleHeader_2g5oN",
        required_title: "collapseablesection_required_title_3yDPZ",
      };
    },
    "3yM6": function (e, t, a) {
      e.exports = { SearchResults: "partnersaledebug_SearchResults_26iJ3" };
    },
    "46hJ": function (e, t, a) {
      e.exports = {
        ApprovalRequiredCtn:
          "requirevalvepublishapproval_ApprovalRequiredCtn_2pKjC",
        Right: "requirevalvepublishapproval_Right_2lUXd",
        Title: "requirevalvepublishapproval_Title_Oc0UN",
      };
    },
    "48GZ": function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return A;
      }),
        a.d(t, "a", function () {
          return M;
        });
      var n = a("mrSG"),
        i = a("fcuX"),
        r = a("wUcC"),
        o = a("+w6J"),
        l = a("TyAF"),
        s = a("q1tI"),
        c = a("TtDX"),
        d = a("kLLr"),
        u = a("U+Q5"),
        p = a("Mgs7"),
        m = a("h5LU"),
        _ = a("fpVW"),
        g = a("6AJf"),
        E = a("NF5x"),
        b = a("Jqb/"),
        h = a("ka0M"),
        v = a("0rc7"),
        f = a("0OaU"),
        S = a("5E+2"),
        O = a("exH9"),
        y = a("TLQK"),
        C = a("OS6B"),
        j = a("opsS"),
        T = a("lkRc"),
        I = a("NrWE"),
        D = a("as1E"),
        w = a("DisI"),
        G = a("K3tN"),
        A = Object(l.a)(function (e) {
          var t = e.saleSection,
            a = e.editModel,
            n = s.useState(null),
            i = n[0],
            r = n[1],
            o = Boolean(t.tabs && t.tabs.length > 0 && !i);
          return a.GetSaleSections().reduce(function (e, t) {
            return e + ("tabs" === t.section_type ? 1 : 0);
          }, 0) > 1
            ? s.createElement(
                "div",
                { className: D.TabsMultipleError },
                Object(y.f)("#Sale_Tabs_MultipleTabSections")
              )
            : s.createElement(
                "div",
                null,
                s.createElement(L, {
                  saleSection: t,
                  editModel: a,
                  onTabSelected: r,
                  selectedTab: i,
                }),
                o &&
                  s.createElement(
                    "div",
                    { className: D.TabsSelectToEdit },
                    Object(y.f)("#Sale_Tabs_SelectTab")
                  ),
                i &&
                  s.createElement(N, {
                    tab: i,
                    editModel: a,
                    editLanguage: a.GetCurEditLanguage(),
                  })
              );
        });
      function M(e, t) {
        var a = Object(g.f)(e, t);
        return a || (a = Object(y.f)("#Sale_Tabs_UnnamedTab", e.unique_id)), a;
      }
      var k = Object(l.a)(function (e) {
          var t,
            a,
            n = e.tab,
            i = (e.language, M(e.tab, e.language)),
            r =
              e.tab.capsules.length > 0
                ? Object(y.f)(
                    "#Sale_Tabs_TitleItemCount",
                    i,
                    e.tab.capsules.length
                  )
                : Object(y.f)("#Sale_Tabs_TitleShowAllItems", i),
            o =
              null !== (t = e.overrideStyle) && void 0 !== t
                ? t
                : Object(E.a)(e.selected, e.section),
            l = null;
          if (
            (null === (a = n.tab_bar_bg_image) || void 0 === a
              ? void 0
              : a.length) > 0
          ) {
            var c = new d.a(T.b.CLANSTEAMID);
            l = u.a.GenerateArtworkURLFromHashAndExtensions(
              c,
              n.tab_bar_bg_image
            );
          }
          return s.createElement(
            "div",
            {
              className: Object(O.a)(
                D.TabsSelectorEntry,
                e.selected && D.TabsSelectorEntrySelected
              ),
              style: o,
              onClick: function () {
                return e.onSelected(e.tab);
              },
            },
            s.createElement("span", null, r),
            Boolean(l) &&
              s.createElement("img", { className: G.ImgPreview, src: l })
          );
        }),
        L = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.GenerateUniqueID = function () {
              var e = this.props.saleSection.tabs;
              return (
                (e
                  ? e.reduce(function (e, t) {
                      return Math.max(t.unique_id, e);
                    }, 0)
                  : 0) + 1
              );
            }),
            (t.prototype.OnAddTab = function () {
              this.props.saleSection.tabs || (this.props.saleSection.tabs = []);
              var e = {
                unique_id: this.GenerateUniqueID(),
                default_label: null,
                localized_label: null,
                capsules: [],
              };
              this.props.saleSection.tabs.push(e),
                this.props.editModel.SetDirty(i.c.jsondata_sales);
            }),
            (t.prototype.OnDeleteTabPrompt = function (e) {
              var t = this,
                a = this.props.saleSection.tabs[e];
              Object(h.d)(
                s.createElement(b.d, {
                  strTitle: Object(y.f)("#Sale_Tabs_DeletePrompt_Title"),
                  strDescription: Object(y.f)(
                    "#Sale_Tabs_DeletePrompt_Body",
                    M(a, this.props.editModel.GetCurEditLanguage())
                  ),
                  onOK: function () {
                    return t.OnDeleteTabConfirmed(a);
                  },
                }),
                window
              );
            }),
            (t.prototype.OnSelectTab = function (e) {
              this.props.onTabSelected(e);
            }),
            (t.prototype.OnDeleteTabConfirmed = function (e) {
              (this.props.saleSection.tabs = this.props.saleSection.tabs.filter(
                function (t) {
                  return t != e;
                }
              )),
                this.props.editModel.SetDirty(i.c.jsondata_sales),
                this.props.selectedTab === e && this.OnSelectTab(null);
            }),
            (t.prototype.RenderTab = function (e) {
              var t = e === this.props.selectedTab;
              return s.createElement(k, {
                section: this.props.saleSection,
                selected: t,
                tab: e,
                onSelected: this.OnSelectTab,
                language: this.props.editModel.GetCurEditLanguage(),
                overrideStyle: t
                  ? { color: "#000000", background: "#d3d3d3" }
                  : { color: "#FFFFFF", background: "" },
              });
            }),
            (t.prototype.RenderTabs = function () {
              var e = this;
              return this.props.saleSection.tabs
                ? s.createElement(v.a, {
                    items: this.props.saleSection.tabs,
                    onDelete: this.OnDeleteTabPrompt,
                    onReorder: function () {
                      return e.props.editModel.SetDirty(i.c.jsondata_sales);
                    },
                    render: this.RenderTab,
                  })
                : null;
            }),
            (t.prototype.render = function () {
              var e = this;
              return s.createElement(
                "div",
                null,
                s.createElement(
                  "div",
                  { className: _.EventEditorTextTitle },
                  Object(y.f)("#Sale_Tabs_Colors"),
                  s.createElement(w.b, {
                    tooltip: Object(y.f)("#Sale_Tabs_Colors_ttip"),
                  })
                ),
                s.createElement(R, {
                  section: this.props.saleSection,
                  editModel: this.props.editModel,
                }),
                s.createElement(
                  "div",
                  { className: G.CurrentTabsCtn },
                  s.createElement(
                    "div",
                    { className: _.EventEditorTextTitle },
                    Object(y.f)("#Sale_Tabs_Current"),
                    s.createElement(w.b, {
                      tooltip: Object(y.f)("#Sale_Tabs_Current_ttip"),
                    })
                  ),
                  s.createElement(
                    "div",
                    { className: G.AddButton },
                    s.createElement(
                      S.a,
                      { toolTipContent: Object(y.f)("#Sale_Tabs_AddTab_ttip") },
                      s.createElement(
                        p.q,
                        {
                          onClick: function () {
                            return e.OnAddTab();
                          },
                        },
                        Object(y.f)("#Sale_Tabs_AddTab")
                      )
                    )
                  ),
                  this.RenderTabs()
                )
              );
            }),
            Object(n.c)([j.a], t.prototype, "OnAddTab", null),
            Object(n.c)([j.a], t.prototype, "OnDeleteTabPrompt", null),
            Object(n.c)([j.a], t.prototype, "OnSelectTab", null),
            Object(n.c)([j.a], t.prototype, "RenderTab", null),
            (t = Object(n.c)([l.a], t))
          );
        })(s.Component),
        N = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { bShowItemListing: !1 }), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidUpdate = function (e, t) {
              this.props.tab !== e.tab &&
                this.setState({ bShowItemListing: !1 });
            }),
            (t.prototype.OnTitleChange = function (e) {
              (this.props.tab.default_label = e),
                this.props.editModel.SetDirty(i.c.jsondata_sales);
            }),
            (t.prototype.OnSetCustomTitle = function (e) {
              var t = this.props,
                a = t.tab,
                n = t.editLanguage;
              t.editModel.SetSaleSectionTabName(n, a, e);
            }),
            (t.prototype.OnClearCustomTitle = function () {
              var e = this.props,
                t = e.tab,
                a = e.editLanguage;
              e.editModel.SetSaleSectionTabName(a, t, "");
            }),
            (t.prototype.OnShowTabItems = function () {
              this.setState({ bShowItemListing: !0 });
            }),
            (t.prototype.RenderHideItemFilter = function () {
              return s.createElement(
                "div",
                { className: D.TabHideItemFilterCtn },
                Object(y.f)("#Sale_Tabs_ShowItems"),
                s.createElement(
                  p.d,
                  { onClick: this.OnShowTabItems },
                  Object(y.f)("#Sale_Tabs_ShowItems_Button")
                )
              );
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.tab,
                a = e.editLanguage,
                n = e.editModel,
                i =
                  this.state.bShowItemListing ||
                  (t.capsules && t.capsules.length > 0);
              return s.createElement(
                "div",
                null,
                s.createElement(
                  "div",
                  { className: _.EventEditorTextTitle },
                  Object(y.f)("#Sale_Tabs_Title"),
                  s.createElement(w.b, {
                    tooltip: Object(y.f)("#Sale_Tabs_Title_ttip"),
                  })
                ),
                s.createElement(r.a, {
                  key: "TabName" + t.unique_id,
                  default_label: t.default_label,
                  localized_label: t.localized_label,
                  editLanguage: a,
                  onClearCustomTitle: this.OnClearCustomTitle,
                  onSetCustomTitle: this.OnSetCustomTitle,
                  onSetDefaultLabel: this.OnTitleChange,
                }),
                !i && this.RenderHideItemFilter(),
                i &&
                  s.createElement(o.a, {
                    key: "TabItems" + t.unique_id,
                    capsuleContainer: t,
                    editModel: this.props.editModel,
                    uniqueKey: "Tab" + t.unique_id,
                    disableDaySelection: !1,
                    titleLocToken: "#Sale_Tabs_ItemTitle",
                    ttipLocToken: "#Sale_Tabs_ItemTitle_ttip",
                  }),
                s.createElement(F, { tab: t, editModel: n })
              );
            }),
            Object(n.c)([j.a], t.prototype, "OnTitleChange", null),
            Object(n.c)([j.a], t.prototype, "OnSetCustomTitle", null),
            Object(n.c)([j.a], t.prototype, "OnClearCustomTitle", null),
            Object(n.c)([j.a], t.prototype, "OnShowTabItems", null),
            (t = Object(n.c)([l.a], t))
          );
        })(s.Component);
      function B(e, t, a, n) {
        Object(c.a)(
          s.createElement(m.a, {
            onChange: function (e) {
              (t[n] = e), a.SetDirty(i.c.jsondata_sales);
            },
            color: t[n],
          }),
          e,
          { bDisablePopTop: !0 }
        );
      }
      var R = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.section,
                a = e.editModel,
                n = Object(E.a)(!1, t),
                i = Object(E.a)(!0, t);
              return s.createElement(
                "div",
                { style: { display: "flex" } },
                s.createElement(
                  "div",
                  { className: _.HalfColumn },
                  s.createElement(
                    p.d,
                    {
                      onClick: function (e) {
                        return B(e, t, a, "tab_inactive_label_color");
                      },
                      className: _.EventEditorTextTitle,
                      style: n,
                    },
                    Object(y.f)("#Sale_Section_TabInactive_Label_Color")
                  ),
                  s.createElement(
                    p.d,
                    {
                      onClick: function (e) {
                        return B(
                          e,
                          t,
                          a,
                          "tab_inactive_background_gradient_top"
                        );
                      },
                      className: _.EventEditorTextTitle,
                      style: n,
                    },
                    Object(y.f)("#Sale_Section_TabInactive_Background_Top")
                  ),
                  s.createElement(
                    p.d,
                    {
                      onClick: function (e) {
                        return B(
                          e,
                          t,
                          a,
                          "tab_inactive_background_gradient_bottom"
                        );
                      },
                      className: _.EventEditorTextTitle,
                      style: n,
                    },
                    Object(y.f)("#Sale_Section_TabInactive_Background_Bottom")
                  )
                ),
                s.createElement(
                  "div",
                  { className: _.HalfColumn },
                  s.createElement(
                    p.d,
                    {
                      onClick: function (e) {
                        return B(e, t, a, "tab_active_label_color");
                      },
                      className: _.EventEditorTextTitle,
                      style: i,
                    },
                    Object(y.f)("#Sale_Section_TabActive_Label_Color")
                  ),
                  s.createElement(
                    p.d,
                    {
                      onClick: function (e) {
                        return B(e, t, a, "tab_active_background_gradient_top");
                      },
                      className: _.EventEditorTextTitle,
                      style: i,
                    },
                    Object(y.f)("#Sale_Section_TabActive_Background_Top")
                  ),
                  s.createElement(
                    p.d,
                    {
                      onClick: function (e) {
                        return B(
                          e,
                          t,
                          a,
                          "tab_active_background_gradient_bottom"
                        );
                      },
                      className: _.EventEditorTextTitle,
                      style: i,
                    },
                    Object(y.f)("#Sale_Section_TabActive_Background_Bottom")
                  )
                )
              );
            }),
            (t = Object(n.c)([l.a], t))
          );
        })(s.Component),
        F = Object(l.a)(function (e) {
          var t = e.tab,
            a = e.editModel,
            r = s.useState(new u.b(a.GetClanSteamID()))[0],
            o = s.useState(!1),
            l = o[0],
            c = o[1];
          return s.createElement(
            "div",
            null,
            s.createElement(
              "div",
              null,
              Object(y.f)("#Sale_Tabs_Background_title")
            ),
            s.createElement(
              "div",
              null,
              Object(y.f)("#Sale_Tabs_Background_desc")
            ),
            s.createElement(I.b, {
              bAllowPreviousClanImages: !0,
              onDropFiles: function (e) {
                return Object(n.b)(void 0, void 0, void 0, function () {
                  var o, l, d, p, m, _, g;
                  return Object(n.e)(this, function (n) {
                    switch (n.label) {
                      case 0:
                        if (!(e && e.length > 0)) return [3, 9];
                        c(!0), (o = ["tab_bar_background"]), (n.label = 1);
                      case 1:
                        return (
                          n.trys.push([1, 6, 7, 8]), [4, r.AddImage(e[0], 0, o)]
                        );
                      case 2:
                        return n.sent()
                          ? [3, 3]
                          : (console.error(
                              "TabSaleBackgroundImageEditor.OnDropFiles: failed file=" +
                                e[0].name
                            ),
                            Object(h.d)(
                              s.createElement(b.f, {
                                strDescription: Object(y.f)(
                                  "#ImagePicker_Error",
                                  e[0].name
                                ),
                              }),
                              window
                            ),
                            [3, 5]);
                      case 3:
                        return [4, r.UploadAllFiles(o)];
                      case 4:
                        (l = n.sent()),
                          (d = l[Object.keys(l)[0]]),
                          (p = d ? u.a.GetExtensionString(d) : null),
                          (m = d ? d.image_hash + p : null),
                          (t.tab_bar_bg_image = m),
                          a.SetDirty(i.c.jsondata_sales),
                          (n.label = 5);
                      case 5:
                        return [3, 8];
                      case 6:
                        return (
                          (_ = n.sent()),
                          (g = Object(C.a)(_)),
                          console.error(
                            "TabSaleBackgroundImageEditor: failed add " +
                              g.strErrorMsg,
                            g
                          ),
                          [3, 8]
                        );
                      case 7:
                        return c(!1), [7];
                      case 8:
                        return [3, 10];
                      case 9:
                        console.log(
                          "TabSaleBackgroundImageEditor: error fnOnDropFiles file missing",
                          e
                        ),
                          (n.label = 10);
                      case 10:
                        return [2];
                    }
                  });
                });
              },
              OnClanImageSelected: function (e, r) {
                return Object(n.b)(void 0, void 0, void 0, function () {
                  var r, o;
                  return Object(n.e)(this, function (n) {
                    return (
                      (r = e ? u.a.GetExtensionString(e) : null),
                      (o = e ? e.image_hash + r : null),
                      (t.tab_bar_bg_image = o),
                      a.SetDirty(i.c.jsondata_sales),
                      [2]
                    );
                  });
                });
              },
              clanSteamID: a.GetClanSteamID(),
              fnSetImageURL: a.SetImageURL,
              rgRealmList: a.GetIncludedRealmList(),
            }),
            l &&
              s.createElement(f.a, {
                size: "medium",
                position: "center",
                string: Object(y.f)("#Uploading"),
              }),
            Boolean(t.tab_bar_bg_image) &&
              s.createElement("img", {
                src: u.a.GenerateArtworkURLFromHashAndExtensions(
                  a.GetClanSteamID(),
                  t.tab_bar_bg_image
                ),
              })
          );
        });
    },
    "4lry": function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return B;
      }),
        a.d(t, "b", function () {
          return V;
        });
      var n = a("mrSG"),
        i = a("fcuX"),
        r = a("KP/B"),
        o = a("putg"),
        l = a("TyAF"),
        s = a("q1tI"),
        c = a("mgoM"),
        d = a("TtDX"),
        u = a("3+zv"),
        p = a("Mgs7"),
        m = a("IjL/"),
        _ = a("Jqb/"),
        g = a("ka0M"),
        E = a("0rc7"),
        b = a("0OaU"),
        h = a("exH9"),
        v = a("TLQK"),
        f = a("h5LU"),
        S = a("Vitc"),
        O = a("as1E"),
        y = a("DisI"),
        C = a("oqmg"),
        j = a("IMce"),
        T = a("UvY0"),
        I = a("vBFs"),
        D = a("lkRc"),
        w = a("gyoR"),
        G = a("5eAM"),
        A = a("dpTt"),
        M = Object(l.a)(function (e) {
          var t = e.language,
            a = e.facetValue,
            n = e.editModel,
            i = e.capsuleContainer,
            r = e.fnMarkEditModelDirty,
            o = function (e) {
              if ("name" === e.target.name) {
                var n = a.name,
                  i = v.a.Set(n || [], t, e.target.value);
                a.name = i;
              } else if ("subtitle" === e.target.name) {
                var o = a.subtitle,
                  l = v.a.Set(o || [], t, e.target.value);
                a.subtitle = l;
              }
              r();
            },
            l = function (e) {
              (a.filter = e), r();
            },
            d = [
              {
                label: Object(v.f)("#Sale_TagFilter_Filter"),
                data: u.l.k_ESaleTagFilter,
              },
              { label: Object(v.f)("#LanguageTitle"), data: u.l.k_ELanguage },
              {
                label: Object(v.f)("#Browse_Sale_Mature_Themes"),
                data: u.l.k_EContentDescriptor,
              },
              {
                label: Object(v.f)("#Sale_Preferences"),
                data: u.l.k_EUserPreference,
              },
              {
                label: Object(v.f)("#Sale_BrowserSortOption_Price"),
                data: u.l.k_EPrice,
              },
              {
                label: Object(v.f)("#AppTypeLabelTitle"),
                data: u.l.k_EAppType,
              },
            ],
            m = [
              { label: Object(v.f)("#Browse_Sale_Mature_Feature"), data: 5 },
              { label: Object(v.f)("#Browse_sale_Violence_Feature"), data: 2 },
              { label: Object(v.f)("#Browse_Sale_Sexual_Feature"), data: 1 },
              { label: Object(v.f)("#Browse_Sale_Adult_Feature"), data: 3 },
            ],
            _ = [
              {
                label: Object(v.f)("#UserPreference_HideOwnedItems"),
                data: u.m.k_EHideOwnedItems,
              },
              {
                label: Object(v.f)("#UserPreference_HideWishlistedItems"),
                data: u.m.k_EHideWishlistedItems,
              },
              {
                label: Object(v.f)("#UserPreference_HideIgnoredItems"),
                data: u.m.k_EHideIgnoredItems,
              },
            ],
            E = [
              { label: Object(v.f)("#AppTypeLabel_game"), data: "game" },
              {
                label: Object(v.f)("#AppTypeLabel_software"),
                data: "software",
              },
              { label: Object(v.f)("#AppTypeLabel_dlc"), data: "dlc" },
              { label: Object(v.f)("#AppTypeLabel_demo"), data: "demo" },
              { label: Object(v.f)("#AppTypeLabel_music"), data: "music" },
              { label: Object(v.f)("#AppTypeLabel_video"), data: "video" },
              {
                label: Object(v.f)("#AppTypeLabel_hardware"),
                data: "hardware",
              },
            ];
          return s.createElement(
            "div",
            {
              className: Object(h.a)(
                O.FilterDisplayCtn,
                S.FacetValueFilterDisplayCtn
              ),
            },
            s.createElement(
              "div",
              null,
              s.createElement(p.m, null, Object(v.f)("#EventEditor_TypeTitle")),
              s.createElement(p.h, {
                rgOptions: d,
                selectedOption: a.type || u.l.k_ESaleTagFilter,
                onChange: function (e) {
                  (a.type = e.data),
                    a.type === u.l.k_ELanguage &&
                      null == a.language &&
                      (a.language = Object(c.d)(D.c.LANGUAGE)),
                    a.type === u.l.k_EContentDescriptor &&
                      null == a.contentDescriptor &&
                      (a.contentDescriptor = 5),
                    a.type === u.l.k_EUserPreference &&
                      null == a.userPreference &&
                      (a.userPreference = u.m.k_EHideOwnedItems),
                    a.type === u.l.k_EAppType &&
                      null == a.appType &&
                      (a.appType = "game"),
                    r();
                },
              })
            ),
            s.createElement(
              "div",
              { className: S.FacetValueCtn },
              s.createElement(p.l, {
                name: "name",
                label: Object(v.f)("#FacetedBrowseEditor_Name"),
                tooltip: Object(v.f)(
                  "#FacetedBrowseEditor_Tooltip_FacetValue_Name"
                ),
                value: v.a.Get(a.name, t),
                onChange: o,
              }),
              s.createElement(p.l, {
                name: "subtitle",
                label: Object(v.f)("#FacetedBrowseEditor_Subtitle"),
                tooltip: Object(v.f)(
                  "#FacetedBrowseEditor_Tooltip_FacetValue_Subtitle"
                ),
                value: v.a.Get(a.subtitle, t),
                onChange: o,
              }),
              (a.type === u.l.k_ESaleTagFilter || void 0 === a.type) &&
                s.createElement(
                  "div",
                  null,
                  s.createElement(
                    p.m,
                    null,
                    Object(v.f)("#Sale_TagFilter_Filter")
                  ),
                  s.createElement(
                    "div",
                    null,
                    s.createElement(
                      p.d,
                      {
                        onClick: function () {
                          Object(g.c)(
                            s.createElement(C.a, {
                              editModel: n,
                              filter: a.filter,
                              title: Object(v.f)("#Sale_TagFilter_EditFilter"),
                              onApplyFilter: l,
                              ignoreStartingReferences: i,
                            }),
                            window
                          );
                        },
                      },
                      Object(v.f)("#Sale_TagFilter_EditFilter")
                    )
                  )
                ),
              a.type === u.l.k_ELanguage &&
                s.createElement(
                  "div",
                  null,
                  s.createElement(p.m, null, Object(v.f)("#LanguageTitle")),
                  s.createElement(
                    "div",
                    null,
                    s.createElement(I.a, {
                      selectedLang: a.language || Object(c.d)(D.c.LANGUAGE),
                      fnOnLanguageChanged: function (e) {
                        (a.language = e), r();
                      },
                    })
                  )
                ),
              a.type === u.l.k_EContentDescriptor &&
                s.createElement(
                  "div",
                  null,
                  s.createElement(p.m, null, Object(v.f)("#ContentDescriptor")),
                  s.createElement(
                    "div",
                    null,
                    s.createElement(p.h, {
                      rgOptions: m,
                      selectedOption: a.contentDescriptor || 5,
                      onChange: function (e) {
                        (a.contentDescriptor = e.data), r();
                      },
                    })
                  )
                ),
              a.type === u.l.k_EUserPreference &&
                s.createElement(
                  "div",
                  null,
                  s.createElement(p.m, null, Object(v.f)("#Sale_Preferences")),
                  s.createElement(
                    "div",
                    null,
                    s.createElement(p.h, {
                      rgOptions: _,
                      selectedOption: a.userPreference || u.m.k_EHideOwnedItems,
                      onChange: function (e) {
                        (a.userPreference = e.data), r();
                      },
                    })
                  )
                ),
              a.type === u.l.k_EAppType &&
                s.createElement(
                  "div",
                  null,
                  s.createElement(p.m, null, Object(v.f)("#AppTypeLabelTitle")),
                  s.createElement(
                    "div",
                    null,
                    s.createElement(p.h, {
                      rgOptions: E,
                      selectedOption: a.appType || "game",
                      onChange: function (e) {
                        (a.appType = e.data), r();
                      },
                    })
                  )
                )
            ),
            a.type !== u.l.k_EPrice &&
              s.createElement(
                "div",
                null,
                s.createElement(p.e, {
                  label: Object(v.f)("#FacetedBrowseEditor_EnabledByDefault"),
                  checked: a.bEnabledByDefault,
                  onChange: function (e) {
                    (a.bEnabledByDefault = e), r();
                  },
                })
              )
          );
        }),
        k = Object(l.a)(function (e) {
          var t = e.language,
            a = e.facet,
            n = e.facetValueArray,
            i = e.editModel,
            r = e.capsuleContainer,
            o = e.fnMarkEditModelDirty,
            l = e.fnNotifyExpanded,
            c = s.useState(!1),
            d = c[0],
            u = c[1];
          return s.createElement(
            s.Fragment,
            null,
            s.createElement(
              "div",
              { className: O.SaleSectionTitleHeader },
              s.createElement(
                "div",
                { className: O.EventEditorTextTitle },
                Object(v.f)(
                  "#FacetedBrowseEditor_NumFacetValues",
                  n.length.toString()
                )
              ),
              s.createElement(y.a, {
                bIsMinimized: !d,
                fnToggleMinimize: function () {
                  l(!d), u(!d);
                },
              })
            ),
            d &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(E.a, {
                  items: n,
                  onDelete: function (e, t) {
                    n.splice(e, 1), o();
                  },
                  onReorder: function () {
                    o();
                  },
                  render: function (e) {
                    return s.createElement(M, {
                      language: t,
                      facetValue: e,
                      editModel: i,
                      capsuleContainer: r,
                      fnMarkEditModelDirty: o,
                    });
                  },
                }),
                s.createElement(
                  p.d,
                  {
                    onClick: function (e) {
                      n.push({
                        unique_id: i.GenerateFacetValueUniqueID(a),
                        name: [],
                        subtitle: [],
                        filter: { clauses: [] },
                        rgStoreTagFilter: null,
                        matchingCapsules: null,
                      }),
                        o();
                    },
                  },
                  Object(v.f)("#FacetedBrowseEditor_AddFacetValue")
                )
              )
          );
        }),
        L = Object(l.a)(function (e) {
          var t = e.language,
            a = e.facet,
            n = e.editModel,
            i = e.capsuleContainer,
            r = e.fnMarkEditModelDirty,
            o = e.fnNotifyExpanded;
          return s.createElement(
            "div",
            {
              className: Object(h.a)(
                O.FilterDisplayCtn,
                S.FacetFilterDisplayCtn
              ),
            },
            s.createElement(p.l, {
              name: "name",
              label: Object(v.f)("#FacetedBrowseEditor_Name"),
              tooltip: Object(v.f)("#FacetedBrowseEditor_Tooltip_Facet_Name"),
              value: v.a.Get(a.name, t),
              onChange: function (e) {
                if ("name" === e.target.name) {
                  var n = a.name,
                    i = v.a.Set(n || [], t, e.target.value);
                  a.name = i;
                }
                r();
              },
            }),
            s.createElement(k, {
              language: t,
              facet: a,
              facetValueArray: a.facetValues,
              editModel: n,
              capsuleContainer: i,
              fnMarkEditModelDirty: r,
              fnNotifyExpanded: o,
            })
          );
        }),
        N = Object(l.a)(function (e) {
          var t = e.language,
            a = e.section,
            n = e.facetArray,
            i = e.editModel,
            r = e.capsuleContainer,
            o = e.fnMarkEditModelDirty,
            l = s.useState(!1),
            c = l[0],
            d = l[1],
            u = s.useState(!1),
            m = u[0],
            _ = u[1],
            g = function (e) {
              _(e);
            };
          return s.createElement(
            s.Fragment,
            null,
            s.createElement(
              "div",
              { className: O.SaleSectionTitleHeader },
              s.createElement(
                "div",
                { className: O.EventEditorTextTitle },
                Object(v.f)(
                  "#FacetedBrowseEditor_NumFacets",
                  n.length.toString()
                )
              ),
              s.createElement(y.a, {
                bIsMinimized: !c,
                fnToggleMinimize: function () {
                  d(!c);
                },
              })
            ),
            c &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(E.a, {
                  items: n,
                  onDelete: function (e, t) {
                    n.splice(e, 1), o();
                  },
                  onReorder: function () {
                    o();
                  },
                  render: function (e) {
                    return s.createElement(L, {
                      language: t,
                      facet: e,
                      editModel: i,
                      capsuleContainer: r,
                      fnMarkEditModelDirty: o,
                      fnNotifyExpanded: g,
                    });
                  },
                  bDisabled: m,
                }),
                s.createElement(
                  p.d,
                  {
                    onClick: function (e) {
                      n.push({
                        unique_id: i.GenerateFacetUniqueID(a),
                        name: [],
                        facetValues: [],
                      }),
                        o();
                    },
                  },
                  Object(v.f)("#FacetedBrowseEditor_AddFacet")
                )
              )
          );
        }),
        B = Object(l.a)(function (e) {
          var t = e.section,
            a = e.capsuleContainer,
            o = e.editModel,
            l = e.bAllowPruneFacets,
            c = void 0 !== l && l,
            E = Object(s.useState)(!1),
            h = E[0],
            S = E[1],
            C = function () {
              o.SetDirty(i.c.jsondata_sales);
            },
            I = [
              {
                label: Object(v.f)("#FacetedBrowseEditor_SortFacetValues_Name"),
                tooltip: Object(v.f)(
                  "#FacetedBrowseEditor_Tooltip_SortFacetValues_ByName"
                ),
                data: u.k.k_ESortFacetsByName,
              },
              {
                label: Object(v.f)(
                  "#FacetedBrowseEditor_SortFacetValues_MatchCount"
                ),
                tooltip: Object(v.f)(
                  "#FacetedBrowseEditor_Tooltip_SortFacetValues_ByCount"
                ),
                data: u.k.k_ESortFacetsByMatchCount,
              },
              {
                label: Object(v.f)(
                  "#FacetedBrowseEditor_SortFacetValues_Manual"
                ),
                tooltip: Object(v.f)(
                  "#FacetedBrowseEditor_Tooltip_SortFacetValues_Manual"
                ),
                data: u.k.k_ESortFacetsManually,
              },
            ],
            D = function () {
              return Object(n.b)(void 0, void 0, void 0, function () {
                var e, t, l, s;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return 0 ===
                        (e = o.GetEventModel().GetTaggedItems()).length
                        ? [2]
                        : [4, R(a.facets, e)];
                    case 1:
                      for (n.sent(), t = 0, l = a.facets; t < l.length; t++)
                        (s = l[t]).facetValues = s.facetValues.filter(function (
                          t
                        ) {
                          return t.type === u.l.k_ELanguage
                            ? e.some(function (e) {
                                return G.a
                                  .GetAppLinkInfo(e.capsule.id)
                                  .localized_langs.includes(t.language);
                              })
                            : t.type === u.l.k_EContentDescriptor
                            ? e.some(function (e) {
                                var a = G.a.GetAppLinkInfo(e.capsule.id);
                                return (
                                  Boolean(a) &&
                                  a.content_descriptors.includes(
                                    t.contentDescriptor
                                  )
                                );
                              })
                            : t.type === u.l.k_EAppType
                            ? e.some(function (e) {
                                var a = G.a.GetAppLinkInfo(e.capsule.id);
                                return Boolean(a) && a.type === t.appType;
                              })
                            : t.type === u.l.k_EUserPreference ||
                              t.type === u.l.k_EPrice ||
                              e.some(function (e) {
                                return Object(r.h)(e.tags, t.filter);
                              });
                        });
                      return o.SetDirty(i.c.jsondata_sales), [2];
                  }
                });
              });
            };
          return s.createElement(
            m.a,
            null,
            s.createElement(
              T.b,
              { clanSteamID: o.GetClanSteamID(), requireAdmin: !0 },
              s.createElement(p.p, {
                label: Object(v.f)("#FacetedBrowseEditor_FacetsCheckbox"),
                description: Object(v.f)(
                  "#FacetedBrowseEditor_FacetsCheckboxHelp"
                ),
                checked: a.enable_faceted_browsing,
                onChange: function (e) {
                  (a.enable_faceted_browsing = e),
                    e && !a.facets && (a.facets = []),
                    o.SetDirty(i.c.jsondata_sales);
                },
              }),
              a.enable_faceted_browsing &&
                s.createElement(
                  "div",
                  { className: O.FilterDisplayCtn },
                  s.createElement(
                    "div",
                    { className: j.FilterDisplayCtn },
                    s.createElement(
                      "div",
                      { className: j.FilterTitle },
                      Object(v.f)("#FacetedBrowseEditor_FacetsSection")
                    )
                  ),
                  s.createElement(
                    "div",
                    { className: j.FilterDisplayCtn },
                    s.createElement(
                      "div",
                      { className: j.FilterActionsCtn },
                      s.createElement("span", null),
                      s.createElement(
                        p.d,
                        {
                          onClick: function (e) {
                            Object(d.a)(
                              s.createElement(f.a, {
                                onChange: function (e) {
                                  (a.highlighted_facet_color = e), C();
                                },
                                color: a.highlighted_facet_color,
                              }),
                              e,
                              { bDisablePopTop: !0 }
                            );
                          },
                          style: { color: a.highlighted_facet_color },
                        },
                        Object(v.f)(
                          "#FacetedBrowseEditor_HighlightedFacetColor"
                        )
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: j.FilterActionsCtn },
                      s.createElement("span", null),
                      s.createElement(
                        p.d,
                        {
                          onClick: function (e) {
                            Object(d.a)(
                              s.createElement(f.a, {
                                onChange: function (e) {
                                  (a.heading_color = e), C();
                                },
                                color: a.heading_color,
                              }),
                              e,
                              { bDisablePopTop: !0 }
                            );
                          },
                          style: { color: a.heading_color },
                        },
                        Object(v.f)("#FacetedBrowseEditor_HeadingColor")
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: j.FilterActionsCtn },
                      s.createElement(
                        "span",
                        null,
                        Object(v.f)("#FacetedBrowseEditor_AutoGenerate"),
                        s.createElement(y.b, {
                          tooltip: Object(v.f)(
                            "#FacetedBrowseEditor_Tooltip_AutoGenerate"
                          ),
                        })
                      ),
                      s.createElement(
                        p.d,
                        {
                          onClick: function () {
                            var e,
                              t = function () {
                                Object(g.c)(
                                  s.createElement(x, {
                                    onOK: function (e) {
                                      return (function (e) {
                                        return Object(n.b)(
                                          void 0,
                                          void 0,
                                          void 0,
                                          function () {
                                            var t;
                                            return Object(n.e)(
                                              this,
                                              function (n) {
                                                switch (n.label) {
                                                  case 0:
                                                    S(!0), (n.label = 1);
                                                  case 1:
                                                    return (
                                                      n.trys.push([1, , 5, 6]),
                                                      (t = a),
                                                      [4, F(e)]
                                                    );
                                                  case 2:
                                                    return (
                                                      (t.facets = n.sent()),
                                                      c ? [4, D()] : [3, 4]
                                                    );
                                                  case 3:
                                                    n.sent(), (n.label = 4);
                                                  case 4:
                                                    return (
                                                      o.SetDirty(
                                                        i.c.jsondata_sales
                                                      ),
                                                      [3, 6]
                                                    );
                                                  case 5:
                                                    return S(!1), [7];
                                                  case 6:
                                                    return [2];
                                                }
                                              }
                                            );
                                          }
                                        );
                                      })(e);
                                    },
                                  }),
                                  window
                                );
                              };
                            (null === (e = a.facets) || void 0 === e
                              ? void 0
                              : e.length) > 0
                              ? Object(g.c)(
                                  s.createElement(_.d, {
                                    strTitle: Object(v.f)(
                                      "#FacetedBrowseEditor_AutoGenerateDialogTitle"
                                    ),
                                    strDescription: Object(v.f)(
                                      "#FacetedBrowseEditor_AutoGenerateDialogText"
                                    ),
                                    onOK: t,
                                  }),
                                  window
                                )
                              : t();
                          },
                        },
                        Object(v.f)("#FacetedBrowseEditor_AutoGenerateButton")
                      )
                    ),
                    c &&
                      s.createElement(
                        "div",
                        { className: j.FilterActionsCtn },
                        s.createElement(
                          "span",
                          null,
                          Object(v.f)("#FacetedBrowseEditor_PruneUnused"),
                          s.createElement(y.b, {
                            tooltip: Object(v.f)(
                              "#FacetedBrowseEditor_Tooltip_PruneUnused"
                            ),
                          })
                        ),
                        s.createElement(
                          p.d,
                          { onClick: D },
                          Object(v.f)("#FacetedBrowseEditor_PruneUnusedButton")
                        )
                      ),
                    s.createElement(
                      "div",
                      { className: j.FilterActionsCtn },
                      s.createElement(
                        "span",
                        null,
                        Object(v.f)("#FacetedBrowseEditor_MinMatchesText"),
                        s.createElement(y.b, {
                          tooltip: Object(v.f)(
                            "#FacetedBrowseEditor_Tooltip_MinMatches"
                          ),
                        })
                      ),
                      s.createElement(
                        "div",
                        { className: j.FilterSettingRightCol },
                        s.createElement(p.l, {
                          mustBeNumeric: !0,
                          rangeMin: 1,
                          value: a.min_capsule_matches_for_facet_values,
                          onChange: function (e) {
                            (a.min_capsule_matches_for_facet_values = Number(
                              e.target.value
                            )),
                              C();
                          },
                        })
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: j.FilterActionsCtn },
                      s.createElement(
                        "span",
                        null,
                        Object(v.f)("#FacetedBrowseEditor_MaxFacetValuesText"),
                        s.createElement(y.b, {
                          tooltip: Object(v.f)(
                            "#FacetedBrowseEditor_Tooltip_MaxFacetValues"
                          ),
                        })
                      ),
                      s.createElement(
                        "div",
                        { className: j.FilterSettingRightCol },
                        s.createElement(p.l, {
                          mustBeNumeric: !0,
                          rangeMin: 1,
                          value: a.max_facet_values_for_facet,
                          onChange: function (e) {
                            (a.max_facet_values_for_facet = Number(
                              e.target.value
                            )),
                              C();
                          },
                        })
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: j.FilterActionsCtn },
                      s.createElement(
                        "span",
                        null,
                        Object(v.f)("#FacetedBrowseEditor_SortFacetValuesText"),
                        s.createElement(y.b, {
                          tooltip: Object(v.f)(
                            "#FacetedBrowseEditor_Tooltip_SortFacetValues"
                          ),
                        })
                      ),
                      s.createElement(
                        "div",
                        { className: j.FilterSettingRightCol },
                        s.createElement(p.h, {
                          rgOptions: I,
                          selectedOption: a.facet_sort_order,
                          onChange: function (e) {
                            (a.facet_sort_order = e.data), C();
                          },
                        })
                      )
                    ),
                    s.createElement(
                      T.b,
                      { clanSteamID: o.GetClanSteamID(), requireAdmin: !0 },
                      U(t) &&
                        s.createElement(
                          "div",
                          { className: j.FilterActionsCtn },
                          s.createElement(
                            "span",
                            null,
                            Object(v.f)(
                              "#FacetedBrowseEditor_GenerateDebugInfo"
                            )
                          ),
                          s.createElement(
                            "div",
                            { className: j.FilterSettingRightCol },
                            s.createElement(p.e, {
                              checked: a.facets_generate_debug_info,
                              onChange: function (e) {
                                (a.facets_generate_debug_info = e), C();
                              },
                            })
                          )
                        )
                    )
                  ),
                  h
                    ? s.createElement(b.a, null)
                    : s.createElement(N, {
                        language: o.GetCurEditLanguage(),
                        section: t,
                        facetArray: a.facets,
                        editModel: o,
                        capsuleContainer: a,
                        fnMarkEditModelDirty: C,
                      })
                )
            )
          );
        });
      function R(e, t) {
        return Object(n.b)(this, void 0, void 0, function () {
          var a, i;
          return Object(n.e)(this, function (n) {
            switch (n.label) {
              case 0:
                if (
                  !e.some(function (e) {
                    return e.facetValues.some(function (e) {
                      return (
                        e.type === u.l.k_ELanguage ||
                        e.type === u.l.k_EContentDescriptor ||
                        e.type === u.l.k_EAppType
                      );
                    });
                  })
                )
                  return [3, 4];
                (a = t.map(function (e) {
                  return e.capsule;
                })),
                  (n.label = 1);
              case 1:
                return n.trys.push([1, 3, , 4]), [4, Object(w.i)(a)];
              case 2:
                return n.sent(), [3, 4];
              case 3:
                return (i = n.sent()), console.error(i), [3, 4];
              case 4:
                return [2];
            }
          });
        });
      }
      function F(e) {
        return Object(n.b)(this, void 0, void 0, function () {
          var t;
          return Object(n.e)(this, function (a) {
            switch (a.label) {
              case 0:
                return [4, o.a.AutoGenerateFacetsAsync()];
              case 1:
                return (
                  (function (e) {
                    for (
                      var t = o.a.GetAtomicTagIDsForTagID(),
                        a = o.a.GetTagNameForTagID(),
                        n = 0,
                        i = e;
                      n < i.length;
                      n++
                    )
                      for (var r = 0, l = i[n].facetValues; r < l.length; r++) {
                        var s = l[r],
                          c = s.nAtomicStoreTagID,
                          d = t.has(c)
                            ? t.get(c).map(function (e) {
                                return a.get(e);
                              })
                            : [a.get(c)];
                        (d = d.map(function (e) {
                          return P(e);
                        })),
                          (s.type = u.l.k_ESaleTagFilter),
                          (s.filter = {
                            clauses: [{ type: "Must have", or_tags: d }],
                          });
                      }
                  })((t = a.sent())),
                  e.bForceFeatureTagForFullController &&
                    (function (e) {
                      e.forEach(function (e) {
                        e.facetValues.forEach(function (e) {
                          e.type === u.l.k_ESaleTagFilter &&
                            e.filter.clauses.forEach(function (e) {
                              e.or_tags.forEach(function (t, a) {
                                var n = Object(r.k)(t),
                                  i = Object(r.s)(t).toLocaleLowerCase();
                                n === r.j.Store &&
                                  "controller" === i &&
                                  (e.or_tags[a] = Object(r.f)(
                                    "Full Controller",
                                    r.j.Feature
                                  ));
                              });
                            });
                        });
                      });
                    })(t),
                  (function (e) {
                    for (
                      var t = { name: ["#AppTypeLabelTitle"], facetValues: [] },
                        a = 0,
                        n = [
                          "game",
                          "software",
                          "dlc",
                          "demo",
                          "music",
                          "video",
                          "hardware",
                        ];
                      a < n.length;
                      a++
                    ) {
                      var i = n[a];
                      t.facetValues.push({
                        name: ["#AppTypeLabel_" + i],
                        type: u.l.k_EAppType,
                        appType: i,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      });
                    }
                    e.push(t);
                  })(t),
                  (function (e) {
                    var t = { name: ["#Platform"], facetValues: [] };
                    t.facetValues.push({
                      name: ["#Platform_Windows"],
                      type: u.l.k_ESaleTagFilter,
                      filter: {
                        clauses: [
                          { type: "Must have", or_tags: ["[Feature] Windows"] },
                        ],
                      },
                      matchingCapsules: null,
                      rgStoreTagFilter: null,
                    }),
                      t.facetValues.push({
                        name: ["#Platform_Linux"],
                        type: u.l.k_ESaleTagFilter,
                        filter: {
                          clauses: [
                            { type: "Must have", or_tags: ["[Feature] Linux"] },
                          ],
                        },
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      t.facetValues.push({
                        name: ["#Platform_Mac"],
                        type: u.l.k_ESaleTagFilter,
                        filter: {
                          clauses: [
                            { type: "Must have", or_tags: ["[Feature] Mac"] },
                          ],
                        },
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      e.push(t);
                  })(t),
                  (function (e) {
                    for (
                      var t = { name: ["#LanguageTitle"], facetValues: [] },
                        a = 0;
                      a < 30;
                      ++a
                    )
                      t.facetValues.push({
                        name: ["#language_selection_" + Object(c.a)(a)],
                        type: u.l.k_ELanguage,
                        language: a,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      });
                    e.push(t);
                  })(t),
                  (function (e) {
                    var t = { name: ["#ContentDescriptor"], facetValues: [] };
                    t.facetValues.push({
                      name: ["#ContentDescriptor_GeneralMatureContent"],
                      type: u.l.k_EContentDescriptor,
                      contentDescriptor: 5,
                      filter: null,
                      matchingCapsules: null,
                      rgStoreTagFilter: null,
                    }),
                      t.facetValues.push({
                        name: ["#ContentDescriptor_FrequentViolenceOrGore"],
                        type: u.l.k_EContentDescriptor,
                        contentDescriptor: 2,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      t.facetValues.push({
                        name: ["#ContentDescriptor_NudityOrSexualContent"],
                        type: u.l.k_EContentDescriptor,
                        contentDescriptor: 1,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      t.facetValues.push({
                        name: ["#ContentDescriptor_AdultOnlySexualContent"],
                        type: u.l.k_EContentDescriptor,
                        contentDescriptor: 3,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      e.push(t);
                  })(t),
                  (function (e) {
                    var t = { name: ["#Sale_Preferences"], facetValues: [] };
                    t.facetValues.push({
                      name: ["#UserPreference_HideOwnedItems"],
                      type: u.l.k_EUserPreference,
                      userPreference: u.m.k_EHideOwnedItems,
                      filter: null,
                      matchingCapsules: null,
                      rgStoreTagFilter: null,
                    }),
                      t.facetValues.push({
                        name: ["#UserPreference_HideWishlistedItems"],
                        type: u.l.k_EUserPreference,
                        userPreference: u.m.k_EHideWishlistedItems,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      t.facetValues.push({
                        name: ["#UserPreference_HideIgnoredItems"],
                        type: u.l.k_EUserPreference,
                        userPreference: u.m.k_EHideIgnoredItems,
                        bEnabledByDefault: !0,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      e.push(t);
                  })(t),
                  [2, t]
                );
            }
          });
        });
      }
      function P(e) {
        return Object(r.f)(e, r.j.Store);
      }
      var x = Object(l.a)(function (e) {
        var t = e.closeModal,
          a = e.onOK,
          n = Object(s.useState)(!1),
          i = n[0],
          r = n[1];
        return s.createElement(
          _.e,
          { onCancel: t, closeModal: t },
          s.createElement(
            p.k,
            null,
            Object(v.f)("#FacetedBrowseEditor_AutoGenerate")
          ),
          s.createElement(
            p.b,
            null,
            s.createElement(p.e, {
              label: Object(v.f)(
                "#FacetedBrowseEditor_AutoGenerateOptions_FeatureTagForController"
              ),
              checked: i,
              onChange: function (e) {
                r(e);
              },
            })
          ),
          s.createElement(
            p.j,
            null,
            s.createElement(
              p.q,
              {
                onClick: function () {
                  a({ bForceFeatureTagForFullController: i }), t();
                },
              },
              Object(v.f)("#Button_OK")
            ),
            s.createElement(p.d, { onClick: t }, Object(v.f)("#Button_Cancel"))
          )
        );
      });
      function U(e) {
        return (
          !("items" !== e.section_type || !e.smart_section) ||
          "sale_item_browser" === e.section_type
        );
      }
      function H(e, t, a) {
        var i;
        return Object(n.b)(this, void 0, void 0, function () {
          var o, l, s, c, d, p, m, _, g, E, b, h, v, f, S, O, y, C, j, T;
          return Object(n.e)(this, function (n) {
            switch (n.label) {
              case 0:
                return [4, R(a, t)];
              case 1:
                for (
                  n.sent(),
                    o = t.map(function (e) {
                      return {
                        setTags: Object(r.m)(e.tags),
                        capsule: e.capsule,
                      };
                    }),
                    l = t.map(function (e) {
                      var t = G.a.GetAppLinkInfo(e.capsule.id);
                      return {
                        languages: Boolean(t)
                          ? new Set(t.localized_langs)
                          : null,
                        capsule: e.capsule,
                      };
                    }),
                    s = t.map(function (e) {
                      var t = G.a.GetAppLinkInfo(e.capsule.id);
                      return {
                        contentDescriptors: Boolean(t)
                          ? new Set(t.content_descriptors)
                          : null,
                        capsule: e.capsule,
                      };
                    }),
                    c = t.map(function (e) {
                      var t = G.a.GetAppLinkInfo(e.capsule.id);
                      return {
                        appType: Boolean(t) ? t.type : null,
                        capsule: e.capsule,
                      };
                    }),
                    d = 0,
                    p = a;
                  d < p.length;
                  d++
                )
                  for (m = p[d], _ = 0, g = m.facetValues; _ < g.length; _++)
                    if (
                      (((E = g[_]).matchingCapsules = []),
                      U(e) && !1 === e.facets_generate_debug_info)
                    )
                      E.matchingCapsules = void 0;
                    else if (E.type === u.l.k_ELanguage)
                      for (b = 0, h = l; b < h.length; b++)
                        (y = h[b]),
                          (null === (i = y.languages) || void 0 === i
                            ? void 0
                            : i.has(E.language)) &&
                            E.matchingCapsules.push(y.capsule);
                    else if (E.type === u.l.k_EContentDescriptor)
                      for (v = 0, f = s; v < f.length; v++)
                        (null === (y = f[v]).contentDescriptors ||
                          y.contentDescriptors.has(E.contentDescriptor)) &&
                          E.matchingCapsules.push(y.capsule);
                    else if (
                      E.type === u.l.k_EUserPreference ||
                      E.type === u.l.k_EPrice
                    )
                      E.matchingCapsules = [];
                    else if (E.type === u.l.k_EAppType)
                      for (S = 0, O = c; S < O.length; S++)
                        (y = O[S]).appType === E.appType &&
                          E.matchingCapsules.push(y.capsule);
                    else
                      for (C = 0, j = o; C < j.length; C++)
                        (T = j[C]),
                          Object(r.i)(T.setTags, E.filter) &&
                            E.matchingCapsules.push(T.capsule);
                return [2];
            }
          });
        });
      }
      function V(e) {
        return Object(n.b)(this, void 0, void 0, function () {
          var t, a, i, r, l, s, d, p, m;
          return Object(n.e)(this, function (n) {
            switch (n.label) {
              case 0:
                return e.BIsSourceEventSaleEnabled() &&
                  ((null == (t = e.GetEventModel().GetTaggedItems())
                    ? void 0
                    : t.length) ||
                    e.GetEventModel().jsondata.item_source_type !==
                      u.n.k_ETaggedItems)
                  ? [4, o.a.EnsureLoaded()]
                  : [2];
              case 1:
                return (
                  n.sent(),
                  (a = o.a.GetTagNameForTagID()),
                  [4, o.a.GetLanguages()]
                );
              case 2:
                return (i = n.sent()), [4, o.a.GetLocalizedTagNames()];
              case 3:
                (r = n.sent()),
                  (l = new Map()),
                  a.forEach(function (e, t) {
                    var a = e.toLocaleLowerCase();
                    l.has(a)
                      ? console.error("Duplicate tag name: " + e)
                      : l.set(a, t);
                  }),
                  (s = (function (e) {
                    var t,
                      a,
                      n =
                        null ===
                          (a =
                            null ===
                              (t = null == e ? void 0 : e.GetEventModel()) ||
                            void 0 === t
                              ? void 0
                              : t.jsondata) || void 0 === a
                          ? void 0
                          : a.auto_item_tags;
                    if (!n) return null;
                    for (var i = new Map(), r = 0, o = n; r < o.length; r++) {
                      var l = o[r];
                      i.set(l.tag_name.toLocaleLowerCase(), l.filter);
                    }
                    return i;
                  })(e)),
                  (d = 0),
                  (p = e.GetSaleSections()),
                  (n.label = 4);
              case 4:
                return d < p.length
                  ? ((m = p[d]).sale_tag_filter &&
                      (m.store_filter = z(m.sale_tag_filter, l, s)),
                    "tabs" === m.section_type &&
                      m.tabs &&
                      m.tabs.forEach(function (e) {
                        e.sale_tag_filter &&
                          (e.store_filter = z(e.sale_tag_filter, l, s));
                      }),
                    m.enable_faceted_browsing ? [4, H(m, t, m.facets)] : [3, 6])
                  : [3, 7];
              case 5:
                n.sent(),
                  (function (e, t, a) {
                    for (
                      var n = function (e) {
                          for (
                            var n = new Map(),
                              i = new Map(),
                              r = 0,
                              o = e.facetValues;
                            r < o.length;
                            r++
                          ) {
                            (c = o[r]).type === u.l.k_ELanguage
                              ? n.set(c, q(c.language))
                              : c.type === u.l.k_EContentDescriptor
                              ? n.set(c, Y(c.contentDescriptor))
                              : c.type === u.l.k_EUserPreference
                              ? n.set(c, null)
                              : c.type === u.l.k_EPrice
                              ? n.set(c, {
                                  type: u.o.k_EStoreFilterClauseTypePrice,
                                })
                              : c.type === u.l.k_EAppType
                              ? n.set(c, J(c.appType))
                              : (n.set(c, z(c.filter, t, a)),
                                i.set(c, W(c.filter, t)));
                          }
                          if (
                            e.facetValues.every(function (e) {
                              return (
                                e.type !== u.l.k_EUserPreference &&
                                null === n.get(e)
                              );
                            })
                          )
                            return (
                              console.error(
                                "Couldn't look up store tag names for any facet value in facet " +
                                  e.name[0] +
                                  ", skipping."
                              ),
                              "continue"
                            );
                          for (
                            var l = 0, s = e.facetValues;
                            l < s.length;
                            l++
                          ) {
                            var c;
                            (c = s[l]).rgStoreTagFilter = n.get(c);
                            var d = i.get(c);
                            d > 0 && (c.nAtomicStoreTagID = d);
                          }
                        },
                        i = 0,
                        r = e.facets;
                      i < r.length;
                      i++
                    ) {
                      n(r[i]);
                    }
                  })(m, l, s),
                  (function (e, t, a, n) {
                    e.facets.forEach(function (e) {
                      e.facetValues.forEach(function (e) {
                        e.nAtomicStoreTagID &&
                          a.forEach(function (a, i) {
                            var r = Object(c.d)(a);
                            if (0 === v.a.Get(e.name, r).length) {
                              var o = t.get(e.nAtomicStoreTagID),
                                l = n.get(e.nAtomicStoreTagID),
                                s = v.a.Get(l, i);
                              0 !== s.length &&
                                (v.a.Set(e.name, r, s),
                                console.warn(
                                  "Added missing localized name (" +
                                    s +
                                    ") (" +
                                    a +
                                    ") for facet value with atomic store tag ID " +
                                    e.nAtomicStoreTagID +
                                    " (" +
                                    o +
                                    ")"
                                ));
                            }
                          });
                      });
                    });
                  })(m, a, i, r),
                  m.metadata_matching_capsules &&
                    (m.metadata_matching_capsules = void 0),
                  (n.label = 6);
              case 6:
                return d++, [3, 4];
              case 7:
                return [2];
            }
          });
        });
      }
      function z(e, t, a) {
        for (
          var n = {
              type: u.o.k_EStoreFilterClauseTypeAnd,
              rgSubexpressions: new Array(),
            },
            i = 0,
            o = e.clauses;
          i < o.length;
          i++
        ) {
          for (
            var l = o[i],
              s = {
                type: u.o.k_EStoreFilterClauseTypeOr,
                bNegated: "Must not have" === l.type,
                rgSubexpressions: new Array(),
              },
              c = 0,
              d = l.or_tags;
            c < d.length;
            c++
          ) {
            var p = d[c],
              m = Object(r.k)(p),
              _ = Object(r.s)(p).toLocaleLowerCase();
            if (m === r.j.Store) {
              if (!(null == t ? void 0 : t.has(_))) {
                console.error(
                  "No matching categorized store tag found for sale tag: " + p
                );
                continue;
              }
              var g = t.get(_);
              s.rgSubexpressions.push({
                type: u.o.k_EStoreFilterClauseTypeStoreTag,
                value: g,
              });
            } else if (m == r.j.Feature)
              s.rgSubexpressions.push({
                type: u.o.k_EStoreFilterClauseTypeFeatureTag,
                value: _,
              });
            else if (m === r.j.Auto) {
              if (!a.has(_)) {
                console.error("Could not find auto tag: " + p);
                continue;
              }
              var E = a.get(_);
              s.rgSubexpressions.push(z(E, t, a));
            } else console.warn("Sale tag not implemented for faceting: " + p);
          }
          if (0 === s.rgSubexpressions.length) return null;
          n.rgSubexpressions.push(s);
        }
        return 0 === n.rgSubexpressions.length ? null : Object(A.f)(n);
      }
      function W(e, t) {
        for (var a = 0, n = e.clauses; a < n.length; a++)
          for (var i = 0, l = n[a].or_tags; i < l.length; i++) {
            var s = l[i],
              c = Object(r.k)(s),
              d = Object(r.s)(s).toLocaleLowerCase();
            if (c === r.j.Store) {
              if (!t.has(d)) {
                console.error(
                  "No matching categorized store tag found for sale tag: " + s
                );
                continue;
              }
              var u = t.get(d);
              if (o.a.BIsTagAtomic(u)) return u;
            }
          }
        return 0;
      }
      function q(e) {
        return {
          type: u.o.k_EStoreFilterClauseTypeLanguage,
          value: Object(c.a)(e),
        };
      }
      function Y(e) {
        return {
          type: u.o.k_EStoreFilterClauseTypeContentDescriptor,
          value: e,
        };
      }
      function J(e) {
        return { type: u.o.k_EStoreFilterClauseTypeAppType, value: e };
      }
    },
    "66At": function (e, t, a) {
      e.exports = {
        DisplayWarning: "saleeditorlocationcontrolwidget_DisplayWarning_162UW",
        SelectArea: "saleeditorlocationcontrolwidget_SelectArea_3hAkB",
        dropDown: "saleeditorlocationcontrolwidget_dropDown_a8hfO",
      };
    },
    "6Oks": function (e, t, a) {
      e.exports = {
        EventEditorArtworkCtn:
          "partnereventartwork_EventEditorArtworkCtn_3rX0b",
        ArtworkPreview: "partnereventartwork_ArtworkPreview_JnQir",
        EventEditorArtworkBarContainer:
          "partnereventartwork_EventEditorArtworkBarContainer_1C85T",
        EventEditorButton: "partnereventartwork_EventEditorButton_2ffmU",
        EventEditorInputPaneTopRow:
          "partnereventartwork_EventEditorInputPaneTopRow_91ZJa",
        EventCoverImageCtn: "partnereventartwork_EventCoverImageCtn_31GkG",
        DragTarget: "partnereventartwork_DragTarget_3rLfM",
        DragOnTopOfMe: "partnereventartwork_DragOnTopOfMe_2fjw2",
        EventEditorArtworkTextCtn:
          "partnereventartwork_EventEditorArtworkTextCtn_30C-z",
        EventEditorDragTargetArea:
          "partnereventartwork_EventEditorDragTargetArea_13RCA",
        EventEditorArtworkTitle:
          "partnereventartwork_EventEditorArtworkTitle_2LN2o",
        EventEditorArtworkSubTitle:
          "partnereventartwork_EventEditorArtworkSubTitle_2WU2t",
        EventEditorArtworkResolution:
          "partnereventartwork_EventEditorArtworkResolution_3BWYC",
        ReassignCtn: "partnereventartwork_ReassignCtn_1ELGs",
        ImagePreviewContainer:
          "partnereventartwork_ImagePreviewContainer_xiD01",
        NoneSet: "partnereventartwork_NoneSet_2iqoN",
        TitleSafePreview: "partnereventartwork_TitleSafePreview_1k4fh",
        TitleSafeCaption: "partnereventartwork_TitleSafeCaption_2p02K",
        LanguageSelector: "partnereventartwork_LanguageSelector_3r2rl",
        LanguageSelectorSelected:
          "partnereventartwork_LanguageSelectorSelected_1M7um",
        LanguageSelectorNoData:
          "partnereventartwork_LanguageSelectorNoData_2F3x5",
        LanguageContainer: "partnereventartwork_LanguageContainer_1Vs5U",
        LanguageOptions: "partnereventartwork_LanguageOptions_1ntKq",
        LanguageListContainer:
          "partnereventartwork_LanguageListContainer_Yhl9T",
        SelectImageContainerTopRow:
          "partnereventartwork_SelectImageContainerTopRow_2TTdk",
        SelectImageContainerBottomRow:
          "partnereventartwork_SelectImageContainerBottomRow_3W5Me",
        TextTitle: "partnereventartwork_TextTitle_WMeyY",
        TextSubTitle: "partnereventartwork_TextSubTitle_3zHVs",
        ExampleSectionTitle: "partnereventartwork_ExampleSectionTitle_1Rcen",
        DetailPageExample: "partnereventartwork_DetailPageExample_pD3MC",
        detailExample: "partnereventartwork_detailExample_syg2Q",
        detailExample2: "partnereventartwork_detailExample2_9E9yp",
        MainImageCtn: "partnereventartwork_MainImageCtn_1XTVD",
        ExampleBodyPosition: "partnereventartwork_ExampleBodyPosition_rEaNp",
        ExampleContentCtn: "partnereventartwork_ExampleContentCtn_-LvtM",
        TextBody: "partnereventartwork_TextBody_IiSBO",
        SpotlightExample: "partnereventartwork_SpotlightExample_rAJxh",
        SelectImageEqualColumns:
          "partnereventartwork_SelectImageEqualColumns_2zf7x",
        SelectImageBlock: "partnereventartwork_SelectImageBlock_3jEs0",
        MainPreviewBlock: "partnereventartwork_MainPreviewBlock_2HX0X",
        Tips: "partnereventartwork_Tips_1CHYZ",
        SpotlightOptions: "partnereventartwork_SpotlightOptions_2Kej2",
        ExamplesCtn: "partnereventartwork_ExamplesCtn_3Bp1I",
        SelectImageExampleImg:
          "partnereventartwork_SelectImageExampleImg_2kTis",
        SelectImageLanguagesCtn:
          "partnereventartwork_SelectImageLanguagesCtn_2vu5Q",
        SelectImageTitle: "partnereventartwork_SelectImageTitle_1m6cv",
        ArtworkSelectorContainer:
          "partnereventartwork_ArtworkSelectorContainer_1nl9m",
        Title: "partnereventartwork_Title_2Phq4",
        BroadcastPreviewContainer:
          "partnereventartwork_BroadcastPreviewContainer_3Y5k3",
        SaleHeaderPreviewContainer:
          "partnereventartwork_SaleHeaderPreviewContainer_14dIa",
        SaleHeaderExampleCtn: "partnereventartwork_SaleHeaderExampleCtn_16coG",
        SaleHeaderExampleCol: "partnereventartwork_SaleHeaderExampleCol_1czA2",
        BroadcastPreview: "partnereventartwork_BroadcastPreview_87eNb",
        ExampleSpacer: "partnereventartwork_ExampleSpacer_2r0lB",
        MultipleExampleContainer:
          "partnereventartwork_MultipleExampleContainer_1dda1",
        AssetExampleSpotlightCtn:
          "partnereventartwork_AssetExampleSpotlightCtn_taJSe",
      };
    },
    "6h0J": function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzcyREYxMUExREVBMTFFOUJFQTREQjZGQTJEQ0UzOTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzcyREYxMUIxREVBMTFFOUJFQTREQjZGQTJEQ0UzOTMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3NzJERjExODFERUExMUU5QkVBNERCNkZBMkRDRTM5MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3NzJERjExOTFERUExMUU5QkVBNERCNkZBMkRDRTM5MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmk/vzIAAAFiSURBVHjaYnz79i0DCDAB8X8gVgUIIEaoSBmIIQRkvAMIIBADJMUIxBVArI0sAAYAAQTTAwNlTEgcXZDpLFDOHCC+A8Sd6FoEAAIIJBAOZKxAEoTZmAPEKSxQSZitFVCz10D5O1iQdE4AYgsouwOKBUBWvAEyRKF+RQa+QLwFIIDQHYUM/gAxC8hfb6C6QTgLKvkaiGtAikBuUAHiD0g6QZJzob5gYUEz9jXUPU+AWAYWETDwG+o9mGQGLLAFoFbcBGJFIGaDagDHCrIV6ti8ArLCFoc3wf4HCDB84YANVEC9HwPEU4B4EiycQKEqgAUjx+F3INYHYkOoZh6YC0CeEUQLS2Qbi4HYCYgvQ8P8AhC3QOMaJRjRNf4C4m3QcP8ODd4QqM0dyIGEDgKgCtmgUf8dypeBamSERoEALi8sAuUnID4AxIegbHQA18OCRTKOlGgBeSECmuH+E4nfQPWAXQwAHbJ3VkYR2TIAAAAASUVORK5CYII=";
    },
    "6yBx": function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return D;
      }),
        a.d(t, "a", function () {
          return w;
        }),
        a.d(t, "c", function () {
          return G;
        });
      var n = a("mrSG"),
        i = a("TyAF"),
        r = a("q1tI"),
        o = a("mgoM"),
        l = a("kyHq"),
        s = a("Nsq5"),
        c = a("U+Q5"),
        d = a("I/R6"),
        u = a("Mgs7"),
        p = a("fpVW"),
        m = a.n(p),
        _ = a("Jqb/"),
        g = a("ka0M"),
        E = a("xnZ7"),
        b = a.n(E),
        h = a("6Y59"),
        v = a("0OaU"),
        f = a("exH9"),
        S = a("NOFC"),
        O = a("TLQK"),
        y = a("OS6B"),
        C = a("opsS"),
        j = a("NrWE"),
        T = a("as1E"),
        I = a.n(T),
        D = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bDownloadFromClanImageStore: !1 }),
              (t.m_clanImageUploader = new c.b(t.props.clanSteamID)),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.GetValidLanguageForImage = function (e) {
              var t = this.props.rgRealmList;
              if (!t || 0 === t.length) return e;
              for (var a = 0, n = t; a < n.length; a++) {
                var i = n[a];
                if (O.b.IsELanguageValidInRealm(e, i)) return e;
              }
              for (var r = 0, o = t; r < o.length; r++) {
                i = o[r];
                if (
                  O.b.IsELanguageValidInRealm(d.a.Get().GetCurEditLanguage(), i)
                )
                  return d.a.Get().GetCurEditLanguage();
              }
              return t.includes(l.f.k_ESteamRealmGlobal) ? 0 : 29;
            }),
            (t.prototype.OnDropFiles = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t, a, i, o, l, s, u, p;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      (t = this.props),
                        (a = t.rgSupportArtwork),
                        (i = t.localizedPrimaryImage),
                        (o = Array.from(e)),
                        (l = !0),
                        (s = 0),
                        (n.label = 1);
                    case 1:
                      return s < o.length
                        ? ((u = e.item(s)),
                          (p =
                            c.d.DetectLanguageFromFilename(u.name) ||
                            d.a.Get().GetCurEditLanguage()),
                          [
                            4,
                            this.m_clanImageUploader.AddImageForLanguage(
                              u,
                              this.GetValidLanguageForImage(p),
                              a,
                              i
                            ),
                          ])
                        : [3, 4];
                    case 2:
                      (l = n.sent()) ||
                        (console.error(
                          "ArtworkUploader.OnDropFiles: failed on i=" +
                            s +
                            " file=" +
                            u.name
                        ),
                        Object(g.d)(
                          r.createElement(_.f, {
                            strDescription: Object(O.f)(
                              "#ImagePicker_Error",
                              u.name
                            ),
                          }),
                          window
                        )),
                        (n.label = 3);
                    case 3:
                      return s++, [3, 1];
                    case 4:
                      return [2, l];
                  }
                });
              });
            }),
            (t.prototype.OnUploadImages = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e,
                  t = this;
                return Object(n.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return [
                        4,
                        this.m_clanImageUploader.UploadAllFiles(
                          this.props.rgSupportArtwork,
                          this.props.forceResolution,
                          this.props.localizedPrimaryImage &&
                            this.props.localizedPrimaryImage.file_type
                        ),
                      ];
                    case 1:
                      return (
                        (e = a.sent()),
                        Object.keys(e).forEach(function (a) {
                          var n = e[a],
                            i = t.m_clanImageUploader.m_filesToUpload.find(
                              function (e) {
                                return e.uploadTime + "/" + e.file.name === a;
                              }
                            );
                          if (i)
                            if (1 !== n.success)
                              (i.status = "failed"), (i.message = n.message);
                            else if (((i.status = "success"), n.origimagehash))
                              c.d.AddLocalizeImageUploaded(
                                n.origimagehash,
                                t.GetValidLanguageForImage(n.language)
                              );
                            else {
                              var r = c.d.GetClanImageByImageHash(
                                t.props.clanSteamID,
                                n.image_hash
                              );
                              r &&
                                t.props.fnSetImageURL(
                                  i.type,
                                  r,
                                  t.GetValidLanguageForImage(i.language)
                                );
                            }
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnPreviousImageSelected = function (e, t) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t = this;
                return Object(n.e)(this, function (a) {
                  return (
                    this.state.bDownloadFromClanImageStore ||
                      this.setState(
                        { bDownloadFromClanImageStore: !0 },
                        function () {
                          return Object(n.b)(t, void 0, void 0, function () {
                            var t, a, i, o, l;
                            return Object(n.e)(this, function (n) {
                              switch (n.label) {
                                case 0:
                                  return (
                                    n.trys.push([0, 2, , 3]),
                                    (t = this.props),
                                    (a = t.rgSupportArtwork),
                                    (i = t.localizedPrimaryImage),
                                    [
                                      4,
                                      this.m_clanImageUploader.AddExistingClanImage(
                                        e,
                                        this.GetValidLanguageForImage(
                                          d.a.Get().GetCurEditLanguage()
                                        ),
                                        a,
                                        i
                                      ),
                                    ]
                                  );
                                case 1:
                                  return n.sent(), [3, 3];
                                case 2:
                                  return (
                                    (o = n.sent()),
                                    (l = Object(y.a)(o)),
                                    console.error(
                                      "AddExistingClanImage: " + l.strErrorMsg,
                                      l
                                    ),
                                    Object(g.d)(
                                      r.createElement(_.f, {
                                        strDescription: Object(O.f)(
                                          "#EventError_Code",
                                          l.strErrorMsg
                                        ),
                                      }),
                                      window
                                    ),
                                    [3, 3]
                                  );
                                case 3:
                                  return (
                                    this.setState({
                                      bDownloadFromClanImageStore: !1,
                                    }),
                                    [2]
                                  );
                              }
                            });
                          });
                        }
                      ),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.rgSupportArtwork,
                a = e.forceResolution,
                n = e.localizedPrimaryImage,
                i = e.clanSteamID,
                o = G(
                  this.m_clanImageUploader,
                  "arttabupload_",
                  t,
                  a,
                  n && n.file_type,
                  this.props.rgRealmList
                );
              return r.createElement(
                j.b,
                {
                  onDropFiles: this.OnDropFiles,
                  clanSteamID: i,
                  bAllowPreviousClanImages: !Boolean(
                    this.props.bPreventPreviousClanImages
                  ),
                  OnClanImageSelected: this.OnPreviousImageSelected,
                  fnSetImageURL: this.props.fnSetImageURL,
                  rgRealmList: this.props.rgRealmList,
                },
                r.createElement(
                  r.Fragment,
                  null,
                  this.state.bDownloadFromClanImageStore &&
                    r.createElement(v.a, {
                      position: "center",
                      size: "medium",
                      string: Object(O.f)("#Loading"),
                    }),
                  r.createElement("div", { className: I.a.UploadPreviewCtn }, o)
                ),
                r.createElement(w, {
                  clanImageUploader: this.m_clanImageUploader,
                  fnOnUploadImageRequested: this.OnUploadImages,
                })
              );
            }),
            Object(n.c)([C.a], t.prototype, "OnDropFiles", null),
            Object(n.c)([C.a], t.prototype, "OnUploadImages", null),
            Object(n.c)([C.a], t.prototype, "OnPreviousImageSelected", null),
            (t = Object(n.c)([i.a], t))
          );
        })(r.Component),
        w = Object(i.a)(function (e) {
          var t = e.clanImageUploader,
            a = e.fnOnUploadImageRequested;
          return r.createElement(
            "div",
            {
              style: { display: "flex" },
              className: I.a.UploadPreviewButtonsCtn,
            },
            Boolean(t.m_filesToUpload.length) &&
              r.createElement(
                u.d,
                { style: { margin: "8px" }, onClick: a },
                Object(O.f)("#ImageUpload_Upload")
              ),
            Boolean(t.m_filesToUpload.length) &&
              r.createElement(
                u.d,
                { style: { margin: "8px" }, onClick: t.ClearImages },
                Object(O.f)("#ImageUpload_Clear")
              )
          );
        });
      function G(e, t, a, n, i, o) {
        var l = new Array();
        return (
          e.m_filesToUpload.map(function (s) {
            l.push(
              r.createElement(A, {
                key: t + s.file + "_" + s.uploadTime,
                image: s,
                supported: a,
                forceResolution: n,
                forceFileType: i,
                fnOnRemove: function () {
                  return e.DeleteUploadImage(s);
                },
                languageRealms: o,
              })
            );
          }),
          l
        );
      }
      var A = Object(i.a)(function (e) {
        for (
          var t = e.image,
            a = e.fnOnRemove,
            n = e.supported,
            i = e.languageRealms,
            c = n.map(function (e) {
              var a = Object(O.f)("#EventEditor_ArtworkType_" + e),
                n = s.a[e];
              n &&
                !n.bDisableEnforceDimensions &&
                (a += " - " + n.width + "x" + n.height);
              var i = void 0;
              return (
                t.BIsOriginalMinimumDimensions(e) ||
                  (i = I.a.ArtworkDimensionTooSmall),
                { label: a, data: e, strOptionClass: i }
              );
            }),
            d = {
              pending: Object(O.f)("#ImageUpload_Pending"),
              uploading: Object(O.f)("#ImageUpload_Uploading"),
              success: Object(O.f)("#ImageUpload_SuccessCard"),
              failed: Object(O.f)("#ImageUpload_Failed"),
            },
            p = new Array(),
            _ = 0,
            E = O.b.GetLanguageListForRealms(i || [l.f.k_ESteamRealmGlobal]);
          _ < E.length;
          _++
        ) {
          var y = E[_],
            C = Object(O.f)("#Language_" + Object(o.a)(y));
          p.push({ label: C, data: y });
        }
        p.sort(function (e, t) {
          return e.label.localeCompare(t.label);
        });
        var j = [];
        p.forEach(function (e) {
          return j.push({ label: e.label, data: e.data });
        });
        var T = t.IsValidImage(e.supported, e.forceResolution, e.forceFileType),
          D = T.needsCrop
            ? Object(O.f)("#ImageUpload_NeedsCrop")
            : T.error
            ? Object(O.f)("#ImageUpload_Invalid")
            : d[t.status];
        return r.createElement(
          "div",
          { className: I.a.UploadPreview },
          r.createElement(
            "div",
            {
              className: I.a.UploadPreviewDelete,
              onClick: function () {
                return a(t);
              },
            },
            r.createElement(h.pb, null)
          ),
          r.createElement(
            "div",
            {
              className: I.a.PreviewImgCtn,
              style: { backgroundImage: "url(" + t.dataUrl + ")" },
            },
            r.createElement(
              "span",
              { className: I.a.PreviewImgInfo },
              t.width,
              " x ",
              t.height
            )
          ),
          r.createElement(u.h, {
            strDropDownClassName: m.a.DropDownScroll,
            rgOptions: j,
            selectedOption: t.language,
            onChange: function (e) {
              return (t.language = e.data);
            },
          }),
          Boolean(c.length > 1) &&
            r.createElement(u.h, {
              rgOptions: c.filter(function (e) {
                return "hero" !== e.data;
              }),
              selectedOption: t.type || c[0].data,
              onChange: function (e) {
                return (t.type = e.data);
              },
            }),
          r.createElement(
            "div",
            { className: Object(f.a)(m.a.FlexColumnContainer) },
            D,
            Boolean("uploading" == D) &&
              r.createElement(
                "div",
                { className: b.a.FlexCenter },
                r.createElement(v.a, { size: "small" })
              )
          ),
          r.createElement(
            "div",
            { className: I.a.UploadPreviewError },
            t.message
          ),
          T.error &&
            r.createElement(
              "div",
              { className: I.a.UploadPreviewError },
              T.error
            ),
          T.needsCrop &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                u.q,
                {
                  onClick: function () {
                    return (function (t) {
                      t.ResetImage();
                      var a = window,
                        n = r.createElement(S.a, {
                          ownerWin: a,
                          uploadFile: t,
                          forceResolution: e.forceResolution,
                          fileType: e.forceFileType || 3,
                        });
                      Object(g.c)(n, a, "CropModal", {
                        strTitle: Object(O.f)("#ImageUpload_CropModalTitle"),
                      });
                    })(t);
                  },
                },
                Object(O.f)("#ImageUpload_OpenEditor")
              )
            )
        );
      });
    },
    "75vw": function (e, t, a) {
      e.exports = {
        PickerContainer: "clanimagepicker_PickerContainer_1qhUO",
        PickerTitle: "clanimagepicker_PickerTitle_1E-Kb",
        SearchInput: "clanimagepicker_SearchInput_lwt4u",
        ImagesContainer: "clanimagepicker_ImagesContainer_2MNEt",
        ImageWrapperContainer: "clanimagepicker_ImageWrapperContainer_3nF8i",
        ImageWrapper: "clanimagepicker_ImageWrapper_vYrtX",
        ImageWrapperFilename: "clanimagepicker_ImageWrapperFilename_3rKYp",
        Hilight: "clanimagepicker_Hilight_5oO3l",
        ImageButton: "clanimagepicker_ImageButton_1NdF6",
        Thumb: "clanimagepicker_Thumb_5b4gX",
        Full: "clanimagepicker_Full_3zBhO",
        Delete: "clanimagepicker_Delete_UQ4fW",
        FloatingThrobber: "clanimagepicker_FloatingThrobber_1zWl-",
        Localized: "clanimagepicker_Localized__5lkv",
        ResultNotification: "clanimagepicker_ResultNotification_1mERN",
        errorcode: "clanimagepicker_errorcode_2f4ad",
        ImageUploadBar: "clanimagepicker_ImageUploadBar_1aUdS",
        SelectImageButton: "clanimagepicker_SelectImageButton__R_zU",
        UploaderContainer: "clanimagepicker_UploaderContainer_dR0Ne",
        UploaderTitle: "clanimagepicker_UploaderTitle_DL9t5",
        UploaderRunning: "clanimagepicker_UploaderRunning_1lRF9",
        UploaderDesc: "clanimagepicker_UploaderDesc_2fhbn",
        UploadError: "clanimagepicker_UploadError_3B5rV",
        UploadMessageAndButtonsContainer:
          "clanimagepicker_UploadMessageAndButtonsContainer_3OQ66",
        UploadSuccess: "clanimagepicker_UploadSuccess_2RXjw",
        UploadDismissButton: "clanimagepicker_UploadDismissButton_3j1zt",
        DragAndDropContainer: "clanimagepicker_DragAndDropContainer_2Q0Xd",
        DragAndDropContainerDragging:
          "clanimagepicker_DragAndDropContainerDragging_2Xhk9",
      };
    },
    "9jt8": function (e, t, a) {
      e.exports = {
        ValveOnlyGuidelineSummary:
          "saleguidelinedialog_ValveOnlyGuidelineSummary_G_5BB",
        SignedBy: "saleguidelinedialog_SignedBy_aFTva",
        GuidelinesNoticeCtn: "saleguidelinedialog_GuidelinesNoticeCtn_2vRv8",
        OpenGuidelinesBtnCtn: "saleguidelinedialog_OpenGuidelinesBtnCtn_1xJdi",
        GuidelinesDoneCtn: "saleguidelinedialog_GuidelinesDoneCtn_-bMPu",
        Text: "saleguidelinedialog_Text_1yrjm",
        Intro: "saleguidelinedialog_Intro_yYvoX",
        AgreementsCtn: "saleguidelinedialog_AgreementsCtn_1TWap",
        ContactSectionCtn: "saleguidelinedialog_ContactSectionCtn_3gDWx",
        SectionTitle: "saleguidelinedialog_SectionTitle_3HeMo",
      };
    },
    AvDr: function (e, t, a) {
      e.exports = {
        ThemedCtn: "partnereventoptions_ThemedCtn_3JuTN",
        CategoryOption: "partnereventoptions_CategoryOption_4ke28",
        CategoryTitle: "partnereventoptions_CategoryTitle_Dx6oJ",
        event_nomination_banner_ctn:
          "partnereventoptions_event_nomination_banner_ctn_1w12V",
        event_nomination_banner:
          "partnereventoptions_event_nomination_banner_2nEQS",
        event_nomination_banner_text:
          "partnereventoptions_event_nomination_banner_text_1gePU",
      };
    },
    BVhQ: function (e, t, a) {
      e.exports = {
        ErrorMessaage: "progressutils_ErrorMessaage_13sZc",
        UpdatingMessage: "progressutils_UpdatingMessage_3baPw",
      };
    },
    Cksw: function (e, t, a) {
      e.exports = {
        GraphicalAssetsTabs: "tabbar_GraphicalAssetsTabs_3oSHT",
        GraphicalAssetsTab: "tabbar_GraphicalAssetsTab_3lJb_",
        Active: "tabbar_Active_8XjrT",
        GraphicalAssetStatus: "tabbar_GraphicalAssetStatus_25U4F",
        VOWarning: "tabbar_VOWarning_3LaJy",
        StatusSuccess: "tabbar_StatusSuccess_1iIRV",
        StatusDanger: "tabbar_StatusDanger_UxdQK",
        StatusCaution: "tabbar_StatusCaution_E9t9j",
      };
    },
    CoyA: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return m;
      });
      var n = a("mrSG"),
        i = a("TyAF"),
        r = a("q1tI"),
        o = a("6AJf"),
        l = a("xnZ7"),
        s = a.n(l),
        c = a("TLQK"),
        d = a("DisI"),
        u = a("JiI5"),
        p = a("oqmg"),
        m = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.DoesCapsuleConflict = function () {
              var e = this.props,
                t = e.capsule,
                a = e.capsuleContainer;
              if (!t || !a) return !1;
              for (var n = 0, i = a.capsules; n < i.length; n++) {
                var r = i[n];
                if (
                  r &&
                  r !== t &&
                  r.id == t.id &&
                  r.type == t.type &&
                  (!t.visibility_index ||
                    !r.visibility_index ||
                    r.visibility_index == t.visibility_index)
                )
                  return !0;
              }
              return !1;
            }),
            (t.prototype.render = function () {
              var e = this.props.capsule;
              if (!e)
                return r.createElement(
                  "div",
                  null,
                  Object(c.f)("#EventEditor_InvalidCapsuleItem")
                );
              var t = this.DoesCapsuleConflict(),
                a = Object(p.b)(e),
                n = a.appData,
                i = a.linkURL,
                l = a.bInvalidID,
                m = Object(c.f)("#AppType_" + e.type);
              return r.createElement(
                o.j,
                { className: s.a.FlexCenter, url: i },
                n
                  ? r.createElement("img", {
                      loading: "lazy",
                      className: u.SaleCapsuleImg,
                      src: n.header_image_url,
                    })
                  : null,
                n ? n.name : null,
                "  (",
                n ? n.appid || n.bundleid || n.packageid : e.id,
                ")  ",
                r.createElement(
                  "span",
                  { className: u.SmallText },
                  "(",
                  m,
                  ")"
                ),
                l &&
                  r.createElement(
                    "div",
                    { className: u.SaleCapsuleConflict },
                    Object(c.f)("#Sale_NotFoundCapsule"),
                    r.createElement(d.b, {
                      tooltip: Object(c.f)(
                        "#Sale_NotFoundCapsule_Tooltip",
                        m,
                        e.id
                      ),
                    })
                  ),
                t &&
                  r.createElement(
                    "div",
                    { className: u.SaleCapsuleConflict },
                    Object(c.f)("#Sale_DuplicateCapsule"),
                    r.createElement(d.b, {
                      tooltip: Object(c.f)("#Sale_DuplicateCapsule_Tooltip"),
                    })
                  ),
                Boolean(void 0 !== e.visibility_index) &&
                  r.createElement(
                    "span",
                    { className: u.SaleVisibilityDate },
                    Object(c.f)(
                      "#Sale_VisibilityIndex_Day",
                      e.visibility_index + 1
                    )
                  )
              );
            }),
            (t = Object(n.c)([i.a], t))
          );
        })(r.Component);
    },
    CtwA: function (e, t, a) {
      e.exports = { itemimg: "saleitemdefwidgeteditor_itemimg_2by5O" };
    },
    DisI: function (e, t, a) {
      "use strict";
      a.d(t, "c", function () {
        return m;
      }),
        a.d(t, "d", function () {
          return _;
        }),
        a.d(t, "a", function () {
          return g;
        }),
        a.d(t, "b", function () {
          return E;
        });
      var n = a("mrSG"),
        i = a("Mgs7"),
        r = a("TLQK"),
        o = a("6Y59"),
        l = a("q1tI"),
        s = a("exH9"),
        c = a("fpVW"),
        d = a("IjL/"),
        u = a("TyAF"),
        p = a("3USw"),
        m = Object(u.a)(function (e) {
          return l.createElement(
            l.Fragment,
            null,
            l.createElement(
              "div",
              {
                className: Object(s.a)(
                  e.className ? e.className : p.SectionTitleHeader,
                  p.required_title
                ),
              },
              l.createElement(
                "div",
                { className: c.EventEditorTextTitle },
                e.title,
                Boolean(e.tooltip) && l.createElement(E, { tooltip: e.tooltip })
              ),
              l.createElement(g, {
                bIsMinimized: e.getMinimized(),
                fnToggleMinimize: e.toggleMinimized,
              })
            ),
            !e.getMinimized() && l.createElement(d.a, null, e.children)
          );
        });
      function _(e) {
        var t = l.useState(Boolean(e.bStartMinimized)),
          a = t[0],
          i = t[1];
        return l.createElement(
          m,
          Object(n.a)({}, e, {
            getMinimized: function () {
              return a;
            },
            toggleMinimized: function () {
              return i(!a);
            },
          }),
          e.children
        );
      }
      function g(e) {
        var t = e.bIsMinimized,
          a = e.fnToggleMinimize,
          n = t ? "#Section_Maximize_Tooltip" : "#Section_Minimize_Tooltip";
        return l.createElement(
          i.d,
          { "data-tooltip-text": Object(r.f)(n), onClick: a },
          e.bIsMinimized
            ? l.createElement(o.H, null)
            : l.createElement(o.K, null)
        );
      }
      function E(e) {
        return l.createElement(
          "span",
          {
            "data-tooltip-text": e.tooltip,
            className: Object(s.a)(c.HelperTooltip, "HelperTooltip"),
          },
          " ",
          l.createElement(o.A, null)
        );
      }
    },
    EA3E: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return C;
      }),
        a.d(t, "c", function () {
          return j;
        }),
        a.d(t, "d", function () {
          return T;
        }),
        a.d(t, "e", function () {
          return I;
        }),
        a.d(t, "b", function () {
          return D;
        });
      var n = a("mrSG"),
        i = a("1fPh"),
        r = a("fcuX"),
        o = a("t0uJ"),
        l = a("TyAF"),
        s = a("q1tI"),
        c = a("EC67"),
        d = a("3+zv"),
        u = a("gBDv"),
        p = a("9w6b"),
        m = a("6oCP"),
        _ = a("vBFs"),
        g = a("fpVW"),
        E = a.n(g),
        b = a("YLyR"),
        h = a("exH9"),
        v = a("TLQK"),
        f = a("lkRc"),
        S = a("DisI"),
        O = a("K1T0"),
        y = a.n(O);
      function C(e) {
        var t = Object(u.c)()[0];
        s.useEffect(
          function () {
            return (
              (window.onbeforeunload = function () {
                var e = o.c.GetEditModel();
                return e.BIsDirty() || t(e.GetGID())
                  ? Object(v.f)("#EventEditor_UnsavedChanges")
                  : null;
              }),
              function () {
                window.onbeforeunload = function () {};
              }
            );
          },
          [t]
        );
        return s.createElement(c.a, {
          message: function (e) {
            if (o.c.BHasEditModel()) {
              var a = o.c.GetEditModel();
              if (
                null != a &&
                null != a &&
                (a.BIsDirty() || t(a.GetGID())) &&
                (a.BHasGid() || a.GetChangeTypes() != r.c.type)
              ) {
                var n = a.GetStrVanityOrAppID();
                return (
                  e.pathname == i.a.Category(n, a.GetGID() || "") ||
                  e.pathname == i.a.Edit(n, a.GetGID() || "") ||
                  e.pathname == i.a.Preview(n, a.GetGID() || "") ||
                  e.pathname == i.a.PreviewSale(n, a.GetGID() || "") ||
                  Object(v.f)("#EventEditor_UnsavedChanges")
                );
              }
            }
            return !0;
          },
        });
      }
      var j = Object(l.a)(function (e) {
          var t = o.c.GetEditModel(),
            a = t.GetCurEditLanguage();
          return s.createElement(_.a, {
            selectedLang: a,
            fnOnLanguageChanged: function (a) {
              t.SetCurEditLanguage(a) &&
                e.OnLanguageChange &&
                e.OnLanguageChange();
            },
            fnLangHasData: t.BHasLanguage,
            fnIsLangSupported: t.BDoesSupportLanguage,
            fnLastUpdateRTime: t.LastTimeLanguageUpdate,
            realms: t.GetIncludedRealmList(),
          });
        }),
        T = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetVisibilityState(),
                a = p.a.Get().GetPartnerEventPermissions(e.GetClanSteamID()),
                n =
                  (e.BWillShowOnLibraryOverviewDueToSettings() ||
                    e.BWillShowOnLibraryDetailDueToSettings()) &&
                  Object(d.e)(e.GetEventModel());
              if (t == m.b.k_EEventStateVisible)
                return s.createElement(
                  "div",
                  {
                    className: Object(h.a)(E.a.FlexColumnContainer, "visible"),
                  },
                  s.createElement(
                    "span",
                    { className: E.a.FlexRowContainer },
                    Object(v.f)("#EventEditor_Status"),
                    ":  ",
                    s.createElement(
                      "span",
                      { className: "StatusVisibleText" },
                      "  ",
                      Object(v.f)("#EventEditor_Status_Public")
                    ),
                    a &&
                      s.createElement(S.b, {
                        tooltip: Object(v.f)("#EventEditor_Status_Public_ttip"),
                      }),
                    n &&
                      s.createElement(
                        "span",
                        {
                          className: Object(h.a)(
                            y.a.PendingVisibilityText,
                            "PendingVisibilityText"
                          ),
                        },
                        "  ",
                        Object(v.f)("#EventEditor_Status_PendingModeration")
                      ),
                    a &&
                      n &&
                      s.createElement(S.b, {
                        tooltip: Object(v.f)(
                          "#EventDashBoard_ModerationQueueWarning"
                        ),
                      })
                  )
                );
              if (t == m.b.k_EEventStateStaged) {
                var i = e.GetEventVisibilityStartTime(),
                  r = i == e.GetEventStartTime();
                return s.createElement(
                  "div",
                  { className: E.a.FlexColumnContainer },
                  Object(v.f)("#EventEditor_Status") + ": ",
                  Object(v.n)(
                    r
                      ? "#EventEditor_Status_Staged_EventStart"
                      : "#EventEditor_Status_Staged",
                    s.createElement(
                      "span",
                      { className: E.a.FlexRowContainer },
                      s.createElement(b.a, { bSingleLine: !0, dateAndTime: i }),
                      s.createElement(S.b, {
                        tooltip: Object(v.f)("#EventEditor_Status_Staged_ttip"),
                      })
                    )
                  )
                );
              }
              return s.createElement(
                "div",
                { className: E.a.FlexColumnContainer },
                s.createElement(
                  "span",
                  { className: E.a.FlexRowContainer },
                  Object(v.f)("#EventEditor_Status") +
                    ": " +
                    Object(v.f)("#EventEditor_Status_Draft"),
                  s.createElement(S.b, {
                    tooltip: Object(v.f)("#EventEditor_Status_Draft_ttip"),
                  })
                )
              );
            }),
            (t = Object(n.c)([l.a], t))
          );
        })(s.Component),
        I = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              return s.createElement(
                "div",
                {
                  className: Object(h.a)(
                    E.a.FlexColumnContainer,
                    E.a.BetaContainer,
                    E.a.PartnerEventFont
                  ),
                },
                s.createElement(
                  "div",
                  { className: E.a.EventBetaTextTitle },
                  Object(v.f)("#PartnerEvent_Beta_Title")
                ),
                s.createElement("br", null),
                s.createElement(
                  "div",
                  null,
                  Object(v.n)(
                    "#PartnerEvent_Beta_Feedback",
                    s.createElement(
                      "a",
                      {
                        target: f.c.IN_CLIENT ? void 0 : "_blank",
                        href:
                          "https://steamcommunity.com/groups/steamworks/discussions/24/",
                      },
                      Object(v.f)("#PartnerEvent_Beta_SteamWorks")
                    )
                  )
                )
              );
            }),
            t
          );
        })(s.Component),
        D = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              return (
                console.warn(
                  'EventNotAvailable message:"' +
                    this.props.strErrorMsg +
                    '" code:"' +
                    this.props.errorCode +
                    '"'
                ),
                s.createElement(
                  "div",
                  { className: y.a.ErrorPage },
                  s.createElement(
                    "div",
                    { className: E.a.maintitle },
                    Object(v.f)("#EventError_Title")
                  ),
                  this.props.errorCode &&
                    s.createElement(
                      "div",
                      { className: y.a.ErrorCode },
                      " ",
                      Object(v.f)("#EventError_Code", this.props.errorCode),
                      " "
                    ),
                  this.props.strErrorMsg &&
                    s.createElement(
                      "div",
                      { className: y.a.ErrorMsg },
                      this.props.strErrorMsg
                    )
                )
              );
            }),
            t
          );
        })(s.Component);
    },
    EOKZ: function (e, t, a) {
      e.exports = {
        DisplaySectionHeaderContainer:
          "partnereventdashboard_DisplaySectionHeaderContainer_1xnIX",
        DisplaySectionHeader:
          "partnereventdashboard_DisplaySectionHeader_34f0c",
        DisplaySectionSubHeader:
          "partnereventdashboard_DisplaySectionSubHeader_23nhJ",
        DisplaySectionEmpty: "partnereventdashboard_DisplaySectionEmpty_2BmSN",
        EventDashboardDataCtn:
          "partnereventdashboard_EventDashboardDataCtn_1uPNG",
        LoadMoreEventsCtn: "partnereventdashboard_LoadMoreEventsCtn_2asU2",
        EventDashboardCtn: "partnereventdashboard_EventDashboardCtn_2WqPr",
        EventDashAdminToolsCtn:
          "partnereventdashboard_EventDashAdminToolsCtn_1OMO4",
        MainLists: "partnereventdashboard_MainLists_2Yhqn",
        ManageButton: "partnereventdashboard_ManageButton_230VZ",
        Edit: "partnereventdashboard_Edit_pvLmX",
        Delete: "partnereventdashboard_Delete_9SG7g",
        Clone: "partnereventdashboard_Clone_21_l8",
        View: "partnereventdashboard_View_3xhNU",
        Publish: "partnereventdashboard_Publish_2ewSq",
        Section: "partnereventdashboard_Section_16BNV",
        Unpublished: "partnereventdashboard_Unpublished_2MUzv",
      };
    },
    FAUN: function (e, t, a) {
      e.exports = {
        PublishContainer:
          "partnereventpublishingcontrols_PublishContainer_2tCY6",
      };
    },
    GOhU: function (e, t, a) {
      e.exports = {
        ToolContainer: "partnereventdescriptiontab_ToolContainer_1YUip",
        LanguageControlsCtn:
          "partnereventdescriptiontab_LanguageControlsCtn_14o5K",
        DescEditorPadding: "partnereventdescriptiontab_DescEditorPadding_3mLVV",
        ImagePickerCtn: "partnereventdescriptiontab_ImagePickerCtn_Mc28x",
      };
    },
    IASz: function (e, t, a) {
      e.exports = {
        Heading: "managefriends_Heading_3kTQI",
        Body: "managefriends_Body_2s393",
        HeaderBlock: "managefriends_HeaderBlock_X9bYN",
        Background: "managefriends_Background_1xwi0",
        DimBackground: "managefriends_DimBackground_2N55H",
        Input: "managefriends_Input_1BUty",
        CopyContainer: "managefriends_CopyContainer_1HjkZ",
        Text: "managefriends_Text_1ehqR",
        Link: "managefriends_Link_18Sc0",
        Button: "managefriends_Button_2772E",
        ProfileCard: "managefriends_ProfileCard_28a_C",
        UserContainer: "managefriends_UserContainer_29w-2",
        Image: "managefriends_Image_1n4lD",
        ProfileContent: "managefriends_ProfileContent_1qz9x",
        ProfileLink: "managefriends_ProfileLink_1tEt0",
        Failure: "managefriends_Failure_UoMCo",
        Success: "managefriends_Success_zNkyw",
      };
    },
    IMce: function (e, t, a) {
      e.exports = {
        FilterDisplayCtn: "partnereventsaletagitems_FilterDisplayCtn_3y3Xg",
        FilterTitle: "partnereventsaletagitems_FilterTitle_24W_L",
        FilterDisplayNoFilter:
          "partnereventsaletagitems_FilterDisplayNoFilter_1rdbp",
        FilterActionsCtn: "partnereventsaletagitems_FilterActionsCtn_2C1SZ",
        FilterSettingRightCol:
          "partnereventsaletagitems_FilterSettingRightCol_3Nq-P",
        FilterDisplayList: "partnereventsaletagitems_FilterDisplayList_2z8dM",
        ClauseRowCtn: "partnereventsaletagitems_ClauseRowCtn_14Xr-",
        MustHaveClause: "partnereventsaletagitems_MustHaveClause_1DnHX",
        MustNotHaveClause: "partnereventsaletagitems_MustNotHaveClause_2jCYC",
        TagItemCtn: "partnereventsaletagitems_TagItemCtn_m0Krj",
        TagItemImageCtn: "partnereventsaletagitems_TagItemImageCtn_gmw1A",
        NameAndTagCtn: "partnereventsaletagitems_NameAndTagCtn_3iqFC",
        NameCtn: "partnereventsaletagitems_NameCtn_2tE2h",
        TagSummaryCtn: "partnereventsaletagitems_TagSummaryCtn_2qiIu",
        TagSummary: "partnereventsaletagitems_TagSummary_Srtyk",
        TagShowToggle: "partnereventsaletagitems_TagShowToggle_2znRW",
        TagListCtn: "partnereventsaletagitems_TagListCtn_1QkXs",
        ItemTag: "partnereventsaletagitems_ItemTag_zTys5",
        TagHighlight: "partnereventsaletagitems_TagHighlight_3t7O7",
        TagMustHave: "partnereventsaletagitems_TagMustHave_1TwOa",
        TagMustNotHave: "partnereventsaletagitems_TagMustNotHave_209Gu",
        TagMissingMustHave: "partnereventsaletagitems_TagMissingMustHave_1fV9c",
        TagItemEditorCtn: "partnereventsaletagitems_TagItemEditorCtn_BCZuV",
        ItemListTitle: "partnereventsaletagitems_ItemListTitle_1Qb2C",
        ItemListControls: "partnereventsaletagitems_ItemListControls_3d5Ah",
        ButtonRow: "partnereventsaletagitems_ButtonRow_jzDFC",
        EditTagsTitle: "partnereventsaletagitems_EditTagsTitle_lZkG5",
        EditTagsTitleText: "partnereventsaletagitems_EditTagsTitleText_2ydMd",
        EditTagsBody: "partnereventsaletagitems_EditTagsBody_1GXBp",
        ColumnList: "partnereventsaletagitems_ColumnList_2K3OM",
        TagColumn: "partnereventsaletagitems_TagColumn_qG9e1",
        SmallColumn: "partnereventsaletagitems_SmallColumn_3sDs-",
        TagColumnList: "partnereventsaletagitems_TagColumnList_1CmFb",
        FillColumn: "partnereventsaletagitems_FillColumn_Goo9R",
        TagColumnTitle: "partnereventsaletagitems_TagColumnTitle_16Usf",
        PopulateByFilter: "partnereventsaletagitems_PopulateByFilter_ECCkN",
        EditTag: "partnereventsaletagitems_EditTag_10HeQ",
        AppliedTag: "partnereventsaletagitems_AppliedTag_2hdwo",
        OtherTag: "partnereventsaletagitems_OtherTag_3XSu2",
        DefaultTag: "partnereventsaletagitems_DefaultTag_1DR0t",
        SectionRemoved: "partnereventsaletagitems_SectionRemoved_3r5Sr",
        SectionAdded: "partnereventsaletagitems_SectionAdded_3RbJU",
        SectionUnchanged: "partnereventsaletagitems_SectionUnchanged_262k4",
        OKButton: "partnereventsaletagitems_OKButton_2vnfP",
        AddTagCtn: "partnereventsaletagitems_AddTagCtn_1hCAC",
        EditFitlerCtn: "partnereventsaletagitems_EditFitlerCtn_3OUM2",
        HideTagBreakdown: "partnereventsaletagitems_HideTagBreakdown_3yvRa",
        TagBreakdownCtn: "partnereventsaletagitems_TagBreakdownCtn_3YQ9j",
        TopSection: "partnereventsaletagitems_TopSection_1jYl9",
        TopTabs: "partnereventsaletagitems_TopTabs_FWpoZ",
        TagSelector: "partnereventsaletagitems_TagSelector_2_RKa",
        SectionTab: "partnereventsaletagitems_SectionTab_1-1pA",
        TabActive: "partnereventsaletagitems_TabActive_3GdyE",
        ShowTagBreakdown: "partnereventsaletagitems_ShowTagBreakdown_2lsxI",
        SectionTitle: "partnereventsaletagitems_SectionTitle_31ngR",
        MatchingItemsCtn: "partnereventsaletagitems_MatchingItemsCtn_20hem",
        ItemList: "partnereventsaletagitems_ItemList_pbaI3",
        TagBreakdownList: "partnereventsaletagitems_TagBreakdownList_306uE",
        SelectTag: "partnereventsaletagitems_SelectTag_Mbvwl",
        TagBreakdownEntry: "partnereventsaletagitems_TagBreakdownEntry_3FcaB",
        Selected: "partnereventsaletagitems_Selected_1dbZr",
        PercentageBarFill: "partnereventsaletagitems_PercentageBarFill_2RtUr",
        TextStats: "partnereventsaletagitems_TextStats_1uh33",
        TagName: "partnereventsaletagitems_TagName_2_TkE",
        TagUses: "partnereventsaletagitems_TagUses_13lRd",
        PercentageBar: "partnereventsaletagitems_PercentageBar_3j-lq",
        FilterControlsCtn: "partnereventsaletagitems_FilterControlsCtn_21IKJ",
        FilterControlBox: "partnereventsaletagitems_FilterControlBox_30c0H",
        OrLabel: "partnereventsaletagitems_OrLabel_nLRaJ",
        AndLabel: "partnereventsaletagitems_AndLabel_1HdmS",
        TagDropDown: "partnereventsaletagitems_TagDropDown_16GWP",
        ClauseTypeDropDown: "partnereventsaletagitems_ClauseTypeDropDown_3C61-",
        FirstClause: "partnereventsaletagitems_FirstClause_2U-HG",
        ClauseTagList: "partnereventsaletagitems_ClauseTagList_2Yv3H",
        OptInInputTitle: "partnereventsaletagitems_OptInInputTitle_1gDie",
        EditRawTextArea: "partnereventsaletagitems_EditRawTextArea_1HSN_",
        EditAutoTagsBody: "partnereventsaletagitems_EditAutoTagsBody_e8374",
        AutoTagList: "partnereventsaletagitems_AutoTagList_1EmxH",
        AutoTag: "partnereventsaletagitems_AutoTag_2gCmA",
        AutoTagRow: "partnereventsaletagitems_AutoTagRow_2o3nc",
      };
    },
    "IY+y": function (e, t, a) {
      "use strict";
      a.r(t);
      var n = a("mrSG"),
        i = (a("jZUi"), a("M1X1"), a("Y9L4"), a("xnZ7")),
        r = a.n(i),
        o = (a("idvb"), a("1fPh")),
        l = a("t0uJ"),
        s = a("Ww0A"),
        c = a("q1tI"),
        d = a.n(c),
        u = a("ir+G"),
        p = a("OS6B"),
        m = a("lkRc"),
        _ = a("0OaU"),
        g = a("kLLr"),
        E = a("EA3E"),
        b = a("U+Q5"),
        h = a("9w6b"),
        v = a("TQGK"),
        f = a("TLQK"),
        S = function (e) {
          return (function (t) {
            function a() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.state = { bLoading: !0, bIsError: !1 }), e;
            }
            return (
              Object(n.d)(a, t),
              (a.prototype.Load = function () {
                return Object(n.b)(this, void 0, void 0, function () {
                  var e, t, a, i;
                  return Object(n.e)(this, function (r) {
                    switch (r.label) {
                      case 0:
                        (e = m.b.APPID),
                          (t = new g.a(m.b.CLANSTEAMID)),
                          (r.label = 1);
                      case 1:
                        return (
                          r.trys.push([1, 3, , 4]),
                          [
                            4,
                            Promise.all([
                              u.a.EnsureStoreCapsuleInfoLoaded(e),
                              v.a.LoadClanInfoForClanSteamID(t),
                              l.c.LoadEditorModel(
                                t,
                                this.props.match.params.gid
                              ),
                              h.a.Get().LoadSingleAppEventPermissions(t),
                              m.b.CAN_UPLOAD_IMAGES &&
                                b.d.LoadClanImages(t, !1, null),
                            ]),
                          ]
                        );
                      case 2:
                        return (
                          r.sent(),
                          (a = h.a.Get().GetPartnerEventPermissions(t))
                            .can_edit || a.owns_app
                            ? this.setState({ bLoading: !1, bIsError: !1 })
                            : this.setState({
                                bLoading: !1,
                                bIsError: !1,
                                strErrorMsg: Object(f.f)(
                                  "#EventError_PermissionDenied"
                                ),
                              }),
                          [3, 4]
                        );
                      case 3:
                        return (
                          (i = r.sent()),
                          this.setState(
                            Object(n.a)({ bLoading: !1 }, Object(p.a)(i))
                          ),
                          [3, 4]
                        );
                      case 4:
                        return [2];
                    }
                  });
                });
              }),
              (a.prototype.componentDidMount = function () {
                this.Load();
              }),
              (a.prototype.componentDidUpdate = function (e) {
                e.match.params.gid != this.props.match.params.gid &&
                  this.Load();
              }),
              (a.prototype.render = function () {
                var t = this.state,
                  a = t.bLoading,
                  i = t.bIsError,
                  o = t.strErrorMsg,
                  l = t.errorCode;
                return a
                  ? c.createElement(
                      "div",
                      { className: r.a.FlexCenter },
                      c.createElement(_.a, null)
                    )
                  : i
                  ? c.createElement(E.b, {
                      strErrorMsg: o,
                      errorCode: l,
                      appid_or_vanity_str: this.props.match.params
                        .appid_or_vanity_str,
                    })
                  : c.createElement(e, Object(n.a)({}, this.props));
              }),
              a
            );
          })(c.Component);
        },
        O = a("vDqi"),
        y = a.n(O),
        C = (function () {
          function e() {
            (this.m_rgRecords = new Array()),
              (this.m_mapEventToRecord = new Map()),
              (this.m_mapTagsToRecords = new Map()),
              (this.m_bLoadComplete = !1);
          }
          return (
            (e.prototype.GetAllRecords = function () {
              return this.m_rgRecords;
            }),
            (e.prototype.GetPublishClanEventGIDRecord = function (e) {
              return this.m_mapEventToRecord.get(e);
            }),
            (e.prototype.GetRecordsForTag = function (e) {
              return this.m_mapTagsToRecords.get(e) || [];
            }),
            (e.prototype.BHasLoadCompleted = function () {
              return this.m_bLoadComplete;
            }),
            (e.prototype.LoadAuditRecords = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                return Object(n.e)(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return (
                        this.m_loadingPromise ||
                          (this.m_loadingPromise = this.InternalLoadAuditRecords(
                            e
                          )),
                        [4, this.m_loadingPromise]
                      );
                    case 1:
                      return [2, t.sent()];
                  }
                });
              });
            }),
            (e.prototype.InternalLoadAuditRecords = function (e) {
              var t, a;
              return Object(n.b)(this, void 0, void 0, function () {
                var i,
                  r,
                  o,
                  l,
                  s,
                  c = this;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        n.trys.push([0, 2, , 3]),
                        (i =
                          m.c.COMMUNITY_BASE_URL +
                          "gid/" +
                          e.ConvertTo64BitString() +
                          "/ajaxgeteventpublishaudit"),
                        (r = { count: 1e3 }),
                        [4, y.a.get(i, { params: r, withCredentials: !0 })]
                      );
                    case 1:
                      return (
                        (o = n.sent()),
                        (this.m_bLoadComplete = !0),
                        200 == (null == o ? void 0 : o.status) &&
                        1 ==
                          (null === (t = null == o ? void 0 : o.data) ||
                          void 0 === t
                            ? void 0
                            : t.success) &&
                        (null === (a = null == o ? void 0 : o.data) ||
                        void 0 === a
                          ? void 0
                          : a.data)
                          ? (o.data.data.forEach(function (e) {
                              var t;
                              c.m_rgRecords.push(e),
                                c.m_mapEventToRecord.set(e.clan_event_gid, e),
                                null === (t = e.tags) ||
                                  void 0 === t ||
                                  t.forEach(function (t) {
                                    c.m_mapTagsToRecords.has(t) ||
                                      c.m_mapTagsToRecords.set(t, []),
                                      c.m_mapTagsToRecords.get(t).push(e);
                                  });
                            }),
                            [2, this.m_rgRecords])
                          : [3, 3]
                      );
                    case 2:
                      return (
                        (l = n.sent()),
                        (s = Object(p.a)(l)),
                        console.error(
                          "CPartnerEventPublishAuditStores.LoadAuditRecords: failed with " +
                            s.strErrorMsg,
                          s
                        ),
                        [3, 3]
                      );
                    case 3:
                      return [2, []];
                  }
                });
              });
            }),
            (e.Get = function () {
              return (
                e.s_Singleton ||
                  ((e.s_Singleton = new e()),
                  ("dev" != m.c.WEB_UNIVERSE && "beta" != m.c.WEB_UNIVERSE) ||
                    (window.g_DynamicRevealStore = e.s_Singleton)),
                e.s_Singleton
              );
            }),
            e
          );
        })();
      function j(e, t) {
        var a = d.a.useState(!C.Get().BHasLoadCompleted()),
          n = a[0],
          i = a[1];
        return (
          d.a.useEffect(
            function () {
              if (!C.Get().BHasLoadCompleted()) {
                var t = g.a.InitFromClanID(e);
                C.Get()
                  .LoadAuditRecords(t)
                  .finally(function () {
                    return i(!1);
                  });
              }
            },
            [e]
          ),
          n ? void 0 : C.Get().GetRecordsForTag(t)
        );
      }
      var T = a("fcuX"),
        I = a("TyAF"),
        D = a("3+zv"),
        w = a("5izx"),
        G = a("2vnA"),
        A = (function () {
          function e() {
            var e = this;
            (this.m_optInData = new Map()),
              (this.m_optInDefDetails = new Map()),
              (window.g_optInStore = this);
            var t = Object(m.f)("appoptininfo", "application_config");
            this.ValidateStoreDefault(t)
              ? (("dev" != m.c.WEB_UNIVERSE && "beta" != m.c.WEB_UNIVERSE) ||
                  console.log(
                    "DEV_DEBUG: COptInPartnerAppStore loading optin payload: " +
                      t.length,
                    t
                  ),
                t.forEach(function (t) {
                  t.opt_in = Boolean(t.opt_in);
                  var a = e.m_optInData.get(t.appid);
                  a ? a.push(t) : e.m_optInData.set(t.appid, [t]);
                }))
              : console.error("Failed to load opt in information", t);
            var a = Object(m.f)("optindefspecialevents", "application_config");
            this.ValidateOptInDefinition(a) &&
              (("dev" != m.c.WEB_UNIVERSE && "beta" != m.c.WEB_UNIVERSE) ||
                console.log(
                  "DEV_DEBUG: COptInPartnerAppStore loading optin definition payload: " +
                    a.length,
                  a
                ),
              a.forEach(function (t) {
                return e.m_optInDefDetails.set(t.optInName, t);
              }));
          }
          return (
            (e.prototype.BHasOptInSpecialEvents = function () {
              return this.m_optInDefDetails.size > 0;
            }),
            (e.prototype.GetAllSpecialEvents = function () {
              return Array.from(this.m_optInDefDetails.values());
            }),
            (e.prototype.GetAllSpecialEventTags = function () {
              return Array.from(this.m_optInDefDetails.values()).map(function (
                e
              ) {
                return e.tag;
              });
            }),
            (e.prototype.GetOptInForApp = function (e, t) {
              var a = this.m_optInData.get(e),
                n = null;
              if (a)
                for (var i = 0, r = a; i < r.length; i++) {
                  var o = r[i];
                  if (o.opt_in_name === t) {
                    n = o;
                    break;
                  }
                }
              return n;
            }),
            (e.Get = function () {
              return (
                e.s_OptInStore ||
                  ((e.s_OptInStore = new e()),
                  ("dev" != m.c.WEB_UNIVERSE && "beta" != m.c.WEB_UNIVERSE) ||
                    (window.f_OptInStore = e.s_OptInStore)),
                e.s_OptInStore
              );
            }),
            (e.prototype.ValidateStoreDefault = function (e) {
              var t = e;
              return t &&
                Array.isArray(t) &&
                t.length > 0 &&
                "object" == typeof t[0]
                ? "number" == typeof t[0].appid &&
                    ("boolean" == typeof t[0].opt_in ||
                      "number" == typeof t[0].opt_in) &&
                    "string" == typeof t[0].opt_in_name
                : t && Array.isArray(t) && 0 == t.length;
            }),
            (e.prototype.ValidateOptInDefinition = function (e) {
              var t = e;
              return (
                !!(
                  t &&
                  Array.isArray(t) &&
                  t.length > 0 &&
                  "object" == typeof t[0]
                ) &&
                "number" == typeof t[0].type &&
                "string" == typeof t[0].tag &&
                "string" == typeof t[0].optInName
              );
            }),
            Object(n.c)([G.C], e.prototype, "m_optInData", void 0),
            Object(n.c)([G.C], e.prototype, "m_optInDefDetails", void 0),
            e
          );
        })(),
        M = A;
      var k = a("fpVW"),
        L = a.n(k),
        N = a("exH9"),
        B = a("N0Ye"),
        R = a("opsS"),
        F = a("hvYe"),
        P = a.n(F),
        x = a("w7rs"),
        U = a.n(x),
        H = a("as1E"),
        V = a.n(H);
      function z(e, t, a) {
        if (e.GetCategoryAsType() == t) {
          var i = M.Get().BHasOptInSpecialEvents()
              ? Object(n.g)(D.p, M.Get().GetAllSpecialEventTags())
              : D.p,
            r = new Set(a || []);
          return i.every(function (t) {
            return e.BHasTag(t) == r.has(t);
          });
        }
        return !1;
      }
      function W(e) {
        var t = l.c.GetEditModel();
        t.setEventType(e.type),
          t.ClearTags(D.p),
          M.Get().BHasOptInSpecialEvents() &&
            t.ClearTags(
              M.Get()
                .GetAllSpecialEvents()
                .map(function (e) {
                  return e.tag;
                })
            ),
          e.tags &&
            e.tags.forEach(function (e) {
              return t.ToggleTag(e);
            });
        var a = w.a.GetTimeNowWithOverride();
        e.earliestAllowedStartTime
          ? (t.SetEarliestAllowedStartTime(e.earliestAllowedStartTime),
            e.earliestAllowedStartTime > a &&
              (t.SetStartTimeEditChoice(T.d.k_ESpecified),
              t.SetEventStartTime(e.earliestAllowedStartTime)))
          : t.SetEarliestAllowedStartTime(void 0),
          t.SetSteamAwardNomineeVoteIDs(e.steam_award_category_voteids),
          t.SetLatestAllowedEndTime(e.latestAllowedEndTime),
          t.SetActionEndTime(e.actionEndTime);
      }
      var q = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.m_refSelectedCategory = c.createRef()), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              this.m_refSelectedCategory &&
                this.m_refSelectedCategory.current &&
                l.c.GetEditModel().BHasGid() &&
                window.scrollTo(
                  0,
                  this.m_refSelectedCategory.current.offsetTop
                );
            }),
            (t.prototype.onCategoryChoice = function () {
              W(this.props), this.props.onCategoryChosen();
            }),
            (t.prototype.OnMouseEnter = function (e) {
              e.preventDefault(),
                e.stopPropagation(),
                l.c.SetCurHoverCategory(this.props.type, this.props.tags);
            }),
            (t.prototype.render = function () {
              var e = z(l.c.GetEditModel(), this.props.type, this.props.tags),
                t =
                  m.c.IMG_URL +
                  "events/types/type_" +
                  (this.props.icon ? this.props.icon : this.props.type) +
                  ".png?v=4";
              return c.createElement(
                "div",
                {
                  className: V.a.EventSubCategory,
                  onClick: this.onCategoryChoice,
                  onMouseEnter: this.OnMouseEnter,
                  ref: e ? this.m_refSelectedCategory : void 0,
                },
                c.createElement("img", {
                  className: V.a.CategoryTypeImage,
                  src: t,
                }),
                c.createElement(
                  "div",
                  { className: V.a.EventSubCategory_Ctn },
                  c.createElement(
                    "div",
                    { className: V.a.EventSubCategory_Title },
                    e &&
                      c.createElement("img", {
                        className: V.a.CategoryImage,
                        src: P.a,
                      }),
                    Object(f.f)(this.props.name)
                  ),
                  c.createElement(
                    "div",
                    { className: V.a.EventSubCategory_Desc },
                    Object(f.f)(this.props.description)
                  )
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "onCategoryChoice", null),
            Object(n.c)([R.a], t.prototype, "OnMouseEnter", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Y = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_refSelectedCategory = c.createRef()),
              (t.state = { expanded: !1 }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnLoad = function () {
              var e = this;
              if (this.props.subCategories) {
                var t = l.c.GetEditModel().GetCategoryAsType();
                this.props.subCategories.forEach(function (a) {
                  a.type == t && e.setState({ expanded: !0 });
                });
              }
              this.m_refSelectedCategory &&
                this.m_refSelectedCategory.current &&
                l.c.GetEditModel().BHasGid() &&
                window.scrollTo(
                  0,
                  this.m_refSelectedCategory.current.offsetTop
                );
            }),
            (t.prototype.componentDidMount = function () {
              this.OnLoad();
            }),
            (t.prototype.componentDidUpdate = function (e) {
              (e.subCategoryDesc === this.props.subCategoryDesc &&
                e.subCategoryTitle === this.props.subCategoryTitle) ||
                this.OnLoad();
            }),
            (t.prototype.CreateSubCategories = function () {
              var e = [],
                t = this.props.onCategoryChosen;
              return (
                this.props.subCategories.forEach(function (a) {
                  e.push(
                    c.createElement(
                      q,
                      Object(n.a)({ key: a.name }, a, { onCategoryChosen: t })
                    )
                  );
                }),
                e
              );
            }),
            (t.prototype.OnMouseEnter = function (e) {
              e.preventDefault(),
                e.stopPropagation(),
                l.c.SetCurHoverCategory(this.props.type, this.props.tags);
            }),
            (t.prototype.ToggleExpand = function () {
              this.props.subCategories
                ? this.setState({ expanded: !this.state.expanded })
                : this.props.type &&
                  (W(this.props), this.props.onCategoryChosen());
            }),
            (t.prototype.render = function () {
              var e,
                t = z(l.c.GetEditModel(), this.props.type, this.props.tags),
                a = this.props.bIsValveOnly,
                n =
                  void 0 === this.props.subCategories ||
                  0 == this.props.subCategories.length,
                i =
                  m.c.IMG_URL +
                  "events/types/type_" +
                  (this.props.icon ? this.props.icon : this.props.type) +
                  ".png?v=4";
              return c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    ((e = {}),
                    (e[V.a.EventCategory] = !0),
                    (e.EventCategory = !0),
                    (e[V.a.EventCategoryExpanded] = this.state.expanded),
                    (e[V.a.EventCategoryNotExpandable] = n),
                    (e[L.a.ValveOnlyBackground] = a),
                    e)
                  ),
                  onClick: this.ToggleExpand,
                  ref: t ? this.m_refSelectedCategory : void 0,
                  onMouseEnter: this.OnMouseEnter,
                },
                this.props.subCategories
                  ? (this.state.expanded,
                    c.createElement("img", {
                      className: V.a.EventCategory_Expander,
                      src: U.a,
                    }))
                  : null,
                c.createElement(
                  "div",
                  { className: V.a.EventCategory_HeaderCtn },
                  c.createElement("img", {
                    className: V.a.CategoryTypeImage,
                    src: i,
                  }),
                  c.createElement(
                    "div",
                    { className: V.a.CategoryTitles_Ctn },
                    c.createElement(
                      "div",
                      { className: V.a.EventCategory_Title },
                      t &&
                        c.createElement("img", {
                          className: V.a.CategoryImage,
                          src: P.a,
                        }),
                      Object(f.f)(this.props.name)
                    ),
                    c.createElement(
                      "div",
                      { className: V.a.EventCategory_Desc },
                      Object(f.f)(this.props.description)
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: V.a.EventSubCategoriesCtn },
                  this.state.expanded &&
                    this.props.subCategoryDesc &&
                    c.createElement(
                      "div",
                      { className: V.a.EventSubCategory_Section_Desc },
                      Object(f.f)(this.props.subCategoryDesc)
                    ),
                  this.state.expanded &&
                    this.props.subCategoryTitle &&
                    c.createElement(
                      "div",
                      { className: V.a.EventSubCategory_Section_Title },
                      Object(f.f)(this.props.subCategoryTitle)
                    ),
                  this.state.expanded &&
                    this.props.subCategories &&
                    this.CreateSubCategories()
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnMouseEnter", null),
            Object(n.c)([R.a], t.prototype, "ToggleExpand", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        J = [12, 20, 21, 31, 34, 16, 15],
        Q = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.BuildSummary = function () {
              var e = new Array(),
                t = l.c.GetCurHoverCategory();
              if (t && t.type) {
                var a = Object(f.f)("#PartnerEvent_" + t.type);
                if (
                  J.some(function (e) {
                    return e == t.type;
                  })
                )
                  e.push(
                    c.createElement(
                      "span",
                      { key: "EventCategory_Visibility_GeneralWithException" },
                      Object(f.f)(
                        "#EventCategory_Visibility_GeneralWithException",
                        a
                      )
                    )
                  ),
                    12 == t.type
                      ? e.push(
                          c.createElement(
                            "div",
                            {
                              key:
                                "EventCategory_Visibility_SmallEventException",
                              className: V.a.ExceptionNote,
                            },
                            Object(f.f)(
                              "#EventCategory_Visibility_SmallEventException"
                            )
                          )
                        )
                      : 34 == t.type
                      ? e.push(
                          c.createElement(
                            "div",
                            {
                              key:
                                "EventCategory_Visibility_CrosspostException",
                              className: V.a.ExceptionNote,
                            },
                            Object(f.f)(
                              "#EventCategory_Visibility_CrosspostException"
                            )
                          )
                        )
                      : 16 == t.type
                      ? e.push(
                          c.createElement(
                            "div",
                            {
                              key:
                                "EventCategory_Visibility_UpcomingReleaseException",
                              className: V.a.ExceptionNote,
                            },
                            Object(f.f)(
                              "#EventCategory_Visibility_UpcomingReleaseException"
                            )
                          )
                        )
                      : 20 == t.type || 31 == t.type
                      ? e.push(
                          c.createElement(
                            "div",
                            {
                              key: "EventCategory_Visibility_DiscountException",
                              className: V.a.ExceptionNote,
                            },
                            Object(f.f)(
                              "#EventCategory_Visibility_DiscountException"
                            )
                          )
                        )
                      : 21 == t.type
                      ? e.push(
                          c.createElement(
                            "div",
                            {
                              key:
                                "EventCategory_Visibility_InGameDiscountException",
                              className: V.a.ExceptionNote,
                            },
                            Object(f.f)(
                              "#EventCategory_Visibility_InGameDiscountException"
                            )
                          )
                        )
                      : e.push(
                          c.createElement(
                            "div",
                            {
                              key:
                                "EventCategory_Visibility_LibraryHomeException",
                              className: V.a.ExceptionNote,
                            },
                            Object(f.f)(
                              "#EventCategory_Visibility_LibraryHomeException"
                            )
                          )
                        );
                else if (
                  t.tags &&
                  -1 != t.tags.indexOf("steam_award_vote_request")
                ) {
                  var n = Object(f.f)("#PartnerEvent_SteamAwardVoteRequest");
                  e.push(
                    c.createElement(
                      "span",
                      { key: "EventCategory_Visibility_GeneralWithException" },
                      Object(f.f)(
                        "#EventCategory_Visibility_GeneralWithException",
                        n
                      )
                    )
                  ),
                    e.push(
                      c.createElement(
                        "div",
                        {
                          key:
                            "EventCategory_Visibility_SteamAwardsVoteRequest_Exception",
                          className: V.a.ExceptionNote,
                        },
                        Object(f.f)(
                          "#EventCategory_Visibility_SteamAwardsVoteRequest_Exception"
                        )
                      )
                    );
                } else
                  t.tags && -1 != t.tags.indexOf("curator_group_members")
                    ? e.push(
                        c.createElement(
                          "div",
                          {
                            key:
                              "EventCategory_Visibility_Curator_Group_Members_Exception",
                            className: V.a.ExceptionNote,
                          },
                          Object(f.f)(
                            "#EventCategory_Visibility_Curator_Group_Members"
                          )
                        )
                      )
                    : t.tags && -1 != t.tags.indexOf("curator_public")
                    ? e.push(
                        c.createElement(
                          "div",
                          {
                            key:
                              "EventCategory_Visibility_Curator_Public_Exception",
                            className: V.a.ExceptionNote,
                          },
                          Object(f.f)(
                            "#EventCategory_Visibility_Curator_Public"
                          )
                        )
                      )
                    : e.push(
                        c.createElement(
                          "span",
                          { key: "EventCategory_Visibility_General" },
                          Object(f.f)("#EventCategory_Visibility_General", a)
                        )
                      );
                e.push(
                  c.createElement(
                    "div",
                    {
                      key: "Exception_Docs_Link",
                      className: V.a.ExceptionDocsLink,
                    },
                    c.createElement(
                      "a",
                      {
                        href:
                          "https://partner.steamgames.com/doc/marketing/event_tools/visibility",
                        target: "_blank",
                      },
                      Object(f.f)("#EventCategory_Visibility_Docs")
                    )
                  )
                );
                var i = Object(B.a)(t.type),
                  r = !Object(B.c)(t.type, t.tags),
                  o = Object(B.d)(t.type);
                (r || i || o) &&
                  (e.push(
                    c.createElement(
                      "p",
                      { key: "EventCategory_Visibility_AdditonalNotes" },
                      Object(f.f)("#EventCategory_Visibility_AdditonalNotes")
                    )
                  ),
                  i
                    ? e.push(
                        c.createElement(
                          "div",
                          {
                            key: "EventCategory_Visibility_EventEnd",
                            className: V.a.ExceptionNote,
                          },
                          Object(f.f)("#EventCategory_Visibility_EventEnd")
                        )
                      )
                    : r &&
                      e.push(
                        c.createElement(
                          "div",
                          {
                            key: "EventCategory_Visibility_NoCapsule",
                            className: V.a.ExceptionNote,
                          },
                          Object(f.f)("#EventCategory_Visibility_NoCapsule")
                        )
                      ),
                  o &&
                    e.push(
                      c.createElement(
                        "div",
                        {
                          key: "EventCategory_Visibility_SpotlightRecommended",
                          className: V.a.ExceptionNote,
                        },
                        Object(f.f)(
                          "#EventCategory_Visibility_SpotlightRecommended"
                        )
                      )
                    ));
              } else
                e.push(
                  c.createElement(
                    "span",
                    { key: "EventCategory_Visibility_PlaceHolder" },
                    Object(f.f)("#EventCategory_Visibility_PlaceHolder")
                  )
                );
              return e;
            }),
            (t.prototype.render = function () {
              var e = this.BuildSummary();
              return c.createElement(
                "div",
                { className: V.a.EventCategoryRightCol },
                c.createElement(
                  "div",
                  { className: V.a.EventCategoryVisibilityCtn },
                  c.createElement(
                    "div",
                    { className: V.a.EventVisibility_Title },
                    Object(f.f)("#EventReach_Title")
                  ),
                  e
                )
              );
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Z = a("wd/R"),
        K = a.n(Z),
        X = a("kyHq"),
        $ = a("qP7j"),
        ee = a.n($),
        te = a("PqGv"),
        ae = function (e) {
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(le, { fnOnCategoryChosen: e.fnOnCategoryChosen }),
            c.createElement(ne, { fnOnCategoryChosen: e.fnOnCategoryChosen }),
            c.createElement(ie, { fnOnCategoryChosen: e.fnOnCategoryChosen }),
            c.createElement(oe, { fnOnCategoryChosen: e.fnOnCategoryChosen }),
            c.createElement(ce, { fnOnCategoryChosen: e.fnOnCategoryChosen })
          );
        },
        ne = function (e) {
          var t = K()("2021-09-10T10:00:00-07:00").unix(),
            a =
              (K()("2021-10-28T10:00:00-07:00").unix(),
              K()("2021-11-01T10:00:00-07:00").unix()),
            i = K()("2021-11-21T10:00:00-08:00").unix(),
            r = l.c.GetEditModel(),
            o = w.a.GetTimeNowWithOverride();
          if (!r || o < t || o > a) return null;
          var d = {
            name: "dummy",
            description: "dummy",
            tags: ["halloween"],
            earliestAllowedStartTime: t,
            latestAllowedEndTime: i,
            actionEndTime: i,
            onCategoryChosen: e.fnOnCategoryChosen,
          };
          return c.createElement(
            "div",
            { className: Object(N.a)(te.Halloween) },
            c.createElement(
              "div",
              { className: Object(N.a)(te.EventTitle) },
              Object(f.f)("#EventEditor_Category_Halloween")
            ),
            c.createElement(
              "div",
              { className: Object(N.a)(te.EventDesc) },
              Object(f.n)(
                "#EventEditor_Category_Halloween_Desc",
                c.createElement(
                  "a",
                  {
                    href:
                      "https://partner.steamgames.com/doc/marketing/event_tools/halloween",
                    target: "_blank",
                  },
                  Object(f.f)("#EventEditor_Category_Halloween_Docs")
                )
              )
            ),
            c.createElement(
              Y,
              Object(n.a)({}, d, {
                name: "#EventEditor_Category_DLC_Halloween",
                description: "#EventEditor_Category_DLC_Halloween_Desc",
                icon: "promo_02",
                type: 15,
              })
            ),
            c.createElement(
              Y,
              Object(n.a)({}, d, {
                name: "#EventCategory_InGame",
                description: "#EventCategory_InGame_Desc",
                subCategoryDesc: "#EventEditor_Category_InGame_Halloween_Desc",
                icon: "halloween_35",
                subCategories: [
                  Object(n.a)(Object(n.a)({}, d), s.b.bonusxp),
                  Object(n.a)(Object(n.a)({}, d), s.b.loot),
                  Object(n.a)(Object(n.a)({}, d), s.b.perks),
                  Object(n.a)(Object(n.a)(Object(n.a)({}, d), s.b.general), {
                    description: "#PartnerEvent_halloween_35_Desc",
                    icon: "halloween_35",
                  }),
                ],
              })
            )
          );
        },
        ie = function (e) {
          var t = l.c.GetEditModel(),
            a = K()("2021-11-11T10:00:00-08:00").unix(),
            n = K()("2021-11-24T10:00:00-08:00").unix(),
            i = K()("2021-12-01T10:00:00-08:00").unix();
          switch (t.GetAppID()) {
            case 230410:
            case 271590:
            case 730:
              return null;
          }
          var r = w.a.GetTimeNowWithOverride();
          return !t || !t.BIsAppReleased() || r < a || r > i
            ? null
            : c.createElement(
                "div",
                { className: te.EventCategory_SteamAwardsNomination },
                c.createElement(Y, {
                  name: "#EventCategory_SteamAwardsNomination",
                  description: "#EventCategory_SteamAwardsNomination_Desc",
                  icon: "trophy",
                  onCategoryChosen: e.fnOnCategoryChosen,
                  type: 28,
                  tags: [
                    "steam_award_nomination_request",
                    "mod_hide_library_overview",
                  ],
                  earliestAllowedStartTime: n,
                  latestAllowedEndTime: i,
                  actionEndTime: i,
                })
              );
        },
        re = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              var e = l.c.GetEditModel(),
                t = e.GetAppReleaseDate(),
                a = K()("2020-12-01T10:00:00-08:00").unix(),
                n = t && t > a,
                i = (n ? [61, 62, 63, 67, 68, 64, 66, 69, 65, 70] : [63]).map(
                  function (t) {
                    var a = "EventEditor_SteamAwardCategory_" + t;
                    return c.createElement(
                      "div",
                      {
                        key: a,
                        className: Object(N.a)(
                          te.RadioBtnCtn,
                          L.a.FlexRowContainer,
                          L.a.RadioOption
                        ),
                      },
                      c.createElement("input", {
                        type: "radio",
                        name: "SteamAwardCategoryRadioButtons",
                        id: a,
                        value: t,
                        checked: e.GetSteamAwardCategory() == t,
                        onChange: function () {
                          return e.SetSteamAwardCategory(t);
                        },
                      }),
                      c.createElement(
                        "label",
                        { htmlFor: a, className: te.CategoryOption },
                        c.createElement(
                          "span",
                          { className: te.CategoryTitle },
                          Object(f.f)("#promo_steamawards2021_cat" + t)
                        ),
                        c.createElement(
                          "span",
                          null,
                          " - ",
                          Object(f.f)(
                            "#promo_steamawards2021_cat" + t + "_desc"
                          ),
                          " "
                        )
                      )
                    );
                  }
                );
              return c.createElement(
                "div",
                { className: te.SteamAwardCategoryPicker },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitle },
                  Object(f.f)(
                    "#EventEditor_Options_SteamAwardNominations_Title"
                  ),
                  c.createElement(
                    "span",
                    { className: V.a.RequiredFieldLabel },
                    Object(f.f)("#EventEditor_Required")
                  )
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      te.SteamAwardCategoryOptions,
                      L.a.FlexColumnContainer,
                      L.a.EventDefaultRowContainer
                    ),
                  },
                  c.createElement(
                    "div",
                    { className: te.event_nomination_banner_ctn },
                    c.createElement("img", {
                      className: te.event_nomination_trophy,
                      src:
                        m.c.MEDIA_CDN_URL +
                        "store/promo/autumn2021/trophy.png?v=2",
                    }),
                    c.createElement(
                      "div",
                      { className: te.CategoryTextCtn },
                      c.createElement(
                        "div",
                        { className: te.SteamAwardTitle },
                        Object(f.f)("#SteamAwards_EventMainTitle")
                      ),
                      c.createElement(
                        "div",
                        { className: te.event_nomination_banner_text },
                        n
                          ? Object(f.f)(
                              "#EventEditor_Options_SteamAwardNominations_Description"
                            )
                          : Object(f.f)(
                              "#EventEditor_Options_SteamAwardNominations_OldGame_Description",
                              "2021",
                              Object(f.k)(a)
                            )
                      )
                    )
                  ),
                  c.createElement("div", { className: te.AwardSelectionCtn }, i)
                )
              );
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        oe = Object(I.a)(function (e) {
          var t = l.c.GetEditModel(),
            a = t.GetAppID(),
            n = K()("2021-12-22T10:00:00-08:00").unix(),
            i = K()("2022-01-03T09:00:00-08:00").unix(),
            r = w.a.GetTimeNowWithOverride();
          if (!t || !t.BIsAppReleased() || r > i) return null;
          if (!l.c.GetSteamAwardVoteDefinitionForApp(a)) return null;
          var o = [];
          return (
            l.c.GetSteamAwardVoteDefinitionForApp(a).forEach(function (e) {
              o.push(e.voteid);
            }),
            c.createElement(
              "div",
              { className: te.EventCategory_SteamAwardsNomination },
              c.createElement(Y, {
                name: "#EventCategory_SteamAwardsVoteRequest",
                description: "#EventCategory_SteamAwardsVoteRequest_Desc",
                icon: "trophy",
                onCategoryChosen: e.fnOnCategoryChosen,
                steam_award_category_voteids: o,
                type: 28,
                tags: ["steam_award_vote_request", "mod_hide_library_overview"],
                earliestAllowedStartTime: n,
                latestAllowedEndTime: i,
                actionEndTime: i,
              })
            )
          );
        }),
        le = function (e) {
          var t = e.fnOnCategoryChosen,
            a = l.c.GetEditModel(),
            n = Object(v.b)(a.GetClanSteamID().GetAccountID()),
            i = (n[0], n[1]);
          return w.a.GetTimeNowWithOverride() < s.e &&
            ((null == i ? void 0 : i.is_ogg) ||
              (!(null == i ? void 0 : i.is_ogg) && m.h.is_support)) &&
            m.c.EREALM != X.f.k_ESteamRealmChina
            ? c.createElement(se, { fnOnCategoryChosen: t })
            : null;
        },
        se = function (e) {
          var t = l.c.GetEditModel(),
            a = t.GetAppID(),
            i = (function (e, t) {
              var a = d.a.useState(!1),
                n = a[0];
              return (
                a[1], 0 == e ? [!1, null] : [n, A.Get().GetOptInForApp(e, t)]
              );
            })(a, "sale_nextfest_oct_2021"),
            r = (i[0], i[1]),
            o = j(
              t.GetClanSteamID().GetAccountID(),
              "steam_game_festival_broadcast"
            ),
            u = Object(l.d)(t.GetClanAccountID());
          if ((null == r ? void 0 : r.opt_in) || 0 == a) {
            if (null == o || null == u)
              return c.createElement(_.a, {
                string: Object(f.f)("Loading"),
                size: "medium",
                position: "center",
              });
            var p = u.filter(function (e) {
                return e.BHasTag("steam_game_festival_broadcast");
              }).length,
              g = l.c.GetEditModel(),
              E = g.BHasTag("steam_game_festival_broadcast"),
              b = o.find(function (e) {
                return e.clan_event_gid == g.GetGID();
              }),
              h = !b && o.length + p >= 2 && !E,
              v = !b && g.GetGID() && g.BPublished() && !E;
            return v && !m.h.is_support
              ? c.createElement(
                  "div",
                  { className: V.a.EventCategory_SpecialCategory },
                  c.createElement(
                    "div",
                    { className: V.a.TitleCtn },
                    c.createElement(
                      "div",
                      { className: V.a.Title },
                      Object(f.f)("#EventCategory_SteamGameFestival_Title")
                    ),
                    c.createElement(
                      "div",
                      { className: V.a.Summary },
                      Object(f.f)("#EventCategory_SteamGameFestival_Published")
                    )
                  )
                )
              : h && !m.h.is_support
              ? c.createElement(
                  "div",
                  { className: V.a.EventCategory_SpecialCategory },
                  c.createElement(
                    "div",
                    { className: V.a.TitleCtn },
                    c.createElement(
                      "div",
                      { className: V.a.Title },
                      Object(f.f)("#EventCategory_SteamGameFestival_Title")
                    ),
                    c.createElement(
                      "div",
                      { className: V.a.Summary },
                      Object(f.l)("#EventCategory_SteamGameFestival_Max", 2)
                    )
                  )
                )
              : c.createElement(
                  "div",
                  { className: V.a.EventCategory_SpecialCategory },
                  c.createElement(
                    "div",
                    { className: V.a.TitleCtn },
                    c.createElement(
                      "div",
                      { className: V.a.Title },
                      Object(f.f)("#EventCategory_SteamGameFestival_Title")
                    ),
                    c.createElement(
                      "div",
                      { className: V.a.Summary },
                      Object(f.f)("#EventCategory_SteamGameFestival_Summary")
                    ),
                    Boolean(h && m.h.is_support) &&
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            $.WarningStylesWithIcon,
                            V.a.WarningCtn
                          ),
                        },
                        Object(f.l)("#EventCategory_SteamGameFestival_Max", 2),
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)(
                            "#EventCategory_SteamGameFestival_MaxByPass"
                          )
                        )
                      ),
                    Boolean(v && m.h.is_support) &&
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            $.WarningStylesWithIcon,
                            V.a.WarningCtn
                          ),
                        },
                        Object(f.f)(
                          "#EventCategory_SteamGameFestival_Published",
                          2
                        ),
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)(
                            "#EventCategory_SteamGameFestival_PublishedByPass"
                          )
                        )
                      ),
                    c.createElement(
                      "a",
                      {
                        href:
                          "https://partner.steamgames.com/doc/marketing/steamnextfest/2021oct",
                        target: "_blank",
                        className: Object(N.a)(L.a.Button, te.Link),
                      },
                      Object(f.f)("#EventCategory_SteamGameFestival_Link")
                    )
                  ),
                  c.createElement(
                    Y,
                    Object(n.a)({}, s.c.broadcast, {
                      onCategoryChosen: e.fnOnCategoryChosen,
                    })
                  )
                );
          }
          return null;
        },
        ce = function (e) {
          return M.Get().BHasOptInSpecialEvents()
            ? c.createElement(
                c.Fragment,
                null,
                M.Get()
                  .GetAllSpecialEvents()
                  .map(function (t) {
                    return c.createElement(de, {
                      key: t.optInName,
                      fnOnCategoryChosen: e.fnOnCategoryChosen,
                      specialEventInfo: t,
                    });
                  })
              )
            : null;
        },
        de = function (e) {
          var t = e.fnOnCategoryChosen,
            a = e.specialEventInfo,
            n = a.localized_event_name || a.localized_optin_name;
          return (
            "dev" == m.c.WEB_UNIVERSE &&
              console.log("debug opt-in categpry type", Object(G.I)(a)),
            c.createElement(
              "div",
              { className: V.a.EventCategory_SpecialCategory },
              c.createElement(
                "div",
                { className: V.a.TitleCtn },
                c.createElement(
                  "div",
                  { className: V.a.Title },
                  Object(f.f)("#EventCategory_SpecialEvents", n)
                ),
                c.createElement(
                  "div",
                  { className: V.a.Summary },
                  Object(f.f)("#EventCategory_SpecialEvent_Summary")
                ),
                Boolean(a.event_type_max) &&
                  c.createElement(
                    "div",
                    { className: V.a.Summary },
                    Object(f.l)(
                      "#EventCategory_SpecialEvent_Max",
                      a.event_type_max
                    )
                  ),
                Boolean(a.doc_url) &&
                  c.createElement(
                    c.Fragment,
                    null,
                    c.createElement("br", null),
                    c.createElement(
                      "a",
                      {
                        href: a.doc_url,
                        target: "_blank",
                        className: Object(N.a)(L.a.Button, te.Link),
                      },
                      Object(f.f)("#EventCategory_SpecialEvent_Link", n)
                    )
                  )
              ),
              c.createElement(ue, {
                fnOnCategoryChosen: t,
                specialEventInfo: a,
              })
            )
          );
        };
      function ue(e) {
        var t = e.fnOnCategoryChosen,
          a = e.specialEventInfo,
          i = s.b.news;
        s.d.forEach(function (e) {
          var t;
          (null === (t = s.b[e]) || void 0 === t ? void 0 : t.type) == a.type &&
            (i = s.b[e]);
        });
        var r =
            (a.localized_event_name || a.localized_optin_name) +
            ": " +
            Object(f.f)(i.name),
          o = a.tag,
          d = l.c.GetEditModel(),
          u = j(d.GetClanSteamID().GetAccountID(), o),
          p = Object(l.d)(d.GetClanAccountID());
        if (null == u || null == p)
          return c.createElement(_.a, {
            string: Object(f.f)("Loading"),
            size: "medium",
            position: "center",
          });
        d.GetAppID();
        var g = d.BHasTag(o),
          E = u.find(function (e) {
            return e.clan_event_gid == d.GetGID();
          }),
          b = Boolean(a.event_type_max) ? a.event_type_max : Number.MAX_VALUE,
          h = p.filter(function (e) {
            return e.BHasTag(a.optInName);
          }).length,
          v = !E && u.length + h >= b && !g,
          S = !E && d.GetGID() && d.BPublished() && !g;
        return S && !m.h.is_support
          ? c.createElement(
              "div",
              { className: V.a.Summary },
              Object(f.f)("#EventCategory_SteamGameFestival_Published")
            )
          : v && !m.h.is_support
          ? c.createElement(
              "div",
              { className: V.a.Summary },
              Object(f.l)("#EventCategory_SteamGameFestival_Max", b)
            )
          : c.createElement(
              c.Fragment,
              null,
              Boolean(v && m.h.is_support) &&
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      $.WarningStylesWithIcon,
                      V.a.WarningCtn
                    ),
                  },
                  Object(f.l)("#EventCategory_SteamGameFestival_Max", b),
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventCategory_SteamGameFestival_MaxByPass")
                  )
                ),
              Boolean(S && m.h.is_support) &&
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      $.WarningStylesWithIcon,
                      V.a.WarningCtn
                    ),
                  },
                  Object(f.f)("#EventCategory_SteamGameFestival_Published", b),
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)(
                      "#EventCategory_SteamGameFestival_PublishedByPass"
                    )
                  )
                ),
              c.createElement(
                Y,
                Object(n.a)({}, i, {
                  tags: [o],
                  onCategoryChosen: t,
                  name: r,
                  description: a.localized_description || "",
                })
              )
            );
      }
      var pe = a("EC67"),
        me = a("55Ip"),
        _e = a("uIWk"),
        ge = a("IzPI"),
        Ee = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props.bOn;
              return c.createElement(
                "div",
                { className: e ? k.OnIndicator : k.OffIndicator },
                Object(f.f)(e ? "#Dialog_On" : "#Dialog_Off")
              );
            }),
            t
          );
        })(c.PureComponent),
        be = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                return Object(n.e)(this, function (e) {
                  return (
                    u.a.EnsureStoreCapsuleInfoLoaded(m.b.APPID),
                    m.b.IS_CREATOR_HOME
                      ? _e.a.LoadCreatorHome(new g.a(m.b.CLANSTEAMID), null)
                      : m.b.IS_CURATOR &&
                        m.b.VANITY_ID &&
                        v.a.LoadOGGClanInfoForIdentifier(m.b.VANITY_ID),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.render = function () {
              var e = null,
                t = null,
                a = null;
              if (m.b.IS_CREATOR_HOME) {
                var n = _e.a.GetCreatorHome(new g.a(m.b.CLANSTEAMID));
                n &&
                  n.BIsLoaded() &&
                  ((e = Object(ge.g)(n.GetCreatorHomeURL("developer"))),
                  (t = n.GetAvatarURLFullSize()),
                  (a = n.GetName()));
              } else if (m.b.IS_CURATOR) {
                var i = v.a.GetOGGClanInfo(m.b.VANITY_ID);
                i &&
                  ((e = m.c.COMMUNITY_BASE_URL + "groups/" + m.b.VANITY_ID),
                  (t = i.avatar_full_url),
                  (a = i.group_name));
              } else {
                var r = u.a.GetStoreCapsuleInfo(m.b.APPID),
                  o = r && r.GetAppStoreData();
                o &&
                  ((e = Object(ge.g)(o.capsule_link)),
                  (t = o.tiny_capsule),
                  (a = o.title));
              }
              return t && a
                ? c.createElement(
                    "div",
                    { className: k.EventDashboardAppCtn },
                    c.createElement(
                      "div",
                      { className: k.AppTitle },
                      c.createElement(
                        "a",
                        { href: e, target: m.c.IN_CLIENT ? void 0 : "_blank" },
                        c.createElement("img", { src: t }),
                        a
                      )
                    )
                  )
                : null;
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        he = a("UvY0"),
        ve = function (e) {
          var t = e.clanInfo,
            a = e.onCategoryChosen;
          if (!t) return null;
          var i = h.a.Get().GetPartnerEventPermissions(t.clanSteamID);
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(
              Y,
              Object(n.a)({}, s.a.news, { onCategoryChosen: a })
            ),
            c.createElement(
              Y,
              Object(n.a)({}, s.a.public, { onCategoryChosen: a })
            ),
            Boolean(t.is_creator_home || i.valve_admin) &&
              c.createElement(
                Y,
                Object(n.a)({}, s.a.salepage, {
                  onCategoryChosen: a,
                  bIsValveOnly: !t.is_creator_home,
                })
              )
          );
        },
        fe = function (e) {
          var t = e.onCategoryChosen;
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(Y, {
              name: "#EventCategory_GameUpdate",
              description: "#EventCategory_GameUpdate_Desc",
              icon: "13",
              onCategoryChosen: t,
              subCategories: [
                s.b.small_update,
                s.b.regular_update,
                s.b.major_update,
              ],
            }),
            c.createElement(Y, {
              name: "#EventCategory_GameRelease",
              description: "#EventCategory_GameRelease_Desc",
              icon: "16",
              onCategoryChosen: t,
              subCategories: [
                s.b.release,
                s.b.future_release,
                s.b.beta_release,
                s.b.dlc_release,
                s.b.season_release,
              ],
            }),
            c.createElement(Y, {
              name: "#EventCategory_Sales",
              description: "#EventCategory_Sales_Desc",
              icon: "20",
              subCategoryDesc: "#EventCategory_Sales_Sub_Desc",
              onCategoryChosen: t,
              subCategoryTitle: "#EventCategory_Sales_Sub_Title",
              subCategories: [s.b.sale, s.b.gameitem_sale, s.b.trial],
            }),
            c.createElement(Y, {
              name: "#EventCategory_InGame",
              description: "#EventCategory_InGame_Desc",
              icon: "35",
              subCategoryDesc: "#EventCategory_Specials_Sub_Desc",
              onCategoryChosen: t,
              subCategoryTitle: "#EventCategory_Specials_Sub_Title",
              subCategories: [s.b.bonusxp, s.b.loot, s.b.perks, s.b.general],
            }),
            c.createElement(Y, {
              name: "#EventCategory_Challenge",
              description: "#EventCategory_Challenge_Desc",
              icon: "25",
              subCategoryDesc: "#EventCategory_Challenge_Sub_Desc",
              onCategoryChosen: t,
              subCategoryTitle: "#EventCategory_Challenge_Sub_Title",
              subCategories: [s.b.challenge, s.b.contest],
            }),
            c.createElement(
              Y,
              Object(n.a)({}, s.b.broadcast, { onCategoryChosen: t })
            ),
            c.createElement(
              Y,
              Object(n.a)({}, s.b.news, { onCategoryChosen: t })
            ),
            c.createElement(
              Y,
              Object(n.a)({}, s.b.chat, { onCategoryChosen: t })
            ),
            c.createElement(
              Y,
              Object(n.a)({}, s.b.irl, { onCategoryChosen: t })
            ),
            c.createElement(
              Y,
              Object(n.a)({}, s.b.crosspost, { onCategoryChosen: t })
            )
          );
        },
        Se = Object(I.a)(function (e) {
          var t = e.editModel,
            a = Object(v.b)(t.GetClanSteamID().GetAccountID()),
            n = (a[0], a[1]),
            i = c.useState(!1),
            r = i[0],
            s = i[1];
          c.useEffect(
            function () {
              t.BHasGid() || window.scrollTo(0, 0);
            },
            [t]
          );
          var d = function () {
              return s(!0);
            },
            u = "" + t.GetStrVanityOrAppID();
          if (r) {
            var p = t.GetGID(),
              m = t.GetEventModel().bOldAnnouncement;
            return c.createElement(pe.b, {
              push: !0,
              to: m ? o.a.Migrate(u, t.GetAnnouncementGID()) : o.a.Edit(u, p),
            });
          }
          return c.createElement(
            "div",
            null,
            c.createElement(E.e, null),
            c.createElement(
              "div",
              {
                className: Object(N.a)(
                  "maincontent",
                  "pagecontent",
                  V.a.eventcategory_picker_page
                ),
              },
              c.createElement(
                "div",
                { className: L.a.EventDashboardHeader },
                c.createElement(be, {
                  identifier: e.match.params.appid_or_vanity_str,
                  partnerEventStore: l.c,
                }),
                c.createElement(
                  "div",
                  { className: L.a.EventDashboardTitles },
                  c.createElement(
                    "div",
                    { className: L.a.maintitle },
                    Object(f.f)("#EventDisplay_EventCreateTitle")
                  ),
                  c.createElement(
                    "div",
                    { className: L.a.EventDashboardActions },
                    c.createElement(
                      me.b,
                      {
                        className: Object(N.a)(L.a.Button),
                        to: o.a.Home(e.match.params.appid_or_vanity_str),
                      },
                      Object(f.f)("#EventDisplay_Events")
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: L.a.subtitle },
                  Object(f.f)("#EventCategory_Communicate")
                )
              ),
              c.createElement(
                "div",
                { className: V.a.EventCategoryColumns },
                c.createElement(
                  "div",
                  { className: V.a.EventCategoryLeftCol },
                  c.createElement(
                    "div",
                    { className: V.a.EventCategory_Top_Title },
                    Object(f.f)("#EventCategory_SelectCategory")
                  ),
                  Boolean(n)
                    ? Boolean(n.is_curator || n.is_creator_home)
                      ? c.createElement(
                          c.Fragment,
                          null,
                          c.createElement(ve, {
                            clanInfo: n,
                            onCategoryChosen: d,
                          }),
                          c.createElement(
                            he.b,
                            {
                              clanSteamID: t.GetClanSteamID(),
                              requireAdmin: !0,
                            },
                            c.createElement(ae, { fnOnCategoryChosen: d }),
                            c.createElement(fe, { onCategoryChosen: d })
                          )
                        )
                      : c.createElement(
                          c.Fragment,
                          null,
                          c.createElement(ae, { fnOnCategoryChosen: d }),
                          c.createElement(fe, { onCategoryChosen: d })
                        )
                    : c.createElement(_.a, {
                        position: "center",
                        string: Object(f.f)("#Loading"),
                      })
                ),
                c.createElement(Q, null)
              )
            )
          );
        }),
        Oe = S(function (e) {
          return c.createElement(Se, {
            match: e.match,
            editModel: l.c.GetEditModel(),
          });
        }),
        ye = a("WFIl"),
        Ce = a("6oCP"),
        je = a("KzMr"),
        Te = a("Jqb/"),
        Ie = a("ka0M"),
        De = a("r64O"),
        we = a("EOKZ"),
        Ge = a.n(we),
        Ae = a("mgoM"),
        Me = a("Mgs7"),
        ke = a("IjL/"),
        Le = a("Z7M3"),
        Ne = a("mB/g"),
        Be = a("02Wr"),
        Re = a("YLyR"),
        Fe = a("X3Ds"),
        Pe = a("Q47U"),
        xe = a("dZOt"),
        Ue = a("yKSN"),
        He = a("5E+2"),
        Ve = a("P2lf"),
        ze = "email_headline_",
        We = "email_body_",
        qe = "sale_section_label_id_",
        Ye = "sale_section_text_id_",
        Je = "email_subject",
        Qe = "sale_tab_name_",
        Ze = "sale_facet_name_",
        Ke = "sale_facetvalue_name_",
        Xe = "sale_facetvalue_subtitle_",
        $e = "sale_reservation_bbcode_",
        et = "sale_section_desc_",
        tt = "broadcast_custom_title";
      function at(e, t, a, n) {
        var i,
          r = new Ve.b();
        if (t)
          for (var o = 0; o < 30; ++o) {
            var l = e.GetEventModel();
            (e.BHasLanguageTitle(o) || 0 == o) &&
              r.SetLocalization("title", o, e.GetName(o)),
              (l.BHasSubTitle(o) || 0 == o) &&
                r.SetLocalization("subtitle", o, e.GetSubTitle(o)),
              (e.BHasLanguageDescription(o) || 0 == o) &&
                r.SetLocalization("body", o, e.GetDescription(o)),
              (l.BHasSummary(o) || 0 == o) &&
                r.SetLocalization("summary", o, e.GetSummary(o));
          }
        if (a && e.BHasEmailEnabled()) {
          var s = e.GetEmailSettings();
          if (m.b.IS_VALVE_GROUP) {
            var c = new xe.b(e.GetEmailSettings());
            for (o = 0; o < 30; ++o)
              c.BHasLocalizedSubject(o) &&
                r.SetLocalization(Je, o, c.GetLocalizedSubject(o));
          }
          s.sections.forEach(function (e, t) {
            for (var a = new xe.a(e), n = 0; n < 30; ++n)
              a.BHasHeadlineInLanguage(n) &&
                r.SetLocalization(ze + t, n, a.GetHeadline(n)),
                a.BHasBodyInLanguage(n) &&
                  r.SetLocalization(We + t, n, a.GetBody(n));
          });
        }
        var d = e.GetEventModel().jsondata;
        if (
          (null == d ? void 0 : d.bBroadcastEnabled) &&
          (null === (i = null == d ? void 0 : d.localized_broadcast_title) ||
          void 0 === i
            ? void 0
            : i.length) > 0
        )
          for (o = 0; o < 30; ++o)
            if (Boolean(f.a.Get(d.localized_broadcast_title, o))) {
              var u = d.localized_broadcast_title[o];
              r.SetLocalization(tt, o, u);
            }
        return (
          n &&
            e.BHasSaleEnabled() &&
            e.GetSaleSections().forEach(function (t, a) {
              for (
                var n,
                  i = function (i) {
                    if (
                      (e.BHasSaleSectionLabelLocalization(i, a) &&
                        r.SetLocalization(
                          qe + t.unique_id,
                          i,
                          t.localized_label[i]
                        ),
                      e.BHasSaleSectionTextLocalization(i, a) &&
                        r.SetLocalization(
                          Ye + t.unique_id,
                          i,
                          t.text_section_contents[i]
                        ),
                      e.BHasSaleSectionDescriptionBBCode(i, a) &&
                        r.SetLocalization(
                          et + t.unique_id,
                          i,
                          t.localized_description[i]
                        ),
                      "tabs" === t.section_type && t.tabs)
                    )
                      for (var o = 0, l = t.tabs; o < l.length; o++) {
                        var s = l[o];
                        e.BHasSaleSectionTabName(i, s) &&
                          r.SetLocalization(
                            Qe + t.unique_id + "_" + s.unique_id,
                            i,
                            s.localized_label[i]
                          );
                      }
                    t.enable_faceted_browsing &&
                      (t.facets.forEach(function (a) {
                        e.BHasSaleSectionFacetName(i, a) &&
                          r.SetLocalization(
                            Ze + t.unique_id + "_" + a.unique_id,
                            i,
                            a.name[i]
                          );
                      }),
                      t.facets.forEach(function (a) {
                        a.facetValues.forEach(function (n) {
                          e.BHasSaleSectionFacetValueName(i, n) &&
                            r.SetLocalization(
                              Ke +
                                t.unique_id +
                                "_" +
                                a.unique_id +
                                "_" +
                                n.unique_id,
                              i,
                              n.name[i]
                            ),
                            e.BHasSaleSectionFacetValueSubtitle(i, n) &&
                              r.SetLocalization(
                                Xe +
                                  t.unique_id +
                                  "_" +
                                  a.unique_id +
                                  "_" +
                                  n.unique_id,
                                i,
                                n.subtitle[i]
                              );
                        });
                      })),
                      "vo_internal" == t.section_type &&
                        "reservation_widget" ==
                          (null === (l = t.internal_section_data) ||
                          void 0 === l
                            ? void 0
                            : l.internal_type) &&
                        (null ===
                          (n = t.internal_section_data.reservation_options) ||
                        void 0 === n
                          ? void 0
                          : n.length) > 0 &&
                        t.internal_section_data.reservation_options.forEach(
                          function (e) {
                            e.localized_reservation_desc &&
                              Boolean(
                                f.a.Get(e.localized_reservation_desc, i)
                              ) &&
                              r.SetLocalization(
                                $e + t.unique_id + "_" + e.unique_id,
                                i,
                                e.localized_reservation_desc[i]
                              );
                          }
                        );
                  },
                  o = 0;
                o < 30;
                ++o
              )
                i(o);
            }),
          r
        );
      }
      function nt(e, t, a) {
        var n = new Array(),
          i = t.GetSortedTokenList();
        return (
          Object(G.G)(function () {
            a.forEach(function (a) {
              var r = !1;
              i.forEach(function (n) {
                var i = t.GetLocalization(n, a) || "";
                if (
                  ("title" === n &&
                    (i || e.BHasLanguageTitle(a)) &&
                    e.SetName(a, i) &&
                    (r = !0),
                  "body" === n &&
                    (i || e.BHasLanguageDescription(a)) &&
                    e.SetDescription(a, i) &&
                    (r = !0),
                  "subtitle" === n &&
                    (i || e.BHasLanguageSubTitle(a)) &&
                    e.SetSubTitle(a, i) &&
                    (r = !0),
                  "summary" === n &&
                    (i || e.BHasLanguageSummary(a)) &&
                    e.SetSummary(a, i) &&
                    (r = !0),
                  n === tt)
                ) {
                  var o = e.GetEventModel().jsondata;
                  if (
                    i ||
                    (o.localized_broadcast_title &&
                      Boolean(f.a.Get(o.localized_broadcast_title, a)))
                  )
                    f.a.Get(o.localized_broadcast_title, a) !== i &&
                      ((o.localized_broadcast_title = f.a.Set(
                        o.localized_broadcast_title || [],
                        a,
                        i
                      )),
                      e.SetDirty(T.c.jsondata_sales),
                      (r = !0));
                }
                if (e.BHasEmailEnabled()) {
                  var l = e.GetEmailSettings();
                  if (m.b.IS_VALVE_GROUP && n === Je) {
                    var s = new Pe.b(e);
                    (i || s.BHasLocalizedSubject(a)) &&
                      s.SetLocalizedSubject(a, i) &&
                      (r = !0);
                  }
                  l.sections.forEach(function (t, o) {
                    var l = new Pe.a(t, e);
                    l.BHasHeadline() &&
                      n === ze + o &&
                      (i || l.BHasHeadlineInLanguage(a)) &&
                      l.SetHeadline(i, a) &&
                      (r = !0),
                      l.BHasBody() &&
                        n === We + o &&
                        (i || l.BHasBodyInLanguage(a)) &&
                        l.SetBody(i, a) &&
                        (r = !0);
                  });
                }
                e.BHasSaleEnabled() &&
                  e.GetSaleSections().forEach(function (t, o) {
                    var l, s;
                    if (
                      ((n !== "sale_section_label_" + o &&
                        n !== qe + t.unique_id) ||
                        ((i || e.BHasSaleSectionLabelLocalization(a, o)) &&
                          e.SetSaleSectionLabelLocalization(a, o, i) &&
                          (r = !0)),
                      n === et + t.unique_id &&
                        (i || e.BHasSaleSectionDescriptionBBCode(a, o)) &&
                        e.SetSaleSectionDescriptionBBCode(a, o, i) &&
                        (r = !0),
                      "tabs" === t.section_type && t.tabs)
                    )
                      for (var c = 0, d = t.tabs; c < d.length; c++) {
                        var u = d[c];
                        n === Qe + t.unique_id + "_" + u.unique_id &&
                          (i || e.BHasSaleSectionTabName(a, u)) &&
                          e.SetSaleSectionTabName(a, u, i) &&
                          (r = !0);
                      }
                    "text_section" === t.section_type &&
                      n === Ye + t.unique_id &&
                      (i || e.BHasSaleSectionTextLocalization(a, o)) &&
                      e.SetSaleSectionTextLocalization(a, o, i) &&
                      (r = !0),
                      t.enable_faceted_browsing &&
                        t.facets.forEach(function (o) {
                          n === Ze + t.unique_id + "_" + o.unique_id &&
                            (i || e.BHasSaleSectionFacetName(a, o)) &&
                            e.SetSaleSectionFacetName(a, o, i) &&
                            (r = !0),
                            o.facetValues.forEach(function (l) {
                              n ===
                                Ke +
                                  t.unique_id +
                                  "_" +
                                  o.unique_id +
                                  "_" +
                                  l.unique_id &&
                                (i || e.BHasSaleSectionFacetValueName(a, l)) &&
                                e.SetSaleSectionFacetValueName(a, l, i) &&
                                (r = !0),
                                n ===
                                  Xe +
                                    t.unique_id +
                                    "_" +
                                    o.unique_id +
                                    "_" +
                                    l.unique_id &&
                                  (i ||
                                    e.BHasSaleSectionFacetValueSubtitle(
                                      a,
                                      l
                                    )) &&
                                  e.SetSaleSectionFacetValueSubtitle(a, l, i) &&
                                  (r = !0);
                            });
                        }),
                      "vo_internal" == t.section_type &&
                        "reservation_widget" ==
                          (null === (l = t.internal_section_data) ||
                          void 0 === l
                            ? void 0
                            : l.internal_type) &&
                        (null ===
                          (s = t.internal_section_data.reservation_options) ||
                        void 0 === s
                          ? void 0
                          : s.length) > 0 &&
                        t.internal_section_data.reservation_options.forEach(
                          function (o) {
                            n === $e + t.unique_id + "_" + o.unique_id &&
                              (i ||
                                (o.localized_reservation_desc &&
                                  Boolean(
                                    f.a.Get(o.localized_reservation_desc, a)
                                  ))) &&
                              f.a.Get(o.localized_reservation_desc, a) !== i &&
                              ((o.localized_reservation_desc = f.a.Set(
                                o.localized_reservation_desc || [],
                                a,
                                i
                              )),
                              e.SetDirty(T.c.jsondata_sales),
                              (r = !0));
                          }
                        );
                  });
              }),
                r && n.push(a);
            });
          }),
          n
        );
      }
      var it = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                importing: !1,
                translating: !1,
                langUpdated: new Array(),
              }),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "Unmounting LocalizationToolPartnerEvents"
              );
            }),
            (t.prototype.OnRequestTranslations = function (e) {
              var t = this;
              e.preventDefault();
              var a = this.props.editModel;
              !a.BHasGid() || a.BIsDirty()
                ? (console.log(
                    "LocalizationToolPartnerEvents: OnRequestTranslations error"
                  ),
                  Object(Ie.d)(
                    c.createElement(
                      Te.f,
                      null,
                      c.createElement(
                        "p",
                        null,
                        "We cannot initiate translation if the event has unsaved changes. Please save first."
                      )
                    ),
                    Object(Fe.m)(e)
                  ))
                : Object(Ie.d)(
                    c.createElement(Te.d, {
                      strTitle: "(VO) Localization Request",
                      strDescription:
                        "Create or update an English translate for this event and email. Best to be issued once editing is completed.",
                      onOK: function () {
                        return t.setState(
                          { translating: !0 },
                          t.RequestTranslation
                        );
                      },
                    }),
                    Object(Fe.m)(e)
                  );
            }),
            (t.prototype.RequestTranslation = function () {
              var e = this,
                t = this.props.editModel;
              l.c
                .RequestLocalizationOfEvent(
                  t.GetClanSteamID(),
                  t.GetGID(),
                  this.m_cancelSignal
                )
                .then(function () {
                  Object(Ie.d)(
                    c.createElement(Te.d, {
                      strTitle: "(VO) Localization Request",
                      strDescription:
                        "Success! Translation request pushed to CrowdIn",
                      bAlertDialog: !0,
                      closeModal: function () {
                        return e.setState({ translating: !1 });
                      },
                    }),
                    window
                  );
                })
                .catch(function (t) {
                  console.log(
                    "LocalizationToolPartnerEvents: RequestTranslation error"
                  ),
                    Object(Ie.d)(
                      c.createElement(
                        Te.f,
                        {
                          closeModal: function () {
                            return e.setState({ translating: !1 });
                          },
                        },
                        c.createElement(
                          "div",
                          null,
                          c.createElement(
                            "p",
                            null,
                            "Encountered the following error attempting to send the event information to CrowdIn:"
                          ),
                          c.createElement("p", null, Object(p.a)(t).strErrorMsg)
                        )
                      ),
                      window
                    );
                });
            }),
            (t.prototype.render = function () {
              return c.createElement(
                "div",
                { className: Object(N.a)(k.FlexRowContainer) },
                c.createElement(rt, { editModel: this.props.editModel })
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnRequestTranslations", null),
            Object(n.c)([R.a], t.prototype, "RequestTranslation", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        rt = function (e) {
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(
              He.a,
              {
                className: Object(N.a)(k.EditPreviewButton),
                toolTipContent: Object(f.f)("#EventEditor_Loc_Export_Desc0"),
              },
              c.createElement(
                "a",
                {
                  onClick: function (t) {
                    t.preventDefault(),
                      Object(Ie.d)(
                        c.createElement(ot, { editModel: e.editModel }),
                        Object(Fe.m)(t)
                      );
                  },
                },
                Object(f.f)("#EventEditor_Loc_Export_Short")
              )
            ),
            c.createElement(Ue.b, {
              strToolTip: Object(f.f)("#EventEditor_Loc_Import_ttip"),
              strLabel: Object(f.f)("#EventEditor_Loc_Import_Short"),
              fnOnImportLocData: function (t, a) {
                return nt(e.editModel, t, a);
              },
            })
          );
        },
        ot = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bShowCSV: !0,
                bExportEventBody: !0,
                bExportEmail: t.props.editModel.BHasEmailEnabled(),
                bExportSale: t.props.editModel.BHasSaleEnabled(),
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.GetLocalizationFilePrefix = function () {
              var e = this.props.editModel.GetName(0);
              return (e && "" != e.trim()) || (e = "event"), e;
            }),
            (t.prototype.GetLocalizationModel = function () {
              return at(
                this.props.editModel,
                this.state.bExportEventBody,
                this.state.bExportEmail,
                this.state.bExportSale
              );
            }),
            (t.prototype.OnExportTypeChange = function (e) {
              this.setState({ bShowCSV: "csv" == e });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                a = t.closeModal,
                n = t.editModel,
                i = h.a.Get().GetPartnerEventPermissions(n.GetClanSteamID());
              return c.createElement(
                Te.e,
                { onCancel: a, closeModal: a },
                c.createElement(
                  Me.k,
                  null,
                  Object(f.f)("#EventEditor_Loc_Export")
                ),
                c.createElement(
                  Me.b,
                  null,
                  c.createElement(
                    Me.c,
                    null,
                    c.createElement(
                      "div",
                      { className: Object(N.a)(k.FlexColumnContainer) },
                      c.createElement(
                        "p",
                        null,
                        Object(f.f)("#EventEditor_Loc_Export_Desc0")
                      ),
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            k.FlexRowContainer,
                            k.RadioOption
                          ),
                        },
                        c.createElement("input", {
                          type: "radio",
                          name: "ExportOption",
                          id: "EventEditor_ExportCSVOption",
                          value: "csv",
                          checked: this.state.bShowCSV,
                          onChange: function () {
                            return e.OnExportTypeChange("csv");
                          },
                        }),
                        c.createElement(
                          "label",
                          { htmlFor: "EventEditor_ExportCSVOption" },
                          c.createElement(
                            "span",
                            null,
                            Object(f.f)("#EventEditor_Loc_Export_CSV")
                          )
                        )
                      ),
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            k.FlexRowContainer,
                            k.RadioOption
                          ),
                        },
                        c.createElement("input", {
                          type: "radio",
                          name: "ExportOption",
                          id: "EventEditor_ExportXMLOption",
                          value: "xml",
                          checked: !this.state.bShowCSV,
                          onChange: function () {
                            return e.OnExportTypeChange("xml");
                          },
                        }),
                        c.createElement(
                          "label",
                          { htmlFor: "EventEditor_ExportXMLOption" },
                          c.createElement(
                            "span",
                            null,
                            Object(f.f)("#EventEditor_Loc_Export_XML")
                          )
                        )
                      ),
                      Boolean(
                        i.support_user &&
                          (n.BHasSaleEnabled() || n.BHasEmailEnabled)
                      ) &&
                        c.createElement(
                          "div",
                          { className: k.ValveOnlyBackground },
                          c.createElement(
                            "p",
                            null,
                            "(VO) Identify which sections to export"
                          ),
                          c.createElement(Me.e, {
                            label: "Export Event Body",
                            onChange: function (t) {
                              return e.setState({ bExportEventBody: t });
                            },
                            checked: this.state.bExportEventBody,
                          }),
                          c.createElement(Me.e, {
                            disabled: !n.BHasEmailEnabled(),
                            label: "Export Email",
                            onChange: function (t) {
                              return e.setState({ bExportEmail: t });
                            },
                            checked: this.state.bExportEmail,
                          }),
                          c.createElement(Me.e, {
                            disabled: !n.BHasSaleEnabled(),
                            label: "Export Sales",
                            onChange: function (t) {
                              return e.setState({ bExportSale: t });
                            },
                            checked: this.state.bExportSale,
                          })
                        ),
                      this.state.bShowCSV
                        ? c.createElement(
                            c.Fragment,
                            null,
                            c.createElement(
                              "p",
                              null,
                              Object(f.f)("#EventEditor_Loc_Export_Desc")
                            ),
                            c.createElement(
                              "p",
                              null,
                              Object(f.f)("#EventEditor_Loc_Export_Desc2")
                            ),
                            c.createElement(
                              "p",
                              null,
                              Object(f.f)("#EventEditor_Loc_Export_Desc3")
                            )
                          )
                        : c.createElement(
                            c.Fragment,
                            null,
                            c.createElement(
                              "p",
                              null,
                              Object(f.f)("#EventEditor_Loc_Export_XMLDesc")
                            ),
                            c.createElement(
                              "p",
                              null,
                              Object(f.f)("#EventEditor_Loc_Export_XMLDesc2")
                            )
                          )
                    )
                  ),
                  c.createElement(
                    Me.j,
                    null,
                    c.createElement(Ue.a, {
                      fnGetLocData: this.GetLocalizationModel,
                      bShowCSV: this.state.bShowCSV,
                      bShowXML: !this.state.bShowCSV,
                      strFileNamePrefix: this.GetLocalizationFilePrefix(),
                      lang: this.props.editModel.GetCurEditLanguage(),
                      closeModal: this.props.closeModal,
                    }),
                    c.createElement(
                      Me.d,
                      { onClick: a },
                      Object(f.f)("#Button_Cancel")
                    )
                  )
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "GetLocalizationModel", null),
            Object(n.c)([R.a], t.prototype, "OnExportTypeChange", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        lt = a("4r3H");
      var st = a("pdAa"),
        ct = a.n(st);
      function dt(e) {
        var t = e.eventModel,
          a = e.bAllowUpdate,
          n = Object(lt.a)(t),
          i = n[0],
          r = n[1];
        if (
          !(function (e) {
            switch (e) {
              case 12:
              case 13:
              case 14:
                return !0;
            }
            return !1;
          })(t.type) &&
          !i
        )
          return null;
        var o = c.createElement(
          "span",
          { className: Object(N.a)(ct.a.BuildDisplay, ct.a.BuildUnlinked) },
          Object(f.f)("#EventEditor_AssociateBuildBlank")
        );
        if (i) {
          var l = c.createElement(
            "a",
            {
              className: Object(N.a)(ct.a.BuildIDLink),
              href:
                m.c.PARTNER_BASE_URL + "apps/builddetails/" + t.appid + "/" + i,
              onClick: function (e) {
                return e.stopPropagation();
              },
            },
            i
          );
          o = r
            ? c.createElement(
                "span",
                {
                  className: Object(N.a)(
                    ct.a.BuildDisplay,
                    ct.a.BuildLinkedBranch
                  ),
                },
                Object(f.n)("#EventEditor_AssociatedBuild", l, r)
              )
            : c.createElement(
                "span",
                {
                  className: Object(N.a)(
                    ct.a.BuildDisplay,
                    ct.a.BuildLinkedDefault
                  ),
                },
                Object(f.n)("#EventEditor_AssociatedBuild_Default", l)
              );
        } else if (!a) return null;
        return c.createElement(
          "div",
          { className: ct.a.AssociatedBuildBody },
          o,
          e.children
        );
      }
      var ut = Object(I.a)(function (e) {
        var t = e.editModel.GetEventModel();
        return c.createElement(
          dt,
          { eventModel: t, bAllowUpdate: !0 },
          c.createElement(
            "span",
            {
              "data-tooltip-text": Object(f.f)(
                "#EventEditor_AssociateBuild_ttip"
              ),
              className: L.a.tooltip_Ctn,
            },
            "?"
          ),
          c.createElement(
            Me.d,
            {
              onClick: function (t) {
                return Object(Ie.d)(
                  c.createElement(pt, { editModel: e.editModel }),
                  Object(Fe.m)(t)
                );
              },
            },
            Object(f.f)("#EventEditor_AssociateBuild")
          )
        );
      });
      var pt = function (e) {
        var t = e.editModel,
          a = e.closeModal,
          n = (function (e) {
            var t = c.useState(null),
              a = t[0],
              n = t[1];
            return (
              c.useEffect(
                function () {
                  if ((n(null), e)) {
                    var t = y.a.CancelToken.source(),
                      a =
                        m.c.COMMUNITY_BASE_URL +
                        "ogg/" +
                        e +
                        "/ajaxgetappbranches";
                    return (
                      y.a
                        .get(a, { withCredentials: !0, cancelToken: t.token })
                        .then(function (e) {
                          var a;
                          if (!t.token.reason) {
                            var i =
                              1 ==
                              (null === (a = null == e ? void 0 : e.data) ||
                              void 0 === a
                                ? void 0
                                : a.success);
                            n(i ? e.data.branches : []);
                          }
                        })
                        .catch(function (e) {
                          if (!t.token.reason) {
                            var a = Object(p.a)(e);
                            console.error("useBranchInfo: " + a.strErrorMsg, a);
                          }
                        }),
                      function () {
                        return t.cancel("useBranchInfo: unmounting");
                      }
                    );
                  }
                },
                [e]
              ),
              a
            );
          })(t.GetEventModel().appid),
          i = c.useState(void 0),
          r = i[0],
          o = i[1],
          l = (function (e) {
            var t = Object(lt.a)(e.GetEventModel()),
              a = t[0],
              n = t[1];
            return [
              a,
              n,
              function (t, i) {
                (a == t && n == i) ||
                  ((e.GetEventModel().m_nBuildID = t),
                  (e.GetEventModel().m_strBuildBranch = i),
                  e.SetDirty(T.c.description));
              },
            ];
          })(t),
          s = (l[0], l[1], l[2]);
        if ((null == n ? void 0 : n.length) && void 0 === r) {
          var d = n.find(function (e) {
            return "" == e.branch;
          });
          d && o(d);
        }
        var u = Boolean(n),
          g = new Array();
        return (
          g.push({
            label: Object(f.f)("#EventEditor_AssociateBuildClear"),
            data: null,
          }),
          null == n ||
            n.forEach(function (e) {
              var t, a;
              g.push({
                label:
                  ((t = e),
                  (a = new Date(1e3 * t.date).toLocaleDateString()),
                  t.branch
                    ? Object(f.f)(
                        "#EventEditor_AssociateBuildBranch",
                        t.branch,
                        t.build_id,
                        a
                      )
                    : Object(f.f)(
                        "#EventEditor_AssociateBuildDefaultBranch",
                        t.build_id,
                        a
                      )),
                data: e,
              });
            }),
          c.createElement(
            ke.a,
            null,
            c.createElement(
              Ie.a,
              { onEscKeypress: a },
              c.createElement(
                Me.f,
                null,
                c.createElement(
                  Me.k,
                  null,
                  Object(f.f)("#EventEditor_AssociateBuildDialog")
                ),
                c.createElement(
                  Me.b,
                  null,
                  c.createElement(
                    Me.c,
                    null,
                    Object(f.f)("#EventEditor_AssociateBuildDialogDesc")
                  ),
                  u &&
                    c.createElement(Me.h, {
                      rgOptions: g,
                      selectedOption: r,
                      onChange: function (e) {
                        return o(e.data);
                      },
                    }),
                  !u && c.createElement(_.a, null)
                ),
                c.createElement(
                  Me.j,
                  null,
                  c.createElement(Me.n, {
                    onCancel: a,
                    bOKDisabled: !u,
                    onOK: function () {
                      s(
                        null == r ? void 0 : r.build_id,
                        null == r ? void 0 : r.branch
                      ),
                        a();
                    },
                  })
                )
              )
            )
          )
        );
      };
      function mt(e, t) {
        var a = new Array(),
          n = e.BPublished(),
          i = e.BHidden(),
          r = w.a.GetTimeNowWithOverride(),
          o = e.ComputeStartTime(r),
          l = e.ComputeVisibilityStartTime(r, o),
          s =
            e.GetEndTimeEditChoice() == T.b.k_EDuration
              ? e.ComputeDurationBasedRoundedEndTime()
              : e.GetEventEndTime(),
          d = Object(B.c)(e.GetEventType(), e.GetEventModel().vecTags);
        (!n && e.GetStartTimeEditChoice() != T.d.k_ESpecified) ||
          (o && 0 != o) ||
          a.push(
            c.createElement(
              "li",
              { key: "EventEdit_Error_StartTimeNotSet" },
              c.createElement(
                "div",
                { className: ee.a.ErrorStyles },
                Object(f.f)("#EventEdit_Error_StartTimeNotSet")
              )
            )
          ),
          n &&
            i &&
            l > o &&
            a.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_VisibilityAfterStart" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEdit_Error_VisibilityAfterStart")
                )
              )
            ),
          e.BIsValidStartTimeForEdit() ||
            (e.GetEventStartTime() < e.GetEarliestStartTimeForEdit()
              ? a.push(
                  c.createElement(
                    "li",
                    { key: "EventEdit_Error_StartTimeTooEarly_" + o },
                    c.createElement(
                      "div",
                      { className: ee.a.ErrorStyles },
                      Object(f.n)(
                        "#EventEdit_Error_StartTimeTooEarly",
                        c.createElement(Re.a, {
                          dateAndTime: e.GetEventStartTime(),
                          bSingleLine: !0,
                        }),
                        c.createElement(Re.a, {
                          dateAndTime: e.GetEarliestStartTimeForEdit(),
                          bSingleLine: !0,
                        })
                      )
                    )
                  )
                )
              : a.push(
                  c.createElement(
                    "li",
                    { key: "EventEdit_Error_StartTimeInPast_" + o },
                    c.createElement(
                      "div",
                      { className: ee.a.ErrorStyles },
                      Object(f.n)(
                        "#EventEdit_Error_StartTimeInPast",
                        c.createElement(Re.a, {
                          dateAndTime: e.GetEventStartTime(),
                          bSingleLine: !0,
                        })
                      )
                    )
                  )
                ));
        var u = Object(B.a)(e.GetCategoryAsType());
        !n ||
          !u ||
          (e.GetEventEndTime() && 0 != e.GetEventEndTime()) ||
          e.GetEndTimeEditChoice() != T.b.k_ESpecified ||
          a.push(
            c.createElement(
              "li",
              { key: "EventEdit_Error_EndTimeNeededNotSet" },
              c.createElement(
                "div",
                { className: ee.a.ErrorStyles },
                Object(f.f)("#EventEdit_Error_EndTimeNeededNotSet")
              )
            )
          ),
          u &&
            (t || n) &&
            s < o &&
            a.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_EndTimeBeforeStart" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEdit_Error_EndTimeBeforeStart")
                )
              )
            );
        for (var p = 0, m = 0; m < 30; ++m) {
          var _ = e.BIsLanguageValidForRealms(m),
            g = Object(f.f)("#Language_" + Object(Ae.a)(m));
          if (_ && e.BHasLanguage(m) && !e.BHasLanguageRequired(m)) {
            var E = e.BHasLanguageTitle(m)
              ? "EventEdit_Error_TitleExistsMissingDesc"
              : "EventEdit_Error_DescExistsMissingTitle";
            a.push(
              c.createElement(
                "li",
                { key: E + m },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#" + E, g)
                )
              )
            );
          }
          e.BHasLanguageDescription(m) &&
            Array.from(e.GetDescription(m)).length > 32e3 &&
            a.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_DescriptionTooLong" + m },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEdit_Error_DescriptionTooLong", g)
                )
              )
            ),
            f.b.IsELanguageValidInRealm(m, X.f.k_ESteamRealmGlobal) &&
              e.BHasLanguageRequired(m) &&
              ++p;
        }
        if (
          (e.BInRealmGlobal() &&
            0 == p &&
            a.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_MissingTitleAndDesc" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEdit_Error_MissingTitleAndDesc")
                )
              )
            ),
          e.BInRealmChina())
        )
          for (
            var b = 0,
              h = f.b.GetLanguageListForRealms([X.f.k_ESteamRealmChina]);
            b < h.length;
            b++
          ) {
            var v = h[b],
              S = f.b.GetELanguageFallback(v);
            if (!e.BHasLanguageRequiredOrFallback(v, S)) {
              g = Object(f.f)("#Language_" + Object(Ae.a)(v));
              a.push(
                c.createElement(
                  "li",
                  { key: "EventEdit_Error_MissingChinaTitleAndDesc" + v },
                  c.createElement(
                    "div",
                    { className: ee.a.ErrorStyles },
                    Object(f.f)("#EventEdit_Error_MissingChinaTitleAndDesc", g)
                  )
                )
              );
            }
          }
        if (d) {
          var O =
              e.BInRealmGlobal() &&
              !e.GetEventModel().BHasTag("contenthub") &&
              !_t(e, "capsule", 0),
            y =
              e.BInRealmChina() &&
              !(function (e, t) {
                for (
                  var a = 0,
                    n = f.b.GetLanguageListForRealms([X.f.k_ESteamRealmChina]);
                  a < n.length;
                  a++
                ) {
                  var i = n[a];
                  if (!_t(e, t, i, f.b.GetELanguageFallback(i))) return !1;
                }
                return !0;
              })(e, "capsule");
          O &&
            a.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_MissingCapsule" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)(
                    "#EventEdit_Error_MissingCapsule",
                    Object(f.f)("#PartnerEvent_" + e.GetEventType())
                  )
                )
              )
            ),
            y &&
              a.push(
                c.createElement(
                  "li",
                  { key: "EventEdit_Error_MissingCapsuleChina" },
                  c.createElement(
                    "div",
                    { className: ee.a.ErrorStyles },
                    Object(f.f)(
                      "#EventEdit_Error_MissingCapsuleChina",
                      Object(f.f)("#PartnerEvent_" + e.GetEventType())
                    )
                  )
                )
              );
        }
        e.GetSaleSections().reduce(function (e, t) {
          return e + ("tabs" === t.section_type ? 1 : 0);
        }, 0) > 1 &&
          a.push(
            c.createElement(
              "li",
              { key: "EventEdit_Error_TooManyTabsSections" },
              c.createElement(
                "div",
                { className: ee.a.ErrorStyles },
                Object(f.f)("#EventEdit_Error_TooManyTabsSections")
              )
            )
          ),
          e.BIsEventForOGGWithoutVisibleStorePage() &&
            !e.BOptedInForOGGWithoutVisibleStorePage() &&
            a.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_PublishingForHiddenGame" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEdit_Error_PublishingForHiddenGame")
                )
              )
            ),
          e.BHasSaleEnabled() &&
            !e.GetEventModel().BHasSaleVanity() &&
            a.push(
              c.createElement(
                "li",
                { key: "EventEditor_SaleNotReady_ttip" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEditor_SaleNotReady_ttip")
                )
              )
            );
        for (
          var C = 0,
            j = [
              [
                Object(f.f)("#EventEditor_Description_tab"),
                e.GetDescriptionCompletion(),
              ],
              [
                Object(f.f)("#EventEditor_Options_Title"),
                e.GetOptionsCompletion(),
              ],
              [Object(f.f)("#Sale_TabTitle"), e.GetSaleTabCompletion()],
            ];
          C < j.length;
          C++
        ) {
          var I = j[C],
            D = I[0],
            G = I[1],
            A = G ? G.total - G.complete : 0;
          A &&
            a.push(
              c.createElement(
                "li",
                { key: D },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)(
                    "#EventEdit_Error_TabRequirementsIncomplete",
                    D,
                    A,
                    G.total
                  )
                )
              )
            );
        }
        return a;
      }
      function _t(e, t, a, n) {
        void 0 === n && (n = -1);
        var i = e.GetImageURL(t, a);
        return (
          (i && 0 != i.length) || -1 == n || (i = e.GetImageURL(t, n)),
          i && i.length > 1
        );
      }
      function gt(e) {
        var t = new Array(),
          a = e.BPublished(),
          n = e.BHidden();
        e.BInRealmGlobal() &&
          !e.BHasLanguageRequired(0) &&
          t.push(
            c.createElement(
              "li",
              { key: "EventEdit_Warning_EnglishMissing" },
              c.createElement(
                "div",
                { className: ee.a.WarningStyles },
                Object(f.f)("#EventEdit_Warning_EnglishMissing")
              )
            )
          ),
          1 == e.GetEventType() &&
            t.push(
              c.createElement(
                "li",
                { key: "EventEdit_Warning_Other" },
                c.createElement(
                  "div",
                  { className: ee.a.WarningStyles },
                  Object(f.f)("#EventEdit_Warning_Other")
                )
              )
            );
        for (var i = 0, r = 0, o = 0, l = 0, s = 0; s < 30; ++s) {
          var d = f.b.IsELanguageValidInRealm(s, X.f.k_ESteamRealmGlobal),
            u = f.b.IsELanguageValidInRealm(s, X.f.k_ESteamRealmChina);
          if ((d && e.BInRealmGlobal()) || (u && e.BInRealmChina())) {
            var p = u ? f.b.GetELanguageFallback(s) : s;
            _t(e, "capsule", s, p) && i++,
              _t(e, "spotlight", s, p) && l++,
              e.BHasLanguageRequiredOrFallback(s, p) &&
                (r++, (e.GetSubTitle(s) || e.GetSubTitle(p)) && o++);
          }
        }
        m.b.CAN_UPLOAD_IMAGES &&
          0 == i &&
          t.push(
            c.createElement(
              "li",
              { key: "EventEdit_Warning_ArtworkMissing" },
              c.createElement(
                "div",
                { className: ee.a.WarningStyles },
                Object(f.f)(
                  e.GetAppID()
                    ? "#EventEdit_Warning_ArtworkMissing"
                    : "#EventEdit_Warning_ArtworkMissing_clan"
                )
              )
            )
          ),
          o > 0 &&
            r > o &&
            t.push(
              c.createElement(
                "li",
                { key: "EventEdit_Warnign_SubTitle" },
                c.createElement(
                  "div",
                  { className: ee.a.WarningStyles },
                  Object(f.f)("#EventEdit_Warnign_SubTitle", o, r)
                )
              )
            ),
          i > 0 &&
            r > i &&
            t.push(
              c.createElement(
                "li",
                { key: "EventEdit_Warnign_Artwork" },
                c.createElement(
                  "div",
                  { className: ee.a.WarningStyles },
                  Object(f.f)("#EventEdit_Warnign_Artwork", i, r)
                )
              )
            );
        var _ = e.GetEventVisibilityStartTime();
        return (
          a &&
            n &&
            e.BGetOriginalEventVisibilityStartTime() != _ &&
            _ <= w.a.GetTimeNowWithOverride() &&
            t.push(
              c.createElement(
                "li",
                { key: "EventEdit_Warning_VisibilityTimeChange" },
                c.createElement(
                  "div",
                  { className: ee.a.WarningStyles },
                  Object(f.f)("#EventEdit_Warning_VisibilityTimeChange")
                )
              )
            ),
          l > 0 &&
            !e.GetEventModel().BShowLibrarySpotlight() &&
            t.push(
              c.createElement(
                "li",
                { key: "EventEdit_Warning_SpotlightImageWithFlag" },
                c.createElement(
                  "div",
                  { className: ee.a.WarningStyles },
                  Object(f.f)("#EventEdit_Warning_SpotlightImageWithFlag")
                )
              )
            ),
          t
        );
      }
      var Et = a("gBDv"),
        bt = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                dialogState: "default",
                strErrorMsg: "",
                bFakeError: !1,
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnByPassWarnings = function () {
              this.setState({ dialogState: "bypasswarning" });
            }),
            (t.prototype.OnPublish = function () {
              var e = this,
                t = this.props.editModel,
                a = t.GetClanSteamID();
              this.setState({ dialogState: "waiting" }),
                t.OnPreSave(),
                t.BIsDirty() && t.GetChangeTypes() != T.c.visibility
                  ? l.c
                      .SaveModel(a)
                      .then(function () {
                        return l.c
                          .PublishModel(a, e.state.bFakeError)
                          .then(function () {
                            e.setState({ dialogState: "showsuccess" });
                          });
                      })
                      .catch(function (t) {
                        e.setState(
                          Object(n.a)(
                            { dialogState: "displayerror" },
                            Object(p.a)(t)
                          )
                        );
                      })
                  : l.c
                      .PublishModel(a, this.state.bFakeError)
                      .then(function () {
                        e.setState({ dialogState: "showsuccess" });
                      })
                      .catch(function (t) {
                        e.setState(
                          Object(n.a)(
                            { dialogState: "displayerror" },
                            Object(p.a)(t)
                          )
                        );
                      });
            }),
            (t.prototype.OnFakeErrorChange = function (e) {
              var t = e.target.checked;
              t != this.state.bFakeError && this.setState({ bFakeError: t });
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = w.a.GetTimeNowWithOverride(),
                a = e.ComputeStartTime(t),
                n = e.ComputeVisibilityStartTime(t, a),
                i = mt(e, !0),
                o = gt(e),
                l = this.state.dialogState,
                s = h.a.Get().GetPartnerEventPermissions(e.GetClanSteamID());
              switch (
                (null != i && i.length > 0
                  ? (l = "prevalidateerror")
                  : "default" == l &&
                    null != o &&
                    o.length > 0 &&
                    (l = "showwarning"),
                l)
              ) {
                case "prevalidateerror":
                  return c.createElement(
                    Te.f,
                    {
                      strTitle: Object(f.f)("#EventEditor_Publish_Failed"),
                      strDescription: Object(f.f)(
                        "#EventEdit_Error_PublishingDesc"
                      ),
                      closeModal: this.props.closeModal,
                    },
                    c.createElement("ol", null, i),
                    null != o &&
                      o.length > 0 &&
                      c.createElement(
                        c.Fragment,
                        null,
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)("#EventEdit_Warning_PublishingDesc")
                        ),
                        c.createElement("ol", null, o)
                      )
                  );
                case "showwarning":
                  return c.createElement(
                    Te.d,
                    {
                      strTitle: Object(f.f)("#EventEditor_Publish_Warning"),
                      strDescription: Object(f.f)(
                        "#EventEdit_Warning_PublishingDesc"
                      ),
                      onOK: this.OnByPassWarnings,
                      onCancel: this.props.closeModal,
                      strOKButtonText: Object(f.f)(
                        "#EventEditor_ByPassWarnings"
                      ),
                    },
                    c.createElement("ol", null, o)
                  );
                case "bypasswarning":
                case "default":
                  var d = e.ComputeStartTime(t),
                    u = Object(B.a)(e.GetEventType()),
                    p =
                      e.GetVisibilityPublishingSetup() == T.f.immediate ||
                      d <= t;
                  if (u) {
                    var m = e.ComputeVisibilityStartTime(t, d);
                    p = p || m <= t;
                  }
                  return c.createElement(
                    Te.d,
                    {
                      strTitle: Object(f.f)("#Button_Publish"),
                      strDescription: "",
                      onOK: this.OnPublish,
                      onCancel: this.props.closeModal,
                      strOKButtonText: Object(f.f)("#Button_Publish"),
                    },
                    c.createElement(
                      c.Fragment,
                      null,
                      Object(f.f)("#EventEditor_Publish_Notice"),
                      c.createElement("br", null),
                      c.createElement("br", null),
                      p
                        ? Object(f.f)("#EventEditor_Publish_Immediate")
                        : Object(f.n)(
                            "#EventEditor_Publish_Staged",
                            c.createElement(Re.a, {
                              dateAndTime: n,
                              bSingleLine: !0,
                            })
                          ),
                      Object(f.f)("#EventEditor_Publish_ContinueEdits"),
                      c.createElement("br", null),
                      c.createElement("br", null),
                      Object(f.f)("#EventEditor_Publish_Notice_Note"),
                      Boolean(s.valve_admin) &&
                        c.createElement(
                          "div",
                          {
                            className: Object(N.a)(
                              L.a.ValveSupportOnly,
                              L.a.ValveOnlyBackground
                            ),
                          },
                          c.createElement("input", {
                            id: "Publishing_FakeError",
                            type: "checkbox",
                            onChange: this.OnFakeErrorChange,
                            checked: this.state.bFakeError,
                          }),
                          c.createElement(
                            "label",
                            { htmlFor: "Publishing_FakeError" },
                            "(VO) Fake an error on the server to test error flow"
                          )
                        )
                    )
                  );
                default:
                case "displayerror":
                  return c.createElement(
                    Te.f,
                    {
                      strTitle: Object(f.f)("#EventEditor_Publish_Failed"),
                      strDescription: Object(f.f)(
                        "#EventEdit_Publishing_Failure"
                      ),
                      closeModal: this.props.closeModal,
                    },
                    c.createElement("br", null),
                    c.createElement("br", null),
                    this.state.strErrorMsg
                  );
                case "waiting":
                  return c.createElement(
                    Te.d,
                    {
                      strTitle: Object(f.f)("#Button_Publish"),
                      strDescription: Object(f.f)(
                        "#EventEditor_Publishing_PleaseWait"
                      ),
                      bAlertDialog: !0,
                      onOK: this.props.closeModal,
                      onCancel: this.props.closeModal,
                      strOKButtonText: Object(f.f)("#Button_Cancel"),
                      bOKDisabled: !0,
                    },
                    c.createElement(
                      "div",
                      { className: r.a.FlexCenter },
                      c.createElement(_.a, null)
                    )
                  );
                case "showsuccess":
                  return c.createElement(Te.d, {
                    strTitle: Object(f.f)("#Button_Publish"),
                    strDescription: Object(f.f)(
                      "#EventEdit_Publishing_Success"
                    ),
                    bAlertDialog: !0,
                    onOK: this.props.OnPublishSuccess,
                    onCancel: this.props.OnPublishSuccess,
                    closeModal: this.props.closeModal,
                    strOKButtonText: Object(f.f)("#Button_Close"),
                  });
              }
            }),
            Object(n.c)([R.a], t.prototype, "OnByPassWarnings", null),
            Object(n.c)([R.a], t.prototype, "OnPublish", null),
            Object(n.c)([R.a], t.prototype, "OnFakeErrorChange", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component);
      function ht(e) {
        var t = e.closeModal,
          a = e.editModel,
          n = e.bSkipChecks,
          i = e.OnSuccess,
          o = a.BPublished() && !n,
          s = c.useState(o ? mt(a, !1) : null)[0],
          d = c.useState(o ? gt(a) : null)[0],
          u = a.GetGID(),
          m = Object(Et.c)(),
          g = m[0],
          E = (m[1], m[2]),
          b = c.useState(
            (null == s ? void 0 : s.length) > 0
              ? "prevalidateerror"
              : (null == d ? void 0 : d.length) > 0
              ? "showwarning"
              : "default"
          ),
          h = b[0],
          v = b[1],
          S = c.useState(null),
          O = S[0],
          y = S[1];
        switch (
          (c.useEffect(
            function () {
              if (
                "default" === h ||
                "bypasswarning" === h ||
                "bypassoverwritewarning" == h
              ) {
                var e = a.GetClanSteamID();
                a.OnPreSave();
                var t = function (e) {
                    var t = Object(p.a)(e),
                      a = "error";
                    !t.strErrorMsg &&
                      Object(f.f)("#EventEditor_Error_" + t.errorCode) &&
                      (t.strErrorMsg = Object(f.f)(
                        "#EventEditor_Error_" + t.errorCode
                      )),
                      27 == t.errorCode && (a = "overwrite"),
                      y(t),
                      v(a);
                  },
                  n = "bypassoverwritewarning" === h;
                l.c
                  .SaveModel(e, !1, n)
                  .then(function (e) {
                    g(u)
                      ? E(u || e.gid)
                          .then(function (a) {
                            1 == a ? v("success") : t(e);
                          })
                          .catch(t)
                      : v("success");
                  })
                  .catch(t);
              }
            },
            [h, a, E, g, u]
          ),
          h)
        ) {
          case "prevalidateerror":
            return c.createElement(
              Te.f,
              {
                strTitle: Object(f.f)("#EventEdit_Saving_Error_Title"),
                strDescription: Object(f.f)("#EventEdit_Saving_ErrorDesc"),
                closeModal: t,
              },
              c.createElement("ol", null, s),
              null != d &&
                d.length > 0 &&
                c.createElement(
                  c.Fragment,
                  null,
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEdit_Saving_WarningDesc")
                  ),
                  c.createElement("ol", null, d)
                )
            );
          case "showwarning":
            return c.createElement(
              Te.d,
              {
                strTitle: Object(f.f)("#EventEdit_Saving_Warning_Title"),
                strDescription: Object(f.f)("#EventEdit_Saving_WarningDesc"),
                onOK: function () {
                  return v("bypasswarning");
                },
                onCancel: t,
                strOKButtonText: Object(f.f)(
                  "#EventEdit_Saving_ByPassWarnings"
                ),
              },
              c.createElement("ol", null, d)
            );
          case "default":
          default:
            return c.createElement(
              Te.e,
              {
                bDisableBackgroundDismiss: !0,
                bOKDisabled: !0,
                bHideCloseIcon: !0,
              },
              c.createElement(
                Me.k,
                null,
                Object(f.f)("#EventEdit_Saving_Title")
              ),
              c.createElement(
                Me.b,
                null,
                c.createElement(
                  "div",
                  null,
                  Object(f.f)("#EventEdit_Saving_Description")
                ),
                c.createElement(
                  "div",
                  { className: r.a.FlexCenter },
                  c.createElement(_.a, null)
                )
              )
            );
          case "success":
            var C = Object(f.f)("#EventEdit_Saving_Successful");
            return (
              a.BPublished() &&
                a.BVisible() &&
                (C +=
                  " " + Object(f.f)("#EventEdit_Saving_Successful_Visible")),
              c.createElement(Te.d, {
                strTitle: Object(f.f)("#EventEdit_Saving_Success_Title"),
                strDescription: C,
                onOK: i,
                onCancel: t,
                closeModal: t,
                bAlertDialog: !0,
              })
            );
          case "error":
            return c.createElement(
              Te.f,
              {
                strTitle: Object(f.f)("#EventEdit_Saving_Error_Title"),
                strDescription: Object(f.f)("#EventEdit_Saving_Failure_Desc"),
                closeModal: t,
              },
              c.createElement("br", null),
              c.createElement("br", null),
              O.strErrorMsg
            );
          case "overwrite":
            return c.createElement(
              Te.d,
              {
                strTitle: Object(f.f)(
                  "#EventEditor_SaveOrPublish_ClobberTitle"
                ),
                strDescription: Object(f.f)("#EventEdit_Saving_Failure_Desc"),
                onCancel: t,
                onOK: function () {
                  return v("bypassoverwritewarning");
                },
                strOKButtonText: Object(f.f)("#Button_Overwrite"),
                bDestructiveWarning: !0,
              },
              c.createElement("br", null),
              c.createElement("br", null),
              O.strErrorMsg
            );
        }
      }
      var vt = a("0XOM"),
        ft =
          (a("f0Wu"),
          (function (e) {
            function t(t) {
              var a = e.call(this, t) || this;
              return (
                (a.bRedirectUsed = !1),
                (a.state = { redirectTarget: null, bDeleting: !1 }),
                a
              );
            }
            return (
              Object(n.d)(t, e),
              (t.prototype.OnFallbackClick = function (e) {
                e.target instanceof HTMLButtonElement ||
                  e.target instanceof HTMLAnchorElement ||
                  this.OnGotoPage(e, "edit");
              }),
              (t.prototype.OnGotoPage = function (e, t) {
                (this.bRedirectUsed = !1),
                  this.setState({ redirectTarget: t }),
                  e && e.stopPropagation();
              }),
              (t.prototype.OnIgnoreFallbackClick = function (e) {
                e.stopPropagation();
              }),
              (t.prototype.render = function () {
                var e,
                  t = this,
                  a = this.props,
                  i = a.eventModel,
                  r = a.appid_or_vanity_str,
                  l = a.bShowGameName,
                  s = a.bShowEventMetaDataSizes,
                  d = i.GID,
                  p = i.bOldAnnouncement;
                if (this.state.redirectTarget && !this.bRedirectUsed)
                  switch (
                    ((this.bRedirectUsed = !0), this.state.redirectTarget)
                  ) {
                    case "clone":
                      return c.createElement(pe.b, {
                        push: !0,
                        to: o.a.Edit(r, ""),
                      });
                    case "edit":
                      return Object(Ne.j)(
                        this.props.eventModel,
                        Ne.a.k_eCommunityEdit
                      );
                    case "view":
                      return i.BIsVisibleEvent()
                        ? Object(Ne.j)(this.props.eventModel, Ne.a.k_eView)
                        : Object(Ne.j)(
                            this.props.eventModel,
                            Ne.a.k_eCommunityPreview
                          );
                    default:
                      console.log(
                        "EventDisplayTile - Unexpected Case - " +
                          this.state.redirectTarget
                      );
                  }
                var _ = Object(Ae.d)(m.c.LANGUAGE);
                i.BIsLanguageValidForRealms(_) ||
                  (_ = i.BInRealmGlobal() ? 0 : 29);
                var g = [i.GetImageURLWithFallback("capsule", _)],
                  E = i.GetNameWithFallback(_),
                  b = i.BHasSubTitle(_),
                  h = i.BHasSaleEnabled(),
                  S = i.visibility_state != Ce.b.k_EEventStateUnpublished,
                  O = i.visibility_state != Ce.b.k_EEventStateVisible,
                  y = void 0;
                O &&
                  S &&
                  (y =
                    i.visibilityStartTime == i.startTime
                      ? c.createElement(
                          "div",
                          { className: vt.TileTextStartsIn },
                          Object(f.f)(
                            "#EventEditor_Status_WillBeVisible_EventStart"
                          )
                        )
                      : c.createElement(
                          "div",
                          { className: vt.TileTextStartsIn },
                          Object(f.n)(
                            "#EventEditor_Status_WillBeVisible_At",
                            c.createElement(Re.a, {
                              dateAndTime: i.GetVisibilityStartTimeAndDateUnixSeconds(),
                              bSingleLine: !0,
                            })
                          )
                        ));
                var C = void 0;
                if (!O && S) {
                  var j = w.a.GetTimeNowWithOverride();
                  i.GetStartTimeAndDateUnixSeconds() > j
                    ? (C = c.createElement(
                        "span",
                        { className: vt.EventStateUpcoming },
                        Object(f.f)("#EventDisplay_Upcoming")
                      ))
                    : Object(B.a)(i.type) &&
                      i.GetEndTimeAndDateUnixSeconds() > j
                    ? (C = c.createElement(
                        "span",
                        { className: vt.EventStateActive },
                        Object(f.f)("#EventDisplay_Active")
                      ))
                    : i.GetStartTimeAndDateUnixSeconds() > j + 3600 &&
                      (C = c.createElement(
                        "span",
                        { className: vt.EventStateRecent },
                        Object(f.f)("#EventDisplay_RecentlyActive")
                      ));
                }
                l &&
                  (E =
                    u.a.GetStoreCapsuleInfo(i.appid).GetAppStoreData().title +
                    ": " +
                    E);
                var T =
                    i.BIsPartnerEvent() &&
                    i.BIsVisibleEvent() &&
                    ye.a.GetStatsFor(i.clanSteamID, d),
                  I = v.a.GetOGGClanInfo(i.appid),
                  D = Boolean(
                    p &&
                      I &&
                      I.is_ogg &&
                      I.clanAccountID !=
                        i.announcementClanSteamID.GetAccountID()
                  );
                return c.createElement(
                  ke.a,
                  null,
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        ((e = {}),
                        (e[vt.TileContainer] = !0),
                        (e[vt.TileAgeAppropriate] = true),
                        (e[vt.TileAgeNotAppropriate] = !1),
                        (e[vt.ShowEventMetaDataSizes] = s),
                        e)
                      ),
                    },
                    c.createElement(
                      "div",
                      {
                        className: vt.TileImageCtn,
                        onClick: function (e) {
                          return t.OnFallbackClick(e);
                        },
                      },
                      c.createElement(Be.b, {
                        className: vt.TileImage,
                        srcs: g,
                      })
                    ),
                    c.createElement(
                      "div",
                      {
                        className: vt.TileTextContainer,
                        onClick: function (e) {
                          return t.OnFallbackClick(e);
                        },
                      },
                      c.createElement(
                        "div",
                        { className: vt.TileDescriptionContainer },
                        c.createElement(
                          "div",
                          { style: { display: "flex" } },
                          c.createElement(
                            "div",
                            { className: vt.TileTextAppName },
                            E
                          ),
                          c.createElement(
                            "div",
                            { className: vt.TileTextEventType },
                            i.GetCategoryAsString(),
                            h &&
                              c.createElement(
                                "span",
                                { className: vt.TileHasSale },
                                " | ",
                                Object(f.f)("#EventEditor_Status_HasSale")
                              )
                          )
                        ),
                        b && !1,
                        c.createElement(
                          "div",
                          { className: k.ContainerSpaceBetween },
                          c.createElement(
                            "div",
                            { className: vt.TileTextStartsIn },
                            c.createElement(Re.a, {
                              dateAndTime: i.GetStartTimeAndDateUnixSeconds(),
                              bSingleLine: !0,
                            }),
                            C,
                            i.BHasTag("auto_rssfeed") &&
                              c.createElement(
                                c.Fragment,
                                null,
                                c.createElement("br", null),
                                c.createElement(
                                  "a",
                                  {
                                    href:
                                      m.c.STORE_BASE_URL +
                                      "curator/" +
                                      i.clanSteamID.GetAccountID() +
                                      "/admin/manage_rss/",
                                  },
                                  " " +
                                    Object(f.f)(
                                      "#EventEditor_Status_FromRSSFeed"
                                    )
                                )
                              ),
                            c.createElement(dt, {
                              eventModel: i,
                              bAllowUpdate: !1,
                            })
                          ),
                          Boolean(T) &&
                            c.createElement(
                              "div",
                              { className: vt.TileStats },
                              Object(f.n)(
                                "#EventDashBoard_Summary_Tile_Impressions",
                                c.createElement(
                                  "span",
                                  null,
                                  T.m_stats.total_showm.toLocaleString()
                                )
                              ),
                              c.createElement("br", null),
                              Object(f.n)(
                                "#EventDashBoard_Summary_Tile_Read",
                                c.createElement(
                                  "span",
                                  null,
                                  T.m_stats.total_read.toLocaleString()
                                )
                              )
                            )
                        ),
                        y,
                        D
                          ? c.createElement(
                              "div",
                              {
                                className: vt.TileButtonContainer,
                                onClick: function (e) {
                                  return t.OnIgnoreFallbackClick(e);
                                },
                              },
                              c.createElement(
                                "div",
                                null,
                                Object(f.f)(
                                  "#EventEditor_DataFromConnectAnnouncement"
                                )
                              ),
                              c.createElement(
                                Ne.c,
                                {
                                  className: Object(N.a)(
                                    vt.ManageButton,
                                    vt.Edit
                                  ),
                                  eventModel: i,
                                  route: Ne.a.k_eView,
                                },
                                Object(f.f)("#Button_ViewPage")
                              )
                            )
                          : c.createElement(
                              St,
                              Object(n.a)(
                                { fnOnGotoPage: this.OnGotoPage },
                                this.props
                              )
                            ),
                        s &&
                          c.createElement(
                            he.b,
                            { requireAdmin: !0, clanSteamID: i.clanSteamID },
                            c.createElement(Ct, { eventModel: i })
                          )
                      )
                    )
                  )
                );
              }),
              Object(n.c)([R.a], t.prototype, "OnFallbackClick", null),
              Object(n.c)([R.a], t.prototype, "OnGotoPage", null),
              Object(n.c)([R.a], t.prototype, "OnIgnoreFallbackClick", null),
              (t = Object(n.c)([I.a], t))
            );
          })(c.Component)),
        St = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnIgnoreFallbackClick = function (e) {
              e.stopPropagation();
            }),
            (t.prototype.OnClone = function (e) {
              var t = this;
              e.stopPropagation();
              var a = this.props.eventModel;
              l.c
                .LoadEditorModel(a.clanSteamID, a.GID)
                .then(function (e) {
                  var a = at(e, !0, !0, !0),
                    n = a.GetLanguagesWithTokens();
                  if (n.length > 1) {
                    n.sort(function (e, t) {
                      return Object(f.f)(
                        "#Language_" + Object(Ae.a)(e)
                      ).localeCompare(
                        Object(f.f)("#Language_" + Object(Ae.a)(t))
                      );
                    });
                    var i = new Array(),
                      r = new Array();
                    n.forEach(function (e) {
                      i.push(
                        c.createElement(Me.e, {
                          key: e,
                          classname: vt.CloneCheckBox,
                          onChange: function (t) {
                            t ? r.splice(n.indexOf(e), 1) : r.push(e);
                          },
                          label: Object(f.f)("#Language_" + Object(Ae.a)(e)),
                          checked: !0,
                        })
                      );
                    }),
                      Object(Ie.d)(
                        c.createElement(
                          Te.d,
                          {
                            strTitle: Object(f.f)("#Button_Clone"),
                            onOK: function () {
                              return t.DoCloneAction(a, r);
                            },
                            strDescription: Object(f.f)(
                              "#EventEditor_Clone_MultiLanguages"
                            ),
                          },
                          c.createElement(
                            "div",
                            { className: vt.CloneLangCtn },
                            i
                          )
                        ),
                        window
                      );
                  } else t.DoCloneAction(a);
                })
                .catch(function (e) {
                  var t = Object(p.a)(e);
                  Object(Ie.d)(
                    c.createElement(Te.f, {
                      strTitle: Object(f.f)("#EventEditor_CloneError"),
                      bAlertDialog: !0,
                      bDestructiveWarning: !0,
                      strDescription: Object(f.f)(
                        "#EventEditor_CloneError_Desc",
                        t.strErrorMsg
                      ),
                    }),
                    window,
                    { strTitle: Object(f.f)("#EventEditor_CloneError") }
                  );
                });
            }),
            (t.prototype.DoCloneAction = function (e, t) {
              var a = l.c.CreateClone();
              t &&
                t.length > 0 &&
                (e.ClearLanguagesTokens(t),
                nt(
                  a,
                  e,
                  f.b.GetLanguageListForRealms([X.f.k_ESteamRealmGlobal])
                )),
                this.props.fnOnGotoPage(null, "clone");
            }),
            (t.prototype.OnPublishEvent = function (e) {
              var t = this;
              e.stopPropagation();
              var a = this.props.eventModel;
              l.c
                .LoadEditorModel(a.clanSteamID, a.GID)
                .then(function () {
                  Object(Ie.c)(
                    c.createElement(bt, {
                      editModel: l.c.GetEditModel(),
                      OnPublishSuccess: t.OnPublishSuccess,
                    }),
                    window
                  );
                })
                .catch(function (e) {
                  var t = Object(p.a)(e);
                  Object(Ie.d)(
                    c.createElement(Te.f, {
                      strTitle: Object(f.f)("#EventEditor_PublishingError"),
                      bAlertDialog: !0,
                      bDestructiveWarning: !0,
                      strDescription: Object(f.f)(
                        "#EventEditor_PublishingError_Desc",
                        t.strErrorMsg
                      ),
                    }),
                    window,
                    { strTitle: Object(f.f)("#EventEditor_PublishingError") }
                  );
                });
            }),
            (t.prototype.OnPublishSuccess = function () {
              this.setState({ redirectTarget: "view" });
            }),
            (t.prototype.StopPropagation = function (e) {
              e.stopPropagation();
            }),
            (t.prototype.OnDeleteClickAndVerify = function (e) {
              e.stopPropagation(),
                Object(Ie.c)(
                  c.createElement(Le.a, {
                    eventModel: this.props.eventModel,
                    partnerEventStore: l.c,
                  }),
                  Object(Fe.m)(e)
                );
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                a = t.eventModel,
                n = (t.appid_or_vanity_str, a.bOldAnnouncement),
                i = a.visibility_state != Ce.b.k_EEventStateVisible,
                r = a.visibility_state != Ce.b.k_EEventStateUnpublished;
              return c.createElement(
                "div",
                {
                  className: vt.TileButtonContainer,
                  onClick: function (t) {
                    return e.OnIgnoreFallbackClick(t);
                  },
                },
                !n &&
                  c.createElement(
                    Ne.c,
                    {
                      className: Object(N.a)(vt.ManageButton, vt.Edit),
                      eventModel: a,
                      route: Ne.a.k_eCommunityEdit,
                      onClick: this.StopPropagation,
                    },
                    Object(f.f)("#Button_Edit")
                  ),
                n &&
                  c.createElement(
                    Ne.c,
                    {
                      className: Object(N.a)(vt.ManageButton, vt.Edit),
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_Button_MigrateAndEdit_Announcement_ttip"
                      ),
                      eventModel: a,
                      route: Ne.a.k_eCommunityMigrate,
                      onClick: this.StopPropagation,
                    },
                    Object(f.f)("#EventEditor_Button_MigrateAndEdit")
                  ),
                i &&
                  c.createElement(
                    Ne.c,
                    {
                      className: Object(N.a)(vt.ManageButton, vt.View),
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_Button_PreviewButton_ttip"
                      ),
                      eventModel: a,
                      route: Ne.a.k_eCommunityPreview,
                      onClick: this.StopPropagation,
                    },
                    Object(f.f)("#EventDisplay_Preview")
                  ),
                !i &&
                  c.createElement(
                    Ne.c,
                    {
                      className: Object(N.a)(vt.ManageButton, vt.View),
                      eventModel: a,
                      route: Ne.a.k_eView,
                      onClick: this.StopPropagation,
                    },
                    Object(f.f)("#EventDisplay_View")
                  ),
                !r &&
                  !n &&
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(vt.ManageButton, vt.Publish),
                      onClick: this.OnPublishEvent,
                    },
                    Object(f.f)("#EventDisplay_Publish")
                  ),
                c.createElement("div", { className: vt.Spacer }, " "),
                !n &&
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(vt.ManageButton, vt.Clone),
                      onClick: this.OnClone,
                    },
                    Object(f.f)("#Button_Clone")
                  ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(vt.ManageButton, vt.Delete),
                    "data-tooltip-text": Object(f.f)(
                      "#EventEditor_Button_DeleteButton_ttip"
                    ),
                    onClick: this.OnDeleteClickAndVerify,
                  },
                  Object(f.f)("#Button_Delete")
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnIgnoreFallbackClick", null),
            Object(n.c)([R.a], t.prototype, "OnClone", null),
            Object(n.c)([R.a], t.prototype, "DoCloneAction", null),
            Object(n.c)([R.a], t.prototype, "OnPublishEvent", null),
            Object(n.c)([R.a], t.prototype, "OnPublishSuccess", null),
            Object(n.c)([R.a], t.prototype, "StopPropagation", null),
            Object(n.c)([R.a], t.prototype, "OnDeleteClickAndVerify", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component);
      function Ot(e, t) {
        if (!e || t <= 0) return [];
        var a = new Array();
        return (
          Object.keys(e).forEach(function (n) {
            var i,
              r = e[n],
              o =
                (null === (i = JSON.stringify(r)) || void 0 === i
                  ? void 0
                  : i.length) || 0;
            a.push({ key: n, size: o }),
              r &&
                "object" == typeof r &&
                o > 100 &&
                Ot(r, t - 1).forEach(function (e) {
                  a.push({ key: n + ":" + e.key, size: e.size });
                });
          }),
          a
        );
      }
      var yt,
        Ct = function (e) {
          var t,
            a,
            n = e.eventModel;
          if (!(null == n ? void 0 : n.jsondata)) return null;
          var i = Ot(n.jsondata, 3);
          i.sort(function (e, t) {
            return t.size - e.size;
          });
          return c.createElement(
            "div",
            { className: vt.MetaDataCtn },
            c.createElement(
              "div",
              null,
              "Total Size: ",
              null ===
                (a =
                  null === (t = JSON.stringify(n.jsondata)) || void 0 === t
                    ? void 0
                    : t.length) || void 0 === a
                ? void 0
                : a.toLocaleString()
            ),
            i.slice(0, 10).map(function (e) {
              return c.createElement(
                "div",
                { key: e.key },
                e.key,
                ": ",
                e.size.toLocaleString()
              );
            })
          );
        };
      !(function (e) {
        (e[(e.k_ModReviewed = 0)] = "k_ModReviewed"),
          (e[(e.k_ModUnreviewed = 1)] = "k_ModUnreviewed"),
          (e[(e.k_ChangeEventType = 2)] = "k_ChangeEventType"),
          (e[(e.k_UpdateSeasonTags = 3)] = "k_UpdateSeasonTags"),
          (e[(e.k_ModReReviewed = 4)] = "k_ModReReviewed"),
          (e[(e.k_ModRemovedFromSteamChina = 5)] =
            "k_ModRemovedFromSteamChina"),
          (e[(e.k_ModFlagAdultOnlyContent = 6)] = "k_ModFlagAdultOnlyContent"),
          (e[(e.k_ModRemoveAdultOnlyContent = 7)] =
            "k_ModRemoveAdultOnlyContent");
      })(yt || (yt = {}));
      var jt = "ModAct",
        Tt = (function () {
          function e() {}
          return (
            (e.prototype.ToModString = function () {
              var e =
                "ModAct_" +
                this.m_moderator +
                "_" +
                Math.floor(this.m_rtWhen) +
                "_" +
                this.m_action;
              switch (this.m_action) {
                case yt.k_ChangeEventType:
                  e += "_" + this.m_newEventType;
                  break;
                case yt.k_UpdateSeasonTags:
                  e += "_" + this.m_newTagAdded;
              }
              return e;
            }),
            (e.prototype.FromString = function (e) {
              var t = e.split("_");
              if (!t || t[0] !== jt) return !1;
              switch (
                ((this.m_moderator = Number(t[1])),
                (this.m_rtWhen = Number(t[2])),
                (this.m_action = Number(t[3])),
                this.m_action)
              ) {
                case yt.k_ChangeEventType:
                  this.m_newEventType = Number(t[4]);
                  break;
                case yt.k_UpdateSeasonTags:
                  this.m_newTagAdded = t.slice(4).join("_");
              }
              return !0;
            }),
            (e.prototype.SetActionChangeEvent = function (e) {
              return (
                (this.m_moderator = m.h.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = yt.k_ChangeEventType),
                (this.m_newEventType = e),
                this
              );
            }),
            (e.prototype.SetReviewAction = function (e) {
              return (
                (this.m_moderator = m.h.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = e ? yt.k_ModReviewed : yt.k_ModUnreviewed),
                this
              );
            }),
            (e.prototype.SetAdultOnlyContentAction = function (e) {
              return (
                (this.m_moderator = m.h.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = e
                  ? yt.k_ModFlagAdultOnlyContent
                  : yt.k_ModRemoveAdultOnlyContent),
                this
              );
            }),
            (e.prototype.SetReReviewAction = function (e) {
              return (
                (this.m_moderator = m.h.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = e ? yt.k_ModReReviewed : yt.k_ModUnreviewed),
                this
              );
            }),
            (e.IsAuditAction = function (e) {
              return e.startsWith(jt);
            }),
            (e.prototype.SetUpdateSeasonalTags = function (e) {
              return (
                (this.m_moderator = m.h.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = yt.k_UpdateSeasonTags),
                (this.m_newTagAdded = e),
                this
              );
            }),
            e
          );
        })(),
        It = a("Qcoi"),
        Dt = a("zrk3"),
        wt = Object(I.a)(function (e) {
          var t = e.accountID,
            a = e.locToken,
            i = g.a.InitFromAccountID(t).ConvertTo64BitString(),
            r = c.useRef(null),
            o = c.useState(It.a.GetProfile(i)),
            l = o[0],
            s = o[1];
          c.useEffect(
            function () {
              var e = g.a.InitFromAccountID(t).ConvertTo64BitString();
              if (!It.a.BHasProfile(e)) {
                Object(n.b)(void 0, void 0, void 0, function () {
                  var t, a, i;
                  return Object(n.e)(this, function (n) {
                    switch (n.label) {
                      case 0:
                        (t = y.a.CancelToken.source()),
                          (r.current = t.cancel),
                          (n.label = 1);
                      case 1:
                        return (
                          n.trys.push([1, 3, , 4]), [4, It.a.LoadProfiles([e])]
                        );
                      case 2:
                        return n.sent(), [3, 4];
                      case 3:
                        return (
                          (a = n.sent()),
                          (i = Object(p.a)(a)),
                          console.error(
                            "EventModerationTile profile load : " +
                              i.strErrorMsg,
                            i
                          ),
                          [3, 4]
                        );
                      case 4:
                        return t.token.reason || s(It.a.GetProfile(e)), [2];
                    }
                  });
                });
              }
              return function () {
                r.current && r.current("ModEventUserProfile: unmounting");
              };
            },
            [t]
          );
          var d =
            "https://steamsupport.valvesoftware.com/account/overview/" + i;
          return c.createElement(
            "div",
            null,
            Object(f.n)(
              a,
              c.createElement(
                "a",
                { href: d, target: m.c.IN_CLIENT ? void 0 : "_blank" },
                Boolean(l)
                  ? c.createElement(c.Fragment, null, l.persona_name)
                  : c.createElement(
                      c.Fragment,
                      null,
                      c.createElement("span", null, t)
                    )
              )
            )
          );
        }),
        Gt = function (e) {
          var t = e.modAction,
            a = Object(f.k)(t.m_rtWhen) + " @ " + Object(f.m)(t.m_rtWhen),
            n = c.createElement(wt, {
              locToken: "#EventModTile_Moderator",
              accountID: t.m_moderator,
            });
          switch (t.m_action) {
            case yt.k_ModReviewed:
              return c.createElement(
                "div",
                { className: Dt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_Reviewed",
                  c.createElement("span", null, a),
                  n
                )
              );
            case yt.k_ModUnreviewed:
              return c.createElement(
                "div",
                { className: Dt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_UnReviewed",
                  c.createElement("span", null, a),
                  n
                )
              );
            case yt.k_ChangeEventType:
              return c.createElement(
                "div",
                { className: Dt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_NewEventType",
                  c.createElement("span", null, a),
                  n,
                  Object(B.e)(t.m_newEventType)
                )
              );
            case yt.k_UpdateSeasonTags:
              return c.createElement(
                "div",
                { className: Dt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_SeasonTagUpdate",
                  c.createElement("span", null, a),
                  n,
                  t.m_newTagAdded
                )
              );
            case yt.k_ModReReviewed:
              return c.createElement(
                "div",
                { className: Dt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_ReReviewed",
                  c.createElement("span", null, a),
                  n
                )
              );
            case yt.k_ModRemovedFromSteamChina:
              return c.createElement(
                "div",
                { className: Dt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_RemoveFromSC",
                  c.createElement("span", null, a),
                  n
                )
              );
            case yt.k_ModFlagAdultOnlyContent:
              return c.createElement(
                "div",
                { className: Dt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_FlagAdultContent",
                  c.createElement("span", null, a),
                  n
                )
              );
            case yt.k_ModRemoveAdultOnlyContent:
              return c.createElement(
                "div",
                { className: Dt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_RemoveAdultContent",
                  c.createElement("span", null, a),
                  n
                )
              );
            default:
              return c.createElement(
                "div",
                { className: Dt.ModeratorAuditActionCtn },
                t.ToModString
              );
          }
        },
        At = function (e) {
          var t = c.useState(!0),
            a = t[0],
            n = t[1],
            i = e.eventModel
              .GetAllTags()
              .filter(function (e) {
                return Tt.IsAuditAction(e);
              })
              .reverse(),
            r = i.length,
            o = i.length > 3 && a;
          return 0 == i.length
            ? null
            : (o && (i = i.splice(0, 3)),
              c.createElement(
                "div",
                null,
                c.createElement(
                  "h4",
                  null,
                  Object(f.f)("#EventModTile_Action_Title")
                ),
                (function (t) {
                  var a = e.eventModel;
                  return t.map(function (e) {
                    var t = new Tt();
                    return (
                      t.FromString(e),
                      c.createElement(Gt, { key: a.GID + e, modAction: t })
                    );
                  });
                })(i),
                o &&
                  c.createElement(
                    "a",
                    {
                      onClick: function () {
                        return n(!1);
                      },
                      className: Dt.ExpandModActions,
                    },
                    Object(f.f)("#EventModTile_Action_More", r - 3)
                  ),
                Boolean(!o && r > 3) &&
                  c.createElement(
                    "a",
                    {
                      onClick: function () {
                        return n(!0);
                      },
                      className: Dt.ExpandModActions,
                    },
                    Object(f.f)("#EventModTile_Action_Hide")
                  )
              ));
        },
        Mt = function (e) {
          var t,
            a,
            n,
            i,
            r = e.closeModal,
            o =
              ((t = m.b.CLANACCOUNTID),
              (a = d.a.useState(!C.Get().BHasLoadCompleted())),
              (n = a[0]),
              (i = a[1]),
              d.a.useEffect(
                function () {
                  if (!C.Get().BHasLoadCompleted()) {
                    var e = g.a.InitFromClanID(t);
                    C.Get()
                      .LoadAuditRecords(e)
                      .finally(function () {
                        return i(!1);
                      });
                  }
                },
                [t]
              ),
              n ? void 0 : C.Get().GetAllRecords());
          return c.createElement(
            Te.d,
            {
              title: "Publishing Audit History",
              bAlertDialog: !0,
              onOK: r,
              onCancel: r,
              strDescription:
                "Here are the publishing audit history. Recorded starting from mid-June 2021",
            },
            Boolean(null == o)
              ? c.createElement(_.a, {
                  string: Object(f.f)("#Loading"),
                  position: "center",
                  size: "medium",
                })
              : Boolean(0 == o.length)
              ? c.createElement("div", null, "No Publishing History available")
              : o.map(function (e) {
                  return c.createElement(kt, {
                    key: e.clan_event_gid,
                    record: e,
                  });
                })
          );
        },
        kt = function (e) {
          var t,
            a = e.record;
          return c.createElement(
            "div",
            null,
            c.createElement("div", null, "Clan Event GID: ", a.clan_event_gid),
            c.createElement("div", null, "Type: ", Object(B.e)(a.event_type)),
            c.createElement(
              "div",
              null,
              "Publish Time: ",
              c.createElement(Re.a, {
                dateAndTime: a.publish_time,
                bSingleLine: !0,
              })
            ),
            c.createElement(
              "div",
              null,
              c.createElement(wt, {
                accountID: a.publish_account_id,
                locToken: "#EventDashbard_PublishingAccount",
              })
            ),
            c.createElement(
              "div",
              null,
              "tags: ",
              null === (t = a.tags) || void 0 === t ? void 0 : t.join(", ")
            ),
            c.createElement("hr", null)
          );
        },
        Lt = a("NpuA"),
        Nt = a.n(Lt),
        Bt = a("f1ZV"),
        Rt = a("X2UP"),
        Ft = a("CdLH"),
        Pt = a("dQ8J"),
        xt = a.n(Pt);
      function Ut(e) {
        var t = e.clanInfo,
          a = e.closeModal,
          i = c.useState(!0),
          r = i[0],
          o = i[1],
          l = c.useState(!0),
          s = l[0],
          d = l[1],
          u = 1063339200,
          p = w.a.GetTimeNowWithOverride(),
          g = c.useState(p - Ft.f.PerMonth),
          E = g[0],
          b = g[1],
          h = c.useState(p),
          v = h[0],
          S = h[1],
          O = c.useState(-1),
          y = O[0],
          C = O[1],
          j = y >= 0;
        return c.createElement(
          Te.d,
          {
            strTitle: Object(f.f)("#EventDashboard_Stats_title"),
            strDescription: Object(f.f)("#EventDashboard_Stats_desc"),
            closeModal: a,
            bDisableBackgroundDismiss: !0,
            bOKDisabled: j,
            onOK: function () {
              return (function (e, t, a, i) {
                return Object(n.b)(this, void 0, void 0, function () {
                  var r, o, l, s, c, d, u, p, _, g;
                  return Object(n.e)(this, function (E) {
                    switch (E.label) {
                      case 0:
                        (r = new Array()),
                          (o = Object(Rt.a)("ExportPartnerEventStats")),
                          i((l = 0)),
                          (s = 100),
                          (c = 0),
                          (d = void 0),
                          (u = new Array()),
                          (p = Object(Ae.d)(m.c.LANGUAGE)),
                          (E.label = 1);
                      case 1:
                        return (
                          (c += 1),
                          [
                            4,
                            Ce.d.LoadAdjacentPartnerEvents(
                              d,
                              e.clanSteamID,
                              void 0,
                              0,
                              s,
                              { rtime_oldestevent: t },
                              o
                            ),
                          ]
                        );
                      case 2:
                        return (null == (u = E.sent()) ? void 0 : u.length) > 0
                          ? ((l += u.length),
                            i(l),
                            (d = u[u.length - 1].GID),
                            (_ = u
                              .filter(function (e) {
                                return e.startTime <= a && e.BIsVisibleEvent();
                              })
                              .map(function (e) {
                                return e.GID;
                              })).length > 0
                              ? [
                                  4,
                                  ye.a.LoadStatsForEvents(e.clanSteamID, _, o),
                                ]
                              : [3, 4])
                          : [3, 4];
                      case 3:
                        E.sent(),
                          (l += _.length),
                          i(l),
                          _.forEach(function (t) {
                            var a = ye.a.GetStatsFor(e.clanSteamID, t),
                              i = Ce.d.GetClanEventModel(t);
                            r.push(
                              Object(n.a)(
                                Object(n.a)(
                                  { event_name: i.GetNameWithFallback(p) },
                                  a.m_stats
                                ),
                                { event_gid: "'" + t }
                              )
                            );
                          }),
                          (E.label = 4);
                      case 4:
                        if (u.length == s && c < 100) return [3, 1];
                        E.label = 5;
                      case 5:
                        return (
                          (g = Nt.a.unparse(r, { header: !0 })),
                          Ve.a.WriteFile(
                            new Blob([g], { type: "text/csv:charset=utf-8;" }),
                            "event_stats_" +
                              e.group_name
                                .toLocaleLowerCase()
                                .replace(/\s/g, "_") +
                              ".csv"
                          ),
                          [2, !0]
                        );
                    }
                  });
                });
              })(t, r ? u : E, s ? Number.MAX_SAFE_INTEGER : v, C).then(
                function () {
                  return a();
                }
              );
            },
          },
          c.createElement(
            "div",
            { className: xt.a.DialogCtn },
            c.createElement(
              "div",
              { className: "DialogLabel" },
              Object(f.f)("#EventDashboard_Stats_Oldest_Title")
            ),
            c.createElement(
              "div",
              { className: "_DialogInputContainer _DialogLayout" },
              c.createElement(Me.e, {
                label: Object(f.f)("#EventDashboard_Stats_Oldest"),
                onChange: o,
                checked: r,
                disabled: j,
              }),
              !r &&
                c.createElement(
                  "div",
                  null,
                  Object(f.f)("#EventDashboard_Stats_Oldest_Override"),
                  c.createElement(Bt.a, {
                    nEarliestTime: u,
                    nLatestTime: s ? void 0 : v,
                    bShowTimeZone: !0,
                    fnGetTimeToUpdate: function () {
                      return E;
                    },
                    fnSetTimeToUpdate: b,
                    disabled: j,
                  })
                )
            ),
            c.createElement(
              "div",
              { className: "DialogLabel" },
              Object(f.f)("#EventDashboard_Stats_Newest_Title")
            ),
            c.createElement(
              "div",
              { className: "_DialogInputContainer _DialogLayout" },
              c.createElement(Me.e, {
                label: Object(f.f)("#EventDashboard_Stats_Newest"),
                onChange: d,
                checked: s,
                disabled: j,
              }),
              !s &&
                c.createElement(
                  "div",
                  null,
                  Object(f.f)("#EventDashboard_Stats_Newest_Override"),
                  c.createElement(Bt.a, {
                    nEarliestTime: r ? u : E,
                    bShowTimeZone: !0,
                    fnGetTimeToUpdate: function () {
                      return v;
                    },
                    fnSetTimeToUpdate: S,
                    disabled: j,
                  })
                )
            ),
            j &&
              c.createElement(_.a, {
                position: "center",
                size: "medium",
                string: Object(f.f)("#EventDashboard_Stats_Progress", y),
              })
          )
        );
      }
      var Ht = (function (e) {
          function t(t) {
            var a = e.call(this, t) || this;
            return (
              (a.state = {
                bInitialLoadComplete: !1,
                bInfiniteScrollLoading: !1,
                bExhaustedEventList: !1,
                bErrorOnInfiniteScrollRequest: !1,
                nLastFetchRequestedMS: 0,
                bShowEventMetaDataSizes: !1,
              }),
              (a.m_refScroll = c.createRef()),
              (a.m_cancelSignal = y.a.CancelToken.source()),
              (a.m_clanSteamID = new g.a(m.b.CLANSTEAMID)),
              (a.k_nMaxPerDirection = 10),
              (a.m_IntervalTimer = void 0),
              m.b.CLANACCOUNTID == D.E && (a.k_nMaxPerDirection = 2),
              a
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.EnsureEventsAreLoaded = function () {
              var e = this;
              l.c
                .LoadClanEventsForPartnerDashboard(
                  this.m_clanSteamID,
                  this.m_cancelSignal
                )
                .then(function (t) {
                  e.EventLoaded(), e.setState({ bInitialLoadComplete: !0 });
                })
                .catch(this.HandleErrorWithDialog);
            }),
            (t.prototype.EventLoaded = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e;
                return Object(n.e)(this, function (t) {
                  return (
                    (e = l.c
                      .GetClanEventGIDs(this.m_clanSteamID)
                      .filter(function (e) {
                        var t = l.c.GetClanEventModel(e);
                        return Boolean(
                          t && t.BIsVisibleEvent() && t.BIsPartnerEvent()
                        );
                      })).length > 0 &&
                      ye.a.LoadStatsForEvents(
                        this.m_clanSteamID,
                        e,
                        this.m_cancelSignal
                      ),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.HandleErrorWithDialog = function (e) {
              var t = Object(p.a)(e);
              Object(Ie.d)(
                c.createElement(
                  Te.f,
                  null,
                  Object(f.f)("#Error_Description", t.errorCode, t.strErrorMsg)
                ),
                window
              );
            }),
            (t.prototype.componentDidMount = function () {
              this.EnsureEventsAreLoaded(),
                l.c.GetEditModel() && l.c.ResetModel(),
                window.addEventListener("scroll", this.OnScroll, !0);
            }),
            (t.prototype.componentDidUpdate = function (e) {
              this.props.match.params.appid_or_vanity_str !=
                e.match.params.appid_or_vanity_str &&
                this.EnsureEventsAreLoaded(),
                this.m_refScroll && this.m_refScroll.current && this.OnScroll();
            }),
            (t.prototype.componentWillUnmount = function () {
              window.removeEventListener("scroll", this.OnScroll),
                this.m_cancelSignal.cancel("EventListView to unload"),
                this.ClearTimer();
            }),
            (t.prototype.ClearTimer = function () {
              this.m_IntervalTimer &&
                (window.clearInterval(this.m_IntervalTimer),
                (this.m_IntervalTimer = void 0));
            }),
            (t.prototype.CreateTiles = function (e, t) {
              var a = [],
                n = l.c.GetClanEventGIDs(e);
              if ((null == n ? void 0 : n.length) > 0)
                for (
                  var i = 0,
                    r = (n = (n = n.slice().filter(function (e) {
                      var a = l.c.GetClanEventModel(e);
                      return (null == a ? void 0 : a.visibility_state) === t;
                    })).sort(function (e, t) {
                      Object(De.a)(
                        e !== t,
                        "Unexpected duplicates in the list: " + e + " " + t
                      );
                      var a = l.c.GetClanEventModel(e);
                      return l.c.GetClanEventModel(t).startTime - a.startTime;
                    }));
                  i < r.length;
                  i++
                ) {
                  var o = r[i],
                    s = l.c.GetClanEventModel(o);
                  a.push(
                    c.createElement(ft, {
                      key: o,
                      appid_or_vanity_str: this.props.match.params
                        .appid_or_vanity_str,
                      gid: o,
                      eventModel: s,
                      bShowEventMetaDataSizes: this.state
                        .bShowEventMetaDataSizes,
                    })
                  );
                }
              return a;
            }),
            (t.prototype.OnScroll = function () {
              if (this.m_refScroll && this.m_refScroll.current) {
                var e = this.m_refScroll.current;
                e &&
                  (this.state.bExhaustedEventList ||
                    this.state.bErrorOnInfiniteScrollRequest ||
                    this.state.bInfiniteScrollLoading ||
                    (e.getBoundingClientRect().bottom <=
                      window.innerHeight + 50 &&
                      (this.state.nLastFetchRequestedMS > 0 &&
                      this.state.nLastFetchRequestedMS + 500 < Date.now()
                        ? this.setState(
                            {
                              bInfiniteScrollLoading: !0,
                              nLastFetchRequestedMS: Date.now(),
                            },
                            this.LoadMorePublicEvents
                          )
                        : this.setState(
                            {
                              bInfiniteScrollLoading: !0,
                              nLastFetchRequestedMS: Date.now(),
                            },
                            this.LoadMorePublicEventWithDelay
                          ))));
              }
            }),
            (t.prototype.LoadMorePublicEventWithDelay = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                return Object(n.e)(this, function (e) {
                  return (
                    (this.m_IntervalTimer = window.setInterval(
                      this.LoadMorePublicEvents,
                      500
                    )),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.LoadMorePublicEvents = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a, i, r;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      if (
                        (this.ClearTimer(), !this.state.bInfiniteScrollLoading)
                      )
                        return [2];
                      (e = null),
                        l.c
                          .GetAllClanEvents(this.m_clanSteamID)
                          .forEach(function (t) {
                            t.BIsVisibleEvent() &&
                              (!e || t.startTime <= e.startTime) &&
                              (e = t);
                          }),
                        (t = !1),
                        (a = !1),
                        (n.label = 1);
                    case 1:
                      return (
                        n.trys.push([1, 6, , 7]),
                        (i = void 0),
                        e && e.bOldAnnouncement
                          ? [
                              4,
                              l.c.LoadAdjacentPartnerEventsByAnnouncement(
                                e.AnnouncementGID,
                                this.m_clanSteamID,
                                void 0,
                                0,
                                this.k_nMaxPerDirection
                              ),
                            ]
                          : [3, 3]
                      );
                    case 2:
                      return (i = n.sent()), [3, 5];
                    case 3:
                      return [
                        4,
                        l.c.LoadAdjacentPartnerEvents(
                          e ? e.GID : void 0,
                          this.m_clanSteamID,
                          void 0,
                          0,
                          this.k_nMaxPerDirection
                        ),
                      ];
                    case 4:
                      (i = n.sent()), (n.label = 5);
                    case 5:
                      return (t = i.length < this.k_nMaxPerDirection), [3, 7];
                    case 6:
                      return (
                        (r = n.sent()),
                        console.log(
                          "EventListView: " + Object(p.a)(r).strErrorMsg
                        ),
                        (a = !0),
                        [3, 7]
                      );
                    case 7:
                      return (
                        this.setState(
                          {
                            bExhaustedEventList: t,
                            bInfiniteScrollLoading: !1,
                            bErrorOnInfiniteScrollRequest: a,
                          },
                          this.EventLoaded
                        ),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.UpdateShowEventMetaDataSizes = function (e) {
              this.setState({ bShowEventMetaDataSizes: e });
            }),
            (t.prototype.render = function () {
              var e = new g.a(m.b.CLANSTEAMID),
                t = this.CreateTiles(
                  this.m_clanSteamID,
                  Ce.b.k_EEventStateUnpublished
                ),
                a = this.CreateTiles(
                  this.m_clanSteamID,
                  Ce.b.k_EEventStateStaged
                ),
                n = this.CreateTiles(
                  this.m_clanSteamID,
                  Ce.b.k_EEventStateVisible
                ),
                i =
                  !this.state.bInitialLoadComplete ||
                  this.state.bInfiniteScrollLoading;
              return c.createElement(
                "div",
                { ref: this.m_refScroll },
                c.createElement(E.e, null),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      "maincontent",
                      Ge.a.EventDashboardCtn
                    ),
                  },
                  c.createElement(Vt, {
                    appid_or_vanity_str: this.props.match.params
                      .appid_or_vanity_str,
                  }),
                  c.createElement(
                    he.b,
                    { requireAdmin: !0, clanSteamID: e },
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(
                          "maincontent",
                          Ge.a.EventDashboardCtn,
                          Ge.a.EventDashAdminToolsCtn,
                          L.a.FlexRowContainer
                        ),
                      },
                      c.createElement(Me.e, {
                        label: "Show Event Metadata Size",
                        tooltip:
                          "Surfaces the size of the biggest sections in the event's metadata",
                        onChange: this.UpdateShowEventMetaDataSizes,
                        checked: this.state.bShowEventMetaDataSizes,
                      }),
                      c.createElement(
                        Me.d,
                        {
                          onClick: function (e) {
                            Object(Ie.d)(
                              c.createElement(Mt, null),
                              Object(Fe.m)(e)
                            );
                          },
                        },
                        "Show Publishing Audit History"
                      )
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: Ge.a.MainLists },
                  t.length > 0 &&
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(Ge.a.Section, Ge.a.Unpublished),
                      },
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            "maincontent",
                            "eventlist",
                            Ge.a.EventDashboardCtn
                          ),
                        },
                        c.createElement(
                          "div",
                          { className: Ge.a.DisplaySectionHeader },
                          Object(f.f)("#EventDisplay_Unpublished_Title"),
                          " ",
                          c.createElement(
                            "span",
                            {
                              "data-tooltip-text": Object(f.f)(
                                "#EventDisplay_Unpublished_SubTitle"
                              ),
                            },
                            " (?)"
                          )
                        ),
                        t.length > 0 && t
                      )
                    ),
                  a.length > 0 &&
                    c.createElement(
                      "div",
                      { className: Object(N.a)(Ge.a.Section, Ge.a.Staged) },
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            "maincontent",
                            "eventlist",
                            Ge.a.EventDashboardCtn
                          ),
                        },
                        c.createElement(
                          "div",
                          { className: Ge.a.DisplaySectionHeader },
                          Object(f.f)("#EventDisplay_Stage_Title"),
                          " ",
                          c.createElement(
                            "span",
                            {
                              "data-tooltip-text": Object(f.f)(
                                "#EventDisplay_Stage_SubTitle"
                              ),
                            },
                            " (?)"
                          )
                        ),
                        a.length > 0 && a
                      )
                    ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        Ge.a.Section,
                        Ge.a.DisplaySectionHeaderContainer,
                        Ge.a.Visible
                      ),
                    },
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(
                          "maincontent",
                          "eventlist",
                          Ge.a.EventDashboardCtn
                        ),
                      },
                      c.createElement(
                        "div",
                        { className: Ge.a.DisplaySectionHeader },
                        Object(f.f)("#EventDisplay_Visible_Title")
                      ),
                      c.createElement(
                        "div",
                        { className: Ge.a.DisplaySectionSubHeader },
                        Object(f.f)("#EventDisplay_Visible_Title_WithRange")
                      ),
                      n && n,
                      !i &&
                        !n &&
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)("#EventDisplay_NoPublic")
                        ),
                      i &&
                        c.createElement(_.a, {
                          position: "center",
                          string: Object(f.f)("#Loading"),
                        }),
                      this.state.bExhaustedEventList &&
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)("#EventDisplay_AllPublicShown")
                        ),
                      this.state.bErrorOnInfiniteScrollRequest &&
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)("#EventDisplay_HitErrorInfiniteScroll")
                        )
                    )
                  )
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnScroll", null),
            Object(n.c)(
              [R.a],
              t.prototype,
              "LoadMorePublicEventWithDelay",
              null
            ),
            Object(n.c)([R.a], t.prototype, "LoadMorePublicEvents", null),
            Object(n.c)(
              [R.a],
              t.prototype,
              "UpdateShowEventMetaDataSizes",
              null
            ),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Vt = Object(I.a)(function (e) {
          var t = new g.a(m.b.CLANSTEAMID),
            a = v.a.GetClanInfoByClanAccountID(t.GetAccountID()),
            n = e.appid_or_vanity_str,
            i = ye.a.GetTotalStats(t);
          return c.createElement(
            "div",
            { className: L.a.EventDashboardHeader },
            c.createElement(be, { identifier: n, partnerEventStore: l.c }),
            c.createElement(
              "div",
              { className: L.a.EventDashboardTitles },
              c.createElement(
                "div",
                { className: L.a.maintitle },
                Object(f.f)("#EventDisplay_Events"),
                c.createElement(
                  "div",
                  { className: L.a.subtitle },
                  Object(f.f)("#EventDisplay_Edit_Desc")
                )
              ),
              c.createElement(
                "div",
                { className: L.a.EventDashboardActions },
                c.createElement(
                  me.b,
                  {
                    className: Object(N.a)(L.a.Button, L.a.Primary),
                    to: o.a.Create(n),
                    onClick: function () {
                      return l.c.ResetModel();
                    },
                  },
                  Object(f.f)("#EventDisplay_CreateNewEvent")
                ),
                c.createElement(
                  Me.d,
                  {
                    onClick: function (e) {
                      return Object(Ie.d)(
                        c.createElement(Ut, { clanInfo: a }),
                        Object(Fe.m)(e)
                      );
                    },
                  },
                  Object(f.f)("#EventDashboard_Stats_export")
                )
              )
            ),
            c.createElement(
              "div",
              { className: L.a.EventDashboardStatsCtn },
              c.createElement(je.a, {
                summary: i.m_stats,
                bIsAllowedInLibrary: null == a ? void 0 : a.is_ogg,
                bIncludeDescription: !0,
              })
            )
          );
        }),
        zt = S(Ht),
        Wt = a("YNty"),
        qt = a("UWWC"),
        Yt = a("YWVM"),
        Jt = a("SdTr"),
        Qt = a("ZlHF"),
        Zt = a.n(Qt),
        Kt = a("6AJf"),
        Xt = a("rerp"),
        $t = a.n(Xt),
        ea = a("aXcg"),
        ta = Object(I.a)(function (e) {
          var t = e.editModel,
            a = Object(Et.c)()[0],
            n = t.GetEventModel().bOldAnnouncement,
            i = c.useState(!1),
            r = i[0],
            s = i[1];
          if (r) {
            var d = t.GetStrVanityOrAppID();
            return c.createElement(pe.b, {
              push: !0,
              to: n
                ? o.a.Migrate(d, t.GetAnnouncementGID())
                : o.a.Edit(d, t.BHasGid() ? t.GetGID() : ""),
            });
          }
          var u = t.BHidden(),
            p = t.BPublished() && !t.BHidden(),
            m = t.BIsDirty() || a(t.GetGID());
          return c.createElement(
            "button",
            {
              onClick: function (e) {
                var t = l.c.GetEditModel(),
                  a = t.BHasGid();
                Object(Ie.d)(
                  c.createElement(ht, {
                    editModel: t,
                    OnSuccess: function () {
                      a || s(!0);
                    },
                  }),
                  Object(Fe.m)(e)
                );
              },
              className: "btn_green_steamui btn_medium",
            },
            c.createElement(
              "span",
              null,
              !m &&
                c.createElement("img", { className: ea.SavedImage, src: P.a }),
              Object(f.f)(m ? "#Button_Save" : "#Button_Saved"),
              m &&
                c.createElement(
                  "span",
                  {
                    "data-tooltip-text": u
                      ? Object(f.f)("#EventEditor_Create_ttip")
                      : p
                      ? Object(f.f)("#EventEditor_SaveLive_ttip")
                      : "",
                  },
                  u || p ? " (?)" : ""
                )
            )
          );
        }),
        aa = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              var e = l.c.GetEditModel(),
                t = e.GetCategoryAsType(),
                a = e.GetCurEditLanguage(),
                n = e.GetFallbackLanguageIfNeeded(),
                i = e.GetEventModel().bOldAnnouncement,
                r = this.props,
                s = r.appid_or_vanity_str,
                d = r.bShowPreviewEvent,
                u = r.bShowPreviewSale;
              return c.createElement(
                "div",
                { className: $t.a.PreviewBarContainer },
                c.createElement(
                  me.b,
                  {
                    to: i
                      ? o.a.Migrate(s, e.GetAnnouncementGID())
                      : o.a.Edit(s, this.props.gid ? this.props.gid : "") +
                        (window.sessionStorage.getItem("editorCurrentTab") ||
                          ""),
                    className: L.a.EventBarBack,
                  },
                  28 == t
                    ? Object(f.f)("#EventEditor_TitleActionNews")
                    : Object(f.f)("#EventEditor_TitleAction")
                ),
                c.createElement(
                  "div",
                  { className: L.a.EventBarTitleCtn },
                  c.createElement(
                    "div",
                    { className: L.a.EventBarTitle },
                    Object(f.f)("#EventEditor_TitleState_Previewing")
                  ),
                  c.createElement(E.d, { editModel: e })
                ),
                c.createElement(
                  "div",
                  { className: L.a.EventOptions },
                  null != n &&
                    c.createElement(
                      "span",
                      { className: $t.a.FallBackWarning },
                      Object(f.f)(
                        "#EventPreview_UsingFallBack",
                        Object(f.f)("#Language_" + Object(Ae.a)(n))
                      ),
                      c.createElement(
                        "span",
                        {
                          className: "ttip",
                          "data-tooltip-text": Object(f.f)(
                            "#EventPreview_UsingFallBack_ttip",
                            Object(f.f)("#Language_" + Object(Ae.a)(n)),
                            Object(f.f)("#Language_" + Object(Ae.a)(a))
                          ),
                        },
                        " (?)"
                      )
                    ),
                  c.createElement(E.c, null),
                  d &&
                    c.createElement(
                      Ne.c,
                      {
                        className: L.a.EditPreviewButton,
                        route: Ne.a.k_eCommunityPreview,
                        eventModel: e.GetEventModel(),
                      },
                      Object(f.f)("#EventEditor_Preview")
                    ),
                  u &&
                    c.createElement(
                      Ne.c,
                      {
                        className: L.a.EditPreviewButton,
                        route: Ne.a.k_eCommunityPreviewSale,
                        eventModel: e.GetEventModel(),
                      },
                      Object(f.f)("#EventEditor_PreviewSale")
                    ),
                  c.createElement(
                    me.b,
                    {
                      className: L.a.EditPreviewButton,
                      to: i
                        ? o.a.Migrate(s, e.GetAnnouncementGID())
                        : o.a.Edit(s, this.props.gid ? this.props.gid : "") +
                          (window.sessionStorage.getItem("editorCurrentTab") ||
                            ""),
                    },
                    28 == t
                      ? Object(f.f)("#EventEditor_TitleActionNews")
                      : Object(f.f)("#EventEditor_TitleAction")
                  )
                )
              );
            }),
            t
          );
        })(c.Component),
        na = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.ComputeEditingModelTimeOverrides(),
                a = this.props.appid_or_vanity_str,
                n = e.GetEventModel();
              return n.BHasSaleEnabled() && this.props.bDisplaySale
                ? c.createElement(
                    "div",
                    { className: Zt.a.PreviewSalesPageContainer },
                    c.createElement(aa, {
                      appid_or_vanity_str: a,
                      gid: this.props.gid,
                      bShowPreviewEvent: !0,
                    }),
                    c.createElement(
                      "div",
                      { style: { position: "relative" } },
                      c.createElement(
                        "div",
                        { className: $t.a.StoreNavigationPlaceholder },
                        Object(f.f)("#Sale_ReservedStoreNavigation")
                      ),
                      c.createElement(Kt.b, {
                        eventModel: n,
                        bIsPreview: !0,
                        language: e.GetCurEditLanguage(),
                      })
                    )
                  )
                : c.createElement(Wt.a, {
                    event: n,
                    titleBar: c.createElement(aa, {
                      appid_or_vanity_str: a,
                      gid: this.props.gid,
                      bShowPreviewSale: n.BHasSaleEnabled(),
                    }),
                    lang: e.GetCurEditLanguage(),
                    nOverrideStartTime: t.nOverrideStartTime,
                    nOverrideEndTime: t.nOverrideEndTime,
                    partnerEventStore: l.c,
                    emoticonStore: qt.b,
                    adminPanel: c.createElement(Yt.a, {
                      eventModel: n,
                      bPreviewMode: !0,
                      partnerEventStore: l.c,
                      addtionalAdminButtons: [
                        c.createElement(ta, {
                          key: e.GetUniqueKey(),
                          editModel: e,
                        }),
                      ],
                    }),
                    previewMode: !0,
                    otherEventRow: c.createElement(Jt.a, {
                      clanAccountID: n.clanSteamID.GetAccountID(),
                      gidAnnouncement: n.AnnouncementGID,
                      partnerEventStore: l.c,
                      bViewAllShowInfiniteScroll: !n.BIsOGGEvent(),
                    }),
                  });
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        ia = a("eDP5"),
        ra = a("DisI");
      function oa(e, t, a, n) {
        var i = JSON.parse(JSON.stringify(e)),
          r = t.split(".");
        for (var o in i)
          if (o === r[0])
            if (Array.isArray(i[o])) {
              var l = i[o];
              if (1 === r.length) {
                var s = l,
                  c = l.length;
                s.splice(n ? 1 : 0),
                  s.push(a.replace("%1$s", "" + c)),
                  (i[o] = s);
              } else {
                s = l.map(function (e) {
                  return oa(e, r.slice(1).join("."), a, n);
                });
                i[o] = s;
              }
            } else
              1 === r.length
                ? (i[o] = a.replace("%1$s", "" + i[o].length))
                : (i[o] = oa(i[o], r.slice(1).join("."), a, n));
        return i;
      }
      var la = Object(I.a)(function (e) {
        var t,
          a = e.editModel,
          n = (a.GetClanSteamID(), c.useState(!0)),
          i = n[0],
          r = n[1],
          o = Object(c.useState)(!0),
          l = o[0],
          s = o[1],
          d = Object(c.useState)(!0),
          u = d[0],
          p = d[1],
          _ = Object(c.useState)(
            (null === (t = a.GetEventModel().jsondata.tagged_items) ||
            void 0 === t
              ? void 0
              : t.length) > 100
          ),
          g = _[0],
          E = _[1];
        if (!m.h.logged_in || !m.h.is_support) return null;
        var b = new Array(),
          h = a.GetAllTags();
        h &&
          h.forEach(function (e) {
            b.push(c.createElement("div", { key: e }, e));
          });
        var v = a.GetEventModel().jsondata;
        if (i) {
          var f = function (e) {
              var t = function (t) {
                if (Array.isArray(e[t])) {
                  var a = -1;
                  e[t].forEach(function (n, i) {
                    null != n &&
                      ((a = i), "object" == typeof n && (e[t][i] = f(n)));
                  }),
                    -1 == a
                      ? (e[t] = "[all empty array]")
                      : a < e[t].length - 1 &&
                        (e[t].splice(a + 1),
                        e[t].push("... rest are empty ..."));
                } else "object" == typeof e[t] && (e[t] = f(e[t]));
              };
              for (var a in e) t(a);
              return e;
            },
            S = JSON.parse(JSON.stringify(a.GetEventModel().jsondata));
          v = f(S);
        }
        l &&
          (v = oa(
            v,
            "sale_sections.facets.facetValues.name",
            "... and localized versions ...",
            !0
          )),
          u &&
            (v = oa(
              v,
              "tagged_items.tags",
              "... %1$s sale tags hidden ...",
              !1
            )),
          g &&
            ((v = oa(
              v,
              "sale_sections.capsules",
              "... %1$s section sale items hidden ...",
              !1
            )),
            (v = oa(
              v,
              "sale_sections.tabs.capsules",
              "... %1$s tab sale items hidden ...",
              !1
            )),
            (v = oa(
              v,
              "tagged_items",
              "... %1$s tagged sale items AND tags hidden ...",
              !1
            )),
            (v = oa(
              v,
              "sorting_tiers",
              "... %1$s sorting tier sale items hidden ...",
              !1
            )),
            (v = oa(
              v,
              "sale_sections.facets.facetValues.matchingCapsules",
              "... %1$s facet sale items hidden ...",
              !1
            )));
        var O = a.GetCreatorUserSteamID(),
          y = a.GetLastUpdater(),
          C = Object(lt.a)(a.GetEventModel()),
          j = C[0],
          T = C[1];
        return c.createElement(
          "div",
          null,
          c.createElement(
            "div",
            null,
            c.createElement(Me.e, {
              label: "collapse empty arrays",
              checked: i,
              onChange: r,
            }),
            c.createElement(Me.e, {
              label: "collapse facet value names",
              checked: l,
              onChange: s,
            }),
            c.createElement(Me.e, {
              label: "collapse sale tags",
              checked: u,
              onChange: p,
            }),
            c.createElement(Me.e, {
              label: "collapse sale items",
              checked: g,
              onChange: E,
            }),
            c.createElement("h1", null, "Data:"),
            c.createElement(
              "div",
              null,
              "Clan SteamID: ",
              a.GetClanSteamID().ConvertTo64BitString()
            ),
            c.createElement(
              "div",
              null,
              "Clan AccountID: ",
              a.GetClanSteamID().GetAccountID()
            ),
            c.createElement(
              "div",
              null,
              O.BIsValid()
                ? c.createElement(wt, {
                    accountID: O.GetAccountID(),
                    locToken: "#EventModTile_EventCreator",
                  })
                : "Original Poster: not set"
            ),
            c.createElement(
              "div",
              null,
              y.BIsValid()
                ? c.createElement(wt, {
                    accountID: y.GetAccountID(),
                    locToken: "#EventModTile_EventLastUpdator",
                  })
                : "Last Updater: not set"
            ),
            c.createElement("div", null, "AppID: ", a.GetAppID()),
            c.createElement("div", null, "Event GID: ", a.GetEventModel().GID),
            c.createElement(
              "div",
              null,
              "Announcement GID: ",
              a.GetEventModel().AnnouncementGID
            ),
            c.createElement(
              "div",
              null,
              "Forum Topic URL: ",
              a.GetEventModel().GetForumTopicURL()
            ),
            c.createElement(
              "div",
              null,
              "Featured App TagID: ",
              a.GetEventModel().featured_app_tagid
            ),
            c.createElement(
              "div",
              null,
              "Event Start Time: ",
              a.GetEventModel().startTime,
              " -",
              Boolean(0 != a.GetEventModel().startTime) &&
                c.createElement(Re.a, {
                  dateAndTime: a.GetEventModel().startTime,
                  bSingleLine: !0,
                })
            ),
            c.createElement(
              "div",
              null,
              "Event End Time: ",
              a.GetEventModel().endTime,
              " -",
              Boolean(0 != a.GetEventModel().endTime) &&
                c.createElement(Re.a, {
                  dateAndTime: a.GetEventModel().endTime,
                  bSingleLine: !0,
                })
            ),
            c.createElement(
              "div",
              null,
              "Visibility Start Time: ",
              a.GetEventModel().visibilityStartTime,
              " -",
              Boolean(0 != a.GetEventModel().visibilityStartTime) &&
                c.createElement(Re.a, {
                  dateAndTime: a.GetEventModel().visibilityStartTime,
                  bSingleLine: !0,
                })
            ),
            c.createElement(
              "div",
              null,
              "Visibility End Time: ",
              a.GetEventModel().visibilityEndTime,
              " -",
              Boolean(0 != a.GetEventModel().visibilityEndTime) &&
                c.createElement(Re.a, {
                  dateAndTime: a.GetEventModel().visibilityEndTime,
                  bSingleLine: !0,
                })
            ),
            c.createElement(
              "div",
              null,
              "Post Time: ",
              a.GetEventModel().postTime,
              " -",
              Boolean(0 != a.GetEventModel().postTime) &&
                c.createElement(Re.a, {
                  dateAndTime: a.GetEventModel().postTime,
                  bSingleLine: !0,
                })
            ),
            c.createElement(
              "div",
              null,
              "Last Modified Time (by user): ",
              a.GetEventModel().rtime32_last_modified,
              " -",
              Boolean(0 != a.GetEventModel().rtime32_last_modified) &&
                c.createElement(Re.a, {
                  dateAndTime: a.GetEventModel().rtime32_last_modified,
                  bSingleLine: !0,
                })
            ),
            c.createElement(
              "div",
              null,
              "Last Solr Update Indexing Request Time: ",
              a.GetEventModel().rtime32_last_solr_search_col_updated,
              " -",
              Boolean(
                0 != a.GetEventModel().rtime32_last_solr_search_col_updated
              ) &&
                c.createElement(Re.a, {
                  dateAndTime: a.GetEventModel()
                    .rtime32_last_solr_search_col_updated,
                  bSingleLine: !0,
                })
            ),
            Boolean(
              0 != a.GetEventModel().jsondata.rt_migrated_time &&
                null != a.GetEventModel().jsondata.rt_migrated_time
            ) &&
              c.createElement(
                "div",
                null,
                "Migrated Time: ",
                a.GetEventModel().jsondata.rt_migrated_time,
                " -",
                c.createElement(Re.a, {
                  dateAndTime: a.GetEventModel().jsondata.rt_migrated_time,
                  bSingleLine: !0,
                })
              ),
            c.createElement(
              "div",
              null,
              "Build and Branch Association: ",
              j,
              " -",
              T || "default"
            ),
            c.createElement("h1", null, "Tags:"),
            b,
            c.createElement("br", null),
            c.createElement(At, { eventModel: a.GetEventModel() }),
            c.createElement("br", null),
            c.createElement(sa, {
              clanSteamID: a.GetClanSteamID(),
              gidClanEvent: a.GetGID(),
            }),
            c.createElement("br", null),
            c.createElement("h1", null, "Json Body"),
            c.createElement(ia.b, { data: v })
          )
        );
      });
      function sa(e) {
        var t,
          a = e.clanSteamID,
          n = e.gidClanEvent,
          i = Object(Et.b)(a.GetAccountID(), n),
          r = i[0];
        i[1];
        return i[2]
          ? c.createElement(_.a, { size: "small" })
          : void 0 !==
            (null === (t = r.jsonData) || void 0 === t
              ? void 0
              : t.bPublishRequiresValveApproval)
          ? c.createElement(
              "div",
              null,
              c.createElement("h1", null, "Private Data:"),
              c.createElement(
                "div",
                null,
                r.nAccountLastUpdate
                  ? c.createElement(wt, {
                      accountID: r.nAccountLastUpdate,
                      locToken: "#EventModTile_EventLastUpdator",
                    })
                  : "Private Date Not Saved"
              ),
              c.createElement(
                "div",
                null,
                "Last Save Time: ",
                r.rtLastUpdateTime,
                " -",
                Boolean(r.rtLastUpdateTime > 0) &&
                  c.createElement(Re.a, {
                    dateAndTime: r.rtLastUpdateTime,
                    bSingleLine: !0,
                  })
              ),
              c.createElement(ia.b, { data: r.jsonData })
            )
          : c.createElement("div", null, "No Private Data Associated");
      }
      var ca = function (e) {
          var t = e.editModel,
            a = t.GetEventModel().clanSteamID.GetAccountID(),
            i = t.GetEventModel().GID,
            r = c.useState(null),
            o = r[0],
            l = r[1],
            s = c.useState(null),
            d = s[0],
            u = s[1],
            g = c.useState(!0),
            E = g[0],
            b = g[1];
          return (
            c.useEffect(
              function () {
                if (E) {
                  Object(n.b)(void 0, void 0, void 0, function () {
                    var e, t, r, o, s, c;
                    return Object(n.e)(this, function (n) {
                      switch (n.label) {
                        case 0:
                          (e =
                            m.c.STORE_BASE_URL +
                            "events_admin/ajaxgetsolrdata"),
                            (t = {
                              sessionid: m.c.SESSIONID,
                              clan_account_id: a,
                              event_gid: i,
                            }),
                            (n.label = 1);
                        case 1:
                          return (
                            n.trys.push([1, 3, 4, 5]),
                            [4, y.a.get(e, { params: t, withCredentials: !0 })]
                          );
                        case 2:
                          return (
                            (r = n.sent()),
                            1 ==
                              (null === (c = null == r ? void 0 : r.data) ||
                              void 0 === c
                                ? void 0
                                : c.success) &&
                              (l(r.data.solr_data),
                              u(r.data.store_solr_matches)),
                            [3, 5]
                          );
                        case 3:
                          return (
                            (o = n.sent()),
                            (s = Object(p.a)(o)),
                            console.error(
                              "SolrDebugPanel: error " + s.strErrorMsg,
                              s
                            ),
                            [3, 5]
                          );
                        case 4:
                          return b(!1), [7];
                        case 5:
                          return [2];
                      }
                    });
                  });
                }
              },
              [E, a, i]
            ),
            E
              ? c.createElement(_.a, { string: Object(f.f)("#Loading") })
              : o
              ? c.createElement(
                  "div",
                  null,
                  c.createElement(
                    ra.d,
                    {
                      title: "Event Solr Data",
                      tooltip:
                        "Shows the expanded data stored in the event solr core for this event",
                      bStartMinimized: !0,
                    },
                    c.createElement(ia.b, { data: o })
                  ),
                  c.createElement(
                    ra.d,
                    {
                      title: "Store Search Data",
                      tooltip:
                        "Here are the apps tagged with the sale id which are searchable and part of the sale",
                      bStartMinimized: !0,
                    },
                    c.createElement(ia.b, { data: d })
                  )
                )
              : c.createElement("div", null, "No solr data ", a, ": ", i)
          );
        },
        da = a("Gp1o"),
        ua = a("TOXn"),
        pa = a("fbnN"),
        ma = a("6h0J"),
        _a = a.n(ma),
        ga = a("6yBx"),
        Ea = a("+d9t"),
        ba = a("6Oks"),
        ha = a.n(ba),
        va = function (e) {
          var t = null;
          "capsule" === e.artworkType
            ? (t = c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "p",
                  null,
                  Object(f.f)("#selectimage_tip_capsule_1")
                ),
                c.createElement(
                  "div",
                  null,
                  c.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/31721797/2ef00d65527edf9aecdaddee086b0f5ee0cc2fe6.jpg",
                  }),
                  c.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/7614223/fe3aa1776d96e4aa215edbdacc363a9ed005213e.png",
                  }),
                  c.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/27000850/dc17534edaabe8d351fdfb1c6186c4eb3e637c8d.png",
                  }),
                  c.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/31013613/a98ecca7730e4857cb5f83e50f3304ce13bf56bf.jpg",
                  })
                )
              ))
            : "background" === e.artworkType
            ? (t = c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "p",
                  null,
                  Object(f.f)("#selectimage_tip_background_1")
                ),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/3703047/72feb03fa4eced13596f0ff7b9ec434865cb73e4.png",
                }),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/5193306/62436147b454715822a198a2767e5c7a8560617e.jpg",
                }),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/31721797/77cbe3f768e16b149c78f127b09c047826646ba5.png",
                })
              ))
            : "spotlight" === e.artworkType &&
              (t = c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "div",
                  { className: ha.a.AssetExampleSpotlightCtn },
                  c.createElement(
                    "p",
                    null,
                    Object(f.f)("#selectimage_tip_spotlight_3")
                  ),
                  c.createElement(
                    "p",
                    null,
                    Object(f.f)("#selectimage_tip_spotlight_4")
                  ),
                  c.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_1.jpg",
                  }),
                  c.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_2.jpg",
                  }),
                  c.createElement(
                    "p",
                    null,
                    Object(f.f)("#selectimage_tip_spotlight_5")
                  ),
                  c.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_3.jpg",
                  }),
                  c.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_4.jpg",
                  })
                )
              ));
          return t
            ? c.createElement(
                "div",
                { className: L.a.FlexRowContainer },
                c.createElement(
                  Me.t,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: function () {
                      return (function (t) {
                        Object(Ie.d)(
                          c.createElement(
                            Te.d,
                            {
                              onOK: function () {},
                              onCancel: function () {},
                              bAlertDialog: !0,
                              strTitle: Object(f.f)(
                                "#EventEditor_ExampleTitle_" + e.artworkType
                              ),
                              strDescription: Object(f.f)(
                                "#EventEditor_ExampleDescription"
                              ),
                            },
                            t
                          ),
                          window
                        );
                      })(t);
                    },
                  },
                  Object(f.f)("#EventEditor_ViewExamples")
                ),
                c.createElement(
                  Me.t,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: function (e) {
                      return Object(Ea.d)(
                        e,
                        "https://partner.steamgames.com/doc/store/assets/eventassets"
                      );
                    },
                  },
                  Object(f.f)("#EventEditor_Learn_More")
                )
              )
            : null;
        },
        fa = function (e) {
          var t = null;
          "sale_header" === e.artworkType
            ? (t = c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "p",
                  null,
                  Object(f.f)("#selectimage_tip_sale_header_1")
                ),
                c.createElement(
                  "p",
                  null,
                  Object(f.f)("#selectimage_tip_sale_header_2")
                ),
                c.createElement(
                  "div",
                  { className: ha.a.SaleHeaderExampleCtn },
                  c.createElement(
                    "div",
                    { className: ha.a.SaleHeaderExampleCol },
                    c.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/a7dcfaf476e3351bb34b8af3e423a6e6cd652a04.jpg",
                        target: "_blank",
                      },
                      c.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/a7dcfaf476e3351bb34b8af3e423a6e6cd652a04.jpg",
                      })
                    ),
                    c.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/502e9a6d3bb266b4274a946192bb960f15e1d136.png",
                        target: "_blank",
                      },
                      c.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/502e9a6d3bb266b4274a946192bb960f15e1d136.png",
                      })
                    )
                  ),
                  c.createElement(
                    "div",
                    { className: ha.a.SaleHeaderExampleCol },
                    c.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/0b6edf0575cc418172fc9d7614ae5c2881d1dcc0.jpg",
                        target: "_blank",
                      },
                      c.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/0b6edf0575cc418172fc9d7614ae5c2881d1dcc0.jpg",
                      })
                    )
                  )
                )
              ))
            : "product_banner" === e.artworkType &&
              (t = c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "p",
                  null,
                  Object(f.f)("#selectimage_tip_sale_product_banner")
                ),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/8298b4d6ebf6f6dd2355054431d339ec9dcafdef.jpg",
                }),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/cc803d270bf7f47ee508bbadf14577bbfe5f6500.jpg",
                }),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/309cb650beb92e00ae352710387832aea78433ef.jpg",
                }),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/ecd819245dd4aca57aed76f714a28b2356ad90f2.jpg",
                }),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/7375e5c0f2adb7241870acfa931e167ff13c669f.gif",
                })
              ));
          return t
            ? c.createElement(
                "div",
                { className: L.a.FlexRowContainer },
                c.createElement(
                  Me.t,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: function () {
                      return (function (t) {
                        Object(Ie.d)(
                          c.createElement(
                            Te.d,
                            {
                              onOK: function () {},
                              onCancel: function () {},
                              bAlertDialog: !0,
                              strTitle: Object(f.f)(
                                "#EventEditor_ExampleTitle_" + e.artworkType
                              ),
                              strDescription: Object(f.f)(
                                "#EventEditor_ExampleDescription"
                              ),
                            },
                            t
                          ),
                          window
                        );
                      })(t);
                    },
                  },
                  Object(f.f)("#EventEditor_ViewExamples")
                ),
                c.createElement(
                  Me.t,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: function (e) {
                      return Object(Ea.d)(
                        e,
                        "https://partner.steamgames.com/doc/resources/Sales_Feature_Beta"
                      );
                    },
                  },
                  Object(f.f)("#EventEditor_Learn_More")
                ),
                c.createElement("br", null)
              )
            : null;
        },
        Sa = a("R5ed"),
        Oa = a("Kw0F"),
        ya = (function () {
          function e(e) {
            this.m_editModel = e;
          }
          return (
            (e.prototype.GetJSONData = function () {
              return this.m_editModel.GetEventModel().jsondata;
            }),
            (e.prototype.SetBroadcastEnabled = function (e) {
              this.GetJSONData().bBroadcastEnabled !== e &&
                ((this.GetJSONData().bBroadcastEnabled = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetBroadcastForceBanner = function (e) {
              this.GetJSONData().broadcast_force_banner !== e &&
                ((this.GetJSONData().broadcast_force_banner = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetChangeSetting = function (e) {
              this.GetJSONData().broadcastChatSetting !== e &&
                ((this.GetJSONData().broadcastChatSetting = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetTitleToken = function (e) {
              this.GetJSONData().default_broadcast_title !== e &&
                ((this.GetJSONData().default_broadcast_title = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetCustomTitleLocalize = function (e, t) {
              this.GetJSONData().localized_broadcast_title[e] !== t &&
                ((this.GetJSONData().localized_broadcast_title[e] = t),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.AddAccountToWhiteList = function (e) {
              var t = this.GetJSONData().broadcast_whitelist;
              t.includes(e) ||
                (t.push(e), this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.DeleteWhiteListAccount = function (e) {
              var t = this.GetJSONData().broadcast_whitelist.indexOf(e);
              t < 0 ||
                (this.GetJSONData().broadcast_whitelist.splice(t, 1),
                this.GetJSONData().broadcast_language &&
                  this.GetJSONData().broadcast_language.length > t &&
                  this.GetJSONData().broadcast_language.splice(t, 1),
                this.GetJSONData().broadcast_priority &&
                  this.GetJSONData().broadcast_priority.length > t &&
                  this.GetJSONData().broadcast_priority.splice(t, 1));
            }),
            (e.prototype.SetWhiteListAccountLanguage = function (e, t) {
              var a = this.GetJSONData().broadcast_whitelist.indexOf(e);
              if (
                !(a < 0) &&
                a < this.GetJSONData().broadcast_whitelist.length
              ) {
                if (!this.GetJSONData().broadcast_language) {
                  if (-1 == t) return;
                  this.GetJSONData().broadcast_language = new Array();
                }
                var n = this.GetJSONData().broadcast_language;
                if (n.length < a && -1 == t) return;
                for (; n.length <= a; ) n.push(-1);
                if (n[a] != t) {
                  for (n[a] = t; n.length > 0 && -1 == n[n.length - 1]; )
                    n.pop();
                  0 == n.length &&
                    (this.GetJSONData().broadcast_language = void 0),
                    this.m_editModel.SetDirty(T.c.jsondata_broadcast);
                }
              }
            }),
            (e.prototype.SetWhiteListAccountPriority = function (e, t) {
              var a = this.GetJSONData().broadcast_whitelist.indexOf(e);
              if (!(a < 0)) {
                var n = Object(Oa.e)(
                  this.GetJSONData().broadcast_priority || [],
                  a + 1,
                  ""
                );
                for (n[a] = t; n.length > 0 && !n[n.length - 1]; ) n.pop();
                (this.GetJSONData().broadcast_priority = n),
                  this.m_editModel.SetDirty(T.c.jsondata_broadcast);
              }
            }),
            (e.prototype.GetWhiteListAccountPriority = function (e, t) {
              var a = this.GetJSONData().broadcast_whitelist.indexOf(e);
              return a < 0 ||
                !this.GetJSONData().broadcast_priority ||
                a >= this.GetJSONData().broadcast_priority.length
                ? t
                : this.GetJSONData().broadcast_priority[a] || t;
            }),
            (e.prototype.RemoveWhiteListAtIndex = function (e) {
              this.GetJSONData().broadcast_whitelist.length > e &&
                (this.GetJSONData().broadcast_whitelist.splice(e, 1),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.ClearWhiteList = function () {
              this.GetJSONData().broadcast_whitelist.length > 0 &&
                ((this.GetJSONData().broadcast_whitelist = []),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.GetBroadcastContentType = function () {
              return this.GetJSONData().broadcast_content_type;
            }),
            (e.prototype.SetBroadcastContentType = function (e) {
              this.GetJSONData().broadcast_content_type != e &&
                ((this.GetJSONData().broadcast_content_type = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.GetPrerollVideo = function () {
              return this.GetJSONData().broadcast_preroll_vod_appid;
            }),
            (e.prototype.SetPrerollVODAppID = function (e) {
              this.GetJSONData().broadcast_preroll_vod_appid !== e &&
                ((this.GetJSONData().broadcast_preroll_vod_appid = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetDropsEnabled = function (e) {
              this.GetJSONData().broadcast_item_drops_enabled != e &&
                (e
                  ? ((this.GetJSONData().broadcast_item_drops_enabled = !0),
                    (this.GetJSONData().broadcast_item_drops_manual = !1),
                    (this.GetJSONData().broadcast_item_drops_min_watch_time_minutes = 30))
                  : ((this.GetJSONData().broadcast_item_drops_enabled = void 0),
                    (this.GetJSONData().broadcast_item_drops_manual = void 0),
                    (this.GetJSONData().broadcast_item_drops_min_watch_time_minutes = void 0),
                    (this.GetJSONData().broadcast_item_drops_details_clan_accountid = void 0),
                    (this.GetJSONData().broadcast_item_drops_details_event_gid = void 0)),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetItemDropManual = function (e) {
              this.GetJSONData().broadcast_item_drops_manual != e &&
                ((this.GetJSONData().broadcast_item_drops_manual = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetItemDropMinutes = function (e) {
              this.GetJSONData().broadcast_item_drops_min_watch_time_minutes !=
                e &&
                ((this.GetJSONData().broadcast_item_drops_min_watch_time_minutes = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetItemDropDetailEvents = function (e, t) {
              (this.GetJSONData().broadcast_item_drops_details_clan_accountid ==
                e &&
                this.GetJSONData().broadcast_item_drops_details_event_gid ==
                  t) ||
                ((this.GetJSONData().broadcast_item_drops_details_event_gid = t),
                (this.GetJSONData().broadcast_item_drops_details_clan_accountid = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetWidePlayerLayout = function (e) {
              this.GetJSONData().broadcast_display_wide_player != e &&
                ((this.GetJSONData().broadcast_display_wide_player = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            Object(n.c)([G.k], e.prototype, "SetBroadcastEnabled", null),
            Object(n.c)([G.k], e.prototype, "SetBroadcastForceBanner", null),
            Object(n.c)([G.k], e.prototype, "SetChangeSetting", null),
            Object(n.c)([G.k], e.prototype, "SetTitleToken", null),
            Object(n.c)([G.k], e.prototype, "SetCustomTitleLocalize", null),
            Object(n.c)([G.k], e.prototype, "AddAccountToWhiteList", null),
            Object(n.c)([G.k], e.prototype, "DeleteWhiteListAccount", null),
            Object(n.c)(
              [G.k],
              e.prototype,
              "SetWhiteListAccountLanguage",
              null
            ),
            Object(n.c)(
              [G.k],
              e.prototype,
              "SetWhiteListAccountPriority",
              null
            ),
            Object(n.c)([G.k], e.prototype, "RemoveWhiteListAtIndex", null),
            Object(n.c)([G.k], e.prototype, "ClearWhiteList", null),
            Object(n.c)([G.k], e.prototype, "SetBroadcastContentType", null),
            Object(n.c)([G.k], e.prototype, "SetPrerollVODAppID", null),
            Object(n.c)([G.k], e.prototype, "SetDropsEnabled", null),
            Object(n.c)([G.k], e.prototype, "SetItemDropManual", null),
            Object(n.c)([G.k], e.prototype, "SetItemDropMinutes", null),
            Object(n.c)([G.k], e.prototype, "SetItemDropDetailEvents", null),
            Object(n.c)([G.k], e.prototype, "SetWidePlayerLayout", null),
            e
          );
        })(),
        Ca = a("dsQf"),
        ja = a.n(Ca),
        Ta = a("TtDX"),
        Ia = a("t3gG"),
        Da = a("y+6m"),
        wa = a("vBFs"),
        Ga = a("McqU"),
        Aa = a("h5LU"),
        Ma = a("wrcz"),
        ka = a.n(Ma),
        La = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                strCustomTitle: "",
                customTitleLanguage: 0,
                friends: null,
                whitelistSteamID: "",
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a;
                return Object(n.e)(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        i.trys.push([0, 2, , 3]),
                        (e = this.props.editModel
                          .GetEventModel()
                          .GetBroadcastWhitelistAsSteamIDs()),
                        It.a.LoadProfiles(e),
                        [
                          4,
                          y.a.get(
                            m.c.COMMUNITY_BASE_URL + "actions/ajaxlistfriends"
                          ),
                        ]
                      );
                    case 1:
                      return (
                        (t = i.sent()),
                        this.setState({ friends: t.data }),
                        It.a.LoadProfiles(
                          Object(n.g)(
                            [m.h.steamid],
                            t.data.map(function (e) {
                              return e.steamid;
                            })
                          )
                        ),
                        [3, 3]
                      );
                    case 2:
                      return (
                        (a = i.sent()),
                        console.error("Failed to load data:", a),
                        [3, 3]
                      );
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.GetBroadcastEditModel = function () {
              return new ya(this.props.editModel);
            }),
            (t.prototype.OnBroadcastOptionChange = function (e) {
              this.GetBroadcastEditModel().SetBroadcastEnabled(e);
            }),
            (t.prototype.OnBroadcastForceBanner = function (e) {
              this.GetBroadcastEditModel().SetBroadcastForceBanner(e);
            }),
            (t.prototype.OnChatChange = function (e) {
              this.GetBroadcastEditModel().SetChangeSetting(e);
            }),
            (t.prototype.OnTitleChange = function (e) {
              this.GetBroadcastEditModel().SetTitleToken(e.data);
            }),
            (t.prototype.OnCustomTitleChange = function (e) {
              this.setState({ strCustomTitle: e.target.value });
            }),
            (t.prototype.OnCustomTitleLanguageChange = function (e) {
              this.setState({ customTitleLanguage: e.data });
            }),
            (t.prototype.AddTitle = function () {
              this.GetBroadcastEditModel().SetCustomTitleLocalize(
                this.state.customTitleLanguage,
                this.state.strCustomTitle
              ),
                this.setState({ strCustomTitle: "" });
            }),
            (t.prototype.RemoveTitle = function (e) {
              this.GetBroadcastEditModel().SetCustomTitleLocalize(e, null);
            }),
            (t.prototype.AddSteamIDToWhitelist = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t;
                return Object(n.e)(this, function (a) {
                  return (
                    (t = new g.a(e)),
                    this.AddWhitelist(t.GetAccountID()),
                    [2, !0]
                  );
                });
              });
            }),
            (t.prototype.AddWhitelist = function (e) {
              this.GetBroadcastEditModel().AddAccountToWhiteList(e);
            }),
            (t.prototype.RemoveWhitelist = function (e) {
              this.GetBroadcastEditModel().RemoveWhiteListAtIndex(e);
            }),
            (t.prototype.ClearWhitelist = function () {
              this.GetBroadcastEditModel().ClearWhiteList();
            }),
            (t.prototype.GetPrerollVideo = function () {
              return this.GetBroadcastEditModel().GetPrerollVideo() || "";
            }),
            (t.prototype.OnPrerollVideoChange = function (e) {
              this.GetBroadcastEditModel().SetPrerollVODAppID(
                e.target.value.trim()
              );
            }),
            (t.prototype.OnSaleColorChange = function (e, t) {
              (this.props.editModel.GetEventModel().jsondata[t] = e),
                this.props.editModel.SetDirty(T.c.jsondata_sales);
            }),
            (t.prototype.OnOpenGradientInnerColor = function (e) {
              var t = this;
              Object(Ta.a)(
                c.createElement(Aa.a, {
                  onChange: function (e) {
                    return t.OnSaleColorChange(
                      e,
                      "broadcast_gradient_inner_color"
                    );
                  },
                  color: this.props.editModel.GetEventModel().jsondata
                    .broadcast_gradient_inner_color,
                }),
                e,
                { bDisablePopTop: !0 }
              );
            }),
            (t.prototype.OnOpenGradientOuterColor = function (e) {
              var t = this;
              Object(Ta.a)(
                c.createElement(Aa.a, {
                  onChange: function (e) {
                    return t.OnSaleColorChange(
                      e,
                      "broadcast_gradient_outer_color"
                    );
                  },
                  color: this.props.editModel.GetEventModel().jsondata
                    .broadcast_gradient_outer_color,
                }),
                e,
                { bDisablePopTop: !0 }
              );
            }),
            (t.prototype.render = function () {
              for (
                var e = this,
                  t = this.props.editModel,
                  a = t.GetEventModel().jsondata,
                  n = [
                    "#Broadcast_default_title_dev",
                    "#Broadcast_default_title_community",
                    "#Broadcast_default_title_comp",
                    "#Broadcast_default_title_speed",
                    "#Broadcast_default_title_simple",
                    "#Broadcast_default_title_dev_chat",
                    "#Broadcast_default_title_ama",
                  ].map(function (e) {
                    return { label: Object(f.f)(e), data: e };
                  }),
                  i =
                    (h.a.Get().GetPartnerEventPermissions(t.GetClanSteamID()),
                    []),
                  o = 0,
                  l = f.b.GetLanguageListForRealms([X.f.k_ESteamRealmGlobal]);
                o < l.length;
                o++
              ) {
                var s = l[o],
                  d = {
                    label: Object(f.f)(
                      "#language_selection_" + Object(Ae.a)(s)
                    ),
                    data: s,
                  };
                i.push(d);
              }
              var u = c.createElement(
                  "div",
                  { className: L.a.DropDownScroll },
                  (this.state.friends || []).map(function (t) {
                    return c.createElement(
                      Da.d,
                      {
                        onSelected: function () {
                          return e.AddSteamIDToWhitelist(t.steamid);
                        },
                        key: t.steamid,
                      },
                      c.createElement(
                        "div",
                        { style: { display: "flex", alignItems: "center" } },
                        c.createElement("img", {
                          className: ka.a.WhitelistAvatar,
                          src: t.avatar_url,
                        }),
                        t.persona_name
                      )
                    );
                  })
                ),
                p = Ia.a.map(function (a) {
                  return c.createElement(
                    "div",
                    {
                      key: "broadcastchatOptions_" + a,
                      className: Object(N.a)(
                        L.a.FlexRowContainer,
                        L.a.RadioOption
                      ),
                    },
                    c.createElement("input", {
                      type: "radio",
                      name: "BroadcastChat",
                      id: "EventEditor_BroadcastSChat_" + a,
                      value: a,
                      checked:
                        t.GetEventModel().GetBroadcastChatVisibility() === a,
                      onChange: function () {
                        return e.OnChatChange(a);
                      },
                    }),
                    c.createElement(
                      "label",
                      { htmlFor: "EventEditor_BroadcastSChat_" + a },
                      c.createElement(
                        "span",
                        null,
                        Object(f.f)("#Broadcast_chat_" + a)
                      )
                    )
                  );
                });
              return c.createElement(
                "div",
                { className: V.a.EventEditorInputPaneContents },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitleCtn },
                  c.createElement(
                    "span",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#Broadcast_title")
                  ),
                  c.createElement(
                    "a",
                    {
                      target: m.c.IN_CLIENT ? void 0 : "_blank",
                      href: m.c.PARTNER_BASE_URL + "doc/store/broadcast",
                      className: Object(N.a)(L.a.doclink),
                    },
                    c.createElement(
                      "span",
                      null,
                      Object(f.f)("#Broadcast_documentation")
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: L.a.InputBorder },
                  c.createElement(Me.p, {
                    onChange: this.OnBroadcastOptionChange,
                    label: Object(f.f)("#Broadcast_option"),
                    checked: t.GetEventModel().BHasBroadcastEnabled(),
                  })
                ),
                t.GetEventModel().BHasBroadcastEnabled() &&
                  c.createElement(
                    "div",
                    null,
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      Object(f.f)("#Broadcast_title_title")
                    ),
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(
                          L.a.FlexColumnContainer,
                          L.a.EventDefaultRowContainer
                        ),
                      },
                      c.createElement(
                        "p",
                        null,
                        Object(f.f)("#Broadcast_title_desc")
                      ),
                      c.createElement(Me.h, {
                        rgOptions: n,
                        selectedOption: n[0].data,
                        onChange: this.OnTitleChange,
                      }),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)("#Broadcast_option_customtitle")
                      ),
                      c.createElement(
                        "div",
                        { className: ka.a.customTitleOptionsCtn },
                        c.createElement(
                          "div",
                          {
                            className: Object(N.a)(
                              L.a.FlexRowContainer,
                              ka.a.CustomTitleCtn
                            ),
                          },
                          c.createElement(
                            "div",
                            { style: { width: "400px" } },
                            c.createElement(Me.l, {
                              placeholder: Object(f.f)("#Broadcast_use_custom"),
                              onChange: this.OnCustomTitleChange,
                              value: this.state.strCustomTitle,
                            })
                          ),
                          c.createElement(
                            "div",
                            { className: ka.a.LanguageContainer },
                            c.createElement(Me.h, {
                              bDisableMouseOverlay: !0,
                              strDropDownClassName: L.a.DropDownScroll,
                              rgOptions: i,
                              selectedOption: this.state.customTitleLanguage,
                              onChange: this.OnCustomTitleLanguageChange,
                            })
                          ),
                          c.createElement(
                            "div",
                            { className: ka.a.AddTitleButton },
                            c.createElement(
                              Me.q,
                              {
                                onClick: function () {
                                  return e.AddTitle();
                                },
                              },
                              Object(f.f)("#Broadcast_add_title")
                            )
                          )
                        ),
                        c.createElement(
                          "p",
                          null,
                          Object(f.f)("#Sale_option_customtitle_entered")
                        ),
                        c.createElement(
                          "div",
                          { className: Object(N.a)(L.a.FlexColumnContainer) },
                          a.localized_broadcast_title.map(function (t, a) {
                            return t
                              ? c.createElement(
                                  "div",
                                  {
                                    className: Object(N.a)(
                                      ka.a.TitleRowCtn,
                                      L.a.FlexRowContainer
                                    ),
                                    key: a,
                                  },
                                  t,
                                  " (",
                                  Object(f.f)(
                                    "#language_selection_" + Object(Ae.a)(a)
                                  ),
                                  ")",
                                  c.createElement(
                                    "div",
                                    { style: { marginLeft: "auto" } },
                                    c.createElement("img", {
                                      className: r.a.RemoveIcon,
                                      src: ja.a,
                                      onClick: function () {
                                        return e.RemoveTitle(a);
                                      },
                                    })
                                  )
                                )
                              : null;
                          })
                        )
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      Object(f.f)("#Broadcast_background")
                    ),
                    c.createElement(
                      Me.d,
                      {
                        onClick: this.OnOpenGradientOuterColor,
                        className: L.a.EventEditorTextTitle,
                        style: {
                          backgroundColor: this.props.editModel.GetEventModel()
                            .jsondata.broadcast_gradient_outer_color,
                        },
                      },
                      Object(f.f)("#Broadcast_GradientOuterColor")
                    ),
                    c.createElement(
                      Me.d,
                      {
                        onClick: this.OnOpenGradientInnerColor,
                        className: L.a.EventEditorTextTitle,
                        style: {
                          backgroundColor: this.props.editModel.GetEventModel()
                            .jsondata.broadcast_gradient_inner_color,
                        },
                      },
                      Object(f.f)("#Broadcast_GradientInnerColor")
                    ),
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      Object(f.f)("#Broadcast_whitelist")
                    ),
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(
                          L.a.FlexColumnContainer,
                          L.a.EventDefaultRowContainer
                        ),
                      },
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)("#Broadcast_whitelist_desc")
                      ),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)("#Broadcast_option_drag_ttip")
                      ),
                      c.createElement(
                        "div",
                        { className: V.a.BroadcastAccountList },
                        a.broadcast_whitelist.map(function (e) {
                          return c.createElement(Na, {
                            key: "broadcastaccountrow_" + e,
                            accountid: e,
                          });
                        })
                      ),
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            L.a.FlexRowWrapFlexStartContainer
                          ),
                        },
                        c.createElement(
                          "a",
                          {
                            onClick: function () {
                              return e.AddWhitelist(m.h.accountid);
                            },
                            className: L.a.EditPreviewButton,
                          },
                          Object(f.f)("#Broadcast_whitelist_addme")
                        ),
                        c.createElement(
                          "a",
                          {
                            onClick: function (e) {
                              return Object(Ta.a)(u, e);
                            },
                            className: L.a.EditPreviewButton,
                          },
                          Object(f.f)("#Broadcast_whitelist_addfriend")
                        ),
                        c.createElement(
                          "a",
                          {
                            onClick: this.ClearWhitelist,
                            className: L.a.EditPreviewButton,
                          },
                          Object(f.f)("#Broadcast_whitelist_clear")
                        )
                      ),
                      c.createElement(Ga.a, {
                        onButtonClick: this.AddSteamIDToWhitelist,
                        buttonText: Object(f.f)("#Broadcast_whitelist_adduser"),
                      }),
                      c.createElement(
                        "div",
                        null,
                        Object(f.n)(
                          "#Broadcast_whitelist_friendcode",
                          c.createElement(
                            "a",
                            {
                              target: "_blank",
                              href: m.c.COMMUNITY_BASE_URL + "my/friends/add",
                            },
                            m.c.COMMUNITY_BASE_URL + "my/friends/add"
                          )
                        )
                      )
                    ),
                    c.createElement(
                      he.b,
                      {
                        requireAdmin: !0,
                        clanSteamID: t.GetClanSteamID(),
                        className: Object(N.a)(L.a.ValveOnlyBackground),
                      },
                      c.createElement(
                        "div",
                        { className: L.a.EventEditorTextTitle },
                        Object(f.f)("#Broadcast_preroll_title")
                      ),
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            L.a.FlexColumnContainer,
                            L.a.EventDefaultRowContainer
                          ),
                        },
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)("#Broadcast_preroll_desc")
                        ),
                        c.createElement(Me.l, {
                          type: "text",
                          placeholder: Object(f.f)("#Broadcast_preroll_prompt"),
                          mustBeNumeric: !0,
                          rangeMin: 1,
                          value: this.GetPrerollVideo(),
                          onChange: this.OnPrerollVideoChange,
                        }),
                        this.GetPrerollVideo() &&
                          c.createElement(
                            "a",
                            {
                              href:
                                m.c.PARTNER_BASE_URL +
                                "apps/landing/" +
                                this.GetPrerollVideo(),
                            },
                            Object(f.f)("#Broadcast_preroll_app_link")
                          )
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      Object(f.f)("#Broadcast_chat_title")
                    ),
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(
                          L.a.FlexColumnContainer,
                          L.a.EventDefaultRowContainer
                        ),
                      },
                      p
                    ),
                    c.createElement(
                      he.b,
                      {
                        requireAdmin: !0,
                        clanSteamID: t.GetClanSteamID(),
                        className: Object(N.a)(L.a.ValveOnlyBackground),
                      },
                      c.createElement(
                        "div",
                        { className: L.a.EventEditorTextTitle },
                        "(VO) " + Object(f.f)("#Broadcast_DropsTitle")
                      ),
                      c.createElement(Me.e, {
                        onChange: function (t) {
                          return e.GetBroadcastEditModel().SetDropsEnabled(t);
                        },
                        label: Object(f.f)("#Broadcast_Drops_Enable"),
                        checked: Boolean(a.broadcast_item_drops_enabled),
                      }),
                      Boolean(a.broadcast_item_drops_enabled) &&
                        c.createElement(
                          c.Fragment,
                          null,
                          c.createElement(Me.e, {
                            onChange: function (t) {
                              return e
                                .GetBroadcastEditModel()
                                .SetItemDropManual(t);
                            },
                            label: Object(f.f)(
                              "#Broadcast_Drops_IsManualDrops"
                            ),
                            checked: Boolean(a.broadcast_item_drops_manual),
                          }),
                          c.createElement(
                            "label",
                            { htmlFor: "broadcast_min_mintes" },
                            Object(f.f)("#Broadcast_Drops_Minute")
                          ),
                          c.createElement("input", {
                            id: "broadcast_min_mintes",
                            type: "number",
                            min: "5",
                            value:
                              a.broadcast_item_drops_min_watch_time_minutes,
                            onChange: function (t) {
                              return e
                                .GetBroadcastEditModel()
                                .SetItemDropMinutes(
                                  Number.parseInt(t.target.value)
                                );
                            },
                          }),
                          c.createElement(
                            "div",
                            { className: L.a.EventEditorTextSubTitle },
                            Object(f.f)("#Broadcast_Drops_Details")
                          ),
                          c.createElement(
                            "label",
                            { htmlFor: "broadcast_detail_clan_account" },
                            Object(f.f)("#Broadcast_Drops_Details_Account")
                          ),
                          c.createElement("input", {
                            id: "broadcast_detail_clan_account",
                            type: "number",
                            min: "0",
                            value:
                              a.broadcast_item_drops_details_clan_accountid,
                            onChange: function (t) {
                              return e
                                .GetBroadcastEditModel()
                                .SetItemDropDetailEvents(
                                  Number.parseInt(t.target.value),
                                  a.broadcast_item_drops_details_event_gid
                                );
                            },
                          }),
                          c.createElement(
                            "label",
                            { htmlFor: "broadcast_detail_clan_event_gid" },
                            Object(f.f)("#Broadcast_Drops_Details_GID")
                          ),
                          c.createElement("input", {
                            id: "broadcast_detail_clan_event_gid",
                            type: "text",
                            value: a.broadcast_item_drops_details_event_gid,
                            onChange: function (t) {
                              return e
                                .GetBroadcastEditModel()
                                .SetItemDropDetailEvents(
                                  a.broadcast_item_drops_details_clan_accountid,
                                  t.target.value
                                );
                            },
                          })
                        ),
                      c.createElement(
                        He.a,
                        {
                          toolTipContent: Object(f.f)(
                            "#Broadcast_WidePlayer_ttip"
                          ),
                        },
                        c.createElement(
                          "div",
                          { className: L.a.EventEditorTextTitle },
                          "(VO) " + Object(f.f)("#Broadcast_WidePlayer")
                        )
                      ),
                      c.createElement(Me.e, {
                        onChange: function (t) {
                          return e
                            .GetBroadcastEditModel()
                            .SetWidePlayerLayout(t);
                        },
                        label: Object(f.f)("#Broadcast_WidePlayer_Use"),
                        checked: Boolean(a.broadcast_display_wide_player),
                      }),
                      c.createElement(
                        He.a,
                        {
                          toolTipContent: Object(f.f)(
                            "#Broadcast_ContentType_Desc"
                          ),
                        },
                        c.createElement(
                          "div",
                          { className: L.a.EventEditorTextTitle },
                          "(VO) " + Object(f.f)("#Broadcast_ContentType")
                        )
                      ),
                      c.createElement(Ra, null)
                    ),
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      Object(f.f)("#Broadcast_artwork")
                    ),
                    c.createElement(ga.b, {
                      clanSteamID: t.GetClanSteamID(),
                      rgSupportArtwork: ["broadcast_left", "broadcast_right"],
                      fnSetImageURL: t.SetImageURL,
                      rgRealmList: t.GetIncludedRealmList(),
                    }),
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      Object(f.f)("#Broadcast_artwork_options")
                    ),
                    c.createElement(
                      "div",
                      { className: L.a.InputBorder },
                      c.createElement(Me.p, {
                        onChange: this.OnBroadcastForceBanner,
                        label: Object(f.f)("#Broadcast_artwork_banner"),
                        tooltip: Object(f.f)("#Broadcast_artwork_banner_hint"),
                        checked: t.GetEventModel().BHasBroadcastForceBanner(),
                      })
                    ),
                    c.createElement(Sa.b, {
                      clanSteamID: t.GetClanSteamID(),
                      title: Object(f.f)(
                        "#EventEditor_ArtworkType_broadcast_left"
                      ),
                      artworkType: "broadcast_left",
                    }),
                    c.createElement(Sa.b, {
                      clanSteamID: t.GetClanSteamID(),
                      title: Object(f.f)(
                        "#EventEditor_ArtworkType_broadcast_right"
                      ),
                      artworkType: "broadcast_right",
                    })
                  )
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnBroadcastOptionChange", null),
            Object(n.c)([R.a], t.prototype, "OnBroadcastForceBanner", null),
            Object(n.c)([R.a], t.prototype, "OnChatChange", null),
            Object(n.c)([R.a], t.prototype, "OnTitleChange", null),
            Object(n.c)([R.a], t.prototype, "OnCustomTitleChange", null),
            Object(n.c)(
              [R.a],
              t.prototype,
              "OnCustomTitleLanguageChange",
              null
            ),
            Object(n.c)([R.a], t.prototype, "AddTitle", null),
            Object(n.c)([R.a], t.prototype, "RemoveTitle", null),
            Object(n.c)([R.a], t.prototype, "AddSteamIDToWhitelist", null),
            Object(n.c)([R.a], t.prototype, "AddWhitelist", null),
            Object(n.c)([R.a], t.prototype, "RemoveWhitelist", null),
            Object(n.c)([R.a], t.prototype, "ClearWhitelist", null),
            Object(n.c)([R.a], t.prototype, "GetPrerollVideo", null),
            Object(n.c)([R.a], t.prototype, "OnPrerollVideoChange", null),
            Object(n.c)([R.a], t.prototype, "OnSaleColorChange", null),
            Object(n.c)([R.a], t.prototype, "OnOpenGradientInnerColor", null),
            Object(n.c)([R.a], t.prototype, "OnOpenGradientOuterColor", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Na = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bLoading: !It.a.BHasProfile(
                  g.a
                    .InitFromAccountID(t.props.accountid)
                    .ConvertTo64BitString()
                ),
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t;
                return Object(n.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (e = g.a.InitFromAccountID(this.props.accountid)),
                        (t = e.ConvertTo64BitString()),
                        [4, It.a.LoadProfiles([t])]
                      );
                    case 1:
                      return (
                        a.sent(),
                        this.setState({
                          bLoading: !1,
                          friendData: It.a.GetProfile(t),
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnLanguageChange = function (e) {
              this.GetBroadcastEditModel().SetWhiteListAccountLanguage(
                this.props.accountid,
                e
              );
            }),
            (t.prototype.GetBroadcastEditModel = function () {
              var e = l.c.GetEditModel();
              return new ya(e);
            }),
            (t.prototype.OnDeleteBroadcaster = function () {
              this.GetBroadcastEditModel().DeleteWhiteListAccount(
                this.props.accountid
              );
            }),
            (t.prototype.render = function () {
              if (this.state.bLoading)
                return c.createElement(_.a, {
                  size: "small",
                  string: Object(f.f)("#Loading"),
                });
              if (!this.state.friendData)
                return c.createElement(
                  "div",
                  null,
                  Object(f.f)("#Broadcast_FailedToLoadUser")
                );
              var e = l.c.GetEditModel().GetEventModel(),
                t = e.jsondata.broadcast_whitelist.indexOf(
                  this.props.accountid
                ),
                a = e.jsondata.broadcast_language,
                n = -1;
              t >= 0 && a && t < a.length && void 0 !== a[t] && (n = a[t]);
              var i = this.state.friendData;
              return c.createElement(
                "div",
                { className: Object(N.a)(r.a.FlexCenter, ka.a.AccountRow) },
                c.createElement(
                  "a",
                  {
                    className: Object(N.a)(
                      r.a.FlexCenter,
                      V.a.BroadcastAccountInfo
                    ),
                    href: m.c.COMMUNITY_BASE_URL + "profiles/" + i.steamid,
                    target: "_blank",
                  },
                  i
                    ? c.createElement("img", {
                        style: { marginRight: "8px" },
                        src: i.avatar_url,
                      })
                    : null,
                  i ? i.persona_name : null
                ),
                c.createElement(
                  He.a,
                  { toolTipContent: Object(f.f)("#Broadcast_Language_hint") },
                  c.createElement(
                    "span",
                    null,
                    Object(f.f)("#EventEditor_Langauge"),
                    ": "
                  ),
                  c.createElement(wa.a, {
                    bAllowUnsetOption: !0,
                    selectedLang: n,
                    fnOnLanguageChanged: this.OnLanguageChange,
                  })
                ),
                c.createElement(Ba, { accountid: this.props.accountid }),
                c.createElement("img", {
                  className: Object(N.a)(r.a.FlexCenter, r.a.RemoveIcon),
                  src: ja.a,
                  onClick: this.OnDeleteBroadcaster,
                })
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnLanguageChange", null),
            Object(n.c)([R.a], t.prototype, "OnDeleteBroadcaster", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Ba = Object(I.a)(function (e) {
          var t = l.c.GetEditModel(),
            a = new ya(t),
            n = [
              {
                label: Object(f.f)("#Broadcast_Priority_Primary"),
                data: "primary",
              },
              {
                label: Object(f.f)("#Broadcast_Priority_Featured"),
                data: "featured",
              },
              {
                label: Object(f.f)("#Broadcast_Priority_DefaultFeatured"),
                data: "default_featured",
              },
              {
                label: Object(f.f)("#Broadcast_Priority_General"),
                data: "general",
              },
            ],
            i = a.GetWhiteListAccountPriority(e.accountid, "general");
          return c.createElement(
            He.a,
            {
              toolTipContent: Object(f.f)("#Broadcast_Priority_hint"),
              className: V.a.PrioritySelector,
            },
            c.createElement(
              "span",
              null,
              Object(f.f)("#Broadcast_Priority_label"),
              ": "
            ),
            c.createElement(Me.h, {
              rgOptions: n,
              selectedOption: i,
              onChange: function (t) {
                a.SetWhiteListAccountPriority(e.accountid, t.data);
              },
            })
          );
        });
      function Ra(e) {
        var t = l.c.GetEditModel(),
          a = new ya(t),
          n = [
            {
              label: Object(f.f)("#Broadcast_ContentType_Unknown"),
              data: void 0,
            },
            { label: Object(f.f)("#Broadcast_ContentType_Live"), data: "live" },
            {
              label: Object(f.f)("#Broadcast_ContentType_Premiere"),
              data: "premiere",
            },
            {
              label: Object(f.f)("#Broadcast_ContentType_Encore"),
              data: "encore",
            },
          ],
          i = a.GetBroadcastContentType();
        return c.createElement(
          He.a,
          {
            toolTipContent: Object(f.f)("#Broadcast_ContentType_Desc"),
            className: V.a.PrioritySelector,
          },
          c.createElement(
            "span",
            null,
            Object(f.f)("#Broadcast_ContentType"),
            ": "
          ),
          c.createElement(Me.h, {
            rgOptions: n,
            selectedOption: i,
            onChange: function (e) {
              return a.SetBroadcastContentType(e.data);
            },
          })
        );
      }
      var Fa,
        Pa,
        xa = a("wst7"),
        Ua = Object(I.a)(function (e) {
          var t = l.c.GetEditModel(),
            a = t.GetCategoryAsType(),
            n = t.BPublished(),
            i = t.BVisible();
          return c.createElement(
            "div",
            {
              className: Object(N.a)(
                xa.EventEditorTopBarContainer,
                n && i ? xa.EventPublished : xa.EventUnPublished
              ),
            },
            c.createElement(
              Ne.c,
              {
                eventModel: t.GetEventModel(),
                route: Ne.a.k_eCommunityAdminPage,
                className: L.a.EventBarBack,
              },
              Object(f.f)("#EventDisplay_EventsDashBtn")
            ),
            c.createElement(
              "div",
              { className: L.a.EventBarTitleCtn },
              c.createElement(E.d, { editModel: t })
            ),
            c.createElement(
              "div",
              { className: L.a.EventOptions },
              c.createElement(E.c, null),
              c.createElement(
                Ne.c,
                {
                  eventModel: t.GetEventModel(),
                  route: Ne.a.k_eCommunityPreview,
                  className: L.a.EditPreviewButton,
                },
                28 == a
                  ? Object(f.f)("#EventEditor_Preview_News")
                  : Object(f.f)("#EventEditor_Preview")
              ),
              t.BHasSaleEnabled() &&
                c.createElement(
                  Ne.c,
                  {
                    eventModel: t.GetEventModel(),
                    route: Ne.a.k_eCommunityPreviewSale,
                    className: L.a.EditPreviewButton,
                  },
                  Object(f.f)("#EventEditor_PreviewSale")
                )
            )
          );
        }),
        Ha = Object(I.a)(function (e) {
          var t = l.c.GetEditModel(),
            a = t.GetEventModel(),
            n = t.GetVisibilityState() == D.j.k_EEventStateVisible;
          return c.createElement(
            "div",
            { className: L.a.FlexRowWrapFlexStartContainer },
            c.createElement(ta, { editModel: l.c.GetEditModel() }),
            c.createElement(
              Ne.c,
              {
                eventModel: a,
                route: Ne.a.k_eCommunityPreview,
                className: L.a.EditPreviewButton,
              },
              Object(f.f)("#EventEditor_Preview")
            ),
            a.BHasSaleEnabled() &&
              c.createElement(
                Ne.c,
                {
                  eventModel: a,
                  route: Ne.a.k_eCommunityPreviewSale,
                  className: L.a.EditPreviewButton,
                },
                Object(f.f)("#EventEditor_PreviewSale")
              ),
            n &&
              c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "span",
                  { className: xa.DisplayAdminPanel_Spacer },
                  " "
                ),
                c.createElement(
                  Ne.c,
                  {
                    className: L.a.EditPreviewButton,
                    eventModel: a,
                    route: Ne.a.k_eStoreView,
                  },
                  Object(f.f)("#EventEditor_ViewLive")
                ),
                c.createElement(
                  "span",
                  { className: xa.DisplayAdminPanel_Spacer },
                  " "
                )
              )
          );
        }),
        Va = a("NrWE"),
        za = a("ZeAL"),
        Wa = a("Yamg"),
        qa = a("qD+2"),
        Ya = a("4P4B"),
        Ja = a("0rc7"),
        Qa = a("0pDH"),
        Za = a("bS9Q"),
        Ka = a("GOhU"),
        Xa = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = {}), (t.descBBCodeEditor = c.createRef()), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.onImageInsert = function (e, t) {
              this.descBBCodeEditor.current &&
                Object(Wa.b)(this.descBBCodeEditor.current, e, t);
            }),
            (t.prototype.OnTitleChange = function (e) {
              var t = l.c.GetEditModel();
              t.SetName(t.GetCurEditLanguage(), e.currentTarget.value);
            }),
            (t.prototype.OnSubTitleChange = function (e) {
              var t = l.c.GetEditModel();
              t.SetSubTitle(t.GetCurEditLanguage(), e.currentTarget.value);
            }),
            (t.prototype.OnDescriptionChange = function (e) {
              var t = l.c.GetEditModel();
              t.SetDescription(t.GetCurEditLanguage(), e.currentTarget.value);
            }),
            (t.prototype.SetDescription = function (e) {
              var t = l.c.GetEditModel();
              t.SetDescription(t.GetCurEditLanguage(), e);
            }),
            (t.prototype.GetCurrentDescription = function () {
              var e = l.c.GetEditModel(),
                t = e.GetCurEditLanguage(),
                a = e.GetDescription(t);
              return a || "";
            }),
            (t.prototype.onFocus = function (e) {
              e && e.target.select();
            }),
            (t.prototype.onTextAreaFocus = function (e) {
              e && e.target.select();
            }),
            (t.prototype.OnSummaryChange = function (e) {
              var t = l.c.GetEditModel();
              t.SetSummary(t.GetCurEditLanguage(), e.currentTarget.value);
            }),
            (t.prototype.OnNewReferencedAppID = function (e) {
              var t = l.c.GetEditModel();
              t.GetReferencedAppIDArray().includes(Number(e.id)) ||
                (t.GetReferencedAppIDArray().push(Number(e.id)),
                t.SetDirty(T.c.jsondata_other));
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetCategoryAsType(),
                a = e.GetCurEditLanguage(),
                n = e.GetName(a),
                i = e.GetSubTitle(a),
                r = e.GetDescription(a),
                o = e.GetEventModel().GetSummary(a);
              (void 0 !== n && null != n) || (n = ""),
                (void 0 !== r && null != r) || (r = ""),
                (void 0 !== i && null != i) || (i = ""),
                (void 0 !== o && null != o) || (o = "");
              var l = "";
              0 == o.trim().length &&
                (l =
                  0 == r.length
                    ? Object(f.f)("#EventEditor_Summary_Placeholder", D.B)
                    : Object(f.f)("#EventEditor_Summary_Autogenerated") +
                      D.q.GenerateSummaryFromText(r));
              var s = Boolean(n.length >= D.C),
                d = Boolean(i.length >= D.A),
                u = Boolean(o.length >= D.B);
              return c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "div",
                  { className: Ka.LanguageCtn },
                  c.createElement(
                    "div",
                    { className: L.a.FlexColumnContainer },
                    c.createElement(
                      "div",
                      { className: Ka.LanguageControlsCtn },
                      Object(f.f)("#EventEditor_LangaugeDesc"),
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            L.a.FlexRowContainer,
                            Ka.ToolContainer
                          ),
                        },
                        c.createElement(E.c, null),
                        c.createElement(it, { editModel: e })
                      )
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitle },
                  28 == t
                    ? Object(f.f)("#EventEditor_AnnouncementTitle")
                    : Object(f.f)("#EventEditor_EventTitle"),
                  s &&
                    c.createElement(
                      "span",
                      { className: L.a.EventEditorTextTitleLengthInfo },
                      Object(f.f)(
                        "#EventEditor_EventTitle_Max_Characters_Reached",
                        D.C
                      )
                    ),
                  c.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_Title_General_ttip",
                        D.C
                      ),
                      className: L.a.tooltip_Ctn,
                    },
                    "?"
                  ),
                  c.createElement(
                    "span",
                    {
                      className: Object(N.a)(
                        H.CharactorRemaining,
                        s ? H.CharactorExhausted : ""
                      ),
                    },
                    Object(f.f)(
                      "#EventEditor_Input_Characters_Left",
                      D.C - n.length
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: L.a.InputBorder },
                  c.createElement("input", {
                    type: "text",
                    className: Object(N.a)(
                      H.EventEditorTitleInput,
                      s ? H.EventEditorInputMaxLength : ""
                    ),
                    value: n,
                    placeholder: Object(f.f)("#EventEditor_Name_Placeholder"),
                    onFocus: this.onFocus,
                    onChange: this.OnTitleChange,
                    maxLength: D.C,
                  })
                ),
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitleCtn },
                  c.createElement(
                    "span",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEditor_Event_SubTitle")
                  ),
                  c.createElement(
                    "span",
                    { className: L.a.EventEditorTextTitleLengthInfo },
                    Object(f.f)(
                      d
                        ? "#EventEditor_Event_SubTitle_Details_Reached"
                        : "#EventEditor_Event_SubTitle_Details",
                      D.A
                    )
                  ),
                  c.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_SubTitle_General_ttip",
                        D.A
                      ),
                      className: L.a.tooltip_Ctn,
                    },
                    "?"
                  ),
                  c.createElement(
                    "span",
                    {
                      className: Object(N.a)(
                        H.CharactorRemaining,
                        d ? H.CharactorExhausted : ""
                      ),
                    },
                    Object(f.f)(
                      "#EventEditor_Input_Characters_Left",
                      D.A - i.length
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: L.a.InputBorder },
                  c.createElement("input", {
                    type: "text",
                    className: Object(N.a)(
                      H.EventEditorTitleInput,
                      H.Subtitle,
                      d ? H.EventEditorInputMaxLength : ""
                    ),
                    value: i,
                    placeholder: Object(f.f)(
                      "#EventEditor_Name_SubTitle_Placeholder"
                    ),
                    onFocus: this.onFocus,
                    onChange: this.OnSubTitleChange,
                    maxLength: D.A,
                  })
                ),
                c.createElement(
                  "div",
                  null,
                  c.createElement(
                    "div",
                    { className: H.EventEditorInputPaneContents },
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitleCtn },
                      c.createElement(
                        "span",
                        { className: L.a.EventEditorTextTitle },
                        Object(f.f)("#EventEditor_Summary_Title")
                      ),
                      c.createElement(
                        "span",
                        { className: L.a.EventEditorTextTitleLengthInfo },
                        Object(f.f)(
                          u
                            ? "#EventEditor_Summary_Title_Length_Reached"
                            : "#EventEditor_Summary_Title_Length",
                          D.B
                        )
                      ),
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventEditor_Summary_Ttip",
                            D.B
                          ),
                          className: L.a.tooltip_Ctn,
                        },
                        "?"
                      ),
                      c.createElement(
                        "span",
                        {
                          className: Object(N.a)(
                            H.CharactorRemaining,
                            u ? H.CharactorExhausted : ""
                          ),
                        },
                        Object(f.f)(
                          "#EventEditor_Input_Characters_Left",
                          D.B - o.length
                        )
                      )
                    ),
                    c.createElement("textarea", {
                      className: Object(N.a)(
                        H.EventEditorTitleInput,
                        H.Summary,
                        u ? H.EventEditorInputMaxLength : ""
                      ),
                      value: o,
                      placeholder: l,
                      onFocus: this.onTextAreaFocus,
                      onChange: this.OnSummaryChange,
                      maxLength: D.B,
                      cols: 40,
                      rows: 2,
                    })
                  ),
                  c.createElement("div", { className: L.a.ClearThings })
                ),
                this.props.bCanManuallyTagAssociatedApps &&
                  c.createElement(
                    "div",
                    null,
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitleCtn },
                      c.createElement(
                        "span",
                        { className: L.a.EventEditorTextTitle },
                        Object(f.f)("#EventEditor_ReferencedAppIDs_Header")
                      ),
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventEditor_ReferencedAppIDs_Tooltip"
                          ),
                          className: L.a.tooltip_Ctn,
                        },
                        "?"
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: H.SaleImportURL },
                      c.createElement(Qa.a, {
                        strLabel: Object(f.f)(
                          "#EventEditor_ReferencedAppIDs_SearchLabel"
                        ),
                        fnFilterSuggestion: function (t) {
                          return !e
                            .GetReferencedAppIDArray()
                            .includes(Number(t.id));
                        },
                        fnOnSelected: this.OnNewReferencedAppID,
                        rgCorporaToSearch: ["games", "dlc"],
                      })
                    ),
                    e.GetReferencedAppIDArray().length > 0 &&
                      c.createElement(Ja.a, {
                        items: e.GetReferencedAppIDArray(),
                        onDelete: function (t) {
                          e.GetReferencedAppIDArray().splice(t),
                            e.SetDirty(T.c.jsondata_other);
                        },
                        onReorder: function () {
                          return e.SetDirty(T.c.jsondata_other);
                        },
                        render: function (e) {
                          return c.createElement(
                            "div",
                            { className: H.ResultRow, key: "suggestion-" + e },
                            c.createElement(
                              "div",
                              { className: H.GameName },
                              " ",
                              Object(Za.b)(
                                qa.a.GetAppInfo(e).name + " (" + e + ")"
                              ),
                              " "
                            )
                          );
                        },
                      })
                  ),
                c.createElement(ut, { editModel: e }),
                c.createElement(
                  "div",
                  { className: L.a.Columns },
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(L.a.LeftCol, Ka.DescEditorPadding),
                    },
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      28 == t
                        ? Object(f.f)("#EventEditor_DescriptionNews")
                        : Object(f.f)("#EventEditor_Description")
                    ),
                    c.createElement(Ya.a, {
                      fnGetCurText: this.GetCurrentDescription,
                      fnOnTextChange: this.OnDescriptionChange,
                      fnSetText: this.SetDescription,
                      strPlaceholder: Object(f.f)(
                        "#EventEditor_Description_PlaceHolder"
                      ),
                      ref: this.descBBCodeEditor,
                      emoticonStore: qt.b,
                      bSupportHTMLImport: !0,
                      showFormatHelp: "PartnerEvents",
                      limitBBCode: m.b.CAN_UPLOAD_IMAGES ? void 0 : za.f,
                      classNameForTextArea: H.EventEditorDescription,
                      clanSteamID: e.GetClanSteamID(),
                    })
                  ),
                  Boolean(m.b.CAN_UPLOAD_IMAGES) &&
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(
                          L.a.RightCol,
                          Ka.DescEditorPadding,
                          Ka.ImagePickerCtn
                        ),
                      },
                      c.createElement(
                        "div",
                        { className: L.a.EventEditorTextTitle },
                        Object(f.f)("#ImagePicker_PreviousImages2"),
                        c.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(f.f)(
                              "#ImagePicker_Images_ttip"
                            ),
                            className: L.a.tooltip_Ctn,
                          },
                          "?"
                        )
                      ),
                      c.createElement(Va.a, {
                        bShowLightBox: !0,
                        clanSteamID: e.GetClanSteamID(),
                        imageInsertCallBack: this.onImageInsert,
                        fnSetImageURL: e.SetImageURL,
                        rgRealmList: e.GetIncludedRealmList(),
                      })
                    )
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "onImageInsert", null),
            Object(n.c)([R.a], t.prototype, "OnTitleChange", null),
            Object(n.c)([R.a], t.prototype, "OnSubTitleChange", null),
            Object(n.c)([R.a], t.prototype, "OnDescriptionChange", null),
            Object(n.c)([R.a], t.prototype, "SetDescription", null),
            Object(n.c)([R.a], t.prototype, "GetCurrentDescription", null),
            Object(n.c)([R.a], t.prototype, "onFocus", null),
            Object(n.c)([R.a], t.prototype, "onTextAreaFocus", null),
            Object(n.c)([R.a], t.prototype, "OnSummaryChange", null),
            Object(n.c)([R.a], t.prototype, "OnNewReferencedAppID", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        $a = a("Cs6D"),
        en = a("YuoN"),
        tn = a.n(en),
        an = a("TScJ"),
        nn = a.n(an),
        rn = a("ZCGQ"),
        on = a.n(rn),
        ln = a("NEpn"),
        sn = a.n(ln);
      !(function (e) {
        (e.EditInfo = "apprighteditinfo"),
          (e.Publish = "apprightpublish"),
          (e.ViewErrorData = "apprightviewerrordata"),
          (e.Download = "apprightdownload"),
          (e.UploadCDKeys = "apprightuploadcdkeys"),
          (e.GenerateCDKeys = "apprightgeneratecdkeys"),
          (e.ViewFinancials = "apprightviewfinancials"),
          (e.ManageCEG = "apprightmanageceg"),
          (e.ManagingSigning = "apprightmanagesigning"),
          (e.ManageCDKeys = "apprightmanagecdkeys"),
          (e.EditMarketing = "apprighteditmarketing"),
          (e.EconomySupport = "apprighteconomysupport"),
          (e.EconomySupportSupervisor = "apprighteconomysupportsupervisor"),
          (e.ManagePricing = "appmanagepricing"),
          (e.BroadcastLive = "apprightbroadcastlive"),
          (e.AppRightEditStoreDisplayContent =
            "apprighteditstoredisplaycontent"),
          (e.AppRightViewMarketingTraffic = "apprightviewmarketingtraffic");
      })(Fa || (Fa = {})),
        (function (e) {
          (e.ManagerUsers = "pubrightmanageusers"),
            (e.ActualAuthority = "pubrightactualauthority"),
            (e.ViewFinancials = "pubrightviewfinancials"),
            (e.ApproveWalletFunding = "pubrightapprovewalletfunding"),
            (e.ManageLicensedSites = "pubrightmanagelicensedsites");
        })(Pa || (Pa = {}));
      var cn = (function () {
          function e() {}
          return (
            (e.ConstructAppRightsMap = function () {
              var t = new Map();
              return (
                e.AppRights.forEach(function (e) {
                  return t.set(e.token, e);
                }),
                t
              );
            }),
            (e.ConstructPubRightsMap = function () {
              var t = new Map();
              return (
                e.PubRights.forEach(function (e) {
                  return t.set(e.token, e);
                }),
                t
              );
            }),
            (e.GetAppRightFlags = function (t) {
              var a = 0;
              return (
                t.forEach(function (t) {
                  a |= e.MapAppRights.get(t).flag;
                }),
                a
              );
            }),
            (e.GetPublisherRightFlags = function (t) {
              var a = 0;
              return (
                t.forEach(function (t) {
                  a |= e.MapPubRights.get(t).flag;
                }),
                a
              );
            }),
            (e.AppRights = [
              { flag: 1, token: Fa.EditInfo },
              { flag: 2, token: Fa.Publish },
              { flag: 4, token: Fa.ViewErrorData },
              { flag: 8, token: Fa.Download },
              { flag: 16, token: Fa.UploadCDKeys },
              { flag: 32, token: Fa.GenerateCDKeys },
              { flag: 64, token: Fa.ViewFinancials },
              { flag: 128, token: Fa.ManageCEG },
              { flag: 256, token: Fa.ManagingSigning },
              { flag: 512, token: Fa.ManageCDKeys },
              { flag: 1024, token: Fa.EditMarketing },
              { flag: 2048, token: Fa.EconomySupport },
              { flag: 4096, token: Fa.EconomySupportSupervisor },
              { flag: 8192, token: Fa.ManagePricing },
              { flag: 16384, token: Fa.BroadcastLive },
              { flag: 32768, token: Fa.AppRightViewMarketingTraffic },
              { flag: 65536, token: Fa.AppRightEditStoreDisplayContent },
            ]),
            (e.MapAppRights = e.ConstructAppRightsMap()),
            (e.PubRights = [
              { flag: 1, token: Pa.ManagerUsers },
              { flag: 2, token: Pa.ActualAuthority },
              { flag: 4, token: Pa.ViewFinancials },
              { flag: 8, token: Pa.ApproveWalletFunding },
              { flag: 16, token: Pa.ManageLicensedSites },
            ]),
            (e.MapPubRights = e.ConstructPubRightsMap()),
            e
          );
        })(),
        dn = a("75vw"),
        un = a.n(dn),
        pn = a("U6Vi"),
        mn = a("Nsq5"),
        _n = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnHeadlineChange = function (e) {
              var t = this.props,
                a = t.section,
                n = t.lang;
              a.SetHeadline(e.currentTarget.value || null, n);
            }),
            (t.prototype.OnBodyChange = function (e) {
              var t = this.props,
                a = t.section,
                n = t.lang;
              a.SetBody(e.currentTarget.value || null, n);
            }),
            (t.prototype.OnVideoChange = function (e) {
              this.props.section.SetVideoLink(e.currentTarget.value || null);
            }),
            (t.prototype.OnRemoveSubSection = function (e) {
              var t = this.props,
                a = t.section,
                n = t.fnRemoveSection;
              Object(Ie.d)(
                c.createElement(Te.d, {
                  strTitle: Object(f.f)("#EventEmail_Template_EditTitle"),
                  strDescription: Object(f.f)(
                    "#EventEmail_Template_RemoveSubSection",
                    Object(f.f)("#EventEmail_Template_Sub_" + e)
                  ),
                  onOK: function () {
                    a.RemoveSubSection(e), !a.BHasSomeSubSection() && n && n();
                  },
                }),
                window
              );
            }),
            (t.prototype.GenerateTemplateRemove = function (e) {
              var t = this,
                a = Object(f.f)("#EventEmail_Template_Sub_" + e);
              return c.createElement(
                "div",
                { className: pn.ImgCrossCtn },
                c.createElement("img", {
                  "data-tooltip-text": Object(f.f)(
                    "#EventEmail_Template_Remove",
                    a
                  ),
                  className: pn.ImgCross,
                  src: ja.a,
                  onClick: function () {
                    return t.OnRemoveSubSection(e);
                  },
                })
              );
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.section,
                a = e.additionalClassName,
                n = e.lang,
                i = e.bEditor,
                r = e.clanSteamID,
                o = e.appid,
                l = e.bTemplateEditable;
              return c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    a,
                    pn.DevEmailEmailBackground,
                    pn.EmailSection
                  ),
                },
                t.BHasHeadline() &&
                  c.createElement(
                    c.Fragment,
                    null,
                    l && this.GenerateTemplateRemove("headline"),
                    c.createElement("input", {
                      type: "text",
                      className: pn.HeadlineInput,
                      placeholder: Object(f.f)("#EventEmail_EnterHeadline"),
                      value: t.GetHeadline(n),
                      onChange: this.OnHeadlineChange,
                    })
                  ),
                t.BHasBody() &&
                  c.createElement(
                    c.Fragment,
                    null,
                    l && this.GenerateTemplateRemove("body"),
                    c.createElement("textarea", {
                      className: pn.BodyInput,
                      placeholder: Object(f.f)("#EventEmail_EnterBodyCopy"),
                      value: t.GetBody(n),
                      rows: 8,
                      onChange: this.OnBodyChange,
                    })
                  ),
                t.BHasCallToAction() &&
                  c.createElement(
                    c.Fragment,
                    null,
                    l && this.GenerateTemplateRemove("action"),
                    c.createElement(gn, { appid: o, section: t })
                  ),
                t.BHasImage() &&
                  c.createElement(
                    c.Fragment,
                    null,
                    l && this.GenerateTemplateRemove("img"),
                    c.createElement(bn, {
                      section: t,
                      lang: n,
                      clanSteamID: r,
                      bEditor: i,
                      artworkType: l ? "email_centered" : "email_full",
                    })
                  ),
                t.BHasVideo() &&
                  c.createElement(
                    c.Fragment,
                    null,
                    l && this.GenerateTemplateRemove("youtube"),
                    c.createElement(
                      "div",
                      { className: pn.VideoCtn },
                      c.createElement("img", { src: t.GetYouTubeImageURL() }),
                      Boolean(i) &&
                        c.createElement(
                          "div",
                          { className: pn.VideoInputCtn },
                          c.createElement(
                            "div",
                            null,
                            Object(f.f)("#EventEditor_InsertYouTube_Placholder")
                          ),
                          c.createElement("input", {
                            type: "text",
                            value: t.GetVideoURL(),
                            onChange: this.OnVideoChange,
                          }),
                          c.createElement(
                            "div",
                            null,
                            Object(f.f)(
                              "#EventEditor_InsertYouTube_UpdateThumbnail"
                            ),
                            c.createElement(
                              "a",
                              {
                                href:
                                  "https://support.google.com/youtube/answer/72431",
                                target: "_blank",
                              },
                              Object(f.f)("#EventEditor_InsertYouTube_LearnHow")
                            )
                          )
                        )
                    )
                  )
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnHeadlineChange", null),
            Object(n.c)([R.a], t.prototype, "OnBodyChange", null),
            Object(n.c)([R.a], t.prototype, "OnVideoChange", null),
            Object(n.c)([R.a], t.prototype, "OnRemoveSubSection", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        gn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_cancelSignal = y.a.CancelToken.source()),
              (t.state = { dlcs: void 0 }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.LoadDLCForApp = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t;
                return Object(n.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (e = this.setState),
                        (t = {}),
                        [
                          4,
                          u.a.LoadDLCForAppID(
                            this.props.appid,
                            this.m_cancelSignal
                          ),
                        ]
                      );
                    case 1:
                      return e.apply(this, [((t.dlcs = a.sent()), t)]), [2];
                  }
                });
              });
            }),
            (t.prototype.componentDidMount = function () {
              this.LoadDLCForApp();
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("EmailCallToAction cancelled");
            }),
            (t.prototype.BuildTextOptions = function () {
              var e = new Array();
              return (
                xe.e.forEach(function (t) {
                  e.push(
                    c.createElement(
                      "option",
                      { key: t, value: t },
                      Object(f.f)("#" + t)
                    )
                  );
                }),
                e
              );
            }),
            (t.prototype.BuildDestinationOptions = function () {
              var e = new Array();
              for (var t in xe.c)
                if (!isNaN(Number(t))) {
                  var a = xe.f[t];
                  e.push(
                    c.createElement(
                      "option",
                      { key: a, value: t },
                      Object(f.f)("#" + a)
                    )
                  );
                }
              return (
                void 0 === this.state.dlcs
                  ? e.push(
                      c.createElement(
                        "option",
                        { key: "CallToActionThrobber" },
                        c.createElement(
                          _.a,
                          {
                            string: Object(f.f)("#EventEmail_LoadingDLC"),
                            size: "small",
                          },
                          " "
                        )
                      )
                    )
                  : this.state.dlcs.forEach(function (t) {
                      e.push(
                        c.createElement(
                          "option",
                          { key: "dlc" + t.appid, value: t.appid },
                          Object(f.f)(
                            "#EventEmail_Destination_DLCPage",
                            t.name,
                            t.appid
                          )
                        )
                      );
                    }),
                e
              );
            }),
            (t.prototype.OnButtonLocChange = function (e) {
              var t = this.props.section;
              xe.e.forEach(function (a) {
                a === e.target.value && t.SetButtonTextLock(a);
              });
            }),
            (t.prototype.OnDestinationChange = function (e) {
              var t = this.props.section,
                a = Number(e.target.value);
              Object(G.G)(function () {
                a < xe.d
                  ? (t.SetButtonDestination(a), t.SetButtonAppOverride(void 0))
                  : (t.SetButtonDestination(xe.c.k_EStorePage),
                    t.SetButtonAppOverride(a));
              });
            }),
            (t.prototype.OnChangeStorePageURL = function () {
              var e = this.props.section;
              Object(Ie.d)(
                c.createElement(En, {
                  strExistingURL:
                    m.c.STORE_BASE_URL + e.GetDestinationStorePath(),
                  fnUpdateURLOnSuccess: e.SetButtonDestinationStoreURL,
                }),
                window
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.section,
                t = this.BuildTextOptions(),
                a = this.BuildDestinationOptions(),
                n = e.BHasButtonAppIDOverride()
                  ? e.GetButtonAppidOverride()
                  : e.GetDestination();
              return c.createElement(
                "div",
                { className: pn.ButtonSettingContainer },
                c.createElement(
                  "div",
                  { className: pn.ButtonSettingRow },
                  c.createElement(
                    "span",
                    null,
                    Object(f.f)("#EventEmail_Section_ButtonText")
                  ),
                  c.createElement(
                    "select",
                    {
                      value: e.GetButtonTextLoc(),
                      onChange: this.OnButtonLocChange,
                    },
                    t
                  )
                ),
                c.createElement(
                  "div",
                  null,
                  c.createElement(
                    "span",
                    null,
                    Object(f.f)("#EventEmail_Section_Destination")
                  ),
                  c.createElement(
                    "select",
                    { value: n, onChange: this.OnDestinationChange },
                    a
                  )
                ),
                e.BIsStoreSalesPage() &&
                  c.createElement(
                    "div",
                    null,
                    c.createElement(
                      "span",
                      null,
                      Object(f.f)("#EventEmail_Section_EnterSalesPage"),
                      " ",
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventEmail_Section_EnterSalesPage_ttip"
                          ),
                        },
                        "(?)"
                      )
                    ),
                    c.createElement(
                      "span",
                      null,
                      m.c.STORE_BASE_URL + e.GetDestinationStorePath()
                    ),
                    c.createElement(
                      Me.q,
                      { onClick: this.OnChangeStorePageURL },
                      Object(f.f)("#EventEmail_Section_UpdateURL")
                    )
                  )
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnButtonLocChange", null),
            Object(n.c)([R.a], t.prototype, "OnDestinationChange", null),
            Object(n.c)([R.a], t.prototype, "OnChangeStorePageURL", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        En = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bIsValid: Pe.a.IsValidStoreURL(t.props.strExistingURL),
                strURL: t.props.strExistingURL ? t.props.strExistingURL : "",
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnURLUpdate = function (e) {
              var t = e.currentTarget.value;
              this.setState({ bIsValid: Pe.a.IsValidStoreURL(t), strURL: t });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                a = t.fnUpdateURLOnSuccess,
                n = t.closeModal;
              return c.createElement(
                Te.d,
                {
                  strDescription: Object(f.f)(
                    "#EventEmail_Section_EnterSalesPage_ttip"
                  ),
                  strTitle: Object(f.f)("#EventEmail_Section_UpdateURL"),
                  onOK: function () {
                    a(e.state.strURL), n();
                  },
                  onCancel: n,
                  bOKDisabled: !this.state.bIsValid,
                },
                c.createElement(
                  "div",
                  null,
                  c.createElement("input", {
                    type: "test",
                    className: pn.ButtonDestInputSaleURL,
                    value: this.state.strURL,
                    onChange: this.OnURLUpdate,
                  })
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnURLUpdate", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        bn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { langOverride: t.props.lang }), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnArtworkLangChange = function (e, t, a) {
              var n = this.props.section,
                i = b.a.GetExtensionString(e);
              i && n.SetImage(e.image_hash + i, a),
                this.setState({ langOverride: a }, function () {
                  return n.SetImage(null, t);
                });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                a = t.clanSteamID,
                n = t.section,
                i = t.lang,
                r = t.bEditor,
                o = t.artworkType,
                l = n.GetImageURLWithFallback(this.state.langOverride, a),
                s = n.BHasSomeImage(),
                d = mn.a[o];
              return c.createElement(
                "div",
                { className: pn.ImagePreview },
                c.createElement(
                  "div",
                  { className: pn.FullImageCtn },
                  c.createElement("img", {
                    width: l ? d.width : void 0,
                    height: l ? d.height : void 0,
                    src: l,
                  }),
                  Boolean(r) &&
                    c.createElement(hn, {
                      section: n,
                      clanSteamID: a,
                      lang: i,
                      artworkType: o,
                    })
                ),
                s &&
                  c.createElement(Sa.c, {
                    clanSteamID: a,
                    langOverride: this.state.langOverride,
                    fnGetImageHash: function (e) {
                      return n.GetImageHash(e);
                    },
                    fnOnLanguagePreviewChange: function (t) {
                      return e.setState({ langOverride: t });
                    },
                    fnOnRemoveImage: function (e) {
                      return n.SetImage(null, e);
                    },
                    fnOnArtworkLangChange: this.OnArtworkLangChange,
                  })
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnArtworkLangChange", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        hn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bDownloadFromClanImageStore: !1 }),
              (t.m_clanImageUploader = new b.b(t.props.clanSteamID)),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidUpdate = function (e) {
              e.clanSteamID.GetAccountID() !=
                this.props.clanSteamID.GetAccountID() &&
                (this.m_clanImageUploader = new b.b(this.props.clanSteamID));
            }),
            (t.prototype.DoUpload = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e,
                  t,
                  a,
                  i,
                  r = this;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      (e = this.props.section), (n.label = 1);
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]),
                        (t = [this.props.artworkType]),
                        [4, this.m_clanImageUploader.UploadAllFiles(t)]
                      );
                    case 2:
                      return (
                        (a = n.sent()),
                        Object.keys(a).forEach(function (t) {
                          var n = a[t],
                            i = r.m_clanImageUploader.m_filesToUpload.find(
                              function (e) {
                                return e.uploadTime + "/" + e.file.name === t;
                              }
                            );
                          if (i)
                            if (1 !== n.success)
                              (i.status = "failed"), (i.message = n.message);
                            else {
                              i.status = "success";
                              var o = b.a.GetExtensionString(n);
                              e.SetImage(n.image_hash + o, i.language);
                            }
                        }),
                        [3, 4]
                      );
                    case 3:
                      return (
                        (i = n.sent()),
                        console.error(
                          "DoUpload failed:" + Object(p.a)(i).strErrorMsg
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnDropFiles = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t, a, i, r, o;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      if (!(e && e.length > 0)) return [3, 5];
                      (t = this.props.lang),
                        (a = [this.props.artworkType]),
                        (i = !0),
                        (r = 0),
                        (n.label = 1);
                    case 1:
                      return i && r < Array.from(e).length
                        ? ((o = e.item(r)),
                          [4, this.m_clanImageUploader.AddImage(o, t, a)])
                        : [3, 4];
                    case 2:
                      (i = n.sent()) ||
                        (console.error(
                          "ClanImagePicker.OnDropFiles: failed on i=" +
                            r +
                            " file=" +
                            o.name
                        ),
                        Object(Ie.d)(
                          c.createElement(Te.f, {
                            strDescription: Object(f.f)(
                              "#ImagePicker_Error",
                              o.name
                            ),
                          }),
                          window
                        )),
                        (n.label = 3);
                    case 3:
                      return r++, [3, 1];
                    case 4:
                      return [2, i];
                    case 5:
                      return [2, !1];
                  }
                });
              });
            }),
            (t.prototype.RenderInstructions = function () {
              var e = this.props.artworkType,
                t = mn.a[e];
              return c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "span",
                  { className: pn.EmailInputText },
                  Object(f.f)("#EventEmail_SelectBrandingImage")
                ),
                c.createElement(
                  "span",
                  null,
                  Object(f.f)("#EventEmail_ImageDimension", t.width, t.height)
                )
              );
            }),
            (t.prototype.OnPreviousImageSelected = function (e, t) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t = this;
                return Object(n.e)(this, function (a) {
                  return (
                    this.state.bDownloadFromClanImageStore ||
                      this.setState(
                        { bDownloadFromClanImageStore: !0 },
                        function () {
                          return Object(n.b)(t, void 0, void 0, function () {
                            var t, a, i, r;
                            return Object(n.e)(this, function (n) {
                              switch (n.label) {
                                case 0:
                                  (t = this.props.lang),
                                    (a = [this.props.artworkType]),
                                    (n.label = 1);
                                case 1:
                                  return (
                                    n.trys.push([1, 3, , 4]),
                                    [
                                      4,
                                      this.m_clanImageUploader.AddExistingClanImage(
                                        e,
                                        t,
                                        a
                                      ),
                                    ]
                                  );
                                case 2:
                                  return n.sent(), [3, 4];
                                case 3:
                                  return (
                                    (i = n.sent()),
                                    (r = Object(p.a)(i)),
                                    console.error(
                                      "AddExistingClanImage: " + r.strErrorMsg,
                                      r
                                    ),
                                    Object(Ie.d)(
                                      c.createElement(Te.f, {
                                        strDescription: Object(f.f)(
                                          "#EventError_Code",
                                          r.strErrorMsg
                                        ),
                                      }),
                                      window
                                    ),
                                    [3, 4]
                                  );
                                case 4:
                                  return (
                                    this.setState({
                                      bDownloadFromClanImageStore: !1,
                                    }),
                                    [2]
                                  );
                              }
                            });
                          });
                        }
                      ),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.render = function () {
              if (this.state.bDownloadFromClanImageStore)
                return c.createElement(
                  "div",
                  { className: pn.EditImageInputCtn },
                  c.createElement(_.a, {
                    position: "center",
                    size: "medium",
                    string: Object(f.f)("#Loading"),
                  })
                );
              var e = this.props.clanSteamID,
                t = [this.props.artworkType],
                a = Object(ga.c)(
                  this.m_clanImageUploader,
                  "emailartupload_",
                  t
                );
              return c.createElement(
                "div",
                { className: pn.EditImageInputCtn },
                c.createElement(
                  Va.b,
                  {
                    onDropFiles: this.OnDropFiles,
                    bAllowPreviousClanImages: !0,
                    OnClanImageSelected: this.OnPreviousImageSelected,
                    clanSteamID: e,
                    renderDesciption: this.RenderInstructions,
                    fnSetImageURL: l.c.GetEditModel().SetImageURL,
                    rgRealmList: l.c.GetEditModel().GetIncludedRealmList(),
                  },
                  c.createElement("div", { className: H.UploadPreviewCtn }, a),
                  c.createElement(ga.a, {
                    clanImageUploader: this.m_clanImageUploader,
                    fnOnUploadImageRequested: this.DoUpload,
                  })
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "DoUpload", null),
            Object(n.c)([R.a], t.prototype, "OnDropFiles", null),
            Object(n.c)([R.a], t.prototype, "RenderInstructions", null),
            Object(n.c)([R.a], t.prototype, "OnPreviousImageSelected", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        vn = {
          localized_headline: new Array(30),
          localized_body: new Array(30),
          localized_image: new Array(30),
          button_destination: xe.c.k_EEventPage,
          button_loc_token: "EventEmail_Button_ClickForMoreDetails",
          video_link: "",
        },
        fn = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.GetEmailEditModel = function () {
              return new Pe.b(this.props.editModel);
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.editModel,
                a = t.GetCurEditLanguage(),
                n = this.GetEmailEditModel(),
                i = [];
              n.GetSectionObjects().forEach(function (e, r) {
                i.push(
                  c.createElement(_n, {
                    lang: a,
                    key: "email_editor_section_" + r,
                    clanSteamID: t.GetClanSteamID(),
                    bEditor: t.BIsEmailEditable(),
                    appid: t.GetAppID(),
                    section: e,
                    additionalClassName: pn.HeaderSection,
                    bTemplateEditable: !0,
                    fnRemoveSection: function () {
                      return n.RemoveSection(r);
                    },
                  })
                );
              });
              var r = n.GetLocalizedSubject(a);
              return c.createElement(
                "div",
                { className: pn.EmailEditorContent },
                c.createElement(
                  "div",
                  { className: pn.RightAlign },
                  c.createElement(
                    "span",
                    { className: pn.EmailOptionTitle },
                    Object(f.f)("#LanguageTitle"),
                    ": "
                  ),
                  c.createElement(wa.a, {
                    selectedLang: a,
                    fnLangHasData: n.BHasSomeLanguage,
                    fnOnLanguageChanged: function (e) {
                      return t.SetCurEditLanguage(e);
                    },
                  })
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexRowContainer,
                      pn.EmailSubjectCtn
                    ),
                  },
                  c.createElement(
                    "span",
                    { className: pn.EmailOptionTitle },
                    Object(f.f)("#EventEmail_Subject")
                  ),
                  c.createElement("input", {
                    type: "text",
                    value: r,
                    size: 90,
                    maxLength: 250,
                    onChange: function (a) {
                      return e
                        .GetEmailEditModel()
                        .SetLocalizedSubject(
                          t.GetCurEditLanguage(),
                          a.currentTarget.value
                        );
                    },
                  })
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      pn.EmailTemplate,
                      pn.DevEmailTemplate
                    ),
                  },
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        pn.CenterAlign,
                        pn.DevEmail_TopHeader
                      ),
                    },
                    c.createElement(
                      "a",
                      { href: m.c.PARTNER_BASE_URL },
                      c.createElement("img", {
                        src: tn.a,
                        className: pn.DevEmail_TopLogo,
                      })
                    )
                  ),
                  c.createElement(
                    "div",
                    { className: Object(N.a)(pn.DevEmail_Content) },
                    c.createElement(
                      "div",
                      { className: pn.DevEmail_HearComes },
                      Object(f.f)("#EventEmail_Developer_Top3")
                    ),
                    c.createElement(
                      "div",
                      { className: pn.DevEmail_Subject },
                      r
                    )
                  ),
                  i,
                  c.createElement(
                    "div",
                    { className: Object(N.a)(pn.EmailSection, pn.SupportCtn) },
                    c.createElement("b", null, "Have Questions?"),
                    c.createElement("br", null),
                    c.createElement("a", { href: "#" }, "Contact us"),
                    " and we'll get right back to you."
                  ),
                  c.createElement(
                    "div",
                    { className: Object(N.a)(pn.DevEmail_Content) },
                    c.createElement("img", {
                      src: nn.a,
                      className: pn.DevEmail_SignOff_Img,
                    }),
                    c.createElement(
                      "div",
                      { className: pn.DevEmail_Signoff },
                      c.createElement(
                        "div",
                        null,
                        "- ",
                        Object(f.f)("#EventEmail_Developer_SignOff2")
                      )
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: Object(N.a)(pn.DevEmail_Footer_Ctn) },
                  c.createElement(
                    "span",
                    { className: pn.DevEmail_Footer_Reason },
                    Object(f.f)("#EventEmail_Developer_Footer_Reason")
                  ),
                  c.createElement(
                    "div",
                    { className: pn.DevEmail_Footer_SubSection },
                    c.createElement("img", {
                      src: on.a,
                      width: 103,
                      height: 43,
                    }),
                    c.createElement(
                      "div",
                      null,
                      c.createElement(
                        "div",
                        { className: pn.DevEmail_Footer_Bold },
                        c.createElement(
                          "strong",
                          null,
                          Object(f.f)("#EventEmail_Developer_Footer_Valve"),
                          c.createElement("br", null),
                          Object(f.f)("#EventEmail_Developer_Footer_Valve2")
                        )
                      ),
                      c.createElement(
                        "div",
                        { className: pn.DevEmail_Footer_Regular },
                        Object(f.f)("#EventEmail_Developer_Footer_Valve3")
                      ),
                      c.createElement(
                        "div",
                        null,
                        c.createElement(
                          "a",
                          {
                            className: L.a.FlexRowContainer,
                            href:
                              (m.c.IN_CLIENT ? "steam://openurl/" : "") +
                              "https://twitter.com/steam_games",
                            target: m.c.IN_CLIENT ? void 0 : "_blank",
                          },
                          c.createElement("img", {
                            src: sn.a,
                            width: 33,
                            height: 28,
                          }),
                          c.createElement(
                            "div",
                            { className: pn.DevEmail_Follow },
                            Object(f.f)("#EventEmail_Developer_Footer_Follow")
                          )
                        )
                      )
                    )
                  )
                ),
                c.createElement(
                  "button",
                  {
                    className: Object(N.a)(L.a.Button, pn.CenterAlign),
                    onClick: function () {
                      n.AddSection(vn);
                    },
                  },
                  Object(f.f)("#EventEmail_Template_AddSection")
                )
              );
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Sn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                capabilities: void 0,
                selectedCapability: void 0,
                nDuplicatesRemoved: 0,
              }),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              (t.m_appFileInput = c.createRef()),
              (t.m_pubFileInput = c.createRef()),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("DevEventRecipientOptions cancelled");
            }),
            (t.prototype.componentDidMount = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [
                        4,
                        l.c.GetPartnerCapabilities(this.m_cancelSignal),
                      ];
                    case 1:
                      return (
                        (e = n.sent()),
                        (t = this.GetEmailEditModel()),
                        (a = { label: e[0].capability, value: e[0] }),
                        e.forEach(function (e) {
                          e.id === t.GetInternalTargetingPartnerCapability() &&
                            (a = { label: e.capability, value: e });
                        }),
                        this.setState({
                          capabilities: e,
                          selectedCapability: a,
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.GetEmailEditModel = function () {
              return new Pe.b(this.props.editModel);
            }),
            (t.prototype.OnFileChoice = function (e, t) {
              return Object(n.b)(this, void 0, void 0, function () {
                var a, i;
                return Object(n.e)(this, function (n) {
                  return (
                    (a = t.target.files) &&
                      a.length > 0 &&
                      a[0] &&
                      ((i = this),
                      this.setState({ readingFile: !0 }, function () {
                        var t = new FileReader();
                        (t.onload = function () {
                          var a = t.result
                              .toString()
                              .split("\n")
                              .map(function (e) {
                                return Number.parseInt(e);
                              }),
                            n = new Set(a);
                          "app" == e
                            ? i
                                .GetEmailEditModel()
                                .SetInternalAppIDs(Array.from(n))
                            : i
                                .GetEmailEditModel()
                                .SetInternalPublisherIDs(Array.from(n)),
                            i.setState({
                              readingFile: !1,
                              nDuplicatesRemoved: a.length - n.size,
                            });
                        }),
                          (t.onerror = function () {
                            console.error(
                              "DevEventRecipientOptions - Failed to read file",
                              t
                            ),
                              i.setState({ readingFile: !1 });
                          }),
                          t.readAsText(a[0]);
                      })),
                    this.m_appFileInput.current &&
                      this.m_appFileInput.current.value &&
                      (this.m_appFileInput.current.value = null),
                    this.m_pubFileInput.current &&
                      this.m_pubFileInput.current.value &&
                      (this.m_pubFileInput.current.value = null),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.ShowTargets = function (e) {
              var t = this.GetEmailEditModel(),
                a =
                  "app" == e
                    ? t.GetInternalTargetAppIDs()
                    : t.GetInternalTargetPublisherIDs();
              Object(Ie.d)(
                c.createElement(
                  Te.d,
                  {
                    strTitle: Object(f.f)(
                      "app" == e
                        ? "#EventEmail_Developer_ShowApps"
                        : "#EventEmail_Developer_ShowPublisher",
                      a.length
                    ),
                    onOK: function () {},
                    onCancel: function () {},
                    bAlertDialog: !0,
                  },
                  a.map(function (t) {
                    return c.createElement("div", { key: e + "_" + t }, t);
                  })
                ),
                window
              );
            }),
            (t.prototype.render = function () {
              var e = this;
              if (!this.state.capabilities)
                return c.createElement(_.a, {
                  string: Object(f.f)("#Loading"),
                });
              var t = this.GetEmailEditModel(),
                a = this.state.capabilities.map(function (e) {
                  return { value: e, label: e.capability };
                }),
                n = cn.PubRights.map(function (e) {
                  return c.createElement(Me.e, {
                    key: "PubRights" + e.flag,
                    onChange: function (a) {
                      return t.UpdateInternalTargetPublisherRights(e.flag, a);
                    },
                    label: Object(f.f)("#PubRight_" + e.token),
                    tooltip: Object(f.f)("#PubRight_" + e.token + "_Tooltip"),
                    checked: t.BHasInternalTargetingPublisherRight(e.flag),
                  });
                }),
                i = cn.AppRights.filter(function (e) {
                  return ![Fa.Download, Fa.UploadCDKeys, Fa.ManageCEG].includes(
                    e.token
                  );
                }).map(function (e) {
                  return c.createElement(Me.e, {
                    key: "AppRights" + e.flag,
                    onChange: function (a) {
                      return t.UpdateInternalTargetAppRights(e.flag, a);
                    },
                    label: Object(f.f)("#AppRight_" + e.token),
                    tooltip: Object(f.f)("#AppRight_" + e.token + "_Tooltip"),
                    checked: t.BHasInternalTargetingAppRight(e.flag),
                  });
                });
              return c.createElement(
                "div",
                { className: pn.RecipientCtn },
                c.createElement(
                  "div",
                  { className: Object(N.a)(L.a.EventEditorTextTitle) },
                  c.createElement(
                    "span",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEmail_Recipients")
                  )
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexColumnContainer,
                      L.a.EventDefaultRowContainer
                    ),
                  },
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEmail_Recipients_desc")
                  ),
                  c.createElement(
                    "table",
                    { className: pn.DevEmail_RecipientTable },
                    c.createElement(
                      "tbody",
                      null,
                      c.createElement(
                        "tr",
                        null,
                        c.createElement(
                          "th",
                          null,
                          Object(f.f)("#EventEmail_Developer_IsUrgent")
                        ),
                        c.createElement(
                          "td",
                          null,
                          c.createElement(Me.e, {
                            onChange: function (e) {
                              return t.SetInternalTargetPriority(e);
                            },
                            label: Object(f.f)(
                              "#EventEmail_Developer_IsUrgent_Desc"
                            ),
                            checked: t.BHasInternalTargetingPriority(),
                          })
                        )
                      ),
                      c.createElement(
                        "tr",
                        null,
                        c.createElement(
                          "th",
                          null,
                          Object(f.f)("#EventEmail_Developer_PartnerCapability")
                        ),
                        c.createElement(
                          "td",
                          null,
                          c.createElement($a.a, {
                            isSearchable: !0,
                            isMulti: !1,
                            value: this.state.selectedCapability,
                            options: a,
                            onChange: function (t) {
                              return e.setState(
                                { selectedCapability: t },
                                function () {
                                  return e
                                    .GetEmailEditModel()
                                    .SetInternalTargetPartnerCapability(
                                      t.value.id
                                    );
                                }
                              );
                            },
                          })
                        )
                      ),
                      c.createElement(
                        "tr",
                        null,
                        c.createElement(
                          "th",
                          { colSpan: 2 },
                          Object(f.f)("#EventEmail_Developer_RightDesc")
                        )
                      ),
                      c.createElement(
                        "tr",
                        null,
                        c.createElement(
                          "th",
                          null,
                          Object(f.f)("#EventEmail_Developer_PublisherRights")
                        ),
                        c.createElement("td", null, n)
                      ),
                      c.createElement(
                        "tr",
                        null,
                        c.createElement(
                          "th",
                          null,
                          Object(f.f)("#EventEmail_Developer_AppRights")
                        ),
                        c.createElement("td", null, i)
                      )
                    )
                  ),
                  this.state.readingFile &&
                    c.createElement(_.a, { size: "small" }),
                  c.createElement(
                    "div",
                    null,
                    c.createElement(
                      "b",
                      null,
                      Object(f.f)("#EventEmail_Developer_FilterOptional")
                    )
                  ),
                  Boolean(this.state.nDuplicatesRemoved > 0) &&
                    c.createElement(
                      "div",
                      { className: $.WarningStylesBackground },
                      c.createElement(
                        "b",
                        null,
                        Object(f.f)(
                          "#EventEmail_Developer_DuplicateRemoved",
                          this.state.nDuplicatesRemoved.toLocaleString()
                        )
                      )
                    ),
                  c.createElement(
                    "div",
                    { className: pn.TargetCtn },
                    c.createElement(
                      "div",
                      { className: pn.TargetTypeTitle },
                      c.createElement("b", null, "App Targeting")
                    ),
                    c.createElement(
                      "div",
                      { className: pn.TargetTypeCtn },
                      t.GetInternalTargetAppCount() &&
                        c.createElement(
                          "div",
                          { className: pn.TargetedListCtn },
                          c.createElement(
                            "div",
                            null,
                            t.GetInternalTargetAppCount(),
                            " apps targeted."
                          ),
                          c.createElement(
                            "button",
                            {
                              className: "btn_blue_steamui btn_medium",
                              onClick: function () {
                                return e.ShowTargets("app");
                              },
                            },
                            c.createElement(
                              "span",
                              null,
                              Object(f.f)(
                                "#EventEmail_Developer_ShowApps",
                                t.GetInternalTargetAppCount()
                              )
                            )
                          )
                        ),
                      c.createElement(
                        "div",
                        { className: pn.SelectListCtn },
                        Object(f.f)("#EventEmail_Developer_AddApps"),
                        c.createElement(
                          "label",
                          {
                            className: un.a.SelectImageButton,
                            htmlFor: "internal_loadappid",
                          },
                          Object(f.f)("#EventEmail_Developer_SelectFile")
                        ),
                        c.createElement("input", {
                          ref: this.m_appFileInput,
                          id: "internal_loadappid",
                          style: { display: "none" },
                          type: "file",
                          onSubmit: function (t) {
                            return e.OnFileChoice("app", t);
                          },
                          onChange: function (t) {
                            return e.OnFileChoice("app", t);
                          },
                          multiple: !1,
                        })
                      )
                    )
                  ),
                  c.createElement(
                    "div",
                    { className: pn.TargetCtn },
                    c.createElement(
                      "div",
                      { className: pn.TargetTypeTitle },
                      c.createElement("b", null, "Publisher Targeting")
                    ),
                    c.createElement(
                      "div",
                      { className: pn.TargetTypeCtn },
                      t.GetInternalTargetPublisherCount() &&
                        c.createElement(
                          "div",
                          { className: pn.TargetedListCtn },
                          c.createElement(
                            "div",
                            null,
                            t.GetInternalTargetPublisherCount(),
                            " publishers targeted."
                          ),
                          c.createElement(
                            "button",
                            {
                              className: "btn_blue_steamui btn_medium",
                              onClick: function () {
                                return e.ShowTargets("publisher");
                              },
                            },
                            c.createElement(
                              "span",
                              null,
                              Object(f.f)(
                                "#EventEmail_Developer_ShowPublisher",
                                t.GetInternalTargetPublisherCount()
                              )
                            )
                          )
                        ),
                      c.createElement(
                        "div",
                        { className: pn.SelectListCtn },
                        Object(f.f)("#EventEmail_Developer_AddPublisher"),
                        c.createElement(
                          "label",
                          {
                            className: un.a.SelectImageButton,
                            htmlFor: "internal_loadpubid",
                          },
                          Object(f.f)("#EventEmail_Developer_SelectFile")
                        ),
                        c.createElement("input", {
                          ref: this.m_appFileInput,
                          id: "internal_loadpubid",
                          style: { display: "none" },
                          type: "file",
                          onSubmit: function (t) {
                            return e.OnFileChoice("publisher", t);
                          },
                          onChange: function (t) {
                            return e.OnFileChoice("publisher", t);
                          },
                          multiple: !1,
                        })
                      )
                    )
                  )
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnFileChoice", null),
            Object(n.c)([R.a], t.prototype, "ShowTargets", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        On = a("wrTd"),
        yn = a.n(On),
        Cn = a("Ig8m"),
        jn = a("62WR"),
        Tn = a("BVhQ"),
        In = Object(I.a)(function (e) {
          var t = e.editModel;
          if (
            (c.useEffect(function () {
              Cn.a.HintLoad();
            }, []),
            !h.a.Get().BShowEmailEditorTab(t.GetEventModel()))
          )
            return null;
          t.GetClanSteamID().GetAccountID();
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(
              "div",
              { className: pn.EmailTabCtn },
              c.createElement(
                "div",
                { className: Object(N.a)(L.a.EventEditorTextTitleCtn) },
                c.createElement(
                  "span",
                  { className: L.a.EventEditorTextTitle },
                  Object(f.f)("#EventEmail_FeatureTitle")
                ),
                c.createElement(
                  "a",
                  { href: "#", className: Object(N.a)(L.a.doclink) },
                  c.createElement(
                    "span",
                    null,
                    Object(f.f)("#selectimage_see_documentation")
                  )
                )
              ),
              c.createElement(
                "div",
                { className: Object(N.a)(L.a.FlexColumnContainer) },
                c.createElement(Me.p, {
                  label: Object(f.f)("#EventEmail_EnableEmailOption"),
                  onChange: function (t) {
                    var a = e.editModel,
                      n = a.GetClanSteamID().GetAccountID();
                    (a.CreateOrGetEmailSettings(n).bEnable = t),
                      a.SetDirty(T.c.jsondata_email);
                  },
                  checked: t.BIsEmailEnabled(),
                })
              )
            ),
            Boolean(t.BIsEmailEnabled()) &&
              c.createElement(
                "div",
                { className: H.EventEditorInputPaneContainer },
                c.createElement(
                  ke.a,
                  null,
                  c.createElement(Nn, { editModel: t })
                ),
                c.createElement(
                  ke.a,
                  null,
                  c.createElement(wn, { editModel: t })
                ),
                c.createElement(
                  ke.a,
                  null,
                  m.b.IS_VALVE_GROUP
                    ? c.createElement(fn, { editModel: t })
                    : c.createElement(Gn, { editModel: t })
                ),
                c.createElement(Dn, { editModel: t }),
                c.createElement(
                  ke.a,
                  null,
                  m.b.IS_VALVE_GROUP
                    ? c.createElement(Sn, { editModel: t })
                    : c.createElement(
                        c.Fragment,
                        null,
                        c.createElement(Mn, { editModel: t }),
                        c.createElement(An, { editModel: t })
                      )
                )
              )
          );
        }),
        Dn = function (e) {
          return Object(jn.a)(e.editModel.GetAppID())
            ? c.createElement(
                "div",
                { className: $.WarningStylesBackground },
                Object(f.f)("#EventEmail_SteamChina_Warning")
              )
            : null;
        },
        wn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bSettingUp: !1 }),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("EventEmailControlBar cancelled");
            }),
            (t.prototype.FireTestEmail = function () {
              var e = this.props.editModel;
              l.c
                .FireTestEmail(
                  e.GetClanSteamID(),
                  e.GetGID(),
                  e.GetCurEditLanguage(),
                  this.m_cancelSignal
                )
                .then(function (e) {
                  Object(Ie.d)(
                    c.createElement(
                      Te.d,
                      {
                        strTitle: Object(f.f)("#EventDisplay_Share_Success"),
                        onOK: function () {},
                        onCancel: function () {},
                        bAlertDialog: !0,
                      },
                      Object(f.f)("#EventEmail_TestEmailQueue")
                    ),
                    window
                  );
                })
                .catch(function (e) {
                  Object(Ie.d)(
                    c.createElement(Te.f, null, Object(p.a)(e).strErrorMsg),
                    window
                  );
                });
            }),
            (t.prototype.OnTestEmail = function (e) {
              var t = this.props.editModel;
              e.preventDefault(),
                Cn.a.BHasValidatedEmail() && !t.BIsDirtyType(T.c.jsondata_email)
                  ? Object(Ie.c)(
                      c.createElement(
                        Te.d,
                        {
                          strTitle: Object(f.f)("#EventEmail_Test_Email"),
                          onOK: this.FireTestEmail,
                          onCancel: function () {},
                        },
                        Object(f.n)(
                          "#EventEmail_Send_TestEmail_Desc",
                          c.createElement(
                            "a",
                            {
                              target: m.c.IN_CLIENT ? void 0 : "blank",
                              href: m.c.STORE_BASE_URL + "account/",
                            },
                            m.c.STORE_BASE_URL + "account/"
                          )
                        )
                      ),
                      Object(Fe.m)(e)
                    )
                  : t.BIsDirtyType(T.c.jsondata_email)
                  ? Object(Ie.d)(
                      c.createElement(
                        Te.f,
                        null,
                        Object(f.f)("#EventEmail_Test_Dirty")
                      ),
                      window
                    )
                  : Object(Ie.d)(
                      c.createElement(
                        Te.f,
                        null,
                        Object(f.n)(
                          "#EventEmail_Test_Email_Fail",
                          c.createElement(
                            "a",
                            {
                              target: m.c.IN_CLIENT ? void 0 : "blank",
                              href: m.c.STORE_BASE_URL + "account/",
                            },
                            m.c.STORE_BASE_URL + "account/"
                          )
                        )
                      ),
                      window
                    );
            }),
            (t.prototype.OnPrepareEmail = function (e) {
              Object(Ie.d)(
                c.createElement(Ln, { editModel: this.props.editModel }),
                Object(Fe.m)(e)
              );
            }),
            (t.prototype.OnSetupAndFireEmailConfirm = function (e) {
              var t = this;
              Object(Ie.c)(
                c.createElement(
                  Te.d,
                  {
                    strTitle: "(VO) Setup and Send Email",
                    onOK: function () {
                      return t.setState(
                        { bSettingUp: !0 },
                        t.OnSetupAndFireEmail
                      );
                    },
                    onCancel: function () {},
                  },
                  c.createElement(
                    "div",
                    null,
                    "(VO) Be thoughtful. Talk to Alden or Adil if not sure. By pressing this, we will setup a database entry to fire this email in its current form and target. Double check the audience make sense and the localization looks good. This will also begin firing immediately."
                  )
                ),
                Object(Fe.m)(e)
              );
            }),
            (t.prototype.OnSetupAndFireEmail = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a, i, r;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      (e = this.props.editModel), (n.label = 1);
                    case 1:
                      return (
                        n.trys.push([1, 6, 7, 8]),
                        m.b.IS_VALVE_GROUP
                          ? [
                              4,
                              l.c.SetupInternalPartnerCommunication(
                                this.m_cancelSignal,
                                e.GetClanSteamID(),
                                e.GetGID(),
                                e.GetEmailSettings().internal_targeting
                              ),
                            ]
                          : [3, 3]
                      );
                    case 2:
                      return (a = n.sent()), [3, 5];
                    case 3:
                      return [
                        4,
                        l.c.SetupPartnerEmailCampaign(
                          e.GetClanSteamID(),
                          e.GetGID(),
                          this.m_cancelSignal
                        ),
                      ];
                    case 4:
                      (a = n.sent()), (n.label = 5);
                    case 5:
                      return (
                        (t = a),
                        Object(Ie.d)(
                          c.createElement(
                            Te.d,
                            {
                              strTitle: Object(f.f)(
                                "#EventDisplay_Share_Success"
                              ),
                              onOK: function () {},
                              onCancel: function () {},
                              bAlertDialog: !0,
                            },
                            c.createElement(
                              "div",
                              null,
                              "Succesfully created the email on the server and saved it to the event. We are done!"
                            ),
                            Boolean(t.warning) &&
                              "However we hit the following warning: " +
                                t.warning_msg
                          ),
                          window
                        ),
                        [3, 8]
                      );
                    case 6:
                      return (
                        (i = n.sent()),
                        (r = Object(p.a)(i)),
                        console.error(
                          "OnSetupAndFireEmail failed: " + r.strErrorMsg
                        ),
                        Object(Ie.d)(
                          c.createElement(
                            Te.d,
                            {
                              strTitle: Object(f.f)("#Error_Message"),
                              onOK: function () {},
                              onCancel: function () {},
                              bAlertDialog: !0,
                            },
                            c.createElement(
                              "div",
                              null,
                              "We hit the follwoing error: Error Code (",
                              r.errorCode,
                              ")",
                              c.createElement("br", null),
                              "Error Message: ",
                              r.strErrorMsg
                            )
                          ),
                          window
                        ),
                        [3, 8]
                      );
                    case 7:
                      return this.setState({ bSettingUp: !1 }), [7];
                    case 8:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = Boolean(e.GetEmailSettings().locked),
                a = h.a.Get().GetPartnerEventPermissions(e.GetClanSteamID());
              return c.createElement(
                "div",
                { className: pn.ControlBarCtn },
                c.createElement(
                  "a",
                  {
                    onClick: this.OnTestEmail,
                    className: L.a.EditPreviewButton,
                  },
                  this.state.bSettingUp &&
                    c.createElement(_.a, { size: "small" }),
                  Object(f.f)("#EventEmail_Control_TestEmail")
                ),
                t &&
                  a.valve_admin &&
                  c.createElement(
                    "a",
                    {
                      onClick: this.OnSetupAndFireEmailConfirm,
                      className: L.a.EditPreviewButton,
                    },
                    "(VO) Setup and Fire Email"
                  ),
                t &&
                  !a.valve_admin &&
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEmail_Ready_ValveRequiredToSend")
                  ),
                !t &&
                  c.createElement(
                    "a",
                    {
                      onClick: this.OnPrepareEmail,
                      className: L.a.EditPreviewButton,
                    },
                    Object(f.f)("#EventEmail_Control_Prepare")
                  )
              );
            }),
            Object(n.c)([R.a], t.prototype, "FireTestEmail", null),
            Object(n.c)([R.a], t.prototype, "OnTestEmail", null),
            Object(n.c)([R.a], t.prototype, "OnPrepareEmail", null),
            Object(n.c)([R.a], t.prototype, "OnSetupAndFireEmailConfirm", null),
            Object(n.c)([R.a], t.prototype, "OnSetupAndFireEmail", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Gn = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.BuildSubjectOption = function (e) {
              var t = Array(),
                a = u.a.GetStoreCapsuleInfo(e).GetAppStoreData().title;
              return (
                xe.g.forEach(function (e) {
                  return t.push(
                    c.createElement(
                      "option",
                      { key: e, value: e },
                      Object(f.f)("#" + e, a)
                    )
                  );
                }),
                t
              );
            }),
            (t.prototype.OnLanguageChanged = function (e) {
              this.props.editModel.SetCurEditLanguage(e);
            }),
            (t.prototype.OnSubjectChange = function (e) {
              var t = this;
              xe.g.forEach(function (a) {
                a === e.target.value &&
                  new Pe.b(t.props.editModel).SetSubjectTextLoc(a);
              });
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = new Pe.b(e),
                a = this.BuildSubjectOption(e.GetAppID()),
                n = e.GetCurEditLanguage(),
                i = u.a.GetStoreCapsuleInfo(e.GetAppID()).GetAppStoreData(),
                r = t.GetSectionObj(0),
                o = t.GetSectionObj(1),
                l = "#EventEmail_Reason_Played",
                s = !1,
                d = "#EventEmail_Footer_Reason_Played",
                p = i.capsule_link,
                m = i.title;
              if (t.BIsTargetingGamePlayers());
              else if (t.BIsTargetingGameFollowers())
                (l = "#EventEmail_Reason_Follow"),
                  (s = !0),
                  (d = "#EventEmail_Footer_Reason_Followed");
              else if (t.BIsTargetingGameWishlisters())
                (l = "#EventEmail_Reason_Wishlist"),
                  (s = !0),
                  (d = "#EventEmail_Footer_Reason_Wishlisted");
              else if (t.BIsTargetingSomeCreator()) {
                (l = "#EventEmail_Reason_Follow"),
                  (s = !0),
                  (d = "#EventEmail_Footer_Reason_Followed");
                var _ = t.GetSomeCreatorTarget(),
                  g = u.a
                    .GetStoreCapsuleInfo(e.GetAppID())
                    .GetAppStoreData()
                    .creator_list.find(function (e) {
                      return e.clan_account_id == _;
                    });
                if (g) {
                  var E = _e.a.GetCreatorHomeByID(g);
                  E && ((p = E.GetCreatorHomeURL(g.type)), (m = E.GetName()));
                }
              }
              return c.createElement(
                "div",
                { className: pn.EmailEditorContent },
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexRowContainer,
                      pn.EmailSubjectCtn
                    ),
                  },
                  c.createElement(
                    "span",
                    { className: pn.EmailOptionTitle },
                    Object(f.f)("#EventEmail_Subject")
                  ),
                  c.createElement(
                    "select",
                    {
                      className: pn.EmailSubjectSelect,
                      value: t.GetSubjectTextLoc(),
                      onChange: this.OnSubjectChange,
                    },
                    a
                  )
                ),
                c.createElement(
                  "div",
                  { className: pn.RightAlign },
                  c.createElement(
                    "span",
                    { className: pn.EmailOptionTitle },
                    Object(f.f)("#LanguageTitle"),
                    ": "
                  ),
                  c.createElement(wa.a, {
                    selectedLang: n,
                    fnLangHasData: t.BHasSomeLanguage,
                    fnOnLanguageChanged: this.OnLanguageChanged,
                  })
                ),
                c.createElement(
                  "div",
                  { className: pn.EmailTemplate },
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        pn.EmailIconHeader,
                        pn.CenterAlign
                      ),
                    },
                    c.createElement("img", { src: yn.a })
                  ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        pn.EmailBackground,
                        pn.EmailReasonHeader,
                        pn.EmailTextCtn
                      ),
                    },
                    c.createElement(
                      "div",
                      { className: pn.Hello },
                      Object(f.f)(
                        "#EventEmail_Hello",
                        Object(f.f)("#EventEmail_UserName")
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: pn.Reason },
                      Object(f.f)(l, m)
                    ),
                    !s &&
                      c.createElement(
                        "a",
                        { className: pn.GameLink, href: p },
                        m
                      )
                  ),
                  c.createElement(_n, {
                    lang: n,
                    clanSteamID: e.GetClanSteamID(),
                    bEditor: e.BIsEmailEditable(),
                    appid: e.GetAppID(),
                    section: r,
                    additionalClassName: pn.HeaderSection,
                  }),
                  c.createElement(_n, {
                    lang: n,
                    clanSteamID: e.GetClanSteamID(),
                    bEditor: e.BIsEmailEditable(),
                    appid: e.GetAppID(),
                    section: o,
                    additionalClassName: pn.HeaderSection,
                  }),
                  c.createElement("hr", null),
                  c.createElement(
                    "div",
                    { className: pn.Footer },
                    c.createElement("div", null, Object(f.f)(d)),
                    c.createElement(
                      "span",
                      null,
                      Object(f.f)("#EventEmail_Footer_Game", m)
                    ),
                    c.createElement(
                      "div",
                      null,
                      Object(f.f)("#EventEmail_Footer_OptOut_Desc_Game")
                    ),
                    c.createElement(
                      "span",
                      null,
                      c.createElement(
                        "a",
                        { href: "#" },
                        Object(f.f)("#EventEmail_Footer_OptOut_Target", m)
                      ),
                      " " + Object(f.f)("#EventEmail_Footer_OptOut_Or") + " ",
                      c.createElement(
                        "a",
                        { href: "#" },
                        Object(f.f)("#EventEmail_Footer_Optout_All")
                      )
                    )
                  ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        pn.FooterLegal,
                        L.a.FlexRowContainer
                      ),
                    },
                    c.createElement("img", { src: on.a }),
                    c.createElement(
                      "div",
                      null,
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)("#EventEmail_Footer_LegalWithAddress_Line1")
                      ),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)("#EventEmail_Footer_LegalWithAddress_Line2")
                      )
                    )
                  )
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnLanguageChanged", null),
            Object(n.c)([R.a], t.prototype, "OnSubjectChange", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        An = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = {}), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.GetEmailEditModel = function () {
              return new Pe.b(this.props.editModel);
            }),
            (t.prototype.componentDidMount = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e;
                return Object(n.e)(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [
                        4,
                        v.a.LoadClanInfoForClanSteamID(
                          this.props.editModel.GetClanSteamID()
                        ),
                      ];
                    case 1:
                      return (
                        (e = t.sent()), this.setState({ clanInfo: e }), [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnControlGroupSpinnerChange = function (e) {
              var t = Number.parseInt(e.target.value);
              this.GetEmailEditModel().SetControlGroupPercent(t);
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.editModel;
              if (
                !h.a.Get().GetPartnerEventPermissions(t.GetClanSteamID())
                  .support_user
              )
                return null;
              if (!Boolean(this.state.clanInfo))
                return c.createElement(_.a, {
                  string: Object(f.f)("#Loading"),
                  size: "medium",
                });
              var a = this.GetEmailEditModel();
              return c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    L.a.ValveOnlyBackground,
                    pn.RecipientCtn
                  ),
                },
                c.createElement(
                  "div",
                  { className: Object(N.a)(L.a.EventEditorTextTitle) },
                  c.createElement(
                    "span",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEmail_Filter")
                  )
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexColumnContainer,
                      L.a.EventDefaultRowContainer
                    ),
                  },
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEmail_Filter_Desc")
                  ),
                  Boolean(this.state.clanInfo.is_ogg) &&
                    c.createElement(Me.p, {
                      onChange: function (t) {
                        return e.GetEmailEditModel().SetFilterIRTopN(t);
                      },
                      label: Object(f.f)("#EventEmail_Filter_IR"),
                      checked: a.BIsIRTopNFiltering(),
                    }),
                  Boolean(this.state.clanInfo.is_ogg) &&
                    c.createElement(Me.p, {
                      onChange: function (t) {
                        return e.GetEmailEditModel().SetFilterWishlist(t);
                      },
                      label: Object(f.f)("#EventEmail_Filter_Wishlist"),
                      checked: a.BIsWishListFiltering(),
                    }),
                  c.createElement(Me.l, {
                    type: "number",
                    min: "0",
                    max: "99",
                    label: Object(f.f)("#EventEmail_Filter_ControlGroup"),
                    value: a.GetControlGroupPercent(),
                    onChange: this.OnControlGroupSpinnerChange,
                  })
                )
              );
            }),
            Object(n.c)(
              [R.a],
              t.prototype,
              "OnControlGroupSpinnerChange",
              null
            ),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Mn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bLoadingCreator: !0 }),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.LoadCreatorHome = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e,
                  t,
                  a = this;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        this.state.bLoadingCreator ||
                          this.setState({ bLoadingCreator: !0 }),
                        (e = this.props.editModel),
                        u.a.EnsureStoreCapsuleInfoLoaded(e.GetAppID()),
                        (t = new Array()),
                        [
                          4,
                          _e.a.LoadCreatorHomeListForAppIncludeHiddden(
                            e.GetAppID(),
                            this.m_cancelSignal
                          ),
                        ]
                      );
                    case 1:
                      return (
                        n.sent().forEach(function (e) {
                          var n = g.a.InitFromClanID(e.clan_account_id);
                          t.push(_e.a.LoadCreatorHome(n, a.m_cancelSignal));
                        }),
                        Promise.all(t).then(function (e) {
                          a.m_cancelSignal.token.reason ||
                            a.setState({ bLoadingCreator: !1 });
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.componentDidMount = function () {
              this.LoadCreatorHome();
            }),
            (t.prototype.componentDidUpdate = function (e) {
              e.editModel.GetAppID() != this.props.editModel.GetAppID() &&
                this.LoadCreatorHome();
            }),
            (t.prototype.GetEmailEditModel = function () {
              return new Pe.b(this.props.editModel);
            }),
            (t.prototype.BuildCreatorHomeToggle = function (e) {
              var t = this,
                a = new Array(),
                n = new Array();
              if (this.state.bLoadingCreator)
                a.push(
                  c.createElement(_.a, {
                    key: "EmailRecipientControls_creator",
                  })
                );
              else {
                var i = this.props.editModel,
                  r = new Pe.b(i);
                _e.a
                  .GetCreatorHomeListForAppIncludeHidden(i.GetAppID())
                  .forEach(function (i) {
                    var o = _e.a.GetCreatorHomeByID(i);
                    if (
                      o &&
                      !n.some(function (e) {
                        return e.clan_account_id === o.GetClanAccountID();
                      })
                    ) {
                      var l = c.createElement(
                          "a",
                          {
                            target: m.c.IN_CLIENT ? void 0 : "_blank",
                            href: o.GetCreatorHomeURL(i.type),
                          },
                          o.BIsHidden()
                            ? Object(f.f)("#EventEmail_CreatorHidden") + " "
                            : "",
                          o.GetName()
                        ),
                        s = c.createElement(kn, {
                          audience: o.GetNumFollowers(),
                          label: Object(f.n)(
                            "#EventEmail_Recipients_follower_creator",
                            l
                          ),
                        });
                      a.push(
                        c.createElement(Me.p, {
                          key: "RecipientToggle_" + i.clan_account_id,
                          onChange: function (e) {
                            return t
                              .GetEmailEditModel()
                              .SetTargetingCreator(e, i.clan_account_id);
                          },
                          label: s,
                          checked: r.BIsTargetingCreator(o.GetClanAccountID()),
                        })
                      ),
                        e.support_user &&
                          ((s = c.createElement(kn, {
                            valveOnly: !0,
                            label: Object(f.n)(
                              "#EventEmail_Recipients_player_creator",
                              l
                            ),
                          })),
                          a.push(
                            c.createElement(
                              "span",
                              {
                                key:
                                  "RecipientToggle_player_" + i.clan_account_id,
                                className: Object(N.a)(L.a.ValveOnlyBackground),
                              },
                              c.createElement(Me.p, {
                                onChange: function (e) {
                                  return t
                                    .GetEmailEditModel()
                                    .SetTargetingCreatorPlayer(
                                      e,
                                      i.clan_account_id
                                    );
                                },
                                label: s,
                                checked: r.BIsTargetingCreatorPlayer(
                                  o.GetClanAccountID()
                                ),
                              })
                            )
                          ),
                          n.push(i));
                    }
                  }),
                  0 == a.length &&
                    a.push(
                      c.createElement(
                        "div",
                        { key: "creatorhome_plug" },
                        Object(f.n)(
                          "#EventEmail_Recipients_NoCreatorHome",
                          c.createElement(
                            "a",
                            {
                              href:
                                "https://partner.steamgames.com/doc/store/creator_homepage",
                            },
                            "https://partner.steamgames.com/doc/store/creator_homepage"
                          )
                        )
                      )
                    );
              }
              return a;
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.editModel,
                a = new Pe.b(t),
                n = h.a.Get().GetPartnerEventPermissions(t.GetClanSteamID());
              return c.createElement(
                "div",
                { className: pn.RecipientCtn },
                c.createElement(
                  "div",
                  { className: Object(N.a)(L.a.EventEditorTextTitle) },
                  c.createElement(
                    "span",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEmail_Recipients")
                  )
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexColumnContainer,
                      L.a.EventDefaultRowContainer
                    ),
                  },
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEmail_Recipients_desc")
                  ),
                  c.createElement(Me.p, {
                    onChange: function (t) {
                      return e
                        .GetEmailEditModel()
                        .SetTargetingExistingPlayer(t);
                    },
                    label: Object(f.f)("#EventEmail_Recipients_players"),
                    checked: a.BIsTargetingGamePlayers(),
                  }),
                  c.createElement(Me.p, {
                    onChange: function (t) {
                      return e.GetEmailEditModel().SetTargetingGameWishlist(t);
                    },
                    label: Object(f.f)("#EventEmail_Recipients_wishlist"),
                    checked: a.BIsTargetingGameWishlisters(),
                  }),
                  c.createElement(Me.p, {
                    onChange: function (t) {
                      return e.GetEmailEditModel().SetTargetingGameFollower(t);
                    },
                    label: c.createElement(kn, {
                      label: Object(f.f)("#EventEmail_Recipients_follower"),
                      audience: v.a.GetClanMemberCount(t.GetAppID()),
                    }),
                    checked: a.BIsTargetingGameFollowers(),
                  }),
                  c.createElement(Me.p, {
                    onChange: function (t) {
                      return e.GetEmailEditModel().SetExcludeGameOwners(t);
                    },
                    label: c.createElement(kn, {
                      label: Object(f.f)(
                        "#EventEmail_Recipients_exclude_owners"
                      ),
                    }),
                    checked: a.BIsExcludingGameOwners(),
                  }),
                  c.createElement(Me.p, {
                    onChange: function (t) {
                      return e.GetEmailEditModel().SetOwnersWithNoPlaytime(t);
                    },
                    label: c.createElement(kn, {
                      label: Object(f.f)("#EventEmail_Recipients_no_playtime"),
                    }),
                    checked: a.BIsTargetingGameOwnersWithoutPlaytime(),
                  }),
                  this.BuildCreatorHomeToggle(n)
                )
              );
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        kn = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.valveOnly,
                a = e.label;
              return c.createElement(
                "div",
                { className: pn.TargetAndAudience },
                c.createElement(
                  "span",
                  null,
                  t && c.createElement("span", null, "(VO) "),
                  a
                ),
                c.createElement(
                  "span",
                  null,
                  Boolean(void 0 !== this.props.audience) &&
                    this.props.audience.toLocaleString()
                )
              );
            }),
            t
          );
        })(c.Component),
        Ln = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                state: t.props.editModel.BIsDirty() ? "unsaved" : "loading",
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              var e = this.props.editModel;
              if ("loading" == this.state.state) {
                var t = (function (e) {
                    for (
                      var t = new Array(),
                        a = new Pe.b(e),
                        n = m.b.IS_VALVE_GROUP,
                        i = a.GetSectionObj(n ? 0 : 1),
                        r = 0;
                      r < 30;
                      ++r
                    ) {
                      var o = 0;
                      i.GetHeadline(r) &&
                        i.GetHeadline(r).trim().length > 0 &&
                        (o += 1),
                        i.GetBody(r) &&
                          i.GetBody(r).trim().length > 0 &&
                          (o += 1),
                        n ||
                          (1 != o && (2 == o || 0 !== r)) ||
                          t.push(
                            c.createElement(
                              "li",
                              {
                                key: "EventEmail_Error_LanguageIncomplete" + r,
                              },
                              c.createElement(
                                "div",
                                { className: ee.a.ErrorStyles },
                                Object(f.f)(
                                  "#EventEmail_Error_LanguageIncomplete",
                                  Object(f.f)("#Language_" + Object(Ae.a)(r)),
                                  o,
                                  2
                                )
                              )
                            )
                          );
                    }
                    return (
                      n
                        ? (a.GetSectionObjects().filter(function (e) {
                            return (
                              e.BHasHeadlineInLanguage(0) ||
                              e.BHasBodyInLanguage(0)
                            );
                          }).length > 0 ||
                            t.push(
                              c.createElement(
                                "li",
                                { key: "EventEmail_Error_NoText" },
                                c.createElement(
                                  "div",
                                  { className: ee.a.ErrorStyles },
                                  Object(f.f)("#EventEmail_Error_NoText")
                                )
                              )
                            ),
                          a.BHasAnyInternalTargetingAppRight() ||
                            a.BHasAnyInternalTargetingPublisherRight() ||
                            t.push(
                              c.createElement(
                                "li",
                                { key: "EventEmail_Error_InternalTarget" },
                                c.createElement(
                                  "div",
                                  { className: ee.a.ErrorStyles },
                                  Object(f.f)(
                                    "#EventEmail_Error_InternalTarget"
                                  )
                                )
                              )
                            ))
                        : (a.GetSectionObj(0).GetImageHashAndExtRaw(0) ||
                            t.push(
                              c.createElement(
                                "li",
                                {
                                  key: "EventEmail_Error_EnglishArtworkMissing",
                                },
                                c.createElement(
                                  "div",
                                  { className: ee.a.ErrorStyles },
                                  Object(f.f)(
                                    "#EventEmail_Error_EnglishArtworkMissing"
                                  )
                                )
                              )
                            ),
                          a.BHasSomeTargetEnabled() ||
                            t.push(
                              c.createElement(
                                "li",
                                { key: "EventEmail_Error_TargetSelection" },
                                c.createElement(
                                  "div",
                                  { className: ee.a.ErrorStyles },
                                  Object(f.f)(
                                    "#EventEmail_Error_TargetSelection"
                                  )
                                )
                              )
                            ),
                          void 0 === i.GetRawVideoURL() ||
                            null === i.GetRawVideoURL() ||
                            "" === i.GetRawVideoURL().trim() ||
                            i.BHasValidVideoURL() ||
                            t.push(
                              c.createElement(
                                "li",
                                { key: "EventEmail_Error_InvalidVideo" },
                                c.createElement(
                                  "div",
                                  { className: ee.a.ErrorStyles },
                                  Object(f.f)("#EventEmail_Error_InvalidVideo")
                                )
                              )
                            )),
                      e.BHidden() &&
                        t.push(
                          c.createElement(
                            "li",
                            { key: "EventEmail_Error_EventNotLive" },
                            c.createElement(
                              "div",
                              { className: ee.a.ErrorStyles },
                              Object(f.f)("#EventEmail_Error_EventNotLive")
                            )
                          )
                        ),
                      t
                    );
                  })(e),
                  a = (function (e) {
                    for (
                      var t = new Array(),
                        a = new Pe.b(e),
                        n = m.b.IS_VALVE_GROUP,
                        i = new Array(),
                        r = 0;
                      r < 30;
                      ++r
                    ) {
                      var o = 0,
                        l = a.GetSectionObj(n ? 0 : 1);
                      l.GetHeadline(r) &&
                        l.GetHeadline(r).trim().length > 0 &&
                        (o += 1),
                        l.GetBody(r) &&
                          l.GetBody(r).trim().length > 0 &&
                          (o += 1),
                        2 == o &&
                          0 != r &&
                          void 0 ===
                            a.GetSectionObj(0).GetImageHashAndExtRaw(r) &&
                          i.push(r);
                    }
                    return (
                      i.length > 0 &&
                        (1 == i.length
                          ? t.push(
                              c.createElement(
                                "li",
                                {
                                  key:
                                    "EventEmail_Warning_ImageLanguage_1" + i[0],
                                },
                                c.createElement(
                                  "div",
                                  { className: ee.a.WarningStyles },
                                  Object(f.f)(
                                    "#EventEmail_Warning_ImageLanguage_1",
                                    Object(f.f)(
                                      "#Language_" + Object(Ae.a)(i[0])
                                    )
                                  )
                                )
                              )
                            )
                          : 2 == i.length
                          ? t.push(
                              c.createElement(
                                "li",
                                {
                                  key:
                                    "EventEmail_Warning_ImageLanguage_2" + i[0],
                                },
                                c.createElement(
                                  "div",
                                  { className: ee.a.WarningStyles },
                                  Object(f.f)(
                                    "#EventEmail_Warning_ImageLanguage_2",
                                    Object(f.f)(
                                      "#Language_" + Object(Ae.a)(i[0])
                                    ),
                                    Object(f.f)(
                                      "#Language_" + Object(Ae.a)(i[1])
                                    )
                                  )
                                )
                              )
                            )
                          : t.push(
                              c.createElement(
                                "li",
                                {
                                  key:
                                    "EventEmail_Warning_ImageLanguage_n" + i[0],
                                },
                                c.createElement(
                                  "div",
                                  { className: ee.a.WarningStyles },
                                  Object(f.f)(
                                    "#EventEmail_Warning_ImageLanguage_n",
                                    Object(f.f)(
                                      "#Language_" + Object(Ae.a)(i[0])
                                    ),
                                    Object(f.f)(
                                      "#Language_" + Object(Ae.a)(i[1])
                                    ),
                                    i.length - 2
                                  )
                                )
                              )
                            )),
                      t
                    );
                  })(e);
                this.setState({
                  error: t,
                  warning: a,
                  state:
                    t.length > 0
                      ? "error"
                      : a.length > 0
                      ? "readywithwarning"
                      : "ready",
                });
              }
            }),
            (t.prototype.OnLockEmail = function () {
              var e = this,
                t = this.props.editModel;
              new Pe.b(t).LockEmail(),
                this.setState({ state: "saving" }, function () {
                  l.c.SaveModel(t.GetClanSteamID()).then(function (t) {
                    e.setState({ state: "done" });
                  });
                });
            }),
            (t.prototype.render = function () {
              switch (this.state.state) {
                case "loading":
                  return c.createElement(
                    Te.d,
                    {
                      strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                      onOK: this.props.closeModal,
                      onCancel: this.props.closeModal,
                      closeModal: this.props.closeModal,
                    },
                    c.createElement(_.a, null)
                  );
                case "ready":
                  return c.createElement(Te.d, {
                    strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                    strDescription: Object(f.f)("#EventEmail_Preparation_Desc"),
                    onOK: this.OnLockEmail,
                    onCancel: this.props.closeModal,
                  });
                case "readywithwarning":
                  return c.createElement(
                    Te.d,
                    {
                      strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                      strDescription: Object(f.f)(
                        "#EventEmail_Preparation_Desc"
                      ),
                      onOK: this.OnLockEmail,
                      onCancel: this.props.closeModal,
                      closeModal: this.props.closeModal,
                    },
                    c.createElement(
                      "div",
                      null,
                      c.createElement(
                        "p",
                        null,
                        Object(f.f)("#EventEmail_Preparation_DescWarning")
                      ),
                      c.createElement("ol", null, this.state.warning)
                    )
                  );
                case "unsaved":
                  return c.createElement(Te.f, {
                    strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                    strDescription: Object(f.f)(
                      "#EventEmail_Preparation_Unsaved"
                    ),
                    closeModal: this.props.closeModal,
                  });
                case "saving":
                  return c.createElement(
                    Te.d,
                    {
                      strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                      strDescription: Object(f.f)(
                        "#EventEmail_Preparation_InProcess"
                      ),
                      onOK: this.props.closeModal,
                      onCancel: this.props.closeModal,
                    },
                    c.createElement(_.a, null)
                  );
                case "done":
                  return c.createElement(Te.d, {
                    strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                    strDescription: Object(f.f)("#EventEmail_Preparation_Done"),
                    onOK: this.props.closeModal,
                    onCancel: this.props.closeModal,
                  });
                case "error":
                default:
                  return c.createElement(
                    Te.f,
                    {
                      strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                      strDescription: Object(f.f)(
                        "#EventEmail_Preparation_Error"
                      ),
                      closeModal: this.props.closeModal,
                    },
                    c.createElement(
                      "div",
                      null,
                      c.createElement("ol", null, this.state.error),
                      Boolean(this.state.warning.length > 0) &&
                        c.createElement(
                          "div",
                          null,
                          c.createElement(
                            "p",
                            null,
                            Object(f.f)("#EventEmail_Preparation_DescWarning")
                          ),
                          c.createElement("ol", null, this.state.warning)
                        )
                    )
                  );
              }
            }),
            Object(n.c)([R.a], t.prototype, "OnLockEmail", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Nn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { rtimeLastRefresh: 0, bRefreshing: !1 }), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.RefreshIfNeeded = function () {
              var e = Math.floor(Date.now() / 1e3),
                t = this.props.editModel;
              !this.state.err_msg &&
                t.GetEventModel().jsondata.email_setting.force_feature_id &&
                this.state.rtimeLastRefresh + 300 < e &&
                !this.state.bRefreshing &&
                this.setState({ bRefreshing: !0 }, this.RefreshStats);
            }),
            (t.prototype.RefreshStats = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a, i, r;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      (e = this.props.editModel),
                        (t =
                          m.c.COMMUNITY_BASE_URL +
                          "eventemail/ajaxgetpartneremailstats"),
                        (a = {
                          clanid: e.GetClanSteamID().GetAccountID(),
                          gidevent: e.GetGID(),
                          sessionid: m.c.SESSIONID,
                        }),
                        (n.label = 1);
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]),
                        [4, y.a.get(t, { params: a, withCredentials: !0 })]
                      );
                    case 2:
                      return (
                        (i = n.sent()),
                        this.setState({
                          stats: i.data.result,
                          bRefreshing: !1,
                        }),
                        [3, 4]
                      );
                    case 3:
                      return (
                        (r = n.sent()),
                        this.setState({
                          bRefreshing: !1,
                          err_msg: Object(p.a)(r).strErrorMsg,
                        }),
                        [3, 4]
                      );
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.componentDidMount = function () {
              this.RefreshIfNeeded(),
                (this.autoRefreshInterval = window.setInterval(
                  this.RefreshIfNeeded,
                  3e5
                ));
            }),
            (t.prototype.componentDidUpdate = function (e) {
              this.props.editModel.GetGID() != e.editModel.GetGID() &&
                this.setState({ rtimeLastRefresh: 0 }, this.RefreshIfNeeded);
            }),
            (t.prototype.componentWillUnmount = function () {
              this.autoRefreshInterval &&
                (window.clearInterval(this.autoRefreshInterval),
                (this.autoRefreshInterval = void 0));
            }),
            (t.prototype.render = function () {
              if (
                !this.props.editModel.GetEventModel().jsondata.email_setting
                  .force_feature_id
              )
                return c.createElement("div", null);
              if (this.state.err_msg)
                return c.createElement(
                  "div",
                  { className: H.EventEditorInputPaneContents },
                  c.createElement(
                    "div",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEmail_Stats_Title")
                  ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        L.a.FlexColumnContainer,
                        L.a.EventDefaultRowContainer
                      ),
                    },
                    c.createElement(
                      "span",
                      { className: Tn.ErrorMessaage },
                      this.state.err_msg
                    )
                  )
                );
              if (!this.state.stats)
                return c.createElement(
                  "div",
                  { className: H.EventEditorInputPaneContents },
                  c.createElement(
                    "div",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEmail_Stats_Title")
                  ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        L.a.FlexColumnContainer,
                        L.a.EventDefaultRowContainer
                      ),
                    },
                    c.createElement(_.a, null)
                  )
                );
              var e = this.state.stats;
              return c.createElement(
                "div",
                { className: H.EventEditorInputPaneContents },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitle },
                  Object(f.f)("#EventEmail_Stats_Title"),
                  this.state.bRefreshing &&
                    c.createElement(_.a, { size: "small" })
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexColumnContainer,
                      L.a.EventDefaultRowContainer
                    ),
                  },
                  c.createElement(
                    "div",
                    { className: L.a.EventEditorTextSubTitle },
                    Object(f.f)(
                      "#EventEmail_Stats_State",
                      Object(f.f)("#EventEmail_Stats_State_" + e.state)
                    )
                  ),
                  "sending" == e.state &&
                    c.createElement(
                      "div",
                      null,
                      Object(f.f)(
                        "#EventEmail_Stats_Started",
                        Object(f.k)(e.rtime_start_firing)
                      )
                    ),
                  ("complete" == e.state || "aborted" == e.state) &&
                    c.createElement(
                      "div",
                      null,
                      Object(f.f)(
                        "#EventEmail_Stats_Completed",
                        Object(f.k)(e.rtime_start_firing),
                        Object(f.k)(e.rtime_stop_firing)
                      )
                    ),
                  "queued" != e.state &&
                    c.createElement(
                      c.Fragment,
                      null,
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)(
                          "#EventEmail_Stats_Examined",
                          e.accounts_examined
                            ? e.accounts_examined.toLocaleString()
                            : 0
                        )
                      ),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)(
                          "#EventEmail_Stats_Duplicates",
                          e.accounts_duplicates
                            ? e.accounts_duplicates.toLocaleString()
                            : 0
                        )
                      ),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)(
                          "#EventEmail_Stats_Emailed",
                          e.accounts_emailed
                            ? e.accounts_emailed.toLocaleString()
                            : 0
                        )
                      ),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)(
                          "#EventEmail_Stats_Skipped",
                          e.accounts_not_emailed
                            ? e.accounts_not_emailed.toLocaleString()
                            : 0
                        )
                      ),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)(
                          "#EventEmail_Stats_Failed",
                          e.accounts_email_failed
                            ? e.accounts_email_failed.toLocaleString()
                            : 0
                        )
                      )
                    ),
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)(
                      "#EventEmail_Stats_Last_Refresh_Time",
                      Object(f.q)(this.state.rtimeLastRefresh)
                    )
                  )
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "RefreshIfNeeded", null),
            Object(n.c)([R.a], t.prototype, "RefreshStats", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Bn = a("C4Nl"),
        Rn = a("b3LC"),
        Fn = a("zoOh"),
        Pn = a.n(Fn),
        xn = Object(I.a)(function (e) {
          var t = e.editModel,
            a = e.bHideEndRange,
            n =
              !a &&
              t.GetEventModel().BIsVisibleEvent() &&
              t.GetEventModel().GetEndTimeAndDateUnixSeconds() + 604800 <
                Math.floor(Date.now() / 1e3);
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(zn, { editModel: t }),
            !a &&
              c.createElement(
                "div",
                null,
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitle },
                  Object(f.f)("#EventEditor_EndEvent_Title")
                ),
                Boolean(n)
                  ? c.createElement(Vn, { editModel: t })
                  : c.createElement(Un, { editModel: t })
              )
          );
        }),
        Un = Object(I.a)(function (e) {
          var t = e.editModel,
            a = new Array(),
            n = new Array();
          n.push({
            label: c.createElement(
              "div",
              { key: "durtypehour" },
              Object(f.f)("#EventEditor_Hour")
            ),
            data: T.a.k_EHour,
          }),
            n.push({
              label: c.createElement(
                "div",
                { key: "durtypeday" },
                Object(f.f)("#EventEditor_Day")
              ),
              data: T.a.k_EDay,
            }),
            n.push({
              label: c.createElement(
                "div",
                { key: "durtypeweek" },
                Object(f.f)("#EventEditor_Week")
              ),
              data: T.a.k_EWeek,
            }),
            a.push({
              label: c.createElement(
                "div",
                { key: "durtypehours" },
                Object(f.f)("#EventEditor_Hours")
              ),
              data: T.a.k_EHour,
            }),
            a.push({
              label: c.createElement(
                "div",
                { key: "durtypedays" },
                Object(f.f)("#EventEditor_Days")
              ),
              data: T.a.k_EDay,
            }),
            a.push({
              label: c.createElement(
                "div",
                { key: "durtypeweeks" },
                Object(f.f)("#EventEditor_Weeks")
              ),
              data: T.a.k_EWeek,
            });
          var i = t.GetEndTimeEditChoice() == T.b.k_EDuration,
            r = t.GetEndTimeEditChoice() == T.b.k_ESpecified,
            o = t.GetEndEditDurationValue() > 1,
            l = t.ComputeDurationBasedRoundedEndTime();
          return c.createElement(
            "div",
            {
              className: Object(N.a)(
                L.a.FlexColumnContainer,
                Pn.a.TimeRowContainer
              ),
            },
            c.createElement(
              "div",
              { className: L.a.EventEditorTextSubTitle },
              Object(f.f)("#EventEditor_EndEvent_Subtitle2")
            ),
            c.createElement(
              "div",
              { className: Object(N.a)(L.a.FlexRowContainer, L.a.RadioOption) },
              c.createElement("input", {
                type: "radio",
                name: "EndDateRadio",
                id: "EventEditor_EndEvent_EndDropDown",
                value: T.b.k_EDuration,
                checked: i,
                onChange: function () {
                  return t.SetEndTimeEditChoice(T.b.k_EDuration);
                },
              }),
              c.createElement(
                "label",
                { htmlFor: "EventEditor_EndEvent_EndDropDown" },
                Object(f.f)("#EventEditor_EndEvent_EndDropDown")
              )
            ),
            i &&
              c.createElement(
                "div",
                { className: Pn.a.TimeRowDropDown },
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      "EndDateAmount_Ctn",
                      Pn.a.EndDateAmountCtn
                    ),
                  },
                  c.createElement(
                    "div",
                    { className: L.a.InputBorder },
                    c.createElement("input", {
                      type: "number",
                      min: "1",
                      max: "31",
                      step: "1",
                      value: t.GetEndEditDurationValue(),
                      onChange: function (e) {
                        return t.SetEndEditDurationValue(
                          Number.parseInt(e.target.value)
                        );
                      },
                    })
                  ),
                  c.createElement(Me.h, {
                    key: o
                      ? "pluraldurationdropdown"
                      : "singulardurationdropnow",
                    rgOptions: o ? a : n,
                    selectedOption: t.GetEndEditDurationType(),
                    onChange: function (e) {
                      return t.SetEndEditDurationType(e.data);
                    },
                  })
                ),
                l &&
                  c.createElement(
                    "div",
                    { className: Pn.a.EndRound },
                    Object(f.n)(
                      "#EventEditor_EndEvent_EndDropDown_Round",
                      c.createElement(Re.a, {
                        bSingleLine: !0,
                        dateAndTime: l,
                        bOnlyTime: !0,
                      })
                    )
                  )
              ),
            c.createElement(
              "div",
              { className: Object(N.a)(L.a.FlexRowContainer, L.a.RadioOption) },
              c.createElement("input", {
                type: "radio",
                name: "EndDateRadio",
                id: "EventEditor_EndEvent_Specified",
                value: T.b.k_ESpecified,
                checked: r,
                onChange: function () {
                  return t.SetEndTimeEditChoice(T.b.k_ESpecified);
                },
              }),
              c.createElement(
                "label",
                { htmlFor: "EventEditor_EndEvent_Specified" },
                c.createElement(
                  "span",
                  null,
                  Object(f.f)("#EventEditor_EndEvent_Specified")
                )
              )
            ),
            r &&
              c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    "EndDateSpecific_Ctn",
                    Pn.a.TimeRowDropDown,
                    Pn.a.EndDateSpecificCtn
                  ),
                },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextSubTitle },
                  Object(f.f)("#EventEditor_EndDate"),
                  c.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_EndDate_ttip"
                      ),
                    },
                    " (?)"
                  )
                ),
                c.createElement(Bt.a, {
                  strDescription: "",
                  nEarliestTime: t.GetEarliestEndTimeForEdit(),
                  nLatestTime: t.GetLatestEndTimeForEdit(),
                  fnGetTimeToUpdate: t.GetEventEndTime,
                  fnSetTimeToUpdate: t.SetEventEndTime,
                  fnIsValidDateTime: t.BIsValidEndTimeForEdit,
                  fnSetToNow: function (e) {
                    Object(G.G)(function () {
                      t.SetEventStartTime(e), t.SetEventEndTime(e + 3600);
                    });
                  },
                })
              )
          );
        }),
        Hn = function (e) {
          var t = e.eventVisibilityStartTime,
            a = e.eventStartTime,
            n = w.a.GetTimeNowWithOverride(),
            i = null;
          if (a === t || t < 1) {
            var r =
              n >= a
                ? "#EventEditor_EventStartedAndPublished"
                : "#EventEditor_EventStartedAndPublishedFuture";
            i = Object(f.n)(
              r,
              c.createElement(Re.a, { dateAndTime: a, bSingleLine: !0 })
            );
          } else {
            r = "#EventEditor_EventPublishedThenStarted";
            t > n
              ? (r = "#EventEditor_EventPublishedThenStartedBothFuture")
              : a > n &&
                (r = "#EventEditor_EventPublishedThenStartedStartFuture"),
              (i = Object(f.n)(
                r,
                c.createElement(Re.a, { dateAndTime: t, bSingleLine: !0 }),
                c.createElement(Re.a, { dateAndTime: a, bSingleLine: !0 })
              ));
          }
          return c.createElement(
            "div",
            {
              className: Object(N.a)(
                L.a.EventDefaultRowContainer,
                L.a.EventStartPublic
              ),
            },
            i,
            c.createElement(
              "span",
              {
                "data-tooltip-text": Object(f.f)(
                  "#EventEditor_EventStartedAndPublished_ttip"
                ),
              },
              " (?)"
            )
          );
        },
        Vn = function (e) {
          var t = e.editModel;
          return c.createElement(
            "div",
            {
              className: Object(N.a)(
                L.a.EventDefaultRowContainer,
                L.a.EventStartPublic
              ),
            },
            c.createElement(
              "div",
              null,
              Object(f.n)(
                "#EventEditor_EventOver",
                c.createElement(Re.a, {
                  dateAndTime: t.GetEventModel().GetEndTimeAndDateUnixSeconds(),
                  bSingleLine: !0,
                })
              )
            )
          );
        },
        zn = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnStartDateNowChosen = function () {
              var e = this.props.editModel;
              e.GetStartTimeEditChoice() != T.d.k_ENow &&
                (e.SetStartTimeEditChoice(T.d.k_ENow), e.SetEventStartTime(0));
            }),
            (t.prototype.OnStartDateSpecifiedChosen = function () {
              this.props.editModel.SetStartTimeEditChoice(T.d.k_ESpecified);
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetCategoryAsType(),
                a = e.GetEventStartTime(),
                n = e.GetEventVisibilityStartTime(),
                i = e.GetEarliestStartTimeForEdit(),
                r = e.GetLatestEndTimeForEdit(),
                o = !i || i < w.a.GetTimeNowWithOverride(),
                l = e.BPublished(),
                s = e.BVisible(),
                d = e.GetStartTimeEditChoice() == T.d.k_ENow,
                u = e.GetStartTimeEditChoice() == T.d.k_ESpecified;
              return c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitle },
                  28 == t
                    ? Object(f.f)("#EventEditor_StartNewsTitle")
                    : Object(f.f)("#EventEditor_StartEvemtTitle"),
                  c.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_Time_ttip"
                      ),
                    },
                    " (?)"
                  ),
                  c.createElement(
                    "a",
                    {
                      href:
                        "https://partner.steamgames.com/doc/marketing/event_tools",
                      target: m.c.IN_CLIENT ? void 0 : "_blank",
                    },
                    c.createElement(
                      "span",
                      { className: L.a.FloatRight },
                      "(",
                      Object(f.f)("#EventDisplay_CallToAction_LearnMore"),
                      ")"
                    )
                  )
                ),
                s &&
                  c.createElement(Hn, {
                    eventVisibilityStartTime: n,
                    eventStartTime: a,
                  }),
                !s &&
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        L.a.FlexColumnContainer,
                        Pn.a.TimeRowContainer
                      ),
                    },
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextSubTitle },
                      Object(f.f)("#EventEditor_Timezone_ttip")
                    ),
                    !l &&
                      c.createElement(
                        c.Fragment,
                        null,
                        c.createElement(
                          "div",
                          {
                            className: Object(N.a)(
                              L.a.FlexRowContainer,
                              L.a.RadioOption
                            ),
                          },
                          c.createElement("input", {
                            type: "radio",
                            name: "StartDateRadio",
                            id: "EventEditor_StartEvent_Now",
                            value: T.d.k_ENow,
                            disabled: !o,
                            checked: d,
                            onChange: this.OnStartDateNowChosen,
                          }),
                          c.createElement(
                            "label",
                            { htmlFor: "EventEditor_StartEvent_Now" },
                            c.createElement(
                              "span",
                              null,
                              28 == t
                                ? Object(f.f)("#EventEditor_StartNews_Now")
                                : Object(f.f)("#EventEditor_StartEvent_Now")
                            )
                          )
                        ),
                        c.createElement(
                          "div",
                          {
                            className: Object(N.a)(
                              L.a.FlexRowContainer,
                              L.a.RadioOption
                            ),
                          },
                          c.createElement("input", {
                            type: "radio",
                            name: "StartDateRadio",
                            id: "EventEditor_StartEvent_Specified",
                            value: T.d.k_ESpecified,
                            checked: u,
                            onChange: this.OnStartDateSpecifiedChosen,
                          }),
                          c.createElement(
                            "label",
                            { htmlFor: "EventEditor_StartEvent_Specified" },
                            c.createElement(
                              "span",
                              null,
                              28 == t
                                ? Object(f.f)(
                                    "#EventEditor_StartNews_Specified"
                                  )
                                : Object(f.f)(
                                    "#EventEditor_StartEvent_Specified"
                                  )
                            )
                          )
                        )
                      ),
                    u &&
                      c.createElement(Wn, {
                        editModel: e,
                        nEarliestTime: i,
                        nLatestTime: r,
                        bShowIndent: !l,
                      })
                  )
              );
            }),
            Object(n.c)([G.k.bound], t.prototype, "OnStartDateNowChosen", null),
            Object(n.c)([R.a], t.prototype, "OnStartDateSpecifiedChosen", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Wn = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.editModel,
                a = e.nEarliestTime,
                n = e.nLatestTime,
                i = (e.bShowIndent, Object(B.b)(t.GetCategoryAsType())),
                r =
                  a && a > w.a.GetTimeNowWithOverride()
                    ? a
                    : w.a.GetTimeNowWithOverride();
              return c.createElement(
                "div",
                {
                  className: this.props.bShowIndent ? Pn.a.TimeRowDropDown : "",
                },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextSubTitle },
                  Object(f.f)(
                    i
                      ? "#EventEditor_StartEvent_Scheduled"
                      : "#EventEditor_StartEvent_Post_Scheduled"
                  )
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexColumnContainer,
                      Pn.a.TimeRowContainer
                    ),
                  },
                  c.createElement(Bt.a, {
                    strDescription: Object(f.f)("#EventEditor_Starts"),
                    nEarliestTime: r,
                    nLatestTime: n,
                    fnGetTimeToUpdate: t.GetEventStartTime,
                    fnSetTimeToUpdate: t.SetEventStartTime,
                    fnIsValidDateTime: t.BIsValidStartTimeForEdit,
                  })
                ),
                i && c.createElement(qn, { editModel: t })
              );
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        qn = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnVisibilityChange = function (e) {
              l.c
                .GetEditModel()
                .SetVisibilityPublishingSetup(+e.target.dataset.visibility);
            }),
            (t.prototype.CreateVisibilityControls = function (e, t) {
              var a = this,
                n = new Array();
              return (
                Object.keys(T.f)
                  .filter(function (e) {
                    return !isNaN(Number(e));
                  })
                  .forEach(function (i) {
                    (e && +i == T.f.immediate) ||
                      n.push(
                        c.createElement(
                          "span",
                          {
                            className: Object(N.a)(
                              Pn.a.EventVisibilityItem,
                              L.a.RadioOption
                            ),
                            key: "visibility_radio_" + i,
                          },
                          c.createElement("input", {
                            type: "radio",
                            id: "visibility_radio_" + i,
                            "data-visibility": i,
                            name: "visibility",
                            checked: t == +i,
                            onChange: a.OnVisibilityChange,
                          }),
                          c.createElement(
                            "label",
                            { htmlFor: "visibility_radio_" + i },
                            Object(f.f)("#EventEditor_Visibility_" + i)
                          ),
                          c.createElement(
                            "span",
                            {
                              className: L.a.FloatRight,
                              "data-tooltip-text": Object(f.f)(
                                "#EventEditor_Visibility_ttip_" + i
                              ),
                            },
                            "(?)"
                          )
                        )
                      );
                  }),
                n
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetVisibilityPublishingSetup(),
                a = e.BPublished(),
                n = this.CreateVisibilityControls(a, t);
              return c.createElement(
                "div",
                { className: L.a.EventEditorVisibilityCtn },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextSubTitle },
                  Object(f.f)("#EventEditor_Visibility_Subtitle")
                ),
                c.createElement(
                  "div",
                  { className: Pn.a.VisibilityItems },
                  c.createElement(
                    "div",
                    { className: Pn.a.VisibilityItemList },
                    n,
                    t == T.f.specified_time
                      ? c.createElement(
                          "div",
                          { className: Pn.a.EventPublishTimeCtn },
                          c.createElement(Bt.a, {
                            strDescription: Object(f.f)(
                              "#EventEditor_Publish_CustomTimeTitle"
                            ),
                            nEarliestTime: e.GetEarliestVisibilityStartTimeForEdit(),
                            fnGetTimeToUpdate: e.GetEventVisibilityStartTime,
                            fnSetTimeToUpdate: e.SetVisibilityStartTime,
                            fnIsValidDateTime: e.BIsValidVisibilityStartTime,
                            bHideSetToNow: !0,
                          })
                        )
                      : c.createElement("input", {
                          type: "text",
                          disabled: !0,
                          placeholder: Object(f.f)(
                            "#EventEditor_Publish_ForCustomPublishTime"
                          ),
                        })
                  )
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "OnVisibilityChange", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Yn = a("AvDr"),
        Jn = a.n(Yn),
        Qn = Object(I.a)(function (e) {
          var t = e.editModel,
            a = Object(B.a)(t.GetEventType()),
            n = h.a.Get().GetPartnerEventPermissions(t.GetClanSteamID()),
            i = t.BHasTag("curator");
          return c.createElement(
            "div",
            { className: L.a.Columns },
            c.createElement(
              "div",
              { className: Object(N.a)(L.a.LeftCol) },
              c.createElement($n, { editModel: t }),
              c.createElement(xn, { bHideEndRange: !a, editModel: t }),
              Boolean(t.BHasTag("steam_award_nomination_request")) &&
                c.createElement(re, null),
              c.createElement(Xn, { editModel: t }),
              (!i || n.valve_admin) && c.createElement(Zn, { editModel: t }),
              c.createElement("div", { className: L.a.ClearThings })
            ),
            c.createElement(
              "div",
              { className: Object(N.a)(V.a.OptionsNotes, L.a.RightCol) },
              Object(f.f)("#EventEditor_Time_ttip")
            )
          );
        }),
        Zn = Object(I.a)(function (e) {
          var t = e.editModel,
            a = c.useRef(),
            n = t.BHasImage("spotlight", 0),
            i = t.BIsAllowedOnLibraryOverview(),
            r = t.BIsAllowedOnLibraryDetail(),
            o = t.BIsAllowedOnStore(),
            l = t.GetCategoryAsString();
          return c.createElement(
            "div",
            { className: V.a.EventEditorInputPaneContents },
            c.createElement(
              "div",
              { className: L.a.LeftCol },
              c.createElement(
                "div",
                { className: L.a.EventEditorTextTitle },
                Object(f.f)("#EventEditor_Options_Title")
              ),
              c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    L.a.FlexColumnContainer,
                    L.a.EventDefaultRowContainer
                  ),
                },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextSubTitle },
                  Object(f.n)(
                    "#EventEditor_Options_Show_Warning",
                    c.createElement(
                      "a",
                      {
                        href:
                          "https://support.steampowered.com/kb_article.php?ref=4045-USHJ-3810",
                        target: m.c.IN_CLIENT ? void 0 : "_blank",
                      },
                      Object(f.f)("#EventEditor_Options_Show_WarningLink")
                    )
                  )
                ),
                c.createElement(Me.p, {
                  onChange: function (e) {
                    t.GetAppID() == D.D && t.BHasTag("hide_library_overview")
                      ? Object(Ie.d)(
                          c.createElement(Te.d, {
                            strTitle: Object(f.f)(
                              "#EventEditor_GenericAreYouSure"
                            ),
                            strDescription:
                              "Showing on the library home page will pin this event into the first spot in the 'Whats New' section for ALL Steam Library. Are you sure this is an Steam update that applies to all Steam Library users? Be thoughtful.",
                            onOK: function () {
                              return t.ToggleTag("hide_library_overview");
                            },
                            onCancel: function () {
                              var e;
                              return null ===
                                (e = null == a ? void 0 : a.current) ||
                                void 0 === e
                                ? void 0
                                : e.setState({ checked: !a.current.checked });
                            },
                          }),
                          window
                        )
                      : t.ToggleTag("hide_library_overview");
                  },
                  label: Object(f.f)(
                    "#EventEditor_Options_Show_Library_Overview"
                  ),
                  checked: !t.GetEventModel().BHasTag("hide_library_overview"),
                  description: i
                    ? Object(f.f)(
                        "#EventEditor_Options_Show_Library_Overview_Desc"
                      )
                    : Object(f.f)("#EventEditor_Options_WontDisplayHere", l),
                  disabled: !i,
                  ref: a,
                }),
                c.createElement(Me.p, {
                  onChange: function () {
                    return t.ToggleTag("hide_library_detail");
                  },
                  label: Object(f.f)(
                    "#EventEditor_Options_Show_Library_Detail"
                  ),
                  checked: !t.GetEventModel().BHasTag("hide_library_detail"),
                  description: r
                    ? void 0
                    : Object(f.f)("#EventEditor_Options_WontDisplayHere", l),
                  disabled: !r,
                }),
                c.createElement(Me.p, {
                  onChange: function () {
                    return t.ToggleTag("hide_store");
                  },
                  label: Object(f.f)("#EventEditor_Options_Show_Store"),
                  checked: !t.GetEventModel().BHasTag("hide_store"),
                  description: o
                    ? void 0
                    : Object(f.f)("#EventEditor_Options_WontDisplayHere", l),
                  disabled: !o,
                }),
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextSubTitle },
                  Object(f.f)("#EventEditor_Options_Desc")
                ),
                c.createElement(Me.p, {
                  onChange: function () {
                    return t.ToggleTag("workshop");
                  },
                  label: Object(f.f)("#EventEditor_Options_Workshop_Label"),
                  checked: t.GetEventModel().BHasTag("workshop"),
                }),
                c.createElement(Me.p, {
                  onChange: function (e) {
                    e && !t.BHasImage("spotlight", 0)
                      ? Object(Ie.d)(
                          c.createElement(Te.f, {
                            strTitle: Object(f.f)("#Error_FailureNotice"),
                            strDescription: Object(f.f)(
                              "#EventEditor_Options_Spotlight_Error",
                              Object(f.f)("#EventEditor_Artwork")
                            ),
                          }),
                          window
                        )
                      : t.SetLibrarySpotlight(e);
                  },
                  label: Object(f.f)("#EventEditor_Options_Spotlight_Label"),
                  checked: t.GetEventModel().BShowLibrarySpotlight(),
                  disabled: !n || !r,
                  description: r
                    ? Object(f.f)(
                        "#EventEditor_Options_Spotlight_Desc",
                        Object(f.f)("#EventEditor_Artwork")
                      )
                    : Object(f.f)("#EventEditor_Options_WontDisplayHere", l),
                }),
                c.createElement(ii, { editModel: t }),
                c.createElement(ni, { editModel: t }),
                c.createElement(Kn, { editModel: t })
              )
            )
          );
        }),
        Kn = Object(I.a)(function (e) {
          var t = e.editModel,
            a = h.a.Get().GetPartnerEventPermissions(t.GetClanSteamID()),
            n = c.useRef();
          if (!a.valve_admin) return null;
          return c.createElement(
            "div",
            { className: Object(N.a)(L.a.ValveOnlyBackground) },
            c.createElement(
              "div",
              { className: L.a.EventEditorTextSubTitle },
              Object(f.f)("#EventEditor_Options_Moderation")
            ),
            c.createElement(Me.p, {
              onChange: function () {
                return t.ToggleTag("mod_hide_library_overview");
              },
              label: Object(f.f)("#EventEditor_Options_Hide_Library_Overview"),
              checked: t.GetEventModel().BHasTag("mod_hide_library_overview"),
            }),
            c.createElement(Me.p, {
              onChange: function () {
                return t.ToggleTag("mod_hide_library_detail");
              },
              label: Object(f.f)("#EventEditor_Options_Hide_Library_Detail"),
              checked: t.GetEventModel().BHasTag("mod_hide_library_detail"),
            }),
            c.createElement(Me.p, {
              onChange: function (e) {
                t.BHasSaleEnabled() && e
                  ? Object(Ie.d)(
                      c.createElement(Te.d, {
                        strTitle: Object(f.f)(
                          "#EventEditor_Options_Hide_Store"
                        ),
                        strDescription:
                          "There is an active sale on this event. Setting this flag will HIDE the sale page completely. Are you sure?",
                        onOK: function () {
                          return t.ToggleTag("mod_hide_store");
                        },
                        onCancel: function () {
                          return n.current.SetChecked(!1, !1);
                        },
                      }),
                      window
                    )
                  : t.ToggleTag("mod_hide_store");
              },
              ref: n,
              label: Object(f.f)("#EventEditor_Options_Hide_Store"),
              checked: t.GetEventModel().BHasTag("mod_hide_store"),
            }),
            c.createElement(Me.p, {
              onChange: function (e) {
                return t.SetSteamStoreSpotlight(e);
              },
              label: "(VO) Show Spotlight on Steam Store Product Page",
              checked: t.BHasSteamStoreSpotlight(),
              disabled: !t.BHasSpotlightArtwork(),
              description:
                "Shows the spotlight artwork on the product page for upto a week from the event start.  After saving the event with this flag enable, it takes 5 to 10 minutes to make its way through solr.",
            }),
            c.createElement(Me.p, {
              onChange: function (e) {
                return t.SetLibraryHomeSpotlight(e);
              },
              label: "(VO) Force Spotlight on Library Home",
              checked: t.BHasLibaryHomeSpotlight(),
              disabled: !t.BHasSpotlightArtwork(),
              description:
                "Shows the spotlight artwork in the 'Whats New' section at the top of the library home for all owners.",
            }),
            c.createElement(Me.p, {
              onChange: function () {
                return t.ToggleTag("blog");
              },
              label: "(VO) Mark as Blog for Valve Game Teams",
              checked: t.GetEventModel().BHasTag("blog"),
              description:
                "Add the 'blog' tag to this post. Allowing game team website to filter news posts intended for their blog.",
            }),
            c.createElement(Me.p, {
              onChange: function () {
                return t.ToggleTag("adult_only_content");
              },
              label: "(VO) Event Contains Adult Only Content",
              checked: t.GetEventModel().BHasTag("adult_only_content"),
              description:
                "Set this to on if the post contains adult only content so that it can be filtered accordingly.",
            }),
            t.GetAppID() == D.D &&
              c.createElement(
                c.Fragment,
                null,
                c.createElement(Me.p, {
                  onChange: function () {
                    return t.ToggleTag("steam_blog");
                  },
                  label: "(VO) Steam Official Blog",
                  checked: t.GetEventModel().BHasTag("steam_blog"),
                  description:
                    "When checked this event will surface on https://store.steampowered.com/news/app/593110. Make sure to set this before you publish, or it will have no effect.",
                }),
                c.createElement(Me.p, {
                  onChange: function () {
                    return t.ToggleTag("skip_megaphone");
                  },
                  label: "(VO) Skip Lighting Up Steam Client Megaphone",
                  checked: t.GetEventModel().BHasTag("skip_megaphone"),
                  description:
                    "By default small event (patch notes) do not light up the megaphone in the Steam client. Enabling this flag does the same for all other event type.",
                })
              ),
            c.createElement(Me.p, {
              onChange: function () {
                return t.ToggleTag("forced_featured");
              },
              label: "(VO) Force Feature this event in the NewsHub",
              checked: t.GetEventModel().BHasTag("forced_featured"),
              description:
                "Add the 'forced_featured' tag to this post. This will prioritize the event appearing in algorithmic featured newshub section.",
            }),
            c.createElement(Me.p, {
              onChange: function () {
                return t.ToggleTag("contenthub");
              },
              checked: t.GetEventModel().BHasTag("contenthub"),
              label: "(VO) Tag as Content Hub",
              description:
                "Add the 'contenthub' tag to this event. Removes certain publishing restrictions for this event.",
            })
          );
        }),
        Xn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bSending: !1 }),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.TestFireEvent = function () {
              var e = this,
                t = this.props.editModel;
              this.setState({ bSending: !0 }, function () {
                l.c.FireTestEventNotifiation(
                  t.GetClanSteamID(),
                  t.GetGID(),
                  e.m_cancelSignal
                ),
                  e.setState({ bSending: !1 });
              });
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetEventType(),
                a = Object(B.b)(t),
                n =
                  e.GetEventModel().BIsVisibleEvent() &&
                  e.GetEventModel().GetStartTimeAndDateUnixSeconds() <
                    Math.floor(Date.now() / 1e3);
              if (!a || n) return null;
              var i = e.GetVisibilityPublishingSetup(),
                r =
                  e.GetStartTimeEditChoice() == T.d.k_ENow ||
                  i == T.f.event_start;
              return c.createElement(
                "div",
                { className: Object(N.a)(V.a.EventEditorInputPaneContents) },
                c.createElement(
                  "div",
                  { className: Object(N.a)(L.a.LeftCol, Jn.a.ThemedCtn) },
                  c.createElement(
                    "div",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEditor_Reminder_title")
                  ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        L.a.FlexColumnContainer,
                        L.a.EventDefaultRowContainer
                      ),
                    },
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextSubTitle },
                      Object(f.f)("#EventEditor_Reminder_desc")
                    ),
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextSubTitle },
                      Object(f.n)(
                        "#EventEditor_Reminder_desc2",
                        c.createElement(
                          "a",
                          {
                            href: m.c.STORE_BASE_URL + "mobile?show=steamapp",
                            target: m.c.IN_CLIENT ? void 0 : "_blank",
                          },
                          Object(f.f)("#EventEditor_Reminder_mobileapp")
                        )
                      )
                    ),
                    this.state.bSending &&
                      c.createElement(_.a, {
                        size: "small",
                        position: "center",
                      }),
                    c.createElement(
                      "button",
                      {
                        className: L.a.Button,
                        onClick: this.TestFireEvent,
                        disabled: r,
                      },
                      Object(f.f)("#EventEditor_Reminder_testfire")
                    ),
                    r &&
                      c.createElement(
                        "span",
                        null,
                        Object(f.f)("#EventEditor_Reminder_disable")
                      )
                  )
                )
              );
            }),
            Object(n.c)([R.a], t.prototype, "TestFireEvent", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        $n = Object(I.a)(function (e) {
          var t = e.editModel;
          if (!t.BIsEventForOGGWithoutVisibleStorePage()) return null;
          return c.createElement(
            "div",
            { className: V.a.EventEditorInputPaneContents },
            c.createElement(
              "div",
              { className: L.a.LeftCol },
              c.createElement(
                "div",
                { className: L.a.EventEditorTextTitle },
                Object(f.f)("#EventEditor_Options_VisibilityOptIn_Title"),
                c.createElement(
                  "span",
                  { className: V.a.RequiredFieldLabel },
                  Object(f.f)("#EventEditor_Required")
                )
              ),
              c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    L.a.FlexColumnContainer,
                    L.a.EventDefaultRowContainer
                  ),
                },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextSubTitle },
                  Object(f.f)(
                    "#EventEditor_Options_VisibilityOptIn_Description",
                    t.GetAppName()
                  )
                ),
                c.createElement(Me.p, {
                  onChange: function (e) {
                    return t.SetOptedInForOGGWithoutVisibleStorePage(e);
                  },
                  label: Object(f.f)(
                    "#EventEditor_Options_VisibilityOptIn_Label"
                  ),
                  checked: t.BOptedInForOGGWithoutVisibleStorePage(),
                })
              )
            )
          );
        });
      function ei(e) {
        var t =
            e.BInRealmChina() &&
            f.b.IsELanguageValidInRealm(
              e.GetCurEditLanguage(),
              X.f.k_ESteamRealmChina
            ),
          a =
            e.BInRealmGlobal() &&
            f.b.IsELanguageValidInRealm(
              e.GetCurEditLanguage(),
              X.f.k_ESteamRealmGlobal
            );
        t || a || e.SetCurEditLanguage(e.BInRealmChina() ? 29 : 0);
      }
      var ti = Object(I.a)(function (e) {
          var t = e.editModel;
          return c.createElement(Me.p, {
            onChange: function (e) {
              e
                ? (t.AddTag("enable_steam_china"),
                  t.AddTag("disable_steam_global"))
                : t.ClearTags(["enable_steam_china", "disable_steam_global"]),
                ei(t);
            },
            label: Object(f.f)("#EventEditor_Options_ShowInSteamChina"),
            description: Object(f.f)(
              "#EventEditor_Options_ShowInSteamChina_Desc"
            ),
            checked: t.BInRealmChina(),
          });
        }),
        ai = Object(I.a)(function (e) {
          var t = e.editModel;
          if (t.BInRealmGlobal() && !t.BInRealmChina()) return null;
          return c.createElement(Me.p, {
            onChange: function (e) {
              e
                ? t.AddTag("disable_steam_global")
                : t.ClearTags(["disable_steam_global"]),
                ei(t);
            },
            label: Object(f.f)("#EventEditor_Options_ShowInSteamGlobal"),
            description: Object(f.f)(
              "#EventEditor_Options_ShowInSteamGlobal_Desc"
            ),
            checked: !t.BInRealmGlobal(),
          });
        }),
        ni = Object(I.a)(function (e) {
          var t = e.editModel,
            a = Object(D.I)(t.GetEventModel());
          return c.createElement(
            "div",
            null,
            a && c.createElement(ti, { editModel: t }),
            c.createElement(ai, { editModel: t })
          );
        }),
        ii = Object(I.a)(function (e) {
          var t,
            a,
            n = e.editModel;
          return ((t = n.GetAppID()),
          (a = Object(Rn.b)(t, Bn.a.k_DataRequest_CommonOnly)[0]),
          Boolean(a && a.HasContentDescriptorID(3)))
            ? c.createElement(Me.p, {
                onChange: function () {
                  return n.ToggleTag("adult_only_content");
                },
                label: Object(f.f)(
                  "#EventEditor_Options_Has_Adult_Only_Content"
                ),
                checked: n.GetEventModel().BHasTag("adult_only_content"),
                description: Object(f.f)(
                  "#EventEditor_Options_Has_Adult_Only_Content_Desc"
                ),
              })
            : null;
        }),
        ri = a("ylkE"),
        oi = a("46hJ");
      function li(e) {
        var t = e.clanSteamID,
          a = e.gidClanEvent;
        return Object(Et.d)(t.GetAccountID(), a)[0]
          ? d.a.createElement(_.a, { string: Object(f.f)("#Loading") })
          : d.a.createElement(si, Object(n.a)({}, e));
      }
      function si(e) {
        var t = e.clanSteamID,
          a = e.gidClanEvent,
          n = e.fnOkCallbackList,
          i = Object(Et.d)(t.GetAccountID(), a),
          r = (i[0], i[1]),
          o = (i[2], i[3], i[4]),
          l = Object(c.useState)(r),
          s = l[0],
          u = l[1];
        return (
          Object(R.d)(n, function () {
            return o(s);
          }),
          d.a.createElement(Me.e, {
            checked: s,
            onChange: function (e) {
              u(e), n || o(e);
            },
            label:
              "Require Approval by Valve Admin in order to publish this sales events",
            tooltip:
              "They will see a warning indicating they cannot publish until Valve approves the page. Approval is done by Valve Admin in the same place.",
          })
        );
      }
      function ci(e) {
        var t = e.clanSteamID,
          a = e.gidClanEvent,
          n = Object(Et.d)(t.GetAccountID(), a),
          i = n[0],
          r = n[1],
          o = n[2];
        if (!i && r && !o) {
          return d.a.createElement(
            "div",
            { className: oi.ApprovalRequiredCtn },
            d.a.createElement(
              "div",
              { className: oi.Left },
              d.a.createElement(
                "div",
                { className: oi.Title },
                Object(f.f)("#EventEditor_SaleValveApproval_Title")
              ),
              d.a.createElement(
                "div",
                null,
                Object(f.f)("#EventEditor_SaleValveApproval_Desc")
              )
            ),
            d.a.createElement(
              "div",
              { className: oi.Right },
              d.a.createElement(
                "a",
                {
                  href: m.c.PARTNER_BASE_URL + "doc/store/promo",
                  className: Object(N.a)(k.EditPreviewButton),
                  target: "_blank",
                },
                Object(f.f)("#ViewDocumentation")
              ),
              d.a.createElement(
                he.b,
                { clanSteamID: t },
                d.a.createElement(
                  Me.d,
                  {
                    onClick: function (e) {
                      Object(Ie.d)(
                        d.a.createElement(di, {
                          clanSteamID: t,
                          gidClanEvent: a,
                        }),
                        Object(Fe.m)(e)
                      );
                    },
                  },
                  "Approve",
                  d.a.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_SaleValveApproval_Admin_Tooltip"
                      ),
                    },
                    " (?)"
                  )
                )
              )
            )
          );
        }
        return null;
      }
      function di(e) {
        var t = e.clanSteamID,
          a = e.gidClanEvent,
          n = e.closeModal,
          i = d.a.useState(!1),
          r = i[0],
          o = i[1],
          l = Object(Et.d)(t.GetAccountID(), a),
          s = (l[0], l[1], l[2], l[3], l[4], l[5]),
          u = Object(Et.c)(),
          g = (u[0], u[1]),
          E = u[2],
          b = Object(c.useState)(null),
          h = b[0],
          v = b[1];
        return d.a.createElement(
          Te.d,
          {
            strTitle: "Remove Publishing Block",
            strDescription:
              "Would you like to remove the publishing block? This will take effect immediately. The event can be publish by the partner afterwards",
            onOK: function () {
              o(!0),
                s(m.h.accountid),
                E(a)
                  .then(function (e) {
                    o(!1),
                      1 == e
                        ? n()
                        : (g(), v("Failed to update Private Data: " + e));
                  })
                  .catch(function (e) {
                    o(!1), g(), v(Object(p.a)(e).strErrorMsg);
                  });
            },
            bDisableBackgroundDismiss: !0,
            closeModal: n,
            onCancel: n,
            bOKDisabled: Boolean(h),
          },
          r && d.a.createElement(_.a, { string: Object(f.f)("#Saving") }),
          h && d.a.createElement("div", null, h)
        );
      }
      var ui = a("aoTL"),
        pi = a("FAUN"),
        mi = a.n(pi);
      function _i(e) {
        var t = e.editModel,
          a = Object(ui.d)(function () {
            return { bHidden: t.BHidden(), bPublished: t.BPublished() };
          });
        return !a.bHidden && a.bPublished
          ? null
          : c.createElement(gi, Object(n.a)({}, e));
      }
      var gi = Object(I.a)(function (e) {
          var t = e.editModel,
            a = e.bTakePublishAction,
            n = c.useRef(),
            i = c.useState(!1),
            r = i[0],
            o = i[1],
            l = t.GetClanSteamID(),
            s = t.GetGID(),
            d = Object(Et.d)(l.GetAccountID(), s),
            u = d[0],
            p = d[1],
            m = d[2];
          c.useEffect(
            function () {
              a && (null == n ? void 0 : n.current) && n.current.click();
            },
            [a, n]
          );
          if (r) return Object(Ne.j)(t.GetEventModel(), Ne.a.k_eView);
          var g = t.BHidden(),
            E = t.BPublished();
          if (!g && E) return null;
          if (u)
            return c.createElement(_.a, {
              string: Object(f.f)("#Loading"),
              size: "small",
            });
          var b = t.BAllowedToPublishStagedEvents(),
            h = p && !m;
          return c.createElement(
            "div",
            { className: L.a.FlexColumnContainer },
            c.createElement(
              "div",
              { className: L.a.EventEditorTextTitle },
              Object(f.f)("#Button_Publish")
            ),
            c.createElement(
              "div",
              {
                className: Object(N.a)(
                  L.a.RightColumnContainer,
                  mi.a.PublishContainer
                ),
              },
              h &&
                c.createElement(
                  c.Fragment,
                  null,
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEditor_Publish_PublicBlock_Title")
                  ),
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEditor_Publish_PublicBlock_Desc")
                  )
                ),
              Boolean(!E && !h) &&
                c.createElement(
                  "button",
                  {
                    onClick: function (e) {
                      Object(Ie.d)(
                        c.createElement(bt, {
                          editModel: t,
                          OnPublishSuccess: function () {
                            return o(!0);
                          },
                        }),
                        Object(Fe.m)(e)
                      );
                    },
                    "data-tooltip-text": Object(f.f)(
                      "#EventEditor_Publish_ttip"
                    ),
                    className: Object(N.a)(
                      L.a.EventPublishButton,
                      "DialogButton Primary"
                    ),
                    ref: n,
                  },
                  Object(f.f)("#Button_Publish"),
                  " (?)"
                ),
              Boolean(E && g && !h) &&
                c.createElement(
                  Ea.a,
                  {
                    condition: !b,
                    wrap: function (e) {
                      return c.createElement(
                        He.a,
                        {
                          toolTipContent: Object(f.f)(
                            "#EventEditor_Publish_Disable_ttip"
                          ),
                        },
                        e
                      );
                    },
                  },
                  c.createElement(
                    "button",
                    {
                      onClick: function (e) {
                        t.SetVisibilityPublishingSetup(T.f.immediate),
                          Object(Ie.d)(
                            c.createElement(bt, {
                              editModel: t,
                              OnPublishSuccess: function () {
                                return o(!0);
                              },
                              closeModal: function () {
                                t.ResetSetVisibilityStartTime();
                              },
                            }),
                            Object(Fe.m)(e)
                          );
                      },
                      className: Object(N.a)(
                        L.a.EventPublishButton,
                        "DialogButton Primary"
                      ),
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_Publish_VisibleNow_ttip"
                      ),
                      ref: n,
                      disabled: !b,
                    },
                    Object(f.f)("#EventEditor_Publish_VisibleNow"),
                    " (?)"
                  )
                )
            )
          );
        }),
        Ei = a("OzNB");
      function bi(e) {
        var t = e.editModel;
        return c.createElement(
          "div",
          { className: Object(N.a)(Ei.PublishContainer) },
          c.createElement(
            "div",
            { className: Object(N.a)(k.ReachBackground) },
            c.createElement(
              "div",
              { className: H.EventEditorInputPaneContents },
              c.createElement(ci, {
                clanSteamID: t.GetClanSteamID(),
                gidClanEvent: t.GetGID(),
              }),
              c.createElement(vi, { editModel: t }),
              c.createElement(_i, { editModel: t, bTakePublishAction: !1 }),
              c.createElement(hi, {
                eventType: t.GetEventType(),
                clanSteamID: t.GetClanSteamID(),
              }),
              c.createElement("div", { className: k.ClearThings })
            )
          )
        );
      }
      var hi = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bLoadingClanInfo: !v.a.BHasClanInfoLoaded(t.props.clanSteamID),
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                return Object(n.e)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return this.state.bLoadingClanInfo
                        ? [
                            4,
                            v.a.LoadClanInfoForClanSteamID(
                              this.props.clanSteamID
                            ),
                          ]
                        : [3, 2];
                    case 1:
                      e.sent(),
                        this.setState({ bLoadingClanInfo: !1 }),
                        (e.label = 2);
                    case 2:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.render = function () {
              if (this.state.bLoadingClanInfo)
                return c.createElement(
                  "div",
                  { className: "ReachCtn" },
                  c.createElement(_.a, null)
                );
              var e = l.c.GetEditModel(),
                t = e.GetCategoryAsType(),
                a = h.a
                  .Get()
                  .GetPartnerEventPermissions(this.props.clanSteamID),
                n = v.a.GetClanInfoByClanAccountID(
                  e.GetClanSteamID().GetAccountID()
                );
              if (!a.can_edit) return c.createElement(c.Fragment, null);
              var i = e.BHasSaleEnabled() || n.is_ogg,
                r =
                  (e.BWillShowOnLibraryOverviewDueToSettings() ||
                    e.BWillShowOnLibraryDetailDueToSettings()) &&
                  Object(D.e)(e.GetEventModel());
              return c.createElement(
                "div",
                { className: "ReachCtn" },
                c.createElement(
                  "div",
                  { className: k.EventEditorTextTitle },
                  Object(f.f)("#EventReach_Title")
                ),
                c.createElement(
                  "div",
                  { className: Ei.ReachItems },
                  c.createElement(
                    "div",
                    { className: k.EventEditorTextSubTitle },
                    Object(f.f)("#EventReach_SubTitle")
                  ),
                  c.createElement(
                    "div",
                    { className: Ei.ReachColumnTitles },
                    c.createElement(
                      "div",
                      { className: Ei.ReachColumnName },
                      Object(f.f)("#EventReach_Location")
                    )
                  ),
                  c.createElement(
                    "div",
                    { className: Ei.ReachItemList },
                    e.BWillShowOnStoreDueToSettings() &&
                      c.createElement(
                        "div",
                        { className: Ei.ReachSubject },
                        Object(f.f)("#EventReach_GamePage"),
                        c.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(f.f)(
                              "#EventReach_GamePage_ttip"
                            ),
                          },
                          c.createElement("span", {
                            className: Ei.ReachNumber,
                          }),
                          " ",
                          c.createElement("span", { className: k.TTip }, "?")
                        )
                      ),
                    c.createElement(
                      "div",
                      { className: Ei.ReachSubject },
                      Object(f.f)("#EventReach_GameNewsPg"),
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventReach_GameNewsPg_ttip"
                          ),
                        },
                        c.createElement("span", { className: Ei.ReachNumber }),
                        " ",
                        c.createElement("span", { className: k.TTip }, "?")
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: Object(N.a)(Ei.ReachSubject) },
                      Object(f.f)("#EventReach_PersonalizedCalendar"),
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventReach_PersonalizedCalendar_ttip"
                          ),
                        },
                        c.createElement("span", { className: Ei.ReachNumber }),
                        " ",
                        c.createElement("span", { className: k.TTip }, "?")
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: Ei.ReachSubject },
                      Object(f.f)("#EventReach_Community"),
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventReach_Community_ttip"
                          ),
                        },
                        c.createElement("span", { className: Ei.ReachNumber }),
                        " ",
                        c.createElement("span", { className: k.TTip }, "?")
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: Ei.ReachSubject },
                      Object(f.f)("#EventReach_FriendActivity"),
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventReach_FriendActivity_ttip"
                          ),
                        },
                        c.createElement("span", { className: Ei.ReachNumber }),
                        " ",
                        c.createElement("span", { className: k.TTip }, "?")
                      )
                    ),
                    e.BWillShowOnLibraryOverviewDueToSettings() &&
                      c.createElement(
                        "div",
                        { className: Object(N.a)(Ei.ReachSubject) },
                        Object(f.f)("#EventReach_LibraryHome"),
                        r &&
                          c.createElement(
                            "span",
                            { className: Ei.ReachPendingVisibilityText },
                            "  ",
                            Object(f.f)(
                              "#EventReach_LibraryVisibilityPendingModeration"
                            )
                          ),
                        c.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(f.f)(
                              "#EventReach_LibraryHome_ttip"
                            ),
                          },
                          c.createElement("span", {
                            className: Ei.ReachNumber,
                          }),
                          " ",
                          c.createElement("span", { className: k.TTip }, "?")
                        )
                      ),
                    e.BWillShowOnLibraryDetailDueToSettings() &&
                      c.createElement(
                        "div",
                        { className: Object(N.a)(Ei.ReachSubject) },
                        Object(f.f)("#EventReach_LibraryDetail"),
                        r &&
                          c.createElement(
                            "span",
                            { className: Ei.ReachPendingVisibilityText },
                            "  ",
                            Object(f.f)(
                              "#EventReach_LibraryVisibilityPendingModeration"
                            )
                          ),
                        c.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(f.f)(
                              "#EventReach_LibraryDetail_ttip"
                            ),
                          },
                          c.createElement("span", {
                            className: Ei.ReachNumber,
                          }),
                          " ",
                          c.createElement("span", { className: k.TTip }, "?")
                        )
                      ),
                    Boolean(
                      e.BIsAllowedInNotifications() && e.BIsVisibleBeforeStart()
                    ) &&
                      c.createElement(
                        "div",
                        { className: Object(N.a)(Ei.ReachSubject, Ei.Future) },
                        Object(f.f)("#EventReach_Future"),
                        " ",
                        Object(f.f)("#EventReach_Reminder"),
                        c.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(f.f)(
                              "#EventReach_Reminder_ttip"
                            ),
                          },
                          c.createElement("span", {
                            className: Ei.ReachNumber,
                          }),
                          " ",
                          c.createElement("span", { className: k.TTip }, "?")
                        )
                      ),
                    Boolean(e.BIsAllowedInNotifications()) &&
                      c.createElement(
                        "div",
                        { className: Object(N.a)(Ei.ReachSubject, Ei.Future) },
                        Object(f.f)("#EventReach_Future"),
                        " ",
                        Object(f.f)("#EventReach_EmailRollUp"),
                        c.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(f.f)(
                              "#EventReach_EmailRollUp_ttip"
                            ),
                          },
                          c.createElement("span", {
                            className: Ei.ReachNumber,
                          }),
                          " ",
                          c.createElement("span", { className: k.TTip }, "?")
                        )
                      )
                  ),
                  i &&
                    c.createElement(
                      c.Fragment,
                      null,
                      c.createElement(
                        "div",
                        { className: Ei.ReachColumnTitles },
                        c.createElement(
                          "div",
                          { className: Ei.ReachColumnName },
                          Object(f.f)("#EventReach_OptionalLocation")
                        )
                      ),
                      n.is_ogg &&
                        c.createElement(
                          "div",
                          { className: Ei.ReachItemList },
                          c.createElement(
                            "div",
                            { className: Ei.ReachSubject },
                            c.createElement(
                              "span",
                              { className: Ei.ReachSubjectOptional },
                              c.createElement(Ee, {
                                bOn: e.GetEventModel().BHasTag("workshop"),
                              }),
                              c.createElement(
                                "span",
                                { className: Ei.ReactSubjectOptionalText },
                                Object(f.f)("#EventReach_Workshop")
                              )
                            ),
                            c.createElement(
                              "span",
                              {
                                "data-tooltip-text": Object(f.f)(
                                  "#EventReach_Workshop_ttip"
                                ),
                              },
                              c.createElement("span", {
                                className: Ei.ReachNumber,
                              }),
                              " ",
                              c.createElement(
                                "span",
                                { className: k.TTip },
                                "?"
                              )
                            )
                          ),
                          14 == t &&
                            c.createElement(
                              "div",
                              { className: Ei.ReachSubject },
                              c.createElement(
                                "span",
                                { className: Ei.ReachSubjectOptional },
                                c.createElement(Ee, { bOn: !1 }),
                                c.createElement(
                                  "span",
                                  { className: Ei.ReactSubjectOptionalText },
                                  Object(f.f)("#EventReach_RecentlyUpdatedPg")
                                )
                              ),
                              c.createElement(
                                "span",
                                {
                                  "data-tooltip-text": Object(f.f)(
                                    "#EventReach_RecentlyUpdatedPg_ttip"
                                  ),
                                },
                                c.createElement("span", {
                                  className: Ei.ReachNumber,
                                }),
                                " ",
                                c.createElement(
                                  "span",
                                  { className: k.TTip },
                                  "?"
                                )
                              )
                            ),
                          c.createElement(
                            "div",
                            { className: Object(N.a)(Ei.ReachSubject) },
                            c.createElement(
                              "span",
                              { className: Ei.ReachSubjectOptional },
                              c.createElement(Ee, {
                                bOn: e.GetEventModel().BShowLibrarySpotlight(),
                              }),
                              c.createElement(
                                "span",
                                { className: Ei.ReactSubjectOptionalText },
                                Object(f.f)("#EventReach_LibraySpotLight")
                              )
                            ),
                            c.createElement(
                              "span",
                              {
                                "data-tooltip-text": Object(f.f)(
                                  "#EventReach_LibraySpotLight_ttip"
                                ),
                              },
                              c.createElement("span", {
                                className: Ei.ReachNumber,
                              }),
                              " ",
                              c.createElement(
                                "span",
                                { className: k.TTip },
                                "?"
                              )
                            )
                          )
                        ),
                      e.BHasSaleEnabled() &&
                        c.createElement(
                          "div",
                          { className: Ei.ReachItemList },
                          c.createElement(
                            "div",
                            { className: Ei.ReachSubject },
                            c.createElement(
                              "span",
                              { className: Ei.ReachSubjectOptional },
                              c.createElement(Ee, {
                                bOn: e.BHasSaleProductBanners(),
                              }),
                              c.createElement(
                                "span",
                                { className: Ei.ReactSubjectOptionalText },
                                Object(f.f)("#EventReach_SaleBanner")
                              )
                            ),
                            c.createElement(
                              "span",
                              {
                                "data-tooltip-text": Object(f.f)(
                                  "#EventReach_SaleBanner_ttip"
                                ),
                              },
                              c.createElement("span", {
                                className: Ei.ReachNumber,
                              }),
                              " ",
                              c.createElement(
                                "span",
                                { className: k.TTip },
                                "?"
                              )
                            )
                          ),
                          Boolean(
                            e.BHasSaleProductBanners() &&
                              e.GetEventStartTime() &&
                              e.GetEventEndTime()
                          ) &&
                            c.createElement(
                              c.Fragment,
                              null,
                              c.createElement("br", null),
                              c.createElement(
                                "div",
                                null,
                                Object(f.n)(
                                  "#EventReact_SaleBannerDuration",
                                  c.createElement(Re.a, {
                                    dateAndTime: e.GetEventStartTime(),
                                    bSingleLine: !0,
                                  }),
                                  c.createElement(Re.a, {
                                    dateAndTime: Math.min(
                                      e.GetEventEndTime(),
                                      e.GetEventStartTime() + 604800
                                    ),
                                    bSingleLine: !0,
                                  })
                                )
                              )
                            )
                        )
                    )
                )
              );
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        vi = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetEventModel(),
                a = e.ComputeEditingModelTimeOverrides(),
                n = (e.GetEventModel().bOldAnnouncement, e.BHidden()),
                i = e.BPublished(),
                r = e.GetEventVisibilityStartTime(),
                o = void 0;
              if (!i) {
                var l = e.GetVisibilitySetting();
                if (e.GetStartTimeEditChoice() == T.d.k_ESpecified)
                  switch (l) {
                    case T.f.event_start:
                      o = c.createElement(
                        "span",
                        null,
                        Object(f.f)(
                          "#EventEditor_Status_WillBeVisible_EventStart"
                        )
                      );
                      break;
                    case T.f.specified_time:
                      o = c.createElement(
                        "span",
                        null,
                        Object(f.n)(
                          "#EventEditor_Status_WillBeVisible_At",
                          c.createElement(Re.a, {
                            dateAndTime: t.GetVisibilityStartTimeAndDateUnixSeconds(),
                            bSingleLine: !0,
                          })
                        )
                      );
                      break;
                    case T.f.immediate:
                    default:
                      o = c.createElement(
                        "div",
                        null,
                        Object(f.f)("#EventPublishing_Summary_Immediate"),
                        c.createElement("br", null),
                        Object(f.f)("#EventPublishing_Summary_ModerationNote")
                      );
                  }
                else
                  o = c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventPublishing_Summary_Immediate"),
                    c.createElement("br", null),
                    Object(f.f)("#EventPublishing_Summary_ModerationNote")
                  );
              }
              return c.createElement(
                "div",
                { className: Ei.SummaryContainer },
                c.createElement(
                  "div",
                  { className: k.EventEditorTextTitle },
                  Object(f.f)("#EventPublishing_Summary")
                ),
                c.createElement(
                  "div",
                  { className: Ei.SummaryItems },
                  c.createElement(
                    "div",
                    { className: Ei.StatusRow },
                    c.createElement(
                      "div",
                      { className: Ei.StatusText },
                      c.createElement(E.d, { editModel: e })
                    ),
                    i &&
                      !n &&
                      c.createElement(
                        "div",
                        null,
                        c.createElement(
                          Ne.c,
                          {
                            className: Object(N.a)(k.Button, k.Primary),
                            eventModel: t,
                            route: Ne.a.k_eStoreView,
                          },
                          Object(f.f)("#EventEditor_ViewLive")
                        )
                      )
                  ),
                  c.createElement(
                    "div",
                    { className: k.FlexRowContainer },
                    c.createElement(
                      "span",
                      null,
                      c.createElement(
                        "b",
                        null,
                        Object(f.f)("#EventDisplay_TimeUpcoming"),
                        ":"
                      ),
                      " "
                    ),
                    c.createElement(Re.a, {
                      dateAndTime: a.nOverrideStartTime,
                      bSingleLine: !0,
                    })
                  ),
                  c.createElement(
                    "div",
                    { className: k.FlexRowContainer },
                    c.createElement(
                      "span",
                      null,
                      c.createElement(
                        "b",
                        null,
                        Object(f.f)("#EventPublishing_Summary_VisibilityStart"),
                        ":"
                      ),
                      " "
                    ),
                    i &&
                      n &&
                      c.createElement(
                        "span",
                        null,
                        Object(f.n)(
                          "#EventEditor_Visibility_AutoVisible",
                          c.createElement(Re.a, {
                            dateAndTime: r,
                            bSingleLine: !0,
                          })
                        ),
                        " ",
                        Object(f.f)("#EventEditor_Visibility_NoAction")
                      ),
                    o
                  ),
                  Boolean(t.GID || t.AnnouncementGID) &&
                    c.createElement(
                      "div",
                      { className: Ei.LinkRow },
                      c.createElement(ri.c, {
                        eventModel: e.GetEventModel(),
                        labelOverride: "#EventEditor_Status_FutureURL",
                      })
                    )
                )
              );
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        fi = a("mHFc"),
        Si = Object(I.a)(function (e) {
          var t = e.editModel,
            a = c.createRef();
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(
              "div",
              { className: L.a.PixelOffsetCtn },
              c.createElement(
                "div",
                { className: "DialogLabel" },
                Object(f.f)("#Sale_HeaderOffset")
              ),
              c.createElement(
                "div",
                null,
                Object(f.f)("#Sale_HeaderOffset_Desc")
              ),
              c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    L.a.FlexRowContainer,
                    L.a.PixelOffsetRow
                  ),
                },
                c.createElement(Me.l, {
                  onChange: function (e) {
                    (t.GetEventModel().jsondata.sale_header_offset =
                      Number(e.target.value) || 0),
                      t.SetDirty(T.c.jsondata_sales);
                  },
                  value: t.GetEventModel().jsondata.sale_header_offset,
                }),
                c.createElement(
                  "div",
                  { className: L.a.PixelOffsetNote },
                  c.createElement(
                    "div",
                    { className: L.a.PixelOffsetCallout },
                    Object(f.f)("#Sale_HeaderOffset_Max", "386")
                  ),
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#Sale_HeaderOffset_MaxDeck")
                  )
                )
              )
            ),
            c.createElement(
              Me.d,
              {
                onClick: function (e) {
                  var a = t.GetEventModel().jsondata.sale_background_color;
                  Object(Ta.a)(
                    c.createElement(Aa.a, {
                      onChange: function (e) {
                        return (
                          (t = e),
                          (a = "sale_background_color"),
                          (l.c.GetEditModel().GetEventModel().jsondata[a] = t),
                          void l.c.GetEditModel().SetDirty(T.c.jsondata_sales)
                        );
                        var t, a;
                      },
                      color: a,
                    }),
                    e,
                    { bDisablePopTop: !0 }
                  );
                },
                className: L.a.EventEditorTextTitle,
                style: {
                  backgroundColor: t.GetEventModel().jsondata
                    .sale_background_color,
                },
              },
              Object(f.f)("#Sale_BackgroundColor")
            ),
            c.createElement(
              he.b,
              {
                requireAdmin: !0,
                clanSteamID: t.GetClanSteamID(),
                className: Object(N.a)(
                  L.a.ValveOnlyBackground,
                  L.a.SaleEditorSpacing
                ),
              },
              c.createElement(
                "div",
                { className: L.a.EventEditorTextTitle },
                Object(f.f)("#Sale_BackgroundVideo_Title")
              ),
              Object(f.f)("#Sale_BackgroundVideo_Instructions"),
              c.createElement(Me.l, {
                onChange: function (e) {
                  (t.GetEventModel().jsondata.sale_background_video_webm =
                    e.target.value),
                    t.SetDirty(T.c.jsondata_sales);
                },
                label: Object(f.f)("#Sale_BackgroundVideo_WebM"),
                value: t.GetEventModel().jsondata.sale_background_video_webm,
              }),
              c.createElement(Me.l, {
                onChange: function (e) {
                  (t.GetEventModel().jsondata.sale_background_video_mp4 =
                    e.target.value),
                    t.SetDirty(T.c.jsondata_sales);
                },
                label: Object(f.f)("#Sale_BackgroundVideo_MP4"),
                value: t.GetEventModel().jsondata.sale_background_video_mp4,
              })
            ),
            c.createElement(Me.h, {
              dropDownControlRef: a,
              strDropDownClassName: L.a.DropDownScroll,
              label: Object(f.f)("#Sale_HeaderArtwork_Multi"),
              tooltip: Object(f.f)("#Sale_HeaderArtwork_Multi_hint"),
              rgOptions: (function () {
                var e = [
                    {
                      label: Object(f.f)("#Sale_HeaderArtwork_Single"),
                      data: 1,
                    },
                  ],
                  t = l.c.GetEditModel(),
                  a = Math.min(t.GetNumberOfDays(), 5);
                if (a > 1)
                  for (var n = 2; n <= a; n++)
                    e.push({
                      label: Object(f.f)("#Sale_HeaderArtwork_Multi_Amount", n),
                      data: n,
                    });
                return e;
              })(),
              selectedOption: t.GetNumSalesBackgroundHeader(),
              onChange: function (e) {
                var t = l.c.GetEditModel();
                t.GetEventModel().jsondata.sale_num_headers !== e.data &&
                  Object(Ie.d)(
                    c.createElement(Te.d, {
                      strTitle: Object(f.f)("#Button_Confirm"),
                      strDescription: Object(f.f)(
                        "#Sale_HeaderArtwork_Warning"
                      ),
                      onOK: function () {
                        return (function (e) {
                          var t = l.c.GetEditModel();
                          t.GetEventModel().jsondata.sale_num_headers !== e &&
                            t.SetNumSalesBackgroundHeader(e);
                        })(e.data);
                      },
                      onCancel: function () {
                        var e;
                        return null === (e = null == a ? void 0 : a.current) ||
                          void 0 === e
                          ? void 0
                          : e.SetSelectedOption(
                              t.GetNumSalesBackgroundHeader()
                            );
                      },
                    }),
                    window
                  );
              },
              bDisableMouseOverlay: !0,
              disabled: t.GetNumberOfDays() <= 1,
              contextMenuPositionOptions: {
                bDisableMouseOverlay: !0,
                bDisablePopTop: !0,
              },
              strClassName: ha.a.SaleDaySelection,
            }),
            Boolean(t.GetNumSalesBackgroundHeader() > 1) &&
              c.createElement(Me.h, {
                strDropDownClassName: L.a.DropDownScroll,
                label: Object(f.f)("#Sale_HeaderArtwork_EditDay"),
                tooltip: Object(f.f)("#Sale_HeaderArtwork_EditDay_hint"),
                rgOptions: (function () {
                  for (
                    var e = [],
                      t = l.c.GetEditModel(),
                      a = t.GetNumSalesBackgroundHeader(),
                      n = 0;
                    n < a;
                    n++
                  ) {
                    var i = t.GetEventStartTime() + 86400 * n,
                      r = {
                        label: Object(f.n)(
                          n + 1 == a
                            ? "#Sale_HeaderArtwork_DayTimeOnward"
                            : "#Sale_HeaderArtwork_DayTime",
                          n + 1,
                          c.createElement(Re.a, {
                            dateAndTime: i,
                            bSingleLine: !0,
                          }),
                          c.createElement(Re.a, {
                            dateAndTime: i + 86400,
                            bSingleLine: !0,
                          })
                        ),
                        data: n,
                      };
                    e.push(r);
                  }
                  return e;
                })(),
                selectedOption: t.GetEventModel().GetDayIndexFromEventStart(),
                onChange: function (e) {
                  l.c.GetEditModel().GetEventModel().m_overrideCurrentDay =
                    e.data;
                },
                bDisableMouseOverlay: !0,
                contextMenuPositionOptions: {
                  bDisableMouseOverlay: !0,
                  bDisablePopTop: !0,
                },
                strClassName: ha.a.SaleDaySelection,
              })
          );
        }),
        Oi = a("JiI5"),
        yi = a("d+Me");
      function Ci(e) {
        var t = e.strToggleName,
          a = e.strTitle,
          n = e.children,
          i = e.strToolTip,
          r = Object(ui.d)(function () {
            return Object(fi.a)(t);
          });
        return c.createElement(
          "div",
          { id: t, className: Oi.SettingCtn },
          c.createElement(
            "div",
            {
              className: Oi.Title,
              onDoubleClick: function () {
                return Object(fi.d)(t);
              },
            },
            a,
            i && c.createElement(ra.b, { tooltip: i }),
            c.createElement(ra.a, {
              bIsMinimized: r,
              fnToggleMinimize: function () {
                return Object(fi.d)(t);
              },
            })
          ),
          !r && n
        );
      }
      var ji = new ((function () {
          function e() {
            this.m_mapVisibleSections = new Map();
          }
          return (
            (e.prototype.WrapWithNavWaypoint = function (e, t) {
              return c.createElement(
                ke.a,
                { key: "eb_sale_sect_" + e },
                c.createElement(
                  yi.a,
                  {
                    key: "waypoint_sale_sect_" + e,
                    onEnter: function () {
                      return ji.m_mapVisibleSections.set(e, e);
                    },
                    onLeave: function () {
                      return ji.m_mapVisibleSections.delete(e);
                    },
                    topOffset: "100px",
                    bottomOffset: "100px",
                  },
                  c.createElement("div", null, t)
                )
              );
            }),
            Object(n.c)([G.C], e.prototype, "m_mapVisibleSections", void 0),
            e
          );
        })())(),
        Ti = Object(I.a)(function (e) {
          var t,
            a,
            n = e.editModel,
            i = Boolean(
              n.BHasSomeImage("product_banner") &&
                n.GetEventModel().BHasTag("hide_store")
            ),
            r = Boolean(
              n.BHasSomeImage("product_mobile_banner") &&
                n.GetEventModel().BHasTag("hide_store")
            ),
            o = function (e, t) {
              return void 0 === t && (t = !1), Object(fi.a)(e, t);
            },
            l = function (e, t) {
              return void 0 === t && (t = !1), Object(fi.d)(e, t);
            },
            s = o("all_artwork_ctn"),
            d =
              (null ===
                (t = n.GetEventModel().jsondata
                  .localized_sale_product_banner) || void 0 === t
                ? void 0
                : t.length) || 0,
            u =
              (null ===
                (a = n.GetEventModel().jsondata
                  .localized_sale_product_mobile_banner) || void 0 === a
                ? void 0
                : a.length) || 0;
          return c.createElement(
            "div",
            { className: Oi.SettingCtn },
            ji.WrapWithNavWaypoint(
              "SalePageEdit_AllArtworkCtn",
              c.createElement(
                "div",
                {
                  className: Object(N.a)(Oi.Title),
                  id: "SalePageEdit_AllArtworkCtn",
                  onDoubleClick: function () {
                    return l("all_artwork_ctn");
                  },
                },
                c.createElement(
                  "span",
                  null,
                  Object(f.f)("#Sale_Artwork_Sections")
                ),
                c.createElement(ra.a, {
                  bIsMinimized: s,
                  fnToggleMinimize: function () {
                    return l("all_artwork_ctn");
                  },
                })
              )
            ),
            !s &&
              c.createElement(
                c.Fragment,
                null,
                c.createElement(ga.b, {
                  clanSteamID: n.GetClanSteamID(),
                  rgSupportArtwork: [
                    "sale_header",
                    "product_banner",
                    "product_mobile_banner",
                  ],
                  fnSetImageURL: n.SetImageURL,
                  rgRealmList: n.GetIncludedRealmList(),
                }),
                ji.WrapWithNavWaypoint(
                  "SalePageEdit_SaleBgImg",
                  c.createElement(Sa.b, {
                    id: "SalePageEdit_SaleBgImg",
                    clanSteamID: n.GetClanSteamID(),
                    title: Object(f.f)("#EventEditor_ArtworkType_sale_header"),
                    artworkType: "sale_header",
                    elEventArtworkExample: c.createElement(fa, {
                      artworkType: "sale_header",
                    }),
                    bIsMinimized: o("sale_header"),
                    fnToggleMinimize: function () {
                      return l("sale_header");
                    },
                    elAdditionalControls: c.createElement(Si, { editModel: n }),
                  })
                ),
                ji.WrapWithNavWaypoint(
                  "SalePageEdit_SaleBanner",
                  c.createElement(Sa.b, {
                    id: "SalePageEdit_SaleBanner",
                    clanSteamID: n.GetClanSteamID(),
                    title: Object(f.f)(
                      "#EventEditor_ArtworkType_sale_product_banner"
                    ),
                    artworkType: "product_banner",
                    bIsMinimized: o("product_banner"),
                    fnToggleMinimize: function () {
                      return l("product_banner");
                    },
                    strWarning: i
                      ? Object(f.f)("#Sale_BannerVisibility_Warning")
                      : void 0,
                    elEventArtworkExample: c.createElement(fa, {
                      artworkType: "product_banner",
                    }),
                    fnRemoveAllArtwork:
                      0 == d
                        ? void 0
                        : function () {
                            Object(G.G)(function () {
                              (n.GetEventModel().jsondata.localized_sale_product_banner = []),
                                n.SetDirty(T.c.jsondata_sales);
                            });
                          },
                  })
                ),
                ji.WrapWithNavWaypoint(
                  "SalePageEdit_SaleMobileBanner",
                  c.createElement(Sa.b, {
                    id: "SalePageEdit_SaleMobileBanner",
                    clanSteamID: n.GetClanSteamID(),
                    title: Object(f.f)(
                      "#EventEditor_ArtworkType_sale_product_mobile_banner"
                    ),
                    artworkType: "product_mobile_banner",
                    bIsMinimized: o("product_mobile_banner"),
                    fnToggleMinimize: function () {
                      return l("product_mobile_banner");
                    },
                    strWarning: r
                      ? Object(f.f)("#Sale_BannerVisibility_Warning")
                      : void 0,
                    fnRemoveAllArtwork:
                      0 == u
                        ? void 0
                        : function () {
                            Object(G.G)(function () {
                              (n.GetEventModel().jsondata.localized_sale_product_mobile_banner = []),
                                n.SetDirty(T.c.jsondata_sales);
                            });
                          },
                  })
                )
              )
          );
        }),
        Ii = a("9jt8");
      function Di(e) {
        var t = l.c.GetEditModel(),
          a = Object(Et.a)(t.GetClanAccountID(), t.GetGID()),
          n = a[0],
          i = a[1];
        if (
          !Object(ui.d)(function () {
            return t.BHasSaleEnabled();
          })
        )
          return c.createElement(c.Fragment, null);
        var r = Object(he.a)(t.GetClanSteamID(), !0),
          o = Boolean(i);
        return r || o
          ? c.createElement(c.Fragment, null, e.children)
          : n
          ? c.createElement(_.a, null)
          : c.createElement(
              "div",
              { className: Ii.GuidelinesNoticeCtn },
              c.createElement(
                "div",
                { className: Ii.Intro },
                " ",
                Object(f.f)("#EventSaleGuidelines_desc")
              ),
              c.createElement(
                "div",
                { className: Ii.OpenGuidelinesBtnCtn },
                c.createElement(
                  Me.d,
                  {
                    onClick: function (e) {
                      return Object(Ie.d)(
                        c.createElement(Mi, { bCheckListReadOnly: !1 }),
                        Object(Fe.m)(e)
                      );
                    },
                  },
                  Object(f.f)("#EventSaleGuidelines_Review")
                )
              )
            );
      }
      function wi(e) {
        var t = l.c.GetEditModel(),
          a = Object(Et.a)(t.GetClanAccountID(), t.GetGID()),
          n = a[0],
          i = a[1];
        return n
          ? null
          : Object(he.a)(t.GetClanSteamID(), !0)
          ? c.createElement(Ai, null)
          : Boolean(i)
          ? c.createElement(Gi, null)
          : null;
      }
      function Gi() {
        var e = l.c.GetEditModel(),
          t = Object(Et.a)(e.GetClanAccountID(), e.GetGID()),
          a = (t[0], t[1], t[2]);
        return c.createElement(
          "div",
          { className: Ii.GuidelinesDoneCtn },
          c.createElement(
            "div",
            { className: Ii.Text },
            Object(f.n)(
              "#EventSaleGuidelines_AlreadyReviewed",
              c.createElement(Re.a, { dateAndTime: a, bSingleLine: !0 })
            )
          ),
          c.createElement(
            Me.d,
            {
              onClick: function (e) {
                return Object(Ie.d)(
                  c.createElement(Mi, { bCheckListReadOnly: !0 }),
                  Object(Fe.m)(e)
                );
              },
            },
            Object(f.f)("#EventSaleGuidelines_Review")
          )
        );
      }
      function Ai() {
        var e = l.c.GetEditModel(),
          t = Object(Et.a)(e.GetClanAccountID(), e.GetGID()),
          a = (t[0], t[1]),
          n = t[2],
          i = t[3],
          r = t[4];
        return a
          ? c.createElement(
              "div",
              { className: Ii.ValveOnlyGuidelineSummary },
              c.createElement(
                "div",
                { className: Ii.SignedBy },
                "Guidelines were accepted by ",
                c.createElement(wt, {
                  accountID: a,
                  locToken: "#EventModTile_Signer",
                }),
                " on ",
                c.createElement(Re.a, { dateAndTime: n, bSingleLine: !0 })
              ),
              c.createElement(
                "div",
                null,
                "Primary Contact is '",
                i,
                "' with email ",
                r
              )
            )
          : c.createElement(
              "div",
              { className: Ii.ValveOnlyGuidelineSummary },
              "The event organizer has not yet accepted the agreements for this sale page. The next time that any non-Valve account attempts to edit this sale, they should be required to accept the agreements."
            );
      }
      function Mi(e) {
        var t = e.bCheckListReadOnly,
          a = e.closeModal,
          n = l.c.GetEditModel(),
          i = Object(Et.a)(n.GetClanAccountID(), n.GetGID()),
          r = (i[0], i[1]),
          o = (i[2], i[3]),
          s = i[4],
          d = i[5],
          u = i[6],
          g = Object(Et.c)(),
          E = (g[0], g[1], g[2]),
          b = Boolean(r),
          h = c.useState(b),
          v = h[0],
          S = h[1],
          O = c.useState(b),
          y = O[0],
          C = O[1],
          j = c.useState(b),
          T = j[0],
          I = j[1],
          D = c.useState(b),
          w = D[0],
          G = D[1],
          A = c.useState(o || ""),
          M = A[0],
          k = A[1],
          L = c.useState(s || ""),
          N = L[0],
          B = L[1],
          R = c.useState(!1),
          F = R[0],
          P = R[1],
          x = c.useState(null),
          U = x[0],
          H = x[1],
          V = v && y && T && w && M.length > 0 && N.length > 0;
        return c.createElement(
          Te.d,
          {
            strTitle: Object(f.f)("#EventSaleGuideLines_title"),
            strDescription: Object(f.f)("#EventSaleGuidelines_desc"),
            bOKDisabled: !V || F,
            onOK: function () {
              t || d(m.h.accountid),
                u(M, N),
                !t && n.GetGID()
                  ? (P(!0),
                    E(n.GetGID())
                      .then(a)
                      .catch(function (e) {
                        H(Object(p.a)(e).strErrorMsg);
                      }))
                  : a && a();
            },
            onCancel: a,
            closeModal: a,
          },
          Boolean(F || U)
            ? c.createElement(
                c.Fragment,
                null,
                F &&
                  c.createElement(_.a, {
                    string: Object(f.f)("#Saving"),
                    size: "medium",
                    position: "center",
                  }),
                Boolean(U) && c.createElement("div", null, U)
              )
            : c.createElement(
                "div",
                { className: Ii.AgreementsCtn },
                c.createElement(
                  "div",
                  null,
                  c.createElement(Me.e, {
                    label: Object(f.f)("#EventSaleGuidelines_rule_1"),
                    checked: v,
                    onChange: S,
                    disabled: t,
                  }),
                  c.createElement(Me.e, {
                    label: Object(f.f)("#EventSaleGuidelines_rule_2"),
                    checked: y,
                    onChange: C,
                    disabled: t,
                  }),
                  c.createElement(Me.e, {
                    label: Object(f.f)("#EventSaleGuidelines_rule_3"),
                    checked: T,
                    onChange: I,
                    disabled: t,
                  }),
                  c.createElement(Me.e, {
                    label: Object(f.f)("#EventSaleGuidelines_rule_4"),
                    checked: w,
                    onChange: G,
                    disabled: t,
                  })
                ),
                c.createElement(
                  "div",
                  null,
                  Object(f.n)(
                    "#EventSaleGuidelines_Link",
                    c.createElement(
                      "a",
                      {
                        href: m.c.PARTNER_BASE_URL + "doc/store/promo",
                        target: "_blank",
                      },
                      Object(f.f)("#EventSaleGuidelines_LinkText")
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: Ii.ContactSectionCtn },
                  c.createElement(
                    "div",
                    { className: Ii.SectionTitle },
                    Object(f.f)("#EventSaleGuidelines_PrimaryContact")
                  ),
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventSaleGuidelines_PrimaryContact_desc")
                  ),
                  c.createElement(Me.l, {
                    placeholder: Object(f.f)(
                      "#EventSaleGuidelines_PrimaryContact_name"
                    ),
                    value: M,
                    onChange: function (e) {
                      return k(e.currentTarget.value);
                    },
                  }),
                  c.createElement(Me.l, {
                    placeholder: Object(f.f)(
                      "#EventSaleGuidelines_PrimaryContact_email"
                    ),
                    value: N,
                    onChange: function (e) {
                      return B(e.currentTarget.value);
                    },
                  })
                )
              )
        );
      }
      var ki = a("rppr"),
        Li = a.n(ki),
        Ni = Object(I.a)(function (e) {
          var t = e.editModel;
          return Object(he.a)(t.GetClanSteamID()) && t.BHasSaleEnabled()
            ? c.createElement(
                "div",
                { className: Li.a.AssociatedBuildBody },
                c.createElement(
                  Me.d,
                  {
                    onClick: function (t) {
                      return Object(Ie.d)(
                        c.createElement(Bi, { editModel: e.editModel }),
                        Object(Fe.m)(t)
                      );
                    },
                  },
                  Object(f.f)("#EventEditor_Versions_View")
                )
              )
            : null;
        });
      var Bi = function (e) {
          var t,
            a,
            n,
            i,
            r,
            o,
            l = e.editModel,
            s = e.closeModal,
            d =
              ((t = l.GetEventModel().clanSteamID),
              (a = l.GetEventModel().GID),
              (n = c.useState(null)),
              (i = n[0]),
              (r = n[1]),
              (o = t.ConvertTo64BitString()),
              c.useEffect(
                function () {
                  if ((r(null), a)) {
                    var e = y.a.CancelToken.source(),
                      t = { event_gid: a },
                      n =
                        m.c.COMMUNITY_BASE_URL +
                        "gid/" +
                        o +
                        "/ajaxgeteventhistory";
                    return (
                      y.a
                        .get(n, {
                          params: t,
                          withCredentials: !0,
                          cancelToken: e.token,
                        })
                        .then(function (t) {
                          var a;
                          if (!e.token.reason) {
                            var n =
                              1 ==
                              (null === (a = null == t ? void 0 : t.data) ||
                              void 0 === a
                                ? void 0
                                : a.success);
                            r(n ? t.data.versions : []);
                          }
                        })
                        .catch(function (t) {
                          if (!e.token.reason) {
                            var a = Object(p.a)(t);
                            console.error(
                              "useEventHistory: " + a.strErrorMsg,
                              a
                            );
                          }
                        }),
                      function () {
                        return e.cancel("useEventHistory: unmounting");
                      }
                    );
                  }
                },
                [o, a]
              ),
              i),
            u = function (e) {
              Object(Ie.d)(
                c.createElement(Te.d, {
                  strTitle: Object(f.f)("#EventEditor_VersionsPrompt_Title"),
                  strDescription: Object(f.f)(
                    "#EventEditor_VersionsPrompt_Body"
                  ),
                  onOK: function () {
                    return (function (e, t) {
                      Object(Ie.d)(
                        c.createElement(Ri, { editModel: e, versionID: t }),
                        window
                      );
                    })(l, e.version_id);
                  },
                }),
                window
              );
            },
            g = Boolean(d),
            E =
              null == d
                ? void 0
                : d.map(function (e) {
                    var t = new Date(1e3 * e.time_stamp),
                      a = t.toLocaleDateString() + " " + t.toLocaleTimeString();
                    return c.createElement(
                      "div",
                      { className: Li.a.VersionCtn, key: e.version_id },
                      c.createElement(
                        "div",
                        { className: Li.a.VersionInfoCtn },
                        c.createElement(
                          "div",
                          { className: Li.a.VersionAccount },
                          c.createElement(wt, {
                            locToken: "#EventEditor_VersionsUser",
                            accountID: e.account_id,
                          })
                        ),
                        c.createElement(
                          "div",
                          { className: Li.a.VersionDate },
                          a
                        )
                      ),
                      c.createElement(
                        Me.d,
                        {
                          className: Li.a.RollbackButton,
                          onClick: function () {
                            return u(e);
                          },
                        },
                        Object(f.f)("#EventEditor_RollbackToVersion")
                      )
                    );
                  });
          return c.createElement(
            ke.a,
            null,
            c.createElement(
              Ie.a,
              { onEscKeypress: s },
              c.createElement(
                Me.f,
                null,
                c.createElement(
                  Me.k,
                  null,
                  Object(f.f)("#EventEditor_VersionsDialog_Title")
                ),
                c.createElement(
                  Me.b,
                  null,
                  c.createElement(
                    Me.c,
                    null,
                    Object(f.f)("#EventEditor_VersionsDialog_Body")
                  ),
                  g &&
                    c.createElement(
                      "div",
                      { className: Li.a.VersionListCtn },
                      E,
                      0 == E.length &&
                        c.createElement(
                          "div",
                          { className: Li.a.VersionListEmpty },
                          Object(f.f)("#EventEditor_Versions_NoVersions")
                        )
                    ),
                  !g && c.createElement(_.a, null)
                ),
                c.createElement(
                  Me.j,
                  null,
                  c.createElement(
                    Me.q,
                    { onClick: s },
                    Object(f.f)("#Button_Close")
                  )
                )
              )
            )
          );
        },
        Ri = function (e) {
          var t = e.editModel,
            a = e.versionID,
            n = e.closeModal,
            i = c.useState("rollback"),
            r = i[0],
            o = i[1];
          c.useEffect(
            function () {
              var e = new URLSearchParams();
              e.append("version_id", a), e.append("event_gid", t.GetGID());
              var n =
                m.c.COMMUNITY_BASE_URL +
                "gid/" +
                t.GetClanSteamID().ConvertTo64BitString() +
                "/ajaxrollbackevent";
              y.a
                .post(n, e, { withCredentials: !0 })
                .then(function (e) {
                  var t;
                  1 ==
                  (null === (t = null == e ? void 0 : e.data) || void 0 === t
                    ? void 0
                    : t.success)
                    ? window.location.reload()
                    : o("error");
                })
                .catch(function (e) {
                  o("error");
                });
            },
            [t, a]
          );
          var l = null;
          return (
            (l =
              "rollback" === r
                ? c.createElement(
                    Me.f,
                    null,
                    c.createElement(
                      Me.k,
                      null,
                      Object(f.f)("#EventEditor_VersionsDialog_RollingBack")
                    ),
                    c.createElement(Me.b, null, c.createElement(_.a, null))
                  )
                : c.createElement(
                    Me.f,
                    null,
                    c.createElement(
                      Me.k,
                      null,
                      Object(f.f)(
                        "#EventEditor_VersionsDialog_RollingBackFailed"
                      )
                    ),
                    c.createElement(
                      Me.j,
                      null,
                      c.createElement(
                        Me.q,
                        { onClick: n },
                        Object(f.f)("#Button_Close")
                      )
                    )
                  )),
            c.createElement(ke.a, null, c.createElement(Ie.a, null, l))
          );
        },
        Fi = a("R+8l"),
        Pi = a("oVVc");
      function xi(e) {
        var t = l.c.GetEditModel(),
          a = Object(ui.d)(function () {
            return [
              t.GetEventModel().jsondata.sale_opt_in_page_name,
              t.GetEventModel().jsondata.sale_show_creator,
            ];
          }),
          n = a[0],
          i = a[1];
        return c.createElement(
          Ci,
          {
            strToggleName: e.strToggleID,
            strTitle: Object(f.f)("#Sale_PageConfigOptions"),
          },
          c.createElement(
            "div",
            { className: Oi.Columns },
            c.createElement(
              "div",
              { className: Oi.LeftCol },
              c.createElement(zi, null),
              c.createElement(Vi, null)
            ),
            c.createElement(
              "div",
              { className: Oi.RightCol },
              c.createElement(Wi, null),
              c.createElement(Hi, null),
              c.createElement(
                he.b,
                {
                  clanSteamID: t.GetClanSteamID(),
                  className: k.EditPreviewButton,
                },
                c.createElement(Me.l, {
                  type: "text",
                  label: Object(f.f)("#Sale_OptInPageName"),
                  tooltip: Object(f.f)("#Sale_OptInPageName_ttip"),
                  value: n,
                  onChange: function (e) {
                    Object(G.G)(function () {
                      (t.GetEventModel().jsondata.sale_opt_in_page_name =
                        e.target.value),
                        t.SetDirty(T.c.jsondata_sales);
                    });
                  },
                })
              ),
              c.createElement(
                He.a,
                {
                  toolTipContent: "#Sale_ShowCreatorHome_ttip",
                  direction: "top",
                },
                c.createElement(
                  "div",
                  { className: k.InputBorder },
                  c.createElement(Me.p, {
                    onChange: function (e) {
                      Object(G.G)(function () {
                        (t.GetEventModel().jsondata.sale_show_creator = e),
                          t.SetDirty(T.c.jsondata_sales);
                      });
                    },
                    label: Object(f.f)("#Sale_ShowCreatorHome"),
                    checked: i,
                  })
                )
              ),
              c.createElement(
                he.b,
                { clanSteamID: t.GetClanSteamID() },
                c.createElement(Ui, null),
                c.createElement(Ni, { editModel: t })
              )
            )
          )
        );
      }
      function Ui(e) {
        var t,
          a,
          i = l.c.GetEditModel(),
          r = Object(ui.d)(function () {
            var e, t, a;
            return [
              null ===
                (e = i.GetEventModel().jsondata.ownership_requirement_info) ||
              void 0 === e
                ? void 0
                : e.bLockedToAppOwners,
              null ===
                (t = i.GetEventModel().jsondata.ownership_requirement_info) ||
              void 0 === t
                ? void 0
                : t.strRedirectURL,
              i.GetEventModel().jsondata.sale_use_subscription_layout,
              null ===
                (a = i.GetEventModel().jsondata.app_right_requirement_info) ||
              void 0 === a
                ? void 0
                : a.bLockedToPartnerAppRights,
            ];
          }),
          o = r[0],
          s = r[1],
          d = r[2],
          u = r[3],
          p = c.useState(
            i.GetEventModel().BIsLockedToGameOwners()
              ? null === (t = i.GetEventModel().GetRequiredAppIDs()) ||
                void 0 === t
                ? void 0
                : t.join(",")
              : ""
          ),
          m = p[0],
          _ = p[1],
          g = c.useState(
            i.GetEventModel().BIsLockedToGameOwners()
              ? null === (a = i.GetEventModel().GetRequiredPackageIDs()) ||
                void 0 === a
                ? void 0
                : a.join(",")
              : ""
          ),
          E = g[0],
          b = g[1];
        return c.createElement(
          c.Fragment,
          null,
          c.createElement(
            He.a,
            {
              toolTipContent: "#Sale_OwnershipRestrictions_ttip",
              direction: "top",
            },
            c.createElement(
              "div",
              { className: k.InputBorder },
              c.createElement(Me.p, {
                onChange: function (e) {
                  Object(G.G)(function () {
                    var t = i.GetEventModel().jsondata;
                    t.ownership_requirement_info
                      ? (t.ownership_requirement_info.bLockedToAppOwners = e)
                      : (t.ownership_requirement_info = {
                          bLockedToAppOwners: e,
                          rgRequiredAppIDs: [],
                          rgRequiredPackageIDs: [],
                          strRedirectURL: "",
                        }),
                      i.SetDirty(T.c.jsondata_sales);
                  });
                },
                label: Object(f.f)("#Sale_OwnershipRestrictions"),
                checked: o,
              })
            )
          ),
          o &&
            c.createElement(
              c.Fragment,
              null,
              c.createElement(Me.l, {
                type: "text",
                label: Object(f.f)("#Sale_RequiredApps"),
                tooltip: Object(f.f)("#Sale_RequiredApps_ttip"),
                onChange: function (e) {
                  m != e.target.value &&
                    (_(e.target.value),
                    Object(G.G)(function () {
                      var t = i.GetEventModel().GetRequiredAppIDs(),
                        a = e.target.value
                          .split(",")
                          .map(Number)
                          .filter(function (e) {
                            return e > 0;
                          });
                      t.splice.apply(t, Object(n.g)([0, t.length], a)),
                        i.SetDirty(T.c.jsondata_sales);
                    }));
                },
                value: m,
              }),
              c.createElement(Me.l, {
                type: "text",
                label: Object(f.f)("#Sale_RequiredPackages"),
                tooltip: Object(f.f)("#Sale_RequiredPackages_ttip"),
                onChange: function (e) {
                  E != e.target.value &&
                    (b(e.target.value),
                    Object(G.G)(function () {
                      var t = i.GetEventModel().GetRequiredPackageIDs(),
                        a = e.target.value
                          .split(",")
                          .map(Number)
                          .filter(function (e) {
                            return e > 0;
                          });
                      t.splice.apply(t, Object(n.g)([0, t.length], a)),
                        i.SetDirty(T.c.jsondata_sales);
                    }));
                },
                value: E,
              }),
              c.createElement(Me.l, {
                type: "text",
                label: Object(f.f)("#Sale_OwnershipLockRedirect"),
                tooltip: Object(f.f)("#Sale_OwnershipLockRedirect_ttip"),
                onChange: function (e) {
                  s != e.target.value &&
                    Object(G.G)(function () {
                      (i.GetEventModel().jsondata.ownership_requirement_info.strRedirectURL =
                        e.target.value),
                        i.SetDirty(T.c.jsondata_sales);
                    });
                },
                value: s,
              }),
              c.createElement(
                he.b,
                { clanSteamID: i.GetClanSteamID() },
                c.createElement(Me.e, {
                  onChange: function (e) {
                    Object(G.G)(function () {
                      (i.GetEventModel().jsondata.sale_use_subscription_layout = e),
                        i.SetDirty(T.c.jsondata_sales);
                    });
                  },
                  label: "(VO) " + Object(f.f)("#Sale_UseSubscriptionLayout"),
                  tooltip: Object(f.f)("#Sale_UseSubscriptionLayout_ttip"),
                  checked: !!d,
                })
              )
            ),
          c.createElement(
            He.a,
            {
              toolTipContent: "#Sale_PartnerAppEditRestrictions_ttip",
              direction: "top",
            },
            c.createElement(
              "div",
              { className: k.InputBorder },
              c.createElement(Me.p, {
                onChange: function (e) {
                  Object(G.G)(function () {
                    var t = i.GetEventModel().jsondata;
                    t.app_right_requirement_info
                      ? (t.app_right_requirement_info.bLockedToPartnerAppRights = e)
                      : (t.app_right_requirement_info = {
                          bLockedToPartnerAppRights: e,
                          nAppRightFlag: cn.GetAppRightFlags([Fa.EditInfo]),
                        }),
                      i.SetDirty(T.c.jsondata_sales);
                  });
                },
                label: Object(f.f)("#Sale_PartnerAppEditRestrictions"),
                checked: !!u,
              })
            )
          )
        );
      }
      function Hi(e) {
        var t = this,
          a = l.c.GetEditModel();
        return c.createElement(
          he.b,
          {
            requireAdmin: !0,
            clanSteamID: a.GetClanSteamID(),
            className: k.EditPreviewButton,
          },
          c.createElement(
            "div",
            { className: k.EventEditorTextTitle },
            Object(f.f)("#Sale_CreateUpdateDiscountEventTitle"),
            c.createElement(ra.b, {
              tooltip: Object(f.f)("#Sale_CreateUpdateDiscountEventTitle_ttip"),
            })
          ),
          c.createElement(
            Me.q,
            {
              onClick: function () {
                return Object(n.b)(t, void 0, void 0, function () {
                  var e,
                    t,
                    i,
                    r,
                    o = this;
                  return Object(n.e)(this, function (l) {
                    switch (l.label) {
                      case 0:
                        return (
                          (e = []),
                          a
                            .GetEventModel()
                            .jsondata.sale_sections.forEach(function (t) {
                              t.capsules.forEach(function (t) {
                                return Object(n.b)(
                                  o,
                                  void 0,
                                  void 0,
                                  function () {
                                    var a, i;
                                    return Object(n.e)(this, function (n) {
                                      switch (n.label) {
                                        case 0:
                                          return "bundle" !== t.type
                                            ? [3, 2]
                                            : ((a = Fi.a.GetBundleInfo(t.id)),
                                              [
                                                4,
                                                Pi.b.LoadPackageInfo(
                                                  a.packageids
                                                ),
                                              ]);
                                        case 1:
                                          return (
                                            n.sent(),
                                            a.packageids.forEach(function (t) {
                                              var a = Pi.b.GetPackageInfo(
                                                Number(t)
                                              );
                                              e.push.apply(e, a.appids);
                                            }),
                                            [3, 5]
                                          );
                                        case 2:
                                          return "sub" !== t.type
                                            ? [3, 4]
                                            : [4, Pi.b.LoadPackageInfo([t.id])];
                                        case 3:
                                          return (
                                            n.sent(),
                                            (i = Pi.b.GetPackageInfo(t.id)),
                                            e.push.apply(e, i.appids),
                                            [3, 5]
                                          );
                                        case 4:
                                          Object(X.b)(t.type) &&
                                            e.push(Number(t.id)),
                                            (n.label = 5);
                                        case 5:
                                          return [2];
                                      }
                                    });
                                  }
                                );
                              });
                            }),
                          (e = Array.from(new Set(e))).sort(),
                          (t = new FormData()).append(
                            "sessionid",
                            m.c.SESSIONID
                          ),
                          t.append("name", "[AUTO] " + a.GetName()),
                          t.append("event", "1"),
                          t.append("type", "discount"),
                          t.append("header", a.GetName()),
                          t.append("appids", e.join(",")),
                          t.append(
                            "start_date",
                            a.GetEventStartTime().toString()
                          ),
                          t.append("end_date", a.GetEventEndTime().toString()),
                          t.append(
                            "description",
                            "#discount_desc_preset_special"
                          ),
                          a.GetEventModel().jsondata.sale_discount_event_id &&
                            t.append(
                              "discount_id",
                              a
                                .GetEventModel()
                                .jsondata.sale_discount_event_id.toString()
                            ),
                          [
                            4,
                            y.a.post(
                              m.c.COMMUNITY_BASE_URL +
                                "actions/ajaxcreateupdatediscountevent",
                              t,
                              { withCredentials: !0 }
                            ),
                          ]
                        );
                      case 1:
                        return (
                          (i = l.sent()),
                          (r =
                            i.data.discountid ||
                            a.GetEventModel().jsondata.sale_discount_event_id),
                          a.GetEventModel().jsondata.sale_discount_event_id ||
                            (a.GetEventModel().jsondata.sale_discount_event_id = r),
                          Object(Ie.d)(
                            c.createElement(ht, {
                              editModel: a,
                              bSkipChecks: !0,
                              OnSuccess: function () {
                                window.open(
                                  m.c.PARTNER_BASE_URL +
                                    "admin/editdiscountevent/" +
                                    r
                                );
                              },
                            }),
                            window
                          ),
                          [2]
                        );
                    }
                  });
                });
              },
            },
            a.GetEventModel().jsondata.sale_discount_event_id
              ? Object(f.f)(
                  "#Sale_UpdateDiscountEvent",
                  a.GetEventModel().jsondata.sale_discount_event_id
                )
              : Object(f.f)("#Sale_CreateDiscountEvent")
          )
        );
      }
      function Vi(e) {
        var t = l.c.GetEditModel(),
          a = Object(ui.d)(function () {
            var e = t.GetEventModel().jsondata;
            return [
              e.sale_section_disable_capitalize,
              e.sale_section_font_size,
              e.sale_font,
              e.sale_font_weight,
            ];
          }),
          i = a[0],
          r = a[1],
          o = a[2],
          s = a[3],
          d = [
            { label: "Default", data: { fontFamily: "" } },
            {
              label: "Default, Bold",
              data: {
                fontFamily: "'Motiva Sans', 'Play', sans-serif",
                fontWeight: "bold",
              },
            },
            {
              label: "Jolly Lodger (Halloween)",
              data: {
                fontFamily:
                  "'Jolly Lodger', 'New Rocker', 'Chonburi', 'Motiva Sans'",
              },
            },
            {
              label: "Sigmar One",
              data: { fontFamily: "'Sigmar One', sans-serif" },
            },
          ].map(function (e) {
            return Object(n.a)(Object(n.a)({}, e), {
              label: c.createElement(
                "div",
                { style: Object(n.a)({}, e.data) },
                e.label
              ),
            });
          }),
          u = d.find(function (e) {
            return e.data.fontFamily == o && e.data.fontWeight == s;
          }),
          p = u && u.data;
        return c.createElement(
          he.b,
          { requireAdmin: !0, clanSteamID: t.GetClanSteamID() },
          c.createElement(Me.h, {
            label: Object(f.f)("#Sale_SaleFont"),
            tooltip: Object(f.f)("#Sale_SaleFont_ttip"),
            strDropDownClassName: k.DropDownScroll,
            rgOptions: d,
            selectedOption: p,
            onChange: function (e) {
              Object(G.G)(function () {
                (t.GetEventModel().jsondata.sale_font = e.data.fontFamily),
                  (t.GetEventModel().jsondata.sale_font_weight =
                    e.data.fontWeight),
                  t.SetDirty(T.c.jsondata_sales);
              });
            },
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          }),
          c.createElement(Me.l, {
            type: "text",
            label: Object(f.f)("#Sale_SectionTitleFontSize"),
            tooltip: Object(f.f)("#Sale_SectionTitleFontSize_ttip"),
            onChange: function (e) {
              Object(G.G)(function () {
                (t.GetEventModel().jsondata.sale_section_font_size = Number(
                  e.target.value
                )),
                  t.SetDirty(T.c.jsondata_sales);
              });
            },
            value: r,
          }),
          c.createElement(Me.e, {
            label: Object(f.f)("#Sale_DontCapitalizeSectionTitles"),
            tooltip: Object(f.f)("#Sale_DontCapitalizeSectionTitles_ttip"),
            onChange: function (e) {
              Object(G.G)(function () {
                (t.GetEventModel().jsondata.sale_section_disable_capitalize = e),
                  t.SetDirty(T.c.jsondata_sales);
              });
            },
            checked: i,
          })
        );
      }
      function zi(e) {
        var t = l.c.GetEditModel(),
          a = Object(ui.d)(function () {
            return [
              t.GetEventModel().jsondata.sale_vanity_id,
              t.GetEventModel().jsondata
                .sale_vanity_id_valve_approved_for_sale_subpath,
            ];
          }),
          n = a[0],
          i = a[1],
          r = Object(_e.b)(t.GetClanAccountID()),
          o = null;
        return (
          n && !i && r
            ? (o = r.GetCreatorHomeURL("publisher") + "sale/" + n)
            : n && i && (o = m.c.STORE_BASE_URL + "sale/" + n),
          c.createElement(
            c.Fragment,
            null,
            c.createElement(Me.l, {
              type: "text",
              label: Object(f.f)("#Sale_VanityID"),
              tooltip: Object(f.f)("#Sale_VanityID_ttip"),
              onChange: function (e) {
                return t.SetSaleVanityID(e.target.value);
              },
              value: n,
            }),
            Boolean(o)
              ? c.createElement(
                  "div",
                  null,
                  c.createElement(
                    "span",
                    { className: "DialogLabel" },
                    Object(f.f)("#Sale_VanityID_Link")
                  ),
                  c.createElement("br", null),
                  c.createElement(
                    "a",
                    { href: o, target: m.c.IN_CLIENT ? "" : "_blank" },
                    o
                  )
                )
              : c.createElement(
                  "div",
                  { className: $.ErrorStylesWithIcon },
                  Object(f.f)("#EventEditor_SaleNotReady_ttip")
                ),
            c.createElement(
              he.b,
              { requireAdmin: !0, clanSteamID: t.GetClanSteamID() },
              c.createElement(Me.e, {
                label: Object(f.f)("#Sale_ValveTopSalePath"),
                tooltip: Object(f.f)("#Sale_ValveTopSalePath_ttip"),
                onChange: function (e) {
                  Object(G.G)(function () {
                    (t.GetEventModel().jsondata.sale_vanity_id_valve_approved_for_sale_subpath = e),
                      t.SetDirty(T.c.jsondata_sales);
                  });
                },
                checked: i,
              })
            )
          )
        );
      }
      function Wi(e) {
        var t = this,
          a = l.c.GetEditModel(),
          i = c.useState(""),
          r = i[0],
          o = i[1];
        return c.createElement(
          he.b,
          { clanSteamID: a.GetClanSteamID(), className: k.EditPreviewButton },
          c.createElement(Me.l, {
            type: "text",
            label: Object(f.f)("#Sale_ImportSale"),
            tooltip: Object(f.f)("#Sale_ImportSale_ttip"),
            value: r,
            onChange: function (e) {
              return o(e.target.value);
            },
          }),
          c.createElement(
            Me.q,
            {
              onClick: function () {
                return Object(n.b)(t, void 0, void 0, function () {
                  var e, t, i, l, s, c;
                  return Object(n.e)(this, function (d) {
                    switch (d.label) {
                      case 0:
                        return r ? [4, y.a.get(r + "?json=1")] : [3, 2];
                      case 1:
                        for (i in ((e = d.sent()),
                        (t = e.data),
                        (a.GetEventModel().jsondata.sale_sections = []),
                        t.sections))
                          "0" !== i &&
                            Number(i) &&
                            ((l = t.sections[i]),
                            (s = Object(n.a)({}, D.h)),
                            "string" == typeof l.label &&
                              (s.localized_label = Object(Oa.e)(
                                [l.label],
                                30,
                                null
                              )),
                            (s.background_color = l.section_bg_color),
                            (s.background_gradient_top = l.section_bg_color),
                            (s.background_gradient_bottom = l.section_bg_color),
                            (s.label_color = l.label_color),
                            (s.capsules_per_row = l.capsules),
                            (s.use_random_order = l.random_order),
                            (c = t.capsules["n_section_" + i]) &&
                              (s.capsules = c.capsules.map(function (e) {
                                var t = "game";
                                e.packageid
                                  ? (t = "sub")
                                  : e.bundleid && (t = "bundle");
                                var a = {
                                  type: t,
                                  id: Number(
                                    e.bundleid || e.packageid || e.appid
                                  ),
                                };
                                return (
                                  "bundle" === a.type
                                    ? Fi.a.LoadBundleInfo([Number(a.id)])
                                    : "sub" === a.type
                                    ? Pi.b.LoadPackageInfo([Number(a.id)])
                                    : qa.a.EnsureAppInfoForAppIDs(
                                        new Set([Number(a.id)])
                                      ),
                                  a
                                );
                              })),
                            a.GetEventModel().jsondata.sale_sections.push(s));
                        a.SetDirty(T.c.jsondata_sales), (d.label = 2);
                      case 2:
                        return o(""), [2];
                    }
                  });
                });
              },
            },
            Object(f.f)("#Sale_ImportButton")
          )
        );
      }
      var qi = a("qiKp"),
        Yi = Object(I.a)(function (e) {
          var t,
            a,
            n = e.editModel,
            i = e.fnOnOKCallback,
            r = n.GetEventModel(),
            o = c.useState(
              null !== (t = r.jsondata.sale_vanity_id) && void 0 !== t ? t : ""
            ),
            l = o[0],
            s = o[1],
            d = c.useState(new qi.a())[0],
            u = Math.floor(Date.now() / 1e3),
            p = new Date();
          p.setHours(10), p.setMinutes(0), p.setSeconds(0);
          var m = new Date();
          m.setDate(p.getDate() + 1),
            m.setHours(10),
            m.setMinutes(0),
            m.setSeconds(0);
          var _ = c.useState(
              r.startTime > u ? r.startTime : Math.floor(m.getTime() / 1e3)
            ),
            g = _[0],
            E = _[1],
            b = new Date();
          b.setDate(m.getDate() + 1),
            b.setHours(10),
            b.setMinutes(0),
            b.setSeconds(0);
          var h = c.useState(
              null !== (a = r.endTime) && void 0 !== a
                ? a
                : Math.floor(b.getTime() / 1e3)
            ),
            v = h[0],
            S = h[1],
            O = function () {
              Object(G.G)(function () {
                (n.GetEventModel().jsondata.bSaleEnabled = !1),
                  n.SetDirty(T.c.jsondata_sales);
              }),
                e.closeModal && e.closeModal();
            },
            y = l.replace(/[^\w-]/g, "").length > 0 && g && v;
          return c.createElement(
            ke.a,
            null,
            c.createElement(
              Te.h,
              { onEscKeypress: O },
              c.createElement(
                Me.f,
                null,
                c.createElement(Me.k, null, Object(f.f)("#Sale_EnableTitle")),
                c.createElement(
                  Me.b,
                  null,
                  c.createElement(
                    Me.c,
                    null,
                    c.createElement(
                      "div",
                      { className: Oi.SetupCtn },
                      c.createElement(
                        "span",
                        null,
                        Object(f.f)("#Sale_EanbleDesc")
                      ),
                      c.createElement(
                        "ol",
                        null,
                        c.createElement(
                          "li",
                          null,
                          Object(f.f)("#Sale_EnableDesc_1")
                        ),
                        c.createElement(
                          "li",
                          null,
                          Object(f.f)("#Sale_EnableDesc_2")
                        )
                      ),
                      c.createElement("br", null),
                      c.createElement(Me.l, {
                        type: "text",
                        label: Object(f.f)("#Sale_VanityID"),
                        tooltip: Object(f.f)("#Sale_VanityID_ttip"),
                        onChange: function (e) {
                          return s(e.target.value);
                        },
                        value: l,
                      }),
                      c.createElement(Bt.a, {
                        strDescription: Object(f.f)("#Sale_New_Start"),
                        nEarliestTime: 0,
                        fnGetTimeToUpdate: function () {
                          return g;
                        },
                        fnSetTimeToUpdate: E,
                        fnIsValidDateTime: function () {
                          return !0;
                        },
                        bShowTimeZone: !0,
                      }),
                      c.createElement(Bt.a, {
                        strDescription: Object(f.f)("#Sale_New_End"),
                        nEarliestTime: 0,
                        fnGetTimeToUpdate: function () {
                          return v;
                        },
                        fnSetTimeToUpdate: S,
                        fnIsValidDateTime: function () {
                          return !0;
                        },
                        bShowTimeZone: !0,
                      }),
                      c.createElement(
                        he.b,
                        { clanSteamID: n.GetClanSteamID(), requireAdmin: !0 },
                        c.createElement(li, {
                          clanSteamID: n.GetClanSteamID(),
                          gidClanEvent: n.GetGID(),
                          fnOkCallbackList: d,
                        })
                      )
                    )
                  )
                ),
                c.createElement(
                  Me.j,
                  null,
                  c.createElement(Me.n, {
                    onCancel: O,
                    bOKDisabled: !y,
                    onOK: function () {
                      Object(G.G)(function () {
                        n.SetSaleVanityID(l),
                          n.SetEventStartTime(g),
                          n.SetEventEndTime(v),
                          d.Dispatch(),
                          i();
                      }),
                        e.closeModal && e.closeModal();
                    },
                  })
                )
              )
            )
          );
        });
      function Ji(e) {
        var t = l.c.GetEditModel(),
          a = c.useState(t.BHasSaleEnabled()),
          n = a[0],
          i = a[1],
          r = c.useRef(),
          o = function (e) {
            var a;
            i(e),
              null === (a = null == r ? void 0 : r.current) ||
                void 0 === a ||
                a.setState({ checked: e }),
              Object(G.G)(function () {
                (t.GetEventModel().jsondata.bSaleEnabled = e),
                  t.SetDirty(T.c.jsondata_sales);
              });
          };
        return c.createElement(
          "div",
          { className: k.InputBorder },
          c.createElement(Me.p, {
            ref: r,
            onChange: function (e) {
              var a;
              e
                ? (null === (a = null == r ? void 0 : r.current) ||
                    void 0 === a ||
                    a.setState({ checked: !1 }),
                  i(!1),
                  Object(Ie.d)(
                    c.createElement(Yi, {
                      editModel: t,
                      fnOnOKCallback: function () {
                        return o(!0);
                      },
                    }),
                    window
                  ))
                : o(e);
            },
            label: Object(f.f)("#Sale_option"),
            checked: n,
          }),
          Boolean(!t.BIsSourceEventSaleEnabled()) &&
            c.createElement(
              "div",
              { className: $.WarningStyles },
              Object(f.f)("#Sale_Enable_Warning")
            )
        );
      }
      var Qi = a("+w6J"),
        Zi = a("tzvv"),
        Ki = Object(I.a)(function (e) {
          var t,
            a,
            n,
            i = e.editModel;
          if (
            !(
              Object(he.a)(i.GetClanSteamID(), !1) ||
              (null === (a = i.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === a
                ? void 0
                : a.length) > 0
            )
          )
            return null;
          var r =
              (null === (n = i.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === n
                ? void 0
                : n.length) || 0,
            o = function (e, t) {
              return void 0 === t && (t = !1), Object(fi.d)(e, t);
            },
            l = Object(fi.a)("SalePageEdit_SortingTiers", !0);
          return c.createElement(
            "div",
            {
              id: "SalePageEdit_SortingTiers",
              className: Object(N.a)(
                ((t = {}),
                (t[L.a.ValveOnlyBackground] = !0),
                (t[Oi.SettingCtn] = !0),
                t)
              ),
            },
            c.createElement(
              "div",
              {
                className: Oi.Title,
                onDoubleClick: function () {
                  return o("SalePageEdit_SortingTiers", !0);
                },
              },
              Object(f.f)("#Sale_SortingTiersSection", r),
              c.createElement(ra.b, {
                tooltip: Object(f.f)("#Sale_SortingTiers_SectionTooltip"),
              }),
              c.createElement(ra.a, {
                bIsMinimized: l,
                fnToggleMinimize: function () {
                  return o("SalePageEdit_SortingTiers", !0);
                },
              })
            ),
            !l && c.createElement($i, { editModel: i })
          );
        }),
        Xi = function (e) {
          return c.createElement(
            "div",
            { className: Zi.SortTierControls },
            c.createElement(Qi.a, {
              capsuleContainer: e.sortTier,
              editModel: e.editModel,
              uniqueKey: "sort_tier_" + e.tierIndex,
              disableDaySelection: !0,
            })
          );
        },
        $i = Object(I.a)(function (e) {
          var t,
            a = e.editModel,
            n = c.useState(!1),
            i = n[0],
            r = n[1],
            o =
              null !== (t = a.GetEventModel().jsondata.sorting_tiers) &&
              void 0 !== t
                ? t
                : [],
            l = a.GetEventModel().GetTaggedItems();
          return i || o.length
            ? c.createElement(
                "div",
                null,
                c.createElement(
                  "div",
                  { className: Zi.SortTierExplanation },
                  Object(f.f)("#Sale_SortTier_Description")
                ),
                (a.GetSaleSections() || []).map(function (e) {
                  return "items" == e.section_type && e.use_random_order
                    ? c.createElement(Kt.h, {
                        key: "sorttier_" + e.unique_id,
                        section: e,
                        language: a.GetCurEditLanguage(),
                        event: a.GetEventModel(),
                      })
                    : null;
                }),
                0 == o.length &&
                  c.createElement(
                    He.a,
                    {
                      toolTipContent:
                        0 == l.length
                          ? "#Sale_SortTier_PopulateButton_disabled_ttip"
                          : "#Sale_SortTier_PopulateButton_ttip",
                    },
                    c.createElement(
                      Me.d,
                      {
                        disabled: 0 == l.length,
                        onClick: function () {
                          a.GetEventModel().jsondata.sorting_tiers = [];
                          var e = l.map(function (e) {
                            return e.capsule;
                          });
                          if (e.length < 4)
                            a.GetEventModel().jsondata.sorting_tiers = [
                              { capsules: e },
                            ];
                          else {
                            var t = Math.floor(e.length / 4),
                              n = Math.floor((2 * e.length) / 4),
                              i = Math.floor((3 * e.length) / 4);
                            a.GetEventModel().jsondata.sorting_tiers = [
                              { capsules: e.slice(0, t) },
                              { capsules: e.slice(t, n) },
                              { capsules: e.slice(n, i) },
                              { capsules: e.slice(i) },
                            ];
                          }
                          a.SetDirty(T.c.jsondata_sales);
                        },
                        className: Zi.AutoTierButton,
                      },
                      Object(f.f)("#Sale_SortTier_PopulateButton")
                    )
                  ),
                c.createElement(Ja.a, {
                  items: o,
                  onDelete: function (e) {
                    a.GetEventModel().jsondata.sorting_tiers.splice(e, 1),
                      a.SetDirty(T.c.jsondata_sales);
                  },
                  onReorder: function () {
                    return a.SetDirty(T.c.jsondata_sales);
                  },
                  render: function (e) {
                    return c.createElement(Xi, {
                      editModel: a,
                      tierIndex: o.findIndex(function (t) {
                        return t === e;
                      }),
                      sortTier: e,
                    });
                  },
                }),
                c.createElement(
                  Me.d,
                  {
                    onClick: function () {
                      a.GetEventModel().jsondata.sorting_tiers ||
                        (a.GetEventModel().jsondata.sorting_tiers = []),
                        a
                          .GetEventModel()
                          .jsondata.sorting_tiers.push({ capsules: [] }),
                        a.SetDirty(T.c.jsondata_sales);
                    },
                  },
                  Object(f.f)("#Sale_SortTier_Add")
                )
              )
            : c.createElement(
                "div",
                null,
                Object(f.f)("#Sale_SortTier_EnableInfo"),
                c.createElement(
                  Me.d,
                  {
                    onClick: function () {
                      return r(!0);
                    },
                  },
                  Object(f.f)("#Sale_SortTier_Enable")
                )
              );
        }),
        er = a("oqmg"),
        tr = a("xG0+"),
        ar = a("k3PP"),
        nr = a("wLVu"),
        ir = function (e) {
          var t = new Array();
          return (
            e.rows.forEach(function (a) {
              t.push(
                c.createElement(
                  "div",
                  {
                    key: "tc_" + a.strSectionId,
                    id: "tc_" + a.strSectionId,
                    className: Object(N.a)(
                      nr.TOCEntry,
                      a.bSectionIsVisible && nr.SectionOnScreen,
                      a.strClassName,
                      a.bIndent && nr.TOCIndent
                    ),
                    onClick: function () {
                      e.onSelected && e.onSelected(a);
                      var t = document.getElementById(a.strSectionId);
                      t && (t.scrollIntoView(!0), window.scrollBy(0, -75));
                    },
                  },
                  c.createElement(
                    "div",
                    { style: a.style || null, className: nr.TOCEntryText },
                    a.strLabel
                  )
                )
              );
            }),
            c.createElement(
              "div",
              { className: nr.TableOfContentsContainer },
              c.createElement(
                "div",
                { className: nr.ManageLocCtn },
                c.createElement(
                  "div",
                  { className: nr.Header },
                  Object(f.f)("#EventEditor_Loc_Title")
                ),
                c.createElement(
                  "div",
                  { className: nr.ManageLocContents },
                  Object(f.f)("#EventEditor_Loc_Overview"),
                  c.createElement(
                    "div",
                    { className: nr.LocButtonsCtn },
                    e.elTopContent
                  )
                )
              ),
              c.createElement(
                "div",
                { className: nr.TableOfContents },
                c.createElement("div", { className: nr.Header }, e.strHeader),
                t,
                e.elBottomContent
              )
            )
          );
        },
        rr = a("KP/B"),
        or = a("5eAM"),
        lr = a("gyoR"),
        sr = a("3yM6"),
        cr = a("48GZ"),
        dr = function (e) {
          var t = function () {
              return e.closeModal && e.closeModal();
            },
            a = Object(c.useState)(!1),
            n = a[0],
            i = a[1],
            r = Object(c.useState)(null),
            o = r[0],
            s = r[1],
            u = Object(c.useState)(null),
            p = u[0],
            m = u[1],
            g = Object(c.useState)(null),
            E = g[0],
            b = g[1],
            h = Object(c.useState)(null),
            v = h[0],
            S = h[1];
          Object(c.useEffect)(function () {
            var e = y.a.CancelToken.source();
            return (
              ur().then(function () {
                e.token.reason || i(!0);
              }),
              function () {
                return e.cancel("SaleEventExplorerDialog: unmounting");
              }
            );
          }, []);
          return d.a.createElement(
            ke.a,
            null,
            d.a.createElement(
              Te.h,
              { onEscKeypress: t },
              d.a.createElement(
                Me.f,
                null,
                d.a.createElement(Me.k, null, Object(f.f)("#Sale_Debug_Title")),
                d.a.createElement(
                  Me.b,
                  null,
                  d.a.createElement(
                    Me.c,
                    null,
                    Boolean(n)
                      ? d.a.createElement(
                          "div",
                          null,
                          d.a.createElement(
                            "div",
                            null,
                            Object(f.f)("#Sale_Debug_Desc")
                          ),
                          d.a.createElement(mr, {
                            fnSetSaleItem: function (e, t, a, n) {
                              s(e), m(t), b(a), S(n);
                            },
                          }),
                          Boolean(o)
                            ? d.a.createElement(gr, {
                                saleCapsule: o,
                                list: p,
                                tabList: E,
                                sortList: v,
                              })
                            : d.a.createElement(
                                "div",
                                null,
                                Object(f.f)("#Sale_Debug_NoMatchingItem")
                              )
                        )
                      : d.a.createElement(_.a, {
                          string: Object(f.f)("#Sale_Debug_Loading"),
                          size: "medium",
                        })
                  )
                ),
                d.a.createElement(
                  Me.j,
                  null,
                  d.a.createElement(Me.n, {
                    onCancel: t,
                    bOKDisabled: !o,
                    strOKText: Object(f.f)("#Button_Delete"),
                    onOK: function () {
                      Object(Ie.d)(
                        d.a.createElement(Te.d, {
                          title: Object(f.f)("#EventEditor_GenericAreYouSure"),
                          strDescription: Object(f.f)("#Sale_Debug_Delete"),
                          onOK: function () {
                            !(function (e) {
                              if (!e) return;
                              var t = l.c.GetEditModel();
                              Object(G.G)(function () {
                                var a = 0,
                                  n = function (t) {
                                    for (
                                      var n = t.capsules.findIndex(function (
                                        t
                                      ) {
                                        return t.id == e.id && t.type == e.type;
                                      });
                                      n >= 0;

                                    )
                                      t.capsules.splice(n, 1),
                                        (a += 1),
                                        (n = t.capsules.findIndex(function (t) {
                                          return (
                                            t.id == e.id && t.type == e.type
                                          );
                                        }));
                                  };
                                t.GetEventModel().jsondata.sale_sections.forEach(
                                  n
                                );
                                var i = t.GetTabSaleSection();
                                i && i.tabs.forEach(n),
                                  a && t.SetDirty(T.c.jsondata_sales);
                              });
                            })(o),
                              t();
                          },
                        }),
                        window
                      );
                    },
                  })
                )
              )
            )
          );
        };
      function ur() {
        return Object(n.b)(this, void 0, void 0, function () {
          var e;
          return Object(n.e)(this, function (t) {
            switch (t.label) {
              case 0:
                return (
                  (e = l.c.GetEditModel()),
                  [
                    4,
                    Promise.all([
                      or.a.LoadAppLinkInfo(
                        Array.from(e.GetAllSalePageFeaturedItems("apps"))
                      ),
                      Fi.a.LoadBundleInfo(
                        Array.from(e.GetAllSalePageFeaturedItems("bundles"))
                      ),
                      Pi.b.LoadPackageInfo(
                        Array.from(e.GetAllSalePageFeaturedItems("packages"))
                      ),
                    ]),
                  ]
                );
              case 1:
                return t.sent(), [2];
            }
          });
        });
      }
      function pr(e, t) {
        if ((void 0 === t && (t = ""), "bundle" == e.type)) {
          var a = Fi.a.GetBundleInfo(e.id);
          return a ? a.name : t;
        }
        if ("sub" == e.type) {
          var n = Pi.b.GetPackageInfo(e.id);
          return n ? n.name : t;
        }
        var i = or.a.GetAppLinkInfo(e.id);
        return i ? i.name : t;
      }
      var mr = function (e) {
          var t = e.fnSetSaleItem,
            a = Object(c.useRef)(null),
            i = Object(c.useRef)(null),
            r = Object(c.useRef)(0),
            o = Object(c.useRef)();
          Object(c.useEffect)(function () {
            return function () {
              return window.clearTimeout(r.current);
            };
          }, []);
          var s = Object(c.useCallback)(
            function (e) {
              return Object(n.b)(void 0, void 0, void 0, function () {
                var s;
                return Object(n.e)(this, function (c) {
                  return (s = e.target.value) && 0 != s.trim().length
                    ? ((s = s.toLocaleLowerCase()),
                      window.clearTimeout(r.current),
                      a.current && a.current("SearchForCurator: new request"),
                      (r.current = window.setTimeout(function () {
                        return Object(n.b)(void 0, void 0, void 0, function () {
                          var e, a, r, c, u, p, m;
                          return Object(n.e)(this, function (n) {
                            return (
                              (e = l.c.GetEditModel()),
                              (a = Number.parseInt(s.trim())),
                              (r = new Array()),
                              e.GetEventModel().BHasSaleEnabled() &&
                                ((c = function (e) {
                                  return (
                                    e.id == a ||
                                    pr(e).toLowerCase().indexOf(s) >= 0
                                  );
                                }),
                                (u = function (e) {
                                  r.findIndex(function (t) {
                                    return t.id == e.id && t.type == e.type;
                                  }) < 0 && r.push(e);
                                }),
                                e
                                  .GetEventModel()
                                  .jsondata.sale_sections.forEach(function (e) {
                                    e.capsules.filter(c).forEach(u);
                                  }),
                                (p = e.GetTabSaleSection()) &&
                                  p.tabs.forEach(function (e) {
                                    return e.capsules.filter(c).forEach(u);
                                  }),
                                (m = function (a) {
                                  var n,
                                    i = function (e) {
                                      return a.id == e.id && a.type == e.type;
                                    },
                                    r = new Array();
                                  e.GetEventModel().jsondata.sale_sections.forEach(
                                    function (e) {
                                      e.capsules.filter(i).length > 0 &&
                                        r.push(e);
                                    }
                                  );
                                  var o = new Array();
                                  p &&
                                    p.tabs.forEach(function (e) {
                                      e.capsules.filter(i).length > 0 &&
                                        o.push(e);
                                    });
                                  var l = new Array();
                                  null ===
                                    (n = e.GetEventModel().jsondata
                                      .sorting_tiers) ||
                                    void 0 === n ||
                                    n.forEach(function (e, t) {
                                      if (
                                        (null == e
                                          ? void 0
                                          : e.capsules.filter(i).length) > 0
                                      )
                                        l.push(t);
                                      else if (
                                        null == e ? void 0 : e.sale_tag_filter
                                      ) {
                                        var n = new Array();
                                        n.push(a),
                                          Object(rr.r)(
                                            new Array(),
                                            e.sale_tag_filter,
                                            n
                                          ).length > 0 && l.push(t);
                                      }
                                    }),
                                    t(a, r, o, l);
                                }),
                                (i.current = Object(Ta.a)(
                                  d.a.createElement(_r, {
                                    list: r,
                                    fnChooseCapsule: m,
                                  }),
                                  o.current.element,
                                  {
                                    bOverlapHorizontal: !0,
                                    bMatchWidth: !0,
                                    bFitToWindow: !0,
                                    bDisablePopTop: !0,
                                  }
                                ))),
                              [2]
                            );
                          });
                        });
                      }, 300)),
                      [2])
                    : [2];
                });
              });
            },
            [t]
          );
          return d.a.createElement(Me.l, {
            type: "text",
            placeholder: Object(f.f)("#Sale_Debug_Placeholder"),
            tooltip: Object(f.f)("#Sale_Debug_InputToolTip"),
            onChange: s,
            onBlur: function () {
              setTimeout(function () {
                return i.current && i.current.Hide();
              }, 200);
            },
            ref: o,
          });
        },
        _r = function (e) {
          var t = e.list,
            a = e.fnChooseCapsule;
          return d.a.createElement(
            Da.c,
            { className: sr.SearchResults },
            t.map(function (e) {
              return d.a.createElement(
                Da.d,
                {
                  key: "sale_" + e.id + "_tpe_" + e.type,
                  onSelected: function () {
                    return a(e);
                  },
                },
                d.a.createElement(
                  "div",
                  null,
                  Object(f.f)(
                    "#Sale_Debug_ContextItem",
                    pr(e, Object(f.f)("#Sale_Debug_Unknown")),
                    e.type
                  )
                )
              );
            })
          );
        },
        gr = function (e) {
          var t,
            a = e.saleCapsule,
            n = e.list,
            i = e.tabList,
            r = e.sortList,
            o = l.c.GetEditModel(),
            s = o.GetCurEditLanguage(),
            c =
              Object(he.a)(o.GetClanSteamID(), !1) ||
              (null === (t = o.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === t
                ? void 0
                : t.length) > 0;
          return d.a.createElement(
            "div",
            null,
            d.a.createElement(
              "div",
              null,
              Object(f.f)(
                "#Sale_Debug_MatchItem",
                pr(a, Object(f.f)("#Sale_Debug_Unknown")),
                a.type
              )
            ),
            d.a.createElement(
              "div",
              null,
              Object(f.f)("#Sale_Debug_AppearsIn")
            ),
            d.a.createElement(
              "ol",
              null,
              Boolean(n && n.length > 0)
                ? n.map(function (e) {
                    return d.a.createElement(
                      "li",
                      { key: e.unique_id },
                      Object(ar.b)(
                        e,
                        s,
                        o,
                        o.GetSaleSectionIndexByID(e.unique_id),
                        !0
                      )
                    );
                  })
                : Object(f.f)("#Sale_Debug_NoMatchingItem")
            ),
            d.a.createElement(
              "div",
              null,
              Object(f.f)("#Sale_Debug_Tab_AppearsIn")
            ),
            d.a.createElement(
              "ol",
              null,
              Boolean(i && i.length > 0)
                ? i.map(function (e) {
                    return d.a.createElement(
                      "li",
                      { key: e.unique_id },
                      Object(cr.a)(e, s)
                    );
                  })
                : Object(f.f)("#Sale_Debug_NoMatchingItem")
            ),
            c &&
              d.a.createElement(
                d.a.Fragment,
                null,
                d.a.createElement(
                  "div",
                  null,
                  Object(f.f)("#Sale_Debug_SortTier_AppearsIn")
                ),
                d.a.createElement(
                  "ol",
                  null,
                  Boolean((null == r ? void 0 : r.length) > 0)
                    ? r.map(function (e) {
                        return d.a.createElement(
                          "li",
                          { key: "st" + e },
                          Object(f.f)("#Sale_Debug_Tier", e + 1)
                        );
                      })
                    : Object(f.f)("#Sale_Debug_NoMatchingItem")
                )
              )
          );
        };
      function Er(e) {
        return e.type + ":" + e.id;
      }
      function br(e) {
        var t = e.split(":");
        return { type: t[0], id: parseInt(t[1]) };
      }
      var hr = function (e) {
          var t = Object(c.useState)(!1),
            a = t[0],
            n = t[1],
            i = Object(c.useState)(null),
            r = i[0],
            o = i[1],
            s = function () {
              return e.closeModal && e.closeModal();
            };
          Object(c.useEffect)(function () {
            var e = y.a.CancelToken.source();
            return (
              ur().then(function () {
                e.token.reason || n(!0);
              }),
              o(
                (function () {
                  var e,
                    t,
                    a = [],
                    n = new Map(),
                    i = l.c.GetEditModel(),
                    r = i.GetTabSaleSection();
                  return (
                    null === (e = null == r ? void 0 : r.tabs) ||
                      void 0 === e ||
                      e.forEach(function (e) {
                        var t,
                          i = {
                            type: "tab",
                            unique_id: e.unique_id,
                            strLabel: Object(f.f)(
                              (null === (t = e.localized_label) || void 0 === t
                                ? void 0
                                : t[0]) || e.default_label
                            ),
                          };
                        a.push(i),
                          e.capsules.forEach(function (t) {
                            var a = Er(t);
                            n.has(a) || n.set(a, new Set()),
                              n.get(a).add(e.unique_id);
                          });
                      }),
                    null === (t = i.GetEventModel().jsondata.sale_sections) ||
                      void 0 === t ||
                      t.forEach(function (e) {
                        if ("items" == e.section_type) {
                          var t = {
                            type: "section",
                            unique_id: e.unique_id,
                            strLabel: Object(f.f)(
                              Object(Kt.c)(e) ||
                                e.localized_label[0] ||
                                e.default_label
                            ),
                          };
                          a.push(t),
                            e.capsules.forEach(function (t) {
                              var a = Er(t);
                              n.has(a) || n.set(a, new Set()),
                                n.get(a).add(e.unique_id);
                            });
                        }
                      }),
                    { mapItemLocations: n, rgSections: a }
                  );
                })()
              ),
              function () {
                return e.cancel(
                  "SaleEventItemLocationCSVDownloadDialog: unmounting"
                );
              }
            );
          }, []);
          var u = null;
          if (r) {
            var p = r.rgSections.filter(function (e) {
                return "tab" == e.type;
              }).length,
              m = r.rgSections.length - p,
              g = r.mapItemLocations.size;
            u = Object(f.f)("#Sale_GameExport_ContentSummary", p, m, g);
          }
          return d.a.createElement(
            ke.a,
            null,
            d.a.createElement(
              Te.h,
              { onEscKeypress: s },
              d.a.createElement(
                Me.f,
                null,
                d.a.createElement(
                  Me.k,
                  null,
                  Object(f.f)("#Sale_GameExport_Title")
                ),
                d.a.createElement(
                  Me.b,
                  null,
                  d.a.createElement(
                    Me.c,
                    null,
                    d.a.createElement(
                      "div",
                      null,
                      Object(f.f)("#Sale_GameExport_Desc")
                    )
                  ),
                  d.a.createElement(
                    Me.c,
                    null,
                    a
                      ? u
                      : d.a.createElement(_.a, {
                          position: "center",
                          string: Object(f.f)("#Sale_Debug_Loading"),
                          size: "medium",
                        })
                  )
                ),
                d.a.createElement(
                  Me.j,
                  null,
                  d.a.createElement(Me.n, {
                    onCancel: s,
                    bOKDisabled: !a,
                    strOKText: Object(f.f)("#Button_Save"),
                    onOK: function () {
                      for (
                        var e,
                          t = r.mapItemLocations,
                          a = r.rgSections,
                          n = [],
                          i = 0,
                          o = Array.from(t.keys());
                        i < o.length;
                        i++
                      ) {
                        var l = br((v = o[i])),
                          c = void 0;
                        try {
                          c =
                            null === (e = Object(lr.h)(l)) || void 0 === e
                              ? void 0
                              : e.name;
                        } catch (e) {}
                        n.push([l.type + ": " + (c || l.id), v]);
                      }
                      n.sort();
                      for (
                        var u = [],
                          p = ["Item", "AppID", "Count"],
                          m = 0,
                          _ = a;
                        m < _.length;
                        m++
                      ) {
                        var g = _[m];
                        p.push(g.strLabel + " (" + g.type + ")");
                      }
                      u.push(p);
                      for (var E = 0, b = n; E < b.length; E++) {
                        for (
                          var h = b[E],
                            v = ((c = h[0]), h[1]),
                            S = t.get(v),
                            O = [
                              c,
                              (l = br(v)).id.toString(),
                              S.size.toString(),
                            ],
                            y = 0,
                            C = a;
                          y < C.length;
                          y++
                        ) {
                          g = C[y];
                          O.push(S.has(g.unique_id) ? "1" : " ");
                        }
                        u.push(O);
                      }
                      var j = Nt.a.unparse(u, { header: !0 }),
                        T = "item_locations.csv";
                      !(function (e, t) {
                        var a = document.createElement("a");
                        if (navigator.msSaveBlob) navigator.msSaveBlob(e, t);
                        else {
                          var n = window.URL.createObjectURL(e);
                          a.href = n;
                        }
                        a.setAttribute("download", t), a.click();
                        try {
                          document.removeChild(a);
                        } catch (e) {}
                      })(new Blob([j], { type: "text/csv:charset=utf-8;" }), T),
                        Object(Ie.b)(
                          d.a.createElement(Te.d, {
                            strTitle: Object(f.f)("#Sale_GameExport_Title"),
                            bAlertDialog: !0,
                            strDescription: Object(f.f)(
                              "#Sale_GameExport_FileExported",
                              T
                            ),
                          }),
                          window
                        ),
                        s();
                    },
                  })
                )
              )
            )
          );
        },
        vr = Object(I.a)(function (e) {
          var t,
            a,
            i = function (e, t, a, n, i) {
              void 0 === n && (n = !1),
                e.push({
                  strLabel: t,
                  strSectionId: a,
                  style: i,
                  bIndent: n,
                  bSectionIsVisible: ji.m_mapVisibleSections.has(a),
                });
            },
            r = e.editModel,
            o = r.GetEventModel(),
            l = new Array();
          if (
            (i(
              l,
              Object(f.f)("#Sale_PageConfigOptions"),
              "SalePageEdit_Config"
            ),
            (Object(he.a)(r.GetClanSteamID(), !1) ||
              o.GetTaggedItems().length > 0) &&
              i(
                l,
                Object(f.f)(
                  "#Sale_TaggedItemsSection",
                  o.GetTaggedItems().length
                ),
                "SalePageEdit_TaggedItems"
              ),
            Object(he.a)(r.GetClanSteamID(), !1) ||
              (null === (t = o.jsondata.sorting_tiers) || void 0 === t
                ? void 0
                : t.length) > 0)
          ) {
            var s =
              (null === (a = r.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === a
                ? void 0
                : a.length) || 0;
            i(
              l,
              Object(f.f)("#Sale_SortingTiersSection", s),
              "SalePageEdit_SortingTiers"
            );
          }
          i(
            l,
            Object(f.f)("#Sale_Artwork_Sections"),
            "SalePageEdit_AllArtworkCtn"
          );
          var d = !1;
          return (
            o.GetSaleSections().forEach(function (e, t) {
              var a = Object(ar.b)(e, r.GetCurEditLanguage(), r, t, !0),
                s = Object(n.a)(Object(n.a)({}, Object(ar.a)(e, o)), {
                  color: e.label_color,
                }),
                c = "SaleSection_" + e.unique_id;
              i(l, a, c, d, s), "tabs" === e.section_type && (d = !0);
            }),
            c.createElement(
              ke.a,
              null,
              c.createElement(ir, {
                elTopContent: c.createElement(rt, { editModel: e.editModel }),
                strHeader: Object(f.f)("#Sale_TOC"),
                rows: l,
                onSelected: function (t) {
                  e.onSelected && e.onSelected(t);
                },
                elBottomContent: c.createElement(fr, {
                  editModel: e.editModel,
                }),
              })
            )
          );
        }),
        fr = function (e) {
          var t = e.editModel,
            a = Object(G.k)(function () {
              var e = Object(n.a)(Object(n.a)({}, D.h), {
                  unique_id: t.GenerateSaleSectionUniqueID(),
                }),
                a = t.GetEventModel().jsondata.sale_sections.slice(-1)[0];
              a &&
                ((e.label_color = a.label_color),
                (e.background_gradient_bottom = a.background_gradient_bottom),
                (e.background_gradient_top = a.background_gradient_top)),
                t.GetEventModel().jsondata.sale_sections.push(e),
                t.SetDirty(T.c.jsondata_sales);
              var i = document.getElementById(
                "sale_editor_button_after_all_sections"
              );
              i && i.scrollIntoView();
            });
          return c.createElement(
            Me.q,
            { onClick: a, className: k.AddSectionButton },
            Object(f.f)("#Sale_AddNewSection")
          );
        };
      function Sr(e) {
        var t = l.c.GetEditModel();
        return c.createElement(
          "div",
          { className: H.BottomBarControls },
          c.createElement(
            "div",
            { className: H.ReoderSections },
            c.createElement(
              He.a,
              { toolTipContent: Object(f.f)("#Sale_Debug_Tooltip") },
              c.createElement(
                Me.d,
                {
                  onClick: function (e) {
                    return Object(Ie.d)(
                      c.createElement(dr, null),
                      Object(Fe.m)(e)
                    );
                  },
                },
                Object(f.f)("#Sale_Debug_Title")
              )
            )
          ),
          c.createElement(
            "div",
            { className: H.ReoderSections },
            c.createElement(
              He.a,
              { toolTipContent: Object(f.f)("#Sale_GameExport_Desc") },
              c.createElement(
                Me.d,
                {
                  onClick: function (e) {
                    return Object(Ie.d)(
                      c.createElement(hr, null),
                      Object(Fe.m)(e)
                    );
                  },
                },
                Object(f.f)("#Sale_GameExport_Title")
              )
            )
          ),
          c.createElement(
            "div",
            { className: H.ReoderSections },
            c.createElement(
              He.a,
              { toolTipContent: Object(f.f)("#Sale_ReorderSections_ttip") },
              c.createElement(
                Me.d,
                {
                  onClick: function (e) {
                    Object(Ie.d)(
                      c.createElement(Or, { editModel: t }),
                      Object(Fe.m)(e)
                    );
                  },
                },
                Object(f.f)("#Sale_ReorderSections")
              )
            )
          ),
          c.createElement(
            "div",
            { className: H.MinimizeAll },
            c.createElement(
              He.a,
              {
                toolTipContent: Object(f.f)(
                  "#Sale_Section_MinimizeAll_Tooltip"
                ),
              },
              c.createElement(
                Me.d,
                { onClick: fi.c },
                Object(f.f)("#Sale_Section_MinimizeAll")
              )
            )
          )
        );
      }
      function Or(e) {
        var t = e.editModel,
          a = e.closeModal,
          i = c.useState(Object(n.g)(t.GetSaleSections())),
          r = i[0],
          o = i[1],
          l = function () {
            (t.GetEventModel().jsondata.sale_sections = r),
              t.SetDirty(T.c.jsondata_sales),
              a();
          };
        return c.createElement(
          Te.e,
          {
            onOK: l,
            closeModal: a,
            bDisableBackgroundDismiss: !0,
            bAllowFullSize: !0,
            className: $.NotTooWideModal,
          },
          c.createElement(Me.k, null, Object(f.f)("#Sale_ReorderSections")),
          c.createElement(
            Me.b,
            null,
            c.createElement(
              "div",
              { className: H.ReorderSectionCtn },
              c.createElement(
                "div",
                { className: H.SectionList },
                c.createElement(Ja.a, {
                  items: r,
                  onMove: function (e, t) {
                    var a = Object(n.g)(r);
                    Object(Oa.d)(a, e, t), o(a);
                  },
                  render: function (e) {
                    var a = t.GetSaleSections().findIndex(function (t) {
                        return e === t;
                      }),
                      i = Object(n.a)(
                        Object(n.a)({}, Object(ar.a)(e, t.GetEventModel())),
                        { color: e.label_color }
                      );
                    return c.createElement(
                      "div",
                      { className: H.SectionTitle, style: i },
                      Object(ar.b)(e, t.GetCurEditLanguage(), t, a, !0)
                    );
                  },
                })
              ),
              c.createElement(
                "div",
                { className: H.OKButton },
                c.createElement(
                  Me.q,
                  { onClick: l },
                  Object(f.f)("#Sale_TagFilter_OK")
                )
              )
            )
          )
        );
      }
      function yr(e) {
        var t = e.editModel;
        Object(c.useEffect)(
          function () {
            fi.b.Get().EnsureLoaded(t),
              !fi.b.Get().BHasExplicitSettings(t) &&
                t.GetSaleSectionCount() > 10 &&
                Object(fi.c)();
          },
          [t]
        );
        var a = t.GetEventModel().jsondata,
          n = Object(ui.d)(function () {
            return [
              a.sale_custom_css,
              a.sale_vanity_id_valve_approved_for_sale_subpath,
              t.GetEventModel().GetSaleSections().length,
            ];
          }),
          i = n[0],
          r = n[1],
          o = n[2];
        return c.createElement(
          "div",
          { className: Object(N.a)(Oi.SaleContainer, "SaleContainer") },
          c.createElement(Ji, null),
          c.createElement(ci, {
            clanSteamID: t.GetClanSteamID(),
            gidClanEvent: t.GetGID(),
          }),
          c.createElement(wi, null),
          c.createElement(
            "div",
            { className: k.EventEditorTextTitleCtn },
            c.createElement(
              "span",
              { className: k.EventEditorTextTitle },
              Object(f.f)("#Sale_title")
            ),
            c.createElement(
              Ea.b,
              {
                href: m.c.PARTNER_BASE_URL + "doc/resources/Sales_Feature_Beta",
                className: Object(N.a)(k.doclink),
              },
              c.createElement(
                "span",
                null,
                Object(f.f)("#Broadcast_documentation")
              )
            )
          ),
          c.createElement(
            Di,
            null,
            c.createElement(
              "div",
              null,
              c.createElement(Sr, null),
              c.createElement(vr, {
                editModel: t,
                onSelected: function (e) {
                  Object(fi.a)(e.strSectionId) && Object(fi.d)(e.strSectionId);
                },
              }),
              ji.WrapWithNavWaypoint(
                "SalePageEdit_Config",
                c.createElement(xi, { strToggleID: "SalePageEdit_Config" })
              ),
              ji.WrapWithNavWaypoint(
                "SalePageEdit_TaggedItems",
                c.createElement(
                  Ci,
                  {
                    strToggleName: "SalePageEdit_TaggedItems",
                    strToolTip: Object(f.f)("#Sale_TagFilter_SectionTooltip"),
                    strTitle: Object(f.f)(
                      "#Sale_TaggedItemsSection",
                      t.GetEventModel().GetTaggedItems().length
                    ),
                  },
                  c.createElement(er.e, { editModel: t })
                )
              ),
              c.createElement(Ki, { editModel: t }),
              c.createElement(Ti, { editModel: t }),
              c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    k.EventEditorTextTitle,
                    Oi.CustomSectionsTitle
                  ),
                },
                Object(f.f)("#Sale_Sections_Title")
              ),
              0 == o
                ? c.createElement(Cr, null)
                : t
                    .GetEventModel()
                    .GetSaleSections()
                    .map(function (e, a) {
                      var n,
                        i = "SaleSection_" + e.unique_id;
                      return ji.WrapWithNavWaypoint(
                        i,
                        c.createElement(ar.d, {
                          key:
                            "salesection_" +
                            (null !== (n = e.unique_id) && void 0 !== n
                              ? n
                              : a),
                          index: a,
                          saleSection: e,
                          editModel: t,
                          editLanguage: t.GetCurEditLanguage(),
                        })
                      );
                    }),
              c.createElement(
                "div",
                {
                  id: "sale_editor_button_after_all_sections",
                  className: Oi.AddSectionBtnCtn,
                },
                c.createElement(
                  "div",
                  { className: k.SaleSectionHeader },
                  Object(f.f)("#Sale_AddNewSection_Title")
                ),
                c.createElement(
                  "p",
                  null,
                  Object(f.f)("#Sale_AddNewSection_Desc")
                ),
                c.createElement(fr, { editModel: t })
              ),
              c.createElement(jr, null),
              c.createElement(
                he.b,
                { clanSteamID: t.GetClanSteamID() },
                Boolean(r)
                  ? c.createElement(
                      "div",
                      { className: Oi.SettingCtn },
                      c.createElement(
                        "p",
                        null,
                        "(VO) Add custom CSS which is only added to the store's sale page header. Please include nocache=1 in url when viewing your latest changes on the store. Avoid targeting the generated class names like 'broadcast_embeddable_Event_1A0NY' as the 1A0NY is programmatically generated and can be changed by the compiler with future props."
                      ),
                      c.createElement("textarea", {
                        value: i || "",
                        cols: 120,
                        rows: 10,
                        onChange: function (e) {
                          t.GetEventModel().jsondata.sale_custom_css !=
                            e.currentTarget.value &&
                            ((t.GetEventModel().jsondata.sale_custom_css =
                              e.currentTarget.value),
                            t.SetDirty(T.c.jsondata_sales));
                        },
                      })
                    )
                  : c.createElement(
                      "div",
                      { className: Oi.SettingCtn },
                      c.createElement(
                        "p",
                        null,
                        "The custom CSS editor is disabled. The sale page needs to be setup to use store/sale. This is a Valve Only setting found in the General Configuration Section"
                      )
                    )
              )
            )
          )
        );
      }
      function Cr(e) {
        return c.createElement(
          "div",
          {
            id: "NoSaleSections",
            className: Object(N.a)(Oi.SaleSection, Oi.InEditor),
          },
          c.createElement(
            "div",
            { className: k.SaleSectionHeader },
            Object(f.f)("#Sale_SectionListPlaceholder_Header")
          ),
          c.createElement(
            "div",
            null,
            Object(f.f)("#Sale_SectionListPlaceholder_Content")
          )
        );
      }
      function jr(e) {
        var t = l.c.GetEditModel(),
          a = t.GetEventModel().jsondata,
          n = Object(ui.d)(function () {
            return [
              a.sale_browsemore_url,
              a.sale_browsemore_color,
              a.sale_browsemore_bgcolor,
              a.sale_browse_more_button,
            ];
          }),
          i = n[0],
          r = n[1],
          o = n[2],
          s = n[3],
          d = function (e, a) {
            (t.GetEventModel().jsondata[a] = e), t.SetDirty(T.c.jsondata_sales);
          };
        return c.createElement(
          he.b,
          { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
          c.createElement(
            "div",
            { className: Oi.SettingCtn },
            c.createElement(
              "div",
              { className: Oi.Title },
              Object(f.f)("#Sale_BrowseMore")
            ),
            c.createElement(Me.p, {
              onChange: function (e) {
                (t.GetEventModel().jsondata.sale_browse_more_button = e),
                  t.SetDirty(T.c.jsondata_sales);
              },
              label: Object(f.f)("#Sale_BrowseMore_Desc"),
              checked: s,
            }),
            s &&
              c.createElement(
                "div",
                null,
                c.createElement(Me.l, {
                  type: "text",
                  label: Object(f.f)("#Sale_BrowseMore_URL"),
                  name: "sale_browsemore_url",
                  placeholder: Object(f.f)("#Sale_BrowseMore_URL"),
                  value: i,
                  onChange: function (e) {
                    (t.GetEventModel().jsondata[e.target.name] =
                      e.target.value),
                      t.SetDirty(T.c.jsondata_sales);
                  },
                }),
                c.createElement(
                  Me.d,
                  {
                    onClick: function (e) {
                      Object(Ta.a)(
                        c.createElement(Aa.a, {
                          onChange: function (e) {
                            return d(e, "sale_browsemore_color");
                          },
                          color: r,
                        }),
                        e,
                        { bDisablePopTop: !0 }
                      );
                    },
                    className: k.EventEditorTextTitle,
                    style: { color: r, backgroundColor: o },
                  },
                  Object(f.f)("#Sale_Section_Label_Color")
                ),
                c.createElement(
                  Me.d,
                  {
                    onClick: function (e) {
                      var a = t.GetEventModel().jsondata,
                        n =
                          (a.sale_browsemore_color, a.sale_browsemore_bgcolor);
                      Object(Ta.a)(
                        c.createElement(Aa.a, {
                          onChange: function (e) {
                            return d(e, "sale_browsemore_bgcolor");
                          },
                          color: n,
                        }),
                        e,
                        { bDisablePopTop: !0 }
                      );
                    },
                    className: k.EventEditorTextTitle,
                    style: { color: r, backgroundColor: o },
                  },
                  Object(f.f)("#Sale_Section_Background_Color")
                ),
                c.createElement(tr.a, {
                  text: Object(f.f)("#Sale_SeeAllSpecials"),
                  url: "",
                  color: r,
                  bgcolor: o,
                })
              )
          )
        );
      }
      var Tr = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.m_cancelSignal = y.a.CancelToken.source()), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              m.b.IS_CURATOR &&
                _e.a.LoadCreatorHome(
                  this.props.clanSteamID,
                  this.m_cancelSignal
                );
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "Partner Events editor input pane unmounted"
              );
            }),
            (t.prototype.BCanOnlyUploadBecauseSupportUser = function () {
              var e = _e.a.GetCreatorHome(this.props.clanSteamID);
              return (
                !!(
                  m.h.is_support &&
                  m.b.CAN_UPLOAD_IMAGES &&
                  m.b.IS_CURATOR &&
                  e
                ) &&
                !(
                  e.BHasClanAccountFlagSet(2) ||
                  e.BHasClanAccountFlagSet(1) ||
                  e.BHasClanAccountFlagSet(4) ||
                  e.GetNumFollowers() >= 15e3
                )
              );
            }),
            (t.prototype.BIsSalePageFeatureVisible = function () {
              if (l.c.GetEditModel().GetEventModel().BHasSaleEnabled())
                return !0;
              var e = _e.a.GetCreatorHome(this.props.clanSteamID);
              return !(!e || !e.BHasClanAccountFlagSet(32));
            }),
            (t.prototype.render = function () {
              var e,
                t = l.c.GetEditModel(),
                a = t.GetEventModel(),
                n = !h.a.Get().BShowEmailEditorTab(t.GetEventModel()),
                i = !h.a.Get().BShowSaleEditorTab(t.GetEventModel());
              m.b.IS_CREATOR_HOME && (i = !1);
              var r = h.a.Get().GetPartnerEventPermissions(a.clanSteamID),
                o = t.GetDescriptionCompletion(),
                s = t.GetOptionsCompletion(),
                d = 12 === t.GetEventType() ? void 0 : t.GetArtworkCompletion(),
                u = t.GetSaleTabCompletion(),
                p = a.clanSteamID;
              v.a.LoadClanInfoForClanSteamID(p);
              var _ = Boolean(
                  null ===
                    (e = v.a.GetClanInfoByClanAccountID(p.GetAccountID())) ||
                    void 0 === e
                    ? void 0
                    : e.has_rss_feed
                ),
                g = function (e) {
                  return window.sessionStorage.setItem(
                    "editorCurrentTab",
                    "?tab=" + e.key
                  );
                },
                E = [
                  {
                    name: Object(f.f)("#EventEditor_Description_tab"),
                    key: "description",
                    status: o.text,
                    statusType: o.complete >= o.total ? "success" : "danger",
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(Xa, {
                        editModel: t,
                        bInitiatePublishDialog: this.props
                          .bInitiatePublishDialog,
                        bCanManuallyTagAssociatedApps: _,
                      })
                    ),
                    onClick: g,
                  },
                  {
                    name: Object(f.f)("#EventEditor_Options_Title"),
                    key: "options",
                    status: s ? s.text : "",
                    statusType:
                      s && s.complete >= s.total ? "success" : "danger",
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(Qn, { editModel: t }),
                      c.createElement("div", { className: L.a.ClearThings })
                    ),
                    onClick: g,
                  },
                  {
                    name: Object(f.f)("#EventEditor_Artwork"),
                    key: "artwork",
                    status: d ? d.text : "",
                    statusType:
                      d && d.complete >= d.total ? "success" : "danger",
                    hidden: !m.b.CAN_UPLOAD_IMAGES,
                    vo_warning:
                      this.BCanOnlyUploadBecauseSupportUser() &&
                      Object(f.f)("#EventEditor_CuratorImageWarning"),
                    contents: c.createElement(Gr, { editModel: t }),
                    onClick: g,
                  },
                  {
                    name: Object(f.f)("#Broadcast_tab"),
                    key: "broadcast",
                    status: "",
                    statusType: "success",
                    hidden: !m.b.CAN_UPLOAD_IMAGES,
                    vo_warning:
                      this.BCanOnlyUploadBecauseSupportUser() &&
                      Object(f.f)("#EventEditor_CuratorImageWarning"),
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(La, { editModel: t })
                    ),
                    onClick: g,
                  },
                  {
                    name:
                      (a.BHasEmailEnabled() ? "" : "(VO) ") +
                      Object(f.f)("#EventEmail_TabTitle"),
                    key: "email",
                    status: "",
                    statusType: "success",
                    hidden: n,
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(In, { editModel: t })
                    ),
                    onClick: g,
                  },
                  {
                    name:
                      (this.BIsSalePageFeatureVisible() ? "" : "(VO) ") +
                      Object(f.f)("#Sale_TabTitle"),
                    key: "sale",
                    status: u ? u.text : "",
                    statusType:
                      u && u.complete >= u.total ? "success" : "danger",
                    statusToolTip: null == u ? void 0 : u.ttip,
                    hidden: i,
                    vo_warning:
                      this.BCanOnlyUploadBecauseSupportUser() &&
                      Object(f.f)("#EventEditor_CuratorImageWarning"),
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(yr, { editModel: t })
                    ),
                    onClick: g,
                  },
                  {
                    name: Object(f.f)("#Button_Publish"),
                    key: "publishing",
                    status: "",
                    statusType: "success",
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(bi, { editModel: t })
                    ),
                    onClick: g,
                  },
                  {
                    name: "(VO) Debug",
                    key: "debug",
                    status: "",
                    statusType: "success",
                    hidden: !r.valve_admin,
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(la, { editModel: t })
                    ),
                    onClick: g,
                  },
                  {
                    name: "(VO) Solr",
                    key: "solr",
                    status: "",
                    statusType: "success",
                    hidden: !r.valve_admin || !a.GID,
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(ca, { editModel: t })
                    ),
                    onClick: g,
                  },
                ];
              return c.createElement(
                "div",
                { className: V.a.EventEditorInputPaneContainer },
                c.createElement(
                  "div",
                  { className: V.a.EventEditorInputPaneContents },
                  c.createElement(pa.a, { tabs: E }),
                  c.createElement("div", { className: L.a.ClearThings })
                ),
                c.createElement(
                  "div",
                  { className: Object(N.a)(L.a.SaveBackground) },
                  c.createElement(Ha, null)
                )
              );
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Ir =
          (c.Component,
          Object(I.a)(function (e) {
            Object(c.useEffect)(
              function () {
                v.a.LoadOGGClanInfoForIdentifier(e.appid_or_vanity_str);
              },
              [e.appid_or_vanity_str]
            );
            var t = e.clanSteamID,
              a = e.gid,
              n = e.appid,
              i = e.bInitiatePublishDialog,
              r = e.appid_or_vanity_str,
              s = !(m.b.IS_CREATOR_HOME || m.b.IS_CURATOR)
                ? u.a.GetStoreCapsuleInfo(n).GetAppStoreData().title
                : m.b.VANITY_ID,
              d = l.c.GetEditModel(),
              p = d.GetEventModel().bOldAnnouncement;
            return c.createElement(
              "div",
              { className: Object(N.a)(V.a.wrapper) },
              c.createElement(Ua, {
                clanSteamID: t,
                appid: n,
                gid: a,
                appid_or_vanity_str: r,
              }),
              c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    L.a.FlexColumnContainer,
                    V.a.EventEditBelowTopBarContainer
                  ),
                },
                c.createElement(
                  "div",
                  { className: V.a.EventEditBelowTopBarGameName },
                  s
                ),
                c.createElement(
                  me.b,
                  {
                    className: V.a.EventEditBelowTopBarCategoryChoice,
                    to: p
                      ? o.a.MigrateCategory(
                          d.GetStrVanityOrAppID(),
                          d.GetAnnouncementGID()
                        )
                      : o.a.Category(
                          d.GetStrVanityOrAppID(),
                          d.BHasGid() ? d.GetGID() : ""
                        ),
                  },
                  c.createElement(
                    "span",
                    null,
                    Object(f.f)("#EventEditor_TypeTitle"),
                    " "
                  ),
                  d.GetCategoryAsString(),
                  c.createElement("img", { src: _a.a })
                ),
                c.createElement("div", null)
              ),
              c.createElement(
                "div",
                { className: V.a.maincontent },
                c.createElement(Tr, {
                  appid_or_vanity_str: r,
                  appid: n,
                  gid: a,
                  bInitiatePublishDialog: i,
                  clanSteamID: t,
                })
              ),
              c.createElement("div", null)
            );
          })),
        Dr = S(
          (function (e) {
            function t() {
              var t = (null !== e && e.apply(this, arguments)) || this;
              return (t.m_clanSteamID = new g.a(m.b.CLANSTEAMID)), t;
            }
            return (
              Object(n.d)(t, e),
              (t.prototype.render = function () {
                return c.createElement(Ir, {
                  appid_or_vanity_str: this.props.match.params
                    .appid_or_vanity_str,
                  appid: m.b.APPID,
                  gid: this.props.match.params.gid,
                  clanSteamID: this.m_clanSteamID,
                  bInitiatePublishDialog: this.props.bInitiatePublishDialog,
                });
              }),
              (t = Object(n.c)([I.a], t))
            );
          })(c.Component)
        ),
        wr = (function (e) {
          function t(t) {
            var a = e.call(this, t) || this;
            return (
              (a.m_bRedirect = !1),
              (a.m_bRedirect =
                void 0 === l.c.GetEditModel() ||
                1 == l.c.GetEditModel().GetCategoryAsType()),
              a
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              return this.m_bRedirect
                ? c.createElement(pe.b, {
                    to: o.a.Category(
                      this.props.match.params.appid_or_vanity_str,
                      ""
                    ),
                  })
                : c.createElement(Dr, Object(n.a)({}, this.props));
            }),
            t
          );
        })(c.Component);
      function Gr(e) {
        var t = e.editModel,
          a = ["background", "capsule"];
        return (
          Boolean(m.b.IS_OGG) && 34 != t.GetEventType() && a.push("spotlight"),
          c.createElement(
            ke.a,
            null,
            c.createElement(
              "div",
              { className: V.a.ArtworkTipsCtn },
              c.createElement(
                "div",
                { className: V.a.ArtworkTips },
                c.createElement(
                  "p",
                  null,
                  c.createElement(
                    "strong",
                    null,
                    Object(f.f)("#selectimage_tip3_title")
                  ),
                  ": ",
                  Object(f.n)(
                    "#selectimage_tip3",
                    c.createElement(
                      "span",
                      null,
                      c.createElement("br", null),
                      c.createElement(
                        "a",
                        {
                          target: m.c.IN_CLIENT ? void 0 : "_blank",
                          href:
                            "https://partner.steamgames.com/doc/store/localization#supported_languages",
                        },
                        Object(f.f)("#selectimage_see_documentation")
                      )
                    )
                  )
                ),
                c.createElement(
                  "p",
                  null,
                  c.createElement(
                    "a",
                    {
                      href:
                        m.c.IMG_URL + "events/event_header_template.zip?t=14",
                      download: !0,
                    },
                    Object(f.f)("#selectimage_downloadtemplate")
                  )
                )
              ),
              c.createElement(
                "a",
                {
                  href:
                    "https://partner.steamgames.com/doc/marketing/event_tools/event_examples",
                  className: V.a.ArtworkDocs,
                  target: m.c.IN_CLIENT ? void 0 : "_blank",
                },
                c.createElement(
                  "div",
                  { className: V.a.ArtworkExampleCtn },
                  c.createElement("img", {
                    className: V.a.ArtworkExampleThumbnail,
                    src: m.c.IMG_URL + "events/thumb_library_home.jpg",
                  })
                ),
                c.createElement(
                  "div",
                  { className: V.a.ArtworkExampleTitle },
                  Object(f.f)("#selectimage_viewExamples")
                )
              )
            ),
            c.createElement(ga.b, {
              clanSteamID: t.GetClanSteamID(),
              rgSupportArtwork: a,
              fnSetImageURL: t.SetImageURL,
              rgRealmList: t.GetIncludedRealmList(),
            }),
            c.createElement(Sa.b, {
              clanSteamID: t.GetClanSteamID(),
              title: Object(f.f)("#EventEditor_ArtworkType_capsule"),
              artworkType: "capsule",
              headerHint: Object(B.c)(
                t.GetEventType(),
                t.GetEventModel().vecTags
              )
                ? Sa.a.k_Required
                : void 0,
              elEventArtworkExample: c.createElement(va, {
                artworkType: "capsule",
              }),
            }),
            c.createElement(Sa.b, {
              clanSteamID: t.GetClanSteamID(),
              title: Object(f.f)("#EventEditor_ArtworkType_background"),
              artworkType: "background",
              headerHint: Sa.a.k_Suggested,
              elEventArtworkExample: c.createElement(va, {
                artworkType: "background",
              }),
            }),
            Boolean(34 == t.GetEventType())
              ? c.createElement(
                  "div",
                  { className: ha.a.ArtworkSelectorContainer },
                  c.createElement(
                    "div",
                    { className: ha.a.Title },
                    Object(f.f)("#EventEditor_ArtworkType_spotlight")
                  ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(ha.a.SelectImageBlock, ha.a.Tips),
                    },
                    Object(f.f)(
                      "#EventEditor_ArtworkType_SpotlightNotSupport",
                      t.GetCategoryAsString()
                    )
                  ),
                  c.createElement("br", null)
                )
              : Boolean(m.b.IS_OGG) &&
                  c.createElement(Sa.b, {
                    clanSteamID: t.GetClanSteamID(),
                    title: Object(f.f)("#EventEditor_ArtworkType_spotlight"),
                    artworkType: "spotlight",
                    headerHint: Object(B.d)(t.GetEventType())
                      ? Sa.a.k_Suggested
                      : void 0,
                    elEventArtworkExample: c.createElement(va, {
                      artworkType: "spotlight",
                    }),
                  }),
            Boolean(m.b.IS_OGG) &&
              c.createElement(Sa.b, {
                clanSteamID: t.GetClanSteamID(),
                title: Object(f.f)("#EventEditor_ArtworkType_hero"),
                artworkType: "hero",
              })
          )
        );
      }
      var Ar = "age_gate_",
        Mr = new ((function () {
          function e() {
            (this.m_promiseMap = new Map()),
              (this.m_mapAppIDAgeGateByPass = new Map());
          }
          return (
            (e.prototype.GetAppIDBypassed = function (e) {
              if (!this.m_mapAppIDAgeGateByPass.has(e)) {
                var t = sessionStorage.getItem(Ar + e);
                this.m_mapAppIDAgeGateByPass.set(e, Boolean(t));
              }
              return this.m_mapAppIDAgeGateByPass.get(e);
            }),
            (e.prototype.SetAgeGateAppBypass = function (e, t, a) {
              return Object(n.b)(this, void 0, void 0, function () {
                var i, r;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        sessionStorage.setItem(Ar + e, "" + t),
                        (i =
                          m.c.COMMUNITY_BASE_URL +
                          "actions/ajaxsetappagegatebypass/"),
                        (r = new URLSearchParams()).append(
                          "sessionid",
                          m.c.SESSIONID
                        ),
                        r.append("appid", "" + e),
                        r.append("bypass", t ? "1" : "0"),
                        [
                          4,
                          y.a.post(i, r, {
                            withCredentials: !0,
                            cancelToken: a.token,
                          }),
                        ]
                      );
                    case 1:
                      return [2, n.sent().data.success];
                  }
                });
              });
            }),
            (e.prototype.LoadAgeGatesBypassedForApp = function (e, t) {
              return Object(n.b)(this, void 0, void 0, function () {
                return Object(n.e)(this, function (a) {
                  return (
                    this.m_promiseMap.has(e) ||
                      this.m_promiseMap.set(
                        e,
                        this.InternalLoadAgeGatesBypassedForApp(e, t)
                      ),
                    [2, this.m_promiseMap.get(e)]
                  );
                });
              });
            }),
            (e.prototype.InternalLoadAgeGatesBypassedForApp = function (e, t) {
              return Object(n.b)(this, void 0, void 0, function () {
                var a,
                  i,
                  r,
                  o = this;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (a =
                          m.c.COMMUNITY_BASE_URL +
                          "my/ajaxgetappagegatesbypassed/"),
                        (i = { sessionid: m.c.SESSIONID, appids: [e] }),
                        [
                          4,
                          y.a.get(a, {
                            params: i,
                            withCredentials: !0,
                            cancelToken: t.token,
                          }),
                        ]
                      );
                    case 1:
                      return (
                        (r = n.sent()).data.apps &&
                          Object(G.G)(function () {
                            r.data.apps.forEach(function (t) {
                              var a = Boolean(t.bypassed);
                              o.m_mapAppIDAgeGateByPass.set(t.appid, a),
                                sessionStorage.setItem(Ar + e, "" + a);
                            });
                          }),
                        [2, Boolean(this.m_mapAppIDAgeGateByPass.get(e))]
                      );
                  }
                });
              });
            }),
            (e.prototype.SessionByPassCheck = function (e) {
              this.m_mapAppIDAgeGateByPass.set(e, !0),
                sessionStorage.setItem(Ar + e, "" + !0);
            }),
            e
          );
        })())(),
        kr = "community_preference_storage",
        Lr = new ((function () {
          function e() {
            if (
              ((this.m_myCommunityPreferences = Object(G.C)({
                hide_adult_content_violence: !0,
                hide_adult_content_sex: !0,
                parenthesize_nicknames: !1,
                timestamp_updated: 0,
              })),
              localStorage.length > 0)
            ) {
              var e = JSON.parse(localStorage.getItem(kr));
              e && (this.BIsStale(e) || this.CopyValue(e));
            }
          }
          return (
            (e.prototype.BIsStale = function (e) {
              var t = Math.floor(Date.now() / 1e3);
              return e.timestamp_updated < t - 3600;
            }),
            (e.prototype.CopyValue = function (e) {
              var t = this;
              Object(G.G)(function () {
                (t.m_myCommunityPreferences.hide_adult_content_sex =
                  e.hide_adult_content_sex),
                  (t.m_myCommunityPreferences.hide_adult_content_violence =
                    e.hide_adult_content_violence),
                  (t.m_myCommunityPreferences.parenthesize_nicknames =
                    e.parenthesize_nicknames),
                  (t.m_myCommunityPreferences.timestamp_updated =
                    e.timestamp_updated);
              });
            }),
            (e.prototype.InternalLoadMyCommunityPreferences = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t,
                  a,
                  i,
                  r = this;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return m.h.logged_in &&
                        this.BIsStale(this.m_myCommunityPreferences)
                        ? ((t =
                            m.c.COMMUNITY_BASE_URL +
                            "my/ajaxgetcommunitypreference/"),
                          (a = { sessionid: m.c.SESSIONID }),
                          [
                            4,
                            y.a.get(t, {
                              params: a,
                              withCredentials: !0,
                              cancelToken: e ? e.token : void 0,
                            }),
                          ])
                        : [3, 2];
                    case 1:
                      (i = n.sent()),
                        Object(G.G)(function () {
                          r.CopyValue(i.data.preferences),
                            (r.m_myCommunityPreferences.timestamp_updated = Math.floor(
                              Date.now() / 1e3
                            )),
                            localStorage.setItem(
                              kr,
                              JSON.stringify(r.m_myCommunityPreferences)
                            );
                        }),
                        (n.label = 2);
                    case 2:
                      return [2, this.m_myCommunityPreferences];
                  }
                });
              });
            }),
            (e.prototype.LoadMyCommunityPreferences = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                return Object(n.e)(this, function (t) {
                  return (
                    this.m_promise ||
                      (this.m_promise = this.InternalLoadMyCommunityPreferences(
                        e
                      )),
                    [2, this.m_promise]
                  );
                });
              });
            }),
            (e.prototype.GetCommunityPreference = function () {
              return (
                this.m_promise ||
                  (this.m_promise = this.InternalLoadMyCommunityPreferences()),
                this.m_myCommunityPreferences
              );
            }),
            e
          );
        })())(),
        Nr = a("wYOC"),
        Br = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bDontWarnAgain: !1,
                bLoadingUserSettings: m.h.logged_in,
                bSettingBypass: !1,
              }),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.BIsAgeGateNeeded = function (e) {
              if (Mr.GetAppIDBypassed(e)) return !1;
              if (m.b.HAS_ADULT_CONTENT_SEX || m.b.HAS_ADULT_CONTENT_VIOLENCE) {
                var t = Lr.GetCommunityPreference();
                return (
                  (m.b.HAS_ADULT_CONTENT_SEX && t.hide_adult_content_sex) ||
                  (m.b.HAS_ADULT_CONTENT_VIOLENCE &&
                    t.hide_adult_content_violence)
                );
              }
              return m.b.HAS_ADULT_CONTENT;
            }),
            (t.prototype.componentDidMount = function () {
              var e = this.props,
                t = e.bHasAdultContent,
                a = e.bHasAdultContentViolence,
                n = e.bHasAdultContentSex;
              (t || n || a) && this.LoadUserCommunityVisibilityPreferences();
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "CommunityAgeGate component unmounted"
              );
            }),
            (t.prototype.LoadUserCommunityVisibilityPreferences = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, a, i, r, o, l, s, c;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        n.trys.push([0, 2, 3, 4]),
                        (e = this.props),
                        (a = e.onSetOverrideCancelSource),
                        (i = e.appid),
                        (r = e.fnOnDismissAgeGate),
                        (o = Lr.LoadMyCommunityPreferences(a)),
                        (l = Mr.LoadAgeGatesBypassedForApp(i, a)),
                        [4, Promise.all([o, l])]
                      );
                    case 1:
                      return (
                        n.sent(),
                        this.m_cancelSignal.token.reason ||
                          t.BIsAgeGateNeeded(i) ||
                          r(),
                        [3, 4]
                      );
                    case 2:
                      return (
                        (s = n.sent()),
                        (c = Object(p.a)(s)),
                        console.error(
                          "CommunityAgeGate.LoadUserCommunityVisibilityPreferences: " +
                            c.strErrorMsg,
                          c
                        ),
                        [3, 4]
                      );
                    case 3:
                      return (
                        this.m_cancelSignal.token.reason ||
                          this.setState({ bLoadingUserSettings: !1 }),
                        [7]
                      );
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnWarnChange = function (e) {
              var t = this,
                a = e.target.checked;
              this.setState(
                { bDontWarnAgain: a, bSettingBypass: !0 },
                function () {
                  return t.HandleOverrideSetting(a);
                }
              );
            }),
            (t.prototype.HandleOverrideSetting = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t, a, i, r, o, l;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      (t = this.props),
                        (a = t.appid),
                        (i = t.onSetOverrideCancelSource),
                        (n.label = 1);
                    case 1:
                      return (
                        n.trys.push([1, 3, 4, 5]),
                        [4, Mr.SetAgeGateAppBypass(a, e, i)]
                      );
                    case 2:
                      return (
                        1 !== (r = n.sent()) &&
                          console.error(
                            "CommunityAgeGate.HandleOverrideSetting: " + r
                          ),
                        [3, 5]
                      );
                    case 3:
                      return (
                        (o = n.sent()),
                        (l = Object(p.a)(o)),
                        console.error("CommunityAgeGate: " + l.strErrorMsg, l),
                        [3, 5]
                      );
                    case 4:
                      return (
                        this.m_cancelSignal.token.reason ||
                          this.setState({ bSettingBypass: !1 }),
                        [7]
                      );
                    case 5:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnDismiss = function () {
              var e = this.props.appid;
              Mr.SessionByPassCheck(e), this.props.fnOnDismissAgeGate();
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = (e.appid, e.bHasAdultContent),
                a = e.bHasAdultContentViolence,
                n = e.bHasAdultContentSex,
                i = e.strUrlHeaderImage;
              if (t || n || a)
                return d.a.createElement(
                  "div",
                  { className: Nr.adult_content_age_gate },
                  i.length > 0
                    ? d.a.createElement("img", {
                        className: Nr.header_image,
                        src: i,
                      })
                    : d.a.createElement("h2", null, m.b.APP_NAME),
                  d.a.createElement(
                    "p",
                    { className: Nr.descriptor },
                    Object(f.f)("#AgeGate_Content"),
                    d.a.createElement("br", null),
                    a &&
                      n &&
                      Object(f.n)(
                        "#AgeGate_MayContain_4",
                        d.a.createElement(
                          "span",
                          { className: Nr.strong },
                          Object(f.f)("#AgeGate_Sex")
                        ),
                        d.a.createElement(
                          "span",
                          { className: Nr.strong },
                          Object(f.f)("#AgeGate_Nudity")
                        ),
                        d.a.createElement(
                          "span",
                          { className: Nr.strong },
                          Object(f.f)("#AgeGate_Violence")
                        ),
                        d.a.createElement(
                          "span",
                          { className: Nr.strong },
                          Object(f.f)("#AgeGate_Gore")
                        )
                      ),
                    Boolean(!a && n) &&
                      Object(f.n)(
                        "#AgeGate_MayContain_2",
                        d.a.createElement(
                          "span",
                          { className: Nr.strong },
                          Object(f.f)("#AgeGate_Sex")
                        ),
                        d.a.createElement(
                          "span",
                          { className: Nr.strong },
                          Object(f.f)("#AgeGate_Nudity")
                        )
                      ),
                    Boolean(a && !n) &&
                      Object(f.n)(
                        "#AgeGate_MayContain_2",
                        d.a.createElement(
                          "span",
                          { className: Nr.strong },
                          Object(f.f)("#AgeGate_Violence")
                        ),
                        d.a.createElement(
                          "span",
                          { className: Nr.strong },
                          Object(f.f)("#AgeGate_Gore")
                        )
                      ),
                    Boolean(t && !n && !a) &&
                      d.a.createElement(
                        d.a.Fragment,
                        null,
                        Object(f.f)("#AgeGate_Generic1"),
                        d.a.createElement("br", null),
                        Object(f.f)("#AgeGate_Generic2")
                      )
                  ),
                  d.a.createElement("input", {
                    className: Nr.checkbox,
                    type: "checkbox",
                    id: "ViewAllForApp",
                    checked: this.state.bDontWarnAgain,
                    onChange: this.OnWarnChange,
                  }),
                  d.a.createElement(
                    "label",
                    { htmlFor: "ViewAllForApp" },
                    this.state.bSettingBypass &&
                      d.a.createElement(_.a, { size: "small" }),
                    d.a.createElement(
                      "span",
                      null,
                      Object(f.f)("#AgeGate_DontWarnMe", m.b.APP_NAME)
                    )
                  ),
                  d.a.createElement(
                    "div",
                    {
                      className: Object(N.a)(k.FlexRowContainer, Nr.ButtonRow),
                    },
                    d.a.createElement(
                      "div",
                      { className: k.Button, onClick: this.OnDismiss },
                      Object(f.f)("#Button_ViewPage")
                    ),
                    d.a.createElement(
                      "a",
                      { className: k.Button, href: m.c.COMMUNITY_BASE_URL },
                      Object(f.f)("#Button_Cancel")
                    )
                  ),
                  d.a.createElement(
                    "div",
                    { className: Nr.edit_preference },
                    d.a.createElement(
                      "div",
                      null,
                      Object(f.f)("#AgeGate_Reason")
                    ),
                    d.a.createElement(
                      "a",
                      {
                        className: Nr.edit_link,
                        href:
                          m.c.STORE_BASE_URL +
                          "account/preferences#CommunityContentPreferences",
                        target: m.c.IN_CLIENT ? void 0 : "_blank",
                      },
                      Object(f.f)("#AgeGate_Edit")
                    )
                  ),
                  this.state.bLoadingUserSettings &&
                    d.a.createElement(_.a, {
                      position: "center",
                      string: Object(f.f)("#AgeGate_LoadingPreferences"),
                    })
                );
            }),
            Object(n.c)([R.a], t.prototype, "OnWarnChange", null),
            Object(n.c)([R.a], t.prototype, "OnDismiss", null),
            t
          );
        })(d.a.Component);
      function Rr(e, t, a, i, r) {
        return Object(n.b)(this, void 0, void 0, function () {
          var o, s, c, d;
          return Object(n.e)(this, function (n) {
            switch (n.label) {
              case 0:
                return l.c.BHasEditModel() &&
                  l.c.GetEditModel().GetAnnouncementGID() == e
                  ? [2, void 0]
                  : [
                      4,
                      Promise.all([
                        0 != t ? u.a.EnsureStoreCapsuleInfoLoaded(t) : void 0,
                        v.a.LoadClanInfoForClanSteamID(a),
                        h.a.Get().LoadSingleAppEventPermissions(a),
                        l.c.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                          a,
                          e,
                          Object(Ft.a)()
                        ),
                      ]),
                    ];
              case 1:
                return (
                  (o = n.sent()),
                  o[0],
                  o[1],
                  (s = o[2]),
                  !(c = o[3]) || c.bOldAnnouncement || r
                    ? s.can_edit || s.support_user
                      ? [
                          4,
                          l.c.LoadClanEventLocalizationFromAnnouncementGID(
                            a,
                            e
                          ),
                        ]
                      : [3, 3]
                    : [2, c.GID]
                );
              case 2:
                (d = n.sent()), (n.label = 3);
              case 3:
                return (
                  (function (e, t) {
                    l.c.ResetModel(e.GID, e.clanSteamID);
                    var a = l.c.GetEditModel();
                    if ((a.Refresh(e), null != t)) {
                      for (var n = 0, i = t; n < i.length; n++) {
                        var r = i[n];
                        a.SetName(r.language, r.headline),
                          a.SetDescription(r.language, r.body);
                      }
                      a.GetEventModel().loadedAllLanguages = !0;
                    }
                    a.SetMigrated(Date.now() / 1e3);
                  })(c, d),
                  i && l.c.GetEditModel().ClearDirty(),
                  [2, void 0]
                );
            }
          });
        });
      }
      var Fr = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_clanSteamID = new g.a(m.b.CLANSTEAMID)),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.HandleLoad = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a, i, r, o, l, s;
                return Object(n.e)(this, function (c) {
                  switch (c.label) {
                    case 0:
                      (e = this.props),
                        (t = e.match),
                        (a = e.bClearDirty),
                        (i = e.bPreventRedirect),
                        (c.label = 1);
                    case 1:
                      return (
                        c.trys.push([1, 3, , 4]),
                        (r = m.b.APPID),
                        [
                          4,
                          Rr(
                            t.params.oldAnnouncementGID,
                            r,
                            this.m_clanSteamID,
                            a,
                            i
                          ),
                        ]
                      );
                    case 2:
                      return (
                        (o = c.sent()),
                        this.setState({ redirectToGIDEvent: o, bLoading: !1 }),
                        [3, 4]
                      );
                    case 3:
                      return (
                        (l = c.sent()),
                        (s = Object(p.a)(l)),
                        console.error(
                          "OldAnnouncementMigrationBaseClass: " + s.strErrorMsg,
                          s
                        ),
                        this.setState(Object(n.a)({ bLoading: !1 }, s)),
                        [3, 4]
                      );
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.componentDidMount = function () {
              this.HandleLoad();
            }),
            (t.prototype.componentDidUpdate = function (e) {
              e.match.params.oldAnnouncementGID !=
                e.match.params.oldAnnouncementGID && this.HandleLoad();
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "OldAnnouncementMigrationBaseClass unmounted"
              );
            }),
            (t.prototype.DismissAgeGate = function () {
              this.setState({ bShowAgeGate: !1 });
            }),
            (t.prototype.render = function () {
              return this.state.bShowAgeGate
                ? c.createElement(Br, {
                    bHasAdultContent: m.b.HAS_ADULT_CONTENT,
                    bHasAdultContentSex: m.b.HAS_ADULT_CONTENT_SEX,
                    bHasAdultContentViolence: m.b.HAS_ADULT_CONTENT_VIOLENCE,
                    appid: m.b.APPID,
                    fnOnDismissAgeGate: this.DismissAgeGate,
                    strUrlHeaderImage: m.b.HEADER_IMAGE,
                    onSetOverrideCancelSource: this.m_cancelSignal,
                  })
                : this.state.bLoading
                ? c.createElement(
                    "div",
                    { className: r.a.FlexCenter, style: { height: "400px" } },
                    c.createElement(_.a, {
                      position: "center",
                      size: "medium",
                      string: Object(f.f)("#Loading"),
                    })
                  )
                : null != this.state.strErrorMsg
                ? c.createElement(E.b, {
                    strErrorMsg: this.state.strErrorMsg,
                    errorCode: this.state.errorCode,
                    appid_or_vanity_str: this.props.match.params
                      .appid_or_vanity_str,
                  })
                : null != this.state.redirectToGIDEvent
                ? this.GetRedirectRender()
                : void 0;
            }),
            Object(n.c)([R.a], t.prototype, "DismissAgeGate", null),
            t
          );
        })(c.Component),
        Pr = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { bLoading: !0, bShowAgeGate: !1 }), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.GetRedirectRender = function () {
              return c.createElement(pe.b, {
                push: !0,
                to: o.a.Edit(
                  this.props.match.params.appid_or_vanity_str,
                  this.state.redirectToGIDEvent
                ),
              });
            }),
            (t.prototype.render = function () {
              var t = e.prototype.render.call(this);
              return null != t
                ? t
                : c.createElement(Ir, {
                    appid: m.b.APPID,
                    appid_or_vanity_str: this.props.match.params
                      .appid_or_vanity_str,
                    gid: "",
                    clanSteamID: this.m_clanSteamID,
                  });
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(Fr),
        xr = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bLoading: !0,
                bShowAgeGate:
                  !t.props.bPreview && Br.BIsAgeGateNeeded(m.b.APPID),
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.GetRedirectRender = function () {
              return c.createElement(pe.b, {
                push: !0,
                to: o.a.View(
                  this.props.match.params.appid_or_vanity_str,
                  this.state.redirectToGIDEvent
                ),
              });
            }),
            (t.prototype.componentDidMount = function () {
              e.prototype.componentDidMount.call(this),
                l.c.GetEditModel() &&
                  0 == this.props.bPreview &&
                  l.c.GetEditModel().ClearDirty();
            }),
            (t.prototype.componentDidUpdate = function () {
              l.c.GetEditModel() &&
                0 == this.props.bPreview &&
                l.c.GetEditModel().ClearDirty();
            }),
            (t.prototype.render = function () {
              var t = e.prototype.render.call(this);
              if (void 0 !== t) return t;
              if (this.props.bPreview)
                return c.createElement(na, {
                  editModel: l.c.GetEditModel(),
                  bDisplaySale: !1,
                  appid_or_vanity_str: this.props.match.params
                    .appid_or_vanity_str,
                  gid: "",
                });
              var a = l.c.GetEditModel().GetEventModel();
              return c.createElement(Wt.a, {
                event: a,
                lang: Object(Ae.d)(m.c.LANGUAGE),
                partnerEventStore: l.c,
                emoticonStore: qt.b,
                adminPanel: c.createElement(Yt.a, {
                  eventModel: a,
                  partnerEventStore: l.c,
                }),
                otherEventRow: c.createElement(Jt.a, {
                  clanAccountID: a.clanSteamID.GetAccountID(),
                  gidAnnouncement: a.GetAnnouncementGID(),
                  trackingLocation: 6,
                  partnerEventStore: l.c,
                  bViewAllShowInfiniteScroll: !a.BIsOGGEvent(),
                }),
              });
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(Fr),
        Ur = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { bLoading: !0, bShowAgeGate: !1 }), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.GetRedirectRender = function () {
              return c.createElement(pe.b, {
                push: !0,
                to: o.a.Category(
                  this.props.match.params.appid_or_vanity_str,
                  this.state.redirectToGIDEvent
                ),
              });
            }),
            (t.prototype.render = function () {
              var t = e.prototype.render.call(this);
              return null != t
                ? t
                : c.createElement(Se, {
                    match: this.props.match,
                    editModel: l.c.GetEditModel(),
                  });
            }),
            (t = Object(n.c)([I.a], t))
          );
        })(Fr),
        Hr = S(
          (function (e) {
            function t() {
              var t = (null !== e && e.apply(this, arguments)) || this;
              return (t.m_clanSteamID = new g.a(m.b.CLANSTEAMID)), t;
            }
            return (
              Object(n.d)(t, e),
              (t.prototype.componentDidMount = function () {
                l.c.GetEditModel() &&
                  "view" === this.props.mode &&
                  l.c.GetEditModel().ClearDirty();
              }),
              (t.prototype.componentDidUpdate = function (e) {
                l.c.GetEditModel() &&
                  "view" === this.props.mode &&
                  l.c.GetEditModel().ClearDirty();
              }),
              (t.prototype.render = function () {
                var e = this.props.mode;
                if ("view" === e) {
                  var t = l.c.GetEditModel().GetEventModel(),
                    a = Object(Ae.d)(m.c.LANGUAGE);
                  return t.BHasSaleEnabled()
                    ? c.createElement(
                        ke.a,
                        null,
                        c.createElement(Kt.b, {
                          eventModel: t,
                          bIsPreview: !0,
                          language: a,
                        })
                      )
                    : c.createElement(
                        c.Fragment,
                        null,
                        c.createElement(Wt.a, {
                          event: t,
                          lang: a,
                          partnerEventStore: l.c,
                          emoticonStore: qt.b,
                          adminPanel: c.createElement(Yt.a, {
                            eventModel: t,
                            partnerEventStore: l.c,
                          }),
                          otherEventRow: c.createElement(Jt.a, {
                            clanAccountID: t.clanSteamID.GetAccountID(),
                            trackingLocation: 6,
                            gidAnnouncement: t.AnnouncementGID,
                            partnerEventStore: l.c,
                            bViewAllShowInfiniteScroll: !t.BIsOGGEvent(),
                          }),
                        })
                      );
                }
                return c.createElement(na, {
                  editModel: l.c.GetEditModel(),
                  appid_or_vanity_str: this.props.match.params
                    .appid_or_vanity_str,
                  gid: this.props.match.params.gid,
                  bDisplaySale: "previewsale" === e,
                });
              }),
              (t = Object(n.c)([I.a], t))
            );
          })(c.Component)
        ),
        Vr = function (e) {
          return c.createElement(
            xr,
            Object(n.a)({}, e, {
              key: e.match.params.oldAnnouncementGID,
              bClearDirty: !0,
              bPreview: !1,
              bPreventRedirect: !0,
            })
          );
        },
        zr = a("WBba"),
        Wr = (a("mRR+"), a("r3N9")),
        qr = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bShowModal: !1,
                bLoadedLandingState: t.props.bPreventDismiss,
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              var e = this;
              this.props.bPreventDismiss
                ? this.LoadAppAndFirstEvent()
                : (window.fnPartnerEvent_ShowInfiniteScroll = function (t, a) {
                    e.setState({
                      bShowModal: !0,
                      appid: t,
                      announcementGID: a,
                    });
                  });
            }),
            (t.prototype.LoadAppAndFirstEvent = function () {
              var e;
              return Object(n.b)(this, void 0, void 0, function () {
                var t, a, i, r;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (t = Object(m.f)(
                          "eventinfinitescrolllanding",
                          "application_config"
                        )),
                        (a = void 0),
                        t && "string" == typeof t && (a = t),
                        [
                          4,
                          v.a.LoadOGGClanInfoForIdentifier(
                            this.props.match.params.appid_or_vanity_str
                          ),
                        ]
                      );
                    case 1:
                      return (
                        (i = n.sent()),
                        [
                          4,
                          Ce.d.LoadAdjacentPartnerEventsByAnnouncement(
                            a,
                            i.clanSteamID,
                            i.appid,
                            3,
                            3
                          ),
                        ]
                      );
                    case 2:
                      return (
                        (r = n.sent()),
                        this.setState({
                          bLoadedLandingState: !1,
                          bShowModal: !0,
                          appid: i.appid,
                          clanSteamID: i.clanSteamID,
                          announcementGID:
                            null === (e = null == r ? void 0 : r[0]) ||
                            void 0 === e
                              ? void 0
                              : e.AnnouncementGID,
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.HideModal = function () {
              this.props.bPreventDismiss || this.setState({ bShowModal: !1 });
            }),
            (t.prototype.render = function () {
              var e = this.props.bPreventDismiss;
              return this.state.bShowModal
                ? c.createElement(Wr.a, {
                    appid: this.state.appid,
                    announcementGID: this.state.announcementGID,
                    clanSteamID: this.state.clanSteamID,
                    closeModal: this.HideModal,
                    partnerEventStore: Ce.d,
                    trackingLocation: this.props.trackingLocation,
                    showAppHeader: !0,
                    bPrimaryPageFeature: e,
                  })
                : this.state.bLoadedLandingState
                ? c.createElement(_.a, { string: Object(f.f)("#Loading") })
                : c.createElement("div", null);
            }),
            Object(n.c)([R.a], t.prototype, "HideModal", null),
            (t = Object(n.c)([I.a], t))
          );
        })(c.Component),
        Yr = a("apHd"),
        Jr = a("6Y59"),
        Qr = a("r+ba"),
        Zr = (function (e) {
          function t(t) {
            var a = e.call(this, t) || this;
            a.state = {
              events: null,
              bShowModal: !1,
              modalInitialEvent: null,
              bPreLoaded: !1,
              announcementGIDList: [],
              last_update_event: null,
            };
            var n = Object(Yr.a)("EventWebRowEmbed");
            return (
              a.ValidateStoreDefault(n) &&
                ((a.state.bPreLoaded = n.bPreLoaded),
                (a.state.announcementGIDList = n.announcementGIDList),
                (a.state.last_update_event = n.last_update_event),
                (a.state.events = []),
                a.state.announcementGIDList.forEach(function (e) {
                  var t = Ce.d.GetClanEventFromAnnouncementGID(e);
                  t && a.state.events.push(t);
                })),
              a
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e,
                  t,
                  a,
                  i,
                  r,
                  o,
                  l,
                  s = this;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (e = this.props),
                        (t = e.appid),
                        (a = e.event_customization),
                        (i = e.partnerEventStore),
                        (r = e.trackingLocation),
                        this.state.bPreLoaded
                          ? [3, 2]
                          : [
                              4,
                              i.LoadAdjacentPartnerEvents(
                                null,
                                null,
                                t,
                                0,
                                2,
                                a
                              ),
                            ]
                      );
                    case 1:
                      (o = n.sent()),
                        this.setState({ events: o }),
                        r &&
                          o &&
                          o.length > 0 &&
                          ((l = h.a.Get().GetTracker()),
                          this.state.events
                            .filter(function (e) {
                              return e.BIsPartnerEvent();
                            })
                            .forEach(function (e) {
                              return l.MarkEventShown(
                                e.GID,
                                e.clanSteamID.GetAccountID(),
                                r
                              );
                            }),
                          l.Flush()),
                        (n.label = 2);
                    case 2:
                      return (
                        (window.fnPartnerEvent_ShowInfiniteScroll = function (
                          e,
                          t
                        ) {
                          s.setState({
                            bShowModal: !0,
                            announcementGID: t,
                            modalInitialEvent: void 0,
                          });
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.ValidateStoreDefault = function (e) {
              var t = e;
              return (
                !(!t || "object" != typeof t) &&
                void 0 !== t.bPreLoaded &&
                "boolean" == typeof t.bPreLoaded &&
                Array.isArray(t.announcementGIDList)
              );
            }),
            (t.prototype.ShowModal = function (e) {
              var t = this.props.trackingLocation;
              this.setState({
                bShowModal: !0,
                modalInitialEvent: e,
                announcementGID: void 0,
              });
              var a = h.a.Get().GetTracker();
              e &&
                e.BIsPartnerEvent() &&
                a.MarkEventRead(e.GID, e.clanSteamID.GetAccountID(), t) &&
                a.Flush();
            }),
            (t.prototype.ShowLatestUpdateModal = function () {
              var e = this.state.last_update_event,
                t = e.event_gid,
                a = e.announcement_gid,
                n = e.clan_account_id,
                i = this.props.trackingLocation;
              this.setState({
                bShowModal: !0,
                modalInitialEvent: void 0,
                announcementGID: a,
              });
              var r = h.a.Get().GetTracker();
              t && r.MarkEventRead(t, n, i) && r.Flush();
            }),
            (t.prototype.CloseModal = function () {
              this.setState({ bShowModal: !1, modalInitialEvent: null });
            }),
            (t.prototype.BHasLastUpdateEvent = function () {
              var e;
              return Boolean(
                null === (e = this.state.last_update_event) || void 0 === e
                  ? void 0
                  : e.rtime
              );
            }),
            (t.prototype.BShouldShowLastUpdateEvent = function () {
              var e = this.state,
                t = e.last_update_event,
                a = e.events;
              return (
                !(
                  !this.BHasLastUpdateEvent() ||
                  !(null == t ? void 0 : t.announcement_gid)
                ) && !(null == a ? void 0 : a.length)
              );
            }),
            (t.prototype.render = function () {
              var e,
                t = this,
                a = this.state.events;
              if (!a)
                return d.a.createElement(
                  "div",
                  { className: r.a.FlexCenter },
                  d.a.createElement(_.a, { size: "medium", position: "center" })
                );
              var n = window.screen.width <= 500 ? 1 : 2,
                i = Boolean(null == a ? void 0 : a.length),
                o = this.BHasLastUpdateEvent(),
                l = this.BShouldShowLastUpdateEvent()
                  ? this.state.last_update_event.announcement_gid
                  : void 0,
                s = this.props,
                c = s.partnerEventStore,
                u = s.strClassName,
                p = s.appid,
                m = s.trackingLocation;
              return d.a.createElement(
                "div",
                { className: u },
                this.state.bShowModal &&
                  d.a.createElement(Wr.a, {
                    classname: Qr.StoreHeaderAdjust,
                    appid: p,
                    trackingLocation: m,
                    announcementGID:
                      this.state.announcementGID ||
                      (null === (e = this.state.modalInitialEvent) ||
                      void 0 === e
                        ? void 0
                        : e.AnnouncementGID),
                    partnerEventStore: c,
                    eventModel: this.state.modalInitialEvent,
                    closeModal: this.CloseModal,
                  }),
                i &&
                  d.a.createElement(
                    "div",
                    null,
                    d.a.createElement(
                      "h2",
                      null,
                      Object(f.f)("#EventBrowse_RecentEvents")
                    ),
                    d.a.createElement(
                      "div",
                      { className: Qr.SectionButtonCtn },
                      this.props.bViewAllShowInfiniteScroll
                        ? d.a.createElement(
                            "div",
                            {
                              className: Qr.SectionButton,
                              onClick: function () {
                                return t.ShowModal(a[0]);
                              },
                            },
                            Object(f.f)("#EventBrowse_MoreEventsBtn")
                          )
                        : d.a.createElement(
                            Ne.c,
                            {
                              eventModel: a[0],
                              route: Ne.a.k_eViewWebSiteHub,
                              className: Qr.SectionButton,
                            },
                            Object(f.f)("#EventBrowse_MoreEventsBtn")
                          )
                    ),
                    d.a.createElement(
                      "div",
                      { className: Qr.EventsSummariesCtn },
                      a.slice(0, n).map(function (e) {
                        var n =
                          1 === a.length && window.screen.width > 500
                            ? Jt.c
                            : Jt.b;
                        return d.a.createElement(n, {
                          key: e.GID,
                          event: e,
                          onClick: function (a) {
                            t.ShowModal(e),
                              a.stopPropagation(),
                              a.preventDefault();
                          },
                        });
                      })
                    )
                  ),
                Boolean(o && l) &&
                  d.a.createElement(Xr, {
                    nUpdateTime: this.state.last_update_event.rtime,
                    announcementGID: l,
                    onClick: this.ShowLatestUpdateModal,
                  }),
                Boolean(o && !l) &&
                  d.a.createElement(Kr, {
                    nUpdateTime: this.state.last_update_event.rtime,
                    onClick: this.ShowLatestUpdateModal,
                  })
              );
            }),
            Object(n.c)([R.a], t.prototype, "ShowModal", null),
            Object(n.c)([R.a], t.prototype, "ShowLatestUpdateModal", null),
            Object(n.c)([R.a], t.prototype, "CloseModal", null),
            t
          );
        })(d.a.Component),
        Kr = function (e) {
          return d.a.createElement(
            "div",
            { className: Qr.LatestUpdateButtonCtn },
            d.a.createElement(
              "div",
              { className: Qr.LatestUpdateIcon },
              d.a.createElement(Jr.hb, null)
            ),
            d.a.createElement(
              "div",
              { className: Qr.LatestUpdateButton, onClick: e.onClick },
              Object(f.f)(
                "#EventBrowse_LatestUpdateTime_Button",
                Object(f.p)(e.nUpdateTime)
              )
            )
          );
        },
        Xr = function (e) {
          var t = e.nUpdateTime,
            a = e.announcementGID,
            n = e.onClick,
            i = a ? Ce.d.GetClanEventFromAnnouncementGID(a) : null,
            r = function (e) {
              null == n || n(), e.stopPropagation(), e.preventDefault();
            };
          return d.a.createElement(
            "div",
            null,
            d.a.createElement(
              "h2",
              null,
              Object(f.f)("#EventBrowse_LastUpdateDate", Object(f.p)(t))
            ),
            d.a.createElement(
              "div",
              { className: Qr.SectionButtonCtn },
              d.a.createElement(
                "div",
                { className: Qr.SectionButton, onClick: r },
                Object(f.f)("#EventBrowse_ViewLatestUpdate")
              )
            ),
            Boolean(i) &&
              d.a.createElement(
                "div",
                { className: Qr.EventsSummariesCtn },
                d.a.createElement(Jt.c, { event: i, onClick: r })
              )
          );
        },
        $r = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props.appid,
                t = w.a.GetTimeNowWithOverrideAsDate(),
                a = new Date(t.setUTCHours(0, 0, 0, 0) - 15552e6),
                n = Math.floor(a.getTime() / 1e3);
              return d.a.createElement(
                "div",
                {
                  className:
                    "detailBox altFooter greenlight_home_box section announcements_row",
                },
                d.a.createElement(Zr, {
                  appid: e,
                  partnerEventStore: l.c,
                  event_customization: {
                    require_tags: ["workshop"],
                    rtime_oldestevent: n,
                  },
                  strClassName: Qr.Container,
                  trackingLocation: 6,
                  bViewAllShowInfiniteScroll: !0,
                })
              );
            }),
            t
          );
        })(d.a.Component),
        eo = a("GiuM"),
        to = (function () {
          function e() {
            (this.m_rgApps = []),
              (this.m_rgClanAccountIDs = []),
              (this.m_nHighestAppOffsetRequested = 0),
              (this.m_nHighestClanOffsetRequested = 0);
          }
          return (
            (e.Get = function () {
              return (
                e.s_globalSingletonStore ||
                  ((e.s_globalSingletonStore = new e()),
                  e.s_globalSingletonStore.Init()),
                e.s_globalSingletonStore
              );
            }),
            (e.prototype.Init = function () {}),
            (e.prototype.GetApps = function (e, t, a) {
              var n = Math.max(e, this.m_nHighestAppOffsetRequested),
                i = e + t - n;
              return (
                i > 0 && (this.m_mostRecentRequest = this.FetchApps(n, i, a)),
                this.m_rgApps.slice(e, e + t)
              );
            }),
            (e.prototype.FetchApps = function (e, t, a, i) {
              return Object(n.b)(this, void 0, void 0, function () {
                var r,
                  o,
                  l = this;
                return Object(n.e)(this, function (s) {
                  switch (s.label) {
                    case 0:
                      if (this.m_startAppID && this.m_startAppID != a)
                        throw new Error(
                          "Cannot switch starting AppID from " +
                            this.m_startAppID +
                            " to " +
                            a
                        );
                      return (
                        (this.m_startAppID = a),
                        (r = Math.max(t, 20)),
                        (this.m_nHighestAppOffsetRequested = e + r),
                        [4, this.m_mostRecentRequest]
                      );
                    case 1:
                      s.sent(),
                        (o = function () {
                          var t, o, s, c, d, u;
                          return Object(n.e)(this, function (n) {
                            switch (n.label) {
                              case 0:
                                (t = Math.min(r, 100)),
                                  (o = {
                                    offset: e,
                                    nBatchSize: t,
                                    start_appid: a,
                                  }),
                                  (s =
                                    m.c.COMMUNITY_BASE_URL +
                                    "migrate/ajaxgetallapps"),
                                  (c = null),
                                  (n.label = 1);
                              case 1:
                                return (
                                  n.trys.push([1, 3, , 4]),
                                  [
                                    4,
                                    y.a.get(s, {
                                      params: o,
                                      withCredentials: !0,
                                      cancelToken: null == i ? void 0 : i.token,
                                    }),
                                  ]
                                );
                              case 2:
                                return (
                                  (d = n.sent()),
                                  1 ==
                                    (null ===
                                      (n = null == d ? void 0 : d.data) ||
                                    void 0 === n
                                      ? void 0
                                      : n.success) && d.data.apps
                                    ? (Object(G.G)(function () {
                                        if (e > l.m_rgApps.length)
                                          for (
                                            var a = l.m_rgApps.length;
                                            a < e;
                                            a++
                                          )
                                            l.m_rgApps[a] = null;
                                        for (a = 0; a < t; a++)
                                          l.m_rgApps[e + a] = d.data.apps[a];
                                      }),
                                      (e += t),
                                      (r -= t),
                                      [2, "continue"])
                                    : ((c = Object(p.a)(
                                        null == d ? void 0 : d.data
                                      )),
                                      [3, 4])
                                );
                              case 3:
                                return (
                                  (u = n.sent()), (c = Object(p.a)(u)), [3, 4]
                                );
                              case 4:
                                throw new Error(
                                  "ajax request failed with error " +
                                    c.errorCode +
                                    ':"' +
                                    c.strErrorMsg +
                                    '"'
                                );
                            }
                          });
                        }),
                        (s.label = 2);
                    case 2:
                      return r > 0 ? [5, o()] : [3, 4];
                    case 3:
                      return s.sent(), [3, 2];
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.GetClanAccountIDs = function (e, t) {
              var a = this.m_nHighestClanOffsetRequested,
                n = e + t - a;
              return (
                n > 0 && this.FetchClans(a, n),
                this.m_rgClanAccountIDs.slice(e, e + t)
              );
            }),
            (e.prototype.FetchClans = function (e, t, a) {
              var i;
              return Object(n.b)(this, void 0, void 0, function () {
                var r, o, l, s, c;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      (this.m_nHighestClanOffsetRequested = e + t),
                        (r = { offset: e, count: t }),
                        (o =
                          m.c.COMMUNITY_BASE_URL + "migrate/ajaxgetallclans"),
                        (l = null),
                        (n.label = 1);
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]),
                        [
                          4,
                          y.a.get(o, {
                            params: r,
                            withCredentials: !0,
                            cancelToken: null == a ? void 0 : a.token,
                          }),
                        ]
                      );
                    case 2:
                      return (
                        (s = n.sent()),
                        1 ==
                          (null === (i = null == s ? void 0 : s.data) ||
                          void 0 === i
                            ? void 0
                            : i.success) && s.data.accountids
                          ? ((this.m_rgClanAccountIDs = this.m_rgClanAccountIDs.concat(
                              s.data.accountids.map(Number)
                            )),
                            [2])
                          : ((l = Object(p.a)(null == s ? void 0 : s.data)),
                            [3, 4])
                      );
                    case 3:
                      return (c = n.sent()), (l = Object(p.a)(c)), [3, 4];
                    case 4:
                      return (
                        console.error(
                          "FetchClans: ajax request failed with error",
                          l.strErrorMsg
                        ),
                        [2]
                      );
                  }
                });
              });
            }),
            Object(n.c)([G.C.shallow], e.prototype, "m_rgApps", void 0),
            Object(n.c)(
              [G.C.shallow],
              e.prototype,
              "m_rgClanAccountIDs",
              void 0
            ),
            e
          );
        })(),
        ao = a("Tgxo"),
        no = a.n(ao),
        io = Object(I.a)(function (e) {
          var t = Object(c.useState)(!0),
            a = t[0],
            n = t[1];
          Object(c.useEffect)(function () {
            Promise.all([h.a.InitGlobal(), l.c.Init()]).then(function () {
              return n(!1);
            });
          }, []);
          var i = Object(eo.d)("start", 0),
            r = i[0],
            o = i[1],
            s = Object(eo.d)("start_appid", 0),
            u = s[0],
            p = (s[1], Object(eo.d)("count", 10)),
            m = p[0],
            g = (p[1], Object(eo.d)("autoload", !0)),
            E = g[0],
            b = (g[1], Object(eo.d)("batch_size", 1)),
            v = b[0],
            f = (b[1], Object(eo.d)("automigrate", !1)),
            S = f[0],
            O = (f[1], Object(c.useState)(!1)),
            y = O[0],
            C = O[1],
            j = Object(eo.d)("rolling", 0),
            T = j[0],
            I = (j[1], Object(c.useState)(new Set())),
            D = I[0],
            w = I[1],
            G = Object(c.useRef)(0),
            A = to.Get().GetApps(r, m, u),
            M =
              0 == T
                ? A
                : A.filter(function (e) {
                    return !D.has(Number(e.id));
                  }).slice(0, T),
            k = function (e, t) {
              D.has(e) ||
                (console.log("completed: ", e, t),
                D.add(e),
                (G.current += t),
                w(new Set(D)));
            };
          return d.a.createElement(
            "div",
            { className: no.a.MigrateToolCtn },
            d.a.createElement(
              "div",
              { className: no.a.ToolHeader },
              "Partner Events Migration Tools"
            ),
            M.map(function (e) {
              return d.a.createElement(ro, {
                key: e.id,
                app: e,
                bAutoLoad: E,
                bAutoMigrate: S || y,
                nMigrateBatchSize: v,
                fnOnCompletion: k,
              });
            }),
            a &&
              d.a.createElement(_.a, {
                size: "xlarge",
                position: "center",
                string: "initializing",
              }),
            !A.length &&
              d.a.createElement(_.a, {
                size: "xlarge",
                position: "center",
                string: "loading apps",
              }),
            d.a.createElement(
              "div",
              {
                className: no.a.LoadEventsButton,
                onClick: function () {
                  C(!1), w(new Set()), o(r + m);
                },
              },
              "LOAD NEXT PAGE"
            ),
            !S &&
              d.a.createElement(
                "div",
                {
                  className: no.a.LoadEventsButton,
                  onClick: function () {
                    return C(!0);
                  },
                },
                "MIGRATE ALL ON PAGE"
              ),
            d.a.createElement(
              "div",
              { className: no.a.StatusMessage },
              D.size +
                " OF " +
                A.length +
                " APPS COMPLETE. #EVENTS: " +
                G.current
            )
          );
        }),
        ro = Object(I.a)(function (e) {
          var t = Number(e.app.id),
            a = Object(c.useState)(0),
            i = a[0],
            r = a[1],
            o = Object(c.useState)([]),
            s = o[0],
            u = o[1],
            p = Object(c.useState)(!1),
            g = p[0],
            E = p[1],
            b = Object(c.useRef)(new Set()),
            h = Object(c.useRef)(0);
          Object(c.useEffect)(
            function () {
              v.a.LoadOGGClanInfoForAppID(t).then(function (e) {
                var a;
                return console.log(
                  "Loaded app",
                  t,
                  null == e ? void 0 : e.group_name,
                  null === (a = null == e ? void 0 : e.clanSteamID) ||
                    void 0 === a
                    ? void 0
                    : a.ConvertTo64BitString()
                );
              });
            },
            [t]
          );
          var f = v.a.GetOGGClanInfo(t),
            S = f ? f.group_name : e.app.name,
            O =
              m.c.COMMUNITY_BASE_URL +
              "games/" +
              (f ? f.vanity_url : t) +
              "/partnerevents/",
            y = s.length,
            C = i == y,
            j = s.filter(function (e) {
              return e.BIsVisibleEvent();
            }),
            T = j.length,
            I = j.filter(function (e) {
              return (
                e.bOldAnnouncement &&
                f &&
                f.clanAccountID != e.announcementClanSteamID.GetAccountID()
              );
            }).length,
            D = j.filter(function (e) {
              return (
                e.bOldAnnouncement &&
                !b.current.has(e.AnnouncementGID) &&
                (!f ||
                  f.clanAccountID == e.announcementClanSteamID.GetAccountID())
              );
            }),
            w = D.length,
            G = !C && w > 0 && (null == f ? void 0 : f.clanSteamID),
            A = function () {
              return Object(n.b)(void 0, void 0, void 0, function () {
                var e, a;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (e = i),
                        r(i + 50),
                        E(!0),
                        [4, l.c.LoadPartnerEventsPageable(void 0, t, e, 50)]
                      );
                    case 1:
                      return (a = n.sent()), u(s.concat(a)), E(!1), [2];
                  }
                });
              });
            };
          Object(c.useEffect)(function () {
            e.bAutoLoad && C && !g && A();
          });
          var M = function (e, t) {
              t ? (h.current += 1) : b.current.add(e);
            },
            k = function () {
              return Object(n.b)(void 0, void 0, void 0, function () {
                return Object(n.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        E(!0),
                        [4, oo(D, e.nMigrateBatchSize, t, f.clanSteamID, M)]
                      );
                    case 1:
                      return a.sent(), E(!1), [2];
                  }
                });
              });
            };
          return (
            Object(c.useEffect)(function () {
              e.bAutoMigrate && G && !g && k();
            }),
            Object(c.useEffect)(function () {
              C || G || g || e.fnOnCompletion(t, h.current);
            }),
            d.a.createElement(
              "div",
              { className: no.a.ClanRow },
              d.a.createElement("div", { className: no.a.ID }, t),
              d.a.createElement("a", { className: no.a.ClanName, href: O }, S),
              d.a.createElement(
                "div",
                { className: no.a.Counts },
                "Loaded: " + y + "\tVisible: " + T + "\tOld: " + w,
                I > 0 &&
                  d.a.createElement(
                    "span",
                    { className: no.a.LinkedAnnouncements },
                    "Linked: " + I
                  )
              ),
              C
                ? d.a.createElement(
                    "div",
                    { className: no.a.LoadEventsButton, onClick: A },
                    "LOAD EVENTS"
                  )
                : g
                ? d.a.createElement(_.a, { size: "small" })
                : G
                ? d.a.createElement(
                    "div",
                    { className: no.a.MigrateEventsButton, onClick: k },
                    "MIGRATE EVENTS"
                  )
                : d.a.createElement(
                    "div",
                    { className: no.a.CompleteMessage },
                    "NOTHING TO MIGRATE"
                  )
            )
          );
        });
      function oo(e, t, a, i, r) {
        return Object(n.b)(this, void 0, void 0, function () {
          var o, s, c, d, u, m, _;
          return Object(n.e)(this, function (n) {
            switch (n.label) {
              case 0:
                (o = 0), (s = e.slice(0, t)), (n.label = 1);
              case 1:
                if (!(o < s.length)) return [3, 9];
                (c = s[o]),
                  console.log(
                    "Migrating",
                    a,
                    c.AnnouncementGID,
                    c.GetNameWithFallback(0),
                    c
                  ),
                  (n.label = 2);
              case 2:
                return (
                  n.trys.push([2, 7, , 8]), [4, Rr(c.AnnouncementGID, a, i)]
                );
              case 3:
                return (d = n.sent())
                  ? (console.warn("Already migrated to event", d), [3, 6])
                  : [3, 4];
              case 4:
                return (
                  (u = l.c.GetEditModel()).AddTag("auto_migrated"),
                  u.AddTag("hide_library_overview"),
                  u.AddTag("hide_library_detail"),
                  [4, l.c.SaveModel(i)]
                );
              case 5:
                n.sent(),
                  console.log("Successfully migrated the event!"),
                  (c.bOldAnnouncement = !1),
                  r(c.AnnouncementGID, !0),
                  (n.label = 6);
              case 6:
                return [3, 8];
              case 7:
                return (
                  (m = n.sent()),
                  (_ = Object(p.a)(m)),
                  console.error(
                    "MigrateEvents: " + _.strErrorMsg.slice(0, 512),
                    _
                  ),
                  r(c.AnnouncementGID, !1),
                  [3, 8]
                );
              case 8:
                return o++, [3, 1];
              case 9:
                return [2];
            }
          });
        });
      }
      var lo = a("UCyf"),
        so = a("a0ud"),
        co = a("+chf"),
        uo = function (e) {
          var t = e.strLabel,
            a = e.strToolTip,
            i = e.fnSetCurator,
            r = e.bLimitToCreatorHome,
            o = Object(c.useRef)(null),
            l = Object(c.useRef)(null),
            s = Object(c.useRef)(0),
            u = Object(c.useRef)();
          Object(c.useEffect)(function () {
            return function () {
              window.clearTimeout(s.current),
                o.current && o.current("SearchForCurator: unmounting"),
                l.current && l.current.Hide();
            };
          }, []);
          var m = Object(c.useCallback)(
            function (e) {
              return Object(n.b)(void 0, void 0, void 0, function () {
                var t;
                return Object(n.e)(this, function (a) {
                  return (t = e.target.value) && 0 != t.trim().length
                    ? (window.clearTimeout(s.current),
                      o.current && o.current("SearchForCurator: new request"),
                      (s.current = window.setTimeout(function () {
                        return Object(n.b)(void 0, void 0, void 0, function () {
                          var e, a, s, c;
                          return Object(n.e)(this, function (n) {
                            switch (n.label) {
                              case 0:
                                (e = y.a.CancelToken.source()),
                                  (o.current = e.cancel),
                                  (n.label = 1);
                              case 1:
                                return (
                                  n.trys.push([1, 3, , 4]),
                                  [4, _e.a.SearchCreatorHomeStore(t, r, e)]
                                );
                              case 2:
                                return (
                                  (a = n.sent()),
                                  e.token.reason
                                    ? [2]
                                    : ((l.current = Object(
                                        Ta.a
                                      )(
                                        d.a.createElement(po, {
                                          list: a,
                                          fnSetCurator: i,
                                        }),
                                        u.current.element,
                                        {
                                          bOverlapHorizontal: !0,
                                          bMatchWidth: !0,
                                          bFitToWindow: !0,
                                          bDisablePopTop: !0,
                                        }
                                      )),
                                      [3, 4])
                                );
                              case 3:
                                return (
                                  (s = n.sent()),
                                  e.token.reason
                                    ? [2]
                                    : ((c = Object(p.a)(s)),
                                      console.log(
                                        "SearchForCurator.SearchCreatorHomeStore error " +
                                          c.strErrorMsg,
                                        c
                                      ),
                                      [3, 4])
                                );
                              case 4:
                                return [2];
                            }
                          });
                        });
                      }, 300)),
                      [2])
                    : [2];
                });
              });
            },
            [i, r]
          );
          return d.a.createElement(
            ke.a,
            null,
            d.a.createElement(Me.l, {
              type: "text",
              label: t,
              onChange: m,
              onBlur: function () {
                setTimeout(function () {
                  return l.current && l.current.Hide();
                }, 200);
              },
              ref: u,
              tooltip: a,
            })
          );
        },
        po = function (e) {
          var t = e.list,
            a = e.fnSetCurator;
          return d.a.createElement(
            Da.c,
            { className: co.SearchResults },
            t.map(function (e) {
              return d.a.createElement(
                Da.d,
                {
                  key: "curatorresult" + e.GetClanAccountID(),
                  onSelected: function () {
                    return a(e);
                  },
                },
                d.a.createElement(
                  "div",
                  { style: { display: "flex", alignItems: "center" } },
                  d.a.createElement(
                    "div",
                    { className: i.GameImageContainer },
                    d.a.createElement("img", {
                      src: e.GetAvatarURLFullSize(),
                      className: i.AvatarImage,
                    })
                  ),
                  Object(Za.b)(e.GetName())
                )
              );
            })
          );
        },
        mo = a("BRUS"),
        _o = Object(I.a)(function (e) {
          var t,
            a,
            n,
            i =
              ((t = d.a.useState(!vo.Get().BHasLoadCompleted())),
              (a = t[0]),
              (n = t[1]),
              d.a.useEffect(function () {
                vo.Get().BHasLoadCompleted() ||
                  vo
                    .Get()
                    .LoadSalePageMigrationInfo()
                    .finally(function () {
                      return n(!1);
                    });
              }, []),
              a ? void 0 : vo.Get().GetMigrationRecords());
          if (!i)
            return d.a.createElement(_.a, {
              string: Object(f.f)("#Loading"),
              position: "center",
              size: "medium",
            });
          var r = i.filter(function (e) {
              return !e.gid_clan_event;
            }),
            o = r.filter(function (e) {
              return (
                e.display_name.toLocaleLowerCase().indexOf("franchise") >= 0
              );
            }),
            l = r.filter(function (e) {
              return (
                e.display_name.toLocaleLowerCase().indexOf("franchise") < 0
              );
            }),
            s = i.filter(function (e) {
              return Boolean(e.gid_clan_event && e.hidden);
            }),
            c = i.filter(function (e) {
              return Boolean(e.gid_clan_event && !e.hidden);
            });
          return d.a.createElement(
            "div",
            null,
            d.a.createElement("h1", null, "Migration Sale Tool:"),
            d.a.createElement(
              "p",
              null,
              "For unmigrated or migrated but unpublished pages, you can view the existing sale page using a not logged in browser (or incognito mode). You can see the new sale page being built on the store if logged in using a Valve Admin account."
            ),
            d.a.createElement(go, {
              strName: "Unmigrated Franchises",
              records: o,
            }),
            d.a.createElement(go, {
              strName: "Unmigrated Generic Sale PAges",
              records: l,
              bHideByDefault: !0,
            }),
            d.a.createElement(go, {
              strName: "Migrated but Hidden",
              records: s,
            }),
            d.a.createElement(go, {
              strName: "Migrated and Visible",
              records: c,
              bHideByDefault: !0,
            })
          );
        }),
        go = function (e) {
          var t = e.strName,
            a = e.records,
            n = e.bHideByDefault,
            i = Object(c.useState)(n),
            r = i[0],
            o = i[1];
          return d.a.createElement(
            "div",
            { className: so.SectionContainer },
            d.a.createElement(
              "h2",
              {
                className: so.SectionTitle,
                onDoubleClick: function () {
                  return o(!r);
                },
              },
              t,
              " (",
              a.length,
              ")",
              d.a.createElement("span", null, " "),
              d.a.createElement(
                Me.d,
                {
                  onClick: function () {
                    return o(!r);
                  },
                },
                r
                  ? d.a.createElement(Jr.H, null)
                  : d.a.createElement(Jr.K, null)
              )
            ),
            d.a.createElement("hr", null),
            Boolean(r)
              ? d.a.createElement(
                  Me.d,
                  {
                    onClick: function () {
                      return o(!1);
                    },
                  },
                  Object(f.f)("#Sale_ShowContents")
                )
              : d.a.createElement(
                  d.a.Fragment,
                  null,
                  a.map(function (e) {
                    return d.a.createElement(Eo, {
                      key: e.sale_page_id,
                      record: e,
                    });
                  })
                )
          );
        },
        Eo = Object(I.a)(function (e) {
          var t = e.record,
            a = Object(lo.b)(t.clan_account_id);
          return d.a.createElement(
            d.a.Fragment,
            null,
            d.a.createElement(
              "div",
              { className: so.RecordCtn },
              d.a.createElement(
                "div",
                { className: so.RecordInfoCtn },
                d.a.createElement(
                  "div",
                  null,
                  d.a.createElement(
                    "a",
                    { href: m.c.STORE_BASE_URL + "sale/" + t.vanity },
                    d.a.createElement(
                      "b",
                      null,
                      t.display_name + " - (" + t.vanity + ")"
                    )
                  )
                ),
                Boolean(a) &&
                  d.a.createElement(
                    "div",
                    null,
                    d.a.createElement(
                      "a",
                      { href: a.vanity_url },
                      "Sale Page part of ",
                      a.group_name
                    )
                  ),
                Boolean(t.gid_clan_event) &&
                  d.a.createElement(
                    "div",
                    null,
                    d.a.createElement(
                      "a",
                      {
                        href:
                          m.c.COMMUNITY_BASE_URL +
                          "gid/" +
                          g.a
                            .InitFromClanID(t.clan_account_id)
                            .ConvertTo64BitString() +
                          "/partnerevents/edit/" +
                          t.gid_clan_event,
                      },
                      "Migrated: Event Editor Links: State hidden: " +
                        t.hidden +
                        " published: " +
                        t.published +
                        " sale/ vanity?: " +
                        t.valve_approved_sale_vanity_id
                    )
                  )
              ),
              Boolean(!t.gid_clan_event || (t.hidden && !t.published)) &&
                d.a.createElement(
                  Me.d,
                  {
                    onClick: function (e) {
                      return Object(Ie.d)(
                        d.a.createElement(bo, { record: t }),
                        Object(Fe.m)(e)
                      );
                    },
                  },
                  "Migrate Sale Page"
                )
            ),
            d.a.createElement("hr", null)
          );
        }),
        bo = function (e) {
          var t = e.record,
            a = e.closeModal,
            n = Object(c.useState)(t.clan_account_id),
            i = n[0],
            r = n[1],
            o = Object(c.useState)(!1),
            l = o[0],
            s = o[1],
            u = Object(c.useState)(void 0),
            p = u[0],
            E = u[1],
            b = Object(c.useState)(!1),
            h = b[0],
            v = b[1],
            f = Object(c.useState)(t.gid_clan_event),
            S = f[0],
            O = f[1],
            y = Object(c.useState)(null),
            C = y[0],
            j = y[1];
          return d.a.createElement(
            Te.d,
            {
              strTitle: "Migrate Sale page",
              strDescription:
                "Will migrate the sale page " +
                t.vanity +
                " to the below clan ",
              bOKDisabled: !i || l,
              onOK: function () {
                s(!0),
                  vo
                    .Get()
                    .MigrateOrUpdateSalePage(
                      t.sale_page_id,
                      i,
                      t.gid_clan_event
                    )
                    .then(function (e) {
                      var t = e[0],
                        a = e[1],
                        n = e[2];
                      E(t), v(a), O(n);
                    });
              },
              onCancel: a,
            },
            Boolean(t.clan_account_id)
              ? d.a.createElement(
                  d.a.Fragment,
                  null,
                  d.a.createElement(
                    "div",
                    null,
                    "Sale page already migrated. This will update the hidden page with latest migration code"
                  ),
                  d.a.createElement(
                    "div",
                    null,
                    "ClanID = ",
                    t.clan_account_id
                  ),
                  d.a.createElement("div", null, "GID = ", t.gid_clan_event)
                )
              : d.a.createElement(
                  d.a.Fragment,
                  null,
                  d.a.createElement(uo, {
                    bLimitToCreatorHome: !0,
                    strLabel: "Search for Creator Home to house the Sale Event",
                    strToolTip:
                      "Partner Event sales must belong to a creator home (which is a curator with games associated to it from the partner site)",
                    fnSetCurator: function (e) {
                      r(e.GetClanAccountID()), j(e);
                    },
                  }),
                  Boolean(C) && d.a.createElement(ho, { creatorHome: C })
                ),
            Boolean(l && !p) &&
              d.a.createElement(_.a, { position: "center", size: "medium" }),
            Boolean(p) && d.a.createElement("div", null, p),
            Boolean(h) &&
              d.a.createElement(
                "div",
                null,
                d.a.createElement(
                  "div",
                  null,
                  d.a.createElement(
                    "a",
                    {
                      href: m.c.STORE_BASE_URL + "sale/" + t.vanity,
                      target: "_blank",
                    },
                    "Sale Page"
                  )
                ),
                d.a.createElement(
                  "div",
                  null,
                  d.a.createElement(
                    "a",
                    {
                      href:
                        m.c.COMMUNITY_BASE_URL +
                        "gid/" +
                        g.a.InitFromClanID(i).ConvertTo64BitString() +
                        "/partnerevents/edit/" +
                        S,
                      target: "_blank",
                    },
                    "New Sale Page Editor"
                  )
                )
              )
          );
        },
        ho = function (e) {
          var t = e.creatorHome,
            a = g.a.InitFromClanID(t.GetClanAccountID()),
            n = t.GetClanAccountID();
          return t
            ? d.a.createElement(
                "div",
                null,
                d.a.createElement(
                  "div",
                  null,
                  "ClanID = ",
                  n,
                  " - SteamID ",
                  a.ConvertTo64BitString()
                ),
                d.a.createElement(
                  "div",
                  null,
                  d.a.createElement(
                    "a",
                    {
                      href:
                        "https://steamsupport.valvesoftware.com/clan/overview/" +
                        a.ConvertTo64BitString(),
                    },
                    "Group Support Page"
                  )
                ),
                Boolean(!t.BIsPartnerEventEditorEnabled()) &&
                  d.a.createElement(
                    "div",
                    null,
                    "To use this Creator Home for the sale page migration, the process will need to enable partner event editing on the clan. This both updates the creator home but also puts a small limitation upon it.",
                    d.a.createElement(
                      "a",
                      {
                        href:
                          "https://confluence.valve.org/display/STEAM/Creator+home+and+Partner+Events+Beta",
                        target: "_blank",
                      },
                      "Read more about the state here."
                    )
                  ),
                d.a.createElement(mo.a, {
                  creatorID: t.GetCreatorHomeIdentifier(),
                  bHideCreatorType: !0,
                })
              )
            : null;
        },
        vo = (function () {
          function e() {
            (this.m_mapSaleIDToInfo = new Map()),
              (this.m_listSaleState = new Array()),
              (this.m_stateLoadPromise = null),
              (this.m_bLoadComplete = !1);
          }
          return (
            (e.prototype.BHasLoadCompleted = function () {
              return this.m_bLoadComplete;
            }),
            (e.prototype.GetMigrationRecords = function () {
              return this.m_listSaleState;
            }),
            (e.prototype.MigrateOrUpdateSalePage = function (e, t, a) {
              var i, r;
              return Object(n.b)(this, void 0, void 0, function () {
                var o, l, s, c, d, u;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      if (!(o = this.m_mapSaleIDToInfo.get(e)))
                        return [
                          2,
                          [
                            "Record not found to begin the migration processing, cannot take action.: " +
                              e,
                            !1,
                            void 0,
                          ],
                        ];
                      if (o.gid_clan_event && (!o.hidden || o.published))
                        return [
                          2,
                          [
                            "Sale event is already public, cannot take action.: " +
                              e,
                            !1,
                            void 0,
                          ],
                        ];
                      n.label = 1;
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]),
                        (l =
                          m.c.COMMUNITY_BASE_URL +
                          "migrate/ajaxcreateupdatesalepage"),
                        (s = new URLSearchParams()).append(
                          "sessionid",
                          m.c.SESSIONID
                        ),
                        s.append("salePageID", e),
                        s.append("clanAccountID", "" + t),
                        a && s.append("gidClanEvent", a),
                        [4, y.a.post(l, s, { withCredentials: !0 })]
                      );
                    case 2:
                      return 200 ==
                        (null == (c = n.sent()) ? void 0 : c.status) &&
                        1 ==
                          (null === (i = null == c ? void 0 : c.data) ||
                          void 0 === i
                            ? void 0
                            : i.success) &&
                        (null === (r = null == c ? void 0 : c.data) ||
                        void 0 === r
                          ? void 0
                          : r.gidClanEvent)
                        ? (Object(G.G)(function () {
                            o.gid_clan_event ||
                              ((o.gid_clan_event = c.data.gidClanEvent),
                              (o.clan_account_id = t),
                              (o.hidden = !0),
                              (o.published = !1),
                              (o.valve_approved_sale_vanity_id = !0));
                          }),
                          [
                            2,
                            [c.data.msg || "Success", !0, c.data.gidClanEvent],
                          ])
                        : ((u = Object(p.a)(c)),
                          console.error(
                            "CMigrateSaleStore.LoadSalePageMigrationInfo: failed with " +
                              u.strErrorMsg,
                            u
                          ),
                          [2, [c.data.msg || "Failed", !1, void 0]]);
                    case 3:
                      return (
                        (d = n.sent()),
                        (u = Object(p.a)(d)),
                        console.error(
                          "CMigrateSaleStore.MigrateOrUpdateSalePage: caught error with " +
                            u.strErrorMsg,
                          u
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2, ["failed", !1, void 0]];
                  }
                });
              });
            }),
            (e.prototype.LoadSalePageMigrationInfo = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                return Object(n.e)(this, function (e) {
                  return (
                    this.m_stateLoadPromise ||
                      (this.m_stateLoadPromise = this.InternalLoadSalePageMigrationInfo()),
                    [2, this.m_stateLoadPromise]
                  );
                });
              });
            }),
            (e.prototype.InternalLoadSalePageMigrationInfo = function () {
              var e, t;
              return Object(n.b)(this, void 0, void 0, function () {
                var a,
                  i,
                  r,
                  o,
                  l,
                  s = this;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        n.trys.push([0, 2, , 3]),
                        (a =
                          m.c.COMMUNITY_BASE_URL +
                          "migrate/ajaxgetsalepagestomigrate"),
                        (i = { sessionid: m.c.SESSIONID }),
                        [4, y.a.get(a, { params: i, withCredentials: !0 })]
                      );
                    case 1:
                      return (
                        (r = n.sent()),
                        (this.m_bLoadComplete = !0),
                        200 == (null == r ? void 0 : r.status) &&
                        1 ==
                          (null === (e = null == r ? void 0 : r.data) ||
                          void 0 === e
                            ? void 0
                            : e.success) &&
                        (null === (t = null == r ? void 0 : r.data) ||
                        void 0 === t
                          ? void 0
                          : t.data)
                          ? (Object(G.G)(function () {
                              r.data.data.forEach(function (e) {
                                s.m_mapSaleIDToInfo.set(e.sale_page_id, e),
                                  s.m_listSaleState.push(
                                    s.m_mapSaleIDToInfo.get(e.sale_page_id)
                                  );
                              });
                            }),
                            console.log(
                              "InternalLoadSalePageMigrationInfo Loaded: " +
                                this.m_listSaleState.length
                            ),
                            [2, this.m_listSaleState])
                          : ((l = Object(p.a)(r)),
                            console.error(
                              "CMigrateSaleStore.LoadSalePageMigrationInfo: failed with " +
                                l.strErrorMsg,
                              l
                            ),
                            [3, 3])
                      );
                    case 2:
                      return (
                        (o = n.sent()),
                        (l = Object(p.a)(o)),
                        console.error(
                          "CMigrateSaleStore.LoadSalePageMigrationInfo: caught error with " +
                            l.strErrorMsg,
                          l
                        ),
                        [3, 3]
                      );
                    case 3:
                      return [2, []];
                  }
                });
              });
            }),
            (e.Get = function () {
              return (
                e.s_Singleton ||
                  ((e.s_Singleton = new e()),
                  ("dev" != m.c.WEB_UNIVERSE && "beta" != m.c.WEB_UNIVERSE) ||
                    (window.g_MigrateSaleStore = e.s_Singleton)),
                e.s_Singleton
              );
            }),
            Object(n.c)([G.C], e.prototype, "m_mapSaleIDToInfo", void 0),
            Object(n.c)([G.C], e.prototype, "m_listSaleState", void 0),
            e
          );
        })();
      var fo = (function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (t.state = { bIsLoading: !0 }), t;
        }
        return (
          Object(n.d)(t, e),
          (t.prototype.componentDidMount = function () {
            return Object(n.b)(this, void 0, void 0, function () {
              return Object(n.e)(this, function (e) {
                switch (e.label) {
                  case 0:
                    return (
                      qa.a.Init(new zr.a(m.c.WEBAPI_BASE_URL)),
                      Ce.d.Init(),
                      l.c.Init(),
                      [4, Promise.all([h.a.InitGlobal()])]
                    );
                  case 1:
                    return e.sent(), this.setState({ bIsLoading: !1 }), [2];
                }
              });
            });
          }),
          (t.prototype.render = function () {
            return this.state.bIsLoading
              ? null
              : d.a.createElement(
                  Ne.d.Provider,
                  { value: { bCanUseLink: !0 } },
                  d.a.createElement(E.a, null),
                  d.a.createElement(
                    pe.e,
                    null,
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Home(":appid_or_vanity_str"),
                      component: zt,
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.List(":appid_or_vanity_str"),
                      component: zt,
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Create(":appid_or_vanity_str"),
                      component: Oe,
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Category(":appid_or_vanity_str", ":gid(\\d+)?"),
                      render: function (e) {
                        return d.a.createElement(
                          Oe,
                          Object(n.a)({}, e, { key: e.match.params.gid })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.EditRedirectToCategory(":appid_or_vanity_str"),
                      render: function (e) {
                        return d.a.createElement(wr, Object(n.a)({}, e));
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Edit(":appid_or_vanity_str", ":gid(\\d+)?"),
                      render: function (e) {
                        return d.a.createElement(
                          Dr,
                          Object(n.a)({}, e, { key: e.match.params.gid })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Publish(":appid_or_vanity_str", ":gid(\\d+)?"),
                      render: function (e) {
                        return d.a.createElement(
                          Dr,
                          Object(n.a)({}, e, {
                            key: e.match.params.gid,
                            bInitiatePublishDialog: !0,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.PreviewSale(
                        ":appid_or_vanity_str",
                        ":gid(\\d+)?"
                      ),
                      render: function (e) {
                        return d.a.createElement(
                          Hr,
                          Object(n.a)({}, e, {
                            key: e.match.params.gid,
                            mode: "previewsale",
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Preview(":appid_or_vanity_str", ":gid(\\d+)?"),
                      render: function (e) {
                        return d.a.createElement(
                          Hr,
                          Object(n.a)({}, e, {
                            key: e.match.params.gid,
                            mode: "preview",
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.View(":appid_or_vanity_str", ":gid(\\d+)"),
                      render: function (e) {
                        return d.a.createElement(
                          Hr,
                          Object(n.a)({}, e, {
                            key: e.match.params.gid,
                            mode: "view",
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.ViewEventDetails(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)"
                      ),
                      render: function (e) {
                        return d.a.createElement(Vr, Object(n.a)({}, e));
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Listing(":appid_or_vanity_str"),
                      render: function (e) {
                        return d.a.createElement(
                          qr,
                          Object(n.a)(
                            {
                              key:
                                "InfScroll_NoDismissApp_" +
                                e.match.params.appid,
                            },
                            e,
                            { bPreventDismiss: !0, trackingLocation: 6 }
                          )
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Migrate(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)"
                      ),
                      render: function (e) {
                        return d.a.createElement(
                          Pr,
                          Object(n.a)({}, e, {
                            key: e.match.params.oldAnnouncementGID,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.MigrateCategory(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)"
                      ),
                      render: function (e) {
                        return d.a.createElement(
                          Ur,
                          Object(n.a)({}, e, {
                            key: e.match.params.oldAnnouncementGID,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.ViewOldAnnouncement(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)"
                      ),
                      render: function (e) {
                        return d.a.createElement(
                          xr,
                          Object(n.a)({}, e, {
                            key: e.match.params.oldAnnouncementGID,
                            bClearDirty: !0,
                            bPreview: !1,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.PreviewOldAnnouncement(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)"
                      ),
                      render: function (e) {
                        return d.a.createElement(
                          xr,
                          Object(n.a)({}, e, {
                            key: e.match.params.oldAnnouncementGID,
                            bClearDirty: !0,
                            bPreview: !0,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.WorkshopHub(":appid(\\d+)"),
                      render: function (e) {
                        return d.a.createElement(
                          $r,
                          Object(n.a)({}, e, {
                            appid: +e.match.params.appid,
                            key: "Workshop" + e.match.params.appid,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      path: o.a.AppHub(":appid"),
                      render: function (e) {
                        return d.a.createElement(
                          qr,
                          Object(n.a)({}, e, {
                            key: "InfScroll_App_" + e.match.params.appid,
                            trackingLocation: 6,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      path: o.a.GroupHub(":group_vanity"),
                      render: function (e) {
                        return d.a.createElement(
                          qr,
                          Object(n.a)({}, e, {
                            key: "InfScroll_App_" + e.match.params.group_vanity,
                            trackingLocation: 6,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      path: o.a.MigrateSaleEvents(),
                      component: _o,
                    }),
                    d.a.createElement(pe.c, {
                      path: o.a.MigrateEvents(),
                      component: io,
                    }),
                    d.a.createElement(pe.c, { component: So })
                  )
                );
          }),
          t
        );
      })(d.a.Component);
      t.default = fo;
      function So(e) {
        return "dev" !== m.c.WEB_UNIVERSE
          ? d.a.createElement(pe.b, { push: !0, to: "/" })
          : d.a.createElement("div", null, "Unknown route");
      }
    },
    JiI5: function (e, t, a) {
      e.exports = {
        SaleContainer: "partnereventsale_SaleContainer_3BwSi",
        CustomSectionsTitle: "partnereventsale_CustomSectionsTitle_2L2x_",
        SaleSection: "partnereventsale_SaleSection_SOMqO",
        EditorCtn: "partnereventsale_EditorCtn_1SyQQ",
        DefaultTitlePicker: "partnereventsale_DefaultTitlePicker_1Rgup",
        SectionTypePicker: "partnereventsale_SectionTypePicker_3Tjtf",
        SectionTypePrompt: "partnereventsale_SectionTypePrompt_2yqih",
        CrossTabWarning: "partnereventsale_CrossTabWarning_2iLl5",
        CrossTabLink: "partnereventsale_CrossTabLink_VkuQf",
        UploadLinkRow: "partnereventsale_UploadLinkRow_zoWy8",
        UploadLinkImageButton: "partnereventsale_UploadLinkImageButton_3lofP",
        SmallText: "partnereventsale_SmallText_1SKHf",
        FlexContainer: "partnereventsale_FlexContainer_23PZF",
        SearchResults: "partnereventsale_SearchResults_IBZUs",
        AddTitleButton: "partnereventsale_AddTitleButton_1i6s-",
        RemoveTitleButton: "partnereventsale_RemoveTitleButton_3rCfB",
        customTitleOptionsCtn: "partnereventsale_customTitleOptionsCtn_18Ftt",
        CustomTitleCtn: "partnereventsale_CustomTitleCtn_3xf_h",
        LanguageInput: "partnereventsale_LanguageInput_9Ojz4",
        CustomImageTitle: "partnereventsale_CustomImageTitle_1Y-jG",
        PromptText: "partnereventsale_PromptText_2YG1P",
        UploadImageButton: "partnereventsale_UploadImageButton_3Jjrh",
        SettingCtn: "partnereventsale_SettingCtn_32UTR",
        Title: "partnereventsale_Title_11Euz",
        Columns: "partnereventsale_Columns_1uTkj",
        LeftCol: "partnereventsale_LeftCol_3CdEC",
        RightCol: "partnereventsale_RightCol_ly_n8",
        AddSectionBtnCtn: "partnereventsale_AddSectionBtnCtn_3afet",
        SmartSelType: "partnereventsale_SmartSelType_17JE0",
        SmartSelCount: "partnereventsale_SmartSelCount_VRUTW",
        SmartSelLabel: "partnereventsale_SmartSelLabel_2JVw-",
        SaleImportBar: "partnereventsale_SaleImportBar_2bBTj",
        SaleImportBarTooltip: "partnereventsale_SaleImportBarTooltip_12tD-",
        SaleImportBarButton: "partnereventsale_SaleImportBarButton_2JDr9",
        SaleCapsuleConflict: "partnereventsale_SaleCapsuleConflict_1pnji",
        SaleCapsuleImg: "partnereventsale_SaleCapsuleImg_3UFfV",
        SaleVisibilityDate: "partnereventsale_SaleVisibilityDate_2CATv",
        SaleVisibilityDateFilter:
          "partnereventsale_SaleVisibilityDateFilter_7xofs",
        SaleDaySelection: "partnereventsale_SaleDaySelection_nh0SY",
        TextSectionGroup: "partnereventsale_TextSectionGroup_3kcsq",
        TextSectionBBCode: "partnereventsale_TextSectionBBCode_2SWKu",
        TextSectionImages: "partnereventsale_TextSectionImages_3_gw-",
        SaleImportURL: "partnereventsale_SaleImportURL_1AmwV",
        BackgroundSettings: "partnereventsale_BackgroundSettings_3_B1e",
        HalfColumn: "partnereventsale_HalfColumn_3F_CF",
        ContentHubOverrideCtn: "partnereventsale_ContentHubOverrideCtn_3IkY7",
        ContentHubOverrideInnerCtn:
          "partnereventsale_ContentHubOverrideInnerCtn_3aA7g",
        SetupCtn: "partnereventsale_SetupCtn_yrYBA",
      };
    },
    K1T0: function (e, t, a) {
      e.exports = {
        ErrorPage: "partnereventshared_ErrorPage_1HZBl",
        ErrorMsg: "partnereventshared_ErrorMsg__guJ8",
        ErrorCode: "partnereventshared_ErrorCode_2ZZXk",
        PendingVisibilityText: "partnereventshared_PendingVisibilityText_1G3Ia",
      };
    },
    K3tN: function (e, t, a) {
      e.exports = {
        CurrentTabsCtn: "saletabeditor_CurrentTabsCtn_24eKi",
        AddButton: "saletabeditor_AddButton_2fqBD",
        ImgPreview: "saletabeditor_ImgPreview_3jXQP",
      };
    },
    "KP/B": function (e, t, a) {
      "use strict";
      a.d(t, "j", function () {
        return n;
      }),
        a.d(t, "w", function () {
          return g;
        }),
        a.d(t, "b", function () {
          return E;
        }),
        a.d(t, "c", function () {
          return h;
        }),
        a.d(t, "e", function () {
          return v;
        }),
        a.d(t, "a", function () {
          return f;
        }),
        a.d(t, "n", function () {
          return S;
        }),
        a.d(t, "m", function () {
          return O;
        }),
        a.d(t, "i", function () {
          return y;
        }),
        a.d(t, "h", function () {
          return C;
        }),
        a.d(t, "l", function () {
          return j;
        }),
        a.d(t, "f", function () {
          return T;
        }),
        a.d(t, "s", function () {
          return I;
        }),
        a.d(t, "k", function () {
          return D;
        }),
        a.d(t, "d", function () {
          return w;
        }),
        a.d(t, "t", function () {
          return A;
        }),
        a.d(t, "q", function () {
          return M;
        }),
        a.d(t, "r", function () {
          return k;
        }),
        a.d(t, "u", function () {
          return L;
        }),
        a.d(t, "v", function () {
          return N;
        }),
        a.d(t, "p", function () {
          return B;
        }),
        a.d(t, "o", function () {
          return R;
        }),
        a.d(t, "g", function () {
          return x;
        });
      var n,
        i = a("mrSG"),
        r = a("vDqi"),
        o = a.n(r),
        l = a("226m"),
        s = a("2vnA"),
        c = a("5eAM"),
        d = a("gOcu"),
        u = a("C4Nl"),
        p = a("gyoR"),
        m = a("lkRc"),
        _ = a("fcuX");
      function g(e, t, a, r, _, g) {
        return (
          void 0 === a && (a = !0),
          void 0 === r && (r = !0),
          void 0 === _ && (_ = !0),
          void 0 === g && (g = !1),
          Object(i.b)(this, void 0, void 0, function () {
            var E,
              b,
              h,
              v,
              f,
              S,
              O,
              y,
              C,
              j,
              T,
              I,
              D,
              w,
              G,
              M,
              k = this;
            return Object(i.e)(this, function (L) {
              switch (L.label) {
                case 0:
                  return (
                    (E = null),
                    (b = e.GetEventModel().jsondata.sale_opt_in_page_name),
                    _ && b ? [4, l.a.Get().HintLoadOptInPageData(b)] : [3, 2]
                  );
                case 1:
                  L.sent(), (L.label = 2);
                case 2:
                  return (
                    (h = _ && b ? l.a.Get().GetOptInPageData(b) : null),
                    [
                      4,
                      Object(p.i)(
                        t.map(function (e) {
                          return e.capsule;
                        })
                      ),
                    ]
                  );
                case 3:
                  return (
                    L.sent(),
                    [
                      4,
                      Object(p.g)(
                        t.map(function (e) {
                          return e.capsule;
                        })
                      ),
                    ]
                  );
                case 4:
                  if (((v = L.sent()), (f = new Map()), !a)) return [3, 8];
                  (S = 0), (O = t), (L.label = 5);
                case 5:
                  return S < O.length
                    ? ((y = O[S]),
                      (j = (C = f).set),
                      (T = [y]),
                      [4, Object(p.f)(y.capsule)])
                    : [3, 8];
                case 6:
                  j.apply(C, T.concat([L.sent()])), (L.label = 7);
                case 7:
                  return S++, [3, 5];
                case 8:
                  if (
                    ((I = new Array()),
                    g &&
                      I.push(
                        (function (e) {
                          return Object(i.b)(this, void 0, void 0, function () {
                            var t, a, n, r, l, s, c, d;
                            return Object(i.e)(this, function (i) {
                              switch (i.label) {
                                case 0:
                                  for (
                                    t = 50, a = [], n = e.slice();
                                    n.length > 0;

                                  )
                                    (r = Math.min(t, n.length)),
                                      (l = n.slice(0, r)),
                                      (n = n.slice(r)),
                                      a.push(l);
                                  return (
                                    (s = a.map(function (e) {
                                      var t =
                                          m.c.STORE_BASE_URL +
                                          "broadcast/ajaxgettopntagsforappbatch",
                                        a = { appids: e.join(",") };
                                      return o.a.get(t, { params: a });
                                    })),
                                    [4, Promise.all(s)]
                                  );
                                case 1:
                                  return (
                                    (c = i.sent()),
                                    (d = new Map()),
                                    c.forEach(function (e) {
                                      var t, a;
                                      null ===
                                        (a =
                                          null ===
                                            (t = null == e ? void 0 : e.data) ||
                                          void 0 === t
                                            ? void 0
                                            : t.apps) ||
                                        void 0 === a ||
                                        a.forEach(function (e) {
                                          d.set(Number(e.appid), e.tags);
                                        });
                                    }),
                                    [2, d]
                                  );
                              }
                            });
                          });
                        })(v).then(function (e) {
                          E = e;
                        })
                      ),
                    r)
                  )
                    for (
                      I.push(d.a.Get().LoadAppIDsBatch(v)),
                        100,
                        D = Promise.resolve(null),
                        w = function (e) {
                          var t = Math.min(100, v.length - e),
                            a = v.slice(e, e + t),
                            n = function () {
                              return Object(i.b)(
                                k,
                                void 0,
                                void 0,
                                function () {
                                  return Object(i.e)(this, function (e) {
                                    return [
                                      2,
                                      u.a
                                        .Get()
                                        .HintLoadStoreItems(
                                          void 0,
                                          a,
                                          [],
                                          [],
                                          u.a.k_DataRequest_CommonOnly
                                        ),
                                    ];
                                  });
                                }
                              );
                            };
                          (D = D.then(n, n)), I.push(D);
                        },
                        G = 0;
                      G < v.length;
                      G += 100
                    )
                      w(G);
                  return [4, Promise.all(I)];
                case 9:
                  return (
                    L.sent(),
                    (M = !1),
                    Object(s.G)(function () {
                      for (var i = 0, o = t; i < o.length; i++) {
                        var l = o[i],
                          s = !1;
                        if (h) {
                          var d = h.get(l.capsule.id);
                          A(
                            l,
                            d
                              ? d.tags.map(function (e) {
                                  return e.name;
                                })
                              : [],
                            n.OptIn
                          ) && (s = !0);
                        }
                        if (a) {
                          for (
                            var u = new Set(), p = 0, m = f.get(l);
                            p < m.length;
                            p++
                          ) {
                            var _ = m[p];
                            if (g) {
                              if (!E || !E.has(_)) {
                                console.error("COULD NOT FIND TAGS FOR ", _);
                                continue;
                              }
                              for (var b = 0, v = E.get(_); b < v.length; b++) {
                                var S = v[b];
                                u.add(S.name);
                              }
                            } else {
                              var O = c.a.GetAppLinkInfo(_);
                              if (!O || !O.tags) {
                                console.error("COULD NOT FIND TAGS FOR ", _);
                                continue;
                              }
                              for (var y = 0, C = O.tags; y < C.length; y++) {
                                S = C[y];
                                u.add(S.name);
                              }
                            }
                          }
                          A(l, Array.from(u), n.Store) && (s = !0);
                        }
                        if (r) A(l, P(l.capsule), n.Feature) && (s = !0);
                        s &&
                          (N(e.GetEventModel().jsondata.auto_item_tags, l),
                          (M = !0));
                      }
                    }),
                    [2, M]
                  );
              }
            });
          })
        );
      }
      function E(e, t, a) {
        return Object(i.b)(this, void 0, void 0, function () {
          var n, r;
          return Object(i.e)(this, function (i) {
            switch (i.label) {
              case 0:
                return (
                  e.GetEventModel().jsondata.tagged_items ||
                    (e.GetEventModel().jsondata.tagged_items = new Array()),
                  (n = e.GetEventModel().GetTaggedItems()).find(function (e) {
                    return e.capsule.id === a && e.capsule.type === t;
                  })
                    ? [2]
                    : ((r = { capsule: { id: a, type: t }, tags: new Array() }),
                      [4, g(e, [r])])
                );
              case 1:
                return (
                  i.sent(), n.push(r), L(e), e.SetDirty(_.c.jsondata_sales), [2]
                );
            }
          });
        });
      }
      function b(e, t) {
        e.manually_added_tags &&
          (e.manually_added_tags = e.manually_added_tags.filter(function (e) {
            return e.toLocaleLowerCase() != t;
          })),
          e.manually_removed_tags &&
            (e.manually_removed_tags = e.manually_removed_tags.filter(function (
              e
            ) {
              return e.toLocaleLowerCase() != t;
            }));
      }
      function h(e, t) {
        for (var a = !1, n = new Map(), i = 0, r = e.tags; i < r.length; i++) {
          var o = r[i];
          n.set(o.toLocaleLowerCase(), o);
        }
        for (var l = 0, s = t; l < s.length; l++) {
          var c = s[l],
            d = c.toLocaleLowerCase();
          n.has(d)
            ? n.delete(d)
            : (b(e, d),
              e.manually_added_tags || (e.manually_added_tags = []),
              e.manually_added_tags.push(c),
              (a = !0));
        }
        return (
          n.forEach(function (t, n) {
            b(e, n),
              e.manually_removed_tags || (e.manually_removed_tags = []),
              e.manually_removed_tags.push(t),
              (a = !0);
          }),
          a && (e.tags = t),
          a
        );
      }
      function v(e) {
        return JSON.parse(JSON.stringify(e));
      }
      function f(e, t, a) {
        for (var n = 0, i = t; n < i.length; n++) {
          var r = i[n],
            o = r.toLocaleLowerCase(),
            l = a.get(o);
          l ? l.items.push(e) : a.set(o, { properCaseString: r, items: [e] });
        }
      }
      function S(e) {
        for (var t = new Map(), a = 0, n = e; a < n.length; a++) {
          var i = n[a];
          i.tags && f(i, i.tags, t);
        }
        return t;
      }
      function O(e) {
        var t = new Set();
        return (
          e.forEach(function (e) {
            return t.add(e.toLocaleLowerCase());
          }),
          t
        );
      }
      function y(e, t) {
        if (t && t.clauses)
          for (var a = 0, n = t.clauses; a < n.length; a++) {
            var i = n[a];
            if (i.or_tags) {
              for (var r = !1, o = 0, l = 0, s = i.or_tags; l < s.length; l++) {
                var c = s[l];
                if (c && (o++, (r = e.has(c.toLocaleLowerCase())))) break;
              }
              if (0 !== o) if (!("Must have" === i.type ? r : !r)) return !1;
            }
          }
        return !0;
      }
      function C(e, t) {
        return !t || !t.clauses || y(O(e), t);
      }
      function j(e, t) {
        return e.filter(function (e) {
          return C(e.tags, t);
        });
      }
      function T(e, t) {
        return "[" + t + "] " + e;
      }
      function I(e) {
        return e.replace(/^\[(.+)\]/, "").trim();
      }
      function D(e) {
        var t = /^\[(.+)\]/.exec(e);
        return t ? t[1] : void 0;
      }
      function w(e, t) {
        return D(e) === t;
      }
      function G(e, t) {
        return (
          !!t &&
          t.some(function (t) {
            return t.toLocaleLowerCase() === e;
          })
        );
      }
      function A(e, t, a, n) {
        void 0 === n && (n = null);
        var i = !1,
          r = new Map();
        t.forEach(function (e) {
          var t = D(e);
          if (!t || t === a) {
            var n = t ? e : T(e, a);
            r.set(n.toLocaleLowerCase(), n);
          }
        });
        var o = T("", a).toLocaleLowerCase(),
          l = null;
        return (
          n &&
            ((l = new Set()),
            n.forEach(function (e) {
              var t = D(e);
              if (!t || t === a) {
                var n = t ? e : T(e, a);
                l.add(n.toLocaleLowerCase());
              }
            })),
          (e.tags = e.tags.filter(function (t) {
            var a = t.toLocaleLowerCase();
            return (
              !(!l || l.has(a)) ||
              !a.startsWith(o) ||
              (r.has(a)
                ? (r.delete(a), !0)
                : !!G(a, e.manually_added_tags) || ((i = !0), !1))
            );
          })),
          r.forEach(function (t, a) {
            G(a, e.tags) ||
              G(a, e.manually_removed_tags) ||
              ((i = !0), e.tags.push(t));
          }),
          i
        );
      }
      function M(e) {
        var t;
        if (
          !e ||
          !(null === (t = e.clauses) || void 0 === t ? void 0 : t.length)
        )
          return !0;
        for (var a = 0, n = e.clauses; a < n.length; a++) {
          if (n[a].or_tags.length > 0) return !1;
        }
        return !0;
      }
      function k(e, t, a) {
        for (var n = new Map(), i = 0, r = a; i < r.length; i++) {
          var o = r[i];
          n.set(o.type + o.id, !1);
        }
        for (
          var l = j(e, t), s = new Array(), c = 0, d = l;
          c < d.length;
          c++
        ) {
          var u = d[c],
            p = u.capsule.type + u.capsule.id,
            m = n.get(p);
          void 0 === m ? s.push(u.capsule) : !1 === m && n.set(p, !0);
        }
        var _ = a.filter(function (e) {
          return n.get(e.type + e.id);
        });
        return _.push.apply(_, s), _;
      }
      function L(e) {
        Object(s.G)(function () {
          var t = R(e);
          if (e.GetEventModel().jsondata.sorting_tiers)
            for (
              var a = 0, n = e.GetEventModel().jsondata.sorting_tiers;
              a < n.length;
              a++
            ) {
              var i = n[a];
              i.sale_tag_filter &&
                (i.capsules = k(t, i.sale_tag_filter, i.capsules));
            }
          for (
            var r = 0, o = e.GetEventModel().GetSaleSections();
            r < o.length;
            r++
          ) {
            var l = o[r];
            if (
              ("sale_item_browser" === l.section_type
                ? (l.capsules = void 0)
                : l.sale_tag_filter &&
                  (l.capsules = k(t, l.sale_tag_filter, l.capsules)),
              l.tabs)
            )
              for (var s = 0, c = l.tabs; s < c.length; s++) {
                var d = c[s];
                d.sale_tag_filter &&
                  (d.capsules = k(t, d.sale_tag_filter, d.capsules));
              }
          }
        });
      }
      function N(e, t) {
        var a = new Array();
        if (e)
          for (var i = 0, r = e; i < r.length; i++) {
            var o = r[i];
            C(t.tags, o.filter) && a.push(o.tag_name);
          }
        return A(t, a, n.Auto);
      }
      function B(e) {
        return e.GetEventModel().jsondata.tagged_item_filter || { clauses: [] };
      }
      function R(e) {
        var t = B(e);
        return j(e.GetEventModel().GetTaggedItems(), t);
      }
      function F(e, t) {
        return (
          !!e.content_descriptors &&
          void 0 !==
            e.content_descriptors.find(function (e) {
              return e === t;
            })
        );
      }
      function P(e) {
        var t = new Array(),
          a = c.a.GetAppLinkInfo(e.id),
          n = d.a.Get().GetDemoEventInfo(e.id),
          i = u.a.Get().GetApp(e.id);
        return (
          n && n.demo_appid && t.push("Has Demo"),
          a
            ? (a.coming_soon && t.push("Coming Soon"),
              a.available_linux && t.push("Linux"),
              a.available_mac && t.push("Mac"),
              a.support_vrhmd && t.push("VR"),
              a.support_vrhmd_only && t.push("VR Only"),
              a.discount_percent && t.push("Discounted"),
              a.is_free && t.push("Free"),
              "music" === a.type && t.push("Soundtrack"),
              "dlc" === a.type && t.push("DLC"),
              F(a, 3) && t.push("Adult Only Sexual Content"),
              F(a, 1) && t.push("Nudity or Sexual Content"),
              F(a, 2) && t.push("Violence or Gore"))
            : console.log("Could not load appinfo for", e.type, e.id),
          i &&
            (i.BHasStoreCategory(28) && t.push("Full Controller"),
            i.BHasStoreCategory(9) && t.push("Coop"),
            (i.BHasStoreCategory(41) ||
              i.BHasStoreCategory(42) ||
              i.BHasStoreCategory(43) ||
              i.BHasStoreCategory(44)) &&
              t.push("Remote Play"),
            i.BHasStoreCategory(44) && t.push("Remote Play Together")),
          t
        );
      }
      function x(e) {
        var t = B(e);
        if (M(t)) return !1;
        var a = e.GetEventModel().jsondata.tagged_items.length;
        return (
          Object(s.G)(function () {
            e.GetEventModel().jsondata.tagged_items = j(
              e.GetEventModel().jsondata.tagged_items,
              t
            );
          }),
          e.GetEventModel().jsondata.tagged_items.length !== a
        );
      }
      !(function (e) {
        (e.Store = "Store"),
          (e.Feature = "Feature"),
          (e.OptIn = "Opt"),
          (e.Auto = "Auto"),
          (e.Custom = "Custom");
      })(n || (n = {}));
    },
    KmXr: function (e, t, a) {
      e.exports = {
        Label: "importexportdialog_Label_1LhIt",
        ImportLocSampleButtonCtn:
          "importexportdialog_ImportLocSampleButtonCtn_D-1dl",
        SampleTitle: "importexportdialog_SampleTitle_9189i",
        ImportButton: "importexportdialog_ImportButton_Wyfyx",
      };
    },
    M1X1: function (e, t, a) {},
    McqU: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return h;
      }),
        a.d(t, "a", function () {
          return v;
        });
      var n = a("mrSG"),
        i = a("q1tI"),
        r = a.n(i),
        o = a("opsS"),
        l = a("vDqi"),
        s = a.n(l),
        c = a("Mgs7"),
        d = a("TLQK"),
        u = a("IASz"),
        p = a.n(u),
        m = a("lkRc"),
        _ = a("kLLr"),
        g = a("X3Ds"),
        E = a("Qcoi"),
        b = a("6Y59"),
        h = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                invite_token: "",
                input_search: "",
                friend_code_copied: !1,
                invite_copied: !1,
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t;
                return Object(n.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return [
                        4,
                        s.a.get(m.c.COMMUNITY_BASE_URL + "invites/ajaxgetall", {
                          params: { sessionid: m.c.SESSIONID },
                        }),
                      ];
                    case 1:
                      return (
                        (e = a.sent()) &&
                        e.data &&
                        e.data.tokens &&
                        (t = e.data.tokens.filter(function (e) {
                          return e.valid;
                        })).length
                          ? this.setState({ invite_token: t[0].invite_token })
                          : this.OnCreateInviteLink(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnCreateInviteLink = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t;
                return Object(n.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (e = new FormData()).append("sessionid", m.c.SESSIONID),
                        e.append("steamid_user", m.h.steamid),
                        e.append("duration", (2592e3).toString()),
                        [
                          4,
                          s.a.post(
                            m.c.COMMUNITY_BASE_URL + "invites/ajaxcreate",
                            e
                          ),
                        ]
                      );
                    case 1:
                      return (
                        (t = a.sent()) &&
                          t.data &&
                          t.data.invite &&
                          this.setState({
                            invite_token: t.data.invite.invite_token,
                          }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnCopy = function (e, t) {
              var a = this;
              "friend_code" === e &&
                (this.setState({ friend_code_copied: !0 }),
                setTimeout(function () {
                  return a.setState({ friend_code_copied: !1 });
                }, 1e3)),
                "invite" === e &&
                  (this.setState({ invite_copied: !0 }),
                  setTimeout(function () {
                    return a.setState({ invite_copied: !1 });
                  }, 1e3)),
                Object(g.i)(t);
            }),
            (t.prototype.OnAddFriend = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t, a;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      (t = new FormData()).append("sessionID", m.c.SESSIONID),
                        t.append("steamid", e),
                        t.append("accept_invite", "0"),
                        (n.label = 1);
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]),
                        [
                          4,
                          s.a.post(
                            m.c.COMMUNITY_BASE_URL + "actions/AddFriendAjax",
                            t
                          ),
                        ]
                      );
                    case 2:
                      return [
                        2,
                        (a = n.sent()) && a.data && 1 == a.data.success,
                      ];
                    case 3:
                      return n.sent(), [2, !1];
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnSearchChange = function (e) {
              this.setState({ input_search: e.target.value });
            }),
            (t.prototype.OnSearchKeyDown = function (e) {
              13 === e.keyCode && this.OnSearchSubmit();
            }),
            (t.prototype.OnSearchSubmit = function () {
              window.open(
                m.c.COMMUNITY_BASE_URL +
                  "search/users/#text=" +
                  encodeURIComponent(this.state.input_search),
                "_self"
              );
            }),
            (t.prototype.render = function () {
              var e = this,
                t = m.h.short_url + "/" + this.state.invite_token;
              return r.a.createElement(
                "div",
                null,
                r.a.createElement(
                  "div",
                  { className: p.a.HeaderBlock },
                  Object(d.f)("#ManageFriends_AddAFriend")
                ),
                r.a.createElement(
                  "div",
                  { className: p.a.Background },
                  r.a.createElement(
                    "h1",
                    { className: p.a.Heading },
                    Object(d.f)("#ManageFriends_YourFriendCode")
                  ),
                  r.a.createElement(
                    "div",
                    { className: p.a.CopyContainer },
                    r.a.createElement(
                      "h1",
                      { className: p.a.Text },
                      m.h.accountid
                    ),
                    r.a.createElement(
                      c.d,
                      {
                        className: p.a.Button,
                        onClick: function () {
                          return e.OnCopy("friend_code", String(m.h.accountid));
                        },
                      },
                      this.state.friend_code_copied
                        ? Object(d.f)("#ManageFriends_Copied")
                        : Object(d.f)("#ManageFriends_Copy")
                    )
                  ),
                  r.a.createElement(
                    "p",
                    { className: p.a.Body },
                    Object(d.f)("#ManageFriends_EnterFriendCode")
                  ),
                  r.a.createElement(v, {
                    onButtonClick: this.OnAddFriend,
                    buttonText: Object(d.f)("#ManageFriends_SendInvite"),
                    bDisableForSelfAndFriends: !0,
                    bShowStatus: !0,
                  })
                ),
                r.a.createElement(
                  "div",
                  { className: p.a.DimBackground },
                  r.a.createElement(
                    "h1",
                    { className: p.a.Heading },
                    Object(d.f)("#ManageFriends_OrSendQuickInvite")
                  ),
                  r.a.createElement(
                    "p",
                    { className: p.a.Body },
                    Object(d.f)("#ManageFriends_QuickInviteDescription")
                  ),
                  r.a.createElement(
                    "p",
                    { className: p.a.Body },
                    Object(d.f)("#ManageFriends_QuickInviteNote")
                  ),
                  r.a.createElement(
                    "div",
                    { className: p.a.CopyContainer },
                    Boolean(this.state.invite_token) &&
                      r.a.createElement("div", { className: p.a.Link }, t),
                    r.a.createElement(
                      c.d,
                      {
                        className: p.a.Button,
                        onClick: function () {
                          return e.OnCopy("invite", t);
                        },
                      },
                      this.state.invite_copied
                        ? Object(d.f)("#ManageFriends_Copied")
                        : Object(d.f)("#ManageFriends_Copy")
                    )
                  ),
                  r.a.createElement(
                    c.q,
                    {
                      style: {
                        width: "fit-content",
                        padding: "0px 20px 0px 20px",
                      },
                      onClick: this.OnCreateInviteLink,
                    },
                    Object(d.f)("#ManageFriends_CreateInviteLink")
                  )
                ),
                r.a.createElement(
                  "div",
                  { className: p.a.Background },
                  r.a.createElement(
                    "h1",
                    { className: p.a.Heading },
                    Object(d.f)("#ManageFriends_OrSearch")
                  ),
                  r.a.createElement("br", null),
                  r.a.createElement(
                    "div",
                    {
                      style: {
                        display: "flex",
                        alignItems: "center",
                        maxWidth: "598px",
                        position: "relative",
                      },
                    },
                    r.a.createElement(
                      "div",
                      { style: { width: "100%" } },
                      r.a.createElement(c.l, {
                        className: p.a.Input,
                        onKeyDown: this.OnSearchKeyDown,
                        value: this.state.input_search,
                        onChange: this.OnSearchChange,
                        placeholder: Object(d.f)(
                          "#ManageFriends_EnterProfileName"
                        ),
                      })
                    ),
                    r.a.createElement(
                      "div",
                      {
                        id: "searchIcon",
                        style: {
                          position: "absolute",
                          right: "10px",
                          cursor: "pointer",
                        },
                        onClick: this.OnSearchSubmit,
                      },
                      r.a.createElement(b.G, null)
                    )
                  )
                )
              );
            }),
            Object(n.c)([o.a], t.prototype, "OnCreateInviteLink", null),
            Object(n.c)([o.a], t.prototype, "OnCopy", null),
            Object(n.c)([o.a], t.prototype, "OnAddFriend", null),
            Object(n.c)([o.a], t.prototype, "OnSearchChange", null),
            Object(n.c)([o.a], t.prototype, "OnSearchKeyDown", null),
            Object(n.c)([o.a], t.prototype, "OnSearchSubmit", null),
            t
          );
        })(r.a.Component),
        v = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                input_friend_code: "",
                disable_send_invite: !1,
                searchResult: null,
                invite_status: "pending",
              }),
              (t.m_currentRequest = 0),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnFriendCodeChange = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t,
                  a = this;
                return Object(n.e)(this, function (n) {
                  return (
                    (t = e.target.value.split(",")[0]),
                    this.setState({
                      input_friend_code: t,
                      invite_status: "pending",
                    }),
                    window.clearTimeout(this.m_currentRequest),
                    (this.m_currentRequest = window.setTimeout(function () {
                      return a.LoadProfile(t);
                    }, 500)),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.LoadProfile = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t, a;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return e
                        ? ((t = _.a.InitFromAccountID(Number(e))),
                          [4, E.a.LoadProfiles([t.ConvertTo64BitString()])])
                        : [3, 2];
                    case 1:
                      return (
                        n.sent(),
                        (a = E.a.GetProfile(t.ConvertTo64BitString()))
                          ? this.setState({
                              searchResult: a,
                              disable_send_invite:
                                m.h.is_limited ||
                                (this.props.bDisableForSelfAndFriends &&
                                  (a.is_friend || a.steamid === m.h.steamid)),
                            })
                          : this.setState({ searchResult: null }),
                        [3, 3]
                      );
                    case 2:
                      this.setState({ searchResult: null }), (n.label = 3);
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnActionClick = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t,
                  a = this;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (t = new FormData()).append("sessionID", m.c.SESSIONID),
                        t.append("steamid", e),
                        t.append("accept_invite", "0"),
                        this.setState({ disable_send_invite: !0 }),
                        [4, this.props.onButtonClick(e)]
                      );
                    case 1:
                      return (
                        n.sent()
                          ? (this.setState({
                              input_friend_code: "",
                              invite_status: "success",
                            }),
                            setTimeout(function () {
                              return a.setState({ searchResult: null });
                            }, 3e3))
                          : this.setState({
                              invite_status: "failure",
                              disable_send_invite: !1,
                            }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this;
              return r.a.createElement(
                "div",
                null,
                r.a.createElement(c.l, {
                  className: p.a.Input,
                  value: this.state.input_friend_code,
                  onChange: this.OnFriendCodeChange,
                  placeholder: Object(d.f)(
                    "#ManageFriends_EnterFriendCodePlaceholder"
                  ),
                }),
                Boolean(this.state.searchResult) &&
                  r.a.createElement(
                    "div",
                    { className: p.a.ProfileCard },
                    r.a.createElement(
                      "div",
                      { className: p.a.UserContainer },
                      r.a.createElement(
                        "div",
                        { className: p.a.Image },
                        r.a.createElement("img", {
                          style: { width: "100%", height: "100%" },
                          src: this.state.searchResult.avatar_url_full,
                        })
                      ),
                      r.a.createElement(
                        "div",
                        { className: p.a.ProfileContent },
                        r.a.createElement(
                          "h1",
                          { className: p.a.Heading },
                          this.state.searchResult.persona_name
                        ),
                        r.a.createElement(
                          "div",
                          { className: p.a.ProfileLink },
                          r.a.createElement(
                            "a",
                            {
                              target: "_blank",
                              href:
                                m.c.COMMUNITY_BASE_URL +
                                "profiles/" +
                                this.state.searchResult.steamid,
                            },
                            Object(d.f)("#ManageFriends_ProfileLink")
                          ),
                          r.a.createElement("br", null),
                          r.a.createElement(
                            "span",
                            { className: p.a.Body },
                            this.state.searchResult.real_name,
                            r.a.createElement("br", null),
                            this.state.searchResult.city +
                              (this.state.searchResult.city ? "," : "") +
                              " " +
                              this.state.searchResult.state +
                              (this.state.searchResult.state ? "," : "") +
                              " " +
                              this.state.searchResult.country
                          )
                        )
                      ),
                      r.a.createElement(
                        c.q,
                        {
                          onClick: function () {
                            return e.OnActionClick(
                              e.state.searchResult.steamid
                            );
                          },
                          disabled: this.state.disable_send_invite,
                          style: {
                            width: "fit-content",
                            height: "fit-content",
                            padding: "0px 20px 0px 20px",
                            margin: "0 0 0 auto",
                          },
                        },
                        this.props.buttonText
                      )
                    ),
                    r.a.createElement(
                      "div",
                      { className: p.a.ProfileLink },
                      this.state.searchResult.is_friend
                        ? r.a.createElement(
                            "div",
                            null,
                            Object(d.f)("#ManageFriends_IsFriend")
                          )
                        : null,
                      this.state.searchResult.friends_in_common
                        ? r.a.createElement(
                            "div",
                            null,
                            r.a.createElement(
                              "a",
                              {
                                target: "_blank",
                                href:
                                  m.c.COMMUNITY_BASE_URL +
                                  "profiles/" +
                                  this.state.searchResult.steamid +
                                  "/friendscommon",
                              },
                              1 === this.state.searchResult.friends_in_common
                                ? Object(d.f)(
                                    "#ManageFriends_FriendsInCommonSingular",
                                    this.state.searchResult.friends_in_common
                                  )
                                : Object(d.f)(
                                    "#ManageFriends_FriendsInCommon",
                                    this.state.searchResult.friends_in_common
                                  )
                            )
                          )
                        : null,
                      this.props.bShowStatus &&
                        "failure" === this.state.invite_status &&
                        r.a.createElement(
                          "div",
                          { className: p.a.Failure },
                          Object(d.f)("#ManageFriends_InviteFailure")
                        ),
                      this.props.bShowStatus &&
                        "success" === this.state.invite_status &&
                        r.a.createElement(
                          "div",
                          { className: p.a.Success },
                          Object(d.f)(
                            "#ManageFriends_InviteSuccess",
                            this.state.searchResult.persona_name
                          )
                        )
                    )
                  )
              );
            }),
            Object(n.c)([o.a], t.prototype, "OnFriendCodeChange", null),
            Object(n.c)([o.a], t.prototype, "LoadProfile", null),
            Object(n.c)([o.a], t.prototype, "OnActionClick", null),
            t
          );
        })(r.a.Component);
    },
    NEpn: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAA4CAYAAABJ7S5PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJGOUM2QTBGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJGOUM2OUZGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkI2RThDNjdERjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkI2RThDNjdFRjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XKq1FgAAAwJJREFUeNrsm4tRhDAQhoNjA7RAC7QQSzhLiCVgCVgClnBXAlcClAAlYAlnMm7OHeSRF4HEy8yOzp0w7Mfun90kJrfbjTwGIU8PBD/j2fYGSZJs/YwpN8Yt55bBTzmu3Fqwi8nN7xkhfrGxDYdwuhKPqGgdANO5d3r3Y8Y5ujMI4dCgAQFbM4oaPHIEt8KBMOVYBn/IdgJRGQLANiAYlFsJEYO/z9ZAFOgC5hmECwjY2bnvCqwRcyCa0UXME4iTQwhLVo3F8g8IUOipi9nGIFILTTCGAGlTTIGgS+G0IYjCA4QCdOGENGOQM4cOCGFnPOU4BLF1NHRzgjqXGlTxptQhCF/a8CfdlzSCatyohNwOIS0mIZiI5dIUxSxB1B4BDBCBRGX67AxzkB0cxGTFKf2e6j5NmhdZuw9InY82LtCcKbfhn5b1gJyaGoCSB9mG8zDpeWv9gctQw5EjCF+jlvkLvZ0WRHrfMVMk+ar0fFqx5P/TzJfijb1EtgjVKi/V8ZQ4caMAQ1z4CmH879YshdM1h9FxK+Gzd259BL72yhqhWVmGZkRZI/gH10gj/6qbGquiEqNQblFQhakPC3VEF5k+ZFoagcZ7ZGnRm6SGIHSJKEXUmsiVFeoq5rRYXI+IDEatGgiq23pFoE0YcwoCdaRFQDNKpyMNydpKtGjERo2X3BugBxfJNxXBVz4WsNMqs5do0BXLEBdpmHMQAUZFrZM/JmJ5DgDCoLuCbjprNCGuSzoFEQCMs83itekBsqNpRkMM92GtQKCzVuUBZpTBZhNJuaBaG3DOksLDyDORqaeiSW47tDYglAoqjcNkqeeZxSoSnKXGCATznCJOIDgDASlRE//ls7ONZWMQO3ehtWv90e01KDjfhFQs6YB4BuWnE2qfkmOcbWihpd52v2X05suDtdJsa8prh9KrHQslLwCUNQIVR7504UxGJ958glCqLLmGyOW53OHD9uT3ONGF7HQOQ/pvVGKDuGZoRiGoxJ7bie6RKe0+HR5EjOPxX34wvgUYAA3Q5FQ1OsEYAAAAAElFTkSuQmCC";
    },
    NrWE: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return A;
      }),
        a.d(t, "b", function () {
          return k;
        });
      var n = a("mrSG"),
        i = a("vDqi"),
        r = a.n(i),
        o = a("TyAF"),
        l = a("q1tI"),
        s = a("1VNF"),
        c = a("kLLr"),
        d = a("U+Q5"),
        u = a("9w6b"),
        p = a("fpVW"),
        m = a.n(p),
        _ = a("Jqb/"),
        g = a("ka0M"),
        E = a("0OaU"),
        b = a("exH9"),
        h = a("X3Ds"),
        v = a("TLQK"),
        f = a("OS6B"),
        S = a("opsS"),
        O = a("75vw"),
        y = a.n(O),
        C = a("Mgs7"),
        j = a("6yBx"),
        T = a("bVxH"),
        I = a("R5ed"),
        D = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bPrefetchingLanguages: !0 }),
              (t.m_cancelSignal = r.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              if (this.props.closeModal) {
                var e = this.props.primaryLocalizedImage;
                d.d.SetPrimaryImageForImageGroup(e, "localized_image_group"),
                  this.LoadImageResolution(),
                  this.LoadAvailableLocalizations();
              }
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("ClanImagePicker component unmounted");
            }),
            (t.prototype.LoadImageResolution = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a, i, r;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        n.trys.push([0, 2, , 3]),
                        (e = this.props.primaryLocalizedImage),
                        (t = c.a.InitFromClanID(e.clanAccountID)),
                        [
                          4,
                          d.d.AsyncGetImageResolution(
                            t,
                            e.image_hash,
                            e.file_type,
                            this.m_cancelSignal,
                            !1
                          ),
                        ]
                      );
                    case 1:
                      return (
                        (a = n.sent()),
                        this.m_cancelSignal.token.reason ||
                          this.setState({ imageSize: a }),
                        [3, 3]
                      );
                    case 2:
                      return (
                        (i = n.sent()),
                        (r = Object(f.a)(i)),
                        console.error(
                          "LocalizedImageDialog : " + r.strErrorMsg,
                          r
                        ),
                        [3, 3]
                      );
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.LoadAvailableLocalizations = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t;
                return Object(n.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        a.trys.push([0, 2, , 3]),
                        [
                          4,
                          d.d.DetermineAvailableLocalizationForGroup(
                            this.m_cancelSignal
                          ),
                        ]
                      );
                    case 1:
                      return (
                        a.sent(),
                        this.m_cancelSignal.token.reason ||
                          this.setState({ bPrefetchingLanguages: !1 }),
                        [3, 3]
                      );
                    case 2:
                      return (
                        (e = a.sent()),
                        (t = Object(f.a)(e)),
                        console.error(
                          "LocalizedImageDialog : " + t.strErrorMsg,
                          t
                        ),
                        [3, 3]
                      );
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnCommitGroup = function () {}),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.closeModal,
                a = e.primaryLocalizedImage,
                n = e.clanSteamID,
                i = this.state,
                r = i.bPrefetchingLanguages,
                o = i.imageSize,
                s = !r && o,
                c = o ? " - " + o.width + "x" + o.height : "",
                u = d.a.GetExtensionStringForFileType(a.file_type).slice(1),
                p = o && { width: o.width, height: o.height },
                g = d.a.GenerateArtworkURLFromHashAndExtensions(
                  n,
                  d.a.GetHashAndExt(a)
                );
              return l.createElement(
                _.e,
                {
                  onOK: this.OnCommitGroup,
                  bAllowFullSize: !0,
                  onCancel: t,
                  closeModal: t,
                },
                l.createElement(
                  C.k,
                  null,
                  Object(v.f)("#ImagePickerLoc_Title")
                ),
                l.createElement(
                  C.b,
                  null,
                  l.createElement(
                    C.c,
                    null,
                    l.createElement(
                      "div",
                      { className: m.a.FlexRowContainer },
                      l.createElement(
                        "span",
                        { className: m.a.FlexColumnContainer },
                        l.createElement(
                          "div",
                          null,
                          Object(v.f)("#ImagePickerLoc_Default"),
                          " ",
                          l.createElement(
                            "span",
                            {
                              "data-tooltip-text": Object(v.f)(
                                "#ImagePickerLoc_Default_Hint"
                              ),
                            },
                            " (?)"
                          )
                        ),
                        l.createElement("img", {
                          className: T.titleimg,
                          src: g,
                        }),
                        l.createElement(
                          "div",
                          null,
                          a.file_name + c + " - " + u
                        )
                      )
                    ),
                    !s &&
                      l.createElement(E.a, {
                        position: "center",
                        string: Object(v.f)("#Loading"),
                      }),
                    s &&
                      l.createElement(
                        l.Fragment,
                        null,
                        l.createElement(j.b, {
                          clanSteamID: n,
                          rgSupportArtwork: [],
                          localizedPrimaryImage: a,
                          forceResolution: p,
                          fnSetImageURL: this.props.fnSetImageURL,
                          rgRealmList: this.props.rgRealmList,
                        }),
                        l.createElement(
                          "div",
                          { className: T.artworkbar },
                          l.createElement(I.b, {
                            clanSteamID: n,
                            artworkType: "localized_image_group",
                            title: Object(v.f)("#ImagePickerLoc_Title"),
                          })
                        )
                      )
                  )
                )
              );
            }),
            Object(n.c)([S.a], t.prototype, "OnCommitGroup", null),
            (t = Object(n.c)([o.a], t))
          );
        })(l.Component),
        w = a("blFj"),
        G = a("Yamg"),
        A = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_cancelSignal = r.a.CancelToken.source()),
              (t.m_searchInput = null),
              (t.m_clanImageUploader = null),
              (t.state = {
                filenameSearch: "",
                uploadToken: 0,
                bLoading: !d.d.BHasLoadedClanImages(t.props.clanSteamID),
              }),
              t
            );
          }
          var a;
          return (
            Object(n.d)(t, e),
            (a = t),
            (t.prototype.componentDidMount = function () {
              this.state.bLoading && this.HandleLoadClanImages();
            }),
            (t.prototype.componentDidUpdate = function (e) {
              (this.props.clanSteamID.GetAccountID() ==
                e.clanSteamID.GetAccountID() &&
                d.d.BHasLoadedClanImages(this.props.clanSteamID)) ||
                (this.state.bLoading || this.setState({ bLoading: !0 }),
                this.HandleLoadClanImages());
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("ClanImagePicker component unmounted");
            }),
            (t.prototype.HandleLoadClanImages = function () {
              var e = this;
              d.d
                .LoadClanImages(this.props.clanSteamID, !1, this.m_cancelSignal)
                .then(function () {
                  e.m_cancelSignal.token.reason || e.setState({ bLoading: !1 });
                })
                .catch(function (t) {
                  var a = Object(f.a)(t);
                  console.error(
                    "ClanImagePicker Failed: " +
                      a.strErrorMsg +
                      " errCode: " +
                      a.strErrorMsg
                  ),
                    e.m_cancelSignal.token.reason ||
                      e.setState({ bLoading: !1, strErrMsg: a.strErrorMsg });
                });
            }),
            (t.prototype.onSearchTextChangeHandler = function (e) {
              var t = e.currentTarget.value;
              this.state.filenameSearch != t &&
                this.setState({ filenameSearch: t });
            }),
            (t.prototype.CreateImageWrappers = function () {
              var e = [],
                t = this.state.filenameSearch.trim().toLowerCase(),
                a = d.d.GetFilteredClanImages(this.props.clanSteamID, t);
              if (a.length > 0)
                for (var n = 0, i = a; n < i.length; n++) {
                  var r = i[n];
                  e.push(
                    l.createElement(L, {
                      key: r.imageid,
                      clanImage: r,
                      searchStringHilight: t,
                      imageInsertCallBack: this.props.imageInsertCallBack,
                      fnOnOpenLocalizedImageGroup: this
                        .InternalOpenLocalizeImageGroup,
                      insertActions: this.props.insertActions,
                      OnImageClick: this.OnExpandImage,
                    })
                  );
                }
              if (0 == e.length) {
                var o = d.d.GetLoadState(this.props.clanSteamID);
                o && o.loaded
                  ? e.push(
                      l.createElement(
                        "div",
                        {
                          key: "ImagePicker_Result",
                          className: y.a.ResultNotification,
                        },
                        t.length > 0
                          ? Object(v.f)("#ImagePicker_EmptySearch")
                          : Object(v.f)("#ImagePicker_Empty")
                      )
                    )
                  : o && o.errMsg
                  ? e.push(
                      l.createElement(
                        "div",
                        { key: "ImagePicker_Result", className: y.a.errorcode },
                        Object(v.f)("#ImagePicker_Error", o.errMsg)
                      )
                    )
                  : e.push(
                      l.createElement(
                        "div",
                        {
                          key: "ImagePicker_Result",
                          className: y.a.ResultNotification,
                        },
                        Object(v.f)("#Loading")
                      )
                    );
              }
              return e;
            }),
            (t.prototype.onSearchTextKeyPress = function (e) {
              "Escape" == e.key &&
                (this.setState({ filenameSearch: "" }),
                this.m_searchInput && (this.m_searchInput.value = ""));
            }),
            (t.prototype.onUploaderDismiss = function () {
              this.setState({
                filenameSearch: this.state.filenameSearch,
                uploadToken: null,
              });
            }),
            (t.prototype.OnDropFiles = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t, i, r;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      if (!(e && e.length > 0)) return [3, 5];
                      (this.m_clanImageUploader = new d.b(
                        this.props.clanSteamID
                      )),
                        (t = !0),
                        (i = 0),
                        (n.label = 1);
                    case 1:
                      return t && i < Array.from(e).length
                        ? ((r = e.item(i)),
                          [4, this.m_clanImageUploader.AddImage(r, 0, null)])
                        : [3, 4];
                    case 2:
                      (t = n.sent()) ||
                        (console.error(
                          "ClanImagePicker.OnDropFiles: failed on i=" +
                            i +
                            " file=" +
                            r.name
                        ),
                        Object(g.d)(
                          l.createElement(_.f, {
                            strDescription: Object(v.f)(
                              "#ImagePicker_Error",
                              r.name
                            ),
                          }),
                          window
                        )),
                        (n.label = 3);
                    case 3:
                      return i++, [3, 1];
                    case 4:
                      return (
                        t &&
                          (this.setState({
                            filenameSearch: "",
                            uploadToken: ++a.m_uploaderCounter,
                          }),
                          this.m_clanImageUploader.UploadAllFiles()),
                        [2, t]
                      );
                    case 5:
                      return [2, !1];
                  }
                });
              });
            }),
            (t.prototype.GetLastUploadFiles = function () {
              return this.m_clanImageUploader
                ? this.m_clanImageUploader.GetFilesToUpload()
                : null;
            }),
            (t.prototype.BFileUploadCompleted = function (e) {
              return (
                !!this.m_clanImageUploader &&
                this.m_clanImageUploader.BIsFileCompleted(e)
              );
            }),
            (t.prototype.OnExpandImage = function (e) {
              if (e && this.props.bShowLightBox) {
                var t = d.d.GetFilteredClanImages(
                    this.props.clanSteamID,
                    this.state.filenameSearch.trim().toLowerCase()
                  ),
                  a = t.findIndex(function (t, a, n) {
                    return e.imageid == t.imageid;
                  });
                a >= 0 &&
                  this.setState({ photoIndex: a, filteredClanImages: t });
              }
            }),
            (t.prototype.OnExpandExitImage = function () {
              this.setState({ photoIndex: void 0, filteredClanImages: void 0 });
            }),
            (t.prototype.OnHandleExpandedFullSize = function () {
              this.InternalHandleExpandedAction(G.a.k_eInsertFullImage);
            }),
            (t.prototype.OnHandleExpandedThumbnail = function () {
              this.InternalHandleExpandedAction(G.a.k_eInsertThumbnail);
            }),
            (t.prototype.OnHandleOpenLocalizedImageGroup = function () {
              null != this.state.photoIndex &&
                this.InternalOpenLocalizeImageGroup(
                  this.state.filteredClanImages[this.state.photoIndex]
                );
            }),
            (t.prototype.InternalHandleExpandedAction = function (e) {
              null != this.state.photoIndex &&
                (this.props.imageInsertCallBack(
                  this.state.filteredClanImages[this.state.photoIndex],
                  e
                ),
                this.OnExpandExitImage());
            }),
            (t.prototype.InternalOpenLocalizeImageGroup = function (e) {
              var t = this.props.clanSteamID;
              Object(g.d)(
                l.createElement(D, {
                  primaryLocalizedImage: e,
                  clanSteamID: t,
                  fnSetImageURL: this.props.fnSetImageURL,
                  rgRealmList: this.props.rgRealmList,
                }),
                window
              );
            }),
            (t.prototype.render = function () {
              var e = this;
              if (this.state.strErrMsg)
                return l.createElement(
                  "div",
                  null,
                  l.createElement("div", null, Object(v.f)("#Error_Message")),
                  l.createElement("div", null, this.state.strErrMsg),
                  l.createElement(
                    "div",
                    {
                      className: Object(b.a)(m.a.Button),
                      onClick: this.HandleLoadClanImages,
                    },
                    Object(v.f)("#Button_Retry")
                  )
                );
              if (this.state.bLoading)
                return l.createElement(E.a, {
                  position: "center",
                  string: Object(v.f)("#Loading"),
                });
              var t = this.CreateImageWrappers(),
                a = this.state.filteredClanImages,
                n = this.state.photoIndex,
                i = this.props.clanSteamID;
              return l.createElement(
                "div",
                { className: Object(b.a)(y.a.PickerContainer) },
                l.createElement(
                  "div",
                  { className: y.a.PickerTitle },
                  l.createElement("input", {
                    ref: function (t) {
                      return (e.m_searchInput = t);
                    },
                    className: y.a.SearchInput,
                    type: "text",
                    placeholder: Object(v.f)("#ImagePicker_Search"),
                    onChange: this.onSearchTextChangeHandler,
                    onKeyDown: this.onSearchTextKeyPress,
                  })
                ),
                l.createElement("div", { className: y.a.ImagesContainer }, t),
                this.state.uploadToken > 0 &&
                  l.createElement(N, {
                    key: "clanimageuploaderview" + this.state.uploadToken,
                    uploader: this.m_clanImageUploader,
                    onDismiss: this.onUploaderDismiss,
                  }),
                !this.props.bHideDragAndDrop &&
                  l.createElement(k, {
                    onDropFiles: this.OnDropFiles,
                    fnSetImageURL: this.props.fnSetImageURL,
                    clanSteamID: i,
                    rgRealmList: this.props.rgRealmList,
                  }),
                null != n &&
                  l.createElement(s.a, {
                    mainSrc: a[n].url,
                    mainSrcThumbnail: a[n].thumb_url,
                    imageTitle: a[n].file_name,
                    nextSrc: n < a.length - 1 ? a[n + 1].url : void 0,
                    nextSrcThumbnail:
                      n < a.length - 1 ? a[n + 1].thumb_url : void 0,
                    nextLabel: Object(v.f)("#ClanImage_Next"),
                    prevLabel: Object(v.f)("#ClanImage_Prev"),
                    closeLabel: Object(v.f)("#ClanImage_Close"),
                    zoomInLabel: Object(v.f)("#ClanImage_ZoomIn"),
                    zoomOutLabel: Object(v.f)("#ClanImage_ZoomOut"),
                    imageLoadErrorMessage: Object(v.f)(
                      "#ClanImage_ImageLoadFailure"
                    ),
                    prevSrc: n > 0 ? a[n - 1].url : void 0,
                    prevSrcThumbnail: n > 0 ? a[n - 1].thumb_url : void 0,
                    onMoveNextRequest: function () {
                      return e.setState({ photoIndex: n + 1 });
                    },
                    onMovePrevRequest: function () {
                      return e.setState({ photoIndex: n - 1 });
                    },
                    onCloseRequest: this.OnExpandExitImage,
                    toolbarButtons: [
                      l.createElement(
                        "button",
                        {
                          key: "fullsize",
                          className: y.a.Full,
                          onClick: this.OnHandleExpandedFullSize,
                        },
                        Object(v.f)("#ImagePicker_FullSize")
                      ),
                      l.createElement(
                        "button",
                        {
                          key: "thumbnail",
                          className: y.a.Full,
                          onClick: this.OnHandleExpandedThumbnail,
                        },
                        Object(v.f)("#ImagePicker_Thumbnail")
                      ),
                    ],
                  })
              );
            }),
            (t.m_uploaderCounter = 1),
            Object(n.c)([S.a], t.prototype, "HandleLoadClanImages", null),
            Object(n.c)([S.a], t.prototype, "onSearchTextChangeHandler", null),
            Object(n.c)([S.a], t.prototype, "onSearchTextKeyPress", null),
            Object(n.c)([S.a], t.prototype, "onUploaderDismiss", null),
            Object(n.c)([S.a], t.prototype, "OnDropFiles", null),
            Object(n.c)([S.a], t.prototype, "OnExpandImage", null),
            Object(n.c)([S.a], t.prototype, "OnExpandExitImage", null),
            Object(n.c)([S.a], t.prototype, "OnHandleExpandedFullSize", null),
            Object(n.c)([S.a], t.prototype, "OnHandleExpandedThumbnail", null),
            Object(n.c)(
              [S.a],
              t.prototype,
              "OnHandleOpenLocalizedImageGroup",
              null
            ),
            Object(n.c)(
              [S.a],
              t.prototype,
              "InternalHandleExpandedAction",
              null
            ),
            Object(n.c)(
              [S.a],
              t.prototype,
              "InternalOpenLocalizeImageGroup",
              null
            ),
            (t = a = Object(n.c)([o.a], t))
          );
        })(l.Component),
        M = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnClanImageSelected = function (e, t) {
              var a = this.props,
                n = a.OnClanImageSelected,
                i = a.closeModal;
              n(e, t), i();
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.clanSteamID,
                a = e.closeModal;
              return l.createElement(
                _.d,
                {
                  strTitle: Object(v.f)("#ImagePicker_Images"),
                  strDescription: Object(v.f)(
                    "#ImagePicker_DoubleClickToSelect"
                  ),
                  bAlertDialog: !0,
                  onOK: a,
                  onCancel: a,
                },
                l.createElement(A, {
                  clanSteamID: t,
                  insertActions: [],
                  imageInsertCallBack: this.OnClanImageSelected,
                  bHideDragAndDrop: !0,
                  bShowLightBox: !1,
                  fnSetImageURL: this.props.fnSetImageURL,
                  rgRealmList: this.props.rgRealmList,
                })
              );
            }),
            Object(n.c)([S.a], t.prototype, "OnClanImageSelected", null),
            t
          );
        })(l.Component),
        k = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_myInstanceID = a.m_instanceID += 1),
              (t.m_fileInput = l.createRef()),
              (t.state = { dragging: !1 }),
              (t.m_dragEventCounter = 0),
              t
            );
          }
          var a;
          return (
            Object(n.d)(t, e),
            (a = t),
            (t.prototype.OverrideEventDefaults = function (e) {
              e.preventDefault(), e.stopPropagation();
            }),
            (t.prototype.DragEnterListener = function (e) {
              this.OverrideEventDefaults(e),
                (this.m_dragEventCounter += 1),
                ((e.dataTransfer.files && e.dataTransfer.files[0]) ||
                  (e.dataTransfer.types &&
                    "Files" === e.dataTransfer.types[0])) &&
                  (this.state.dragging || this.setState({ dragging: !0 }));
            }),
            (t.prototype.DragLeaveListener = function (e) {
              this.OverrideEventDefaults(e),
                (this.m_dragEventCounter -= 1),
                0 === this.m_dragEventCounter &&
                  this.state.dragging &&
                  this.setState({ dragging: !1 });
            }),
            (t.prototype.DropListener = function (e) {
              this.OverrideEventDefaults(e),
                (this.m_dragEventCounter = 0),
                this.setState({ dragging: !1 });
              var t = e.dataTransfer.files;
              t && t.length > 0 && t[0] && this.props.onDropFiles(t);
            }),
            (t.prototype.onFileChoice = function (e) {
              var t = e.target.files;
              t && t.length > 0 && t[0] && this.props.onDropFiles(t),
                this.m_fileInput.current &&
                  this.m_fileInput.current.value &&
                  (this.m_fileInput.current.value = null);
            }),
            (t.prototype.OnNoOp = function () {}),
            (t.prototype.OnClanImageDialog = function (e) {
              var t = this.props,
                a = t.clanSteamID,
                n = t.OnClanImageSelected;
              Object(g.d)(
                l.createElement(M, {
                  fnSetImageURL: this.props.fnSetImageURL,
                  clanSteamID: a,
                  OnClanImageSelected: n,
                  rgRealmList: this.props.rgRealmList,
                }),
                Object(h.m)(e)
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.renderDesciption;
              return l.createElement(
                "div",
                {
                  className: this.state.dragging
                    ? y.a.DragAndDropContainerDragging
                    : y.a.DragAndDropContainer,
                  onDrag: this.OverrideEventDefaults,
                  onDragStart: this.OverrideEventDefaults,
                  onDragEnd: this.OverrideEventDefaults,
                  onDragOver: this.OverrideEventDefaults,
                  onDragEnter: this.DragEnterListener,
                  onDragLeave: this.DragLeaveListener,
                  onDrop: this.DropListener,
                },
                Boolean(e) && e(),
                l.createElement(
                  "div",
                  null,
                  Object(v.f)("#ImagePicker_DragAndDrop")
                ),
                l.createElement(
                  "div",
                  { className: y.a.ImageUploadBar },
                  l.createElement(
                    "label",
                    { htmlFor: "imagepickerfilechoice" + this.m_myInstanceID },
                    l.createElement(
                      "span",
                      null,
                      Object(v.f)("#ImagePicker_OrBrowse"),
                      " "
                    ),
                    l.createElement(
                      "span",
                      { className: y.a.SelectImageButton },
                      Object(v.f)("#selectimage_select_file")
                    )
                  ),
                  l.createElement("input", {
                    ref: this.m_fileInput,
                    style: { display: "none" },
                    id: "imagepickerfilechoice" + this.m_myInstanceID,
                    type: "file",
                    onSubmit: this.onFileChoice,
                    onChange: this.onFileChoice,
                    multiple: !0,
                    accept: "image/png, image/jpg, image/gif",
                  })
                ),
                this.props.bAllowPreviousClanImages &&
                  l.createElement(
                    "div",
                    { className: y.a.ImageUploadBar },
                    l.createElement(
                      "label",
                      { htmlFor: "clanimagedialog" + this.m_myInstanceID },
                      l.createElement(
                        "span",
                        null,
                        Object(v.f)("#ImagePicker_PreviousImages"),
                        " "
                      ),
                      l.createElement(
                        "span",
                        { className: y.a.SelectImageButton },
                        Object(v.f)("#ImagePicker_PreviousImages2")
                      )
                    ),
                    l.createElement("input", {
                      style: { display: "none" },
                      id: "clanimagedialog" + this.m_myInstanceID,
                      type: "button",
                      onClick: this.OnClanImageDialog,
                    })
                  ),
                this.props.children
              );
            }),
            (t.m_instanceID = 0),
            Object(n.c)([S.a], t.prototype, "OverrideEventDefaults", null),
            Object(n.c)([S.a], t.prototype, "DragEnterListener", null),
            Object(n.c)([S.a], t.prototype, "DragLeaveListener", null),
            Object(n.c)([S.a], t.prototype, "DropListener", null),
            Object(n.c)([S.a], t.prototype, "onFileChoice", null),
            Object(n.c)([S.a], t.prototype, "OnNoOp", null),
            Object(n.c)([S.a], t.prototype, "OnClanImageDialog", null),
            (t = a = Object(n.c)([o.a], t))
          );
        })(l.Component),
        L = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_linkPopupRef = l.createRef()),
              (t.state = { bDeleting: !1 }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.onHandleFullSize = function () {
              this.props.imageInsertCallBack(
                this.props.clanImage,
                G.a.k_eInsertFullImage
              );
            }),
            (t.prototype.onHandleThumbnail = function () {
              this.props.imageInsertCallBack(
                this.props.clanImage,
                G.a.k_eInsertThumbnail
              );
            }),
            (t.prototype.onHandleLocalizedImageGroup = function () {
              this.props.fnOnOpenLocalizedImageGroup(this.props.clanImage);
            }),
            (t.prototype.ShowInsertAction = function (e) {
              return (
                !this.props.insertActions ||
                this.props.insertActions.indexOf(e) >= 0
              );
            }),
            (t.prototype.OnDragStartSource = function (e) {
              var t = this;
              e.dataTransfer.setData("text", this.props.clanImage.url),
                d.d.GetClanImageDragListener().forEach(function (e) {
                  e(c.a.InitFromClanID(t.props.clanImage.clanAccountID), !0);
                });
            }),
            (t.prototype.OnDragEndSource = function (e) {
              var t = this;
              d.d.GetClanImageDragListener().forEach(function (e) {
                e(c.a.InitFromClanID(t.props.clanImage.clanAccountID), !1);
              });
            }),
            (t.prototype.OnDeleteClick = function (e) {
              Object(g.c)(
                l.createElement(
                  _.d,
                  {
                    strTitle: Object(v.f)("#ImagePicker_DeleteImageTitle"),
                    strDescription: "",
                    onOK: this.onDelete,
                    onCancel: this.OnCloseDialog,
                    closeModal: this.OnCloseDialog,
                  },
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(
                      "div",
                      null,
                      Object(v.f)(
                        "#ImagePicker_DeleteAreYouSure",
                        this.props.clanImage.file_name
                      )
                    ),
                    l.createElement("br", null),
                    l.createElement("br", null),
                    l.createElement(
                      "div",
                      null,
                      Object(v.f)("#ImagePicker_DeleteWarning")
                    )
                  )
                ),
                Object(h.m)(e)
              );
            }),
            (t.prototype.ShowDeleteError = function (e) {
              console.log("ClanImageWrapper on delete error: " + e),
                Object(g.d)(
                  l.createElement(
                    _.f,
                    {
                      strTitle: Object(v.f)("#Error_FailureNotice"),
                      strDescription: Object(v.f)(
                        "#EventDisplay_DeleteEvent_Error"
                      ),
                    },
                    l.createElement("p", null, e)
                  ),
                  window
                );
            }),
            (t.prototype.onDelete = function () {
              var e = this;
              this.setState({ bDeleting: !0 });
              var t = c.a.InitFromClanID(this.props.clanImage.clanAccountID);
              d.d
                .DeleteClanImage(t, this.props.clanImage)
                .then(function (t) {
                  1 != t.success &&
                    e.ShowDeleteError(Object(f.a)(t).strErrorMsg),
                    e.setState({ bDeleting: !1 });
                })
                .catch(function (t) {
                  e.ShowDeleteError(Object(f.a)(t).strErrorMsg),
                    e.setState({ bDeleting: !1 });
                }),
                this.m_linkPopupRef &&
                  this.m_linkPopupRef.current &&
                  this.m_linkPopupRef.current.click(),
                this.OnCloseDialog();
            }),
            (t.prototype.OnCloseDialog = function () {}),
            (t.prototype.OnImageClick = function () {
              this.props.OnImageClick &&
                this.props.OnImageClick(this.props.clanImage);
            }),
            (t.prototype.render = function () {
              var e = this.props.clanImage,
                t = this.props.clanImage.file_name
                  ? this.props.clanImage.file_name
                  : "",
                a = Object(w.b)(
                  this.props.searchStringHilight,
                  t,
                  String(this.props.clanImage.imageid),
                  y.a.Hilight
                ),
                n = c.a.InitFromClanID(e.clanAccountID),
                i = u.a.Get().GetPartnerEventPermissions(n),
                r = this.state.bDeleting,
                o = !r && this.ShowInsertAction(G.a.k_eInsertFullImage),
                s = !r && this.ShowInsertAction(G.a.k_eInsertThumbnail),
                d = Boolean(
                  !r &&
                    i.valve_admin &&
                    this.ShowInsertAction(G.a.k_eShowImageGroup)
                );
              return l.createElement(
                "div",
                { className: y.a.ImageWrapperContainer },
                l.createElement(
                  "div",
                  { className: y.a.ImageButton },
                  l.createElement("div", {
                    className: y.a.ImageWrapper,
                    style: {
                      backgroundImage:
                        "url( '" + this.props.clanImage.thumb_url + "' )",
                    },
                    draggable: !0,
                    onDragStart: this.OnDragStartSource,
                    onDragEnd: this.OnDragEndSource,
                    onDoubleClick: this.onHandleFullSize,
                    onClick: this.OnImageClick,
                  }),
                  o &&
                    l.createElement(
                      "span",
                      { className: y.a.Full, onClick: this.onHandleFullSize },
                      Object(v.f)("#ImagePicker_FullSize")
                    ),
                  r &&
                    l.createElement(E.a, {
                      size: "medium",
                      className: y.a.FloatingThrobber,
                    }),
                  s &&
                    l.createElement(
                      "span",
                      { className: y.a.Thumb, onClick: this.onHandleThumbnail },
                      Object(v.f)("#ImagePicker_Thumbnail")
                    ),
                  d &&
                    l.createElement(
                      "span",
                      {
                        className: Object(b.a)(
                          y.a.Localized,
                          m.a.ValveOnlyBackground
                        ),
                        onClick: this.onHandleLocalizedImageGroup,
                      },
                      "(VO) " + Object(v.f)("#ImagePicker_Localized")
                    ),
                  !r &&
                    l.createElement(
                      "span",
                      { className: y.a.Delete, onClick: this.OnDeleteClick },
                      l.createElement("img", null)
                    ),
                  l.createElement(
                    "div",
                    { className: y.a.ImageWrapperFilename, title: t },
                    a
                  )
                )
              );
            }),
            Object(n.c)([S.a], t.prototype, "onHandleFullSize", null),
            Object(n.c)([S.a], t.prototype, "onHandleThumbnail", null),
            Object(n.c)(
              [S.a],
              t.prototype,
              "onHandleLocalizedImageGroup",
              null
            ),
            Object(n.c)([S.a], t.prototype, "OnDragStartSource", null),
            Object(n.c)([S.a], t.prototype, "OnDragEndSource", null),
            Object(n.c)([S.a], t.prototype, "OnDeleteClick", null),
            Object(n.c)([S.a], t.prototype, "onDelete", null),
            Object(n.c)([S.a], t.prototype, "OnCloseDialog", null),
            Object(n.c)([S.a], t.prototype, "OnImageClick", null),
            t
          );
        })(l.Component),
        N = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.onRetry = function () {
              this.props.uploader.RetryAllFailedUploads();
            }),
            (t.prototype.onCancelUploads = function () {
              this.props.uploader.CancelAllUploads(), this.props.onDismiss();
            }),
            (t.prototype.render = function () {
              var e = this.props.uploader,
                t = e.BAllDone(),
                a = !t && !e.BHasError();
              return l.createElement(
                "div",
                { className: y.a.UploaderContainer },
                a &&
                  l.createElement(
                    "div",
                    { className: y.a.UploaderRunning },
                    l.createElement(
                      "div",
                      { className: y.a.UploaderDesc },
                      Object(v.f)(
                        "#ImageUpload_Desc",
                        e.GetCompletedFiles(),
                        e.GetTotalFiles()
                      )
                    ),
                    l.createElement(
                      "button",
                      {
                        className: "DialogButton",
                        onClick: this.onCancelUploads,
                      },
                      Object(v.f)("#Button_Cancel")
                    )
                  ),
                e.BHasError() &&
                  l.createElement(
                    "div",
                    { className: y.a.UploadMessageAndButtonsContainer },
                    l.createElement(
                      "div",
                      { className: y.a.UploadError },
                      Object(v.f)(
                        "#ImageUpload_Error",
                        e.GetLastErrorFile().file.name,
                        e.GetLastErrorFile().status,
                        e.GetLastErrorFile().message
                      )
                    ),
                    l.createElement(
                      "button",
                      {
                        className: y.a.UploadButtonCancel,
                        onClick: this.props.onDismiss,
                      },
                      Object(v.f)("#Button_Cancel")
                    ),
                    l.createElement(
                      "button",
                      {
                        className: y.a.UploadButtonRetry,
                        onClick: this.onRetry,
                      },
                      Object(v.f)("#Button_Retry")
                    )
                  ),
                t &&
                  l.createElement(
                    "div",
                    { className: y.a.UploadMessageAndButtonsContainer },
                    l.createElement(
                      "div",
                      { className: y.a.UploadSuccess },
                      Object(v.f)("#ImageUpload_Success")
                    )
                  )
              );
            }),
            Object(n.c)([S.a], t.prototype, "onRetry", null),
            Object(n.c)([S.a], t.prototype, "onCancelUploads", null),
            (t = Object(n.c)([o.a], t))
          );
        })(l.Component);
    },
    OzNB: function (e, t, a) {
      e.exports = {
        SummaryItems: "partnereventpublishingtab_SummaryItems_12a_L",
        ReachItems: "partnereventpublishingtab_ReachItems_H_jRC",
        StatusRow: "partnereventpublishingtab_StatusRow_SZwFX",
        StatusText: "partnereventpublishingtab_StatusText_1NUKt",
        LinkRow: "partnereventpublishingtab_LinkRow_1WnQ1",
        ReachSubject: "partnereventpublishingtab_ReachSubject_3EQb8",
        Future: "partnereventpublishingtab_Future_5EyH7",
        ReachColumnTitles: "partnereventpublishingtab_ReachColumnTitles_6VhIV",
        ReachColumnName: "partnereventpublishingtab_ReachColumnName_3ORkB",
        ReachSubjectOptional:
          "partnereventpublishingtab_ReachSubjectOptional_aXhwG",
        ReactSubjectOptionalText:
          "partnereventpublishingtab_ReactSubjectOptionalText_2CIfG",
        ReachPendingVisibilityText:
          "partnereventpublishingtab_ReachPendingVisibilityText_n1wAj",
      };
    },
    P2lf: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return d;
      }),
        a.d(t, "a", function () {
          return u;
        });
      var n = a("mrSG"),
        i = a("NpuA"),
        r = a.n(i),
        o = a("mgoM"),
        l = a("kyHq"),
        s = a("Kw0F"),
        c = a("TLQK"),
        d = (function () {
          function e() {
            this.m_mapTokens = new Map();
          }
          return (
            (e.prototype.GetLocalization = function (e, t) {
              var a = this.m_mapTokens.get(e);
              if (a && a[t]) return a[t];
            }),
            (e.prototype.SetLocalization = function (e, t, a) {
              var n = this.m_mapTokens.get(e);
              n ||
                ((n = Object(s.e)([], 30, null)), this.m_mapTokens.set(e, n)),
                (n[t] = a);
            }),
            (e.prototype.GetSortedTokenList = function () {
              var e = [];
              return (
                this.m_mapTokens.forEach(function (t, a) {
                  return e.push(a);
                }),
                e.sort(function (e, t) {
                  return e.localeCompare(t);
                }),
                e
              );
            }),
            (e.prototype.GetLanguagesWithTokens = function () {
              var e = new Map();
              this.m_mapTokens.forEach(function (t) {
                for (var a = 0; a < t.length; ++a)
                  !e.has(a) &&
                    null !== t[a] &&
                    void 0 !== t[a] &&
                    t[a].trim().length > 0 &&
                    e.set(a, !0);
              });
              var t = new Array();
              return (
                e.forEach(function (e, a) {
                  e && t.push(a);
                }),
                t
              );
            }),
            (e.prototype.ClearLanguagesTokens = function (e) {
              var t = this;
              e.forEach(function (e) {
                t.m_mapTokens.forEach(function (t, a) {
                  e < t.length && null !== t[e] && (t[e] = null);
                });
              });
            }),
            e
          );
        })(),
        u = (function () {
          function e() {
            this.m_DummyValueForQuestionHack = 0;
          }
          return (
            (e.prototype.DetectAndFormatCSV = function (e) {
              var t,
                a,
                n,
                i,
                r,
                l,
                s = null;
              return (
                (null ===
                  (a =
                    null === (t = null == e ? void 0 : e.meta) || void 0 === t
                      ? void 0
                      : t.fields) || void 0 === a
                  ? void 0
                  : a.length) >= 3 &&
                "field" === e.meta.fields[0] &&
                "language" === e.meta.fields[1] &&
                "value" === e.meta.fields[2]
                  ? (s = this.ReadLocalizationData_CSV_TokenLanguageList(e))
                  : (null ===
                      (i =
                        null === (n = null == e ? void 0 : e.meta) ||
                        void 0 === n
                          ? void 0
                          : n.fields) || void 0 === i
                      ? void 0
                      : i.length) >= 2 &&
                    "field" === e.meta.fields[0] &&
                    -1 != Object(o.d)(e.meta.fields[1], -1)
                  ? (s = this.ReadLocalizationData_CSV_LanguageColumns(e))
                  : (null ===
                      (l =
                        null === (r = null == e ? void 0 : e.meta) ||
                        void 0 === r
                          ? void 0
                          : r.fields) || void 0 === l
                      ? void 0
                      : l.length) >= 2 &&
                    "language" === e.meta.fields[0] &&
                    (s = this.ReadLocalizationData_CSV_LanguageRows(e)),
                s
              );
            }),
            (e.WriteFile = function (e, t) {
              var a = document.createElement("a");
              if (navigator.msSaveBlob) navigator.msSaveBlob(e, t);
              else {
                var n = window.URL.createObjectURL(e);
                a.href = n;
              }
              a.setAttribute("download", t), a.click();
              try {
                document.removeChild(a);
              } catch (e) {}
            }),
            (e.prototype.ReadFile = function (e) {
              return new Promise(function (t, a) {
                var n = new FileReader();
                (n.onload = function (e) {
                  return t(n.result);
                }),
                  n.readAsText(e);
              });
            }),
            (e.prototype.WriteCSVToFile = function (t, a) {
              var n = r.a.unparse(t, { header: !0 });
              e.WriteFile(
                new Blob([n], { type: "text/csv:charset=utf-8;" }),
                a
              );
            }),
            (e.prototype.WriteXMLToFile = function (t, a) {
              var n = this,
                i = function () {
                  return n.m_DummyValueForQuestionHack ? "never returned" : "?";
                },
                r =
                  "<" +
                  i() +
                  'xml version="1.0" encoding="UTF-8" ' +
                  i() +
                  ">\n";
              (r += new XMLSerializer().serializeToString(t)),
                e.WriteFile(
                  new Blob([r], { type: "application/xml:charset=utf-8;" }),
                  a
                );
            }),
            (e.prototype.ReadLocalizationData_XML_SingleLanguage = function (
              e,
              t
            ) {
              return Object(n.b)(this, void 0, void 0, function () {
                var a, i, r, o, l, s, c, u;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (a = new d()),
                        (i = new DOMParser()),
                        [4, this.ReadFile(e)]
                      );
                    case 1:
                      for (
                        r = n.sent(),
                          o = i.parseFromString(
                            r.toString(),
                            "application/xml"
                          ),
                          l = 0;
                        l < o.documentElement.children.length;
                        ++l
                      )
                        (s = o.documentElement.children.item(l)),
                          (c = s.getAttribute("id").toLocaleLowerCase()),
                          (u = s.textContent),
                          a.SetLocalization(c, t, u);
                      return [2, a];
                  }
                });
              });
            }),
            (e.prototype.ReadLocalizationData_CSV_TokenLanguageList = function (
              e
            ) {
              var t = new d();
              return (
                e.data.forEach(function (e) {
                  var a = e.field,
                    n = Object(o.d)(e.language);
                  t.SetLocalization(a, n, e.value);
                }),
                t
              );
            }),
            (e.prototype.ReadLocalizationData_CSV_LanguageColumns = function (
              e
            ) {
              var t = new d();
              return (
                e.data.forEach(function (e) {
                  for (var a = e.field, n = 0; n < 30; ++n) {
                    var i = Object(o.c)(Object(o.a)(n));
                    t.SetLocalization(a, n, e[i]);
                  }
                }),
                t
              );
            }),
            (e.prototype.ReadLocalizationData_CSV_LanguageRows = function (e) {
              var t = new d();
              return (
                e.data.forEach(function (e) {
                  var a = Object(o.d)(e.language, 30);
                  if (30 !== a)
                    for (var n = 0, i = Object.entries(e); n < i.length; n++) {
                      var r = i[n],
                        l = r[0],
                        s = r[1];
                      "language" !== l &&
                        "string" == typeof s &&
                        t.SetLocalization(l, a, s);
                    }
                }),
                t
              );
            }),
            (e.prototype.GetExportLanguages = function () {
              return c.b.GetLanguageListForRealms([l.f.k_ESteamRealmGlobal]);
            }),
            (e.prototype.WriteLocalizationData_CSV_TokenAndLanguageColumns = function (
              e,
              t
            ) {
              var a = this,
                n = new Array();
              e.GetSortedTokenList().forEach(function (t) {
                for (var i = 0, r = a.GetExportLanguages(); i < r.length; i++) {
                  var l = r[i],
                    s = { field: t };
                  (s.language = Object(o.c)(Object(o.a)(l))),
                    (s.value = e.GetLocalization(t, l)),
                    n.push(s);
                }
              }),
                this.WriteCSVToFile(n, t);
            }),
            (e.prototype.WriteLocalizationData_CSV_LanguageColumns = function (
              e,
              t
            ) {
              var a = this,
                n = new Array();
              e.GetSortedTokenList().forEach(function (t) {
                for (
                  var i = { field: t }, r = 0, l = a.GetExportLanguages();
                  r < l.length;
                  r++
                ) {
                  var s = l[r];
                  i[Object(o.c)(Object(o.a)(s))] = e.GetLocalization(t, s);
                }
                n.push(i);
              }),
                this.WriteCSVToFile(n, t);
            }),
            (e.prototype.WriteLocalizationData_CSV_LanguageRows = function (
              e,
              t
            ) {
              for (
                var a = this,
                  n = new Array(),
                  i = 0,
                  r = this.GetExportLanguages();
                i < r.length;
                i++
              ) {
                var l = r[i];
                n.push({ language: Object(o.c)(Object(o.a)(l)) });
              }
              e.GetSortedTokenList().forEach(function (t) {
                for (var i = 0, r = a.GetExportLanguages(); i < r.length; i++) {
                  var o = r[i];
                  n[o][t] = e.GetLocalization(t, o);
                }
              }),
                this.WriteCSVToFile(n, t);
            }),
            (e.prototype.WriteLocalizationData_XML_SingleLanguage = function (
              e,
              t,
              a
            ) {
              var n = document.implementation.createDocument(
                null,
                "content",
                null
              );
              e.GetSortedTokenList().forEach(function (a) {
                var i = n.createElement("string");
                i.setAttribute("id", a),
                  i.appendChild(
                    n.createTextNode(e.GetLocalization(a, t) || "")
                  ),
                  n.documentElement.append(i);
              }),
                this.WriteXMLToFile(n, a);
            }),
            e
          );
        })();
    },
    PqGv: function (e, t, a) {
      e.exports = {
        EventCategory_SteamAwardsNomination:
          "partnereventspecialcategories_EventCategory_SteamAwardsNomination_3QxOk",
        SteamAwardCategoryPicker:
          "partnereventspecialcategories_SteamAwardCategoryPicker_2LfKB",
        SteamAwardCategoryOptions:
          "partnereventspecialcategories_SteamAwardCategoryOptions_1wsxj",
        event_nomination_banner_ctn:
          "partnereventspecialcategories_event_nomination_banner_ctn_-WzN3",
        CategoryTextCtn: "partnereventspecialcategories_CategoryTextCtn_3vRv1",
        SteamAwardTitle: "partnereventspecialcategories_SteamAwardTitle_3Sq0j",
        event_nomination_trophy:
          "partnereventspecialcategories_event_nomination_trophy_3kVDt",
        RadioBtnCtn: "partnereventspecialcategories_RadioBtnCtn_1Y6BP",
        CategoryTitle: "partnereventspecialcategories_CategoryTitle_25wr6",
        Halloween: "partnereventspecialcategories_Halloween_1etNG",
        EventTitle: "partnereventspecialcategories_EventTitle_6NPnW",
        EventDesc: "partnereventspecialcategories_EventDesc_2aLMq",
      };
    },
    Q47U: function (e, t, a) {
      "use strict";
      a.d(t, "c", function () {
        return d;
      }),
        a.d(t, "b", function () {
          return u;
        }),
        a.d(t, "a", function () {
          return p;
        });
      var n = a("mrSG"),
        i = a("2vnA"),
        r = a("dZOt"),
        o = a("Kw0F"),
        l = a("r64O"),
        s = a("lkRc"),
        c = a("fcuX"),
        d = {
          capability: 1,
          appids: [],
          partnerids: [],
          pub_rights: 0,
          app_rights: 0,
          priority: !1,
        },
        u = (function (e) {
          function t(t) {
            var a = e.call(this, t.GetEmailSettings()) || this;
            return (
              (a.m_editModel = t),
              (a.m_sections = new Array()),
              a.m_setting.sections.forEach(function (e) {
                return a.m_sections.push(new p(e, t));
              }),
              s.b.IS_VALVE_GROUP &&
                (a.m_setting.internal_targeting
                  ? a.m_setting.internal_targeting.partnerids ||
                    (a.m_setting.internal_targeting.partnerids = [])
                  : (a.m_setting.internal_targeting = Object(n.a)({}, d))),
              a
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.BSameEditModel = function (e) {
              return e === this.m_editModel;
            }),
            (t.prototype.GetNumSections = function () {
              return this.m_sections.length;
            }),
            (t.prototype.GetSectionObj = function (e) {
              return this.m_sections[e];
            }),
            (t.prototype.GetSectionObjects = function () {
              return this.m_sections;
            }),
            (t.prototype.LockEmail = function () {
              this.m_setting.locked ||
                ((this.m_setting.locked = !0),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetSubjectTextLoc = function (e) {
              this.m_setting.subject_loc_token != e &&
                ((this.m_setting.subject_loc_token = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.EnsureTargetingExists = function () {
              if (!this.m_setting.targeting) {
                this.m_setting.targeting = Object(i.C)({});
              }
            }),
            (t.prototype.EnsureFilteringExists = function () {
              if (!this.m_setting.filtering) {
                this.m_setting.filtering = Object(i.C)({});
              }
            }),
            (t.prototype.SetFilterIRTopN = function (e) {
              this.EnsureFilteringExists(),
                this.m_setting.filtering.ir_topn !== e &&
                  ((this.m_setting.filtering.ir_topn = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetFilterWishlist = function (e) {
              this.EnsureFilteringExists(),
                this.m_setting.filtering.wishlist !== e &&
                  ((this.m_setting.filtering.wishlist = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetControlGroupPercent = function (e) {
              Object(l.a)(
                e >= 0 && e <= 99,
                "SetControlGroupPercent outside of bounds: " + e
              ),
                (!e || e <= 0) && (e = 0),
                e > 99 && (e = 99),
                this.EnsureFilteringExists(),
                this.m_setting.filtering.control_group_percent !== e &&
                  ((this.m_setting.filtering.control_group_percent = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetTargetingExistingPlayer = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_players !== e &&
                  ((this.m_setting.targeting.game_players = e),
                  e &&
                    (this.m_setting.targeting.game_owner_with_no_playtime = !1),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetTargetingGameWishlist = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_wishlister !== e &&
                  ((this.m_setting.targeting.game_wishlister = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetExcludeGameOwners = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_exclude_owners !== e &&
                  ((this.m_setting.targeting.game_exclude_owners = e),
                  e &&
                    (this.m_setting.targeting.game_owner_with_no_playtime = !1),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetOwnersWithNoPlaytime = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_owner_with_no_playtime !== e &&
                  ((this.m_setting.targeting.game_owner_with_no_playtime = e),
                  e &&
                    ((this.m_setting.targeting.game_exclude_owners = !1),
                    (this.m_setting.targeting.game_players = !1),
                    (this.m_setting.targeting.creator_home_player = void 0)),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetTargetingGameFollower = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_followers !== e &&
                  ((this.m_setting.targeting.game_followers = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetTargetingCreator = function (e, t) {
              this.EnsureTargetingExists(),
                (this.m_setting.targeting.creator_home = e ? [t] : void 0),
                this.m_setting.targeting.creator_home_player &&
                  this.m_setting.targeting.creator_home_player[0] != t &&
                  (this.m_setting.targeting.creator_home_player = void 0),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            (t.prototype.SetTargetingCreatorPlayer = function (e, t) {
              this.EnsureTargetingExists(),
                (this.m_setting.targeting.creator_home_player = e
                  ? [t]
                  : void 0),
                this.m_setting.targeting.creator_home &&
                  this.m_setting.targeting.creator_home[0] != t &&
                  (this.m_setting.targeting.creator_home = void 0),
                e &&
                  (this.m_setting.targeting.game_owner_with_no_playtime = !1),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            (t.prototype.SetForceFeatureID = function (e) {
              this.m_setting.force_feature_id != e &&
                ((this.m_setting.force_feature_id = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetLocalizedSubject = function (e, t) {
              return (
                (!this.m_setting.localized_subject ||
                  this.m_setting.localized_subject.length < 30) &&
                  (this.m_setting.localized_subject = Object(o.e)(
                    this.m_setting.localized_subject || [],
                    30,
                    null
                  )),
                this.m_setting.localized_subject[e] != t &&
                  ((this.m_setting.localized_subject[e] = t),
                  this.m_editModel.SetDirty(c.c.jsondata_email),
                  !0)
              );
            }),
            (t.prototype.RemoveSection = function (e) {
              this.m_sections &&
                e < this.m_sections.length &&
                (this.m_setting.sections.splice(e, 1),
                this.m_sections.splice(e, 1),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.AddSection = function (e) {
              this.m_setting.sections.push(Object(n.a)({}, e)),
                this.m_sections.push(
                  new p(
                    this.m_setting.sections[this.m_setting.sections.length - 1],
                    this.m_editModel
                  )
                ),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            (t.prototype.SetInternalTargetPriority = function (e) {
              this.m_setting.internal_targeting.priority !== e &&
                ((this.m_setting.internal_targeting.priority = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetInternalTargetPartnerCapability = function (e) {
              this.m_setting.internal_targeting.capability !== e &&
                ((this.m_setting.internal_targeting.capability = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.UpdateInternalTargetPublisherRights = function (e, t) {
              ((this.m_setting.internal_targeting.pub_rights & e) === e) !==
                t &&
                (t
                  ? (this.m_setting.internal_targeting.pub_rights |= e)
                  : (this.m_setting.internal_targeting.pub_rights &= ~e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.UpdateInternalTargetAppRights = function (e, t) {
              ((this.m_setting.internal_targeting.app_rights & e) === e) !==
                t &&
                (t
                  ? (this.m_setting.internal_targeting.app_rights |= e)
                  : (this.m_setting.internal_targeting.app_rights &= ~e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetInternalAppIDs = function (e) {
              (this.m_setting.internal_targeting.appids = e),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            (t.prototype.SetInternalPublisherIDs = function (e) {
              (this.m_setting.internal_targeting.partnerids = e),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            Object(n.c)([i.C], t.prototype, "m_sections", void 0),
            Object(n.c)([i.k], t.prototype, "SetFilterIRTopN", null),
            Object(n.c)([i.k], t.prototype, "SetFilterWishlist", null),
            Object(n.c)([i.k], t.prototype, "SetControlGroupPercent", null),
            Object(n.c)([i.k], t.prototype, "SetTargetingExistingPlayer", null),
            Object(n.c)([i.k], t.prototype, "SetTargetingGameWishlist", null),
            Object(n.c)([i.k], t.prototype, "SetExcludeGameOwners", null),
            Object(n.c)([i.k], t.prototype, "SetOwnersWithNoPlaytime", null),
            Object(n.c)([i.k], t.prototype, "SetTargetingGameFollower", null),
            Object(n.c)([i.k], t.prototype, "SetTargetingCreator", null),
            Object(n.c)([i.k], t.prototype, "SetTargetingCreatorPlayer", null),
            Object(n.c)([i.k], t.prototype, "SetForceFeatureID", null),
            Object(n.c)([i.k], t.prototype, "SetLocalizedSubject", null),
            Object(n.c)([i.k], t.prototype, "RemoveSection", null),
            Object(n.c)([i.k], t.prototype, "AddSection", null),
            Object(n.c)([i.k], t.prototype, "SetInternalTargetPriority", null),
            Object(n.c)(
              [i.k],
              t.prototype,
              "SetInternalTargetPartnerCapability",
              null
            ),
            Object(n.c)(
              [i.k],
              t.prototype,
              "UpdateInternalTargetPublisherRights",
              null
            ),
            Object(n.c)(
              [i.k],
              t.prototype,
              "UpdateInternalTargetAppRights",
              null
            ),
            Object(n.c)([i.k], t.prototype, "SetInternalAppIDs", null),
            Object(n.c)([i.k], t.prototype, "SetInternalPublisherIDs", null),
            t
          );
        })(r.b),
        p = (function (e) {
          function t(t, a) {
            var n = e.call(this, t) || this;
            return (n.m_editModel = a), n;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.SetHeadline = function (e, t) {
              return (
                (this.m_section.localized_headline.length < t ||
                  this.m_section.localized_headline[t] !== e) &&
                ((this.m_section.localized_headline[t] = e),
                this.m_editModel.SetDirty(c.c.jsondata_email),
                !0)
              );
            }),
            (t.prototype.SetBody = function (e, t) {
              return (
                (this.m_section.localized_body.length < t ||
                  this.m_section.localized_body[t] !== e) &&
                ((this.m_section.localized_body[t] = e),
                this.m_editModel.SetDirty(c.c.jsondata_email),
                !0)
              );
            }),
            (t.prototype.SetVideoLink = function (e) {
              this.m_section.video_link !== e &&
                ((this.m_section.video_link = e),
                (this.m_section.video_image = void 0),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetVideoHashAndExt = function (e) {
              this.m_section.video_image !== e &&
                ((this.m_section.video_image = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetImage = function (e, t) {
              (this.m_section.localized_image.length < t ||
                this.m_section.localized_image[t] !== e) &&
                ((this.m_section.localized_image[t] = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetButtonTextLock = function (e) {
              this.m_section.button_loc_token !== e &&
                ((this.m_section.button_loc_token = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetButtonDestination = function (e) {
              this.m_section.button_destination !== e &&
                ((this.m_section.button_destination = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.IsValidStoreURL = function (e) {
              return e && e.startsWith("https://store.steampowered.com/");
            }),
            (t.prototype.SetButtonDestinationStoreURL = function (e) {
              if (t.IsValidStoreURL(e)) {
                var a = e.substr("https://store.steampowered.com/".length);
                a != this.m_section.button_store_path &&
                  ((this.m_section.button_store_path = a),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
              }
            }),
            (t.prototype.SetButtonAppOverride = function (e) {
              this.m_section.button_appid_override !== e &&
                ((this.m_section.button_appid_override = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.RemoveSubSection = function (e) {
              switch (e) {
                case "headline":
                  this.BHasHeadline() &&
                    ((this.m_section.localized_headline = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                case "body":
                  this.BHasBody() &&
                    ((this.m_section.localized_body = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                case "img":
                  this.BHasImage() &&
                    ((this.m_section.localized_image = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                case "action":
                  this.BHasCallToAction() &&
                    ((this.m_section.button_loc_token = void 0),
                    (this.m_section.button_appid_override = void 0),
                    (this.m_section.button_destination = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                case "youtube":
                  this.BHasVideo() &&
                    ((this.m_section.video_link = void 0),
                    (this.m_section.video_image = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                default:
                  console.error(
                    "CEmailSectionEditModel: Unexpected Email Template SubType to Remove: " +
                      e
                  );
              }
            }),
            (t.prototype.BHasSomeSubSection = function () {
              return (
                this.BHasHeadline() ||
                this.BHasBody() ||
                this.BHasImage() ||
                this.BHasCallToAction() ||
                this.BHasVideo()
              );
            }),
            Object(n.c)([i.k], t.prototype, "SetHeadline", null),
            Object(n.c)([i.k], t.prototype, "SetBody", null),
            Object(n.c)([i.k], t.prototype, "SetVideoLink", null),
            Object(n.c)([i.k], t.prototype, "SetVideoHashAndExt", null),
            Object(n.c)([i.k], t.prototype, "SetImage", null),
            Object(n.c)([i.k], t.prototype, "SetButtonTextLock", null),
            Object(n.c)([i.k], t.prototype, "SetButtonDestination", null),
            Object(n.c)(
              [i.k.bound],
              t.prototype,
              "SetButtonDestinationStoreURL",
              null
            ),
            Object(n.c)([i.k], t.prototype, "SetButtonAppOverride", null),
            Object(n.c)([i.k], t.prototype, "RemoveSubSection", null),
            t
          );
        })(r.a);
    },
    R5ed: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return n;
      }),
        a.d(t, "b", function () {
          return q;
        }),
        a.d(t, "c", function () {
          return re;
        });
      var n,
        i = a("mrSG"),
        r = a("t0uJ"),
        o = a("2vnA"),
        l = a("TyAF"),
        s = a("q1tI"),
        c = a("dsQf"),
        d = a.n(c),
        u = a("mgoM"),
        p = a("kyHq"),
        m = a("Nsq5"),
        _ = a("qD+2"),
        g = a("kLLr"),
        E = a("ir+G"),
        b = a("U+Q5"),
        h = a("I/R6"),
        v = a("UWWC"),
        f = a("Mgs7"),
        S = a("qP7j"),
        O = a("yJqL"),
        y = a("TOXn"),
        C = a("SdTr"),
        j = a("vBFs"),
        T = a("fpVW"),
        I = a.n(T),
        D = a("Txw1"),
        w = a.n(D),
        G = a("exH9"),
        A = a("opsS"),
        M = a("UxvL"),
        k = a("lkRc"),
        L = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.OnClick = function (e) {
              e.preventDefault();
              var t = this.props,
                a = t.fnHandleOpenEvent,
                n = t.event;
              a && a(n);
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.event,
                a = e.spotlightURLOverride,
                n = e.headerNavElement,
                i = e.fnImageFailureCallback,
                r = e.fnFilterImageURLsForKnownFailures,
                o = e.langOverride || Object(u.d)(k.c.LANGUAGE),
                l =
                  void 0 !== a
                    ? [a]
                    : t.GetImageForSizeAsArrayWithFallback(
                        "spotlight",
                        o,
                        b.c.spotlight_main
                      );
              r && (l = r(l));
              var c = t.GetSummaryWithFallback(o),
                d = t.GetNameWithFallback(0),
                p = t.GetCategoryAsString();
              c = c.replace(/https:\/\/[^ ]*/gi, "").trimLeft();
              var m = s.createElement(
                "span",
                { className: w.a.EventType },
                p,
                " - "
              );
              return s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "div",
                  { className: w.a.MajorEvent_Ctn },
                  s.createElement(
                    "div",
                    { className: w.a.MajorEventHeader },
                    s.createElement("div", { className: w.a.EventType }, m),
                    s.createElement(
                      "div",
                      { className: w.a.PartnerEventLargeImage_Title },
                      d
                    ),
                    n
                  ),
                  s.createElement(
                    "div",
                    {
                      className: Object(G.a)(
                        w.a.AppDetailsSpotlightContainer,
                        w.a.MajorEventContainer
                      ),
                      onClick: this.OnClick,
                    },
                    s.createElement(
                      "div",
                      { className: w.a.MajorEventBackground },
                      s.createElement(M.a, {
                        className: w.a.MajorEventImageBackgroundBlur,
                        rgSources: l,
                        onIncrementalError: function (e, t, a) {
                          return i && i(t);
                        },
                      })
                    ),
                    s.createElement(
                      "div",
                      { className: w.a.MajorEventImageContainer },
                      s.createElement(M.a, {
                        className: w.a.MajorEventImage,
                        rgSources: l,
                        onIncrementalError: function (e, t, a) {
                          return i && i(t);
                        },
                      }),
                      s.createElement("div", {
                        className: w.a.MajorEventImageTemplate,
                      }),
                      s.createElement(
                        "div",
                        { className: w.a.MajoreEventImageContentContainer },
                        t.BShowLibrarySpotlightText() &&
                          s.createElement(
                            "div",
                            { className: w.a.MajorEventContent },
                            s.createElement(M.a, {
                              className: w.a.MajorEventSpotlightBackground,
                              rgSources: l,
                              onIncrementalError: function (e, t, a) {
                                return i && i(t);
                              },
                            }),
                            s.createElement(
                              "div",
                              { className: w.a.MajorEventTextCtn },
                              s.createElement(
                                "div",
                                { className: w.a.MajorEventTitle },
                                t.GetNameWithFallback(o)
                              ),
                              s.createElement(
                                "div",
                                { className: w.a.MajorEventSummary },
                                c
                              )
                            )
                          )
                      )
                    ),
                    s.createElement("div", { className: w.a.BottomShadow })
                  )
                )
              );
            }),
            Object(i.c)([A.a], t.prototype, "OnClick", null),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component),
        N = a("Jqb/"),
        B = a("ka0M"),
        R = a("6Y59"),
        F = a("X3Ds"),
        P = a("TLQK"),
        x = a("6h0J"),
        U = a.n(x),
        H = a("75vw"),
        V = a("bVxH"),
        z = a("6Oks"),
        W = a.n(z);
      !(function (e) {
        (e[(e.k_None = 0)] = "k_None"),
          (e[(e.k_Suggested = 1)] = "k_Suggested"),
          (e[(e.k_Required = 2)] = "k_Required");
      })(n || (n = {}));
      var q = Object(l.a)(function (e) {
          var t = r.c.GetEditModel(),
            a = e.artworkType,
            i = e.headerHint,
            o = null;
          i === n.k_Required
            ? (o = s.createElement(
                "span",
                { style: { color: "#C6512B" } },
                Object(P.f)("#EventEditor_Required")
              ))
            : i === n.k_Suggested &&
              (o = s.createElement(
                "span",
                { style: { color: "#D7BC86" } },
                Object(P.f)("#EventEditor_Suggested")
              ));
          var l = null;
          if ("capsule" === a)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(P.f)("#selectimage_tip_design_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_capsule_1")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(P.f)("#selectimage_tip_usage_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_capsule_2")
              )
            );
          else if ("background" === a)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(P.f)("#selectimage_tip_design_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_background_1")
              )
            );
          else if ("spotlight" === a)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(P.f)("#selectimage_tip_usage_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_spotlight_1")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(P.f)("#selectimage_tip_design_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_spotlight_2")
              )
            );
          else if ("broadcast_left" === a || "broadcast_right" === a)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                Object(P.f)("#selectimage_tip_broadcast_1")
              )
            );
          else if ("sale_header" === a)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "div",
                { className: I.a.EventElementRequired },
                Object(P.f)("#selectimage_tip_required_title")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "b",
                  null,
                  Object(P.f)("#selectimage_tip_usage_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_sale_header_1")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "b",
                  null,
                  Object(P.f)("#selectimage_tip_design_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_sale_header_2")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "b",
                  null,
                  Object(P.f)("#selectimage_tip_template_title")
                ),
                ": ",
                s.createElement(
                  "a",
                  {
                    href:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/SalePageTemplates.zip",
                  },
                  Object(P.f)("#selectimage_tip_sale_header_3")
                )
              ),
              s.createElement("br", null)
            );
          else if ("hero" === a) {
            var c = E.a.GetStoreCapsuleInfo(t.GetAppID());
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                Object(P.f)("#selectimage_tip_hero_1")
              ),
              !c.GetAppStoreData().library_asset_setup_complete &&
                s.createElement(
                  "p",
                  { className: S.ErrorStylesBackground },
                  Object(P.f)("#EventEdtior_ArtworkType_hero_warning")
                )
            );
          } else
            "localized_image_group" === a ||
            "link_capsule" === a ||
            "sale_section_title" === a ||
            "schedule_track_art" === a
              ? (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "p",
                    null,
                    Object(P.f)("#ImagePickerLoc_Desc")
                  ),
                  s.createElement(
                    "p",
                    null,
                    Object(P.n)(
                      "#ImagePickerLoc_Files",
                      s.createElement(
                        "a",
                        {
                          href:
                            "https://partner.steamgames.com/doc/store/localization#supported_languages",
                          target: k.c.IN_CLIENT ? void 0 : "_blank",
                        },
                        Object(P.f)("#ImagePickerLoc_URL")
                      )
                    )
                  )
                ))
              : "product_banner" === a
              ? (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: I.a.EventElementOptional },
                    Object(P.f)("#selectimage_tip_optional_title")
                  ),
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "b",
                      null,
                      Object(P.f)("#selectimage_tip_usage_title")
                    ),
                    ": ",
                    Object(P.f)("#selectimage_tip_sale_product_banner")
                  )
                ))
              : "product_mobile_banner" === a ||
                "product_banner_override" === a ||
                "product_mobile_banner_override" === a
              ? (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: I.a.EventElementOptional },
                    Object(P.f)("#selectimage_tip_optional_title")
                  ),
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "b",
                      null,
                      Object(P.f)("#selectimage_tip_usage_title")
                    ),
                    ": ",
                    Object(P.f)("#selectimage_tip_sale_product_banner"),
                    "product_mobile_banner" === a &&
                      s.createElement(
                        "span",
                        null,
                        "  ",
                        Object(P.f)(
                          "#selectimage_tip_sale_product_banner_mobile"
                        )
                      )
                  )
                ))
              : "tab_bar_background" === a &&
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "strong",
                      null,
                      Object(P.f)("#selectimage_tip_design_title")
                    ),
                    ":",
                    Object(P.f)("#Sale_Tabs_Background_Design")
                  ),
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "strong",
                      null,
                      Object(P.f)("#selectimage_tip_usage_title")
                    ),
                    ":",
                    Object(P.f)("#Sale_Tabs_Background_Usage")
                  )
                ));
          var d = m.a[e.artworkType].width,
            u = m.a[e.artworkType].height;
          return s.createElement(
            "div",
            { id: e.id, className: W.a.ArtworkSelectorContainer },
            s.createElement(
              "div",
              { className: W.a.Title, onDoubleClick: e.fnToggleMinimize },
              e.title,
              s.createElement("span", null, " "),
              o,
              e.fnToggleMinimize &&
                s.createElement(
                  f.d,
                  {
                    "data-tooltip-text": Object(P.f)(
                      e.bIsMinimized
                        ? "#Sale_Section_Maximize_Tooltip"
                        : "#Sale_Section_Minimize_Tooltip"
                    ),
                    onClick: e.fnToggleMinimize,
                  },
                  e.bIsMinimized
                    ? s.createElement(R.H, null)
                    : s.createElement(R.K, null)
                )
            ),
            !e.bIsMinimized &&
              s.createElement(
                "div",
                { className: Object(G.a)(W.a.SelectImageBlock, W.a.Tips) },
                l,
                Boolean(d && u) &&
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "b",
                      null,
                      Object(P.f)("#selectimage_tip_dimensions_title")
                    ),
                    ": ",
                    Object(P.n)("#selectimage_tip1", d, u)
                  ),
                Boolean(e.strWarning) &&
                  s.createElement(
                    "div",
                    null,
                    s.createElement(
                      "p",
                      { className: S.WarningStylesWithIcon },
                      e.strWarning
                    )
                  ),
                e.elEventArtworkExample,
                " ",
                s.createElement("br", null),
                e.elAdditionalControls,
                Boolean(e.fnRemoveAllArtwork) &&
                  s.createElement(
                    f.d,
                    {
                      onClick: function (t) {
                        Object(B.d)(
                          s.createElement(Y, {
                            fnRemoveAllArtwork: e.fnRemoveAllArtwork,
                          }),
                          Object(F.m)(t)
                        );
                      },
                    },
                    Object(P.f)("#Sale_RemoveAll")
                  )
              ),
            !e.bIsMinimized &&
              s.createElement(J, {
                clanSteamID: e.clanSteamID,
                title: e.title,
                imageWidth: d,
                imageHeight: u,
                artworkType: e.artworkType,
              })
          );
        }),
        Y = function (e) {
          var t = e.fnRemoveAllArtwork,
            a = e.closeModal;
          return s.createElement(N.d, {
            strTitle: Object(P.f)("#Sale_RemoveAll"),
            strDescription: Object(P.f)("#ImageUpload_DeleteAll_Confirm"),
            onOK: function () {
              t(), a();
            },
            onCancel: a,
          });
        },
        J = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                langOverride: h.a.Get().GetCurEditLanguage(),
                lastSelection: new Array(),
              }),
              t
            );
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.OnUpdateAndMoveClanImageLang = function (e, t, a) {
              var n = this,
                i = r.c.GetEditModel();
              Object(o.G)(function () {
                var r = n.props.artworkType;
                i.GetImageHash(r, t) == e.image_hash &&
                  i.SetImageURL(r, null, t),
                  i.SetImageURL(r, e, a),
                  n.InsertOrUpdateClanImageAndLangMapping(e, a, !1);
              });
            }),
            (t.prototype.OnRemoveImage = function (e) {
              r.c.GetEditModel().SetImageURL(this.props.artworkType, null, e);
            }),
            (t.prototype.InsertOrUpdateClanImageAndLangMapping = function (
              e,
              t,
              a
            ) {
              var n,
                i = this.state.lastSelection;
              i.find(function (t) {
                return t.clanImage.imageid == e.imageid;
              })
                ? (n = i.map(function (a) {
                    return a.clanImage.imageid == e.imageid
                      ? { clanImage: e, lang: t }
                      : a;
                  }))
                : a && (n = i.concat({ clanImage: e, lang: t })),
                this.setState({ lastSelection: n });
            }),
            (t.prototype.OnLanguageChange = function (e) {
              e != this.state.langOverride &&
                this.setState({ langOverride: e });
            }),
            (t.prototype.OnSpotlightChange = function (e) {
              var t = r.c.GetEditModel();
              e && !t.BHasImage("spotlight", 0)
                ? (console.error("EventArtworkSelector: OnSpotlightChange"),
                  Object(B.d)(
                    s.createElement(N.f, {
                      strTitle: Object(P.f)("#Error_FailureNotice"),
                      strDescription: Object(P.f)(
                        "#EventEditor_Options_Spotlight_Error",
                        Object(P.f)("#EventEditor_Artwork")
                      ),
                    }),
                    window
                  ))
                : t.SetLibrarySpotlight(e);
            }),
            (t.prototype.OnSpotlightTextChange = function (e) {
              r.c.GetEditModel().SetLibrarySpotlightText(e);
            }),
            (t.prototype.render = function () {
              var e = r.c.GetEditModel(),
                t = e.BHasImage("spotlight", 0),
                a = "localized_image_group" === this.props.artworkType;
              return "hero" === this.props.artworkType
                ? s.createElement(
                    "div",
                    { style: { padding: "16px" } },
                    s.createElement(
                      f.d,
                      {
                        style: { textTransform: "uppercase", width: "200px" },
                        onClick: function () {
                          return window.open(
                            k.c.PARTNER_BASE_URL +
                              "admin/game/edit/" +
                              e.GetStoreItemID() +
                              "?activetab=tab_graphicalassets"
                          );
                        },
                      },
                      Object(P.f)("#ImageUpload_EditHeroImage")
                    )
                  )
                : s.createElement(
                    "div",
                    null,
                    s.createElement(Q, {
                      list: this.state.lastSelection,
                      fnOnArtworkLanguageChange: this
                        .OnUpdateAndMoveClanImageLang,
                    }),
                    s.createElement(
                      "div",
                      null,
                      "spotlight" === this.props.artworkType &&
                        s.createElement(
                          "div",
                          { className: W.a.SpotlightOptions },
                          s.createElement(f.p, {
                            onChange: this.OnSpotlightChange,
                            label: Object(P.f)(
                              "#EventEditor_Options_Spotlight_Label"
                            ),
                            checked: e.GetEventModel().BShowLibrarySpotlight(),
                            disabled: !t,
                            description: Object(P.f)(
                              "#EventEditor_Options_Spotlight_Desc",
                              Object(P.f)("#EventEditor_Artwork")
                            ),
                          })
                        ),
                      "spotlight" === this.props.artworkType &&
                        s.createElement(
                          "div",
                          { className: W.a.SpotlightOptions },
                          s.createElement(f.p, {
                            onChange: this.OnSpotlightTextChange,
                            label: Object(P.f)(
                              "#EventEditor_Options_SpotlightText_Label"
                            ),
                            checked: e
                              .GetEventModel()
                              .BShowLibrarySpotlightText(),
                            disabled: !t,
                            description: Object(P.f)(
                              "#EventEditor_Options_SpotlightText_Desc",
                              Object(P.f)("#EventEditor_Artwork")
                            ),
                          })
                        ),
                      s.createElement(
                        "div",
                        {
                          className: Object(G.a)(
                            W.a.SelectImageBlock,
                            W.a.MainPreviewBlock
                          ),
                        },
                        s.createElement(ie, {
                          clanSteamID: this.props.clanSteamID,
                          fnOnLanguagePreviewChange: this.OnLanguageChange,
                          langOverride: this.state.langOverride,
                          fnOnArtworkLangChange: a
                            ? null
                            : this.OnUpdateAndMoveClanImageLang,
                          artworkType: this.props.artworkType,
                          fnOnRemoveImage: a ? null : this.OnRemoveImage,
                        })
                      )
                    )
                  );
            }),
            Object(i.c)(
              [A.a],
              t.prototype,
              "OnUpdateAndMoveClanImageLang",
              null
            ),
            Object(i.c)([A.a], t.prototype, "OnRemoveImage", null),
            Object(i.c)(
              [A.a],
              t.prototype,
              "InsertOrUpdateClanImageAndLangMapping",
              null
            ),
            Object(i.c)([A.a], t.prototype, "OnLanguageChange", null),
            Object(i.c)([A.a], t.prototype, "OnSpotlightChange", null),
            Object(i.c)([A.a], t.prototype, "OnSpotlightTextChange", null),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component),
        Q = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.ShowLangChangeDialog = function (e, t) {
              var a = this.props.fnOnArtworkLanguageChange;
              Object(B.d)(
                s.createElement(Z, {
                  clanImage: e,
                  lang: t,
                  fnOnArtworkLangChange: a,
                }),
                window
              );
            }),
            (t.prototype.GenerateImageMappings = function () {
              var e = this,
                t = new Array();
              return (
                this.props.list.forEach(function (a) {
                  var n = a.clanImage,
                    i = a.lang,
                    r = Object(P.f)("#Language_" + Object(u.a)(i));
                  t.push(
                    s.createElement(
                      "div",
                      {
                        key: "img_lang_" + a.clanImage.imageid + "_" + i,
                        className: I.a.FlexRowContainer,
                      },
                      s.createElement(
                        "span",
                        null,
                        Object(P.f)(
                          "#ImageUpload_Success_Mapping",
                          n.file_name,
                          r
                        )
                      ),
                      s.createElement(
                        "a",
                        {
                          onClick: function () {
                            return e.ShowLangChangeDialog(n, i);
                          },
                        },
                        Object(P.f)("#ImageUpload_Success_Mapping_Change")
                      )
                    )
                  );
                }),
                t
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.list;
              if (!e || 0 == e.length) return s.createElement("div", null);
              var t = this.GenerateImageMappings();
              return s.createElement("div", { className: H.UploadSuccess }, t);
            }),
            Object(i.c)([A.a], t.prototype, "ShowLangChangeDialog", null),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component),
        Z = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { selectedLang: t.props.lang }), t;
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.OnOK = function () {
              this.props.fnOnArtworkLangChange(
                this.props.clanImage,
                this.props.lang,
                this.state.selectedLang
              );
            }),
            (t.prototype.OnLanguageChange = function (e) {
              this.state.selectedLang != e &&
                this.setState({ selectedLang: e });
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.clanImage,
                a = e.closeModal,
                n = (e.lang, g.a.InitFromClanID(t.clanAccountID)),
                i = b.a.GenerateArtworkURLFromHashAndExtensions(
                  n,
                  b.a.GetHashAndExt(t)
                ),
                o = r.c.GetEditModel();
              return s.createElement(
                N.d,
                {
                  strTitle: Object(P.f)(
                    "#selectimage_change_artwork_lang_title"
                  ),
                  strDescription: Object(P.f)(
                    "#selectimage_change_artworl_lang_desc"
                  ),
                  onOK: this.OnOK,
                  onCancel: a,
                  closeModal: a,
                },
                s.createElement(
                  "div",
                  {
                    className: Object(G.a)(
                      I.a.FlexColumnContainer,
                      W.a.ReassignCtn
                    ),
                  },
                  s.createElement(
                    "div",
                    { className: W.a.ImagePreviewContainer },
                    s.createElement("img", {
                      className: W.a.ArtworkPreview,
                      src: i,
                    })
                  ),
                  s.createElement(j.a, {
                    selectedLang: this.state.selectedLang,
                    fnLangHasData: o.BHasTitleImage,
                    fnOnLanguageChanged: this.OnLanguageChange,
                    realms: o.GetIncludedRealmList(),
                  })
                )
              );
            }),
            Object(i.c)([A.a], t.prototype, "OnOK", null),
            Object(i.c)([A.a], t.prototype, "OnLanguageChange", null),
            t
          );
        })(s.Component),
        K = Object(l.a)(function (e) {
          var t = e.imgURL,
            a = r.c.GetEditModel(),
            n = h.a.Get().GetCurEditLanguage();
          return s.createElement(
            "div",
            { style: { display: "flex", width: "304px" } },
            s.createElement(C.b, {
              event: a.GetEventModel(),
              imageURLOverride: t,
              langOverride: n,
            })
          );
        }),
        X = function (e) {
          var t = e.lang,
            a = r.c.GetEditModel().GetEventModel(),
            n = a.GetNameWithFallback(t),
            i = a.GetDescriptionWithFallback(t),
            o = a.GetSubTitleWithLanguageFallback(t),
            l = i
              ? s.createElement(y.a, {
                  text: i || "",
                  partnerEventStore: r.c,
                  showErrorInfo: !1,
                  event: a,
                  languageOverride: h.a.Get().GetCurEditLanguage(),
                })
              : Object(P.f)("#selectimage_display_event_body");
          return s.createElement(
            "div",
            { className: W.a.MultipleExampleContainer },
            s.createElement(
              "div",
              { className: W.a.ExampleSectionTitle },
              Object(P.f)("#selectimage_preview_title_1")
            ),
            s.createElement(
              "div",
              {
                className: Object(G.a)(
                  W.a.DetailPageExample,
                  "DetailPageExample"
                ),
              },
              s.createElement(
                "div",
                { className: W.a.detailExample },
                s.createElement(
                  "div",
                  { className: W.a.MainImageCtn },
                  s.createElement("img", { src: e.imgURL })
                ),
                s.createElement(
                  "div",
                  { className: W.a.ExampleBodyPosition },
                  s.createElement(
                    "div",
                    { className: W.a.ExampleContentCtn },
                    s.createElement(
                      "div",
                      { className: W.a.TextTitle },
                      n || Object(P.f)("#selectimage_display_event_title")
                    ),
                    s.createElement(
                      "div",
                      { className: W.a.TextSubTitle },
                      o || Object(P.f)("#selectimage_display_event_subtitle")
                    ),
                    s.createElement("div", { className: W.a.TextBody }, l)
                  )
                )
              )
            ),
            12 != a.type &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement("div", { className: W.a.ExampleSpacer }),
                s.createElement(
                  "div",
                  { className: W.a.ExampleSectionTitle },
                  Object(P.f)("#selectimage_preview_title_2")
                ),
                s.createElement(
                  "div",
                  {
                    className: Object(G.a)(
                      W.a.DetailPageExample,
                      "DetailPageExample"
                    ),
                  },
                  s.createElement(
                    "div",
                    { className: W.a.detailExample2 },
                    s.createElement(O.d, {
                      key: a.AnnouncementGID,
                      event: a,
                      emoticonStore: v.b,
                      partnerEventStore: r.c,
                      appStore: _.a,
                      headerClassnames: "editor",
                      langOverride: t,
                      bDisableBroadcastPlayer: !0,
                    })
                  )
                )
              )
          );
        },
        $ = function (e) {
          var t = E.a.GetStoreCapsuleInfo(e.event.appid).GetAppStoreData(),
            a = t.title,
            n = t.icon_url;
          return s.createElement(
            "div",
            { className: W.a.SpotlightExample },
            s.createElement(L, {
              event: e.event,
              strDisplayName: a,
              gameIconUrl: n,
              spotlightURLOverride: e.imgURL,
              langOverride: e.lang,
            })
          );
        },
        ee = function (e) {
          var t = [
            s.createElement("img", { key: "img", src: e.imgURL }),
            s.createElement("div", {
              key: "video",
              className: W.a.BroadcastPreview,
            }),
          ];
          return (
            "right" === e.side && t.reverse(),
            s.createElement(
              "div",
              { className: W.a.BroadcastPreviewContainer },
              t
            )
          );
        },
        te = function (e) {
          return s.createElement(
            "div",
            { className: W.a.SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL })
          );
        },
        ae = function (e) {
          return s.createElement(
            "div",
            { className: W.a.SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL })
          );
        },
        ne = function (e) {
          return s.createElement(
            "div",
            { className: W.a.SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL })
          );
        },
        ie = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { langOverride: h.a.Get().GetCurEditLanguage() }), t
            );
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.langOverride,
                a = e.artworkType,
                n = e.fnOnLanguagePreviewChange,
                i = e.clanSteamID,
                o = r.c.GetEditModel(),
                l = o.GetImageURL(
                  this.props.artworkType,
                  this.props.langOverride
                );
              return o.BHasSomeImage(a)
                ? s.createElement(
                    "div",
                    { className: W.a.ImagePreviewContainer },
                    "capsule" === a && s.createElement(K, { imgURL: l }),
                    "background" === a &&
                      s.createElement(X, {
                        imgURL: l,
                        lang: h.a.Get().GetCurEditLanguage(),
                      }),
                    "spotlight" === a &&
                      s.createElement($, {
                        imgURL: l,
                        event: o.GetEventModel(),
                        lang: o.GetCurEditLanguage(),
                      }),
                    ("broadcast_left" === a || "broadcast_right" === a) &&
                      s.createElement(ee, {
                        imgURL: l,
                        side: "broadcast_right" === a ? "right" : "left",
                      }),
                    "sale_header" === a && s.createElement(te, { imgURL: l }),
                    "sale_overlay" === a && s.createElement(ae, { imgURL: l }),
                    Boolean(
                      "localized_image_group" === a ||
                        "link_capsule" === a ||
                        "product_mobile_banner_override" === a ||
                        "product_banner_override" === a ||
                        "sale_section_title" === a ||
                        "schedule_track_art" === a
                    ) &&
                      s.createElement("img", {
                        className: V.previewimg,
                        src: b.d.GetLocalizedImageGroupForEditAsURL(i, t),
                      }),
                    "product_banner" === a &&
                      s.createElement(ne, { imgURL: l }),
                    "product_mobile_banner" === a &&
                      s.createElement(ne, { imgURL: l }),
                    s.createElement(re, {
                      langOverride: t,
                      clanSteamID: i,
                      fnOnLanguagePreviewChange: n,
                      fnOnRemoveImage: this.props.fnOnRemoveImage,
                      fnOnArtworkLangChange: this.props.fnOnArtworkLangChange,
                      fnGetImageHash: function (e) {
                        return o.GetImageHash(a, e);
                      },
                    })
                  )
                : s.createElement(
                    "div",
                    { className: W.a.ImagePreviewContainer },
                    "capsule" === a &&
                      s.createElement(K, {
                        imgURL:
                          k.c.IMG_URL + "events/defaults/default_img_cover.jpg",
                      }),
                    "background" === a &&
                      s.createElement(X, {
                        imgURL:
                          k.c.IMG_URL +
                          "events/defaults/default_img_header.jpg",
                        lang: o.GetCurEditLanguage(),
                      }),
                    "spotlight" === a &&
                      s.createElement($, {
                        lang: h.a.Get().GetCurEditLanguage(),
                        imgURL:
                          k.c.IMG_URL +
                          "events/defaults/default_img_spotlight.jpg",
                        event: o.GetEventModel(),
                      }),
                    s.createElement(
                      "div",
                      null,
                      Object(P.f)("#EventEditor_ArtworkMissing")
                    )
                  );
            }),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component),
        re = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.OnCloseDeleteDialog = function () {}),
            (t.prototype.OnChangeImageLanguage = function (e) {
              var t = Object(u.d)(e.currentTarget.id);
              this.props.fnOnLanguagePreviewChange(t);
            }),
            (t.prototype.OnChangeLanguage = function (e) {
              var t = this.props,
                a = t.fnGetImageHash,
                n = t.clanSteamID,
                i = +e.currentTarget.dataset.lang,
                r = a(i);
              if (r) {
                var o = b.d.GetClanImageByImageHash(n, r);
                o &&
                  Object(B.d)(
                    s.createElement(Z, {
                      clanImage: o,
                      lang: i,
                      fnOnArtworkLangChange: this.props.fnOnArtworkLangChange,
                    }),
                    window
                  );
              }
            }),
            (t.prototype.OnDeleteClick = function (e) {
              var t = this;
              e.stopPropagation(), e.preventDefault();
              var a = +e.currentTarget.dataset.lang;
              Object(B.d)(
                s.createElement(N.d, {
                  strTitle: Object(P.f)("#selectimage_remove_image"),
                  strDescription: Object(P.f)(
                    "#selectimage_remove_details",
                    Object(P.f)("#Language_" + Object(u.a)(a))
                  ),
                  closeModal: this.OnCloseDeleteDialog,
                  onOK: function () {
                    t.props.fnOnRemoveImage(a);
                  },
                  onCancel: this.OnCloseDeleteDialog,
                }),
                Object(F.m)(e)
              );
            }),
            (t.prototype.ConstructLanguages = function () {
              for (
                var e = this.props,
                  t = e.langOverride,
                  a = e.fnGetImageHash,
                  n = e.clanSteamID,
                  i = new Array(),
                  r = n.GetAccountID(),
                  o = Array(),
                  l = 0,
                  c = P.b.GetLanguageListForRealms([
                    p.f.k_ESteamRealmGlobal,
                    p.f.k_ESteamRealmChina,
                  ]);
                l < c.length;
                l++
              ) {
                var m = c[l],
                  _ = a(m);
                if (_) {
                  var g = Object(u.a)(m),
                    E = Object(P.f)("#Language_" + g);
                  o.push({ lang: m, strLang: g, locLang: E, imgHash: _ });
                }
              }
              for (
                var h = 0,
                  v = (o = o.sort(function (e, t) {
                    return e.locLang > t.locLang
                      ? 1
                      : e.locLang < t.locLang
                      ? -1
                      : 0;
                  }));
                h < v.length;
                h++
              ) {
                var f = v[h],
                  S = b.d.GetClanImageByImageHash(n, f.imgHash),
                  O = S
                    ? b.a.GenerateArtworkURLFromHashAndExtensions(
                        this.props.clanSteamID,
                        b.a.GetHashAndExt(S),
                        b.c.full,
                        f.lang
                      )
                    : "",
                  y =
                    t == f.lang
                      ? W.a.LanguageSelectorSelected
                      : f.imgHash
                      ? W.a.LanguageSelector
                      : W.a.LanguageSelectorNoData;
                i.push(
                  s.createElement(
                    "div",
                    {
                      key: "lang_select_" + r + " " + f.strLang,
                      id: f.strLang,
                      className: W.a.LanguageContainer,
                      onClick: this.OnChangeImageLanguage,
                    },
                    s.createElement("div", { className: y }, f.locLang),
                    s.createElement(
                      "span",
                      { className: W.a.LanguageOptions },
                      Boolean(O) &&
                        s.createElement(
                          "a",
                          {
                            href: O,
                            target: "_blank",
                            "data-tooltip-text": Object(P.f)(
                              "#selectimage_viewimage_ttip"
                            ),
                          },
                          R.Q()
                        ),
                      this.props.fnOnArtworkLangChange &&
                        s.createElement("img", {
                          "data-lang": f.lang,
                          src: U.a,
                          onClick: this.OnChangeLanguage,
                          "data-tooltip-text": Object(P.f)(
                            "#selectimage_reassign_image_ttip"
                          ),
                        }),
                      this.props.fnOnRemoveImage &&
                        s.createElement("img", {
                          "data-lang": f.lang,
                          src: d.a,
                          onClick: this.OnDeleteClick,
                          "data-tooltip-text": Object(P.f)(
                            "#selectimage_delete_image_ttip"
                          ),
                        })
                    )
                  )
                );
              }
              return i;
            }),
            (t.prototype.render = function () {
              var e = this.ConstructLanguages();
              return s.createElement(
                "div",
                { className: W.a.SelectImageLanguagesCtn },
                s.createElement(
                  "div",
                  { className: W.a.SelectImageTitle },
                  Object(P.f)("#selectimage_uploaded_languages")
                ),
                s.createElement(
                  "div",
                  { className: W.a.LanguageListContainer },
                  e
                )
              );
            }),
            Object(i.c)([A.a], t.prototype, "OnCloseDeleteDialog", null),
            Object(i.c)([A.a], t.prototype, "OnChangeImageLanguage", null),
            Object(i.c)([A.a], t.prototype, "OnChangeLanguage", null),
            Object(i.c)([A.a], t.prototype, "OnDeleteClick", null),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component);
    },
    TScJ: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMCAYAAACuwEE+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEM4RUZCNTdFMEFBMTFFQTk3QkZGOEEyQ0E5MzQ5RkEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEM4RUZCNThFMEFBMTFFQTk3QkZGOEEyQ0E5MzQ5RkEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0QzhFRkI1NUUwQUExMUVBOTdCRkY4QTJDQTkzNDlGQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0QzhFRkI1NkUwQUExMUVBOTdCRkY4QTJDQTkzNDlGQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Plzu/oAAAAnSSURBVHja7J2Ndds4DIDhTqANwg3iTmB1gniD6CawbwK7E7g3gXMTuJ3A6QROJpA3UDbwWT0qVhRSIiWCv8B7fO5r04iWPuGHAMEZpCPZdbDrmF/HHf9z1voE/meRnFufb63PV/75wj+Dk8vlovXzs4jhyK9jwQGZt6DAkhcO0jMHKQiIUgUm41A8XMeyR1PYlmc+fvPP4IEJHZLiOo7XUdXf3fNRXseeaz6vgNEZIUp9ww+BQDIEDyNg8LTJNnBIZKPWkI8EjBmp38BdpKCItM6jba0TCzCMq+xLgqPk2pQRMGqm50eioMg0DgEjkW0ipscrcEIEJuc3heDoHyhRVUjAkPnRH7UGXqcIDGmV6aE4SwUY0ioe+TY+A8P4m0EP2+zYxQjMnEwQ6jiNNVE+AlPQA7VmoljowGzpQVqPopahAkPOrbuxDg2YJ3pozsc2FGAIloCgcQ0MwRIYNC6BIZ8lQJ/GFTAUDfk/lr4As6aHEUzIPZ8KzNRtJjlf7ieRS7Px7UWSsW+2yGQW5lLP4xvcNuZZXe5ntNwvfZP3PDF4p5k+Kfj/xSwkO7kySQTL55KDheGUClaydmcbGIqI8EARaXKMgvhHW8BQMvGW7FuAPSkMa/Xa7DFsYMhvuan0DOxLxq9tTDtiA7MHcmid7VJEWspYYwFTkAn6vI7hUOaGoikt00SmCLE4KSBojqYX7uqoaJXwwtvX9mLXCL8jh49dr9oLelObD815pDbVp/p2BeLZVFhHORh9SFaa6yhTujgUhrRoZsIkpezobkaAsp1oJsZuHzERPW2mAjNP3G/RNQ0luPObMgPXr4a0zJCkvI9I52GtFR/Gid/TZlRgNozPsbUM9sVD3viuKtuBB74ZCMeZwiruVmM+R0wt0ycH0i6jNUs1wv8ZWv5/9EHLUGQ0XrswMLwLsfV7D7IFNltaRheYlCMj1YRiKYHFVI7pCQZqWZC1zKMqMClrl3KC31IiJCRFmkZlk1pmYAX4qApMQeZIO01SAU7qIJNcSwVME1Yi7wLzRXChVFMAtfxUVPdMkDo5I8ynThf8LYBIxQH+beD6D5QG6B8qb+5p4gLfGDkK0gg2nmU1ZJJ2CcNSjXwIewvArEbCbSKTnfeZpCWkKy+Ky/+iaAZbfinOpSsmzOQHs/SlMwGWMDAqN/de8HevluZ2VpgLBjCFDJgFpC0q9ShM8EDeHAHNDH2nwUhtNpvlImCWBExQ87NZhL4QAZMnDszZ8/llDq/9ScOkDkvtuP5LgMud/atZytrApOy/1Df++wQ/wtabPzfgc03RbnPSMP/LVuNtfe2z78iwZCOWAUzCfN8GZp4oLLqm6LnPviPKw8hwnhmG9p1C2mukLt1l+grwzVI3AXlUfMBG71ez0puqdilGOo4/BWp/gzjPtQDspxE+z1RhjeO7SlC7THnAsloTDNPEBNpFNdmJUWL7p0FSaglHE9nljUET1wemqKpPtbYXo4vVg8gmU4G3mpwQocl6fr+qucW4dyvZFydTpOYjVGC+ywOTaBabReC9rc4qMkWTHGdTh3oObbNVzfXlgFzCuof4W3lg1dzK/JnuTV5Krp/xf9sNvLg6ux8xXYxj922J1Txh1ykXipq64i9nqfHzC0Maz3jL1vZSd0z7kmyUUPb5HrZOjmUWLEU5NIEicHPlonPU1Hs2tt3HHjzyAxcQ5l5rlw0MCw1/ooJp/X5tnfdQzUao3Q2I9+b4mFj8y5O5LOCWcZa1LBsrOQRy3oPOG0RNDHHEVFNEnWHE2duDX+s5KRSE5Q7ueWXyC2SeOMm7BGBZQzyLn05Dc4wOCj5JBm7P1UTfFmw7NI/Zb1l6oL2tOtcPyE7yJlJQco+Ci+PMwQ2YGpqfeRh6ho+V898jgqRp6bEEvwr0f7qegGpoXv9MnQ+6g3hlDrfu4b5WEOx8ull7sH/amQvNsW+NI4SVevGu2RRraZ3Y1lJyCL+M5AFIrGiVWM7InM8CfQC1CbuHj1tVayf4teUQ+2JqD7GE+5fLZRYiLCpZ86ZEwOWDWkNc5a8nm4eiY/g6KvmrEtT62pqeW4w7MQ4hA9N1koecyZMlbZNDvEX1qxiAactQ/gqz5CEmx1ZaARAbMF1zZQsa0wdreTnGnlsdGjgl4CbQ1rGDAp1zB2IXGTRrA783pS3GKxEwhQehKBY0XUd0Sk+XJaSzW/R9wU4ETA4f9/LkEUEjMh1jToz9kRgo742EZCaplCyAxVDFVk3wZZJwbCVj3wfMpie62AdurkTf7W6kdkrqhLo+YHJQq015DBAYUc+3R3Js1c2RLEpSvUm11tkFpnW6ZmlHjq26OZIBsxnziwNxkksY3qhfECi3onqVI/z+Af2DGgq4VY+FHprHXAaqI89XQM7dvxQBU8PyNGHN46nlJPvW0jUTfFcSsQgZ+CL54V8GLlhrnRMfPjjJTADMWQGqFOV81S7ah3WYjhBch+Yi32Rh4XuHOISHnA/lknLECblwkEUgqDjGyYfSQ07vu9MD4sMYTIjt6nPRhrAnidlikLY8TfnPWFqm7PEzMBzdUtEcFaRd5NpFtbwBy6bnEkBNh+aiovGD5GdPQL7LZGAY0uRkyb+doQXBTAK7rGdvTtqlHxadAqqdRS0jMiG6WfO+1hgry5o0Gu2iA0yGlFs59mg1Wb/9prN21plfDd92wKxsNELupHNGU4Fp3lqMya41oTHdP8b0dYJsq48BDJba7jsHIDNgDkvo39i/T1y7rFRhGQMMQzJNQ9s/2AhYK65V+vyebeKwHHVgGbtrAMs0qewZYtDfdKep0VFpFZI6LKWOKZq6zWTnEJqu3I1IGP4Ayhf9SQjbAiZDXOSqAG8DPaPFuY8BgC1gMP0ZjA30Q6edpTQ+nHlkExhbq6OHiau9BEqPydcFxkRHoTXY6a54bmXQX+Fz29VG6835WEBcm/GmSn2vvkKnaMzVfumN47eGNMjIAztsm6RuHQU9mMAOGnMJDEET4FndroEhaAI72N0HYAiaQGDxCRjM1WAaBg9H9QkY19FTqqUKWi33fQOmWaehh+npwag+AgOQdkMeWyeljUqj+AoMJf48PcPIZ2DIrzHvryynPowQgGmSlmSiHJigUIFpMskUeutrFaOnooUEDGkbR1oldGDavg2Bo7/rIVlgmkhqT5DgmJ8YgSFw1LbHEDAEjl1QYgWmDU4RqY9TO7POjveNFZi2LCLQOo02Wbi+mSkA017HqbXOISBIduDZAe4udg34Ig98qbzZNeBa6ir9+gztZz5++3jTdLVGTMB0fZ57vijYAITtTJ45GC98vEIAjaMJmH4Tdg+3TpmstXLa/RTB0Hy+tbTHG8j3SAUhusD8J8AACcnjDcoQidMAAAAASUVORK5CYII=";
    },
    Tgxo: function (e, t, a) {
      e.exports = {
        MigrateToolCtn: "migratetool_MigrateToolCtn_fGggy",
        ToolHeader: "migratetool_ToolHeader_2cI57",
        StatusMessage: "migratetool_StatusMessage_1YCAU",
        ClanRow: "migratetool_ClanRow_2PbMC",
        ID: "migratetool_ID_1YSGm",
        ClanName: "migratetool_ClanName_2VUhh",
        Counts: "migratetool_Counts_3uIV0",
        LinkedAnnouncements: "migratetool_LinkedAnnouncements_3u41k",
        MigrateEventsButton: "migratetool_MigrateEventsButton_3-jPB",
        CompleteMessage: "migratetool_CompleteMessage_3f-Cw",
        LoadEventsButton: "migratetool_LoadEventsButton_2qtK6",
      };
    },
    Txw1: function (e, t, a) {
      e.exports = {
        ReadMoreLink: "spotlight_ReadMoreLink_2mvgc",
        MajorEventContainer: "spotlight_MajorEventContainer_dVJB2",
        MajorEventImageContainer: "spotlight_MajorEventImageContainer_1PkTB",
        MajorEventImage: "spotlight_MajorEventImage_25fL1",
        BottomShadow: "spotlight_BottomShadow_1ueE9",
        MajoreEventImageContentContainer:
          "spotlight_MajoreEventImageContentContainer_3mREW",
        MajorEventImageTemplate: "spotlight_MajorEventImageTemplate_lQR9_",
        MajorEventBackground: "spotlight_MajorEventBackground_388Iu",
        MajorEventImageBackgroundBlur:
          "spotlight_MajorEventImageBackgroundBlur_3sVs6",
        MajorEventHeader: "spotlight_MajorEventHeader_1HL2n",
        EventType: "spotlight_EventType_3zVyX",
        GameIconAndName: "spotlight_GameIconAndName_IltgR",
        GameIcon: "spotlight_GameIcon_3Dkj3",
        MajorEventSpotlightBackground:
          "spotlight_MajorEventSpotlightBackground_1aheP",
        MajorEventContent: "spotlight_MajorEventContent_2nr7N",
        MajorEventTextCtn: "spotlight_MajorEventTextCtn_Ojdg2",
        MajorEventTitle: "spotlight_MajorEventTitle_nEBZT",
        MajorEventSummary: "spotlight_MajorEventSummary_HPngO",
        MajorEvent_Ctn: "spotlight_MajorEvent_Ctn_2_kU7",
        AppDetailsSpotlightContainer:
          "spotlight_AppDetailsSpotlightContainer_1zDJ1",
      };
    },
    U6Vi: function (e, t, a) {
      e.exports = {
        CenterAlign: "partnereventemails_CenterAlign_cMmai",
        ControlBarCtn: "partnereventemails_ControlBarCtn_1RQ0B",
        ButtonSettingContainer:
          "partnereventemails_ButtonSettingContainer_3jwD2",
        ButtonSettingRow: "partnereventemails_ButtonSettingRow_1mF5p",
        DevHeader: "partnereventemails_DevHeader_35PpK",
        EmailTabCtn: "partnereventemails_EmailTabCtn_fDsyX",
        EmailInputText: "partnereventemails_EmailInputText_1UcSg",
        EmailBackground: "partnereventemails_EmailBackground_bEP0P",
        DevEmailEmailBackground:
          "partnereventemails_DevEmailEmailBackground_20Vcu",
        EmailEditorContent: "partnereventemails_EmailEditorContent_1nDhB",
        EmailIconHeader: "partnereventemails_EmailIconHeader_3LZBl",
        FooterLegal: "partnereventemails_FooterLegal_bJOii",
        EditImageInputCtn: "partnereventemails_EditImageInputCtn_1LyXp",
        EmailInput: "partnereventemails_EmailInput_2D8AC",
        EmailOptionTitle: "partnereventemails_EmailOptionTitle_1zLvJ",
        EmailSection: "partnereventemails_EmailSection_1zUIk",
        EmailSubjectCtn: "partnereventemails_EmailSubjectCtn_BHpFD",
        EmailSubjectSelect: "partnereventemails_EmailSubjectSelect_18xOZ",
        EmailTemplate: "partnereventemails_EmailTemplate_18iTr",
        EmailTextCtn: "partnereventemails_EmailTextCtn_1rQlP",
        HeadlineInput: "partnereventemails_HeadlineInput_2lHX9",
        Footer: "partnereventemails_Footer_23AXh",
        ImgCrossCtn: "partnereventemails_ImgCrossCtn_59gyF",
        FullImageCtn: "partnereventemails_FullImageCtn_uv6NV",
        BodyInput: "partnereventemails_BodyInput_3VRhY",
        Hello: "partnereventemails_Hello_Gd3d5",
        Reason: "partnereventemails_Reason_10TSv",
        RecipientCtn: "partnereventemails_RecipientCtn_330Dr",
        GameLink: "partnereventemails_GameLink_39DSS",
        RightAlign: "partnereventemails_RightAlign_zffsf",
        TargetAndAudience: "partnereventemails_TargetAndAudience_3h8QM",
        VideoCtn: "partnereventemails_VideoCtn_2mtrE",
        VideoInputCtn: "partnereventemails_VideoInputCtn_1ESNV",
        ButtonDestInputSaleURL:
          "partnereventemails_ButtonDestInputSaleURL_3Lr4k",
        DevEmailTemplate: "partnereventemails_DevEmailTemplate_sC9ZV",
        DevEmail_Content: "partnereventemails_DevEmail_Content_25Gtl",
        DevEmail_HearComes: "partnereventemails_DevEmail_HearComes_3nvmQ",
        DevEmail_TopLogo: "partnereventemails_DevEmail_TopLogo_1dbBh",
        DevEmail_TopHeader: "partnereventemails_DevEmail_TopHeader_2lmZl",
        DevEmail_Subject: "partnereventemails_DevEmail_Subject_37Wbo",
        DevEmail_SignOff_Img: "partnereventemails_DevEmail_SignOff_Img_KW2YG",
        DevEmail_Signoff: "partnereventemails_DevEmail_Signoff_3iJuG",
        DevEmail_Footer_Ctn: "partnereventemails_DevEmail_Footer_Ctn_RINyW",
        DevEmail_Footer_Reason:
          "partnereventemails_DevEmail_Footer_Reason_1h_Bm",
        DevEmail_Footer_SubSection:
          "partnereventemails_DevEmail_Footer_SubSection_2gEsj",
        DevEmail_Footer_Bold: "partnereventemails_DevEmail_Footer_Bold_CSfHW",
        DevEmail_Footer_Regular:
          "partnereventemails_DevEmail_Footer_Regular_1dDJa",
        DevEmail_Follow: "partnereventemails_DevEmail_Follow_1gwxy",
        DevEmail_RecipientTable:
          "partnereventemails_DevEmail_RecipientTable_2EDti",
        TargetCtn: "partnereventemails_TargetCtn_1Ts_n",
        TargetTypeTitle: "partnereventemails_TargetTypeTitle_2Erit",
        TargetTypeCtn: "partnereventemails_TargetTypeCtn_3TxAc",
        TargetedListCtn: "partnereventemails_TargetedListCtn_3NubR",
        SelectListCtn: "partnereventemails_SelectListCtn_980o4",
        SupportCtn: "partnereventemails_SupportCtn_27guD",
      };
    },
    UvY0: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return l;
      }),
        a.d(t, "b", function () {
          return s;
        });
      var n = a("q1tI"),
        i = a("9w6b"),
        r = a("fpVW"),
        o = a("exH9");
      function l(e, t) {
        if (!e || !e.BIsClanAccount) return !1;
        var a = i.a.Get().GetPartnerEventPermissions(e);
        return !!a && (t ? a.valve_admin : a.valve_admin || a.support_user);
      }
      var s = function (e) {
        return l(e.clanSteamID, e.requireAdmin)
          ? n.createElement(
              "div",
              {
                className: Object(o.a)(
                  e.className,
                  e.requireAdmin
                    ? r.ValveOnlyAdminBackground
                    : r.ValveOnlyBackground
                ),
              },
              e.children
            )
          : null;
      };
    },
    Vitc: function (e, t, a) {
      e.exports = {
        FacetValueName: "facetedbrowseeditor_FacetValueName_3wruf",
        FacetValueCtn: "facetedbrowseeditor_FacetValueCtn_btRSv",
        FacetValueFilterDisplayCtn:
          "facetedbrowseeditor_FacetValueFilterDisplayCtn_2Xo5C",
        FacetName: "facetedbrowseeditor_FacetName_39gQo",
        FacetFilterDisplayCtn:
          "facetedbrowseeditor_FacetFilterDisplayCtn_3_YHd",
      };
    },
    Ww0A: function (e, t, a) {
      "use strict";
      a.d(t, "d", function () {
        return r;
      }),
        a.d(t, "b", function () {
          return o;
        }),
        a.d(t, "a", function () {
          return l;
        }),
        a.d(t, "e", function () {
          return c;
        }),
        a.d(t, "c", function () {
          return d;
        });
      var n = a("wd/R"),
        i = a.n(n),
        r = [
          "small_update",
          "regular_update",
          "major_update",
          "release",
          "future_release",
          "beta_release",
          "dlc_release",
          "season_release",
          "sale",
          "gameitem_sale",
          "trial",
          "bonusxp",
          "loot",
          "perks",
          "general",
          "challenge",
          "contest",
          "broadcast",
          "news",
          "chat",
          "irl",
          "crosspost",
        ],
        o = {
          small_update: {
            name: "#PartnerEvent_12",
            description: "#PartnerEvent_12_Desc",
            type: 12,
            tags: ["patchnotes"],
          },
          regular_update: {
            name: "#PartnerEvent_13",
            description: "#PartnerEvent_13_Desc",
            type: 13,
          },
          major_update: {
            name: "#PartnerEvent_14",
            description: "#PartnerEvent_14_Desc",
            type: 14,
          },
          release: {
            name: "#PartnerEvent_10_editor",
            description: "#PartnerEvent_10_Desc",
            type: 10,
          },
          future_release: {
            name: "#PartnerEvent_16_editor",
            description: "#PartnerEvent_16_Desc",
            type: 16,
          },
          beta_release: {
            name: "#PartnerEvent_29_editor",
            description: "#PartnerEvent_29_Desc",
            type: 29,
          },
          dlc_release: {
            name: "#PartnerEvent_15",
            description: "#PartnerEvent_15_Desc",
            type: 15,
          },
          season_release: {
            name: "#PartnerEvent_32",
            description: "#PartnerEvent_32_Desc",
            type: 32,
          },
          sale: {
            name: "#PartnerEvent_20_editor",
            description: "#PartnerEvent_20_Desc",
            type: 20,
          },
          gameitem_sale: {
            name: "#PartnerEvent_21_editor",
            description: "#PartnerEvent_21_Desc",
            type: 21,
          },
          trial: {
            name: "#PartnerEvent_31",
            description: "#PartnerEvent_31_Desc",
            type: 31,
          },
          bonusxp: {
            name: "#PartnerEvent_22",
            description: "#PartnerEvent_22_Desc",
            type: 22,
          },
          loot: {
            name: "#PartnerEvent_23",
            description: "#PartnerEvent_23_Desc",
            type: 23,
          },
          perks: {
            name: "#PartnerEvent_24",
            description: "#PartnerEvent_24_Desc",
            type: 24,
          },
          general: {
            name: "#PartnerEvent_35",
            description: "#PartnerEvent_35_Desc",
            type: 35,
          },
          challenge: {
            name: "#PartnerEvent_25",
            description: "#PartnerEvent_25_Desc",
            type: 25,
          },
          contest: {
            name: "#PartnerEvent_26",
            description: "#PartnerEvent_26_Desc",
            type: 26,
          },
          broadcast: {
            name: "#PartnerEvent_11",
            description: "#PartnerEvent_11_Desc",
            icon: "11",
            type: 11,
          },
          news: {
            name: "#PartnerEvent_28_editor",
            description: "#PartnerEvent_28_Desc",
            icon: "28",
            type: 28,
          },
          chat: {
            name: "#PartnerEvent_9_editor",
            description: "#PartnerEvent_9_Desc",
            icon: "9",
            type: 9,
          },
          irl: {
            name: "#PartnerEvent_27_editor",
            description: "#PartnerEvent_27_Desc",
            icon: "27",
            type: 27,
          },
          crosspost: {
            name: "#PartnerEvent_34",
            description: "#PartnerEvent_34_Desc",
            icon: "34",
            type: 34,
          },
        },
        l = {
          news: {
            name: "#EventCategory_Curator_Group_Members",
            description: "#EventCategory_Curator_Group_Members_Desc",
            icon: "27",
            type: 28,
            tags: ["curator", "curator_group_members"],
          },
          public: {
            name: "#EventCategory_Curator_Public",
            description: "#EventCategory_Curator_Public_Desc",
            icon: "28",
            type: 28,
            tags: ["curator", "curator_public", "audience_followers"],
          },
          salepage: {
            name: "#EventCategory_Creator_SalePage",
            description: "#EventCategory_Creator_SalePage_Desc",
            icon: "20",
            type: 20,
            tags: ["curator", "curator_public", "audience_followers"],
          },
        },
        s = i()("2021-10-01T10:00:00-07:00").unix(),
        c = i()("2021-10-07T10:00:00-07:00").unix(),
        d = {
          artist_statement: {
            name: "#EventCategory_SteamGameFestival_ArtistStatement",
            description:
              "#EventCategory_SteamGameFestival_ArtistStatement_Desc",
            icon: "info",
            type: 28,
            tags: ["steam_game_festival_artist_statement", "hide_store"],
            earliestAllowedStartTime: s,
            latestAllowedEndTime: s,
            actionEndTime: c,
          },
          broadcast: {
            name: "#EventCategory_SteamGameFestival_Broadcast",
            description: "#EventCategory_SteamGameFestival_Broadcast_Desc",
            icon: "11",
            type: 11,
            tags: ["steam_game_festival_broadcast"],
            earliestAllowedStartTime: s,
            latestAllowedEndTime: c,
            actionEndTime: c,
          },
          office_hours: {
            name: "#EventCategory_SteamGameFestival_OfficeHours",
            description: "#EventCategory_SteamGameFestival_OfficeHours_Desc",
            icon: "9",
            type: 9,
            tags: ["steam_game_festival_office_hour"],
            earliestAllowedStartTime: s,
            latestAllowedEndTime: c,
            actionEndTime: c,
          },
        };
    },
    Y9L4: function (e, t, a) {},
    Yamg: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return n;
      }),
        a.d(t, "b", function () {
          return o;
        });
      var n,
        i = a("U+Q5"),
        r = a("ZeAL");
      function o(e, t, a) {
        var o = "",
          l = r.e + "/" + t.clanAccountID + "/" + i.a.GetHashAndExt(t);
        a == n.k_eInsertFullImage
          ? (o = "[img]" + l + "[/img]")
          : (o =
              "[url=" +
              l +
              "][img]" +
              (r.e + "/" + t.clanAccountID + "/" + i.a.GetThumbHashAndExt(t)) +
              "[/img][/url]");
        e.InsertText(o);
      }
      !(function (e) {
        (e[(e.k_eInsertThumbnail = 1)] = "k_eInsertThumbnail"),
          (e[(e.k_eInsertFullImage = 2)] = "k_eInsertFullImage"),
          (e[(e.k_eShowImageGroup = 3)] = "k_eShowImageGroup");
      })(n || (n = {}));
    },
    YuoN: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZUAAABVCAYAAACBxHk7AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7pSURBVHgB7Z37dZxIFsav9uz/qwzMRDDaCIwjsDNQTwTWRNC9EdgTQcsRSI6gmQhsRwCOQJoI7nJNlbpAFNTjgtTS9zuHQzdQD+r11ZszAgAAcLIw8749beh50PyLAAAAACUgKgAAANSAqAAAAFADogIAAEANiAoAAAA1ICoAAADUgKgAAABQ498EAAARMPNFe/pIOvx5dnZ2T+DFAFEBAMRyTnqL7XbtAVF5QaD7CwAAgBoQFQAAAGpAVAAAAKgBUQEAAKAGRAUAAIAaEBUAAABqQFQAAACoAVEBAACgBkQFAACAGhAVAAAAakBUAAAAqAFRAQAAoAZEBQAAgBoQFQAAAGpAVAAAAKgBUQEAAKAGPtIFAIjlO+l9pOsfAi8KiAoAIArz+d8vBMAI6P4CAACgBkQFAACAGhAVAAAAakBUAAAAqAFRAQAAoAZEBQAAgBqYUgwAAAvAzEV7KmkdKnoeNAQAAECfVlRKXodLekag+wsAAIAaEBUAAABqQFQAAACoAVEBAACgBkQFAACAGhAVAAAAakBUAAAAqAFRAQAAoAZEBQAAgBoQFQAAAGpAVAAAAKgBUQEAAKAGRAUAAIAaEBUAAABqQFQAAACoMfuRLmY+b08X7VG0xxvn1k/qPsjy/ezs7J4SaO0We89Jn/vWT9/nHlrC/dbdihQwH/gpBpeb1v6GlJh4/+Q4NfbaNDNkNl4GZpP84bxXUDpYwg+OPSV1+eaXf6jLN9+V47GkOBrqwiY5jif8kJt23DSpGfaWH9Tlo+h0ATIxH5g5BH4k5pDyoZjWTM3LcHgq90mJ1qpvI9ZvSZGJ989ypzW/99g7Gy/tM+fO8x8pAee97iiB1tzG8UNBkXBY3pH72R9XEv9xOjV3cVVQBgM/vKVEBuGelAY5vNyqfeHfXr8Q9+VdjJ8kTX6IDSd+pR/pegR3CeTAadQxL8gQFZ+/fAVFUiE54U7tc4e7mp6m34XYeLmhSLgrEFxKikTcNWbrSHNjeefOXLPH3TBMOKNQ535414HHGJ9YJ86TRMXYYcMmKJ2M2PF58E41d3G5N4f8/jbyzOWIXVtzlnDZmniKejeGqDxEbM35fAp0r+ZlOHVR+TThRElKzLx/ak1xP2FnaLzY948WUe7XdoXo1g4niBo/zjt79hRC3Anf3nlWzF1QApxYoBtzm4GfpcCNFhbOFJVB2Mm5oEhaM9eOHw5T/vC8+27wjBWVLXfpccMQlThYT1AEqXEUAW7WvAynLir1hBNBgq3gTnRrhee7YkLjxRWGNxQBH1sZUW563iEos3I/70i4fQg0t+Fj7VzMFxQJ67QSto4d0emL80Xlxgm7giJpzewc94MrQ8bf+zFzbCpvzrmI9RtDVCZrmDFIwgiqdTFEZcxPcwkxuWuK4t8/qrXC82koNF6Sx1X4WEjfpIQXd33nltB0fBNrxjF7wRndPqw3nuG2jotIs8l+4L4gpLQqJa3UxvyeEsgJtxl7X6Wo/Jr9xV0i2niekdkXn9vj+uzs7Ke9yF3mkUNeqHSefRcxs+KKpmdf7ejxDCjh1hw04eccrtujoqdhLoFIeL1vjy+0PFdtPP8VMgNnJg1FIe619jXUxX1wIc1drdKmp/+1xwfzX+yoAq15b85N4AzC0rgj7GJnFcnzrR2Sv3btIYVQqTWDMBIJrw114XVp/i9K+66S/23FRcLuL4pHwr4wv5P83Lr7NwFd+HE/tKXmsG4sMf+NE/uFJ+w9ePylMguK/TX1J1N+Dms9JQ1kJroVVHvkfo0z2998rDnXEWY+GjPfzP+D+R/cpcPHgdyg8RQ+ts6iBvUHdkht27ZWomrbrNRSMXbdxMZTqh9YYWDe2PMp146l4NfcUqFj7WzILmQ+ffvMNXW1e5ABd33xRcCjkljPNdcZTCC1yckaJHcVD+2E/cOcpfB547aSJ7Athso5lxTY2uH++pRbCqMcuBmNaZmJexvHvqdAWlmhaTAZk15EBCS8m/b4g9Kx8dXQ80PyZ0PLs0Y5EIwVFV8XVENgTd5HPCuFeEp3QSxSqF+2Bd9Ud1tJ+gVRNbB/sruPj4vdBCsItlsjVIRL5/ePmWetm4X5m7uYzpovVqwwPBXSGivM73eaC0GfE6Yr9Dd6Zcxt03JGYBVMAbUZudXQeE3kA63H1cx9le5IF1PQNOZvSEvDfcYKgmRqG3Yh3TL2mdAV14XzO1dU3JbYf+hpWUzQuJu6W5q/VwqC0pjzOYFngRUVXyKKqTmDPHwiUdF416LUvlXHsCaQGUrl2I32+oaW6y6pzDlEQG1arWwt35xtYV8G2GGfCRUItyD7h/Jw3SzoaSjNuaEFYJ2B+SEP8ctKsyJBHlZUGs/9Kx4sCgKL4RuTuG6Pr557a4r+NvK6Brb7qggoMEpzrgbXbVfYpDAljqe4qO52sDZmnKM0f1PeP8R+m1ZkTy+t2WW2VXpOy6ZFEIgVla8Tz2y5myUksyxkds2aNeSnQmbjFDEHZTDI0C7SDfO3mWI61pqc65bSpBy2VhZupQiV83tyhTQdBaEa3HaF6Q35Ges+e03YGXINHcNMhcHAvJDbVfiAyRtWBFEJfk5w2kJAmX6558AVxAl+OnjcXXpKcSzJ00mNPzYee/fOM1vPMyUlMvH+B9/1QPN1iPlIP36aeMYuWLzz3LdTVy8n7EiZwuxOGX1DGXDedivR5hzzUoFyF2+mLECc9AOPp6eSlOD+AkjmyD0IgS7uQP2fFI/U7jbtcWMics2a80vCl5Gvnd++2uMSXWCfabxl9NBaYX8rpSHd6eWVdXvimfeDZ4fcBthhWypqtegMCkojtGUtY2QbI9Qiou7iTdUZhdwfmP8vHbva1bqqzNjZOzrGf9Ee10ZgDtzvZSkIrAf7a8MxiMCoDJjxK2ip8ONddb12evybs6Nw7XH7LfvTwmHG7OWc2Ug/uq2485n3uJyx427CHUtwTZ2Xa6nE7PRdcD53nPiZgRE/vHWuXw3DdRBm6q0J7uL6wPPvK89cMkRmefjx7p0pqGx6yK9DVPYcGIas3AXG06LirvIesuOJcGBdUSmm3nNw/8Jjx/nUM9wv6KK2hXHMnZqo2IJ1y5mVQB4RFe6vmB9u1nhw/LDIjC3j/nvzfmNb3rvhsCOwPNyJyw37C5Y5SsqEX4eo1B475wo/l6QtKibctgXDluO4nDGX688xobWtkDrQjo8j9+z2LlEzuPgEx1T4mKdq1utR6PmB+7s2H0aed8Nt1Rlb3PUMiNjseWLre5CO93PC7tYrJsMUdNzgzz37kMxb0WlyTXF+v6cEuBPeYuTW6OI7menCx40WXSSTLrEKW/rXZZwspPBpZlbd51BRN3Y31oqYG0+xyLiKvIuMHwzHDT4E2vESkKm8JXVp6CMts3Hk3tjf0MgWLCYdy7idxId0kX1Za1W9yVdyfOXjNOcNdbNc5RPLnwk8HTzdVZY9b59f+IaSHNH15ZjZeszkfIxqyNsA97xhxvotlYeWBA9q13xsSb+fscPWju9G7t2lhCGf6OwvVu5+GvjBtbuYMON2ryalCy048TMJYJy5bVomMa0Z32Zw57kZ7RXgm4r9lf3rYX5G2pWL1OrnWkBLtlIEu47KXaD4qyuDjq2oubUltuUn6bL02PFatkC3rRN57+QBeg+lOU9uwWJa1bZVULLiFOME7MxXCQ/sIpJJlqgIZvFR47ldEBiFuym5vlqR1Nxqz7H3mCmXEPFB5vexowUxhZMVtt+dW7Zm/n2u+8S8RzUw5/6+j/0WCvXFtqA8CloJk2cr8/dqgdr5LrCSIRWWxvxW+6JpLCbtxGznAybIFhWDdl/+a2CJGtGGlmGqtbJ0K8Vya85uiyx2LMQ+VzrXysG9GDRFxS3YG1qepVort6FbsBiht60EGUC/oqfDikpBIAstUSk813M32XuRmG6sJbqrNrQAM62VHa2DzfQXzrXSnG8pjN5W+AM7Kopk0IK6oDx+d+wN+XZMFgu2VqIGult/3Dr+2GJM4/TpiUoboddmoK2gQKa6cRK6E14LJS1DsWDf9FhrZa1WivAwrsLdtNDS3gj9HOxgD7ULpfGUMbFLoTTnitZjybGVVH+sOsXYoSCgwoOoiKDQ8XvzIiyXc+LC3Z5fvr7QioCPJWeXLTLQ6GyFUTrHO1qJQatAxkFCpxIPqcxZzFshuM+oAFXmnDzYzP0NRa9pJVYYW4nxxzUd/VHQ+vg2JAWR/Fqn4giKpaDjGhXJbA0dPxZ1bo4PNL1+4ZpOl8+cuBiqzSCTX3pj/47EZK43FIZkgrFunw2l7eM2yzNoecr7bqgLp3PnWgwVdWm3pGPttKJ03LU820S77JTahtafgWbXrdjWyhLrVkL9YcsUmYwSVGEx+Ukqtn+krtMyYzk2PX0lkIfp8tJGZd45n86K+gcC3Nx6jEatyufpbVTKQDtqj/ngdRIee7cee7PSBffXq1iiup24v6aiNuesrh/u73G1jzTr5j/1HYID7Tg44RrdWtHwg7Fn69hTBjzvrtyXc0GRcNeVepcSd8ADd9uGp27FMkbNSs1XfpmiUnuMRk+pZP/iyaDCm09PVIqBfUkLbPlxes96X2Pn1rGv5vmuY3mXA2fEv2NP1ntw5rYprCcq7hb2QZWsQbhLvAbPIOOuMnAXGmcgAu4rfg4HzYjhFyYq7N+7izmtluWzL6jGyScmKsZuVxBuKAHui7HaFxtH3ltWatst1+0h/w+D55LTM+sV6K6fikizKn4wdm1iw4X74iDUJo4fPirIgy3/R54vCOjD6TsUZ22dPeGfg8e9UxWVvcfYN0qAp7vAZuODT1NU9o59SRMeuF9wqW4Rwl0hVnMYB4Ww1hIVt4IS24WnJirGvoOxK7g7zvhhz3GI/Z8Y05hV6W0oaTeR5K6fWhJHSceNJN2AlwGxhrpBydvQKZ0J+AaGtebxy9YeDa1LNXIt6cNIMjDZxpWYHcvIIRnF9/5JA54OEj/VyHWNgX5Ja4XzOwUZ3LeCpPpRKjOT6TdTuG7ouPGqxMdS+aYy5+R4M5s87qg/gWFVPzi4kwVKCpiMYWYH/tG+g514ILP7CuqXXffmqKhLi18W2IQVAAAAAFr8H9N6E3UIo/uhAAAAAElFTkSuQmCC";
    },
    ZCGQ: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA8FJREFUeNrsWltIVEEYXs28ZPebEVq+BBGZIl1ALc0LaDd9q8gi6yl66LGgh24PPddDPkVXlCDIzbByqcwoSsEsWB80NKxIpIhKKiTdvh/+iZ/D6ZxZ3KNnaT74dmbOzM6emf8652xCJBIJGPgTiWYLjHAMjHCMcAwmCUn0sXN37VuzFRNCKxgEq8DeG43Xz8dMOMBys78TwmJwNvgLnBNTyxFoBDvMXmvjILia66/AMXDEK+G0wiQvmz3XA8JBiRIO9q0HRU/MY47LDexBMR0cxg20WPoyUZRzM4z+Tod5trD5K1zD+DGN369EsQQcxfgGl7GLUGzlZg/Gd1j681DkcTOE/g+W/vkodthM3Y2x3VOSELjgAFgKfqObt2xoLXiW67vAzn9sWgopFzhTXO4Fn2n8/jGwGPwKNriM/QnWg6lgG7jZ0n8CrAHHLYqisAy8ZHP9FAnIj6l0E5cU8NZZ+sq4HAVbHOYotggmIDQ8ZoDikL8PcbMASjFDKMg0FCXcbMfYzw5TUV+dYNOUpdIuoBRRpYbkwp7zYpNRFPL1B1jsd4c5lCA+gQMs5G3gcQ/WdAvcDiazUtzl6/ngXDHGCSN+iL2JGto4iOKlEI5CAZimuVjlxx8JC1sDAWd5sKbb7LYIFTZWHtCwhEw6+wmu8vMTgqCNq1AuIiL67eINLSxbWZjQ5ABbT6xdG7mkdhtlUvUuVrj4eEKgGXdOcta2CbwnFvsUix12+K4UAAmnn336AnZ39R65NlKeHChHBicThZpWTniPNWX73q2xNtIBSz3iKceC01Gu13QRKt4MYp434LgI2mWYK82Ddcl7qmAXnBqFcFLpDCOY7We3Jl0bWcxGtiLHxfK5oYibs9BuI6K+QW2CJRbEyrWR2+oSwinleh/6whpTZHB8VNzvZ7emtPEImMtnGsJrLLbf4TuVQgHmcfZkZ1l3PHJt+axM7zStZojPNFa0+V04T8AvvMl7NRcr481h8IdonwazeMwhj4RzBlzKdHXBULQhjq1xlRDQjY/BJTWjuk9Yg5NLo0NflXAnFyz9a1lglLbmclxzQjrG2W1uM7570eZ+wxjfh+oKvvQRfBFPz+6ifdkmU+YBlw0tEoe+kE3//ShTalKkahvmuFjP3/MPJyNxg6Qox9OGnuO626uF38J/252DHoq5nFLxmy7PtR479F0BU7h+NRBnSKC/RsH81f+j6swrA32wmyXrDWLfary2nJX8jsJADwsn060dZRrEYUJgMNkxx8BYjoERjhGOgRHO/40/AgwA6Pwl5bmDALcAAAAASUVORK5CYII=";
    },
    Zan1: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return g;
      });
      var n = a("mrSG"),
        i = a("TyAF"),
        r = a("q1tI"),
        o = a("Mgs7"),
        l = a("qP7j"),
        s = a("fpVW"),
        c = a("gyoR"),
        d = a("Jqb/"),
        u = a("0OaU"),
        p = a("exH9"),
        m = a("TLQK"),
        _ = a("opsS"),
        g = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bImporting: !1, type: "game", importList: "" }), t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnImportAction = function () {
              this.setState({ bImporting: !0, errMsg: void 0 }, this.DoImport);
            }),
            (t.prototype.DoImport = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e,
                  t,
                  a,
                  i,
                  r = this;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (e = this.state.importList.split("\n")),
                        (t = e.filter(function (e) {
                          return (
                            e.trim().length > 0 && isNaN(parseInt(e.trim()))
                          );
                        })).length > 0
                          ? (console.error("Failed to Parse", t),
                            [
                              2,
                              this.setState({
                                bImporting: !1,
                                errMsg: Object(m.f)(
                                  "#Sale_ImportItems_ConvertNumberFailed",
                                  t[0]
                                ),
                              }),
                            ])
                          : ((a = e
                              .filter(function (e) {
                                return e.trim().length > 0;
                              })
                              .map(function (e) {
                                return parseInt(e.trim());
                              })),
                            (i = a.map(function (e) {
                              return { id: e, type: r.state.type };
                            })),
                            [4, Object(c.i)(i)])
                      );
                    case 1:
                      return (
                        n.sent(),
                        a.forEach(function (e) {
                          return r.props.fnAddCapsule(e, r.state.type);
                        }),
                        this.setState({ bImporting: !1 }),
                        this.props.closeModal(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnTypeChange = function (e) {
              this.setState({ type: e });
            }),
            (t.prototype.OnImportChange = function (e) {
              this.setState({ importList: e.currentTarget.value });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.closeModal,
                a = new Array();
              return (
                ["game", "sub", "bundle"].forEach(function (t) {
                  a.push(
                    r.createElement(
                      "div",
                      {
                        key: "ImportSaleItemsDialog_" + t,
                        className: Object(p.a)(
                          s.FlexRowContainer,
                          s.RadioOption
                        ),
                      },
                      r.createElement("input", {
                        type: "radio",
                        name: "ImportSaleItemsDialog",
                        id: "ImportSaleItemsDialog_input_" + t,
                        value: t,
                        checked: t == e.state.type,
                        onChange: function () {
                          return e.OnTypeChange(t);
                        },
                      }),
                      r.createElement(
                        "label",
                        { htmlFor: "ImportSaleItemsDialog_input_" + t },
                        r.createElement(
                          "span",
                          null,
                          Object(m.f)("#Sale_ImportItems_Type_" + t)
                        )
                      )
                    )
                  );
                }),
                r.createElement(
                  d.e,
                  {
                    onCancel: t,
                    closeModal: t,
                    bDisableBackgroundDismiss: !0,
                    bAllowFullSize: !0,
                    bHideCloseIcon: this.state.bImporting,
                  },
                  r.createElement(o.k, null, Object(m.f)("#Sale_ImportItems")),
                  r.createElement(
                    o.b,
                    null,
                    r.createElement(
                      "div",
                      null,
                      Object(m.f)("#Sale_ImportItems_Desc")
                    ),
                    Boolean(this.state.errMsg) &&
                      r.createElement(
                        "p",
                        { className: l.ErrorStyles },
                        this.state.errMsg
                      ),
                    a,
                    this.state.bImporting &&
                      r.createElement(u.a, {
                        size: "medium",
                        position: "center",
                      }),
                    !this.state.bImporting &&
                      r.createElement("textarea", {
                        value: this.state.importList,
                        cols: 40,
                        rows: 10,
                        onChange: this.OnImportChange,
                      })
                  ),
                  !this.state.bImporting &&
                    r.createElement(
                      o.j,
                      null,
                      r.createElement(
                        o.q,
                        { onClick: this.OnImportAction, disabled: !1 },
                        Object(m.f)("#Button_Confirm"),
                        " "
                      ),
                      r.createElement(
                        o.d,
                        { onClick: this.props.closeModal, disabled: !1 },
                        Object(m.f)("#Button_Cancel")
                      )
                    )
                )
              );
            }),
            Object(n.c)([_.a], t.prototype, "OnImportAction", null),
            Object(n.c)([_.a], t.prototype, "DoImport", null),
            Object(n.c)([_.a], t.prototype, "OnTypeChange", null),
            Object(n.c)([_.a], t.prototype, "OnImportChange", null),
            (t = Object(n.c)([i.a], t))
          );
        })(r.Component);
    },
    a0ud: function (e, t, a) {
      e.exports = {
        SectionContainer: "migratesaletool_SectionContainer_3ZElG",
        SectionTitle: "migratesaletool_SectionTitle_1-ftd",
        RecordCtn: "migratesaletool_RecordCtn_1gW9g",
        RecordInfoCtn: "migratesaletool_RecordInfoCtn_6eQgp",
      };
    },
    aXcg: function (e, t, a) {
      e.exports = { SavedImage: "partnereventsavebutton_SavedImage_1y3QV" };
    },
    as1E: function (e, t, a) {
      e.exports = {
        CategoryImage: "partnereventeditor_CategoryImage_2bE2w",
        EventCategory_Top_Desc:
          "partnereventeditor_EventCategory_Top_Desc_1kI-Q",
        eventcategory_picker_page:
          "partnereventeditor_eventcategory_picker_page_1axHR",
        EventEditorDescription:
          "partnereventeditor_EventEditorDescription_3C8iP",
        EventSubCategory_Section_Title:
          "partnereventeditor_EventSubCategory_Section_Title_1g3oT",
        EventCategory_Top_Title:
          "partnereventeditor_EventCategory_Top_Title_3XiNN",
        EventSubCategory_Section_Desc:
          "partnereventeditor_EventSubCategory_Section_Desc_1nVkr",
        EventCategory_Expander:
          "partnereventeditor_EventCategory_Expander_3Egt2",
        CategoryTitles_Ctn: "partnereventeditor_CategoryTitles_Ctn_21Aec",
        EventCategory_Title: "partnereventeditor_EventCategory_Title_16pAy",
        EventSubCategory_Ctn: "partnereventeditor_EventSubCategory_Ctn_1xp2X",
        CategoryTypeImage: "partnereventeditor_CategoryTypeImage_1bk8c",
        EventSubCategory_Title:
          "partnereventeditor_EventSubCategory_Title_2OocG",
        EventCategory_Desc: "partnereventeditor_EventCategory_Desc_S7Pze",
        EventSubCategory_Desc: "partnereventeditor_EventSubCategory_Desc_kjyqb",
        EventCategory_HeaderCtn:
          "partnereventeditor_EventCategory_HeaderCtn_48mLX",
        EventCategory: "partnereventeditor_EventCategory_1rJ2O",
        EventCategory_SteamAwardsVoteRequest:
          "partnereventeditor_EventCategory_SteamAwardsVoteRequest_RxhoL",
        EventCategory_SpecialCategory:
          "partnereventeditor_EventCategory_SpecialCategory_2Hm22",
        WarningCtn: "partnereventeditor_WarningCtn_25K96",
        TitleCtn: "partnereventeditor_TitleCtn_oGmJd",
        Title: "partnereventeditor_Title_1iEFY",
        Summary: "partnereventeditor_Summary_2eQap",
        Link: "partnereventeditor_Link_3s-fD",
        EventSubCategoriesCtn: "partnereventeditor_EventSubCategoriesCtn_1Ic2i",
        EventCategoryExpanded: "partnereventeditor_EventCategoryExpanded_2gb8_",
        EventEditorCatagorySection:
          "partnereventeditor_EventEditorCatagorySection_1HRyu",
        EventCategoryNotExpandable:
          "partnereventeditor_EventCategoryNotExpandable_3gOyF",
        EventEditorInputPaneContainer:
          "partnereventeditor_EventEditorInputPaneContainer_2hDSK",
        EventEditorInputPaneContents:
          "partnereventeditor_EventEditorInputPaneContents_24lkz",
        RequiredFieldLabel: "partnereventeditor_RequiredFieldLabel_11TnL",
        OptionsNotes: "partnereventeditor_OptionsNotes_3iBea",
        EventCategoryColumns: "partnereventeditor_EventCategoryColumns_36Vhg",
        EventCategoryLeftCol: "partnereventeditor_EventCategoryLeftCol__-nHy",
        EventCategoryRightCol: "partnereventeditor_EventCategoryRightCol_25O-o",
        EventCategoryVisibilityCtn:
          "partnereventeditor_EventCategoryVisibilityCtn_HRszO",
        ExceptionNote: "partnereventeditor_ExceptionNote_19VPv",
        ExceptionDocsLink: "partnereventeditor_ExceptionDocsLink_1iykQ",
        EventVisibility_Title: "partnereventeditor_EventVisibility_Title_jWhiI",
        wrapper: "partnereventeditor_wrapper_2OTbb",
        EventEditorTitleInput: "partnereventeditor_EventEditorTitleInput_ZAOXn",
        Subtitle: "partnereventeditor_Subtitle_32XZf",
        EventEditorInputMaxLength:
          "partnereventeditor_EventEditorInputMaxLength_2B38_",
        CharactorRemaining: "partnereventeditor_CharactorRemaining_153Co",
        CharactorExhausted: "partnereventeditor_CharactorExhausted_2zjgO",
        EventSubCategory: "partnereventeditor_EventSubCategory_2Q82B",
        EventEditBelowTopBarContainer:
          "partnereventeditor_EventEditBelowTopBarContainer_2sTiY",
        EventEditBelowTopBarGameName:
          "partnereventeditor_EventEditBelowTopBarGameName_2mDt_",
        EventEditBelowTopBarCategoryChoice:
          "partnereventeditor_EventEditBelowTopBarCategoryChoice_1GRf_",
        DashLink: "partnereventeditor_DashLink_2UhUF",
        EventEditorInputPaneTopRow:
          "partnereventeditor_EventEditorInputPaneTopRow_1jWGj",
        EventEditPopopLinkContainer:
          "partnereventeditor_EventEditPopopLinkContainer_28dFn",
        InlinePreviewContainer:
          "partnereventeditor_InlinePreviewContainer_1KczU",
        InlinePreviewHeader: "partnereventeditor_InlinePreviewHeader_36LPo",
        TopBarDeleteButton: "partnereventeditor_TopBarDeleteButton_3JgPZ",
        UploadPreviewCtn: "partnereventeditor_UploadPreviewCtn_1f_3B",
        PreviewImgCtn: "partnereventeditor_PreviewImgCtn_5cvwO",
        PreviewImgInfo: "partnereventeditor_PreviewImgInfo_wiK-n",
        UploadPreviewButtonsCtn:
          "partnereventeditor_UploadPreviewButtonsCtn_1E996",
        UploadPreview: "partnereventeditor_UploadPreview_1Go1Y",
        UploadPreviewDelete: "partnereventeditor_UploadPreviewDelete_PQiPX",
        UploadPreviewButton: "partnereventeditor_UploadPreviewButton_3ucHv",
        ArtworkDimensionTooSmall:
          "partnereventeditor_ArtworkDimensionTooSmall_1BKDz",
        UploadPreviewError: "partnereventeditor_UploadPreviewError_FqFpo",
        UploadPreviewWarning: "partnereventeditor_UploadPreviewWarning_3WxvC",
        ArtworkTipsCtn: "partnereventeditor_ArtworkTipsCtn_36oQU",
        ArtworkDocs: "partnereventeditor_ArtworkDocs_R7tUA",
        ArtworkExampleTitle: "partnereventeditor_ArtworkExampleTitle_3IYml",
        ArtworkExampleCtn: "partnereventeditor_ArtworkExampleCtn_1-LYQ",
        EditRawExample: "partnereventeditor_EditRawExample_2Z-Uc",
        EditRawTextArea: "partnereventeditor_EditRawTextArea_2Hjmo",
        TitleSelectionContainer:
          "partnereventeditor_TitleSelectionContainer_wXKYm",
        SaleSectionTitleHeader:
          "partnereventeditor_SaleSectionTitleHeader_1PZp0",
        TabsSelectorEntry: "partnereventeditor_TabsSelectorEntry_rTO_V",
        TabsSelectorEntrySelected:
          "partnereventeditor_TabsSelectorEntrySelected_1ryee",
        TabsMultipleError: "partnereventeditor_TabsMultipleError_2-JUW",
        TabsSelectToEdit: "partnereventeditor_TabsSelectToEdit_2HsE1",
        ShowOnTabCheckBoxCtn: "partnereventeditor_ShowOnTabCheckBoxCtn_2xl2v",
        ShowOnTabCheckBox: "partnereventeditor_ShowOnTabCheckBox_3p5Yu",
        ShowOnTabsLabel: "partnereventeditor_ShowOnTabsLabel_IMegH",
        ShowOnTabsButton: "partnereventeditor_ShowOnTabsButton_3bfm0",
        BottomBarControls: "partnereventeditor_BottomBarControls_3sisA",
        ReoderSections: "partnereventeditor_ReoderSections_234Ad",
        MinimizeAll: "partnereventeditor_MinimizeAll_kQpet",
        ItemBrowseInactiveTab: "partnereventeditor_ItemBrowseInactiveTab_1-3nD",
        ItemBrowseInactiveTabAdd:
          "partnereventeditor_ItemBrowseInactiveTabAdd_3K8G5",
        TabHideItemFilterCtn: "partnereventeditor_TabHideItemFilterCtn_2vW4l",
        ReorderSectionCtn: "partnereventeditor_ReorderSectionCtn_2ye5W",
        SectionList: "partnereventeditor_SectionList_2g1Br",
        SectionTitle: "partnereventeditor_SectionTitle_3euRU",
        FilterDisplayCtn: "partnereventeditor_FilterDisplayCtn_yqDsi",
        PrioritySelector: "partnereventeditor_PrioritySelector_3OCga",
        BroadcastAccountInfo: "partnereventeditor_BroadcastAccountInfo_2udBY",
        BroadcastAccountList: "partnereventeditor_BroadcastAccountList_1LLBz",
        ShowInTabsList: "partnereventeditor_ShowInTabsList_1slxi",
      };
    },
    bVxH: function (e, t, a) {
      e.exports = {
        titleimg: "clanlocalizedimage_titleimg_rjdSm",
        previewimg: "clanlocalizedimage_previewimg_45E3Z",
        artworkbar: "clanlocalizedimage_artworkbar_q0Eu4",
      };
    },
    ba6i: function (e, t, a) {
      e.exports = {
        EventTimeSection: "partnereventshareddates_EventTimeSection_3HyTV",
        EventTimeTitle: "partnereventshareddates_EventTimeTitle_2lG5h",
        EventVisibilityItem:
          "partnereventshareddates_EventVisibilityItem_1she-",
        EventEditorInputPaneContainer:
          "partnereventshareddates_EventEditorInputPaneContainer_1fCy4",
        TimeWidth: "partnereventshareddates_TimeWidth_3JGsB",
        EventPublishTimeCtn:
          "partnereventshareddates_EventPublishTimeCtn_2QIVv",
        InputBorder: "partnereventshareddates_InputBorder_1_H1s",
        TimeBlock: "partnereventshareddates_TimeBlock_2xLBs",
        TimeRowContainer: "partnereventshareddates_TimeRowContainer_BWmgg",
        TimeRowDropDown: "partnereventshareddates_TimeRowDropDown_3ECiy",
        EndDateAmountCtn: "partnereventshareddates_EndDateAmountCtn_1BIlZ",
        EndRound: "partnereventshareddates_EndRound_jwuNo",
        VisibilityItemList: "partnereventshareddates_VisibilityItemList_3B0QM",
        VisibilityItems: "partnereventshareddates_VisibilityItems_1WleI",
        EventEditorVisibilityCtn:
          "partnereventshareddates_EventEditorVisibilityCtn_4gWwy",
      };
    },
    "d+Me": function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return o;
      });
      var n = a("mrSG"),
        i = a("q1tI"),
        r = a("uuth"),
        o = function (e) {
          var t = e.onPositionChange,
            a = e.onLeave,
            o = i.useCallback(
              function (e) {
                return (
                  void 0 === e.previousPosition &&
                    e.currentPosition === r.a.above &&
                    a &&
                    a(e),
                  t && t(e)
                );
              },
              [t, a]
            );
          return i.createElement(
            r.a,
            Object(n.a)({}, e, { onPositionChange: o })
          );
        };
    },
    dQ8J: function (e, t, a) {
      e.exports = { DialogCtn: "partnereventstatsexport_DialogCtn_2LwQU" };
    },
    dZOt: function (e, t, a) {
      "use strict";
      a.d(t, "c", function () {
        return n;
      }),
        a.d(t, "d", function () {
          return d;
        }),
        a.d(t, "f", function () {
          return u;
        }),
        a.d(t, "g", function () {
          return p;
        }),
        a.d(t, "e", function () {
          return m;
        }),
        a.d(t, "b", function () {
          return _;
        }),
        a.d(t, "a", function () {
          return g;
        });
      var n,
        i = a("mrSG"),
        r = a("2vnA"),
        o = a("+VX6"),
        l = a("U+Q5"),
        s = a("TLQK"),
        c = a("XxJJ");
      !(function (e) {
        (e[(e.k_EStorePage = 0)] = "k_EStorePage"),
          (e[(e.k_EEventPage = 1)] = "k_EEventPage"),
          (e[(e.k_ESalesPage = 2)] = "k_ESalesPage");
      })(n || (n = {}));
      var d = 3,
        u = [
          "EventEmail_Destination_Store",
          "EventEmail_Destination_Event",
          "EventEmail_Destination_SalesPage",
        ],
        p = [
          "EventEmail_Subject_NewUpdate",
          "EventEmail_Subject_UpcomingLaunch",
          "EventEmail_Subject_NowAvailable",
          "EventEmail_Subject_FreeDemoAvailable",
          "EventEmail_Subject_SpecialOffer",
          "EventEmail_Subject_Tournament_Now",
          "EventEmail_Subject_LiveStream_Now",
          "Email_Wishlist_NewReleaseEA_Subject",
          "EventEmail_Subject_NewDLC",
          "EventEmail_Subject_NewExpansion",
          "EventEmail_Subject_NewChapter",
          "EventEmail_Subject_NewBattlePass",
          "EventEmail_Subject_NewSeason",
        ],
        m = [
          "EventEmail_Button_ClickForMoreDetails",
          "EventEmail_Button_PrepurchaseNow",
          "EventEmail_Button_BuyNow",
          "EventEmail_Button_WishlistNow",
          "EventEmail_Button_PlayNow",
          "EventEmail_WatchNow",
        ],
        _ = (function () {
          function e(e) {
            this.m_setting = e;
          }
          return (
            (e.prototype.BIsEnableEnabled = function () {
              return this.m_setting.bEnable;
            }),
            (e.prototype.GetLocalizedSubject = function (e) {
              return this.m_setting.localized_subject &&
                this.m_setting.localized_subject[e]
                ? this.m_setting.localized_subject[e]
                : "";
            }),
            (e.prototype.GetSubjectTextLoc = function () {
              return this.m_setting.subject_loc_token
                ? this.m_setting.subject_loc_token
                : "EventEmail_Subject_NewUpdate";
            }),
            (e.prototype.GetNumSections = function () {
              return this.m_setting.sections.length;
            }),
            (e.prototype.GetSection = function (e) {
              return this.m_setting.sections[e];
            }),
            (e.prototype.GetSomeCreatorTarget = function () {
              return this.GetTargetting().creator_home[0];
            }),
            (e.prototype.GetFiltering = function () {
              return this.m_setting.filtering || {};
            }),
            (e.prototype.BIsIRTopNFiltering = function () {
              return this.GetFiltering().ir_topn;
            }),
            (e.prototype.BIsWishListFiltering = function () {
              return this.GetFiltering().wishlist;
            }),
            (e.prototype.GetControlGroupPercent = function () {
              var e = this.GetFiltering();
              return Boolean(e && e.control_group_percent)
                ? e.control_group_percent
                : 0;
            }),
            (e.prototype.GetTargetting = function () {
              return this.m_setting.targeting || {};
            }),
            (e.prototype.BIsTargetingGamePlayers = function () {
              return this.GetTargetting().game_players;
            }),
            (e.prototype.BIsTargetingGameFollowers = function () {
              return this.GetTargetting().game_followers;
            }),
            (e.prototype.BIsTargetingGameWishlisters = function () {
              return this.GetTargetting().game_wishlister;
            }),
            (e.prototype.BIsExcludingGameOwners = function () {
              return this.GetTargetting().game_exclude_owners;
            }),
            (e.prototype.BIsTargetingGameOwnersWithoutPlaytime = function () {
              return this.GetTargetting().game_owner_with_no_playtime;
            }),
            (e.prototype.BIsTargetingSomeCreator = function () {
              return (
                this.GetTargetting().creator_home &&
                this.GetTargetting().creator_home.length > 0
              );
            }),
            (e.prototype.BIsTargetingSomeCreatorPlayer = function () {
              return (
                this.GetTargetting().creator_home_player &&
                this.GetTargetting().creator_home_player.length > 0
              );
            }),
            (e.prototype.BIsTargetingCreator = function (e) {
              var t = this.GetTargetting().creator_home;
              return (
                t &&
                t.length > 0 &&
                t.some(function (t) {
                  return t === e;
                })
              );
            }),
            (e.prototype.BIsTargetingCreatorPlayer = function (e) {
              var t = this.GetTargetting().creator_home_player;
              return (
                t &&
                t.length > 0 &&
                t.some(function (t) {
                  return t === e;
                })
              );
            }),
            (e.prototype.BIsLocked = function () {
              return this.m_setting.locked;
            }),
            (e.prototype.BHasSomeTargetEnabled = function () {
              return (
                this.BIsTargetingGamePlayers() ||
                this.BIsTargetingGameFollowers() ||
                this.BIsTargetingGameWishlisters() ||
                this.BIsTargetingSomeCreator() ||
                this.BIsTargetingSomeCreatorPlayer() ||
                this.BIsTargetingGameOwnersWithoutPlaytime()
              );
            }),
            (e.prototype.BHasSomeLanguage = function (e) {
              return (
                this.m_setting &&
                this.m_setting.sections.some(function (t) {
                  var a = new g(t);
                  return (
                    a.GetHeadline(e).trim().length > 0 ||
                    a.GetBody(e).trim().length > 0 ||
                    void 0 !== a.GetImageHashAndExtRaw(e)
                  );
                })
              );
            }),
            (e.prototype.GetInternalTargetingPartnerCapability = function () {
              return this.m_setting.internal_targeting.capability;
            }),
            (e.prototype.BHasInternalTargetingPriority = function () {
              return this.m_setting.internal_targeting.priority;
            }),
            (e.prototype.BHasInternalTargetingPublisherRight = function (e) {
              return (this.m_setting.internal_targeting.pub_rights & e) == e;
            }),
            (e.prototype.BHasAnyInternalTargetingPublisherRight = function () {
              return 0 != this.m_setting.internal_targeting.pub_rights;
            }),
            (e.prototype.BHasInternalTargetingAppRight = function (e) {
              return (this.m_setting.internal_targeting.app_rights & e) == e;
            }),
            (e.prototype.BHasAnyInternalTargetingAppRight = function () {
              return 0 != this.m_setting.internal_targeting.app_rights;
            }),
            (e.prototype.GetInternalTargetAppCount = function () {
              return this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.appids.length
                : 0;
            }),
            (e.prototype.GetInternalTargetPublisherCount = function () {
              return this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.partnerids.length
                : 0;
            }),
            (e.prototype.GetInternalTargetAppIDs = function () {
              return this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.appids
                : [];
            }),
            (e.prototype.GetInternalTargetPublisherIDs = function () {
              return this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.partnerids
                : [];
            }),
            (e.prototype.BHasLocalizedSubject = function (e) {
              return (
                this.m_setting.localized_subject &&
                e < this.m_setting.localized_subject.length &&
                Boolean(this.m_setting.localized_subject[e])
              );
            }),
            Object(i.c)([r.C], e.prototype, "m_setting", void 0),
            Object(i.c)([c.a], e.prototype, "BHasSomeLanguage", null),
            e
          );
        })(),
        g = (function () {
          function e(e) {
            this.m_section = e;
          }
          return (
            (e.prototype.BHasHeadline = function () {
              return void 0 !== this.m_section.localized_headline;
            }),
            (e.prototype.BHasHeadlineInLanguage = function (e) {
              return (
                this.m_section.localized_headline &&
                this.m_section.localized_headline.length > e &&
                Boolean(this.m_section.localized_headline[e])
              );
            }),
            (e.prototype.BHasBody = function () {
              return void 0 !== this.m_section.localized_body;
            }),
            (e.prototype.BHasBodyInLanguage = function (e) {
              return (
                this.m_section.localized_body &&
                this.m_section.localized_body.length > e &&
                this.m_section.localized_body[e]
              );
            }),
            (e.prototype.BHasCallToAction = function () {
              return void 0 !== this.m_section.button_loc_token;
            }),
            (e.prototype.BHasImage = function () {
              return void 0 !== this.m_section.localized_image;
            }),
            (e.prototype.BHasVideo = function () {
              return void 0 !== this.m_section.video_link;
            }),
            (e.prototype.BHasSomeImage = function () {
              return (
                this.m_section.localized_image &&
                this.m_section.localized_image.some(function (e) {
                  return Boolean(e);
                })
              );
            }),
            (e.prototype.GetHeadline = function (e) {
              return s.a.Get(this.m_section.localized_headline, e);
            }),
            (e.prototype.GetHeadlineWithFallback = function (e) {
              var t = this.GetHeadline(e),
                a = s.b.GetELanguageFallback(e);
              return 0 == t.length && e != a && (t = this.GetHeadline(a)), t;
            }),
            (e.prototype.GetBody = function (e) {
              return this.m_section.localized_body &&
                this.m_section.localized_body.length > e &&
                this.m_section.localized_body[e]
                ? this.m_section.localized_body[e]
                : "";
            }),
            (e.prototype.GetBodyWithFallback = function (e) {
              var t = this.GetBody(e),
                a = s.b.GetELanguageFallback(e);
              return 0 == t.length && e != a && (t = this.GetBody(a)), t;
            }),
            (e.prototype.GetImageHashAndExtRaw = function (e) {
              return this.m_section.localized_image &&
                this.m_section.localized_image.length > e &&
                this.m_section.localized_image[e]
                ? this.m_section.localized_image[e]
                : void 0;
            }),
            (e.prototype.GetImageHash = function (e) {
              var t = this.GetImageHashAndExtRaw(e);
              if (t) return t.substr(0, t.length - 4);
            }),
            (e.prototype.GetImageHashAndExtWithFallback = function (e) {
              var t = this.GetImageHashAndExtRaw(e),
                a = s.b.GetELanguageFallback(e);
              return (
                void 0 === t && e != a && (t = this.GetImageHashAndExtRaw(a)), t
              );
            }),
            (e.prototype.RemoveImage = function (e) {
              this.m_section.localized_image &&
                this.m_section.localized_image.length > e &&
                (this.m_section.localized_image[e] = void 0);
            }),
            (e.prototype.GetImageURLWithFallback = function (e, t) {
              var a = this.GetImageHashAndExtWithFallback(e);
              return a
                ? l.a.GenerateArtworkURLFromHashAndExtensions(t, a)
                : void 0;
            }),
            (e.prototype.GetVideoURL = function () {
              return this.m_section.video_link ? this.m_section.video_link : "";
            }),
            (e.prototype.GetVideoImage = function () {
              return this.m_section.video_image;
            }),
            (e.prototype.GetDestination = function () {
              return this.m_section.button_destination;
            }),
            (e.prototype.BIsStoreSalesPage = function () {
              return this.m_section.button_destination == n.k_ESalesPage;
            }),
            (e.prototype.GetDestinationStorePath = function () {
              return this.m_section.button_store_path
                ? this.m_section.button_store_path
                : "";
            }),
            (e.prototype.GetButtonTextLoc = function () {
              return this.m_section.button_loc_token;
            }),
            (e.prototype.GetButtonAppidOverride = function () {
              return this.m_section.button_appid_override;
            }),
            (e.prototype.BHasButtonAppIDOverride = function () {
              return (
                this.m_section.button_appid_override &&
                this.m_section.button_appid_override > d
              );
            }),
            (e.prototype.BHasValidVideoURL = function () {
              return Object(o.a)(this.m_section.video_link);
            }),
            (e.prototype.GetYouTubeVideoID = function () {
              return Object(o.c)(this.m_section.video_link);
            }),
            (e.prototype.GetYouTubeImageURL = function () {
              if (this.BHasValidVideoURL())
                return (
                  "https://img.youtube.com/vi/" +
                  this.GetYouTubeVideoID() +
                  "/0.jpg"
                );
            }),
            (e.prototype.GetRawVideoURL = function () {
              return this.m_section.video_link;
            }),
            (e.prototype.BHasVideoImage = function () {
              return Boolean(this.m_section.video_image);
            }),
            Object(i.c)([r.C], e.prototype, "m_section", void 0),
            e
          );
        })();
    },
    f1ZV: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return f;
      });
      var n = a("mrSG"),
        i = a("TyAF"),
        r = a("q1tI"),
        o = a("y2g3"),
        l = a.n(o),
        s = a("dsQf"),
        c = a.n(s),
        d = a("5izx"),
        u = a("fpVW"),
        p = a.n(u),
        m = a("exH9"),
        _ = a("TLQK"),
        g = a("opsS"),
        E = a("5E+2"),
        b = a("ba6i"),
        h = a.n(b),
        v = a("f0Wu"),
        f = (function (e) {
          function t(t) {
            var a = e.call(this, t) || this;
            return (
              (a.state = {
                timeAsString: null,
                dateAsString: null,
                bEndTimeBeforeStartTime: !1,
              }),
              a
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnTimeChange = function (e) {
              var t = this.props,
                a = t.nEarliestTime,
                n = t.fnSetTimeToUpdate,
                i = t.fnIsValidDateTime;
              if (!t.disabled) {
                if ("string" == typeof e) {
                  var r = v(e, "h:m a +-h:m", !0);
                  if (!r.isValid())
                    return void this.setState({ timeAsString: e });
                  e = r;
                }
                var o = this.props.fnGetTimeToUpdate(),
                  l = 0;
                if (o) {
                  var s = v.unix(o);
                  e.year(s.year()),
                    e.month(s.month()),
                    e.day(s.day()),
                    (l = e.unix());
                } else {
                  l =
                    v.unix(a).hour(0).second(0).minutes(0).unix() +
                    3600 * e.hour() +
                    60 * e.minutes();
                }
                n(l);
                var c = i && !0 === i();
                (null == this.state.timeAsString &&
                  c == this.state.bEndTimeBeforeStartTime) ||
                  this.setState({
                    timeAsString: null,
                    bEndTimeBeforeStartTime: c,
                  });
              }
            }),
            (t.prototype.OnDateChange = function (e) {
              if (!this.props.disabled) {
                if ("string" == typeof e) {
                  var t = v(e, "M/D/YYYY", !0);
                  if (!t.isValid())
                    return void this.setState({ dateAsString: e });
                  e = t;
                }
                var a = this.props.fnGetTimeToUpdate(),
                  n = v.unix(a || d.a.GetTimeNowWithOverride());
                e.hour(n.hour()),
                  e.minute(n.minute()),
                  e.second(0),
                  this.props.fnSetTimeToUpdate(e.unix());
                var i =
                  this.props.fnIsValidDateTime &&
                  !0 === this.props.fnIsValidDateTime();
                (null == this.state.dateAsString &&
                  i == this.state.bEndTimeBeforeStartTime) ||
                  this.setState({
                    dateAsString: null,
                    bEndTimeBeforeStartTime: i,
                  });
              }
            }),
            (t.prototype.IsValidDate = function (e) {
              if (this.props.disabled) return !1;
              var t = this.props,
                a = t.nEarliestTime,
                n = t.nLatestTime,
                i = v.unix(a).hour(0).seconds(0).minute(0),
                r = e.unix() >= i.unix();
              if (r && n && n >= a) {
                var o = v.unix(n).hour(23).minute(59).seconds(59);
                r = e.unix() <= o.unix();
              }
              return r;
            }),
            (t.prototype.SetToNow = function () {
              this.props.fnSetToNow
                ? this.props.fnSetToNow(d.a.GetTimeNowWithOverride())
                : this.props.fnSetTimeToUpdate(d.a.GetTimeNowWithOverride());
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.nLatestTime,
                a = e.nEarliestTime,
                n = e.fnGetTimeToUpdate,
                i = e.fnIsValidDateTime,
                o = n(),
                s = o > 0 ? new Date(1e3 * o) : null,
                u = "h:mm A",
                g = i && i(),
                b =
                  this.state.timeAsString ||
                  this.state.dateAsString ||
                  "string" == typeof g,
                f = "#EventEditor_Fallback_Invalid_DateTime";
              this.state.timeAsString
                ? (f = "#EventEditor_Time_CannotParse")
                : this.state.dateAsString
                ? (f = "#EventEditor_Date_CannotParse")
                : "string" == typeof g && (f = g);
              var S = void 0;
              if (t && a && t == a && a > d.a.GetTimeNowWithOverride()) {
                var O = v.unix(a);
                (S = {
                  hours: { max: O.hour(), min: O.hour(), step: 0 },
                  minutes: { max: O.minute(), min: O.minute(), step: 0 },
                  seconds: { max: O.seconds(), min: O.seconds(), step: 0 },
                  milliseconds: { max: 0, min: 0, step: 0 },
                }),
                  (u = "HH:mm");
              }
              var y = void 0;
              !o && a && (y = v.unix(a));
              var C = v.tz.guess(),
                j = v.unix(o).tz(C);
              return r.createElement(
                "div",
                {
                  className: Object(m.a)(
                    h.a.EventTimeSection,
                    this.props.className
                  ),
                },
                r.createElement(
                  "div",
                  { className: h.a.EventTimeTitle },
                  r.createElement(
                    E.a,
                    {
                      toolTipContent: this.props.strDescToolTip,
                      direction: "top",
                    },
                    Boolean(this.props.strDescription) &&
                      r.createElement("span", null, this.props.strDescription)
                  ),
                  b &&
                    r.createElement(
                      "span",
                      null,
                      r.createElement("img", { src: c.a }),
                      Object(_.f)(f)
                    )
                ),
                r.createElement(
                  "div",
                  { className: p.a.FlexRowContainer },
                  r.createElement(
                    "div",
                    { className: Object(m.a)(p.a.InputBorder, h.a.TimeBlock) },
                    r.createElement(l.a, {
                      onChange: this.OnDateChange,
                      timeFormat: !1,
                      value: this.state.dateAsString
                        ? this.state.dateAsString
                        : s,
                      isValidDate: this.IsValidDate,
                      initialValue: y,
                      inputProps: {
                        placeholder: Object(_.f)("#EventEditor_Enter_Date"),
                        className: h.a.TimeWidth,
                      },
                    })
                  ),
                  r.createElement(
                    "div",
                    {
                      className: Object(m.a)(
                        p.a.InputBorder,
                        h.a.TimeBlock,
                        p.a.FlexRowContainer
                      ),
                    },
                    r.createElement(l.a, {
                      onChange: this.OnTimeChange,
                      dateFormat: !1,
                      timeFormat: u,
                      timeConstraints: S,
                      value: this.state.timeAsString
                        ? this.state.timeAsString
                        : s,
                      inputProps: {
                        placeholder: Object(_.f)("#EventEditor_Enter_Time"),
                        className: h.a.TimeWidth,
                      },
                    })
                  ),
                  this.props.bShowTimeZone &&
                    r.createElement("div", null, j.zoneAbbr())
                ),
                Boolean(S) &&
                  r.createElement(
                    "div",
                    null,
                    Object(_.f)("#EventEditor_DateTime_Fixed")
                  )
              );
            }),
            Object(n.c)([g.a], t.prototype, "OnTimeChange", null),
            Object(n.c)([g.a], t.prototype, "OnDateChange", null),
            Object(n.c)([g.a], t.prototype, "IsValidDate", null),
            Object(n.c)([g.a], t.prototype, "SetToNow", null),
            (t = Object(n.c)([i.a], t))
          );
        })(r.Component);
    },
    fbnN: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return _;
      });
      var n = a("mrSG"),
        i = a("q1tI"),
        r = a("EC67"),
        o = a("exH9"),
        l = a("TLQK"),
        s = a("GiuM"),
        c = a("Cksw"),
        d = a.n(c),
        u = a("5E+2"),
        p = a("+d9t"),
        m = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { activeTab: "" }), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              this.props.startingTab
                ? this.setState({ activeTab: this.props.startingTab })
                : !this.props.bDisableRouting &&
                  this.props.location &&
                  this.setState({
                    activeTab: Object(s.a)(this.props.location, "tab"),
                  });
            }),
            (t.prototype.componentDidUpdate = function (e) {
              !this.props.bDisableRouting &&
                this.props.location &&
                this.props.location.key !== e.location.key &&
                this.setState({
                  activeTab: Object(s.a)(this.props.location, "tab"),
                });
            }),
            (t.prototype.OnTabClick = function (e) {
              this.setState({ activeTab: e.key }),
                !this.props.bDisableRouting &&
                  this.props.history &&
                  Object(s.b)(this.props.history, "tab", e.key),
                e.onClick && e.onClick(e);
            }),
            (t.prototype.render = function () {
              var e = this,
                t =
                  this.props.tabs.find(function (t) {
                    return t.key === e.state.activeTab;
                  }) || this.props.tabs[0];
              return i.createElement(
                i.Fragment,
                null,
                i.createElement(
                  "div",
                  { className: d.a.GraphicalAssetsTabs },
                  this.props.tabs.map(function (a) {
                    if (!a.hidden) {
                      var n = "";
                      return (
                        "success" === a.statusType
                          ? (n = d.a.StatusSuccess)
                          : "danger" === a.statusType
                          ? (n = d.a.StatusDanger)
                          : "caution" === a.statusType &&
                            (n = d.a.StatusCaution),
                        i.createElement(
                          p.a,
                          {
                            key: a.key,
                            condition: Boolean(a.statusToolTip),
                            wrap: function (e) {
                              return i.createElement(
                                u.a,
                                { toolTipContent: a.statusToolTip },
                                e
                              );
                            },
                          },
                          i.createElement(
                            "div",
                            {
                              key: a.key,
                              className:
                                d.a.GraphicalAssetsTab +
                                " " +
                                (a.key === t.key ? d.a.Active : ""),
                              onClick: function () {
                                return e.OnTabClick(a);
                              },
                            },
                            Boolean(a.vo_warning) &&
                              i.createElement(
                                u.a,
                                { toolTipContent: a.vo_warning },
                                i.createElement(
                                  "div",
                                  { className: d.a.VOWarning },
                                  Object(l.f)("#EventEditor_VOWarning")
                                )
                              ),
                            Boolean(a.status) &&
                              i.createElement(
                                "div",
                                {
                                  className: Object(o.a)(
                                    d.a.GraphicalAssetStatus,
                                    n
                                  ),
                                },
                                a.status
                              ),
                            a.name
                          )
                        )
                      );
                    }
                    return null;
                  })
                ),
                i.createElement("div", null, t && t.contents)
              );
            }),
            t
          );
        })(i.Component),
        _ = Object(r.j)(m);
    },
    fcuX: function (e, t, a) {
      "use strict";
      a.d(t, "d", function () {
        return n;
      }),
        a.d(t, "b", function () {
          return i;
        }),
        a.d(t, "c", function () {
          return r;
        }),
        a.d(t, "a", function () {
          return o;
        }),
        a.d(t, "f", function () {
          return D;
        }),
        a.d(t, "e", function () {
          return w;
        });
      var n,
        i,
        r,
        o,
        l = a("mrSG"),
        s = a("t0uJ"),
        c = a("2vnA"),
        d = a("mgoM"),
        u = a("kyHq"),
        p = a("dZOt"),
        m = a("3+zv"),
        _ = a("kLLr"),
        g = a("ir+G"),
        E = a("U+Q5"),
        b = a("TQGK"),
        h = a("5izx"),
        v = a("6oCP"),
        f = a("r64O"),
        S = a("TLQK"),
        O = a("N0Ye"),
        y = a("opsS"),
        C = a("lkRc"),
        j = a("Q47U"),
        T = a("KP/B"),
        I = a("I/R6");
      !(function (e) {
        (e.k_ENow = "now"), (e.k_ESpecified = "specified");
      })(n || (n = {})),
        (function (e) {
          (e.k_EDuration = "duration"), (e.k_ESpecified = "specified");
        })(i || (i = {})),
        (function (e) {
          (e[(e.None = 0)] = "None"),
            (e[(e.type = 1)] = "type"),
            (e[(e.name = 2)] = "name"),
            (e[(e.description = 4)] = "description"),
            (e[(e.time = 8)] = "time"),
            (e[(e.visibility = 16)] = "visibility"),
            (e[(e.jsondata_other = 32)] = "jsondata_other"),
            (e[(e.jsondata_image = 64)] = "jsondata_image"),
            (e[(e.jsondata_email = 128)] = "jsondata_email"),
            (e[(e.jsondata_broadcast = 256)] = "jsondata_broadcast"),
            (e[(e.jsondata_sales = 512)] = "jsondata_sales"),
            (e[(e.jsondata_schedule = 1024)] = "jsondata_schedule");
        })(r || (r = {})),
        (function (e) {
          (e.k_EHour = "hour"), (e.k_EDay = "day"), (e.k_EWeek = "week");
        })(o || (o = {}));
      var D;
      !(function (e) {
        (e[(e.immediate = 0)] = "immediate"),
          (e[(e.event_start = 1)] = "event_start"),
          (e[(e.specified_time = 2)] = "specified_time");
      })(D || (D = {}));
      var w = (function () {
        function e(e) {
          (this.m_bChanged = !1),
            (this.m_changes = r.None),
            (this.visibilitySetting = D.immediate),
            (this.m_startTimeEditChoice = n.k_ENow),
            (this.m_endTimeEditChoice = i.k_EDuration),
            (this.m_originalEvent = e),
            (this.m_curModel = e.clone(!0)),
            this.DeriveTimeEditChoices(),
            this.DeriveVisibilitySetting(),
            this.EnsureCurrentLanguageValid(),
            e.BIsOGGEvent() && b.a.LoadOGGClanInfoForAppID(e.appid),
            this.ClearDirty();
        }
        return (
          (e.prototype.GetCreatorUserSteamID = function () {
            return new _.a(this.m_originalEvent.creator_steamid);
          }),
          (e.prototype.GetLastUpdater = function () {
            return new _.a(this.m_originalEvent.last_update_steamid);
          }),
          (e.prototype.GetLastUpdateTime = function () {
            return this.m_originalEvent.rtime32_last_modified;
          }),
          (e.prototype.GetGID = function () {
            return this.m_curModel.GID ? this.m_curModel.GID : "";
          }),
          (e.prototype.BHasGid = function () {
            return this.m_curModel.GID && this.m_curModel.GID.length > 1;
          }),
          (e.prototype.GetAnnouncementGID = function () {
            return this.m_curModel.AnnouncementGID
              ? this.m_curModel.AnnouncementGID
              : "";
          }),
          (e.prototype.GetClanSteamID = function () {
            return this.m_curModel.clanSteamID;
          }),
          (e.prototype.GetClanAccountID = function () {
            return this.m_curModel.clanSteamID.GetAccountID();
          }),
          (e.prototype.GetAppID = function () {
            return this.m_curModel.appid;
          }),
          (e.prototype.GetEventState = function () {
            return this.m_curModel.visibility_state;
          }),
          (e.prototype.GetEventType = function () {
            return this.m_curModel.type;
          }),
          (e.prototype.GetEventTypeAsString = function () {
            return this.m_curModel.GetEventTypeAsString();
          }),
          (e.prototype.GetStartTimeEditChoice = function () {
            return this.m_startTimeEditChoice;
          }),
          (e.prototype.GetEndTimeEditChoice = function () {
            return this.m_endTimeEditChoice;
          }),
          (e.prototype.GetEndEditDurationType = function () {
            return this.m_editDurationType;
          }),
          (e.prototype.GetEndEditDurationValue = function () {
            return this.m_editDurationValue;
          }),
          (e.prototype.GetUniqueKey = function () {
            return this.BHasGid() ? this.GetGID() : "GIDLessNewEvent";
          }),
          (e.prototype.BIsSourceEventSaleEnabled = function () {
            return this.m_originalEvent.jsondata.bSaleEnabled;
          }),
          (e.prototype.BInRealmGlobal = function () {
            return this.m_curModel.BInRealmGlobal();
          }),
          (e.prototype.BInRealmChina = function () {
            return this.m_curModel.BInRealmChina();
          }),
          (e.prototype.BIsLanguageValidForRealms = function (e) {
            return this.m_curModel.BIsLanguageValidForRealms(e);
          }),
          (e.prototype.EnsureCurrentLanguageValid = function () {
            this.BIsLanguageValidForRealms(I.a.Get().GetCurEditLanguage()) ||
              I.a.Get().SetCurEditLanguage(this.BInRealmChina() ? 29 : 0);
          }),
          (e.prototype.GetIncludedRealmList = function () {
            var e = new Array();
            return (
              this.BInRealmGlobal() && e.push(u.f.k_ESteamRealmGlobal),
              this.BInRealmChina() && e.push(u.f.k_ESteamRealmChina),
              Object(f.a)(
                e.length > 0,
                "Event " +
                  this.GetGID() +
                  " is currently configured so that no realms are valid for display. Either enable Steam China or Global to address this issue"
              ),
              e
            );
          }),
          (e.prototype.GetCompletionState = function (e, t) {
            var a = e.filter(function (e) {
                return Boolean(e);
              }),
              n = a.length >= e.length;
            return {
              text: Object(S.f)(
                n
                  ? "#EventEditor_CompleteStatus"
                  : "#EventEditor_IncompleteStatus",
                a.length,
                e.length
              ),
              complete: a.length,
              total: e.length,
              ttip: n ? void 0 : t,
            };
          }),
          (e.prototype.GetDescriptionCompletion = function () {
            var e = I.a.Get().GetCurEditLanguage(),
              t = [this.GetName(e), this.GetDescription(e)];
            return this.GetCompletionState(t);
          }),
          (e.prototype.GetArtworkCompletion = function () {
            if (this.BHasTag("curator")) return null;
            var e = I.a.Get().GetCurEditLanguage(),
              t = [this.GetImageURL("capsule", e)];
            return this.GetCompletionState(t);
          }),
          (e.prototype.GetOptionsCompletion = function () {
            var e = [];
            return (
              this.BHasTag("steam_award_nomination_request") &&
                e.push(this.GetSteamAwardCategory()),
              this.BIsEventForOGGWithoutVisibleStorePage() &&
                e.push(this.BOptedInForOGGWithoutVisibleStorePage()),
              e.length ? this.GetCompletionState(e) : null
            );
          }),
          (e.prototype.GetSaleTabCompletion = function () {
            var e = [];
            return (
              this.BHasSaleEnabled() &&
                e.push(this.GetEventModel().GetSaleVanity()),
              e.length
                ? this.GetCompletionState(
                    e,
                    Object(S.f)("#EventEditor_SaleNotReady_ttip")
                  )
                : null
            );
          }),
          (e.prototype.BAllowedToPublishStagedEvents = function () {
            return (
              !this.BHasTag("steam_award_nomination_request") &&
              !this.BHasTag("steam_award_vote_request")
            );
          }),
          (e.prototype.GetEventStartTime = function () {
            return this.m_curModel.startTime;
          }),
          (e.prototype.GetEventEndTime = function () {
            return this.m_curModel.endTime;
          }),
          (e.prototype.GetEventVisibilityStartTime = function () {
            return Object(O.b)(this.GetCategoryAsType())
              ? this.m_curModel.visibilityStartTime
              : this.m_curModel.startTime;
          }),
          (e.prototype.BGetOriginalEventVisibilityStartTime = function () {
            return this.m_originalEvent.visibilityStartTime;
          }),
          (e.prototype.GetEventVisibilityEndTime = function () {
            return this.m_curModel.visibilityEndTime;
          }),
          (e.prototype.GetOriginalEventStartTime = function () {
            return this.m_originalEvent.startTime;
          }),
          (e.prototype.GetOriginalEventEndTime = function () {
            return this.m_originalEvent.endTime;
          }),
          (e.prototype.BIsValidStartTimeForEdit = function () {
            var e = this.GetEventStartTime();
            return (
              !e ||
              e <= 1 ||
              !(!this.BPublished() || e != this.GetOriginalEventStartTime()) ||
              (this.GetEarliestStartTimeForEdit() &&
              e < this.GetEarliestStartTimeForEdit()
                ? "#EventEditor_StartTime_BeforeEarliestAllowed"
                : !(e + 3600 < h.a.GetTimeNowWithOverride()) ||
                  "#EventEditor_StartTime_BeforeNow")
            );
          }),
          (e.prototype.BIsValidEndTimeForEdit = function () {
            var e = this.GetEventEndTime();
            return (
              !e ||
              e <= 1 ||
              !(!this.BPublished() || e != this.GetOriginalEventEndTime()) ||
              (this.BIsBeginTimeBeforeEnd()
                ? !(
                    this.GetLatestEndTimeForEdit() &&
                    e > this.GetLatestEndTimeForEdit()
                  ) || "#EventEditor_StartTime_AfterLatestAllowed"
                : "#EventEditor_EndTime_ToEarly")
            );
          }),
          (e.prototype.GetName = function (e) {
            return void 0 === e && (e = 0), this.m_curModel.name.get(e);
          }),
          (e.prototype.GetDescription = function (e) {
            return void 0 === e && (e = 0), this.m_curModel.description.get(e);
          }),
          (e.prototype.BHasBroadcaster = function () {
            return null != this.m_curModel.broadcaster;
          }),
          (e.prototype.GetBroadcaster = function () {
            return this.m_curModel.broadcaster;
          }),
          (e.prototype.BHasLanguageTitle = function (e) {
            var t = this.m_curModel.name.get(e);
            return t && t.length > 1;
          }),
          (e.prototype.BHasLanguageDescription = function (e) {
            var t = this.m_curModel.description.get(e);
            return t && t.length > 1;
          }),
          (e.prototype.BHasLanguageSubTitle = function (e) {
            var t = this.m_curModel.GetSubTitle(e);
            return t && t.length > 1;
          }),
          (e.prototype.BHasLanguageSummary = function (e) {
            var t = this.m_curModel.GetSummary(e);
            return t && t.length > 1;
          }),
          (e.prototype.BHasLanguage = function (e) {
            return this.BHasLanguageTitle(e) || this.BHasLanguageDescription(e);
          }),
          (e.prototype.BHasLanguageRequired = function (e) {
            return this.BHasLanguageTitle(e) && this.BHasLanguageDescription(e);
          }),
          (e.prototype.BHasSubTitle = function (e) {
            return this.m_curModel.BHasSubTitle(e);
          }),
          (e.prototype.GetSubTitle = function (e) {
            return this.m_curModel.GetSubTitle(e);
          }),
          (e.prototype.GetSummary = function (e) {
            return this.m_curModel.GetSummary(e);
          }),
          (e.prototype.GetAppName = function () {
            return g.a
              .GetStoreCapsuleInfo(this.m_curModel.appid)
              .GetAppStoreData().title;
          }),
          (e.prototype.GetStoreItemID = function () {
            return g.a
              .GetStoreCapsuleInfo(this.m_curModel.appid)
              .GetAppStoreData().item_id;
          }),
          (e.prototype.GetCategoryAsString = function () {
            return this.m_curModel.GetCategoryAsString();
          }),
          (e.prototype.GetCategoryAsType = function () {
            return this.m_curModel.type;
          }),
          (e.prototype.GetCurEditLanguage = function () {
            return I.a.Get().GetCurEditLanguage();
          }),
          (e.prototype.BHidden = function () {
            return (
              this.m_curModel.visibility_state ==
                v.b.k_EEventStateUnpublished ||
              this.m_curModel.visibility_state == v.b.k_EEventStateStaged
            );
          }),
          (e.prototype.BPublished = function () {
            return (
              this.m_curModel.visibility_state == v.b.k_EEventStateStaged ||
              this.m_curModel.visibility_state == v.b.k_EEventStateVisible
            );
          }),
          (e.prototype.BVisible = function () {
            return this.m_curModel.visibility_state == v.b.k_EEventStateVisible;
          }),
          (e.prototype.GetVisibilityState = function () {
            return this.m_curModel.visibility_state;
          }),
          (e.prototype.GetEventModel = function () {
            return this.m_curModel;
          }),
          (e.prototype.BHasEmailEnabled = function () {
            return (
              this.m_curModel.jsondata.email_setting &&
              this.m_curModel.jsondata.email_setting.bEnable
            );
          }),
          (e.prototype.BHasSaleEnabled = function () {
            return this.m_curModel.jsondata.bSaleEnabled;
          }),
          (e.prototype.BHasScheduleEnabled = function () {
            return this.m_curModel.jsondata.bScheduleEnabled;
          }),
          (e.prototype.GetScheduleEntries = function () {
            return this.m_curModel.jsondata.bScheduleEnabled &&
              this.m_curModel.jsondata.scheduleEntries
              ? this.m_curModel.jsondata.scheduleEntries
              : [];
          }),
          (e.prototype.GetScheduleEntriesCount = function () {
            return this.m_curModel.jsondata.bScheduleEnabled &&
              this.m_curModel.jsondata.scheduleEntries
              ? this.m_curModel.jsondata.scheduleEntries.length
              : 0;
          }),
          (e.prototype.GetSaleSections = function () {
            return this.m_curModel.jsondata.sale_sections;
          }),
          (e.prototype.BHasLanguageRequiredOrFallback = function (e, t) {
            return (
              (this.BHasLanguageTitle(e) || this.BHasLanguageTitle(t)) &&
              (this.BHasLanguageDescription(e) ||
                this.BHasLanguageDescription(t))
            );
          }),
          (e.prototype.GetDynamicRevealSections = function () {
            var e = new Array();
            return (
              this.GetSaleSections().forEach(function (t) {
                t.dynamic_reveal && e.push(t);
              }),
              e
            );
          }),
          (e.prototype.GetTabSaleSection = function () {
            if (this.m_curModel.jsondata.sale_sections)
              return this.m_curModel.jsondata.sale_sections.find(function (e) {
                return "tabs" === e.section_type;
              });
          }),
          (e.prototype.GetSaleSectionIndexByID = function (e) {
            return this.m_curModel.jsondata.sale_sections
              ? this.m_curModel.jsondata.sale_sections.findIndex(function (t) {
                  return t.unique_id === e;
                })
              : -1;
          }),
          (e.prototype.GetSaleSectionByID = function (e) {
            if (this.m_curModel.jsondata.sale_sections)
              return this.m_curModel.jsondata.sale_sections.find(function (t) {
                return t.unique_id === e;
              });
          }),
          (e.prototype.BHasSaleSectionLabelLocalization = function (e, t) {
            var a = this.GetSaleSections()[t];
            return Boolean(S.a.Get(a.localized_label, e));
          }),
          (e.prototype.SetSaleSectionLabelLocalization = function (e, t, a) {
            var n = this.GetSaleSections()[t];
            return (
              S.a.Get(n.localized_label, e) != a &&
              ((n.localized_label = S.a.Set(n.localized_label || [], e, a)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.SetSaleSectionType = function (e, t) {
            e.section_type !== t &&
              ((e.internal_section_data =
                "vo_internal" === t ? Object(l.a)({}, m.i) : null),
              (e.section_type = t),
              "items" == t &&
                void 0 === e.capsules_per_row_array &&
                ((e.capsules_per_row_array = [2, 3, 4, 3]),
                (e.carousel_rows = 2),
                (e.show_as_carousel = !0)));
          }),
          (e.prototype.BHasSaleSectionTextLocalization = function (e, t) {
            var a = this.GetSaleSections()[t];
            return Boolean(
              "text_section" === a.section_type &&
                a.text_section_contents &&
                a.text_section_contents.length > e &&
                a.text_section_contents[e]
            );
          }),
          (e.prototype.SetSaleSectionTextLocalization = function (e, t, a) {
            var n = this.GetSaleSections()[t];
            return (
              "text_section" === n.section_type &&
              S.a.Get(n.text_section_contents, e) != a &&
              ((n.text_section_contents = S.a.Set(
                n.text_section_contents || [],
                e,
                a
              )),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.BHasSaleSectionDescriptionBBCode = function (e, t) {
            var a = this.GetSaleSections()[t];
            return Boolean(
              a.localized_description &&
                a.localized_description.length > e &&
                a.localized_description[e]
            );
          }),
          (e.prototype.SetSaleSectionDescriptionBBCode = function (e, t, a) {
            var n = this.GetSaleSections()[t];
            return (
              S.a.Get(n.localized_description, e) != a &&
              ((n.localized_description = S.a.Set(
                n.localized_description || [],
                e,
                a
              )),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.BHasSaleSectionTabName = function (e, t) {
            return Boolean(t && S.a.Get(t.localized_label, e));
          }),
          (e.prototype.SetSaleSectionTabName = function (e, t, a) {
            return (
              S.a.Get(t.localized_label, e) != a &&
              ((t.localized_label = S.a.Set(t.localized_label || [], e, a)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.BHasSaleSectionFacetName = function (e, t) {
            return Boolean(t && S.a.Get(t.name, e));
          }),
          (e.prototype.BHasSaleSectionFacetValueName = function (e, t) {
            return Boolean(t && S.a.Get(t.name, e));
          }),
          (e.prototype.BHasSaleSectionFacetValueSubtitle = function (e, t) {
            return Boolean(t && S.a.Get(t.subtitle, e));
          }),
          (e.prototype.SetSaleSectionFacetName = function (e, t, a) {
            return (
              S.a.Get(t.name, e) !== a &&
              ((t.name = S.a.Set(t.name || [], e, a)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.SetSaleSectionFacetValueName = function (e, t, a) {
            return (
              S.a.Get(t.name, e) !== a &&
              ((t.name = S.a.Set(t.name || [], e, a)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.SetSaleSectionFacetValueSubtitle = function (e, t, a) {
            return (
              S.a.Get(t.subtitle, e) !== a &&
              ((t.subtitle = S.a.Set(t.subtitle || [], e, a)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.GetVisibilityPublishingSetup = function () {
            return this.visibilitySetting;
          }),
          (e.prototype.BIsEmailVideoImageMissing = function () {
            return (
              this.BHasEmailEnabled() &&
              !this.m_curModel.jsondata.email_setting.sections[1].video_image &&
              Boolean(
                this.m_curModel.jsondata.email_setting.sections[1].video_link
              )
            );
          }),
          (e.prototype.GetFirstLanguageWithTitle = function () {
            for (var e = 0; e < 30; ++e)
              if (this.BHasLanguageTitle(e)) return e;
            return e;
          }),
          (e.prototype.BHasSpotlightArtwork = function () {
            return Boolean(
              this.m_curModel.jsondata.localized_spotlight_image &&
                this.m_curModel.jsondata.localized_spotlight_image[0]
            );
          }),
          (e.prototype.BHasSteamStoreSpotlight = function () {
            return Boolean(this.m_curModel.jsondata.store_spotlight);
          }),
          (e.prototype.BHasLibaryHomeSpotlight = function () {
            return Boolean(this.m_curModel.jsondata.library_home_spotlight);
          }),
          (e.prototype.SetSteamStoreSpotlight = function (e) {
            this.m_curModel.jsondata.store_spotlight != e &&
              ((this.m_curModel.jsondata.store_spotlight = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.SetLibraryHomeSpotlight = function (e) {
            this.m_curModel.jsondata.library_home_spotlight != e &&
              ((this.m_curModel.jsondata.library_home_spotlight = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.SetStartTimeEditChoice = function (e) {
            this.m_startTimeEditChoice != e &&
              ((this.m_startTimeEditChoice = e), this.SetDirty(r.visibility));
          }),
          (e.prototype.SetEndTimeEditChoice = function (e) {
            this.m_endTimeEditChoice != e &&
              ((this.m_endTimeEditChoice = e), this.SetDirty(r.visibility));
          }),
          (e.prototype.SetEndEditDurationType = function (e) {
            this.m_editDurationType != e &&
              ((this.m_editDurationType = e), this.SetDirty(r.visibility));
          }),
          (e.prototype.SetEndEditDurationValue = function (e) {
            this.m_editDurationValue != e &&
              ((this.m_editDurationValue = e), this.SetDirty(r.visibility));
          }),
          (e.prototype.UpdateVisibilityState = function (e, t) {
            this.m_curModel.visibility_state = e
              ? t
                ? v.b.k_EEventStateStaged
                : v.b.k_EEventStateVisible
              : v.b.k_EEventStateUnpublished;
          }),
          (e.prototype.SetVisibilityPublishingSetup = function (e) {
            e != this.visibilitySetting &&
              ((this.visibilitySetting = e), this.SetDirty(r.visibility));
          }),
          (e.prototype.SetGIDs = function (e, t, a) {
            (this.m_curModel.clanSteamID = e),
              Object(f.a)(
                this.m_curModel.clanSteamID &&
                  this.m_curModel.clanSteamID.BIsValid(),
                "Invalid Clan SteamID: " + e.ConvertTo64BitString()
              ),
              (this.m_curModel.GID = t),
              (this.m_curModel.AnnouncementGID = a);
          }),
          (e.prototype.SetVisibilityState = function (e) {
            this.m_curModel.visibility_state != e &&
              ((this.m_curModel.visibility_state = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.SetName = function (e, t) {
            return (
              this.m_curModel.name.get(e) !== t &&
              (this.m_curModel.name.set(e, t), this.SetDirty(r.name), !0)
            );
          }),
          (e.prototype.SetDescription = function (e, t) {
            return (
              this.m_curModel.description.get(e) != t &&
              (this.m_curModel.description.set(e, t),
              this.SetDirty(r.description),
              !0)
            );
          }),
          (e.prototype.SetSubTitle = function (e, t) {
            return (
              this.m_curModel.jsondata.localized_subtitle[e] != t &&
              ((this.m_curModel.jsondata.localized_subtitle[e] = t),
              this.SetDirty(r.jsondata_other),
              !0)
            );
          }),
          (e.prototype.SetSummary = function (e, t) {
            return (
              this.m_curModel.jsondata.localized_summary[e] != t &&
              ((this.m_curModel.jsondata.localized_summary[e] = t),
              this.SetDirty(r.jsondata_other),
              !0)
            );
          }),
          (e.prototype.SetCurEditLanguage = function (e) {
            return I.a.Get().SetCurEditLanguage(e);
          }),
          (e.prototype.PrepareAsClone = function (e) {
            (this.m_curModel = e),
              (this.m_curModel.GID = void 0),
              (this.m_curModel.AnnouncementGID = void 0),
              (this.m_curModel.visibility_state = v.b.k_EEventStateUnpublished),
              (this.m_curModel.nCommentCount = 0),
              (this.m_curModel.nVotesDown = 0),
              (this.m_curModel.nVotesUp = 0),
              (this.m_curModel.forumTopicGID = void 0),
              (this.m_curModel.creator_steamid = void 0),
              (this.m_curModel.last_update_steamid = void 0),
              (this.m_curModel.rtime32_last_modified = 0),
              (this.m_curModel.rtime32_last_solr_search_col_updated = 0),
              (this.m_curModel.rtime32_moderator_reviewed = 0),
              (this.m_curModel.postTime = 0),
              (this.m_curModel.startTime = void 0),
              (this.m_curModel.endTime = void 0),
              (this.m_curModel.visibilityStartTime = void 0),
              (this.m_curModel.visibilityEndTime = void 0),
              this.DeriveTimeEditChoices(),
              this.DeriveVisibilitySetting(),
              this.EnsureCurrentLanguageValid(),
              this.m_curModel.timestamp_loc_updated.clear();
            for (var t = this.m_curModel.vecTags.length - 1; t >= 0; --t) {
              var a = this.m_curModel.vecTags[t];
              (a.startsWith("mod_") || a.startsWith("ModAct_")) &&
                this.m_curModel.vecTags.splice(t, 1);
            }
            (this.m_originalEvent = new v.c()),
              (this.m_originalEvent.loadedAllLanguages = !0),
              Object(m.w)(this.m_curModel.jsondata),
              this.SetDirty(
                r.description |
                  r.name |
                  r.time |
                  r.type |
                  r.jsondata_image |
                  r.jsondata_other |
                  r.jsondata_email
              );
          }),
          (e.prototype.setEventType = function (e) {
            this.m_curModel.type != e &&
              ((this.m_curModel.type = e), this.SetDirty(r.type));
          }),
          (e.prototype.SetAnnouncementGID = function (e) {
            this.m_curModel.AnnouncementGID = e;
          }),
          (e.prototype.SetEarliestAllowedStartTime = function (e) {
            this.earliestAllowedStartTime = e;
          }),
          (e.prototype.SetLatestAllowedEndTime = function (e) {
            this.latestAllowedEndTime = e;
          }),
          (e.prototype.SetEventStartTime = function (e) {
            var t = Math.abs(e - (e % 60));
            this.m_curModel.startTime != t &&
              ((this.m_curModel.startTime = t),
              t && this.SetStartTimeEditChoice(n.k_ESpecified),
              this.m_curModel.endTime < this.m_curModel.startTime &&
                (this.m_curModel.endTime = this.m_curModel.startTime + 3600),
              this.SetDirty(r.time));
          }),
          (e.prototype.SetEventEndTime = function (e) {
            var t = e - (e % 60);
            this.m_curModel.endTime != t &&
              ((this.m_curModel.endTime = t),
              t && this.SetEndTimeEditChoice(i.k_ESpecified),
              this.SetDirty(r.time));
          }),
          (e.prototype.SetSaleVanityID = function (e) {
            var t,
              a =
                null !== (t = e.replace(/[^\w-]/g, "")) && void 0 !== t
                  ? t
                  : "";
            this.m_curModel.jsondata.sale_vanity_id != a &&
              ((this.m_curModel.jsondata.sale_vanity_id = a),
              this.SetDirty(r.jsondata_sales));
          }),
          (e.prototype.SetVisibilityStartTime = function (e) {
            this.m_curModel.visibilityStartTime != e &&
              ((this.m_curModel.visibilityStartTime = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.ResetSetVisibilityStartTime = function () {
            this.SetVisibilityStartTime(
              this.m_originalEvent.visibilityStartTime
            ),
              this.DeriveVisibilitySetting();
          }),
          (e.prototype.SetVisibilityEndTime = function (e) {
            this.m_curModel.visibilityEndTime != e &&
              ((this.m_curModel.visibilityEndTime = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.SetActionEndTime = function (e) {
            (this.m_curModel.jsondata.action_end_time = e),
              this.SetDirty(r.jsondata_other);
          }),
          (e.prototype.BIsDirty = function () {
            return this.m_bChanged;
          }),
          (e.prototype.ClearDirty = function () {
            (this.m_bChanged = !1), (this.m_changes = r.None);
          }),
          (e.prototype.SetDirty = function (e) {
            this.m_bChanged || e == r.None || (this.m_bChanged = !0),
              (this.m_changes & e) != e && (this.m_changes |= e),
              (this.m_curModel.rtime32_last_local_modification =
                Date.now() / 1e3);
          }),
          (e.prototype.GetChangeTypes = function () {
            return this.m_changes;
          }),
          (e.prototype.BIsDirtyType = function (e) {
            return Boolean(this.m_changes & e);
          }),
          (e.prototype.DeriveTimeEditChoices = function () {
            var e = this.ComputeDurationSetting(),
              t = null != e;
            null == e && (e = this.ComputeDefaultDuration()),
              this.SetEndEditDurationType(e.durationType),
              this.SetEndEditDurationValue(e.value),
              !this.BPublished() &&
                this.GetEventStartTime() < h.a.GetTimeNowWithOverride() &&
                this.SetEventStartTime(0);
            var a =
                !this.GetEventStartTime() || this.GetEventStartTime() <= 1
                  ? n.k_ENow
                  : n.k_ESpecified,
              r =
                !this.GetEventEndTime() || this.GetEventEndTime() <= 1 || t
                  ? i.k_EDuration
                  : i.k_ESpecified;
            this.SetStartTimeEditChoice(a), this.SetEndTimeEditChoice(r);
          }),
          (e.prototype.DeriveVisibilitySetting = function () {
            if (this.BHidden()) {
              var e = this.m_curModel.startTime,
                t = this.m_curModel.visibilityStartTime;
              (this.visibilitySetting = D.specified_time),
                !t || t <= 1
                  ? (this.visibilitySetting = D.immediate)
                  : t == e && (this.visibilitySetting = D.event_start);
            }
          }),
          (e.CalculateEndTimeFromStartAndDuration = function (e, t, a) {
            return t == o.k_EWeek
              ? e + 604800 * a
              : t == o.k_EDay
              ? e + 86400 * a
              : e + 3600 * a;
          }),
          (e.prototype.RemoveNullCapsules = function () {
            for (var e = 0, t = this.GetSaleSections(); e < t.length; e++) {
              var a = t[e];
              a.capsules &&
                a.capsules.some(function (e) {
                  return !Boolean(e);
                }) &&
                (a.capsules = a.capsules.filter(function (e) {
                  return Boolean(e);
                }));
            }
          }),
          (e.prototype.OnPreSave = function () {
            this.RemoveNullCapsules(),
              this.PreSaveEventTimeAssignment(),
              this.FixupTabVisibilitySettings(),
              Object(T.u)(this);
          }),
          (e.prototype.FixupTabVisibilitySettings = function () {
            for (
              var e = null, t = 0, a = this.GetSaleSections();
              t < a.length;
              t++
            ) {
              var n = a[t];
              n.show_on_tabs &&
                ((n.show_on_tabs = n.show_on_tabs.filter(function (t) {
                  return (
                    e &&
                    e.tabs.some(function (e) {
                      return t === e.unique_id;
                    })
                  );
                })),
                0 === n.show_on_tabs.length && (n.show_on_tabs = void 0)),
                "tabs" === n.section_type &&
                  n.tabs &&
                  n.tabs.length > 0 &&
                  (e = n);
            }
          }),
          (e.prototype.PreSaveEventTimeAssignment = function () {
            var e = h.a.GetTimeNowWithOverride();
            if (
              ((e -= e % 60),
              this.SetEventStartTime(this.ComputeStartTime(e)),
              Object(O.b)(this.m_curModel.type))
            ) {
              var t = this.GetEventStartTime();
              this.m_endTimeEditChoice == i.k_EDuration &&
                (this.m_curModel.endTime =
                  1 + this.InternalComputeDurationRoundedEndTime(t));
            }
            if (
              (null == this.GetEventEndTime() && this.SetEventEndTime(0),
              this.BHidden())
            ) {
              var a = this.ComputeVisibilityStartTime(
                e,
                this.m_curModel.startTime
              );
              this.SetVisibilityStartTime(a);
            }
          }),
          (e.prototype.ComputeStartTime = function (e) {
            return this.m_startTimeEditChoice == n.k_ENow ||
              null == this.GetEventStartTime() ||
              0 == this.GetEventStartTime()
              ? e
              : this.GetEventStartTime();
          }),
          (e.prototype.ComputeVisibilityStartTime = function (e, t) {
            switch (this.visibilitySetting) {
              default:
                return (
                  console.error("Unexpected: " + this.visibilitySetting), 0
                );
              case D.immediate:
                return 0;
              case D.event_start:
                return t <= 1 ? e : t;
              case D.specified_time:
                return this.m_curModel.visibilityStartTime < e
                  ? e
                  : this.m_curModel.visibilityStartTime;
            }
          }),
          (e.prototype.GetVisibilitySetting = function () {
            return this.visibilitySetting;
          }),
          (e.prototype.Refresh = function (e) {
            this.m_curModel.GID == e.GID &&
              ((this.m_originalEvent = e),
              (this.m_curModel = e.clone(!0)),
              this.DeriveTimeEditChoices(),
              this.DeriveVisibilitySetting(),
              this.EnsureCurrentLanguageValid(),
              this.ClearDirty(),
              this.MigrateForEdit());
          }),
          (e.prototype.BIsBeginTimeBeforeEnd = function () {
            var e = h.a.GetTimeNowWithOverride(),
              t = this.ComputeStartTime(e);
            return (
              !this.m_curModel.endTime ||
              0 == this.m_curModel.endTime ||
              this.m_curModel.endTime >= t
            );
          }),
          (e.prototype.BIsValidVisibilityStartTime = function () {
            var e = h.a.GetTimeNowWithOverride();
            return (
              !!(
                this.visibilitySetting != D.specified_time ||
                !this.m_curModel.visibilityStartTime ||
                0 == this.m_curModel.visibilityStartTime ||
                this.m_curModel.startTime < e ||
                (e < this.m_curModel.visibilityStartTime &&
                  this.m_curModel.visibilityStartTime <=
                    this.m_curModel.startTime)
              ) || "#EventEditor_Publish_InvalidPublishDate"
            );
          }),
          (e.prototype.GetEarliestStartTimeForEdit = function () {
            return this.earliestAllowedStartTime;
          }),
          (e.prototype.GetLatestEndTimeForEdit = function () {
            return this.latestAllowedEndTime;
          }),
          (e.prototype.GetEarliestEndTimeForEdit = function () {
            return this.m_curModel.startTime && 0 != this.m_curModel.startTime
              ? this.m_curModel.startTime
              : h.a.GetTimeNowWithOverride();
          }),
          (e.prototype.GetEarliestVisibilityStartTimeForEdit = function () {
            return Math.min(
              this.GetEarliestEndTimeForEdit(),
              h.a.GetTimeNowWithOverride()
            );
          }),
          (e.prototype.ConstructJSONData = function () {
            return this.m_curModel.jsondata
              ? JSON.stringify(this.m_curModel.jsondata)
              : "";
          }),
          (e.prototype.SetImageURL = function (e, t, a) {
            void 0 === a && (a = 0);
            var n = t ? E.a.GetExtensionString(t) : null,
              i = t ? t.image_hash + n : null,
              o = this.m_curModel.jsondata;
            if ("background" === e && o.localized_title_image[a] !== i)
              (o.localized_title_image[a] = i), this.SetDirty(r.jsondata_image);
            else if ("capsule" === e && o.localized_capsule_image[a] !== i)
              (o.localized_capsule_image[a] = i),
                this.SetDirty(r.jsondata_image);
            else if ("spotlight" === e && o.localized_spotlight_image[a] !== i)
              (o.localized_spotlight_image[a] = i),
                this.GetImageURL("spotlight", 0) || (o.library_spotlight = !1),
                this.SetDirty(r.jsondata_image);
            else if (
              "broadcast_left" === e &&
              o.localized_broadcast_left_image[a] !== i
            )
              (o.localized_broadcast_left_image[a] = i),
                this.SetDirty(r.jsondata_image);
            else if (
              "broadcast_right" === e &&
              o.localized_broadcast_right_image[a] !== i
            )
              (o.localized_broadcast_right_image[a] = i),
                this.SetDirty(r.jsondata_image);
            else if ("sale_header" === e) {
              var l = void 0;
              if (void 0 !== o.sale_num_headers) {
                var s = Math.min(
                  o.sale_num_headers,
                  this.m_curModel.GetDayIndexFromEventStart()
                );
                l = o.localized_per_day_sales_header[s];
              } else l = o.localized_sale_header;
              l[a] !== i && ((l[a] = i), this.SetDirty(r.jsondata_image));
            } else
              "sale_overlay" === e && o.localized_sale_overlay[a] !== i
                ? ((o.localized_sale_overlay[a] = i),
                  this.SetDirty(r.jsondata_image))
                : "product_banner" === e &&
                  S.a.Get(o.localized_sale_product_banner, a) !== i
                ? ((o.localized_sale_product_banner = S.a.Set(
                    o.localized_sale_product_banner || [],
                    a,
                    i
                  )),
                  this.SetDirty(r.jsondata_image))
                : "product_mobile_banner" === e &&
                  S.a.Get(o.localized_sale_product_mobile_banner, a) !== i
                ? ((o.localized_sale_product_mobile_banner = S.a.Set(
                    o.localized_sale_product_mobile_banner || [],
                    a,
                    i
                  )),
                  this.SetDirty(r.jsondata_image))
                : "link_capsule" === e ||
                  "product_banner_override" === e ||
                  "product_mobile_banner_override" === e ||
                  "sale_section_title" === e ||
                  "schedule_track_art" === e
                ? (i &&
                    0 == E.d.GetAllLocalizedGroupImages().length &&
                    E.d.SetPrimaryImageForImageGroup(t, e),
                  E.d.SetLocalizedImageGroupAtLang(a, this.GetClanSteamID(), i))
                : "localized_image_group" === e &&
                  console.error(
                    "Attempting to save localized image via editor model, not supported, it belong to the store itself"
                  );
          }),
          (e.prototype.GetImageURL = function (e, t, a) {
            return (
              void 0 === t && (t = 0),
              void 0 === a && (a = E.c.full),
              this.m_curModel.GetImageURL(e, t, a)
            );
          }),
          (e.prototype.GetImageURLWithFallback = function (e, t, a) {
            return (
              void 0 === a && (a = E.c.full),
              this.m_curModel.GetImageURLWithFallback(e, t, a)
            );
          }),
          (e.prototype.GetImageHash = function (e, t) {
            return this.m_curModel.GetImageHash(e, t);
          }),
          (e.prototype.BHasImage = function (e, t) {
            return this.m_curModel.BHasImage(e, t);
          }),
          (e.prototype.BHasTitleImage = function (e) {
            return void 0 !== this.m_curModel.GetImageURL("background", e);
          }),
          (e.prototype.BIsImageSafeForAllAges = function (e, t) {
            return this.m_curModel.BIsImageSafeForAllAges(e, t);
          }),
          (e.prototype.GetTitleImageLanguages = function () {
            var e = new Array();
            if (
              this.m_curModel.jsondata &&
              this.m_curModel.jsondata.localized_title_image
            )
              for (var t in this.m_curModel.jsondata.localized_title_image)
                e.push(Number.parseInt(t));
            return e;
          }),
          (e.prototype.BHasSomeImage = function (e) {
            return this.m_curModel.BHasSomeImage(e);
          }),
          (e.prototype.GetWhenEventWillBeVisibleToPublic = function () {
            return this.GetEventVisibilityStartTime() &&
              0 != this.GetEventVisibilityStartTime()
              ? this.GetEventVisibilityStartTime()
              : this.GetEventStartTime();
          }),
          (e.prototype.ComputeDurationSetting = function () {
            if (
              !this.m_curModel.endTime ||
              !this.m_curModel.startTime ||
              this.m_curModel.endTime <= 1 ||
              0 == (1 & this.m_curModel.endTime)
            )
              return null;
            var e = 86400,
              t = 604800,
              a = this.m_curModel.endTime - this.m_curModel.startTime - 1;
            return a % t == 0
              ? {
                  durationType: o.k_EWeek,
                  value: Math.floor(Math.max(1, a / t)),
                }
              : a % e == 0
              ? {
                  durationType: o.k_EDay,
                  value: Math.floor(Math.max(1, a / e)),
                }
              : {
                  durationType: o.k_EHour,
                  value: Math.floor(Math.max(1, a / 3600)),
                };
          }),
          (e.prototype.ComputeDefaultDuration = function () {
            return { durationType: o.k_EHour, value: 1 };
          }),
          (e.prototype.ComputeDurationBasedRoundedEndTime = function () {
            if (this.m_endTimeEditChoice == i.k_EDuration) {
              var e = this.m_curModel.startTime;
              if (
                this.m_startTimeEditChoice != n.k_ESpecified ||
                (e && !(e <= 1))
              )
                return (
                  this.m_startTimeEditChoice == n.k_ENow &&
                    (e = h.a.GetTimeNowWithOverride()),
                  this.InternalComputeDurationRoundedEndTime(e)
                );
            }
          }),
          (e.prototype.InternalComputeDurationRoundedEndTime = function (t) {
            var a =
              e.CalculateEndTimeFromStartAndDuration(
                t,
                this.m_editDurationType,
                this.m_editDurationValue
              ) / 60;
            return 60 * (a + (30 - (a % 30)));
          }),
          (e.prototype.GetFallbackLanguageIfNeeded = function () {
            var e = this.GetCurEditLanguage(),
              t = S.b.GetELanguageFallback(e);
            if (e != t) {
              var a = this.GetDescription(e);
              if (!a || 0 == a.length) return t;
            }
          }),
          (e.prototype.LastTimeLanguageUpdate = function (e) {
            return this.m_curModel.timestamp_loc_updated.has(e)
              ? this.m_curModel.timestamp_loc_updated.get(e)
              : 0;
          }),
          (e.prototype.ComputeEditingModelTimeOverrides = function () {
            var e = this.GetEventModel().GetStartTimeAndDateUnixSeconds(),
              t = this.GetEventModel().GetEndTimeAndDateUnixSeconds(),
              a = h.a.GetTimeNowWithOverride();
            e = this.ComputeStartTime(a);
            var n = this.ComputeDurationBasedRoundedEndTime();
            return (
              null != n && (t = n),
              { nOverrideEndTime: t, nOverrideStartTime: e }
            );
          }),
          (e.prototype.GetStrVanityOrAppID = function () {
            return C.b.VANITY_ID;
          }),
          (e.prototype.SetLibrarySpotlight = function (e) {
            this.m_curModel.jsondata.library_spotlight !== e &&
              ((this.m_curModel.jsondata.library_spotlight = e),
              this.SetDirty(r.jsondata_other));
          }),
          (e.prototype.SetLibrarySpotlightText = function (e) {
            this.m_curModel.jsondata.library_spotlight_text !== e &&
              ((this.m_curModel.jsondata.library_spotlight_text = e),
              this.SetDirty(r.jsondata_other));
          }),
          (e.prototype.GetEmailSettings = function () {
            return this.m_curModel.jsondata.email_setting;
          }),
          (e.prototype.BIsEmailEnabled = function () {
            return (
              this.m_curModel.jsondata.email_setting &&
              this.m_curModel.jsondata.email_setting.bEnable
            );
          }),
          (e.prototype.BIsEmailEditable = function () {
            return (
              this.BIsEmailEnabled() &&
              !this.m_curModel.jsondata.email_setting.locked
            );
          }),
          (e.prototype.CreateOrGetEmailSettings = function (e) {
            return (
              this.m_curModel.jsondata.email_setting ||
                (C.b.IS_VALVE_GROUP
                  ? (this.m_curModel.jsondata.email_setting = {
                      bEnable: !1,
                      sections: [
                        {
                          localized_headline: new Array(30),
                          localized_body: new Array(30),
                          localized_image: new Array(30),
                          button_destination: p.c.k_EEventPage,
                          button_loc_token:
                            "EventEmail_Button_ClickForMoreDetails",
                          video_link: "",
                        },
                      ],
                      internal_targeting: Object(l.a)({}, j.c),
                    })
                  : (this.m_curModel.jsondata.email_setting = {
                      bEnable: !1,
                      subject_loc_token: "EventEmail_Subject_NewUpdate",
                      sections: [
                        {
                          localized_headline: new Array(30),
                          localized_image: new Array(30),
                        },
                        {
                          localized_headline: new Array(30),
                          localized_body: new Array(30),
                          button_destination: p.c.k_EEventPage,
                          button_loc_token:
                            "EventEmail_Button_ClickForMoreDetails",
                          video_link: "",
                        },
                      ],
                    }),
                this.SetDirty(r.jsondata_email)),
              this.m_curModel.jsondata.email_setting
            );
          }),
          (e.prototype.ToggleTag = function (e) {
            var t = this.m_curModel.vecTags.indexOf(e);
            -1 == t
              ? this.m_curModel.vecTags.push(e)
              : this.m_curModel.vecTags.splice(t, 1),
              this.SetDirty(r.visibility);
          }),
          (e.prototype.AddTag = function (e) {
            -1 == this.m_curModel.vecTags.indexOf(e) &&
              this.m_curModel.vecTags.push(e),
              this.SetDirty(r.visibility);
          }),
          (e.prototype.BHasTag = function (e) {
            return this.m_curModel.BHasTag(e);
          }),
          (e.prototype.GetAllTags = function () {
            return this.m_curModel.vecTags;
          }),
          (e.prototype.ClearTags = function (e) {
            var t = this;
            e.forEach(function (e) {
              var a = t.m_curModel.vecTags.indexOf(e);
              -1 != a && t.m_curModel.vecTags.splice(a, 1);
            });
          }),
          (e.prototype.SetSteamAwardCategory = function (e) {
            (this.m_curModel.jsondata.steam_award_category_suggestion = e),
              this.SetDirty(r.jsondata_other);
          }),
          (e.prototype.GetSteamAwardCategory = function () {
            return this.m_curModel.GetSteamAwardCategory();
          }),
          (e.prototype.SetSteamAwardNomineeVoteIDs = function (e) {
            (this.m_curModel.jsondata.steam_award_category_voteids = e),
              this.SetDirty(r.jsondata_other);
          }),
          (e.prototype.GetSteamAwareNomineeVoteIDs = function () {
            return this.m_curModel.GetSteamAwardNomineeCategories();
          }),
          (e.prototype.BIsAppReleased = function () {
            var e = g.a
              .GetStoreCapsuleInfo(this.m_curModel.appid)
              .GetAppStoreData();
            return e && 1 == e.success && !e.coming_soon;
          }),
          (e.prototype.GetAppReleaseDate = function () {
            var e = g.a
              .GetStoreCapsuleInfo(this.m_curModel.appid)
              .GetAppStoreData();
            return e && 1 == e.success && !e.coming_soon && e.rt_release_date
              ? e.rt_release_date
              : null;
          }),
          (e.prototype.BDoesSupportLanguage = function (e) {
            if (this.m_curModel && this.m_curModel.appid) {
              var t = g.a
                .GetStoreCapsuleInfo(this.m_curModel.appid)
                .GetAppStoreData();
              if (t && 1 == t.success && t.languages) {
                29 === e && (e = 6);
                var a = Object(d.a)(e);
                return Boolean(
                  t.languages.find(function (e) {
                    return a === e.language;
                  })
                );
              }
            }
            return !1;
          }),
          (e.prototype.BIsVisibleBeforeStart = function () {
            var e = this.m_curModel.startTime;
            return (
              this.m_startTimeEditChoice == n.k_ESpecified &&
              ((this.visibilitySetting == D.immediate &&
                e > h.a.GetTimeNowWithOverride()) ||
                (this.visibilitySetting == D.specified_time &&
                  this.m_curModel.visibilityStartTime < e))
            );
          }),
          (e.prototype.BIsAllowedOnLibraryOverview = function () {
            return Object(m.b)(this.GetEventModel());
          }),
          (e.prototype.BIsAllowedOnLibraryDetail = function () {
            return Object(m.a)(this.GetEventModel());
          }),
          (e.prototype.BIsAllowedOnStore = function () {
            return Object(m.c)(this.GetEventModel());
          }),
          (e.prototype.BIsAllowedInNotifications = function () {
            return Object(m.d)(this.GetEventModel());
          }),
          (e.prototype.BWillShowOnLibraryOverviewDueToSettings = function () {
            return (
              this.BIsAllowedOnLibraryOverview() &&
              !this.BHasTag("hide_library_overview") &&
              !this.BHasTag("mod_hide_library_overview")
            );
          }),
          (e.prototype.BWillShowOnLibraryDetailDueToSettings = function () {
            return (
              this.BIsAllowedOnLibraryDetail() &&
              !this.BHasTag("hide_library_detail") &&
              !this.BHasTag("mod_hide_library_detail")
            );
          }),
          (e.prototype.BWillShowOnStoreDueToSettings = function () {
            return (
              this.BIsAllowedOnStore() &&
              !this.BHasTag("hide_store") &&
              !this.BHasTag("mod_hide_store")
            );
          }),
          (e.prototype.BWillShowInNotificationsDueToSettings = function () {
            return this.BIsAllowedInNotifications();
          }),
          (e.prototype.GetNumberOfDays = function () {
            var e = this.m_curModel.startTime,
              t = this.m_curModel.endTime;
            return e > 0 && t > 0 && t > e ? Math.floor((t - e) / 86400) : 0;
          }),
          (e.prototype.GetNumSalesBackgroundHeader = function () {
            return void 0 !== this.m_curModel.jsondata.sale_num_headers
              ? this.m_curModel.jsondata.sale_num_headers
              : 1;
          }),
          (e.prototype.SetNumSalesBackgroundHeader = function (e) {
            var t = this;
            void 0 !== e && e <= 1 && (e = void 0),
              this.m_curModel.jsondata.sale_num_headers !== e &&
                (void 0 === this.m_curModel.jsondata.sale_num_headers &&
                  this.m_curModel.jsondata.localized_sale_header.forEach(
                    function (e, a) {
                      return (t.m_curModel.jsondata.localized_sale_header[
                        a
                      ] = null);
                    }
                  ),
                (this.m_curModel.jsondata.sale_num_headers = e),
                void 0 !== e &&
                  ((this.m_curModel.jsondata.localized_per_day_sales_header = void 0),
                  s.c.HelperInitializeNumSalesHeaderArray(this.m_curModel)),
                this.SetDirty(r.jsondata_sales));
          }),
          (e.prototype.MarkUpdateSuccessful = function (e, t) {
            (this.m_originalEvent.last_update_steamid = t),
              (this.m_originalEvent.rtime32_last_modified = e);
          }),
          (e.prototype.GetSaleSectionCount = function () {
            return this.m_curModel.jsondata.bSaleEnabled &&
              this.m_curModel.jsondata.sale_sections
              ? this.m_curModel.jsondata.sale_sections.length
              : 0;
          }),
          (e.prototype.GetAllSalePageFeaturedItems = function (e) {
            var t = new Set();
            if (!this.m_curModel.jsondata.bSaleEnabled) return t;
            var a = "bundles" == e,
              n = "packages" == e,
              i = function (e) {
                (a && "bundle" == e.type) || (n && "sub" == e.type)
                  ? t.add(e.id)
                  : n ||
                    a ||
                    "bundle" == e.type ||
                    "sub" == e.type ||
                    t.add(e.id);
              };
            this.m_curModel.jsondata.sale_sections.forEach(function (e) {
              return e.capsules.forEach(i);
            });
            var r = this.GetTabSaleSection();
            return (
              r &&
                r.tabs.forEach(function (e) {
                  return e.capsules.forEach(i);
                }),
              t
            );
          }),
          (e.prototype.GenerateSaleSectionUniqueID = function () {
            for (
              var e = Math.floor(1e4 + 9e4 * Math.random());
              this.GetSaleSectionByID(e);

            )
              e = Math.floor(1e4 + 9e4 * Math.random());
            return e;
          }),
          (e.prototype.GetFacetByID = function (e, t) {
            var a;
            return null === (a = null == e ? void 0 : e.facets) || void 0 === a
              ? void 0
              : a.find(function (e) {
                  return e.unique_id === t;
                });
          }),
          (e.prototype.GetFacetValueByID = function (e, t) {
            var a;
            return null === (a = null == e ? void 0 : e.facetValues) ||
              void 0 === a
              ? void 0
              : a.find(function (e) {
                  return e.unique_id === t;
                });
          }),
          (e.prototype.GenerateFacetUniqueID = function (e) {
            for (
              var t = Math.floor(1 + 1e5 * Math.random());
              this.GetFacetByID(e, t);

            )
              t = Math.floor(1 + 1e5 * Math.random());
            return t;
          }),
          (e.prototype.GenerateFacetValueUniqueID = function (e) {
            for (
              var t = Math.floor(1 + 1e5 * Math.random());
              this.GetFacetValueByID(e, t);

            )
              t = Math.floor(1 + 1e5 * Math.random());
            return t;
          }),
          (e.prototype.GetReferencedAppIDArray = function () {
            return this.m_curModel.jsondata.referenced_appids;
          }),
          (e.prototype.BIsEventForOGGWithoutVisibleStorePage = function () {
            if (!this.m_curModel.BIsOGGEvent()) return !1;
            var e = b.a.GetOGGClanInfo(this.m_curModel.appid);
            return !e || !e.has_visible_store_page;
          }),
          (e.prototype.BOptedInForOGGWithoutVisibleStorePage = function () {
            return this.m_curModel.jsondata.bInvisibleGameOptIn;
          }),
          (e.prototype.SetOptedInForOGGWithoutVisibleStorePage = function (e) {
            (this.m_curModel.jsondata.bInvisibleGameOptIn = e),
              this.SetDirty(r.jsondata_other);
          }),
          (e.prototype.SetMigrated = function (e) {
            this.m_curModel.jsondata.rt_migrated_time = e;
          }),
          (e.prototype.MigrateForEdit = function () {
            var e = this;
            this.m_curModel.jsondata.bSaleEnabled &&
              this.m_curModel.jsondata.sale_sections &&
              this.m_curModel.jsondata.sale_sections.forEach(function (t, a) {
                if (!t.unique_id) {
                  for (var n = a + 1; e.GetSaleSectionByID(n); ) n++;
                  e.m_curModel.jsondata.sale_sections[a].unique_id = n;
                }
                t.enable_faceted_browsing &&
                  t.facets.forEach(function (n, i) {
                    if (!n.unique_id) {
                      for (var r = i + 1; e.GetFacetByID(t, r); ) r++;
                      e.m_curModel.jsondata.sale_sections[a].facets[
                        i
                      ].unique_id = r;
                    }
                    n.facetValues.forEach(function (t, r) {
                      if (!t.unique_id) {
                        for (var o = i + 1; e.GetFacetValueByID(n, o); ) o++;
                        e.m_curModel.jsondata.sale_sections[a].facets[
                          i
                        ].facetValues[r].unique_id = o;
                      }
                    });
                  });
              });
          }),
          (e.prototype.BHasSaleProductBanners = function () {
            return this.GetEventModel().BHasSaleProductBanners();
          }),
          Object(l.c)([c.C], e.prototype, "m_curModel", void 0),
          Object(l.c)([c.C], e.prototype, "m_bChanged", void 0),
          Object(l.c)([c.C], e.prototype, "m_changes", void 0),
          Object(l.c)([c.C], e.prototype, "visibilitySetting", void 0),
          Object(l.c)([c.C], e.prototype, "m_startTimeEditChoice", void 0),
          Object(l.c)([c.C], e.prototype, "m_endTimeEditChoice", void 0),
          Object(l.c)([c.C], e.prototype, "m_editDurationType", void 0),
          Object(l.c)([c.C], e.prototype, "m_editDurationValue", void 0),
          Object(l.c)([y.a], e.prototype, "GetEventStartTime", null),
          Object(l.c)([y.a], e.prototype, "GetEventEndTime", null),
          Object(l.c)([y.a], e.prototype, "GetEventVisibilityStartTime", null),
          Object(l.c)([y.a], e.prototype, "GetEventVisibilityEndTime", null),
          Object(l.c)([y.a], e.prototype, "GetOriginalEventStartTime", null),
          Object(l.c)([y.a], e.prototype, "GetOriginalEventEndTime", null),
          Object(l.c)([y.a], e.prototype, "BIsValidStartTimeForEdit", null),
          Object(l.c)([y.a], e.prototype, "BIsValidEndTimeForEdit", null),
          Object(l.c)([y.a], e.prototype, "BHasLanguage", null),
          Object(l.c)([c.k], e.prototype, "SetSteamStoreSpotlight", null),
          Object(l.c)([c.k], e.prototype, "SetLibraryHomeSpotlight", null),
          Object(l.c)([c.k], e.prototype, "UpdateVisibilityState", null),
          Object(l.c)([c.k], e.prototype, "SetVisibilityPublishingSetup", null),
          Object(l.c)([c.k], e.prototype, "SetGIDs", null),
          Object(l.c)([c.k], e.prototype, "SetVisibilityState", null),
          Object(l.c)([c.k], e.prototype, "SetName", null),
          Object(l.c)([c.k], e.prototype, "SetDescription", null),
          Object(l.c)([c.k], e.prototype, "SetSubTitle", null),
          Object(l.c)([c.k], e.prototype, "SetSummary", null),
          Object(l.c)([c.k], e.prototype, "PrepareAsClone", null),
          Object(l.c)([c.k], e.prototype, "setEventType", null),
          Object(l.c)(
            [c.k.bound],
            e.prototype,
            "SetEarliestAllowedStartTime",
            null
          ),
          Object(l.c)(
            [c.k.bound],
            e.prototype,
            "SetLatestAllowedEndTime",
            null
          ),
          Object(l.c)([c.k.bound], e.prototype, "SetEventStartTime", null),
          Object(l.c)([c.k.bound], e.prototype, "SetEventEndTime", null),
          Object(l.c)([c.k.bound], e.prototype, "SetSaleVanityID", null),
          Object(l.c)([c.k.bound], e.prototype, "SetVisibilityStartTime", null),
          Object(l.c)([c.k], e.prototype, "ResetSetVisibilityStartTime", null),
          Object(l.c)([c.k.bound], e.prototype, "SetVisibilityEndTime", null),
          Object(l.c)([c.k.bound], e.prototype, "SetActionEndTime", null),
          Object(l.c)([c.k], e.prototype, "ClearDirty", null),
          Object(l.c)([c.k], e.prototype, "SetDirty", null),
          Object(l.c)([c.k], e.prototype, "DeriveTimeEditChoices", null),
          Object(l.c)([c.k], e.prototype, "DeriveVisibilitySetting", null),
          Object(l.c)([c.k], e.prototype, "OnPreSave", null),
          Object(l.c)([c.k], e.prototype, "Refresh", null),
          Object(l.c)([y.a], e.prototype, "BIsBeginTimeBeforeEnd", null),
          Object(l.c)([y.a], e.prototype, "BIsValidVisibilityStartTime", null),
          Object(l.c)([y.a], e.prototype, "GetEarliestStartTimeForEdit", null),
          Object(l.c)([y.a], e.prototype, "GetLatestEndTimeForEdit", null),
          Object(l.c)([y.a], e.prototype, "GetEarliestEndTimeForEdit", null),
          Object(l.c)(
            [y.a],
            e.prototype,
            "GetEarliestVisibilityStartTimeForEdit",
            null
          ),
          Object(l.c)([c.k.bound], e.prototype, "SetImageURL", null),
          Object(l.c)([y.a], e.prototype, "BHasTitleImage", null),
          Object(l.c)([y.a], e.prototype, "LastTimeLanguageUpdate", null),
          Object(l.c)([c.k], e.prototype, "SetLibrarySpotlight", null),
          Object(l.c)([c.k], e.prototype, "SetLibrarySpotlightText", null),
          Object(l.c)([c.k], e.prototype, "ToggleTag", null),
          Object(l.c)([c.k], e.prototype, "AddTag", null),
          Object(l.c)([c.k], e.prototype, "ClearTags", null),
          Object(l.c)([c.k], e.prototype, "SetSteamAwardCategory", null),
          Object(l.c)([c.k], e.prototype, "SetSteamAwardNomineeVoteIDs", null),
          Object(l.c)([y.a], e.prototype, "BDoesSupportLanguage", null),
          Object(l.c)([c.k], e.prototype, "SetNumSalesBackgroundHeader", null),
          Object(l.c)([c.k], e, "SetSaleSectionType", null),
          e
        );
      })();
    },
    gBDv: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return E;
      }),
        a.d(t, "c", function () {
          return b;
        }),
        a.d(t, "d", function () {
          return h;
        }),
        a.d(t, "a", function () {
          return v;
        });
      var n = a("mrSG"),
        i = a("opsS"),
        r = a("vDqi"),
        o = a.n(r),
        l = a("q1tI"),
        s = a("kLLr"),
        c = a("XxJJ"),
        d = a("qiKp"),
        u = a("OS6B"),
        p = a("lkRc"),
        m = a("r64O"),
        _ = "new_event_gid",
        g = (function () {
          function e() {
            (this.m_mapOriginalJSON = new Map()),
              (this.m_mapPrivateData = new Map()),
              (this.m_mapPrivateDataCallback = new Map()),
              (this.m_inflightRequests = new Map()),
              (this.m_gidDirty = null),
              (this.m_clanAccountIDDirty = null);
          }
          return (
            (e.prototype.GetPrivateData = function (e, t) {
              var a = this.HandleNewEventGID(t);
              return this.m_mapPrivateData.get(a) || { jsonData: {} };
            }),
            (e.prototype.GetPrivateDataCopy = function (e, t) {
              var a = this.HandleNewEventGID(t);
              return JSON.parse(JSON.stringify(this.GetPrivateData(e, a)));
            }),
            (e.prototype.GetPrivateDataChangeCallback = function (e, t) {
              var a = this.HandleNewEventGID(t);
              return (
                this.m_mapPrivateDataCallback.has(a) ||
                  this.m_mapPrivateDataCallback.set(a, new d.a()),
                this.m_mapPrivateDataCallback.get(a)
              );
            }),
            (e.prototype.UpdatePrivateData = function (e, t, a) {
              var i = this.HandleNewEventGID(t),
                r = this.GetPrivateData(e, i);
              if (!this.BIsEqual(r.jsonData, a)) {
                if (null != this.m_gidDirty && i != this.m_gidDirty) {
                  var o = this.m_mapPrivateData.get(this.m_gidDirty),
                    l = this.m_mapOriginalJSON.get(this.m_gidDirty),
                    s = Object(n.a)(Object(n.a)({}, o), { jsonData: l });
                  this.m_mapPrivateData.set(this.m_gidDirty, s),
                    this.DispatchUpdate(
                      this.m_clanAccountIDDirty,
                      this.m_gidDirty
                    );
                }
                (r.jsonData = a),
                  (this.m_gidDirty = i),
                  (this.m_clanAccountIDDirty = e),
                  this.DispatchUpdate(e, i);
              }
            }),
            (e.prototype.BIsEqual = function (e, t) {
              return JSON.stringify(e) === JSON.stringify(t);
            }),
            (e.prototype.BLoaded = function (e, t) {
              var a = this.HandleNewEventGID(t);
              return this.m_mapPrivateData.has(a);
            }),
            (e.prototype.BIsDirty = function () {
              return Boolean(this.m_gidDirty);
            }),
            (e.prototype.BIsEventDirty = function (e) {
              var t = this.HandleNewEventGID(e);
              return this.m_gidDirty == t;
            }),
            (e.prototype.DiscardChanges = function () {
              if (this.m_gidDirty) {
                var e = this.m_clanAccountIDDirty,
                  t = this.m_gidDirty;
                (this.m_clanAccountIDDirty = null), (this.m_gidDirty = null);
                var a = this.m_mapPrivateData.get(t),
                  i = this.m_mapOriginalJSON.get(t);
                this.m_mapPrivateData.set(
                  t,
                  Object(n.a)(Object(n.a)({}, a), { jsonData: i })
                ),
                  this.DispatchUpdate(e, t);
              }
            }),
            (e.prototype.DispatchUpdate = function (e, t) {
              var a = this.HandleNewEventGID(t),
                n = this.GetPrivateDataCopy(e, a);
              this.GetPrivateDataChangeCallback(e, a).Dispatch(n);
            }),
            (e.prototype.HandleNewEventGID = function (e) {
              return null == e || null == e || "" == e ? _ : e;
            }),
            (e.prototype.LoadPrivateData = function (e, t) {
              return Object(n.b)(this, void 0, void 0, function () {
                var a;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (a = this.HandleNewEventGID(t)),
                        this.m_inflightRequests.has(a) ||
                          this.m_inflightRequests.set(
                            a,
                            this.InternalLoadPrivateData(e, a)
                          ),
                        [4, this.m_inflightRequests.get(a)]
                      );
                    case 1:
                      return [2, n.sent()];
                  }
                });
              });
            }),
            (e.prototype.InternalLoadPrivateData = function (e, t) {
              var a, i;
              return Object(n.b)(this, void 0, void 0, function () {
                var r, l, s, c, d, m, g, E;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      if (
                        ((r = this.HandleNewEventGID(t)),
                        this.m_mapPrivateData.has(r))
                      )
                        return [2, this.m_mapPrivateData.get(r)];
                      if (r == _)
                        return (
                          (m = { jsonData: {} }),
                          this.m_mapPrivateData.set(r, m),
                          this.m_mapOriginalJSON.set(r, {}),
                          [2, m]
                        );
                      n.label = 1;
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]),
                        (l =
                          p.c.COMMUNITY_BASE_URL +
                          "partnereventdata/ajaxgetprivatedata"),
                        (s = {
                          clanAccountID: e.GetAccountID(),
                          gidClanEvent: r,
                        }),
                        [4, o.a.get(l, { params: s, withCredentials: !0 })]
                      );
                    case 2:
                      return (
                        (c = n.sent()),
                        1 ===
                          (null === (a = null == c ? void 0 : c.data) ||
                          void 0 === a
                            ? void 0
                            : a.success) && c.data.data
                          ? ((d = {
                              rtLastUpdateTime: c.data.data.time_written,
                              nAccountLastUpdate: c.data.data.account_writer,
                              jsonData: c.data.data.json_data,
                            }),
                            this.m_mapPrivateData.set(r, d),
                            this.m_mapOriginalJSON.set(r, d.jsonData),
                            [2, d])
                          : 42 ===
                            (null === (i = null == c ? void 0 : c.data) ||
                            void 0 === i
                              ? void 0
                              : i.success)
                          ? ((m = { jsonData: {} }),
                            this.m_mapPrivateData.set(r, m),
                            this.m_mapOriginalJSON.set(r, {}),
                            [2, m])
                          : ((E = Object(u.a)(c)),
                            console.error(
                              "CPartnerEventPrivateDataStore.InternalLoadPrivateData: response with " +
                                E.strErrorMsg,
                              E
                            ),
                            [3, 4])
                      );
                    case 3:
                      return (
                        (g = n.sent()),
                        (E = Object(u.a)(g)),
                        console.error(
                          "CPartnerEventPrivateDataStore.InternalLoadPrivateData: failed with " +
                            E.strErrorMsg,
                          E
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2, null];
                  }
                });
              });
            }),
            (e.prototype.SaveDirtyChanges = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t, a;
                return Object(n.e)(this, function (n) {
                  if (
                    (Object(m.a)(
                      null != e && null != e && "" != e,
                      "CPartnerEventPrivateDataStore: GID not supplied."
                    ),
                    this.BIsDirty())
                  ) {
                    if (
                      ((t = s.a.InitFromClanID(this.m_clanAccountIDDirty)),
                      (a = this.m_mapPrivateData.get(this.m_gidDirty).jsonData),
                      this.m_gidDirty == e || this.m_gidDirty == _)
                    )
                      return (
                        this.m_gidDirty == _ &&
                          (this.m_mapOriginalJSON.set(e, {}),
                          this.m_mapPrivateData.set(
                            e,
                            this.m_mapPrivateData.get(_)
                          ),
                          this.m_mapPrivateData.delete(_)),
                        [2, this.SavePrivateData(t, e, a)]
                      );
                    console.warn(
                      "CPartnerEventPrivateDataStore: Dirty not matching input GID:" +
                        e +
                        " " +
                        this.m_gidDirty
                    );
                  } else console.warn("CPartnerEventPrivateDataStore: Attempting to save private when not dirty: " + e + " " + this.m_gidDirty);
                  return [2, 1];
                });
              });
            }),
            (e.prototype.SavePrivateData = function (e, t, a) {
              var i;
              return Object(n.b)(this, void 0, void 0, function () {
                var r, l, s, c, d, _;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      if (
                        (Object(m.a)(
                          null != t && null != t && "" != t,
                          "CPartnerEventPrivateDataStore: GID not supplied."
                        ),
                        !this.m_mapPrivateData.has(t))
                      )
                        return [2, 42];
                      if (this.BIsEqual(a, this.m_mapOriginalJSON.get(t)))
                        return [2, 1];
                      n.label = 1;
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]),
                        (r = new FormData()).append("sessionid", p.c.SESSIONID),
                        r.append("clanAccountID", "" + e.GetAccountID()),
                        r.append("gidClanEvent", "" + t),
                        r.append("jsonData", JSON.stringify(a)),
                        (l =
                          p.c.COMMUNITY_BASE_URL +
                          "partnereventdata/ajaxsetprivatedata"),
                        [4, o.a.post(l, r, { withCredentials: !0 })]
                      );
                    case 2:
                      return (
                        (s = n.sent()),
                        1 ===
                        (null === (i = null == s ? void 0 : s.data) ||
                        void 0 === i
                          ? void 0
                          : i.success)
                          ? ((c = {
                              nAccountLastUpdate: p.h.accountid,
                              rtLastUpdateTime: Math.floor(Date.now() / 1e3),
                              jsonData: a,
                            }),
                            this.m_mapPrivateData.set(t, c),
                            this.m_mapOriginalJSON.set(t, a),
                            (this.m_clanAccountIDDirty = null),
                            (this.m_gidDirty = null),
                            this.DispatchUpdate(e.GetAccountID(), t),
                            [2, s.data.success])
                          : ((_ = Object(u.a)(s)),
                            console.error(
                              "CPartnerEventPrivateDataStore.SavePrivateData: response with " +
                                _.strErrorMsg,
                              _
                            ),
                            [3, 4])
                      );
                    case 3:
                      return (
                        (d = n.sent()),
                        (_ = Object(u.a)(d)),
                        console.error(
                          "CPartnerEventPrivateDataStore.SavePrivateData: failed with " +
                            _.strErrorMsg,
                          _
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2, 2];
                  }
                });
              });
            }),
            (e.Get = function () {
              return (
                e.s_Singleton ||
                  ((e.s_Singleton = new e()),
                  e.s_Singleton.Init(),
                  "dev" == p.c.WEB_UNIVERSE &&
                    (window.g_PartnerEventPrivateDataStore = e.s_Singleton)),
                e.s_Singleton
              );
            }),
            (e.prototype.Init = function () {
              var e = this,
                t = Object(p.f)("privatedata", "application_config");
              this.ValidateStoreDefault(t) &&
                t.forEach(function (t) {
                  var a = {
                    rtLastUpdateTime: t.data.time_written,
                    nAccountLastUpdate: t.data.account_writer,
                    jsonData: t.data.json_data,
                  };
                  e.m_mapOriginalJSON.set(t.gid, a.jsonData),
                    e.m_mapPrivateData.set(t.gid, a);
                });
            }),
            (e.prototype.ValidateStoreDefault = function (e) {
              var t = e;
              return (
                !!(
                  t &&
                  Array.isArray(t) &&
                  t.length > 0 &&
                  "object" == typeof t[0]
                ) &&
                "string" == typeof t[0].gid &&
                "number" == typeof t[0].clanAccountID &&
                "object" == typeof t[0].data
              );
            }),
            Object(n.c)([c.a], e.prototype, "BIsEventDirty", null),
            Object(n.c)([c.a], e.prototype, "DiscardChanges", null),
            Object(n.c)([c.a], e.prototype, "SaveDirtyChanges", null),
            e
          );
        })();
      function E(e, t) {
        var a = g.Get(),
          n = Object(l.useState)(a.GetPrivateDataCopy(e, t)),
          r = n[0],
          o = n[1];
        Object(i.d)(a.GetPrivateDataChangeCallback(e, t), o);
        var c = Object(l.useState)(!a.BLoaded(e, t)),
          d = c[0],
          u = c[1];
        Object(l.useEffect)(
          function () {
            if (!a.BLoaded(e, t)) {
              var n = s.a.InitFromClanID(e);
              a.LoadPrivateData(n, t).then(function (e) {
                o(e), u(!1);
              });
            }
          },
          [e, t, a]
        );
        return [
          r,
          function (n) {
            a.UpdatePrivateData(e, t, n);
          },
          d,
        ];
      }
      function b() {
        var e = g.Get();
        return [e.BIsEventDirty, e.DiscardChanges, e.SaveDirtyChanges];
      }
      function h(e, t) {
        var a = E(e, t),
          i = a[0],
          r = a[1],
          o = a[2],
          l = g.Get();
        return [
          o,
          null == i ? void 0 : i.jsonData.bPublishRequiresValveApproval,
          null == i ? void 0 : i.jsonData.nAccountApproved,
          null == i ? void 0 : i.jsonData.rtApprovalTime,
          function (a) {
            return r(
              Object(n.a)(Object(n.a)({}, l.GetPrivateData(e, t).jsonData), {
                bPublishRequiresValveApproval: a,
              })
            );
          },
          function (a) {
            return r(
              Object(n.a)(Object(n.a)({}, l.GetPrivateData(e, t).jsonData), {
                nAccountApproved: a,
                rtApprovalTime: Math.floor(Date.now() / 1e3),
              })
            );
          },
        ];
      }
      function v(e, t) {
        var a = E(e, t),
          i = a[0],
          r = a[1],
          o = a[2],
          l = g.Get();
        return [
          o,
          null == i ? void 0 : i.jsonData.nAcceptingGuidelineAccount,
          null == i ? void 0 : i.jsonData.rtAcceptanceTime,
          null == i ? void 0 : i.jsonData.strPrimaryContactName,
          null == i ? void 0 : i.jsonData.strPrimaryContactEmail,
          function (a) {
            r(
              Object(n.a)(Object(n.a)({}, l.GetPrivateData(e, t).jsonData), {
                nAcceptingGuidelineAccount: a,
                rtAcceptanceTime: Math.floor(Date.now() / 1e3),
              })
            );
          },
          function (a, i) {
            r(
              Object(n.a)(Object(n.a)({}, l.GetPrivateData(e, t).jsonData), {
                strPrimaryContactName: a,
                strPrimaryContactEmail: i,
              })
            );
          },
        ];
      }
    },
    h5LU: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return l;
      });
      var n = a("mrSG"),
        i = a("q1tI"),
        r = a("15kH"),
        o = a("opsS"),
        l = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { color: t.props.color || "rgba(1.0,1.0,1.0,1.0)" }), t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.GetColorString = function (e) {
              return (
                "rgba(" +
                e.rgb.r +
                ", " +
                e.rgb.g +
                ", " +
                e.rgb.b +
                ", " +
                e.rgb.a +
                ")"
              );
            }),
            (t.prototype.OnColorChange = function (e) {
              var a = t.GetColorString(e);
              this.setState({ color: a }), this.props.onChange(a);
            }),
            (t.prototype.render = function () {
              return i.createElement(r.a, {
                onChange: this.OnColorChange,
                color: this.state.color,
              });
            }),
            Object(n.c)([o.a], t.prototype, "OnColorChange", null),
            t
          );
        })(i.Component);
    },
    hvYe: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEFERTQyQ0E1Q0EyMTFFNTgwMzNBQUE0RTk3QjgyMDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEFERTQyQ0I1Q0EyMTFFNTgwMzNBQUE0RTk3QjgyMDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowQURFNDJDODVDQTIxMUU1ODAzM0FBQTRFOTdCODIwOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowQURFNDJDOTVDQTIxMUU1ODAzM0FBQTRFOTdCODIwOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prxq/1gAAAGJSURBVHjaYvz//z/DQAImhgEG9HTASiDeiiEKigI64Pj/CLAJiBlhcvSwXPc/JjgLxIIgeUYaJ0JBIL4NxMJY5B4BcTitHXAeiA3wyL+kZSJcQMByEEimVbxn/ScM8mmVCK2IsHwhTD2104AwNHFx4VFzAYgNaVUQ7SFg+Q8gdqZVSTifiEQHsvwdvpKQGYiDyIj3HCLiPRubXnSBBVDFE2iV6PA5IAlN0woiLJcG4h8ELD+PzwwYwxiH5sNALIzHgNsELH8DxEKEHCAGxB/xGPIEiNWwaF5PRNDrEQpFEHGZCIO+ArEjksZKIvTEE5OGQEQyEP/7TxwAJThDItRNIjYRwxgGQPz2P3XAEVKyMHJRLAvEu4FYnYLC6D3UnK/ktAkfA7EeEB+kwAEOpFiOr024mIygjyWn9sQn2UOC5VPJrb4JKcglwvLDlLQfiFHkDcR/cVj+CIjZaO0AfNlUidIWFCmKZYD4GpLlgdRowpHaJGMH4v1AfBGIM6nRiqF1v2Dw944BAgwAsWqnpJAiSOIAAAAASUVORK5CYII=";
    },
    i3zJ: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return y;
      });
      var n = a("mrSG"),
        i = a("vDqi"),
        r = a.n(i),
        o = a("lkRc"),
        l = a("OS6B"),
        s = (function () {
          function e() {
            (this.m_events = null),
              (this.m_eventMap = new Map()),
              (this.m_eventDetailsMap = new Map()),
              (window.g_discountEventStore = this);
          }
          return (
            (e.Get = function () {
              return (
                e.s_DiscountEvent || (e.s_DiscountEvent = new e()),
                e.s_DiscountEvent
              );
            }),
            (e.prototype.GetDiscountEvents = function () {
              return this.m_events;
            }),
            (e.prototype.GetSingleDiscountEvent = function (e) {
              return this.m_eventMap.get(e);
            }),
            (e.prototype.GetDiscountEventDetails = function (e) {
              return this.m_eventDetailsMap.get(e);
            }),
            (e.prototype.BHasDiscountEventDetails = function (e) {
              return this.m_eventDetailsMap.has(e);
            }),
            (e.prototype.LoadDiscountEvents = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t,
                  a,
                  i,
                  s,
                  c,
                  d = this;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      if (this.m_events) return [2, this.m_events];
                      (t = o.c.COMMUNITY_BASE_URL + "sale/ajaxdiscountevents"),
                        (a = { sessionid: o.c.SESSIONID }),
                        (n.label = 1);
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]),
                        [4, r.a.get(t, { params: a, cancelToken: e.token })]
                      );
                    case 2:
                      return (
                        (i = n.sent()) &&
                          200 == i.status &&
                          1 == i.data.success &&
                          i.data.discount_events &&
                          ((this.m_events = i.data.discount_events),
                          this.m_events.map(function (e) {
                            d.m_eventMap.set(e.id, e);
                          })),
                        [3, 4]
                      );
                    case 3:
                      return (
                        (s = n.sent()),
                        (c = Object(l.a)(s)),
                        console.error(
                          "LoadDiscountEvents failed: " + c.strErrorMsg,
                          c
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2, this.m_events];
                  }
                });
              });
            }),
            (e.prototype.LoadDiscountEventDetails = function (e, t) {
              return Object(n.b)(this, void 0, void 0, function () {
                var a, i, s, c, d;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      if (this.m_eventDetailsMap.has(e)) return [3, 4];
                      (a =
                        o.c.COMMUNITY_BASE_URL +
                        "sale/ajaxdiscounteventdetails"),
                        (i = { sessionid: o.c.SESSIONID, id: e }),
                        (n.label = 1);
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]),
                        [4, r.a.get(a, { params: i, cancelToken: t.token })]
                      );
                    case 2:
                      return (
                        (s = n.sent()) &&
                          200 == s.status &&
                          1 == s.data.success &&
                          s.data.packages &&
                          this.m_eventDetailsMap.set(e, {
                            apps: s.data.apps,
                            packages: s.data.packages,
                          }),
                        [3, 4]
                      );
                    case 3:
                      return (
                        (c = n.sent()),
                        (d = Object(l.a)(c)),
                        console.error(
                          "LoadDiscountEventDetails failed: " + d.strErrorMsg,
                          d
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2, this.m_eventDetailsMap.get(e)];
                  }
                });
              });
            }),
            e
          );
        })(),
        c = a("2vnA"),
        d = a("TyAF"),
        u = a("q1tI"),
        p = a.n(u),
        m = a("vwsU"),
        _ = a("5eAM"),
        g = a("oVVc"),
        E = a("Mgs7"),
        b = a("IjL/"),
        h = a("YLyR"),
        v = a("Jqb/"),
        f = a("0OaU"),
        S = a("TLQK"),
        O = a("DisI"),
        y = Object(d.a)(function (e) {
          var t = function () {
              return e.closeModal && e.closeModal();
            },
            a = e.onDiscountEventSelected,
            n = Object(u.useState)(null),
            i = n[0],
            r = n[1],
            o = T.Get().BHasSomethingSelected();
          return p.a.createElement(
            b.a,
            null,
            p.a.createElement(
              v.h,
              { onEscKeypress: t },
              p.a.createElement(
                E.f,
                null,
                p.a.createElement(
                  E.k,
                  null,
                  Object(S.f)("#Sale_DiscountEvent_Add")
                ),
                p.a.createElement(
                  E.b,
                  null,
                  p.a.createElement(
                    E.c,
                    null,
                    p.a.createElement(
                      "div",
                      { style: { minHeight: 500 } },
                      p.a.createElement(C, { fnSetDiscountID: r }),
                      p.a.createElement(j, { discountID: i })
                    )
                  )
                ),
                p.a.createElement(
                  E.j,
                  null,
                  p.a.createElement(E.n, {
                    onCancel: t,
                    bOKDisabled: !o,
                    strOKText: Object(S.f)("#Sale_New_CreateEvent"),
                    onOK: function () {
                      T.Get().UpdateSaleSection(a), t();
                    },
                  })
                )
              )
            )
          );
        }),
        C = function (e) {
          var t = e.fnSetDiscountID,
            a = Object(u.useState)(!0),
            i = a[0],
            o = a[1],
            c = Object(u.useRef)(null);
          if (
            (Object(u.useEffect)(function () {
              var e = r.a.CancelToken.source();
              c.current = e.cancel;
              return (
                Object(n.b)(void 0, void 0, void 0, function () {
                  var t, a;
                  return Object(n.e)(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return (
                          n.trys.push([0, 2, , 3]),
                          [4, s.Get().LoadDiscountEvents(e)]
                        );
                      case 1:
                        return (
                          n.sent() &&
                            !e.token.reason &&
                            (T.Get().Reset(), o(!1)),
                          [3, 3]
                        );
                      case 2:
                        return (
                          (t = n.sent()),
                          (a = Object(l.a)(t)),
                          console.error(
                            "DiscountEventChooser failed to load: " +
                              a.strErrorMsg,
                            a
                          ),
                          [3, 3]
                        );
                      case 3:
                        return [2];
                    }
                  });
                }),
                function () {
                  return (
                    c.current && c.current("DiscountEventChooser unmounting")
                  );
                }
              );
            }, []),
            i)
          )
            return p.a.createElement(f.a, {
              key: "loading",
              size: "medium",
              string: Object(S.f)("#Sale_DiscountEvent_Loading"),
            });
          var d = s
              .Get()
              .GetDiscountEvents()
              .map(function (e) {
                return { label: e.name, value: e.id };
              }),
            _ = {
              option: function (e) {
                return Object(n.a)(Object(n.a)({}, e), { color: "#444444" });
              },
            };
          return p.a.createElement(
            "div",
            null,
            p.a.createElement(
              "div",
              null,
              Object(S.f)("#Sale_DiscountEvent_Choose"),
              p.a.createElement(O.b, {
                tooltip: Object(S.f)("#Sale_DiscountEvent_Choose_ttip"),
              })
            ),
            p.a.createElement(m.a, {
              styles: _,
              isSearchable: !0,
              isMulti: !1,
              isClearable: !0,
              options: d,
              defaultMenuIsOpen: !1,
              isValidNewOption: function () {
                return !1;
              },
              onChange: function (e) {
                (null == e ? void 0 : e.value) && t(e.value);
              },
            })
          );
        },
        j = function (e) {
          var t = e.discountID,
            a = Object(u.useState)(!0),
            i = a[0],
            o = a[1],
            c = Object(u.useState)(null),
            d = c[0],
            m = c[1],
            b = Object(u.useRef)(null);
          if (
            (Object(u.useEffect)(
              function () {
                o(!0),
                  b.current &&
                    b.current(
                      "SelectAppsAndPackagesFromDiscountEvent reloading"
                    );
                var e = r.a.CancelToken.source();
                b.current = e.cancel;
                return (
                  t &&
                    Object(n.b)(void 0, void 0, void 0, function () {
                      var a, i, r, c, d;
                      return Object(n.e)(this, function (n) {
                        switch (n.label) {
                          case 0:
                            return (
                              n.trys.push([0, 5, , 6]),
                              s.Get().BHasDiscountEventDetails(t)
                                ? [3, 2]
                                : [4, s.Get().LoadDiscountEventDetails(t, e)]
                            );
                          case 1:
                            n.sent(), (n.label = 2);
                          case 2:
                            return !(a = s.Get().GetDiscountEventDetails(t)) ||
                              e.token.reason
                              ? [3, 4]
                              : ((i = new Array()),
                                (r = a.apps),
                                a.packages.map(function (e) {
                                  return i.push(
                                    "string" == typeof e.subid
                                      ? Number.parseInt(e.subid)
                                      : e.subid
                                  );
                                }),
                                [
                                  4,
                                  Promise.all([
                                    g.b.LoadPackageInfo(i),
                                    _.a.LoadAppLinkInfo(r),
                                  ]),
                                ]);
                          case 3:
                            n.sent(), o(!1), (n.label = 4);
                          case 4:
                            return [3, 6];
                          case 5:
                            return (
                              (c = n.sent()),
                              (d = Object(l.a)(c)),
                              console.error(
                                "SelectAppsAndPackagesFromDiscountEvent failed: " +
                                  d.strErrorMsg,
                                d
                              ),
                              [3, 6]
                            );
                          case 6:
                            return [2];
                        }
                      });
                    }),
                  function () {
                    return (
                      b.current &&
                      b.current(
                        "SelectAppsAndPackagesFromDiscountEvent unmounting"
                      )
                    );
                  }
                );
              },
              [t]
            ),
            !t)
          )
            return p.a.createElement(
              "div",
              null,
              Object(S.f)("#Sale_DiscountEvent_NoneChosen")
            );
          if (i || !s.Get().BHasDiscountEventDetails(t))
            return p.a.createElement(f.a, {
              key: "loading",
              size: "medium",
              string: Object(S.f)("#Sale_DiscountEvent_LoadingDetails"),
            });
          var v = s.Get().GetSingleDiscountEvent(t),
            O = s.Get().GetDiscountEventDetails(t);
          return p.a.createElement(
            "div",
            null,
            p.a.createElement(
              "p",
              null,
              Object(S.f)("#Sale_DiscountEvent_Select", v.name, v.id)
            ),
            p.a.createElement(h.b, {
              startDateAndTime: v.start_date,
              endDateAndTime: v.end_date,
            }),
            p.a.createElement(
              "p",
              null,
              Object(S.f)(
                "#Sale_DiscountEvent_Contains",
                O.apps.length.toLocaleString(),
                O.packages.length.toLocaleString()
              )
            ),
            p.a.createElement(
              "p",
              null,
              Object(S.f)(
                "#Sale_New_Selected",
                T.Get().GetTotalSelectedCount(),
                T.Get().AppCount().toLocaleString(),
                T.Get().PackageCount().toLocaleString()
              )
            ),
            p.a.createElement(
              "div",
              null,
              p.a.createElement(E.l, {
                type: "text",
                label: Object(S.f)("#EventCalendar_UniversalSearch"),
                value: d || "",
                onChange: function (e) {
                  return m(e.target.value);
                },
              }),
              p.a.createElement("h2", null, "Apps:"),
              p.a.createElement(
                E.d,
                {
                  onClick: function () {
                    return T.Get().SelectAllApps(O.apps);
                  },
                },
                "Select All Apps"
              ),
              p.a.createElement(
                E.d,
                {
                  onClick: function () {
                    return T.Get().ClearAllSelectedApps();
                  },
                },
                "Clear all Selected Apps"
              ),
              Boolean(O.apps)
                ? O.apps.map(function (e) {
                    return p.a.createElement(I, {
                      appid: e,
                      key: "appid_" + e,
                      strFilter: d,
                    });
                  })
                : p.a.createElement(
                    "p",
                    null,
                    Object(S.f)("#Sale_DiscountEvent_NoApps")
                  ),
              p.a.createElement("h2", null, "Packages:"),
              Boolean(O.packages)
                ? O.packages.map(function (e) {
                    return p.a.createElement(D, {
                      subid: e.subid,
                      key: "subid_" + e.subid,
                      strFilter: d,
                    });
                  })
                : p.a.createElement(
                    "p",
                    null,
                    Object(S.f)("#Sale_DiscountEvent_NoSubs")
                  )
            )
          );
        },
        T = (function () {
          function e() {
            (this.m_selectedApps = new Set()),
              (this.m_selectedSubs = new Set()),
              (this.m_nTotalSelected = 0);
          }
          return (
            (e.prototype.BIsAppSelected = function (e) {
              return this.m_selectedApps.has(e);
            }),
            (e.prototype.BIsPackageSelected = function (e) {
              return this.m_selectedSubs.has(e);
            }),
            (e.prototype.AddApp = function (e) {
              this.m_selectedApps.add(e), this.UpdateSelected();
            }),
            (e.prototype.AddPackage = function (e) {
              this.m_selectedSubs.add(e), this.UpdateSelected();
            }),
            (e.prototype.RemoveApp = function (e) {
              this.m_selectedApps.delete(e), this.UpdateSelected();
            }),
            (e.prototype.RemovePackage = function (e) {
              this.m_selectedSubs.delete(e), this.UpdateSelected();
            }),
            (e.prototype.UpdateApp = function (e, t) {
              t ? this.AddApp(e) : this.RemoveApp(e);
            }),
            (e.prototype.UpdatePackage = function (e, t) {
              t ? this.AddPackage(e) : this.RemovePackage(e);
            }),
            (e.prototype.AppCount = function () {
              return this.m_selectedApps.size;
            }),
            (e.prototype.PackageCount = function () {
              return this.m_selectedSubs.size;
            }),
            (e.prototype.BHasSomethingSelected = function () {
              return this.m_nTotalSelected > 0;
            }),
            (e.prototype.GetTotalSelectedCount = function () {
              return this.m_nTotalSelected;
            }),
            (e.prototype.SelectAllApps = function (e) {
              var t = this;
              e.forEach(function (e) {
                return t.m_selectedApps.add(e);
              }),
                this.UpdateSelected();
            }),
            (e.prototype.Reset = function () {
              this.m_selectedApps.clear(),
                this.m_selectedSubs.clear(),
                this.UpdateSelected();
            }),
            (e.prototype.ClearAllSelectedApps = function () {
              this.m_selectedApps.clear(), this.UpdateSelected();
            }),
            (e.prototype.UpdateSelected = function () {
              var e = this.AppCount() + this.PackageCount();
              e != this.m_nTotalSelected && (this.m_nTotalSelected = e);
            }),
            (e.prototype.UpdateSaleSection = function (e) {
              e(this.m_selectedApps, this.m_selectedSubs);
            }),
            (e.Get = function () {
              return (
                e.s_globalSingletonStore ||
                  ((e.s_globalSingletonStore = new e()),
                  e.s_globalSingletonStore.Init()),
                e.s_globalSingletonStore
              );
            }),
            (e.prototype.Init = function () {}),
            Object(n.c)([c.C], e.prototype, "m_nTotalSelected", void 0),
            Object(n.c)([c.k], e.prototype, "SelectAllApps", null),
            Object(n.c)([c.k], e.prototype, "ClearAllSelectedApps", null),
            e
          );
        })(),
        I = function (e) {
          var t = e.appid,
            a = e.strFilter,
            n = _.a.GetAppLinkInfo(
              "string" == typeof t ? Number.parseInt(t) : t
            );
          if (
            a &&
            a.trim().length > 0 &&
            (!n || -1 == n.name.toLowerCase().indexOf(a))
          )
            return null;
          var i = n
            ? n.name +
              "(" +
              n.appid +
              ")" +
              ("application" != n.type && "game" != n.type ? " DLC" : "")
            : Object(S.f)("#Sale_DiscountEvent_AppMissing", t);
          return p.a.createElement(E.e, {
            label: i,
            checked: T.Get().BIsAppSelected(t),
            onChange: function (e) {
              return T.Get().UpdateApp(t, e);
            },
          });
        },
        D = function (e) {
          var t = e.subid,
            a = e.strFilter,
            n = g.b.GetPackageInfo(t);
          if (
            a &&
            a.trim().length > 0 &&
            (!n || -1 == n.name.toLowerCase().indexOf(a))
          )
            return null;
          var i = n
            ? n.name +
              "(" +
              n.id +
              ") : " +
              Object(S.f)("#Sale_DiscountEvent_SubContains", n.appids.length)
            : Object(S.f)("#Sale_DiscountEvent_SubMissing", t);
          return p.a.createElement(E.e, {
            label: i,
            checked: T.Get().BIsAppSelected(t),
            onChange: function (e) {
              return T.Get().UpdatePackage(t, e);
            },
          });
        };
    },
    jZUi: function (e, t, a) {},
    k3PP: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return it;
      }),
        a.d(t, "b", function () {
          return ct;
        }),
        a.d(t, "d", function () {
          return dt;
        }),
        a.d(t, "e", function () {
          return vt;
        }),
        a.d(t, "c", function () {
          return Ot;
        });
      var n = a("mrSG"),
        i = a("vDqi"),
        r = a.n(i),
        o = a("fcuX"),
        l = a("mHFc"),
        s = a("NrWE"),
        c = a("Ww0A"),
        d = a("TyAF"),
        u = a("q1tI"),
        p = a("U+Q5"),
        m = a("Mgs7"),
        _ = a("qP7j"),
        g = a("Jqb/"),
        E = a("TLQK"),
        b = a("opsS"),
        h = a("6yBx"),
        v = a("R5ed"),
        f = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              var e = this.props,
                t = e.editModel,
                a = e.loc_images,
                n = e.artworkType;
              p.d.ClearImageGroup(),
                a &&
                  a.forEach(function (e, a) {
                    var i = e && p.a.GetHashFromHashAndExt(e),
                      r =
                        i && p.d.GetClanImageByImageHash(t.GetClanSteamID(), i);
                    r && t.SetImageURL(n, r, a);
                  });
            }),
            (t.prototype.OnSaveToEditModel = function () {
              var e = this.props,
                t = e.editModel,
                a = e.fnSetImage;
              p.d.GetAllLocalizedGroupImages().forEach(function (e, t) {
                if (e) {
                  var n = e.lastIndexOf("/");
                  a(t, e.substring(n + 1));
                }
              }),
                t.SetDirty(o.c.jsondata_sales),
                this.props.closeModal(),
                p.d.ClearImageGroup();
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.closeModal,
                a = e.editModel,
                n = e.artworkType,
                i = a.GetClanSteamID();
              return u.createElement(
                g.e,
                {
                  onCancel: t,
                  closeModal: t,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  className: _.NotTooWideModal,
                },
                u.createElement(
                  m.k,
                  null,
                  Object(E.f)("#ImagePickerLoc_Title")
                ),
                u.createElement(
                  m.b,
                  null,
                  u.createElement(
                    m.c,
                    null,
                    u.createElement(
                      u.Fragment,
                      null,
                      u.createElement(h.b, {
                        clanSteamID: i,
                        rgSupportArtwork: [n],
                        bPreventPreviousClanImages: !0,
                        fnSetImageURL: a.SetImageURL,
                        rgRealmList: a.GetIncludedRealmList(),
                      }),
                      u.createElement(v.b, {
                        clanSteamID: i,
                        artworkType: n,
                        title: Object(E.f)("#ImagePickerLoc_Title"),
                      })
                    )
                  ),
                  u.createElement(
                    m.j,
                    null,
                    u.createElement(
                      m.q,
                      { onClick: this.OnSaveToEditModel, disabled: !1 },
                      Object(E.f)("#Button_Confirm"),
                      " "
                    ),
                    u.createElement(
                      m.d,
                      { onClick: this.props.closeModal, disabled: !1 },
                      Object(E.f)("#Button_Cancel")
                    )
                  )
                )
              );
            }),
            Object(n.c)([b.a], t.prototype, "OnSaveToEditModel", null),
            (t = Object(n.c)([d.a], t))
          );
        })(u.Component),
        S = a("as1E"),
        O = a("2vnA"),
        y = a("TtDX"),
        C = a("kLLr"),
        j = a("6oCP"),
        T = a("h5LU"),
        I = a("fpVW"),
        D = a("f1ZV"),
        w = a("ka0M"),
        G = a("0rc7"),
        A = a("0OaU"),
        M = a("5E+2"),
        k = a("UvY0"),
        L = a("Kw0F"),
        N = a("exH9"),
        B = a("X3Ds"),
        R = a("N0Ye"),
        F = a("lkRc"),
        P = a("nvcf"),
        x = a("kyHq"),
        U = a("TQGK"),
        H = a("uIWk"),
        V = (function () {
          function e() {
            (this.m_mapEventGIDToSolrData = new Map()),
              (this.m_listEvents = new Array());
          }
          return (
            (e.prototype.BHasSolrEvent = function (e) {
              return this.m_mapEventGIDToSolrData.has(e);
            }),
            (e.prototype.GetAllSolrEvents = function () {
              return this.m_listEvents;
            }),
            (e.Get = function () {
              return e.s_Singleton || (e.s_Singleton = new e()), e.s_Singleton;
            }),
            (e.prototype.ClearAllSolrEvents = function () {
              (this.m_mapEventGIDToSolrData = new Map()),
                (this.m_listEvents = new Array());
            }),
            (e.prototype.LoadPartnerEventForQueryIncremental = function (
              e,
              t,
              a,
              i,
              r,
              o,
              l,
              s,
              c
            ) {
              return (
                void 0 === t && (t = 0),
                void 0 === a && (a = 10),
                Object(n.b)(this, void 0, void 0, function () {
                  var d,
                    u,
                    p = this;
                  return Object(n.e)(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return [
                          4,
                          this.GetLatestPartnerEvents(
                            e,
                            t,
                            a,
                            i,
                            r,
                            o,
                            l,
                            s,
                            c
                          ),
                        ];
                      case 1:
                        return (
                          (d = n.sent()),
                          (u = new Array()),
                          Object(O.G)(function () {
                            d.forEach(function (e) {
                              p.m_mapEventGIDToSolrData.has(e.unique_id) ||
                                (u.push(e),
                                p.m_mapEventGIDToSolrData.set(e.unique_id, e),
                                p.m_listEvents.push(e));
                            });
                          }),
                          [2, u]
                        );
                    }
                  });
                })
              );
            }),
            (e.prototype.GetLatestPartnerEvents = function (
              e,
              t,
              a,
              i,
              o,
              l,
              s,
              c,
              d,
              u,
              p,
              m
            ) {
              return (
                void 0 === t && (t = 0),
                void 0 === a && (a = 10),
                Object(n.b)(this, void 0, void 0, function () {
                  var _, g, E;
                  return Object(n.e)(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return (
                          (_ =
                            F.c.STORE_BASE_URL +
                            "events_admin/ajaxgetlatestpartnerevents"),
                          (g = {
                            page: t,
                            count: a,
                            date: s,
                            appids: void 0 === i ? void 0 : i.join(","),
                            required_tags: void 0 === o ? void 0 : o.join(","),
                            exclude_tags: void 0 === l ? void 0 : l.join(","),
                            eventtypefilter:
                              void 0 === c ? void 0 : c.join(","),
                            orderByVisibility: d || void 0,
                            creator_home_clan_id:
                              void 0 === u ? void 0 : u.join(","),
                            showUnpublished: void 0 === m ? void 0 : m,
                            term: void 0 === p ? void 0 : p,
                          }),
                          [
                            4,
                            r.a.get(_, {
                              params: g,
                              withCredentials: !0,
                              cancelToken: e ? e.token : void 0,
                            }),
                          ]
                        );
                      case 1:
                        return [2, (E = n.sent()).data ? E.data.docs : []];
                    }
                  });
                })
              );
            }),
            Object(n.c)([O.C], e.prototype, "m_mapEventGIDToSolrData", void 0),
            Object(n.c)([O.C], e.prototype, "m_listEvents", void 0),
            Object(n.c)([O.k], e.prototype, "ClearAllSolrEvents", null),
            e
          );
        })(),
        z = a("y+6m"),
        W = a("mB/g"),
        q = a("xnZ7"),
        Y = a.n(q),
        J = a("bS9Q"),
        Q = a("JiI5"),
        Z = a("aoTL"),
        K = a("DisI"),
        X = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_cancelSignal = r.a.CancelToken.source()),
              (t.m_currentRequest = 0),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              var e = (this.props.saleSection.events || [])
                .filter(function (e) {
                  return Boolean(e);
                })
                .map(function (e) {
                  return e.announcement_gid;
                });
              j.d.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
                void 0,
                e,
                this.m_cancelSignal
              );
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("unloading EventsSaleSectionEditor");
            }),
            (t.prototype.AddEventWithDuplicatePrompt = function (e) {
              var t = this;
              (this.m_refInput.element.value = ""),
                this.props.saleSection.events ||
                  (this.props.saleSection.events = []),
                this.props.saleSection.events.some(function (t) {
                  return (null == t ? void 0 : t.announcement_gid) == e.id;
                })
                  ? Object(w.d)(
                      u.createElement(g.d, {
                        strTitle: Object(E.f)("#Sale_DuplicateCapsule"),
                        strDescription: Object(E.f)(
                          "#Sale_DuplicateEVent_Desc"
                        ),
                        onOK: function () {
                          return t.AddEvent(e);
                        },
                      }),
                      window
                    )
                  : this.AddEvent(e);
            }),
            (t.prototype.AddEvent = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t;
                return Object(n.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return [
                        4,
                        j.d.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                          new C.a(e.clan_steamid),
                          e.id,
                          null
                        ),
                      ];
                    case 1:
                      return (
                        (t = a.sent()),
                        this.props.saleSection.events.push({
                          announcement_gid: e.id,
                          clan_steamid: e.clan_steamid,
                          event_gid: null == t ? void 0 : t.GID,
                        }),
                        this.props.editModel.SetDirty(o.c.jsondata_sales),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.CreateSelectionMenu = function (e) {
              var t = this;
              this.m_searchResultsMenu = Object(y.a)(
                u.createElement(
                  z.c,
                  { className: Q.SearchResults },
                  e.map(function (e) {
                    return u.createElement(
                      z.d,
                      {
                        key: e.id,
                        onSelected: function () {
                          return t.AddEventWithDuplicatePrompt(e);
                        },
                      },
                      u.createElement(
                        "div",
                        { style: { display: "flex", alignItems: "center" } },
                        Object(J.b)(e.name),
                        " ",
                        u.createElement("span", null, "(", e.id, ")"),
                        " ",
                        u.createElement(
                          "span",
                          { className: Q.SmallText },
                          "(",
                          e.type,
                          ")"
                        )
                      )
                    );
                  })
                ),
                this.m_refInput.element,
                {
                  bOverlapHorizontal: !0,
                  bMatchWidth: !0,
                  bFitToWindow: !0,
                  bDisablePopTop: !0,
                }
              );
            }),
            (t.prototype.UpdateEventSuggestions = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t,
                  a,
                  i,
                  o,
                  l,
                  s,
                  c,
                  d,
                  u,
                  p,
                  m,
                  _,
                  g,
                  E,
                  b,
                  h,
                  v,
                  f = this;
                return Object(n.e)(this, function (S) {
                  switch (S.label) {
                    case 0:
                      return (t = String(e.target.value)) &&
                        0 != t.trim().length
                        ? ((a = []),
                          !1,
                          t
                            .toLocaleLowerCase()
                            .startsWith(F.c.STORE_BASE_URL) ||
                          t
                            .toLocaleLowerCase()
                            .startsWith(F.c.COMMUNITY_BASE_URL)
                            ? ((i = Object(x.h)(F.c.LANGUAGE)),
                              (o = /app\/(\d+)\/view\/(\d+)\/?$/.exec(t)),
                              (l = /group\/(\d+)\/view\/(\d+)\/?$/.exec(t)),
                              (s = /groups\/(\w+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                                t
                              )),
                              (c = /games\/(\d+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                                t
                              )),
                              (d = /games\/(\w+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                                t
                              )),
                              (u = null),
                              (p = null),
                              (m = null),
                              (_ = null),
                              (g = null),
                              (E = null),
                              o && o.length >= 3
                                ? ((u = Number.parseInt(o[1])),
                                  (_ = o[2]),
                                  [3, 6])
                                : [3, 1])
                            : [3, 18])
                        : [2];
                    case 1:
                      return l && l.length >= 3
                        ? ((m = Number.parseInt(l[1])), (_ = l[2]), [3, 6])
                        : [3, 2];
                    case 2:
                      return s && s.length >= 3
                        ? ((p = s[1]), (g = s[2]), [3, 6])
                        : [3, 3];
                    case 3:
                      return c && c.length >= 3
                        ? ((u = Number.parseInt(c[1])), (g = c[2]), [3, 6])
                        : [3, 4];
                    case 4:
                      return d && d.length >= 3
                        ? ((b = d[1]),
                          (g = d[2]),
                          [4, U.a.LoadOGGClanInfoForIdentifier(b)])
                        : [3, 6];
                    case 5:
                      (v = S.sent()) && (u = v.appid), (S.label = 6);
                    case 6:
                      return u
                        ? _
                          ? [4, j.d.LoadPartnerEventFromClanEventGID(u, _, 0)]
                          : [3, 8]
                        : [3, 11];
                    case 7:
                      return (E = S.sent()), [3, 10];
                    case 8:
                      return g
                        ? [4, j.d.LoadPartnerEventFromAnnoucementGID(u, g, 0)]
                        : [3, 10];
                    case 9:
                      (E = S.sent()), (S.label = 10);
                    case 10:
                      return [3, 17];
                    case 11:
                      return (
                        (h = null),
                        m && (h = C.a.InitFromClanID(m)),
                        p ? [4, U.a.LoadOGGClanInfoForGroupVanity(p)] : [3, 13]
                      );
                    case 12:
                      (v = S.sent()), (h = v.clanSteamID), (S.label = 13);
                    case 13:
                      return g && h
                        ? [
                            4,
                            j.d.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                              h,
                              g,
                              0
                            ),
                          ]
                        : [3, 15];
                    case 14:
                      return (E = S.sent()), [3, 17];
                    case 15:
                      return _ && h
                        ? [
                            4,
                            j.d.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                              h,
                              _,
                              0
                            ),
                          ]
                        : [3, 17];
                    case 16:
                      (E = S.sent()), (S.label = 17);
                    case 17:
                      if (E)
                        return (
                          a.push({
                            id: E.GetAnnouncementGID(),
                            clan_steamid: E.clanSteamID.ConvertTo64BitString(),
                            name: E.GetNameWithFallback(i),
                            type: "event",
                          }),
                          this.CreateSelectionMenu(a),
                          [2]
                        );
                      S.label = 18;
                    case 18:
                      return (
                        window.clearTimeout(this.m_currentRequest),
                        (this.m_currentRequest = window.setTimeout(function () {
                          return Object(n.b)(f, void 0, void 0, function () {
                            var e, a, i;
                            return Object(n.e)(this, function (n) {
                              switch (n.label) {
                                case 0:
                                  return (
                                    (e = H.a.GetCreatorHome(
                                      new C.a(F.b.CLANSTEAMID)
                                    )),
                                    [
                                      4,
                                      V.Get().GetLatestPartnerEvents(
                                        r.a.CancelToken.source(),
                                        0,
                                        20,
                                        e.GetAppIDList(),
                                        void 0,
                                        void 0,
                                        void 0,
                                        void 0,
                                        !0,
                                        [e.GetClanAccountID()],
                                        t,
                                        !0
                                      ),
                                    ]
                                  );
                                case 1:
                                  return (
                                    (a = n.sent()),
                                    (i = a.map(function (e) {
                                      return {
                                        id: e.announcement_gid,
                                        clan_steamid: e.clan_steamid,
                                        name: e.event_name,
                                        type: "event",
                                      };
                                    })),
                                    this.CreateSelectionMenu(i),
                                    [2]
                                  );
                              }
                            });
                          });
                        }, 300)),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this;
              this.props.fnIsValidEvent;
              return u.createElement(
                u.Fragment,
                null,
                u.createElement($, Object(n.a)({}, this.props)),
                u.createElement(m.l, {
                  onBlur: function () {
                    setTimeout(function () {
                      return (
                        e.m_searchResultsMenu && e.m_searchResultsMenu.Hide()
                      );
                    }, 200);
                  },
                  ref: function (t) {
                    return (e.m_refInput = t);
                  },
                  type: "text",
                  label: Object(E.f)("#Sale_EnterEventsURL"),
                  onChange: this.UpdateEventSuggestions,
                  tooltip: Object(E.f)("#Sale_EnterEventsURL_Tooltip"),
                })
              );
            }),
            Object(n.c)(
              [b.a],
              t.prototype,
              "AddEventWithDuplicatePrompt",
              null
            ),
            Object(n.c)([b.a], t.prototype, "AddEvent", null),
            Object(n.c)([b.a], t.prototype, "UpdateEventSuggestions", null),
            (t = Object(n.c)([d.a], t))
          );
        })(u.Component);
      function $(e) {
        var t = e.editModel,
          a = e.saleSection,
          n = e.fnIsValidEvent,
          i = Object(Z.d)(function () {
            var e;
            return null === (e = a.events) || void 0 === e
              ? void 0
              : e.filter(function (e) {
                  return Boolean(e);
                });
          });
        return u.createElement(G.a, {
          items: i,
          onDelete: function (e) {
            Object(O.G)(function () {
              (a.events = i),
                a.events.splice(e, 1),
                t.SetDirty(o.c.jsondata_sales);
            });
          },
          onMove: function (e, n) {
            Object(O.G)(function () {
              (a.events = i),
                Object(L.d)(a.events, e, n),
                t.SetDirty(o.c.jsondata_sales);
            });
          },
          render: function (e) {
            var t = j.d.GetClanEventFromAnnouncementGID(e.announcement_gid);
            return u.createElement(
              W.c,
              { className: Y.a.FlexCenter, eventModel: t, route: W.a.k_eView },
              t
                ? u.createElement("img", {
                    style: { height: "40px", marginRight: "8px" },
                    src: t.GetImageURLWithFallback("capsule", 0),
                  })
                : null,
              t ? t.GetNameWithFallback(0) : null,
              "  (",
              t ? t.AnnouncementGID : null,
              ")",
              n &&
                !n(t) &&
                u.createElement(
                  "div",
                  { className: _.ErrorStylesWithIcon },
                  Object(E.f)("#Sale_EventInvalid")
                )
            );
          },
        });
      }
      var ee = Object(d.a)(function (e) {
          var t,
            a = e.saleSection,
            i = e.editModel;
          return u.createElement(
            "div",
            null,
            u.createElement(
              "div",
              null,
              Object(E.f)(
                a.smart_section_event_tags
                  ? "#Sele_Event_SmartSection_RecentEvent_allgame"
                  : "#Sele_Event_SmartSection_RecentEvents"
              )
            ),
            u.createElement(m.l, {
              type: "number",
              min: "4",
              max: "90",
              label: Object(E.f)("#Sale_EventMaxEventsToShow"),
              tooltip: Object(E.f)("#Sale_EventMaxEventsToShow_ttip"),
              value: a.smart_section_max_apps,
              placeholder: Object(E.f)("#Sale_EventMaxEventDefault", 15),
              onChange: function (e) {
                var t = Number.parseInt(e.currentTarget.value);
                t &&
                  Number.isInteger(t) &&
                  a.smart_section_max_apps != t &&
                  ((a.smart_section_max_apps = t),
                  i.SetDirty(o.c.jsondata_sales));
              },
            }),
            u.createElement(
              "div",
              { className: I.EventEditorTextTitle },
              Object(E.f)("#Sale_EventDateRange"),
              u.createElement(K.b, {
                tooltip: Object(E.f)("#Sale_EventDateRange_ttip"),
              })
            ),
            u.createElement(
              ce,
              Object(n.a)({}, e, { bSetDefaultIfMissing: !1 })
            ),
            u.createElement(
              k.b,
              { clanSteamID: i.GetClanSteamID() },
              u.createElement(m.l, {
                type: "text",
                label: Object(E.f)("#Sale_EventTagsToSearch"),
                onChange: function (e) {
                  Object(O.G)(function () {
                    var t = e.target.value.replace(/\s+/g, "");
                    a.smart_section_event_tags &&
                    a.smart_section_event_tags[0] == t
                      ? 0 == t.length &&
                        a.smart_section_event_tags &&
                        ((a.smart_section_type = "recent_events"),
                        (a.smart_section_event_tags = void 0),
                        i.SetDirty(o.c.jsondata_sales))
                      : ((a.smart_section_type = "recent_tagged_events"),
                        (a.smart_section_event_tags = [t]),
                        i.SetDirty(o.c.jsondata_sales));
                  });
                },
                value:
                  (null === (t = a.smart_section_event_tags) || void 0 === t
                    ? void 0
                    : t.length) > 0
                    ? a.smart_section_event_tags[0]
                    : "",
                tooltip: Object(E.f)("#Sale_EventTagsToSearch_ttip"),
                placeholder: Object(E.f)("#Sale_EventTagsToSearch_Placeholder"),
              })
            )
          );
        }),
        te = (function (e) {
          function t(t) {
            var a = e.call(this, t) || this;
            a.state = {};
            var n = a.props.saleSection;
            if (
              (n.event_schedule_categories ||
                (n.event_schedule_categories = []),
              !n.event_schedule_rtime_start)
            ) {
              var i = new Date();
              i.setHours(10),
                i.setMinutes(0),
                i.setSeconds(0),
                (n.event_schedule_rtime_start = Math.floor(i.getTime() / 1e3));
            }
            return (
              n.event_schedule_rtime_end ||
                (n.event_schedule_rtime_end =
                  n.event_schedule_rtime_start + 3600),
              a
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnCategoryCheck = function (e, t) {
              var a = this.props.saleSection,
                n = this.GetCategoryIndex(t);
              e && -1 == n
                ? (a.event_schedule_categories ||
                    (a.event_schedule_categories = []),
                  a.event_schedule_categories.push({
                    type: t.type,
                    tags: t.tags || [],
                  }),
                  this.props.editModel.SetDirty(o.c.jsondata_sales))
                : e ||
                  -1 == n ||
                  (a.event_schedule_categories.splice(n, 1),
                  this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.GetCategoryIndex = function (e) {
              var t = this.props.saleSection;
              return t.event_schedule_categories
                ? t.event_schedule_categories.findIndex(function (t) {
                    return (
                      t.type == e.type &&
                      Object(L.a)(t.tags || [], e.tags || [])
                    );
                  })
                : -1;
            }),
            (t.prototype.BContainsCategory = function (e) {
              return -1 != this.GetCategoryIndex(e);
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                a = t.editModel,
                n = t.saleSection,
                i = new Array();
              for (var r in c.b) {
                var l = c.b[r];
                Object(R.a)(l.type) &&
                  i.push(
                    u.createElement(ae, {
                      key: "gs-" + r,
                      category: l,
                      fnCategoryToggle: this.OnCategoryCheck,
                      fnContainCategory: this.BContainsCategory,
                    })
                  );
              }
              var s = new Array();
              if (F.h.is_support)
                for (var r in c.c) {
                  l = c.c[r];
                  s.push(
                    u.createElement(ae, {
                      key: "gs-" + r,
                      category: l,
                      fnCategoryToggle: this.OnCategoryCheck,
                      fnContainCategory: this.BContainsCategory,
                    })
                  );
                }
              var d = a.GetEventModel().jsondata.sale_opt_in_page_name;
              return u.createElement(
                "div",
                null,
                u.createElement(
                  "p",
                  null,
                  Object(E.f)("#EventEditor_SaleEventSchedule")
                ),
                u.createElement(
                  "p",
                  null,
                  Object(E.n)(
                    "#EventEditor_SaleEventSchedule_NewsHub",
                    u.createElement(
                      "a",
                      {
                        href: F.c.STORE_BASE_URL + "newshub/sale/" + a.GetGID(),
                        target: F.c.IN_CLIENT ? void 0 : "_blank",
                      },
                      Object(E.f)("#EventEditor_SaleEventSchedule_NewsHubToken")
                    )
                  )
                ),
                u.createElement(vt, {
                  varName: "show_as_demos",
                  editModel: a,
                  section: n,
                  textToken: "#EventEditor_SaleEventSchedule_FeatureDemos",
                  ttipToken: "#EventEditor_SaleEventSchedule_FeatureDemos_ttip",
                }),
                u.createElement(
                  "p",
                  null,
                  Object(E.f)("#EventEditor_SaleEventSchedule_Range")
                ),
                u.createElement(ce, {
                  saleSection: n,
                  editModel: a,
                  bSetDefaultIfMissing: !0,
                  elSetStartTime: u.createElement(
                    m.d,
                    {
                      disabled: 0 == a.GetEventStartTime(),
                      onClick: function () {
                        (n.event_schedule_rtime_start = a.GetEventStartTime()),
                          a.SetDirty(o.c.jsondata_sales);
                      },
                    },
                    Object(E.f)("#EventEditor_SaleEventSchedule_SetToStart")
                  ),
                  elSetEndTime: u.createElement(
                    m.d,
                    {
                      disabled: 0 == a.GetEventEndTime(),
                      onClick: function () {
                        (n.event_schedule_rtime_end = a.GetEventEndTime()),
                          a.SetDirty(o.c.jsondata_sales);
                      },
                    },
                    Object(E.f)("#EventEditor_SaleEventSchedule_SetToEnd")
                  ),
                }),
                u.createElement(ne, {
                  editModel: a,
                  saleSection: n,
                  selectedTrack: this.state.selectedTrack,
                  fnSelectTrack: function (t) {
                    e.setState({
                      selectedTrack: e.state.selectedTrack === t ? void 0 : t,
                    });
                  },
                }),
                Boolean(this.state.selectedTrack) &&
                  u.createElement(oe, {
                    editModel: a,
                    track: this.state.selectedTrack,
                    saleSection: n,
                  }),
                u.createElement(
                  "p",
                  null,
                  Object(E.f)("#EventEditor_SaleEventSchedule_Desc")
                ),
                Boolean(F.h.is_support) &&
                  u.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        I.ValveOnlyBackground,
                        P.EventCategoryCtn
                      ),
                    },
                    s
                  ),
                Boolean(F.h.is_support && d) &&
                  u.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        I.ValveOnlyBackground,
                        P.EventCategoryCtn
                      ),
                    },
                    u.createElement(
                      "div",
                      null,
                      "Use OptIn ",
                      a.GetEventModel().jsondata.sale_opt_in_page_name,
                      " Event Typpe (please ensure the custom event type Live Stream exists and is published)"
                    ),
                    u.createElement(ae, {
                      key: "gs-" + d,
                      category: {
                        name: "OptIn Custom Name Not Imported yet",
                        description: "TODO",
                        icon: "11",
                        type: 11,
                        tags: [d],
                      },
                      fnCategoryToggle: this.OnCategoryCheck,
                      fnContainCategory: this.BContainsCategory,
                    })
                  ),
                u.createElement("div", { className: P.EventCategoryCtn }, i)
              );
            }),
            Object(n.c)([b.a], t.prototype, "OnCategoryCheck", null),
            Object(n.c)([b.a], t.prototype, "GetCategoryIndex", null),
            Object(n.c)([b.a], t.prototype, "BContainsCategory", null),
            (t = Object(n.c)([d.a], t))
          );
        })(u.Component),
        ae = function (e) {
          var t = e.category,
            a = e.fnCategoryToggle,
            n = e.fnContainCategory;
          return u.createElement(
            M.a,
            {
              direction: "top",
              className: Object(N.a)(P.EventCategoryWidth),
              toolTipContent: Object(E.f)(t.description),
            },
            u.createElement(m.e, {
              label: Object(E.f)(t.name),
              checked: n(t),
              onChange: function (e) {
                return a(e, t);
              },
            })
          );
        },
        ne = Object(d.a)(function (e) {
          var t = e.editModel,
            a = e.saleSection,
            n = e.fnSelectTrack;
          return u.createElement(
            "div",
            null,
            u.createElement(
              "div",
              { className: I.EventEditorTextTitle },
              Object(E.f)("#EventSchedule_Track_Current"),
              u.createElement(K.b, {
                tooltip: Object(E.f)("#EventSchedule_Track_Current_ttip"),
              })
            ),
            Boolean(a.event_schedule_tracks)
              ? u.createElement(G.a, {
                  items: a.event_schedule_tracks,
                  onDelete: function (e) {
                    Object(w.d)(
                      u.createElement(g.d, {
                        strTitle: Object(E.f)(
                          "#EventSchedule_DeletePrompt_Title"
                        ),
                        strDescription: Object(E.f)(
                          "#EventSchedule_DeletePrompt_Body"
                        ),
                        onOK: function () {
                          a.event_schedule_tracks.splice(e, 1),
                            t.SetDirty(o.c.jsondata_sales),
                            n(null);
                        },
                      }),
                      window
                    );
                  },
                  onReorder: function () {
                    return t.SetDirty(o.c.jsondata_sales);
                  },
                  render: function (t) {
                    return u.createElement(ie, {
                      track: t,
                      selected: t === e.selectedTrack,
                      fnOnSelect: e.fnSelectTrack,
                      index: e.saleSection.event_schedule_tracks.indexOf(t),
                    });
                  },
                })
              : u.createElement(
                  "div",
                  null,
                  Object(E.f)("#EventSchedule_NoTracks")
                ),
            u.createElement(
              M.a,
              { toolTipContent: Object(E.f)("#EventSchedule_AddTrack_ttip") },
              u.createElement(
                m.q,
                {
                  onClick: function () {
                    a.event_schedule_tracks || (a.event_schedule_tracks = []);
                    var e = a.event_schedule_tracks.reduce(function (e, t) {
                      return Math.max(e, t.unique_id);
                    }, 0);
                    a.event_schedule_tracks.push({
                      unique_id: e + 1,
                      localized_track_image: [],
                      events: [],
                    }),
                      t.SetDirty(o.c.jsondata_sales);
                  },
                },
                Object(E.f)("#EventSchedule_AddTrack")
              )
            )
          );
        }),
        ie = function (e) {
          return u.createElement(
            "div",
            {
              className: Object(N.a)(
                S.TabsSelectorEntry,
                e.selected && S.TabsSelectorEntrySelected
              ),
              onClick: function () {
                return e.fnOnSelect(e.track);
              },
            },
            Object(E.f)(
              "#EventSchedule_Unlabled_Track",
              e.index ? e.index + 1 : 1
            )
          );
        };
      function re(e, t, a, n) {
        Object(y.a)(
          u.createElement(T.a, {
            onChange: function (e) {
              (t[n] = e), a.SetDirty(o.c.jsondata_sales);
            },
            color: t[n],
          }),
          e,
          { bDisablePopTop: !0 }
        );
      }
      var oe = Object(d.a)(function (e) {
        var t = e.saleSection,
          a = e.track,
          n = e.editModel,
          i = a.localized_track_image.reduce(function (e, t) {
            return t ? e + 1 : e;
          }, 0),
          r =
            "linear-gradient(to right, " +
            ((null == a ? void 0 : a.background_gradient_left) ||
              "transparent") +
            " 0%, " +
            ((null == a ? void 0 : a.background_gradient_right) ||
              "transparent") +
            " 100%)",
          o =
            "linear-gradient(to right, " +
            ((null == a ? void 0 : a.selected_background_gradient_left) ||
              "transparent") +
            " 0%, " +
            ((null == a ? void 0 : a.selected_background_gradient_right) ||
              "transparent") +
            " 100%)",
          l =
            "linear-gradient(to right, " +
            ((null == a ? void 0 : a.encore_background_gradient_left) ||
              "transparent") +
            " 0%, " +
            ((null == a ? void 0 : a.encore_background_gradient_right) ||
              "transparent") +
            " 100%)",
          s =
            "linear-gradient(to right, " +
            ((null == a
              ? void 0
              : a.selected_encore_background_gradient_left) || "transparent") +
            " 0%, " +
            ((null == a
              ? void 0
              : a.selected_encore_background_gradient_right) || "transparent") +
            " 100%)";
        return u.createElement(
          "div",
          null,
          u.createElement(
            m.d,
            {
              onClick: function (e) {
                Object(w.d)(
                  u.createElement(f, {
                    loc_images: a.localized_track_image,
                    fnSetImage: function (e, t) {
                      a.localized_track_image = E.a.Set(
                        a.localized_track_image || [],
                        e,
                        t
                      );
                    },
                    editModel: n,
                    artworkType: "schedule_track_art",
                  }),
                  Object(B.m)(e)
                );
              },
            },
            Boolean(i > 0)
              ? Object(E.l)("#selectimage_managing_n_existing_title", i)
              : Object(E.f)("#selectimage_uploading_title")
          ),
          u.createElement(
            "div",
            null,
            Object(E.f)("#Sale_Section_EventTrackColors")
          ),
          u.createElement(
            "div",
            { className: I.FlexRowContainer },
            u.createElement(
              "div",
              null,
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return re(e, a, n, "label_color");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: a.label_color },
                },
                Object(E.f)("#Sale_Section_Premiere_Label_Color")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return re(e, a, n, "background_gradient_left");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: a.label_color, background: r },
                },
                Object(E.f)("#Sale_Section_Premiere_Background_Left")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return re(e, a, n, "background_gradient_right");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: a.label_color, background: r },
                },
                Object(E.f)("#Sale_Section_Premiere_Background_Right")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return re(e, a, n, "selected_background_gradient_left");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: a.label_color, background: o },
                },
                Object(E.f)("#Sale_Section_Premiere_Selected_Background_Left")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return re(e, a, n, "selected_background_gradient_right");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: a.label_color, background: o },
                },
                Object(E.f)("#Sale_Section_Premiere_Selected_Background_Right")
              )
            ),
            u.createElement(
              "div",
              null,
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return re(e, a, n, "encore_label_color");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: a.encore_label_color },
                },
                Object(E.f)("#Sale_Section_Encore_Label_Color")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return re(e, a, n, "encore_background_gradient_left");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: a.encore_label_color, background: l },
                },
                Object(E.f)("#Sale_Section_Encore_Background_Left")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return re(e, a, n, "encore_background_gradient_right");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: a.encore_label_color, background: l },
                },
                Object(E.f)("#Sale_Section_Encore_Background_Right")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return re(
                      e,
                      a,
                      n,
                      "selected_encore_background_gradient_left"
                    );
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: a.encore_label_color, background: s },
                },
                Object(E.f)("#Sale_Section_Encore_Selected_Background_Left")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return re(
                      e,
                      a,
                      n,
                      "selected_encore_background_gradient_right"
                    );
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: a.encore_label_color, background: s },
                },
                Object(E.f)("#Sale_Section_Encore_Selected_Background_Right")
              )
            )
          ),
          Boolean(
            n.GetEventModel().jsondata.sale_opt_in_page_name &&
              t.event_schedule_categories.some(function (e) {
                return e.tags.includes(
                  n.GetEventModel().jsondata.sale_opt_in_page_name
                );
              })
          ) &&
            u.createElement(
              k.b,
              { clanSteamID: n.GetClanSteamID(), requireAdmin: !0 },
              u.createElement(
                "div",
                null,
                "Opt-in Event and Custom Event Tag in activated. If events are not appearing in the schedule then it may mean they are missing Opt-In Tag."
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return Object(w.d)(
                      u.createElement(le, { editModel: n, rgEvents: a.events }),
                      Object(B.m)(e)
                    );
                  },
                },
                "Add Missing Tags"
              )
            ),
          u.createElement(
            "div",
            null,
            Object(E.f)("#EventSchedule_EventValidDesc")
          ),
          u.createElement(X, {
            editModel: n,
            saleSection: a,
            fnIsValidEvent: function (e) {
              return (
                e &&
                e.startTime >= t.event_schedule_rtime_start &&
                e.endTime <= t.event_schedule_rtime_end &&
                (function (e, t, a) {
                  return (
                    t.some(function (t) {
                      return t.type == e.type && e.BMatchesAllTags(t.tags);
                    }) ||
                    (null == a
                      ? void 0
                      : a.some(function (t) {
                          return t.events.some(function (t) {
                            return t.announcement_gid == e.AnnouncementGID;
                          });
                        }))
                  );
                })(e, t.event_schedule_categories, t.event_schedule_tracks)
              );
            },
          })
        );
      });
      function le(e) {
        var t = this,
          a = e.editModel,
          i = e.rgEvents,
          o = e.closeModal,
          l = a.GetEventModel().jsondata.sale_opt_in_page_name,
          s = i.filter(function (e) {
            return !j.d
              .GetClanEventFromAnnouncementGID(e.announcement_gid)
              .BHasTag(l);
          }),
          c = u.useState(!1),
          d = c[0],
          p = c[1],
          m = u.useState(null),
          _ = m[0],
          b = m[1],
          h = u.useState(!1),
          v = h[0],
          f = h[1],
          S = u.useState(0),
          O = S[0],
          y = S[1];
        return u.createElement(
          g.d,
          {
            strTitle: "Track and Custom OptIn Event Sync",
            strDescription:
              "The following number of featured events " +
              s.length +
              " as missing the custom tag '" +
              l +
              "' from the opt-in.  Click ok to add the missing tag. This will take a short while before solr is updated and the events appear in the results.",
            bOKDisabled: 0 == s.length || d || Boolean(_) || v,
            onOK: function () {
              return Object(n.b)(t, void 0, void 0, function () {
                var e,
                  t,
                  a = this;
                return Object(n.e)(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        p(!0),
                        (e = s.map(function (e) {
                          return Object(n.b)(a, void 0, void 0, function () {
                            var t, a, i, o, s, c;
                            return Object(n.e)(this, function (n) {
                              switch (n.label) {
                                case 0:
                                  return (
                                    (t =
                                      F.c.STORE_BASE_URL +
                                      "events_admin/ajaxupdatetags"),
                                    (a = new C.a(e.clan_steamid)),
                                    (i = new FormData()).append(
                                      "sessionid",
                                      F.c.SESSIONID
                                    ),
                                    i.append(
                                      "clan_accountid",
                                      "" + a.GetAccountID()
                                    ),
                                    i.append(
                                      "gid_announcement",
                                      e.announcement_gid
                                    ),
                                    i.append("add_tags", l),
                                    [4, r.a.post(t, i, { withCredentials: !0 })]
                                  );
                                case 1:
                                  return (
                                    (o = n.sent()),
                                    (s = Boolean(
                                      200 == (null == o ? void 0 : o.status) &&
                                        1 ==
                                          (null ===
                                            (c = null == o ? void 0 : o.data) ||
                                          void 0 === c
                                            ? void 0
                                            : c.success)
                                    )) ||
                                      (b(
                                        "Failed to update tags custom for " + l
                                      ),
                                      console.log(
                                        "Failed to update tags custom for " + l,
                                        e
                                      )),
                                    [2, s]
                                  );
                              }
                            });
                          });
                        })),
                        [4, Promise.all(e)]
                      );
                    case 1:
                      return (
                        (t = i.sent()),
                        y(t.filter(Boolean).length),
                        f(!0),
                        p(!1),
                        [2]
                      );
                  }
                });
              });
            },
            strCancelButtonText: Boolean(v) ? Object(E.f)("#Done") : void 0,
            closeModal: o,
          },
          Boolean(d) &&
            u.createElement(A.a, {
              string: Object(E.f)("#Updating"),
              size: "medium",
              position: "center",
            }),
          Boolean(v) &&
            u.createElement(
              "div",
              null,
              "Operation Completed, ",
              O,
              ", reload page to confirm."
            ),
          Boolean(_) &&
            u.createElement(
              "div",
              { className: I.Error },
              "Error Encountered: ",
              _,
              " and more info in console logs."
            )
        );
      }
      var se = function (e) {
          var t = new Date(1e3 * e);
          return t.setSeconds(0), Math.floor(t.getTime() / 1e3);
        },
        ce = Object(d.a)(function (e) {
          var t = e.saleSection,
            a = e.editModel,
            n = e.bSetDefaultIfMissing;
          return (
            u.useEffect(
              function () {
                n &&
                  Object(O.G)(function () {
                    if (!t.event_schedule_rtime_start) {
                      var e = new Date();
                      e.setHours(10),
                        e.setMinutes(0),
                        e.setSeconds(0),
                        (t.event_schedule_rtime_start = Math.floor(
                          e.getTime() / 1e3
                        )),
                        a.SetDirty(o.c.jsondata_sales);
                    }
                    t.event_schedule_rtime_end ||
                      ((t.event_schedule_rtime_end =
                        t.event_schedule_rtime_start + 3600),
                      a.SetDirty(o.c.jsondata_sales));
                  });
              },
              [t, a, n]
            ),
            u.createElement(
              u.Fragment,
              null,
              u.createElement(D.a, {
                strDescription: Object(E.f)("#EventEditor_Starts"),
                nEarliestTime: 0,
                fnGetTimeToUpdate: function () {
                  return t.event_schedule_rtime_start;
                },
                fnSetTimeToUpdate: function (e) {
                  (e = se(e)),
                    t.event_schedule_rtime_start != e &&
                      ((t.event_schedule_rtime_start = e),
                      t.event_schedule_rtime_end < e &&
                        (t.event_schedule_rtime_end = e + 3600),
                      a.SetDirty(o.c.jsondata_sales));
                },
                fnIsValidDateTime: function () {
                  return !0;
                },
                bShowTimeZone: !0,
                className: e.elSetStartTime && P.SingleLine,
              }),
              Boolean(e.elSetStartTime) &&
                u.createElement(
                  "div",
                  { className: P.SingleLine },
                  e.elSetStartTime
                ),
              u.createElement(D.a, {
                strDescription: Object(E.f)("#EventEditor_Ends"),
                nEarliestTime: 0,
                fnGetTimeToUpdate: function () {
                  return t.event_schedule_rtime_end;
                },
                fnSetTimeToUpdate: function (e) {
                  (e = se(e)),
                    t.event_schedule_rtime_end != e &&
                      ((t.event_schedule_rtime_end = e),
                      t.event_schedule_rtime_end <
                        t.event_schedule_rtime_start &&
                        (t.event_schedule_rtime_end =
                          t.event_schedule_rtime_start + 3600),
                      a.SetDirty(o.c.jsondata_sales));
                },
                fnIsValidDateTime: function () {
                  return !0;
                },
                bShowTimeZone: !0,
                className: e.elSetEndTime && P.SingleLine,
              }),
              Boolean(e.elSetEndTime) &&
                u.createElement(
                  "div",
                  { className: P.SingleLine },
                  e.elSetEndTime
                )
            )
          );
        }),
        de = a("CoyA"),
        ue = a("wUcC"),
        pe = a("Zan1"),
        me = a("+w6J"),
        _e = Object(d.a)(function (e) {
          var t = e.editModel,
            a = e.saleSection,
            i = u.useState(new p.b(t.GetClanSteamID()))[0],
            r = function (e, a, n) {
              (e[n] = a), t.SetDirty(o.c.jsondata_sales);
            },
            c = function (e) {
              Object(w.d)(
                u.createElement(f, {
                  loc_images: e
                    ? a.localized_sale_product_mobile_banner_override
                    : a.localized_sale_product_banner_override,
                  fnSetImage: function (t, n) {
                    e
                      ? (a.localized_sale_product_mobile_banner_override = E.a.Set(
                          a.localized_sale_product_mobile_banner_override,
                          t,
                          n
                        ))
                      : (a.localized_sale_product_banner_override = E.a.Set(
                          a.localized_sale_product_banner_override,
                          t,
                          n
                        ));
                  },
                  editModel: t,
                  artworkType: e
                    ? "product_mobile_banner_override"
                    : "product_banner_override",
                }),
                window
              );
            },
            d = function (e) {
              var t = "SaleSection_" + a.unique_id;
              return e && (t += "_" + e), t;
            },
            _ =
              "linear-gradient(0deg, " +
              (a.background_gradient_bottom || "transparent") +
              " 0%, " +
              (a.background_gradient_top || "transparent") +
              " 100%)",
            b = "tabs" !== a.section_type;
          return u.createElement(
            K.c,
            {
              title: Object(E.f)("#Sale_Section_Background_Title"),
              tooltip: Object(E.f)("#Sale_Section_Background_Title_ttip"),
              getMinimized: function () {
                return (e = "background"), (t = !0), Object(l.a)(d(e), t);
                var e, t;
              },
              toggleMinimized: function () {
                return (e = "background"), (t = !0), void Object(l.d)(d(e), t);
                var e, t;
              },
            },
            u.createElement(
              "div",
              { style: { display: "flex" }, className: Q.BackgroundSettings },
              u.createElement(
                "div",
                { className: Object(N.a)(I.HalfColumn, Q.HalfColumn) },
                u.createElement(
                  "div",
                  { className: I.EventEditorTextTitle },
                  Object(E.f)("#Sale_Section_BackgroundColors_Title"),
                  " "
                ),
                u.createElement(
                  m.d,
                  {
                    onClick: function (e) {
                      Object(y.a)(
                        u.createElement(T.a, {
                          onChange: function (e) {
                            r(a, e, "label_color");
                          },
                          color: a.label_color,
                        }),
                        e,
                        { bDisablePopTop: !0 }
                      );
                    },
                    className: I.EventEditorTextTitle,
                    style: { color: a.label_color },
                  },
                  Object(E.f)("#Sale_Section_Label_Color")
                ),
                !a.disable_background &&
                  u.createElement(
                    u.Fragment,
                    null,
                    u.createElement(
                      m.d,
                      {
                        onClick: function (e) {
                          Object(y.a)(
                            u.createElement(T.a, {
                              onChange: function (e) {
                                return r(a, e, "background_gradient_top");
                              },
                              color: a.background_gradient_top,
                            }),
                            e,
                            { bDisablePopTop: !0 }
                          );
                        },
                        className: I.EventEditorTextTitle,
                        style: { color: a.label_color, background: _ },
                      },
                      Object(E.f)("#Sale_Section_Background_Top")
                    ),
                    u.createElement(
                      m.d,
                      {
                        onClick: function (e) {
                          Object(y.a)(
                            u.createElement(T.a, {
                              onChange: function (e) {
                                return r(a, e, "background_gradient_bottom");
                              },
                              color: a.background_gradient_bottom,
                            }),
                            e,
                            { bDisablePopTop: !0 }
                          );
                        },
                        className: I.EventEditorTextTitle,
                        style: { color: a.label_color, background: _ },
                      },
                      Object(E.f)("#Sale_Section_Background_Bottom")
                    )
                  ),
                u.createElement(vt, {
                  varName: "disable_background",
                  editModel: t,
                  section: a,
                  textToken: "#Sale_Section_DisableBackground",
                  ttipToken: "#Sale_Section_DisableBackground_ttip",
                })
              ),
              Boolean(b && !a.disable_background) &&
                u.createElement(
                  "div",
                  { className: Object(N.a)(I.HalfColumn, Q.HalfColumn) },
                  u.createElement(
                    "div",
                    { className: I.EventEditorTextTitle },
                    Object(E.f)("#Sale_Section_BackgroundImage_Title"),
                    " ",
                    u.createElement(K.b, {
                      tooltip: Object(E.f)(
                        "#Sale_Section_BackgroundImage_ttip"
                      ),
                    })
                  ),
                  u.createElement(s.b, {
                    bAllowPreviousClanImages: !0,
                    onDropFiles: function (e) {
                      return Object(n.b)(void 0, void 0, void 0, function () {
                        var r, l, s, c, d;
                        return Object(n.e)(this, function (n) {
                          switch (n.label) {
                            case 0:
                              return e && e.length > 0
                                ? ((r = ["sale_section_background"]),
                                  [4, i.AddImage(e[0], 0, r)])
                                : [3, 4];
                            case 1:
                              return n.sent()
                                ? [3, 2]
                                : (console.error(
                                    "SaleSection.OnDropFiles: failed file=" +
                                      e[0].name
                                  ),
                                  Object(w.d)(
                                    u.createElement(g.f, {
                                      strDescription: Object(E.f)(
                                        "#ImagePicker_Error",
                                        e[0].name
                                      ),
                                    }),
                                    window
                                  ),
                                  [3, 4]);
                            case 2:
                              return [4, i.UploadAllFiles(r)];
                            case 3:
                              (l = n.sent()),
                                (s = l[Object.keys(l)[0]]),
                                (c = s ? p.a.GetExtensionString(s) : null),
                                (d = s ? s.image_hash + c : null),
                                (a.background_image = d),
                                t.SetDirty(o.c.jsondata_sales),
                                (n.label = 4);
                            case 4:
                              return [2];
                          }
                        });
                      });
                    },
                    OnClanImageSelected: function (e, i) {
                      return Object(n.b)(void 0, void 0, void 0, function () {
                        var i, r;
                        return Object(n.e)(this, function (n) {
                          return (
                            (i = e ? p.a.GetExtensionString(e) : null),
                            (r = e ? e.image_hash + i : null),
                            (a.background_image = r),
                            t.SetDirty(o.c.jsondata_sales),
                            [2]
                          );
                        });
                      });
                    },
                    clanSteamID: t.GetClanSteamID(),
                    fnSetImageURL: t.SetImageURL,
                    rgRealmList: t.GetIncludedRealmList(),
                  }),
                  u.createElement(
                    k.b,
                    { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
                    u.createElement(
                      m.d,
                      {
                        onClick: function (e) {
                          e.preventDefault(), e.stopPropagation(), c(!1);
                        },
                        "data-tooltip-text": Object(E.f)(
                          "#Sale_Seciton_BannerImage_Override_ttip"
                        ),
                        className: I.EventEditorTextTitle,
                      },
                      Object(E.f)("#Sale_Seciton_BannerImage_Override")
                    ),
                    u.createElement(
                      m.d,
                      {
                        onClick: function (e) {
                          e.preventDefault(), e.stopPropagation(), c(!0);
                        },
                        "data-tooltip-text": Object(E.f)(
                          "#Sale_Seciton_BannerImage_Override_ttip"
                        ),
                        className: I.EventEditorTextTitle,
                      },
                      Object(E.f)("#Sale_Seciton_MobileBannerImage_Override")
                    ),
                    Boolean(
                      void 0 !== a.localized_sale_product_banner_override ||
                        void 0 !==
                          a.localized_sale_product_mobile_banner_override
                    ) &&
                      u.createElement(
                        m.d,
                        {
                          onClick: function () {
                            (a.localized_sale_product_banner_override = void 0),
                              (a.localized_sale_product_mobile_banner_override = void 0),
                              t.SetDirty(o.c.jsondata_sales);
                          },
                          className: I.EventEditorTextTitle,
                        },
                        Object(E.f)("#Sale_Section_BannerImage_Clear")
                      )
                  ),
                  u.createElement(
                    m.d,
                    {
                      onClick: function () {
                        (a.background_image = null),
                          t.SetDirty(o.c.jsondata_sales);
                      },
                      className: I.EventEditorTextTitle,
                    },
                    Object(E.f)("#Sale_Section_Background_Clear")
                  )
                )
            )
          );
        }),
        ge = a("48GZ"),
        Ee = a("4lry"),
        be = a("Cs6D"),
        he = a("ZeAL"),
        ve = a("Yamg"),
        fe = a("3+zv"),
        Se = a("qD+2"),
        Oe = a("R+8l"),
        ye = a("oVVc"),
        Ce = a("UWWC"),
        je = a("4P4B"),
        Te = a("IjL/"),
        Ie = a("6AJf"),
        De = a("nxSy"),
        we = a("zoRj"),
        Ge = a("gyoR"),
        Ae = a("MnIK"),
        Me = a("6Y59"),
        ke = a("YyVH"),
        Le = a("IzPI"),
        Ne = (function () {
          function e() {
            "dev" === F.c.WEB_UNIVERSE &&
              (window.g_ContentHubNamesStore = this);
          }
          return (
            (e.prototype.BHasContentHubNames = function () {
              return Boolean(this.m_hubNames);
            }),
            (e.prototype.GetContentHubNames = function () {
              return this.m_hubNames;
            }),
            (e.prototype.LoadContentHubNames = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                return Object(n.e)(this, function (e) {
                  return this.m_hubNames
                    ? [2]
                    : (this.m_promise ||
                        (this.m_promise = this.InternalLoadContentHubNames()),
                      [2, this.m_promise]);
                });
              });
            }),
            (e.prototype.InternalLoadContentHubNames = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a, i, o, l, s, c, d, u, p, m;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        n.trys.push([0, 2, , 3]),
                        (t =
                          F.c.STORE_BASE_URL + "contenthub/ajaxgetcontenthubs"),
                        (a = { origin: self.origin }),
                        [4, r.a.get(t, { params: a })]
                      );
                    case 1:
                      return 1 !== (i = n.sent()).data.success
                        ? [2, null]
                        : ((e = i.data), [3, 3]);
                    case 2:
                      return n.sent(), [2, null];
                    case 3:
                      for (
                        o = new Map(), l = 0, s = Object.keys(e.categories);
                        l < s.length;
                        l++
                      )
                        (c = s[l]), o.set(c, e.categories[c]);
                      for (
                        d = new Map(), u = 0, p = Object.keys(e.tags);
                        u < p.length;
                        u++
                      )
                        (m = p[u]), d.set(Number(m), e.tags[m]);
                      return (
                        (this.m_hubNames = {
                          hubtypes: e.hubtypes,
                          categories: o,
                          tags: d,
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.Get = function () {
              return e.s_singleton || (e.s_singleton = new e()), e.s_singleton;
            }),
            e
          );
        })();
      var Be = a("UCyf"),
        Re = a("5izx"),
        Fe = a("BRUS"),
        Pe = a("66At"),
        xe = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnShowOnlySaleWhiteListedBroadcasts = function (e) {
              this.props.editModel.GetEventModel().jsondata
                .sale_only_whitelisted_broadcasts !== e &&
                ((this.props.editModel.GetEventModel().jsondata.sale_only_whitelisted_broadcasts = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.BIsFirstBroadcastSaleSection = function () {
              for (var e = 0; e < this.props.index; e++) {
                if (
                  "broadcast" ==
                  this.props.editModel.GetEventModel().GetSaleSections()[e]
                    .section_type
                )
                  return !1;
              }
              return !0;
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.editModel,
                a =
                  (e.saleSection,
                  u.createElement(
                    W.c,
                    {
                      eventModel: t.GetEventModel(),
                      route: W.a.k_eCommunityEditBroadcast,
                      className: Q.CrossTabLink,
                    },
                    Object(E.f)("#Sale_Broadcast_TabLink")
                  ));
              return t.GetEventModel().BHasBroadcastEnabled()
                ? this.BIsFirstBroadcastSaleSection()
                  ? u.createElement(
                      u.Fragment,
                      null,
                      u.createElement(
                        "div",
                        { className: I.InputBorder },
                        u.createElement(m.p, {
                          onChange: this.OnShowOnlySaleWhiteListedBroadcasts,
                          label: Object(E.f)(
                            "#Sale_BroadcastOnlyWhiteListedInSale"
                          ),
                          tooltip: Object(E.f)(
                            "#Sale_BroadcastOnlyWhiteListedInSale_ttip"
                          ),
                          checked: t.GetEventModel().jsondata
                            .sale_only_whitelisted_broadcasts,
                        })
                      ),
                      a
                    )
                  : u.createElement(
                      "div",
                      { className: Q.CrossTabWarning },
                      Object(E.f)("#Sale_ShowingBroadcastElsewhere")
                    )
                : u.createElement(
                    u.Fragment,
                    null,
                    a,
                    u.createElement(
                      "div",
                      { className: Q.CrossTabWarning },
                      Object(E.f)("#Sale_Broadcast_Disabled"),
                      u.createElement(K.b, {
                        tooltip: Object(E.f)("#Sale_Broadcast_Disabled_hint"),
                      })
                    )
                  );
            }),
            Object(n.c)(
              [b.a],
              t.prototype,
              "OnShowOnlySaleWhiteListedBroadcasts",
              null
            ),
            (t = Object(n.c)([d.a], t))
          );
        })(u.Component),
        Ue = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_currentRequest = 0),
              (t.m_cancelSignal = r.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "CuratorSaleSection component unmounted"
              ),
                window.clearTimeout(this.m_currentRequest);
            }),
            (t.prototype.SetCurator = function (e) {
              this.props.saleSection.curator_clan_id != e.GetClanAccountID() &&
                ((this.props.saleSection.curator_clan_id = e.GetClanAccountID()),
                this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.UpdateCuratorSuggestions = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t,
                  a = this;
                return Object(n.e)(this, function (i) {
                  return (t = e.target.value) && 0 != t.trim().length
                    ? (window.clearTimeout(this.m_currentRequest),
                      (this.m_currentRequest = window.setTimeout(function () {
                        return Object(n.b)(a, void 0, void 0, function () {
                          var e,
                            a = this;
                          return Object(n.e)(this, function (n) {
                            switch (n.label) {
                              case 0:
                                return [
                                  4,
                                  H.a.SearchCreatorHomeStore(
                                    t,
                                    !1,
                                    this.m_cancelSignal
                                  ),
                                ];
                              case 1:
                                return (
                                  (e = n.sent()),
                                  (this.m_searchResultsMenu = Object(y.a)(
                                    u.createElement(
                                      z.c,
                                      { className: Q.SearchResults },
                                      e.map(function (e) {
                                        return u.createElement(
                                          z.d,
                                          {
                                            key:
                                              "curatorresult" +
                                              e.GetClanAccountID(),
                                            onSelected: function () {
                                              return a.SetCurator(e);
                                            },
                                          },
                                          u.createElement(
                                            "div",
                                            {
                                              style: {
                                                display: "flex",
                                                alignItems: "center",
                                              },
                                            },
                                            u.createElement(
                                              "div",
                                              {
                                                className:
                                                  Y.a.GameImageContainer,
                                              },
                                              u.createElement("img", {
                                                src: e.GetAvatarURLFullSize(),
                                                className: Y.a.AvatarImage,
                                              })
                                            ),
                                            Object(J.b)(e.GetName())
                                          )
                                        );
                                      })
                                    ),
                                    this.m_refInput.element,
                                    {
                                      bOverlapHorizontal: !0,
                                      bMatchWidth: !0,
                                      bFitToWindow: !0,
                                      bDisablePopTop: !0,
                                    }
                                  )),
                                  [2]
                                );
                            }
                          });
                        });
                      }, 300)),
                      [2])
                    : [2];
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.saleSection;
              return u.createElement(
                "div",
                null,
                u.createElement(
                  "div",
                  { className: Q.SaleImportURL },
                  u.createElement(m.l, {
                    type: "text",
                    label: Object(E.f)("#Sale_SearchCurator"),
                    onChange: this.UpdateCuratorSuggestions,
                    onBlur: function () {
                      setTimeout(function () {
                        return (
                          e.m_searchResultsMenu && e.m_searchResultsMenu.Hide()
                        );
                      }, 200);
                    },
                    ref: function (t) {
                      return (e.m_refInput = t);
                    },
                    tooltip: Object(E.f)("#Sale_SearchCurator_ttip"),
                  })
                ),
                Boolean(t.curator_clan_id) &&
                  u.createElement(Fe.a, {
                    creatorID: {
                      name: null,
                      clan_account_id: t.curator_clan_id,
                      type: "developer",
                    },
                    bShowTagline: !0,
                    bHideCreatorType: !0,
                  })
              );
            }),
            Object(n.c)([b.a], t.prototype, "SetCurator", null),
            Object(n.c)([b.a], t.prototype, "UpdateCuratorSuggestions", null),
            (t = Object(n.c)([d.a], t))
          );
        })(u.Component),
        He = Object(d.a)(function (e) {
          for (
            var t = e.editModel, a = e.index, n = t.GetEventModel(), i = 0;
            i < a;
            i++
          )
            if ("event_description" == n.GetSaleSections()[i].section_type)
              return u.createElement(
                "div",
                { className: Q.CrossTabWarning },
                Object(E.f)("#Sale_UsingEventBodyElsewhere")
              );
          return u.createElement(
            W.c,
            {
              eventModel: n,
              route: W.a.k_eCommunityEdit,
              className: Q.CrossTabLink,
            },
            Object(E.f)("#Sale_EventDescriptionTabLink")
          );
        }),
        Ve = Object(d.a)(function (e) {
          var t,
            a = e.editModel,
            i = e.index,
            l = a.GetEventModel(),
            s = l.GetSaleSections()[i],
            c = u.useState(!0),
            d = c[0],
            p = c[1];
          if (
            (u.useEffect(
              function () {
                var e = null;
                if (d)
                  if (
                    ((e = r.a.CancelToken.source()), s.featured_curator_list)
                  ) {
                    var t = new Array();
                    s.featured_curator_list.forEach(function (a) {
                      var n = C.a.InitFromClanID(a.clanAccountID);
                      t.push(Be.a.Get().LoadListDetails(n, a.listID, e));
                    }),
                      Promise.all(t).then(function () {
                        return p(!1);
                      });
                  } else (s.featured_curator_list = []), p(!1);
                return function () {
                  return null == e
                    ? void 0
                    : e.cancel("CuratorRecommendationWidgetEditor: unmounting");
                };
              },
              [d, s]
            ),
            d)
          )
            return u.createElement(A.a, {
              size: "medium",
              string: Object(E.f)("#Loading"),
            });
          for (var _ = !1, g = 0; g < i; g++)
            if (
              "curator_recommendation" == l.GetSaleSections()[g].section_type
            ) {
              _ = !0;
              break;
            }
          return u.createElement(
            "div",
            null,
            u.createElement(
              "div",
              null,
              Object(E.f)("#Sale_CuratorRecommendation_desc")
            ),
            u.createElement("br", null),
            u.createElement(D.a, {
              strDescription: Object(E.f)(
                "#Sale_CuratorRecommendation_StartTime"
              ),
              strDescToolTip: Object(E.f)(
                "#Sale_CuratorRecommendation_StartTime_ttip"
              ),
              nEarliestTime: a.GetEventStartTime(),
              nLatestTime: a.GetEventEndTime(),
              fnGetTimeToUpdate: function () {
                return (
                  s.featured_curator_list_rtime_start || a.GetEventStartTime()
                );
              },
              fnSetTimeToUpdate: function (e) {
                (e = se(e)),
                  s.featured_curator_list_rtime_start != e &&
                    ((s.featured_curator_list_rtime_start = e),
                    a.SetDirty(o.c.jsondata_sales));
              },
              fnIsValidDateTime: function () {
                return !0;
              },
              bShowTimeZone: !0,
            }),
            u.createElement(
              "div",
              { className: I.EventEditorTextTitle },
              Object(E.f)("#Sale_CuratorRecommendation_FeaturedList"),
              u.createElement(K.b, {
                tooltip: Object(E.f)(
                  "#Sale_CuratorRecommendation_FeaturedList_ttip"
                ),
              })
            ),
            u.createElement(G.a, {
              items: s.featured_curator_list,
              onDelete: function (e) {
                s.featured_curator_list.splice(e, 1),
                  a.SetDirty(o.c.jsondata_sales);
              },
              onReorder: function () {
                return a.SetDirty(o.c.jsondata_sales);
              },
              render: function (e) {
                return u.createElement(ze, { tuple: e });
              },
            }),
            u.createElement(
              m.d,
              {
                onClick: function (t) {
                  Object(w.d)(
                    u.createElement(We, Object(n.a)({}, e, { saleSection: s })),
                    Object(B.m)(t)
                  );
                },
              },
              Object(E.f)("#Sale_CuratorRecommendation_ChooseList")
            ),
            Boolean(
              (null === (t = s.featured_curator_list) || void 0 === t
                ? void 0
                : t.length) >= 2
            ) &&
              u.createElement(vt, {
                varName: "use_random_order",
                editModel: a,
                section: s,
                textToken: "#Sale_Section_FeaturedCurator_UseRandomOrder",
                ttipToken: "#Sale_Section_FeaturedCurator_UseRandomOrder_hint",
              }),
            _ &&
              u.createElement(
                "div",
                { className: Q.CrossTabWarning },
                Object(E.f)("#Sale_UsingCuratorRecommendationElsewhere")
              )
          );
        });
      var ze = Object(d.a)(function (e) {
          if (
            ((a = e.tuple),
            "object" == typeof (n = a) &&
              "number" == typeof n.clanAccountID &&
              "string" == typeof n.listID)
          ) {
            var t = Be.a.Get().GetListDetails(e.tuple.listID);
            return t
              ? u.createElement("div", null, t.title)
              : u.createElement(A.a, {
                  size: "small",
                  string: Object(E.f)("#Loading"),
                });
          }
          var a, n;
          return u.createElement("div", null, Object(E.f)("#Error"));
        }),
        We = Object(d.a)(function (e) {
          var t = e.saleSection,
            a = e.editModel,
            i = a.GetClanSteamID(),
            l = a.GetGID(),
            s = u.useState(!0),
            c = s[0],
            d = s[1],
            p = u.useState(null),
            _ = p[0],
            b = p[1],
            h = function () {
              return e.closeModal && e.closeModal();
            },
            v =
              a.GetEventModel().BIsVisibleEvent() &&
              a.GetEventStartTime() < Re.a.GetTimeNowWithOverride();
          u.useEffect(
            function () {
              var e = null;
              return (
                v
                  ? ((e = r.a.CancelToken.source()),
                    Be.a
                      .Get()
                      .LoadAllSaleCurationLists(i, l, e)
                      .then(function (e) {
                        if ((null == e ? void 0 : e.length) > 0) {
                          var t = new Array();
                          e.forEach(function (e) {
                            var a = Be.a
                                .Get()
                                .GetClanAccountFromListID(e.listid),
                              n = C.a.InitFromClanID(a);
                            t.push(U.a.LoadClanInfoForClanSteamID(n));
                          }),
                            Promise.all(t).then(function () {
                              return d(!1);
                            });
                        }
                      }))
                  : d(!1),
                function () {
                  return null == e
                    ? void 0
                    : e.cancel("FeatureCuratorListDialog: unmounting");
                }
              );
            },
            [v, i, l]
          );
          var f = {
              option: function (e) {
                return Object(n.a)(Object(n.a)({}, e), { color: "#444444" });
              },
            },
            S = new Array();
          Be.a
            .Get()
            .GetAllSaleCurationLists(a.GetGID())
            .forEach(function (e) {
              if (
                -1 ==
                t.featured_curator_list.findIndex(function (t) {
                  return t.listID == e.listid;
                })
              ) {
                var a = Be.a.Get().GetClanAccountFromListID(e.listid);
                S.push({ clanAccountID: a, list: e });
              }
            });
          var O = S.map(function (e) {
            var t = U.a.GetClanInfoByClanAccountID(e.clanAccountID),
              a = t ? t.group_name : "GroupID " + e.clanAccountID;
            return { label: (a += ": " + e.list.title), value: e.list.listid };
          });
          return u.createElement(
            Te.a,
            null,
            u.createElement(
              g.h,
              { onEscKeypress: h },
              u.createElement(
                m.f,
                null,
                u.createElement(
                  m.k,
                  null,
                  Object(E.f)("#Sale_CuratorRecommendation_ChooseList")
                ),
                u.createElement(
                  m.b,
                  null,
                  u.createElement(
                    m.c,
                    null,
                    u.createElement(
                      "div",
                      null,
                      Object(E.f)("#Sale_CuratorRecommendation_ChooseDesc")
                    ),
                    v
                      ? u.createElement(
                          "div",
                          { className: Pe.SelectArea },
                          c
                            ? u.createElement(A.a, {
                                size: "medium",
                                string: Object(E.f)("#Loading"),
                              })
                            : u.createElement(be.a, {
                                styles: f,
                                className: Pe.dropDown,
                                isSearchable: !0,
                                isMulti: !1,
                                options: O,
                                defaultMenuIsOpen: !1,
                                value: _,
                                onChange: function (e) {
                                  return b(e);
                                },
                              })
                        )
                      : u.createElement(
                          "div",
                          { className: Pe.DisplayWarning },
                          Object(E.f)(
                            "#Sale_CuratorRecommendation_ChooseInvalid"
                          )
                        )
                  )
                ),
                u.createElement(
                  m.j,
                  null,
                  u.createElement(m.n, {
                    onCancel: h,
                    bOKDisabled: null == _,
                    onOK: function () {
                      var e = _.value;
                      t.featured_curator_list.push({
                        clanAccountID: Be.a.Get().GetClanAccountFromListID(e),
                        listID: e,
                      }),
                        a.SetDirty(o.c.jsondata_sales),
                        h();
                    },
                  })
                )
              )
            )
          );
        }),
        qe = function (e) {
          return u.createElement(
            Te.a,
            null,
            u.createElement(
              vt,
              Object(n.a)(
                {
                  textToken: "#Sale_Section_CarouselAutoAdvance",
                  ttipToken: "#Sale_Section_CarouselAutoAdvance_Tooltip",
                  varName: "carousel_auto_advance",
                  valveOnly: !0,
                },
                e
              )
            )
          );
        },
        Ye = (function () {
          function e() {
            (this.m_mapSections = new Map()), (this.m_mapPromises = new Map());
          }
          return (
            (e.prototype.BHasSections = function (e, t, a) {
              return this.m_mapSections.has(this.GetKey(e, t, a));
            }),
            (e.prototype.GetSections = function (e, t, a) {
              return this.m_mapSections.get(this.GetKey(e, t, a));
            }),
            (e.prototype.LoadSections = function (e, t, a) {
              return Object(n.b)(this, void 0, void 0, function () {
                var i;
                return Object(n.e)(this, function (n) {
                  return (
                    (i = this.GetKey(e, t, a)),
                    this.m_mapPromises.get(i) ||
                      this.m_mapPromises.set(
                        i,
                        this.InternalLoadSections(e, t, a)
                      ),
                    [2, this.m_mapPromises.get(i)]
                  );
                });
              });
            }),
            (e.prototype.InternalLoadSections = function (e, t, a) {
              return Object(n.b)(this, void 0, void 0, function () {
                var i, o, l;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      n.label = 1;
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]),
                        (i =
                          F.c.STORE_BASE_URL +
                          "contenthub/ajaxgetcontenthubsections"),
                        (o = {
                          strHubType: e,
                          strCategory: t,
                          nTagID: a,
                          origin: self.origin,
                        }),
                        [4, r.a.get(i, { params: o })]
                      );
                    case 2:
                      return 1 !== (l = n.sent()).data.success
                        ? [2, null]
                        : (this.m_mapSections.set(
                            this.GetKey(e, t, a),
                            l.data.section_ids
                          ),
                          [2, l.data.section_ids]);
                    case 3:
                      return n.sent(), [2, null];
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.GetKey = function (e, t, a) {
              return e + "_" + t + "_" + a;
            }),
            (e.Get = function () {
              return (
                e.s_singleton ||
                  ((e.s_singleton = new e()),
                  "dev" === F.c.WEB_UNIVERSE &&
                    (window.g_ContentHubSectionsStore = e.s_singleton)),
                e.s_singleton
              );
            }),
            e
          );
        })();
      var Je = a("xs+m"),
        Qe = Object(d.a)(function (e) {
          var t = e.editModel,
            a = e.section,
            i = t.GetEventModel().jsondata.source_content_hub,
            r = (function (e, t, a) {
              var n = Ye.Get(),
                i = Object(u.useState)(!n.BHasSections(e, t, a)),
                r = i[0],
                o = i[1],
                l = Object(u.useState)(n.GetSections(e, t, a)),
                s = l[0],
                c = l[1];
              return (
                Object(u.useEffect)(
                  function () {
                    n.LoadSections(e, t, a).then(function () {
                      c(n.GetSections(e, t, a)), o(!1);
                    });
                  },
                  [n, e, t, a]
                ),
                { bLoading: r, rgSections: s }
              );
            })(i.type, i.category, i.tagid),
            l = r.bLoading,
            s = r.rgSections;
          if (l)
            return u.createElement(A.a, { size: "medium", position: "center" });
          var c = s.map(function (e) {
            return { label: e, value: e };
          });
          return u.createElement(
            Te.a,
            null,
            u.createElement(
              vt,
              Object(n.a)(
                {
                  textToken: "Show a specific carousel",
                  ttipToken:
                    "If checked, lets you specify which carousel to show.",
                  varName: "contenthub_section_show_specific_carousel",
                  valveOnly: !0,
                },
                e
              )
            ),
            u.createElement(
              "div",
              { className: Je.ContentHubSectionCtn },
              a.contenthub_section_show_specific_carousel &&
                u.createElement(
                  "div",
                  { className: Je.ContentHubSectionInnerCtn },
                  u.createElement(m.m, null, "ID"),
                  u.createElement(be.a, {
                    options: c,
                    value: c.find(function (e) {
                      return e.value === a.contenthub_section_id;
                    }),
                    onChange: function (e) {
                      (a.contenthub_section_id = e.value),
                        t.SetDirty(o.c.jsondata_sales);
                    },
                    isSearchable: !0,
                  })
                ),
              u.createElement(
                "div",
                { className: Je.ContentHubSectionInnerCtn },
                u.createElement(m.m, null, "Capsules Per Page"),
                u.createElement(m.l, {
                  type: "number",
                  min: 1,
                  max: 6,
                  value: a.contenthub_section_capsules_per_page,
                  onChange: function (e) {
                    (a.contenthub_section_capsules_per_page = Number(
                      e.target.value
                    )),
                      t.SetDirty(o.c.jsondata_sales);
                  },
                })
              )
            )
          );
        }),
        Ze = a("GOhU"),
        Ke = a("ZC8J"),
        Xe = a("CtwA");
      function $e(e) {
        return u.createElement(
          "div",
          null,
          u.createElement(at, Object(n.a)({}, e)),
          u.createElement("div", null, Object(E.f)("#Sale_ItemDef_Selected")),
          u.createElement(et, Object(n.a)({}, e))
        );
      }
      function et(e) {
        var t = Object(Z.d)(function () {
          return e.saleSection.itemdefs;
        });
        return u.createElement(G.a, {
          items: t || [],
          onDelete: function (t) {
            e.saleSection.itemdefs.splice(t, 1),
              e.editModel.SetDirty(o.c.jsondata_sales);
          },
          onReorder: function () {
            return e.editModel.SetDirty(o.c.jsondata_sales);
          },
          render: function (t) {
            return u.createElement(tt, {
              key: "row" + t.nAppID + "_" + t.nItemDefID,
              itemDefSetting: t,
              editModel: e.editModel,
            });
          },
        });
      }
      function tt(e) {
        var t,
          a = e.itemDefSetting,
          n = e.editModel,
          i = Object(Ke.a)(a.nAppID, a.nItemDefID),
          r = 0;
        null === (t = a.localized_itemdef_capsule) ||
          void 0 === t ||
          t.forEach(function (e) {
            r += e ? 1 : 0;
          });
        return i
          ? u.createElement(
              "div",
              { className: I.FlexRowContainer },
              u.createElement(
                "div",
                { style: { backgroundColor: i.strBackgroundColor } },
                u.createElement("img", {
                  className: Xe.itemimg,
                  src: null == i ? void 0 : i.strImgURL,
                })
              ),
              u.createElement(
                "div",
                null,
                null == i ? void 0 : i.strName,
                " - (",
                a.nAppID,
                "/",
                a.nItemDefID,
                ")"
              ),
              u.createElement(m.l, {
                type: "number",
                max: "100",
                min: "0",
                label: Object(E.f)("#Sale_ItemDef_Quantity"),
                tooltip: Object(E.f)("#Sale_ItemDef_Quantity_ttip"),
                value: a.max_quantity || 0,
                onChange: function (e) {
                  var t,
                    i = Number.parseInt(
                      (null === (t = null == e ? void 0 : e.currentTarget) ||
                      void 0 === t
                        ? void 0
                        : t.value) || "0"
                    );
                  i != a.max_quantity &&
                    ((a.max_quantity = i), n.SetDirty(o.c.jsondata_sales));
                },
              }),
              u.createElement(
                M.a,
                { toolTipContent: Object(E.f)("#Sale_ItemDef_AltImage") },
                u.createElement(
                  m.q,
                  {
                    onClick: function (t) {
                      return (function (t, a) {
                        t.preventDefault(),
                          t.stopPropagation(),
                          Object(w.d)(
                            u.createElement(f, {
                              loc_images: a.localized_itemdef_capsule,
                              fnSetImage: function (e, t) {
                                (a.localized_itemdef_capsule = Object(L.e)(
                                  a.localized_itemdef_capsule || [],
                                  30,
                                  null
                                )),
                                  (a.localized_itemdef_capsule[e] = t);
                              },
                              editModel: e.editModel,
                              artworkType: "link_capsule",
                            }),
                            Object(B.m)(t)
                          );
                      })(t, a);
                    },
                  },
                  r > 0
                    ? Object(E.l)("#selectimage_managing_n_existing_title", r)
                    : Object(E.f)("#selectimage_uploading_title")
                )
              ),
              u.createElement(
                "a",
                {
                  href:
                    F.c.STORE_BASE_URL +
                    "itemstore/" +
                    a.nAppID +
                    "/detail/" +
                    a.nItemDefID,
                },
                Object(E.f)("#EventDisplay_View")
              )
            )
          : u.createElement(A.a, {
              size: "small",
              position: "center",
              string: Object(E.f)("#Loading"),
            });
      }
      function at(e) {
        var t = u.useState(730),
          a = t[0],
          n = t[1],
          i = u.useState(0),
          r = i[0],
          l = i[1];
        return u.createElement(
          "div",
          null,
          u.createElement(
            "div",
            { className: I.FlexRowContainer },
            u.createElement(m.l, {
              type: "number",
              min: "0",
              label: "AppID",
              value: a,
              onChange: function (e) {
                var t;
                return n(
                  Number.parseInt(
                    (null === (t = null == e ? void 0 : e.currentTarget) ||
                    void 0 === t
                      ? void 0
                      : t.value) || "0"
                  )
                );
              },
            }),
            u.createElement(
              "a",
              { href: F.c.STORE_BASE_URL + "itemstore/" + a },
              Object(E.f)("#Sale_ItemDef_ItemStore")
            )
          ),
          u.createElement(m.l, {
            type: "number",
            min: "0",
            label: "Item Def ID",
            value: r,
            onChange: function (e) {
              var t;
              return l(
                Number.parseInt(
                  (null === (t = null == e ? void 0 : e.currentTarget) ||
                  void 0 === t
                    ? void 0
                    : t.value) || "0"
                )
              );
            },
          }),
          u.createElement(
            m.q,
            {
              disabled: 0 == a || 0 == r,
              onClick: function () {
                e.saleSection.itemdefs || (e.saleSection.itemdefs = []),
                  e.saleSection.itemdefs.push({ nAppID: a, nItemDefID: r }),
                  e.editModel.SetDirty(o.c.jsondata_sales);
              },
            },
            Object(E.f)("#Sale_ItemDef_Add")
          )
        );
      }
      var nt = a("oqmg");
      function it(e, t) {
        return e.disable_background
          ? { background: "transparent" }
          : Object(Ie.e)(e, t);
      }
      function rt(e, t) {
        for (var a = 0, n = e.GetSaleSections(); a < n.length; a++) {
          var i = n[a];
          if (i === t) break;
          if ("tabs" === i.section_type) return i;
        }
        return null;
      }
      function ot(e, t) {
        var a = rt(e, t);
        if (a) {
          var i = new Set(Object(n.g)(t.show_on_tabs || [])),
            r = a.tabs.map(function (a) {
              var n,
                r =
                  (null === (n = t.capsules) || void 0 === n
                    ? void 0
                    : n.length) > 0
                    ? (function (e, t) {
                        var a = new Set();
                        e.forEach(function (e) {
                          return a.add(Number(e.id));
                        });
                        for (var n = 0, i = 0, r = t; i < r.length; i++) {
                          var o = r[i];
                          a.has(Number(o.id)) && n++;
                        }
                        return n;
                      })(t.capsules, a.capsules)
                    : void 0,
                o = void 0 === r ? "" : " (" + r + ")";
              return u.createElement(m.e, {
                key: a.unique_id,
                classname: S.ShowOnTabCheckBox,
                onChange: function (e) {
                  e ? i.add(a.unique_id) : i.delete(a.unique_id);
                },
                label: Object(Ie.f)(a, e.GetCurEditLanguage()) + o,
                checked: i.has(a.unique_id),
              });
            });
          Object(w.d)(
            u.createElement(
              g.d,
              {
                strTitle: Object(E.f)("#Sale_Section_ShowOnTabs_DialogTitle"),
                strDescription: Object(E.f)(
                  "#Sale_Section_ShowOnTabs_DialogDesc"
                ),
                onOK: function () {
                  (t.show_on_tabs = Array.from(i.keys())),
                    e.SetDirty(o.c.jsondata_sales);
                },
              },
              u.createElement("div", { className: S.ShowOnTabCheckBoxCtn }, r)
            ),
            window
          );
        }
      }
      var lt = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.GetShowOnTabsList = function (e) {
              var t = this.props,
                a = t.saleSection,
                n = t.editLanguage;
              if (!e || !a.show_on_tabs || 0 === a.show_on_tabs.length)
                return Object(E.f)("#Sale_Section_ShowOnTabs_All");
              for (
                var i = [],
                  r = function (t) {
                    var a = e.tabs
                      ? e.tabs.find(function (e) {
                          return e.unique_id === t;
                        })
                      : null;
                    a && i.push(Object(Ie.f)(a, n));
                  },
                  o = 0,
                  l = a.show_on_tabs;
                o < l.length;
                o++
              ) {
                r(l[o]);
              }
              return 0 === i.length
                ? Object(E.f)("#Sale_Section_ShowOnTabs_All")
                : i.join(", ");
            }),
            (t.prototype.OnEditTabSections = function () {
              var e = this.props,
                t = e.saleSection;
              ot(e.editModel, t);
            }),
            (t.prototype.render = function () {
              var e = rt(this.props.editModel, this.props.saleSection);
              return e && e.tabs && 0 !== e.tabs.length
                ? u.createElement(
                    K.c,
                    {
                      title: Object(E.f)("#Sale_Section_TabSettings_Title"),
                      tooltip: Object(E.f)(
                        "#Sale_Section_TabSettings_Title_ttip"
                      ),
                      getMinimized: this.props.getMinimized,
                      toggleMinimized: this.props.toggleMinimized,
                    },
                    u.createElement(vt, {
                      varName: "diable_tab_id_filtering",
                      editModel: this.props.editModel,
                      section: this.props.saleSection,
                      textToken: "#Sale_Section_TabSettings_DisableIDFiltering",
                      ttipToken:
                        "#Sale_Section_TabSettings_DisableIDFiltering_ttip",
                    }),
                    u.createElement(
                      "div",
                      { style: { display: "flex" } },
                      u.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            I.EventEditorTextTitle,
                            S.ShowOnTabsLabel
                          ),
                        },
                        Object(E.f)("#Sale_Section_ShowOnTabs"),
                        this.GetShowOnTabsList(e)
                      ),
                      u.createElement(
                        "div",
                        { className: S.ShowOnTabsButton },
                        u.createElement(
                          m.q,
                          { onClick: this.OnEditTabSections },
                          Object(E.f)("#Sale_Section_ShowOnTabs_Edit")
                        )
                      )
                    )
                  )
                : null;
            }),
            Object(n.c)([b.a], t.prototype, "OnEditTabSections", null),
            (t = Object(n.c)([d.a], t))
          );
        })(u.Component),
        st = Object(d.a)(function (e) {
          var t = e.saleSection,
            a = e.editModel;
          if (!t.label_link) return null;
          return u.createElement(
            k.b,
            { clanSteamID: a.GetClanSteamID() },
            u.createElement(m.p, {
              onChange: function (e) {
                (t.label_link_style = e ? "browseall" : void 0),
                  a.SetDirty(o.c.jsondata_sales);
              },
              label: "(VO) " + Object(E.f)("#Sale_Section_TitleLink_BrowseAll"),
              tooltip: Object(E.f)("#Sale_Section_TitleLink_BrowseAll_ttip"),
              checked: "browseall" === t.label_link_style,
            })
          );
        });
      function ct(e, t, a, n, i) {
        var r = Object(Ie.d)(e, t, a.GetClanSteamID().GetAccountID(), i);
        if (r) return r;
        var o = Object(E.f)("#Sale_Section_Header", n + 1),
          l = "#Sale_Section_Type_" + e.section_type,
          s = Object(E.f)(l);
        return s !== l && (o = o + " (" + s + ")"), o;
      }
      var dt = (function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (t.state = { bIsExiting: !1 }), t;
        }
        return (
          Object(n.d)(t, e),
          (t.prototype.componentDidMount = function () {
            var e,
              t = new Set(),
              a = new Array(),
              n = new Array();
            null === (e = this.props.saleSection.capsules) ||
              void 0 === e ||
              e.forEach(function (e) {
                e &&
                  ("bundle" === e.type
                    ? a.push(e.id)
                    : "sub" === e.type
                    ? n.push(e.id)
                    : t.add(e.id));
              }),
              Se.a.EnsureAppInfoForAppIDs(new Set(t)),
              Oe.a.LoadBundleInfo(a),
              ye.b.LoadPackageInfo(n),
              j.d.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
                null,
                this.props.saleSection.events
                  .filter(function (e) {
                    return Boolean(null == e ? void 0 : e.announcement_gid);
                  })
                  .map(function (e) {
                    return e.announcement_gid;
                  })
              );
          }),
          (t.prototype.RemoveSection = function (e) {
            var t = this;
            Object(w.d)(
              u.createElement(g.d, {
                strTitle: Object(E.f)("#Button_Remove"),
                strDescription: Object(E.f)("#Sale_RemoveSectionConfirmation"),
                onOK: function () {
                  return t.DoRemoveSection(e);
                },
              }),
              window
            );
          }),
          (t.prototype.DoRemoveSection = function (e) {
            var t = this;
            this.setState({ bIsExiting: !0 }),
              window.setTimeout(function () {
                t.props.editModel
                  .GetEventModel()
                  .jsondata.sale_sections.splice(e, 1),
                  t.props.editModel.SetDirty(o.c.jsondata_sales);
              }, 500);
          }),
          (t.prototype.OnTitleChange = function (e) {
            (this.props.saleSection.default_label = e),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnTitleLinkChange = function (e) {
            (this.props.saleSection.label_link = e.target.value),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnSetCustomTitle = function (e) {
            var t = this.props,
              a = t.saleSection,
              n = t.editLanguage,
              i = t.editModel;
            (a.localized_label = E.a.Set(a.localized_label || [], n, e)),
              i.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnClearCustomTitle = function () {
            var e = this.props,
              t = e.saleSection,
              a = e.editLanguage,
              n = e.editModel;
            (t.localized_label = E.a.Set(t.localized_label || [], a, null)),
              n.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnShowTitleImageUpload = function (e, t) {
            e.preventDefault(),
              e.stopPropagation(),
              Object(w.d)(
                u.createElement(f, {
                  loc_images: t.localized_label_image,
                  fnSetImage: function (e, a) {
                    t.localized_label_image = E.a.Set(
                      t.localized_label_image || [],
                      e,
                      a
                    );
                  },
                  editModel: this.props.editModel,
                  artworkType: "sale_section_title",
                }),
                window
              );
          }),
          (t.prototype.OnSaleSectionTypeChange = function (e) {
            o.e.SetSaleSectionType(this.props.saleSection, e.data),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.MoveSection = function (e) {
            var t = e ? 1 : -1;
            Object(L.d)(
              this.props.editModel.GetEventModel().jsondata.sale_sections,
              this.props.index,
              Object(ke.a)(
                this.props.index + t,
                0,
                this.props.editModel.GetEventModel().jsondata.sale_sections
                  .length - 1
              )
            ),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.GetMinimizedTag = function (e) {
            var t = "SaleSection_" + this.props.saleSection.unique_id;
            return e && (t += "_" + e), t;
          }),
          (t.prototype.GetMinimized = function (e, t) {
            return Object(l.a)(this.GetMinimizedTag(e), t);
          }),
          (t.prototype.ToggleMinimized = function (e, t) {
            Object(l.d)(this.GetMinimizedTag(e), t);
          }),
          (t.prototype.OnChangeContentHubOverrideKey = function (e) {
            (this.props.saleSection.contenthub_override_section = e.target.value.trim()),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.render = function () {
            var e = this,
              t = this.props,
              a = t.editModel,
              i = t.saleSection,
              r = t.editLanguage,
              o = [
                {
                  label: Object(E.f)("#Sale_NoChoiceMade"),
                  data: "unselected_empty",
                },
                {
                  label: Object(E.f)("#Sale_Items"),
                  data: "items",
                  tooltip: Object(E.f)("#Sale_Items_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_TextSection"),
                  data: "text_section",
                  tooltip: Object(E.f)("#Sale_TextSection_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_Events"),
                  data: "events",
                  tooltip: Object(E.f)("#Sale_Events_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_CuratorSection"),
                  data: "curator",
                  tooltip: Object(E.f)("#Sale_CuratorSection_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_BroadcastPlayerSection"),
                  data: "broadcast",
                  tooltip: Object(E.f)("#Sale_BroadcastPlayerSection_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_SectionType_EventSchedule"),
                  data: "event_schedule",
                  tooltip: Object(E.f)("#Sale_SectionType_EventSchedule_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_Tabs"),
                  data: "tabs",
                  tooltip: Object(E.f)("#Sale_Tabs_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_TabButtons"),
                  data: "tab_buttons",
                  tooltip: Object(E.f)("#Sale_TabButtons_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_Links"),
                  data: "links",
                  tooltip: Object(E.f)("#Sale_Links_ttip"),
                },
              ];
            Object(k.a)(a.GetClanSteamID()) &&
              (o.push({
                label: "(VO) " + Object(E.f)("#Sale_CuratorRecommendation"),
                data: "curator_recommendation",
                tooltip: Object(E.f)("#Sale_CuratorRecommendation_ttip"),
              }),
              o.push({
                label: "(VO) " + Object(E.f)("#Sale_AdventCalendarDoorSection"),
                data: "doors",
              }),
              o.push({
                label: "(VO) " + Object(E.f)("#Sale_VOInternalSection"),
                data: "vo_internal",
              }),
              o.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_VOInternalSection_SaleItemBrowser"),
                data: "sale_item_browser",
              }),
              o.push({
                label:
                  "(VO) " + Object(E.f)("#Sale_SectionType_ContentHubTitle"),
                data: "contenthubtitle",
              }),
              o.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_SectionType_ContentHubMainCarousel"),
                data: "contenthubmaincarousel",
              }),
              o.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_SectionType_ContentHubSectionList"),
                data: "contenthubsections",
              }),
              o.push({
                label: "(VO) " + Object(E.f)("#Sale_SectionType_ItemDef"),
                data: "itemdef",
                tooltip: Object(E.f)("#Sale_SectionType_ItemDef_ttip"),
              }));
            var l = a.GetEventModel().jsondata,
              s = l.sale_font,
              c = l.sale_section_font_size,
              d = l.sale_section_disable_capitalize,
              p = Object(Ie.c)(i),
              _ = this.props.saleSection.section_type || o[0].data,
              g = Boolean(E.a.GetWithFallback(i.localized_label, r)),
              b =
                g ||
                ue.a.IsValidTitleOption(this.props.saleSection.default_label),
              h = 0;
            i.localized_label_image &&
              i.localized_label_image.forEach(function (e) {
                h += e ? 1 : 0;
              });
            var v,
              f = this.GetMinimized("", !1),
              O =
                "event_schedule" !== i.section_type &&
                "broadcast" !== i.section_type;
            return u.createElement(
              "div",
              {
                id: "SaleSection_" + i.unique_id,
                className: Object(N.a)(Q.SaleSection, Q.InEditor),
                style: Object(n.a)(Object(n.a)({}, it(i, a.GetEventModel())), {
                  opacity: this.state.bIsExiting ? 0 : 1,
                  transition: "opacity 500ms",
                }),
              },
              u.createElement(
                "div",
                {
                  className: I.SaleSectionHeader,
                  onDoubleClick: function () {
                    return e.ToggleMinimized("", !1);
                  },
                  style: {
                    fontFamily: s,
                    fontSize: c,
                    textTransform: d ? "initial" : null,
                    color: this.props.saleSection.label_color,
                  },
                },
                ct(i, this.props.editLanguage, a, this.props.index, !1),
                u.createElement(
                  "div",
                  { className: Object(N.a)(I.CloseSectionTools) },
                  u.createElement(
                    "div",
                    { className: I.FlexRowContainer },
                    u.createElement(
                      m.d,
                      {
                        "data-tooltip-text": Object(E.f)(
                          "#Sale_Section_ReorderUp_Title"
                        ),
                        disabled: 0 == this.props.index,
                        onClick: function () {
                          return e.MoveSection(!1);
                        },
                      },
                      u.createElement(Me.c, { angle: 0 })
                    ),
                    u.createElement(
                      m.d,
                      {
                        "data-tooltip-text": Object(E.f)(
                          "#Sale_Section_ReorderDown_Title"
                        ),
                        disabled:
                          this.props.index + 1 == a.GetSaleSectionCount(),
                        onClick: function () {
                          return e.MoveSection(!0);
                        },
                      },
                      u.createElement(Me.c, { angle: 180 })
                    ),
                    u.createElement(K.a, {
                      bIsMinimized: f,
                      fnToggleMinimize: function () {
                        return e.ToggleMinimized("", !1);
                      },
                    }),
                    u.createElement(
                      m.d,
                      {
                        "data-tooltip-text": Object(E.f)("#Button_Remove"),
                        onClick: function () {
                          return e.RemoveSection(e.props.index);
                        },
                      },
                      u.createElement(Me.pb, null)
                    )
                  )
                )
              ),
              f
                ? u.createElement(ut, {
                    editModel: a,
                    section: i,
                    tabSection: a.GetTabSaleSection(),
                  })
                : u.createElement(
                    u.Fragment,
                    null,
                    u.createElement(
                      Ae.a,
                      { placeholderHeight: "300px", className: Q.EditorCtn },
                      u.createElement(
                        "div",
                        { className: Q.SectionTypePicker },
                        u.createElement(
                          "div",
                          { className: Q.SectionTypePrompt },
                          " ",
                          Object(E.f)("#Sale_SectionContents"),
                          " "
                        ),
                        u.createElement(m.h, {
                          rgOptions: o,
                          strDropDownClassName: I.DropDownScroll,
                          selectedOption: _,
                          onChange: this.OnSaleSectionTypeChange,
                          contextMenuPositionOptions: { bDisablePopTop: !0 },
                        }),
                        u.createElement(K.b, {
                          tooltip: Object(E.f)("#Sale_SectionTypeTTip_" + _),
                        })
                      )
                    ),
                    Boolean("unselected_empty" !== _) &&
                      u.createElement(
                        u.Fragment,
                        null,
                        u.createElement(
                          Ae.a,
                          {
                            placeholderHeight: "300px",
                            className: Q.EditorCtn,
                          },
                          null === p &&
                            u.createElement(
                              u.Fragment,
                              null,
                              u.createElement(
                                "div",
                                { className: S.SaleSectionTitleHeader },
                                u.createElement(
                                  "div",
                                  { className: I.EventEditorTextTitle },
                                  Object(E.f)(
                                    "#Sale_Section_SectionTitle_Title"
                                  ),
                                  u.createElement(K.b, {
                                    tooltip: Object(E.f)(
                                      "#Sale_Section_SectionTitle_Title_ttip"
                                    ),
                                  })
                                ),
                                u.createElement(K.a, {
                                  bIsMinimized: this.GetMinimized("title", !1),
                                  fnToggleMinimize: function () {
                                    return e.ToggleMinimized("title", !1);
                                  },
                                })
                              ),
                              !this.GetMinimized("title", !1) &&
                                u.createElement(
                                  "div",
                                  {
                                    className: Object(N.a)(
                                      I.FlexColumnContainer,
                                      I.EventDefaultRowContainer
                                    ),
                                  },
                                  u.createElement(ue.a, {
                                    default_label: i.default_label,
                                    localized_label: i.localized_label,
                                    editLanguage: this.props.editLanguage,
                                    onClearCustomTitle: this.OnClearCustomTitle,
                                    onSetCustomTitle: this.OnSetCustomTitle,
                                    onSetDefaultLabel: this.OnTitleChange,
                                  }),
                                  g &&
                                    u.createElement(
                                      k.b,
                                      {
                                        clanSteamID: a.GetClanSteamID(),
                                        className: Q.CustomImageTitle,
                                      },
                                      u.createElement(
                                        "span",
                                        { className: Q.PromptText },
                                        Object(E.f)("#Sale_option_title_image")
                                      ),
                                      u.createElement(
                                        "div",
                                        { className: Q.UploadImageButton },
                                        u.createElement(
                                          m.q,
                                          {
                                            onClick: function (t) {
                                              return e.OnShowTitleImageUpload(
                                                t,
                                                i
                                              );
                                            },
                                          },
                                          h > 0
                                            ? Object(E.l)(
                                                "#selectimage_managing_n_existing_title",
                                                h
                                              )
                                            : Object(E.f)(
                                                "#selectimage_uploading_title"
                                              )
                                        )
                                      )
                                    ),
                                  b &&
                                    u.createElement(
                                      k.b,
                                      { clanSteamID: a.GetClanSteamID() },
                                      u.createElement(m.l, {
                                        label: Object(E.f)("#Sale_LinkURL"),
                                        tooltip: Object(E.f)(
                                          "#Sale_LinkURL_title_hint"
                                        ),
                                        placeholder: Object(E.f)(
                                          "#Sale_LinkURL"
                                        ),
                                        onChange: this.OnTitleLinkChange,
                                        value: this.props.saleSection
                                          .label_link,
                                      }),
                                      u.createElement(st, {
                                        saleSection: i,
                                        editModel: a,
                                      })
                                    )
                                )
                            ),
                          O && u.createElement(_e, Object(n.a)({}, this.props)),
                          u.createElement(lt, {
                            saleSection: i,
                            editModel: a,
                            editLanguage: r,
                            getMinimized: function () {
                              return e.GetMinimized("tabsettings", !0);
                            },
                            toggleMinimized: function () {
                              return e.ToggleMinimized("tabsettings", !0);
                            },
                          }),
                          u.createElement(
                            k.b,
                            {
                              clanSteamID: a.GetClanSteamID(),
                              requireAdmin: !0,
                            },
                            u.createElement(m.l, {
                              value: i.contenthub_override_section,
                              onChange: this.OnChangeContentHubOverrideKey,
                              label:
                                "Section override ID (for content hubs only)",
                              tooltip:
                                'Set this to any string value. When rendering a content hub, if this sale event is a time-bound override, then this section will be shown in place of the section with the same override ID in the "normal" content hub sale page.',
                            })
                          )
                        ),
                        "unselected_empty" !=
                          (v = this.props.saleSection.section_type) &&
                          "tab_buttons" != v &&
                          u.createElement(
                            Ae.a,
                            {
                              placeholderHeight: "300px",
                              className: Q.EditorCtn,
                              id: "salesection_item_" + this.props.index,
                            },
                            u.createElement(jt, Object(n.a)({}, this.props))
                          )
                      )
                  )
            );
          }),
          Object(n.c)([b.a], t.prototype, "RemoveSection", null),
          Object(n.c)([b.a], t.prototype, "DoRemoveSection", null),
          Object(n.c)([b.a], t.prototype, "OnTitleChange", null),
          Object(n.c)([b.a], t.prototype, "OnTitleLinkChange", null),
          Object(n.c)([b.a], t.prototype, "OnSetCustomTitle", null),
          Object(n.c)([b.a], t.prototype, "OnClearCustomTitle", null),
          Object(n.c)([b.a], t.prototype, "OnShowTitleImageUpload", null),
          Object(n.c)([b.a], t.prototype, "OnSaleSectionTypeChange", null),
          Object(n.c)([b.a], t.prototype, "MoveSection", null),
          Object(n.c)([b.a], t.prototype, "GetMinimized", null),
          Object(n.c)([b.a], t.prototype, "ToggleMinimized", null),
          Object(n.c)(
            [b.a],
            t.prototype,
            "OnChangeContentHubOverrideKey",
            null
          ),
          (t = Object(n.c)([d.a], t))
        );
      })(u.Component);
      var ut = function (e) {
          var t = e.editModel,
            a = e.section,
            n = e.tabSection,
            i = n
              ? u.createElement(
                  "span",
                  {
                    className: S.ShowInTabsList,
                    onClick: function () {
                      return ot(t, a);
                    },
                  },
                  Object(E.f)(
                    "#Sale_SectionDesc_Tabs",
                    (function (e, t) {
                      var a = "";
                      return (
                        e && e.length > 0 && t && t.tabs && t.tabs.length > 0
                          ? e.forEach(function (e) {
                              a.length > 0 && (a += ", ");
                              var n = t.tabs.find(function (t) {
                                return t.unique_id == e;
                              });
                              a += n
                                ? Object(Ie.f)(n, Object(x.h)(F.c.LANGUAGE))
                                : Object(E.f)("#EventCalendar_MuteApp_Unknown");
                            })
                          : (a = Object(E.f)("#Sale_Section_ShowOnTabs_All")),
                        a
                      );
                    })(a.show_on_tabs, n)
                  )
                )
              : null;
          return ("items" === a.section_type && !a.smart_section_type) ||
            "events" === a.section_type
            ? u.createElement(
                "div",
                null,
                Boolean("items" === a.section_type)
                  ? Object(E.f)(
                      "#Sale_SectionDesc_Items",
                      a.capsules ? a.capsules.length : 0
                    )
                  : Object(E.f)(
                      "#Sale_SectionDesc_Events",
                      a.events ? a.events.length : 0
                    ),
                Boolean(a.show_as_carousel) &&
                  Object(E.f)("#Sale_SectionDesc_Carousel"),
                i && " - ",
                i
              )
            : "event_schedule" === a.section_type
            ? u.createElement(
                "div",
                null,
                Object(E.l)(
                  "#EventEditor_SaleEventSchedule_MinView",
                  a.event_schedule_categories
                    ? a.event_schedule_categories.length
                    : Object(E.f)("#Dialog_Off")
                ),
                i && " - ",
                i
              )
            : i;
        },
        pt = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnSmartSectionChange = function (e) {
              (this.props.saleSection.smart_section = e),
                (this.props.saleSection.smart_section_type = e
                  ? "wishlist"
                  : void 0),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.render = function () {
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(m.p, {
                  onChange: this.OnSmartSectionChange,
                  label: Object(E.f)("#Sale_SmartSection"),
                  description: Object(E.f)("#Sale_SmartSectionDescription"),
                  checked: this.props.saleSection.smart_section,
                }),
                this.props.saleSection.smart_section &&
                  u.createElement(Tt, {
                    saleSection: this.props.saleSection,
                    editModel: this.props.editModel,
                  }),
                !this.props.saleSection.smart_section &&
                  u.createElement(
                    u.Fragment,
                    null,
                    u.createElement(me.a, {
                      capsuleContainer: this.props.saleSection,
                      editModel: this.props.editModel,
                      uniqueKey: "Section" + this.props.saleSection.unique_id,
                    }),
                    u.createElement(Ee.a, {
                      section: this.props.saleSection,
                      capsuleContainer: this.props.saleSection,
                      editModel: this.props.editModel,
                      bAllowPruneFacets: !0,
                    })
                  )
              );
            }),
            Object(n.c)([O.k.bound], t.prototype, "OnSmartSectionChange", null),
            (t = Object(n.c)([d.a], t))
          );
        })(u.Component),
        mt = Object(d.a)(function (e) {
          var t = e.saleSection,
            a = e.editModel;
          return u.createElement(
            u.Fragment,
            null,
            u.createElement(m.p, {
              onChange: function (e) {
                Object(O.G)(function () {
                  t.smart_section = e;
                  var n =
                    t.smart_section_event_tags &&
                    t.smart_section_event_tags.length > 0;
                  (t.smart_section_type = e
                    ? n
                      ? "recent_tagged_events"
                      : "recent_events"
                    : void 0),
                    a.SetDirty(o.c.jsondata_sales);
                });
              },
              label: Object(E.f)("#Sale_SmartSection"),
              description: Object(E.f)("#Sale_SmartSectionDescription"),
              checked: t.smart_section,
            }),
            t.smart_section
              ? u.createElement(ee, Object(n.a)({}, e))
              : u.createElement(X, Object(n.a)({}, e))
          );
        }),
        _t = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { linkToAddURL: "" }), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.AddLink = function () {
              (this.m_refInput.element.value = ""),
                this.props.saleSection.links.push({
                  url: this.state.linkToAddURL,
                }),
                this.setState({ linkToAddURL: "" }),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.RemoveLink = function (e) {
              this.props.saleSection.links.splice(e, 1),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnLinkChange = function (e) {
              var t = e.target.value;
              this.setState({ linkToAddURL: t });
            }),
            (t.prototype.OnShowLinkCapsuleUpload = function (e, t) {
              e.preventDefault(),
                e.stopPropagation(),
                Object(w.d)(
                  u.createElement(f, {
                    loc_images: t.localized_link_capsule,
                    fnSetImage: function (e, a) {
                      (t.localized_link_capsule = Object(L.e)(
                        t.localized_link_capsule || [],
                        30,
                        null
                      )),
                        (t.localized_link_capsule[e] = a);
                    },
                    editModel: this.props.editModel,
                    artworkType: "link_capsule",
                  }),
                  window
                );
            }),
            (t.prototype.render = function () {
              var e = this;
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(G.a, {
                  items: this.props.saleSection.links,
                  onDelete: this.RemoveLink,
                  onReorder: function () {
                    return e.props.editModel.SetDirty(o.c.jsondata_sales);
                  },
                  render: function (t) {
                    var a = 0;
                    t.localized_link_capsule &&
                      t.localized_link_capsule.forEach(function (e) {
                        a += e ? 1 : 0;
                      });
                    var n = Object(Le.c)(t.url, F.c.STORE_BASE_URL);
                    return u.createElement(
                      Ie.j,
                      {
                        className: Object(N.a)(Y.a.FlexCenter, Q.UploadLinkRow),
                        url: t.url,
                      },
                      n,
                      u.createElement(
                        "div",
                        { className: Q.UploadLinkImageButton },
                        u.createElement(
                          m.q,
                          {
                            onClick: function (a) {
                              return e.OnShowLinkCapsuleUpload(a, t);
                            },
                          },
                          a > 0
                            ? Object(E.l)(
                                "#selectimage_managing_n_existing_title",
                                a
                              )
                            : Object(E.f)("#selectimage_uploading_title")
                        )
                      )
                    );
                  },
                }),
                u.createElement(m.l, {
                  ref: function (t) {
                    return (e.m_refInput = t);
                  },
                  type: "text",
                  label: Object(E.f)("#Sale_LinkURL"),
                  onChange: this.OnLinkChange,
                }),
                u.createElement(
                  m.q,
                  { onClick: this.AddLink },
                  Object(E.f)("#Sale_AddLink")
                )
              );
            }),
            Object(n.c)([b.a], t.prototype, "AddLink", null),
            Object(n.c)([b.a], t.prototype, "RemoveLink", null),
            Object(n.c)([b.a], t.prototype, "OnLinkChange", null),
            Object(n.c)([b.a], t.prototype, "OnShowLinkCapsuleUpload", null),
            (t = Object(n.c)([d.a], t))
          );
        })(u.Component),
        gt = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                maxRowsString: Object(fe.r)(t.props.saleSection).toString(),
                capItemCountString: Object(fe.t)(
                  t.props.saleSection
                ).toString(),
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnRandomChange = function (e, t) {
              t || (e.cap_item_count = 0),
                this.setState({
                  maxRowsString: Object(fe.t)(
                    this.props.saleSection
                  ).toString(),
                });
            }),
            (t.prototype.OnCapSectionChange = function (e, t) {
              this.setState({
                maxRowsString: Object(fe.r)(this.props.saleSection).toString(),
              });
            }),
            (t.prototype.OnCapItemCountChange = function (e, t) {
              var a = Number(t);
              a >= 0 &&
                ((e.cap_item_count = a),
                this.props.editModel.SetDirty(o.c.jsondata_sales)),
                this.setState({ capItemCountString: t });
            }),
            (t.prototype.OnCarouselRowsChange = function (e, t) {
              (e.carousel_rows = t),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnCapSectionRowCountChange = function (e, t) {
              var a = Number(t);
              a > 0 &&
                ((e.cap_section_row_count = a),
                this.props.editModel.SetDirty(o.c.jsondata_sales)),
                this.setState({ maxRowsString: t });
            }),
            (t.prototype.ConvertStringToRowConfig = function (e) {
              return JSON.parse(e);
            }),
            (t.prototype.ConvertRowConfigToString = function (e, t) {
              return JSON.stringify({ rows: e, styles: t || [] });
            }),
            (t.prototype.OnCapsulesPerRowArrayChange = function (e, t) {
              var a = this.ConvertStringToRowConfig(t),
                n = a.rows,
                i = a.styles;
              (e.capsules_per_row_array = n),
                (e.capsule_style_per_row_array = i && i.length ? i : null),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.GetCapsulesPerRowDropDown = function () {
              var e = this,
                t = this.props,
                a = t.saleSection,
                n = t.editModel,
                i = [
                  {
                    label: Object(E.f)("#Sale_CapsulesPerRow_1"),
                    data: this.ConvertRowConfigToString([1]),
                  },
                  {
                    label: Object(E.f)("#Sale_CapsulesPerRow_2"),
                    data: this.ConvertRowConfigToString([2]),
                  },
                  {
                    label: Object(E.f)("#Sale_CapsulesPerRow_3"),
                    data: this.ConvertRowConfigToString([3]),
                  },
                  {
                    label: Object(E.f)("#Sale_CapsulesPerRow_4"),
                    data: this.ConvertRowConfigToString([4]),
                  },
                  {
                    label: Object(E.f)("#Sale_CapsulesPerRow_Pattern_2343"),
                    data: this.ConvertRowConfigToString([2, 3, 4, 3]),
                  },
                ];
              "links" === a.section_type
                ? i.push({
                    label: Object(E.f)("#Sale_CapsulesPerRow_5"),
                    data: this.ConvertRowConfigToString([5]),
                  })
                : "items" === a.section_type &&
                  Object(k.a)(n.GetClanSteamID(), !1) &&
                  i.push(
                    {
                      label:
                        "(VO) " +
                        Object(E.f)("#Sale_CapsulesPerRow_Pattern_3t23"),
                      data: this.ConvertRowConfigToString(
                        [3, 2, 3],
                        ["tall", "grid", "grid"]
                      ),
                    },
                    {
                      label:
                        "(VO) " +
                        Object(E.f)("#Sale_CapsulesPerRow_Pattern_5t"),
                      data: this.ConvertRowConfigToString([5], ["tall"]),
                    },
                    {
                      label:
                        "(VO) " +
                        Object(E.f)("#Sale_CapsulesPerRow_Pattern_3t"),
                      data: this.ConvertRowConfigToString([3], ["tall"]),
                    }
                  );
              var r = Object(De.c)(a),
                o = this.ConvertRowConfigToString(
                  r,
                  a.capsule_style_per_row_array
                );
              return u.createElement(m.h, {
                rgOptions: i,
                label: Object(E.f)("#Sale_Section_CapsulesPerRow"),
                tooltip: Object(E.f)("#Sale_Section_CapsulesPerRow_Tooltip"),
                strDropDownClassName: I.DropDownScroll,
                selectedOption: o,
                onChange: function (t) {
                  return e.OnCapsulesPerRowArrayChange(a, t.data);
                },
                contextMenuPositionOptions: { bDisablePopTop: !0 },
              });
            }),
            (t.prototype.render = function () {
              var e,
                t,
                a,
                n = this,
                i = this.props,
                r = i.saleSection,
                o = i.bSmartSection,
                l = i.editModel,
                s =
                  o &&
                  "items" === r.section_type &&
                  ("tag" === r.smart_section_type ||
                    "category" === r.smart_section_type),
                c = "items" === r.section_type,
                d = "items" === r.section_type || "events" === r.section_type,
                p = "library" === r.single_item_style,
                _ =
                  "items" === r.section_type &&
                  (!r.capsules_per_row_array ||
                    (1 ==
                      (null === (e = r.capsules_per_row_array) || void 0 === e
                        ? void 0
                        : e.length) &&
                      1 == r.capsules_per_row_array[0])),
                g =
                  "items" == r.section_type &&
                  (null ===
                    (a =
                      null === (t = l.GetEventModel().jsondata) || void 0 === t
                        ? void 0
                        : t.sorting_tiers) || void 0 === a
                    ? void 0
                    : a.length) > 0;
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(
                  "div",
                  { className: I.EventEditorTextTitle },
                  Object(E.f)("#Sale_Section_GridSettings_Title")
                ),
                u.createElement(
                  "div",
                  {
                    style: { display: "flex" },
                    className: I.EventDefaultRowContainer,
                  },
                  u.createElement(
                    "div",
                    { className: I.HalfColumn },
                    r.show_as_carousel &&
                      u.createElement(m.s, {
                        label: Object(E.f)("#Sale_Section_CarouselRows"),
                        showValue: !0,
                        min: 1,
                        max: 3,
                        value: Object(fe.s)(r),
                        onChange: function (e) {
                          return n.OnCarouselRowsChange(r, e);
                        },
                        tooltip: Object(E.f)(
                          "#Sale_Section_CarouselRows_Tooltip"
                        ),
                      }),
                    this.GetCapsulesPerRowDropDown()
                  ),
                  u.createElement(
                    "div",
                    { className: I.HalfColumn },
                    u.createElement(vt, {
                      varName: "use_random_order",
                      onChange: this.OnRandomChange,
                      editModel: l,
                      section: r,
                      textToken: g
                        ? "#Sale_Section_UseRandomOrder_SortingTiers"
                        : "#Sale_Section_UseRandomOrder",
                      ttipToken: o
                        ? "#Sale_Section_UseRandomOrder_smart_hint"
                        : g
                        ? "#Sale_Section_UseRandomOrder_hint"
                        : "Sale_Section_UseRandomOrder_SortingTiers_hint",
                    }),
                    s &&
                      u.createElement(vt, {
                        varName: "random_from_entire_set",
                        editModel: l,
                        section: r,
                        textToken: "#Sale_Section_RandomFromSmartSet",
                        ttipToken: "#Sale_Section_RandomFromSmartSet_hint",
                      }),
                    r.use_random_order &&
                      u.createElement(
                        k.b,
                        { clanSteamID: l.GetClanSteamID() },
                        u.createElement(m.l, {
                          mustBeNumeric: !0,
                          rangeMin: 0,
                          label:
                            "(VO) " +
                            Object(E.f)("#Sale_Section_CapSectionItemCount"),
                          tooltip: Object(E.f)(
                            "#Sale_Section_CapSectionItemCount_hint"
                          ),
                          onChange: function (e) {
                            return n.OnCapItemCountChange(r, e.target.value);
                          },
                          value: this.state.capItemCountString,
                        })
                      ),
                    u.createElement(vt, {
                      varName: "show_as_carousel",
                      editModel: l,
                      section: r,
                      textToken: "#Sale_Section_ShowAsCarousel",
                      ttipToken: "#Sale_Section_ShowAsCarousel_Tooltip",
                    }),
                    !r.show_as_carousel &&
                      u.createElement(
                        u.Fragment,
                        null,
                        u.createElement(vt, {
                          varName: "cap_section_content",
                          onChange: this.OnCapSectionChange,
                          editModel: l,
                          section: r,
                          textToken: "#Sale_Section_CapSectionContent",
                          ttipToken: "#Sale_Section_CapSectionContent_Tooltip",
                        }),
                        r.cap_section_content &&
                          u.createElement(m.l, {
                            mustBeNumeric: !0,
                            rangeMin: 1,
                            label: Object(E.f)(
                              "#Sale_Section_CapSectionContentCount"
                            ),
                            tooltip: Object(E.f)(
                              "#Sale_Section_CapSectionContentCount_hint"
                            ),
                            onChange: function (e) {
                              return n.OnCapSectionRowCountChange(
                                r,
                                e.target.value
                              );
                            },
                            value: this.state.maxRowsString,
                          })
                      ),
                    r.show_as_carousel &&
                      u.createElement(vt, {
                        varName: "carousel_auto_advance",
                        valveOnly: !0,
                        editModel: l,
                        section: r,
                        textToken: "#Sale_Section_CarouselAutoAdvance",
                        ttipToken: "#Sale_Section_CarouselAutoAdvance_Tooltip",
                      }),
                    c && u.createElement(bt, { editModel: l, section: r }),
                    u.createElement(ht, {
                      editModel: l,
                      section: r,
                      bDisabled: !_,
                    }),
                    p &&
                      u.createElement(vt, {
                        varName: "show_purchase_options",
                        editModel: l,
                        section: r,
                        textToken: "#Sale_Section_ShowPurchaseOptions",
                        ttipToken: "#Sale_Section_ShowPurchaseOptions_ttip",
                      }),
                    d &&
                      u.createElement(vt, {
                        valveOnly: !0,
                        varName: "hide_prices",
                        editModel: l,
                        section: r,
                        textToken: "#Sale_Section_HidePrices",
                        ttipToken: "#Sale_Section_HidePrices_ttip",
                      }),
                    u.createElement(Et, { editModel: l, saleSection: r })
                  )
                )
              );
            }),
            Object(n.c)([b.a], t.prototype, "OnRandomChange", null),
            Object(n.c)([b.a], t.prototype, "OnCapSectionChange", null),
            Object(n.c)([b.a], t.prototype, "OnCapItemCountChange", null),
            Object(n.c)([b.a], t.prototype, "OnCarouselRowsChange", null),
            Object(n.c)([b.a], t.prototype, "OnCapSectionRowCountChange", null),
            Object(n.c)(
              [b.a],
              t.prototype,
              "OnCapsulesPerRowArrayChange",
              null
            ),
            (t = Object(n.c)([d.a], t))
          );
        })(u.Component),
        Et = Object(d.a)(function (e) {
          var t,
            a = e.saleSection,
            n = e.editModel;
          if ("items" !== a.section_type && "events" !== a.section_type)
            return null;
          var i = !0;
          null === (t = n.GetDynamicRevealSections()) ||
            void 0 === t ||
            t.forEach(function (e) {
              e.section_type == a.section_type &&
                e.unique_id != a.unique_id &&
                (i = !1);
            });
          var r = "#Sale_Section_RevealSetting_limit";
          return (
            i &&
              (r =
                "events" === a.section_type
                  ? "#Sale_Section_RevealSetting_event_ttip"
                  : "#Sale_Section_RevealSetting_ttip"),
            "items" === a.section_type &&
              Boolean(a.smart_section_type) &&
              ((i = !1), (r = "#Sale_Section_RevealSetting_limit_smart")),
            n.GetEventModel().jsondata.sale_opt_in_page_name ||
              ((i = !1), (r = "#Sale_Section_RevealSetting_limit_optin_ttip")),
            "events" === a.section_type &&
              Boolean(a.smart_section_type) &&
              "recent_tagged_events" !== a.smart_section_type &&
              ((i = !1), (r = "#Sale_Section_RevealSetting_limit_smart")),
            u.createElement(vt, {
              valveOnly: !0,
              varName: "dynamic_reveal",
              editModel: n,
              section: a,
              textToken: "#Sale_Section_RevealSetting",
              ttipToken: r,
              disabled: !i,
            })
          );
        }),
        bt = function (e) {
          return u.createElement(vt, {
            varName: "show_as_demos",
            editModel: e.editModel,
            section: e.section,
            textToken: "#Sale_Section_UseDemoLayout",
            ttipToken: "#Sale_Section_UseDemoLayout_tooltip",
          });
        },
        ht = Object(d.a)(function (e) {
          var t = e.editModel,
            a = e.section,
            n = e.bDisabled;
          if ("items" !== a.section_type) return null;
          var i = [
            {
              label: Object(E.f)("#Sale_Section_SingleItemDisplay_bordered"),
              tooltip: Object(E.f)(
                "#Sale_Section_SingleItemDisplay_bordered_ttip"
              ),
              data: "bordered",
            },
            {
              label: Object(E.f)("#Sale_Section_SingleItemDisplay_full"),
              tooltip: Object(E.f)("#Sale_Section_SingleItemDisplay_full_ttip"),
              data: "full",
            },
            {
              label: Object(E.f)("#Sale_Section_SingleItemDisplay_library"),
              tooltip: Object(E.f)(
                "#Sale_Section_SingleItemDisplay_library_ttip"
              ),
              data: "library",
            },
            {
              label: Object(E.f)("#Sale_Section_SingleItemDisplay_animated"),
              tooltip: Object(E.f)(
                "#Sale_Section_SingleItemDisplay_animated_ttip"
              ),
              data: "animated",
            },
          ];
          return u.createElement(m.h, {
            disabled: n,
            rgOptions: i,
            label: Object(E.f)(
              n
                ? "#Sale_Section_SingleItemDisplay_disabled"
                : "#Sale_Section_SingleItemDisplay"
            ),
            tooltip: Object(E.f)(
              n
                ? "#Sale_Section_SingleItemDisplay_disabled_ttip"
                : "#Sale_Section_SingleItemDisplay_ttip"
            ),
            strDropDownClassName: I.DropDownScroll,
            selectedOption: a.single_item_style || fe.y,
            onChange: function (e) {
              a.single_item_style !== e.data &&
                ((a.single_item_style = e.data),
                t.SetDirty(o.c.jsondata_sales));
            },
          });
        }),
        vt = Object(d.a)(function (e) {
          var t = e.editModel,
            a = e.section,
            n = e.varName,
            i = e.valveOnly,
            r = e.textToken,
            l = e.ttipToken,
            s = e.disabled,
            c = e.onChange,
            d = function (e) {
              (a[n] = e), t.SetDirty(o.c.jsondata_sales), c && c(a, e);
            };
          return i
            ? u.createElement(
                k.b,
                { clanSteamID: t.GetClanSteamID() },
                u.createElement(m.e, {
                  onChange: d,
                  label: "(VO) " + Object(E.f)(r),
                  tooltip: Object(E.f)(l),
                  checked: a[n],
                  disabled: s,
                })
              )
            : u.createElement(m.e, {
                onChange: d,
                label: Object(E.f)(r),
                tooltip: Object(E.f)(l),
                checked: a[n],
                disabled: s,
              });
        }),
        ft = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.m_descBBCodeEditor = u.createRef()), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.GetCurText = function () {
              var e = this.props,
                t = e.editModel,
                a = e.saleSection,
                n =
                  a.text_section_contents &&
                  a.text_section_contents[t.GetCurEditLanguage()];
              return n || "";
            }),
            (t.prototype.SetText = function (e) {
              var t = this.props,
                a = t.editModel,
                n = t.saleSection;
              a.SetSaleSectionTextLocalization(
                a.GetCurEditLanguage(),
                a.GetSaleSectionIndexByID(n.unique_id),
                e
              );
            }),
            (t.prototype.OnTextChange = function (e) {
              this.SetText(e.currentTarget.value);
            }),
            (t.prototype.OnImageInsert = function (e, t) {
              this.m_descBBCodeEditor.current &&
                Object(ve.b)(this.m_descBBCodeEditor.current, e, t);
            }),
            (t.prototype.OnRelatedToBroadcast = function (e) {
              this.props.saleSection.hide_section_if_broadcast_is_hidden !==
                e &&
                ((this.props.saleSection.hide_section_if_broadcast_is_hidden = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                a = t.editModel,
                n = t.saleSection;
              return u.createElement(
                "div",
                { className: Q.TextSectionGroup },
                u.createElement(
                  "div",
                  { className: Q.TextSectionBBCode },
                  u.createElement(je.a, {
                    fnGetCurText: this.GetCurText,
                    fnOnTextChange: this.OnTextChange,
                    fnSetText: this.SetText,
                    ref: this.m_descBBCodeEditor,
                    strPlaceholder: Object(E.f)(
                      "#EventEditor_SaleTextSection_PlaceHolder"
                    ),
                    emoticonStore: Ce.b,
                    bSupportHTMLImport: !0,
                    showFormatHelp: "PartnerEvents",
                    classNameForTextArea: S.EventEditorDescription,
                    limitBBCode: F.b.CAN_UPLOAD_IMAGES ? void 0 : he.f,
                    clanSteamID: a.GetClanSteamID(),
                  }),
                  u.createElement(
                    M.a,
                    {
                      toolTipContent: Object(E.f)(
                        "#EventEditor_RelatedToBroadcast_ttip"
                      ),
                    },
                    u.createElement(
                      "div",
                      { className: I.EventEditorTextTitle },
                      Object(E.f)("#EventEditor_RelatedToBroadcast")
                    )
                  ),
                  u.createElement(m.e, {
                    onChange: function (t) {
                      return e.OnRelatedToBroadcast(t);
                    },
                    label: Object(E.f)(
                      "#EventEditor_RelatedToBroadcast_action"
                    ),
                    checked: Boolean(n.hide_section_if_broadcast_is_hidden),
                  })
                ),
                F.b.CAN_UPLOAD_IMAGES &&
                  u.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        I.RightCol,
                        Ze.DescEditorPadding,
                        Q.TextSectionImages
                      ),
                    },
                    u.createElement(s.a, {
                      bShowLightBox: !0,
                      clanSteamID: a.GetClanSteamID(),
                      imageInsertCallBack: this.OnImageInsert,
                      fnSetImageURL: a.SetImageURL,
                      rgRealmList: a.GetIncludedRealmList(),
                    })
                  )
              );
            }),
            Object(n.c)([b.a], t.prototype, "GetCurText", null),
            Object(n.c)([b.a], t.prototype, "SetText", null),
            Object(n.c)([b.a], t.prototype, "OnTextChange", null),
            Object(n.c)([b.a], t.prototype, "OnImageInsert", null),
            Object(n.c)([b.a], t.prototype, "OnRelatedToBroadcast", null),
            (t = Object(n.c)([d.a], t))
          );
        })(u.Component),
        St = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = {}), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.EnsureBrowseData = function () {
              var e = this.props,
                t = e.saleSection,
                a = e.editModel;
              t.item_browse_section_data ||
                ((t.item_browse_section_data = {}),
                a.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.OnSubscriptionIDChange = function (e) {
              this.EnsureBrowseData(),
                (this.props.saleSection.item_browse_section_data.master_subscription =
                  Number.parseInt(e.target.value) || 0),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnRemoveTab = function (e) {
              this.EnsureBrowseData();
              var t = this.props.editModel,
                a = this.props.saleSection.item_browse_section_data;
              e >= 0 &&
                e < a.tabs.length &&
                (a.tabs.splice(e, 1), t.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.OnAddTab = function (e) {
              this.EnsureBrowseData(),
                this.props.saleSection.item_browse_section_data.tabs ||
                  (this.props.saleSection.item_browse_section_data.tabs = []),
                this.props.saleSection.item_browse_section_data.tabs.push(e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnShowAsDemos = function (e) {
              this.EnsureBrowseData(),
                (this.props.saleSection.item_browse_section_data.show_as_demos = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnEnableSearch = function (e) {
              this.EnsureBrowseData(),
                (this.props.saleSection.item_browse_section_data.enable_search = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.RenderTabName = function (e) {
              var t = fe.F.find(function (t) {
                  return t.flavor === e;
                }),
                a = e;
              return (
                t &&
                  ((a = Object(E.f)(t.label)),
                  e.startsWith("contenthub_") &&
                    (a +=
                      " (" +
                      Object(E.f)("#Sale_BrowserSortOption_ContentHub_Suffix") +
                      ")")),
                u.createElement(
                  u.Fragment,
                  null,
                  a,
                  Boolean(null == t ? void 0 : t.tooltip) &&
                    u.createElement(K.b, { tooltip: Object(E.f)(t.tooltip) })
                )
              );
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.saleSection.item_browse_section_data || {},
                a = t.master_subscription,
                n = t.tabs || [],
                i = fe.G.filter(function (e) {
                  return (
                    void 0 ===
                    n.find(function (t) {
                      return t === e;
                    })
                  );
                }).map(function (t) {
                  return u.createElement(
                    "div",
                    { key: t, className: S.ItemBrowseInactiveTab },
                    u.createElement(
                      "div",
                      {
                        className: S.ItemBrowseInactiveTabAdd,
                        onClick: function () {
                          return e.OnAddTab(t);
                        },
                      },
                      u.createElement(Me.s, null)
                    ),
                    e.RenderTabName(t)
                  );
                });
              return u.createElement(
                "div",
                null,
                u.createElement(m.e, {
                  label: Object(E.f)("#Sale_Section_EnableSearch"),
                  tooltip: Object(E.f)("#Sale_Section_EnableSearch_ttip"),
                  onChange: this.OnEnableSearch,
                  checked: t.enable_search,
                }),
                u.createElement(m.e, {
                  label: Object(E.f)("#Sale_Section_UseDemoLayout"),
                  tooltip: Object(E.f)("#Sale_Section_UseDemoLayout_ttip"),
                  onChange: this.OnShowAsDemos,
                  checked: t.show_as_demos,
                }),
                u.createElement(m.l, {
                  type: "text",
                  label: Object(E.f)("#Sale_BrowseSection_SubscriptionID"),
                  tooltip: Object(E.f)(
                    "#Sale_BrowseSection_SubscriptionID_ttip"
                  ),
                  onChange: this.OnSubscriptionIDChange,
                  value: a,
                }),
                u.createElement(
                  "div",
                  { className: I.EventEditorTextTitle },
                  Object(E.f)("#Sale_BrowseSection_TabList"),
                  u.createElement(K.b, {
                    tooltip: Object(E.f)("#Sale_BrowseSection_TabList_ttip"),
                  })
                ),
                u.createElement(G.a, {
                  items: n,
                  onDelete: this.OnRemoveTab,
                  onReorder: function () {
                    return e.props.editModel.SetDirty(o.c.jsondata_sales);
                  },
                  render: function (t) {
                    return u.createElement(
                      "div",
                      { className: S.ItemBrowseActiveTab },
                      e.RenderTabName(t)
                    );
                  },
                }),
                u.createElement(
                  "div",
                  { className: I.EventEditorTextTitle },
                  Object(E.f)("#Sale_BrowseSection_AdditionalTabList"),
                  u.createElement(K.b, {
                    tooltip: Object(E.f)(
                      "#Sale_BrowseSection_AdditionalTabList_ttip"
                    ),
                  })
                ),
                u.createElement("div", null, i),
                u.createElement(Ee.a, {
                  section: this.props.saleSection,
                  capsuleContainer: this.props.saleSection,
                  editModel: this.props.editModel,
                  bAllowPruneFacets: !0,
                })
              );
            }),
            Object(n.c)([b.a], t.prototype, "OnSubscriptionIDChange", null),
            Object(n.c)([b.a], t.prototype, "OnRemoveTab", null),
            Object(n.c)([b.a], t.prototype, "OnAddTab", null),
            Object(n.c)([b.a], t.prototype, "OnShowAsDemos", null),
            Object(n.c)([b.a], t.prototype, "OnEnableSearch", null),
            (t = Object(n.c)([d.a], t))
          );
        })(u.Component),
        Ot = Object(d.a)(function (e) {
          var t,
            a,
            n,
            i,
            r,
            l = e.editModel,
            s = Object(u.useState)(!1),
            c = s[0],
            d = s[1],
            p = [
              {
                label: Object(E.f)("#SaleItemSource_TaggedItems"),
                data: fe.n.k_ETaggedItems,
              },
              {
                label: Object(E.f)("#SaleItemSource_ContentHub"),
                data: fe.n.k_EContentHub,
              },
            ],
            _ = (function () {
              var e = Ne.Get(),
                t = Object(u.useState)(!e.BHasContentHubNames()),
                a = t[0],
                n = t[1],
                i = Object(u.useState)(e.GetContentHubNames()),
                r = i[0],
                o = i[1];
              return (
                Object(u.useEffect)(
                  function () {
                    e.LoadContentHubNames().then(function () {
                      o(e.GetContentHubNames()), n(!1);
                    });
                  },
                  [e]
                ),
                { bLoading: a, contentHubNames: r }
              );
            })(),
            g = (_.bLoading, _.contentHubNames);
          g &&
            ((n =
              null == g
                ? void 0
                : g.hubtypes.map(function (e) {
                    return { label: e, value: e };
                  })),
            (i = Array.from(
              null === (t = null == g ? void 0 : g.categories) || void 0 === t
                ? void 0
                : t.keys()
            ).map(function (e) {
              return {
                label:
                  (null == e ? void 0 : e.length) > 0
                    ? g.categories.get(e) + " (" + e + ")"
                    : "" + g.categories.get(e),
                value: e,
              };
            })),
            (r = Array.from(
              null === (a = null == g ? void 0 : g.tags) || void 0 === a
                ? void 0
                : a.keys()
            ).map(function (e) {
              return { label: g.tags.get(e) + " (" + e + ")", value: "" + e };
            })));
          var b = l.GetEventModel().jsondata;
          return u.createElement(
            K.c,
            {
              title: Object(E.f)("#Sale_BrowseSection_ContentHubTitle"),
              tooltip: Object(E.f)("#Sale_BrowseSection_ContentHubTooltip"),
              getMinimized: function () {
                return c;
              },
              toggleMinimized: function () {
                return d(!c);
              },
            },
            Boolean(g)
              ? u.createElement(
                  u.Fragment,
                  null,
                  u.createElement(
                    m.m,
                    null,
                    Object(E.f)("#SaleItemSource_Title")
                  ),
                  u.createElement(m.h, {
                    rgOptions: p,
                    selectedOption: b.item_source_type || fe.n.k_ETaggedItems,
                    onChange: function (e) {
                      if (
                        ((l.GetEventModel().jsondata.item_source_type = e.data),
                        e.data === fe.n.k_EContentHub)
                      ) {
                        var t = {
                          type: l.GetEventModel().GetContentHubType(),
                          category: l.GetEventModel().GetContentHubCategory(),
                          tagid: l.GetEventModel().GetContentHubTag(),
                        };
                        (l.GetEventModel().jsondata.source_content_hub = t),
                          l.GetEventModel().jsondata
                            .bAutoUpdateVanityURLForContentHub && yt(t, l);
                      }
                      l.SetDirty(o.c.jsondata_sales);
                    },
                  }),
                  b.item_source_type === fe.n.k_EContentHub &&
                    u.createElement(
                      u.Fragment,
                      null,
                      u.createElement(
                        m.m,
                        null,
                        Object(E.f)("#Sale_BrowseSection_ContentHubType")
                      ),
                      u.createElement(be.a, {
                        options: n,
                        value: n.find(function (e) {
                          return (
                            e.value === l.GetEventModel().GetContentHubType()
                          );
                        }),
                        onChange: function (e) {
                          var t = {
                            type: e.value,
                            category: l.GetEventModel().GetContentHubCategory(),
                            tagid: l.GetEventModel().GetContentHubTag(),
                          };
                          (l.GetEventModel().jsondata.source_content_hub = t),
                            l.GetEventModel().jsondata
                              .bAutoUpdateVanityURLForContentHub && yt(t, l),
                            l.SetDirty(o.c.jsondata_sales);
                        },
                        isSearchable: !0,
                      }),
                      "category" === l.GetEventModel().GetContentHubType() &&
                        u.createElement(
                          u.Fragment,
                          null,
                          u.createElement(
                            m.m,
                            null,
                            Object(E.f)(
                              "#Sale_BrowseSection_ContentHubCategory"
                            )
                          ),
                          u.createElement(be.a, {
                            options: i,
                            value: i.find(function (e) {
                              var t;
                              return (
                                e.value ===
                                (null === (t = l.GetEventModel()) ||
                                void 0 === t
                                  ? void 0
                                  : t.GetContentHubCategory())
                              );
                            }),
                            onChange: function (e) {
                              var t = {
                                type: l.GetEventModel().GetContentHubType(),
                                category: e.value,
                                tagid: l.GetEventModel().GetContentHubTag(),
                              };
                              (l.GetEventModel().jsondata.source_content_hub = t),
                                l.GetEventModel().jsondata
                                  .bAutoUpdateVanityURLForContentHub &&
                                  yt(t, l),
                                l.SetDirty(o.c.jsondata_sales);
                            },
                            isSearchable: !0,
                          })
                        ),
                      "tags" === l.GetEventModel().GetContentHubType() &&
                        u.createElement(
                          u.Fragment,
                          null,
                          u.createElement(
                            m.m,
                            null,
                            Object(E.f)("#Sale_BrowseSection_ContentHubTag")
                          ),
                          u.createElement(be.a, {
                            options: r,
                            value: r.find(function (e) {
                              var t;
                              return (
                                e.value ===
                                (null ===
                                  (t = l.GetEventModel().GetContentHubTag()) ||
                                void 0 === t
                                  ? void 0
                                  : t.toString())
                              );
                            }),
                            onChange: function (e) {
                              var t = {
                                type: l.GetEventModel().GetContentHubType(),
                                category: l
                                  .GetEventModel()
                                  .GetContentHubCategory(),
                                tagid: Number(e.value),
                              };
                              (l.GetEventModel().jsondata.source_content_hub = t),
                                l.GetEventModel().jsondata
                                  .bAutoUpdateVanityURLForContentHub &&
                                  yt(t, l),
                                l.SetDirty(o.c.jsondata_sales);
                            },
                            isSearchable: !0,
                          })
                        ),
                      u.createElement(m.e, {
                        label: Object(E.f)(
                          "#Sale_BrowseSection_ContentHubDiscountedOnly"
                        ),
                        checked: b.content_hub_discounted_only,
                        onChange: function (e) {
                          (l.GetEventModel().jsondata.content_hub_discounted_only = e),
                            l.SetDirty(o.c.jsondata_sales);
                        },
                      }),
                      u.createElement(m.e, {
                        label:
                          "Auto update vanity URL based on configured content hub",
                        checked: b.bAutoUpdateVanityURLForContentHub,
                        onChange: function (e) {
                          ((l.GetEventModel().jsondata.bAutoUpdateVanityURLForContentHub = e),
                          e) &&
                            yt(
                              {
                                type: l.GetEventModel().GetContentHubType(),
                                category: l
                                  .GetEventModel()
                                  .GetContentHubCategory(),
                                tagid: l.GetEventModel().GetContentHubTag(),
                              },
                              l
                            );
                          l.SetDirty(o.c.jsondata_sales);
                        },
                      })
                    )
                )
              : u.createElement(A.a, { size: "medium", position: "center" })
          );
        });
      function yt(e, t) {
        if (e.type)
          if ("category" !== e.type || e.category)
            if ("tags" !== e.type || e.tagid) {
              var a = "contenthubsalepage_" + e.type;
              "category" === e.type
                ? (a += "_" + e.category)
                : "tags" === e.type && (a += "_" + e.tagid),
                (t.GetEventModel().jsondata.sale_vanity_id = a);
            } else
              console.warn(
                "SetVanityURLForContentHub: Undefined tag id for tag hub, skipping vanity URL update."
              );
          else
            console.warn(
              "SetVanityURLForContentHub: Undefined category for category hub, skipping vanity URL update."
            );
        else
          console.warn(
            "SetVanityURLForContentHub: Undefined hub type, skipping vanity URL update."
          );
      }
      var Ct = Object(d.a)(function (e) {
          var t = e.editModel,
            a = e.saleSection,
            n = (e.index, a.internal_section_data),
            i = [
              {
                label: Object(E.f)(
                  "#Sale_VOInternalSection_SubscriptionPricing"
                ),
                data: "subscription_pricing",
              },
              {
                label: Object(E.f)("#Sale_VOInternalSection_TabContents"),
                data: "tab_contents",
              },
              {
                label: Object(E.f)("#Sale_VOInternalSection_TabReferences"),
                data: "tab_references",
              },
              {
                label: Object(E.f)(
                  "#Sale_VOInternalSection_ReservationSection"
                ),
                data: "reservation_widget",
              },
              {
                label: Object(E.f)("#Sale_VOInternalSection_CYOAStory"),
                data: "cyoa_story",
              },
            ],
            r = null == n ? void 0 : n.internal_type,
            l = [];
          if ("cyoa_story" === r)
            for (var s = 1; s <= 14; s++)
              l.push({
                label: Object(E.f)("#SummerSale2021Genre_" + s),
                data: s,
              });
          return u.createElement(
            u.Fragment,
            null,
            u.createElement(m.h, {
              rgOptions: i,
              strDropDownClassName: I.DropDownScroll,
              selectedOption: r || "subscription_pricing",
              onChange: function (e) {
                (n.internal_type = e.data), t.SetDirty(o.c.jsondata_sales);
              },
              contextMenuPositionOptions: { bDisablePopTop: !0 },
            }),
            Boolean("cyoa_story" !== r && "reservation_widget" !== r) &&
              u.createElement(me.a, {
                capsuleContainer: a,
                editModel: t,
                uniqueKey: "Section" + a.unique_id,
                disableDaySelection: !0,
              }),
            Boolean("subscription_pricing" === r) &&
              u.createElement(m.l, {
                type: "text",
                label: Object(E.f)("#Sale_SubscriptionLogo"),
                tooltip: Object(E.f)("#Sale_SubscriptionLogo_ttip"),
                onChange: function (e) {
                  (n.subscription_logo_image = e.target.value),
                    t.SetDirty(o.c.jsondata_sales);
                },
                value: (null == n ? void 0 : n.subscription_logo_image) || "",
              }),
            Boolean("cyoa_story" === r) &&
              u.createElement(m.h, {
                label: Object(E.f)("#SummerSale2021_ChooseGenreLabel"),
                rgOptions: l,
                strDropDownClassName: I.DropDownScroll,
                selectedOption: n.cyoa_story_genre,
                onChange: function (e) {
                  (n.cyoa_story_genre = e.data), t.SetDirty(o.c.jsondata_sales);
                },
              }),
            Boolean("reservation_widget" === r) &&
              u.createElement(we.a, {
                event: t.GetEventModel(),
                saleSection: a,
                fnOnDirty: function () {
                  return t.SetDirty(o.c.jsondata_sales);
                },
              })
          );
        }),
        jt = Object(d.a)(function (e) {
          switch (e.saleSection.section_type) {
            case "items":
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(pt, Object(n.a)({}, e)),
                u.createElement(
                  gt,
                  Object(n.a)({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "events":
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(mt, Object(n.a)({}, e)),
                u.createElement(
                  gt,
                  Object(n.a)({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "links":
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(_t, Object(n.a)({}, e)),
                u.createElement(
                  gt,
                  Object(n.a)({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "broadcast":
              return u.createElement(xe, Object(n.a)({}, e));
            case "event_description":
              return u.createElement(He, Object(n.a)({}, e));
            case "text_section":
              return u.createElement(ft, Object(n.a)({}, e));
            case "curator":
              return u.createElement(Ue, Object(n.a)({}, e));
            case "vo_internal":
              return u.createElement(Ct, Object(n.a)({}, e));
            case "tabs":
              return u.createElement(ge.b, Object(n.a)({}, e));
            case "tab_buttons":
              return null;
            case "doors":
              return u.createElement("div", null, "No settings for now.");
            case "sale_item_browser":
              return u.createElement(St, Object(n.a)({}, e));
            case "event_schedule":
              return u.createElement(te, Object(n.a)({}, e));
            case "curator_recommendation":
              return u.createElement(Ve, Object(n.a)({}, e));
            case "contenthubmaincarousel":
              return u.createElement(
                qe,
                Object(n.a)({ section: e.saleSection }, e)
              );
            case "contenthubsections":
              return u.createElement(
                Qe,
                Object(n.a)({ section: e.saleSection }, e)
              );
            case "itemdef":
              return u.createElement(
                u.Fragment,
                null,
                u.createElement($e, Object(n.a)({}, e)),
                u.createElement(
                  gt,
                  Object(n.a)({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "unselected_empty":
            default:
              return null;
          }
        });
      var Tt = (function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (
            (t.m_bMounted = !1),
            (t.state = { storeCategories: [], storeTags: [] }),
            t
          );
        }
        return (
          Object(n.d)(t, e),
          (t.prototype.componentDidMount = function () {
            var e = this;
            (this.m_bMounted = !0),
              r.a
                .get(F.c.STORE_BASE_URL + "actions/ajaxgetstoretags")
                .then(function (t) {
                  e.m_bMounted &&
                    e.setState({ storeTags: t.data && t.data.tags });
                }),
              r.a
                .get(F.c.STORE_BASE_URL + "actions/ajaxgetstorecategories")
                .then(function (t) {
                  e.m_bMounted && e.setState({ storeCategories: t.data });
                });
          }),
          (t.prototype.componentWillUnmount = function () {
            this.m_bMounted = !1;
          }),
          (t.prototype.OnSmartSectionTypeChange = function (e) {
            (this.props.saleSection.smart_section_type = e.data),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnSmartSectionMaxAppChange = function (e) {
            (this.props.saleSection.smart_section_max_apps = Number.parseInt(
              e.target.value
            )),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.SetSmartSectionCategory = function (e) {
            (this.props.saleSection.smart_section_category = Number(e.data)),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.SetSmartSectionTag = function (e) {
            (this.m_refInput.element.value = ""),
              (this.props.saleSection.smart_section_tag = Number(e.id)),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.UpdateTagSuggestions = function (e) {
            return Object(n.b)(this, void 0, void 0, function () {
              var t,
                a = this;
              return Object(n.e)(this, function (n) {
                return (
                  (t = e.target.value),
                  window.setTimeout(function () {
                    var e = a.state.storeTags
                      .filter(function (e) {
                        return (
                          -1 !== e.name.toLowerCase().indexOf(t.toLowerCase())
                        );
                      })
                      .map(function (e) {
                        return { id: e.tagid, name: e.name, type: "tag" };
                      });
                    a.m_searchResultsMenu = Object(y.a)(
                      u.createElement(
                        z.c,
                        { className: Q.SearchResults },
                        e.map(function (e) {
                          return u.createElement(
                            z.d,
                            {
                              key: e.id,
                              onSelected: function () {
                                return a.SetSmartSectionTag(e);
                              },
                            },
                            u.createElement(
                              "div",
                              {
                                style: {
                                  display: "flex",
                                  alignItems: "center",
                                },
                              },
                              Object(J.b)(e.name),
                              " ",
                              u.createElement("span", null, "(", e.id, ")"),
                              " ",
                              u.createElement(
                                "span",
                                { className: Q.SmallText },
                                "(",
                                e.type,
                                ")"
                              )
                            )
                          );
                        })
                      ),
                      a.m_refInput.element,
                      {
                        bOverlapHorizontal: !0,
                        bMatchWidth: !0,
                        bFitToWindow: !0,
                        bDisablePopTop: !0,
                      }
                    );
                  }, 300),
                  [2]
                );
              });
            });
          }),
          (t.prototype.SetMasterAppID = function (e, t) {
            var a = this;
            this.m_refInput &&
              this.m_refInput.element &&
              this.m_refInput.element.value &&
              (this.m_refInput.element.value = ""),
              Object(O.G)(function () {
                (a.props.saleSection.capsules = [{ id: e, type: t }]),
                  Object(Ge.i)(a.props.saleSection.capsules),
                  a.props.editModel.SetDirty(o.c.jsondata_sales);
              });
          }),
          (t.prototype.OnChooseMasterSubscriptionID = function (e) {
            Object(w.d)(
              u.createElement(pe.a, { fnAddCapsule: this.SetMasterAppID }),
              Object(B.m)(e)
            );
          }),
          (t.prototype.render = function () {
            var e,
              t = this,
              a = this.props.editModel,
              n = this.state.storeCategories.map(function (e) {
                return { label: e.name, data: e.categoryid };
              }),
              i = [
                {
                  label: Object(E.f)("#Sale_Wishlist") + " (?)",
                  tooltip: Object(E.f)("#Sale_Wishlist_ttip"),
                  data: "wishlist",
                },
                {
                  label: Object(E.f)("#Sale_InteractiveRecommender") + " (?)",
                  tooltip: Object(E.f)("#Sale_InteractiveRecommender_ttip"),
                  data: "interactive_recommender",
                },
                {
                  label: Object(E.f)("#Sale_SmartSection_Discount") + " (?)",
                  tooltip: Object(E.f)("#Sale_SmartSection_Discount_ttip"),
                  data: "discounted",
                },
              ];
            Object(k.a)(a.GetClanSteamID()) &&
              (i.push({
                label: "(VO) " + Object(E.f)("#Sale_Tag"),
                tooltip: Object(E.f)("#Sale_Tag_ttip"),
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "tag",
              }),
              i.push({
                label: "(VO) " + Object(E.f)("#Sale_Category"),
                tooltip: Object(E.f)("#Sale_Category_ttip"),
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "category",
              }),
              i.push({
                label: "(VO) Tag Recommender (?)",
                tooltip:
                  "Orders games featured on this sales page by their original store tags mashed against the recommended tags for the logged in users.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "tag_recommender",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_TopWishlisted") +
                  " (?)",
                tooltip:
                  "Orders games featured on this sales page by all time wishlist data.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "topwishlisted",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_TrendingWishlisted") +
                  " (?)",
                tooltip:
                  "Orders games featured on this sales page by using trending wishlist data from last 2 weeks as a sliding window.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "trendingwishlisted",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_PopularPurchased") +
                  " (?)",
                tooltip:
                  "Show games featured on this sale page, ordered by their recent trending sales data",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "popularpurchased",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)(
                    "#Sale_BrowserSortOption_PopularPurchasedDiscounted"
                  ) +
                  " (?)",
                tooltip:
                  "Shows games featured on this sale page that also have a DISCOUNT NOW, and orders them by their recent trending sales data",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "popularpurchaseddiscounted",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_NewAndTrending") +
                  " (?)",
                tooltip:
                  "Shows games in a similar fashion to the front pages New and Trending tab. Mix of recency of release, review score and play count",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "newandtrending",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_PopularComingSoon") +
                  " (?)",
                tooltip:
                  "Orders not released games featured on this sales page by their all time wishlists data.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "popularcomingsoon",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_MostPlayedDemo") +
                  " (?)",
                tooltip:
                  "Orders games featured on this sales page by total demo player count (all-time).",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "mostplayeddemo",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_DailyActiveUserDemo") +
                  " (?)",
                tooltip:
                  "Orders games featured on this sales page by yesterdays peak player count.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "dailyactiveuserdemo",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_PlayedNowDemo") +
                  " (?)",
                tooltip:
                  "This is limited to Demo AppIDs. Using only featured games from this sale page. Will sort games using live server player count data with a 5 minute.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "playednowdemo",
              }),
              i.push({
                label: "(VO) Show ANY discounted item from user's wishlist (?)",
                tooltip:
                  "This will pull the ANY discount game that is also on the logged in users wishlist across the entire Steam catalog. Not limited to the games featured on this sale page.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "wishlist_onsale",
              }),
              i.push({
                label: "(VO) Show ANY discounted DLC from user's library (?)",
                tooltip:
                  "This will pull the ANY DLC for a game in the users library that is on Sale. Not limited to the DLCs featured on this sale page.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "dlc_onsale",
              }),
              i.push({
                label:
                  "(VO) Show ANY discounted Soundtracks from user's library (?)",
                tooltip:
                  "This will pull any soundtrack (specific DLC) for a game the user owns that is on sale across the entire Steam catalog",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "dlc_music_onsale",
              }),
              i.push({
                label: "(VO) Show ANY discounted Top Seller (?)",
                tooltip:
                  "This will pull the TOP discounted apps across the ENTIRE Steam catalog and it is not limited to the games specifically featured in this sales page.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "top_n",
              }),
              i.push({
                label: "(VO) Show ANY discounted (?)",
                tooltip:
                  "This will pull ALL discounted apps across the ENTIRE Steam catalog and it is not limited to the games specifically featured in this sales page.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "all_discounted",
              }),
              i.push({
                label:
                  "(VO) Show ANY discounted interactive recommendations (?)",
                tooltip:
                  "This will use the interactive recommender results for logged in users to pull the TOP recommended that are also on discount across the ENTIRE Steam catalog. It is not limited to the games specifically featured in this sales page.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "interactive_recommender_onsale",
              }),
              i.push({
                label:
                  "(VO) Show Various TAGs as clickable links to hub pages (?)",
                tooltip:
                  "Displays a carousel of tag related images that will direct for a set of curated tags backed by Steam Tag Content hubs",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "sale_tabhub",
              }),
              i.push({
                label:
                  "(VO) Show Interactive Recommended Games from Subscription (?)",
                tooltip:
                  "Specific to a Master Subscription (ie, EA Play) on Steam.  Will only displayed IR recommended games for a logged in users that part of the master subscription",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "ir_subscription",
              }));
            var r = this.props.saleSection,
              o = this.props.saleSection.smart_section_type;
            return u.createElement(
              Te.a,
              null,
              u.createElement(
                "div",
                { className: Object(N.a)(I.FlexRowContainer) },
                u.createElement(m.h, {
                  strClassName: Q.SmartSelType,
                  label: Object(E.f)("#Sale_SmartSectionType"),
                  rgOptions: i,
                  selectedOption:
                    this.props.saleSection.smart_section_type || "wishlist",
                  onChange: this.OnSmartSectionTypeChange,
                  contextMenuPositionOptions: { bDisablePopTop: !0 },
                }),
                u.createElement(
                  "div",
                  null,
                  u.createElement(
                    "label",
                    { className: Object(N.a)("DialogLabel", Q.SmartSelLabel) },
                    Object(E.f)("#Sale_SmartSection_MaxApps")
                  ),
                  u.createElement(
                    "div",
                    null,
                    u.createElement("input", {
                      className: Object(N.a)(Q.SmartSelCount),
                      type: "number",
                      min: "0",
                      value: this.props.saleSection.smart_section_max_apps || 0,
                      onChange: this.OnSmartSectionMaxAppChange,
                    })
                  )
                )
              ),
              "tag" === o &&
                u.createElement(
                  u.Fragment,
                  null,
                  u.createElement(m.l, {
                    onBlur: function () {
                      setTimeout(function () {
                        return (
                          t.m_searchResultsMenu && t.m_searchResultsMenu.Hide()
                        );
                      }, 200);
                    },
                    ref: function (e) {
                      return (t.m_refInput = e);
                    },
                    type: "text",
                    label: Object(E.f)("#Sale_SelectTag"),
                    value: this.props.saleSection.smart_section_tag || "",
                    onChange: this.UpdateTagSuggestions,
                  }),
                  u.createElement(
                    "div",
                    null,
                    null ===
                      (e = this.state.storeTags.find(function (e) {
                        return (
                          Number(e.tagid) ===
                          t.props.saleSection.smart_section_tag
                        );
                      })) || void 0 === e
                      ? void 0
                      : e.name
                  )
                ),
              "category" === o &&
                u.createElement(m.h, {
                  key: n.length,
                  label: Object(E.f)("#Sale_SelectCategory"),
                  strDropDownClassName: I.DropDownScroll,
                  rgOptions: n,
                  selectedOption:
                    this.props.saleSection.smart_section_category || 1,
                  onChange: this.SetSmartSectionCategory,
                  contextMenuPositionOptions: { bDisablePopTop: !0 },
                }),
              "ir_subscription" === o &&
                u.createElement(
                  "div",
                  null,
                  Boolean(r.capsules && r.capsules.length > 0) &&
                    u.createElement(de.a, { capsule: r.capsules[0] }),
                  u.createElement(
                    "div",
                    { className: Q.SaleImportBarButtonGroup },
                    u.createElement(
                      M.a,
                      {
                        toolTipContent:
                          "Enter the master subscription appid ID.",
                      },
                      u.createElement(
                        m.d,
                        {
                          className: Q.SaleImportBarButton,
                          onClick: this.OnChooseMasterSubscriptionID,
                        },
                        "Set Master Subscription ID"
                      )
                    )
                  )
                ),
              u.createElement(nt.d, {
                capsuleContainer: this.props.saleSection,
                editModel: this.props.editModel,
              }),
              u.createElement(Ee.a, {
                section: this.props.saleSection,
                capsuleContainer: this.props.saleSection,
                editModel: this.props.editModel,
              })
            );
          }),
          Object(n.c)([b.a], t.prototype, "OnSmartSectionTypeChange", null),
          Object(n.c)([b.a], t.prototype, "OnSmartSectionMaxAppChange", null),
          Object(n.c)([b.a], t.prototype, "SetSmartSectionCategory", null),
          Object(n.c)([b.a], t.prototype, "SetSmartSectionTag", null),
          Object(n.c)([b.a], t.prototype, "UpdateTagSuggestions", null),
          Object(n.c)([b.a], t.prototype, "SetMasterAppID", null),
          Object(n.c)([b.a], t.prototype, "OnChooseMasterSubscriptionID", null),
          (t = Object(n.c)([d.a], t))
        );
      })(u.Component);
    },
    mHFc: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return o;
      }),
        a.d(t, "c", function () {
          return l;
        }),
        a.d(t, "a", function () {
          return s;
        }),
        a.d(t, "d", function () {
          return c;
        });
      var n = a("mrSG"),
        i = a("2vnA"),
        r = a("t0uJ"),
        o = (function () {
          function e() {
            (this.m_mapMinimizedState = new Map()),
              (this.m_setLoaded = new Set());
          }
          return (
            (e.prototype.EnsureLoaded = function (e) {
              var t = e.GetGID();
              if (!this.m_setLoaded.has(t)) {
                var a = Object(r.a)("esmin-" + t) || {};
                this.m_mapMinimizedState.set(t, a), this.m_setLoaded.add(t);
              }
            }),
            (e.prototype.IsMinimized = function (e, t, a) {
              var n = this.m_mapMinimizedState.get(e.GetGID()),
                i = n ? n[t] : void 0;
              return void 0 === i ? a : Boolean(i);
            }),
            (e.prototype.ToggleMinimized = function (e, t, a) {
              var n = this.m_mapMinimizedState.get(e.GetGID()) || {},
                i = n[t],
                o = void 0 === i ? a : Boolean(i);
              (n[t] = !o), Object(r.b)("esmin-" + e.GetGID(), n);
            }),
            (e.prototype.SetMinimizedList = function (e, t, a) {
              for (
                var n = this.m_mapMinimizedState.get(e.GetGID()) || {},
                  i = 0,
                  o = t;
                i < o.length;
                i++
              ) {
                n[o[i]] = a;
              }
              Object(r.b)("esmin-" + e.GetGID(), n);
            }),
            (e.prototype.BHasExplicitSettings = function (e) {
              return !!Object(r.a)("esmin-" + e.GetGID());
            }),
            (e.Get = function () {
              return e.s_Singleton || (e.s_Singleton = new e()), e.s_Singleton;
            }),
            Object(n.c)([i.k], e.prototype, "EnsureLoaded", null),
            Object(n.c)([i.k], e.prototype, "ToggleMinimized", null),
            Object(n.c)([i.k], e.prototype, "SetMinimizedList", null),
            Object(n.c)([i.C], e.prototype, "m_mapMinimizedState", void 0),
            e
          );
        })();
      function l() {
        var e = r.c.GetEditModel(),
          t = e.GetSaleSections().map(function (e) {
            return "SaleSection_" + e.unique_id;
          });
        t.push(
          "SalePageEdit_Config",
          "sale_header",
          "sale_artwork_section",
          "product_banner",
          "product_mobile_banner",
          "SalePageEdit_TaggedItems"
        ),
          o.Get().SetMinimizedList(e, t, !0);
      }
      function s(e, t) {
        void 0 === t && (t = !1);
        var a = r.c.GetEditModel();
        return o.Get().IsMinimized(a, e, t);
      }
      function c(e, t) {
        void 0 === t && (t = !1);
        var a = r.c.GetEditModel();
        return o.Get().ToggleMinimized(a, e, t);
      }
    },
    nvcf: function (e, t, a) {
      e.exports = {
        EventCategoryCtn: "partnereventsalewidgeteditor_EventCategoryCtn_46KWq",
        EventCategoryWidth:
          "partnereventsalewidgeteditor_EventCategoryWidth_3SyzC",
        SingleLine: "partnereventsalewidgeteditor_SingleLine_JPNIC",
      };
    },
    oqmg: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return Z;
      }),
        a.d(t, "c", function () {
          return ae;
        }),
        a.d(t, "d", function () {
          return ne;
        }),
        a.d(t, "e", function () {
          return ie;
        }),
        a.d(t, "a", function () {
          return pe;
        });
      var n = a("mrSG"),
        i = a("vDqi"),
        r = a.n(i),
        o = a("fcuX"),
        l = a("KP/B"),
        s = a("226m"),
        c = a("i3zJ"),
        d = a("UvY0"),
        u = a("2vnA"),
        p = a("TyAF"),
        m = a("q1tI"),
        _ = a("Cs6D"),
        g = a("vwsU"),
        E = a("dsQf"),
        b = a.n(E),
        h = a("TtDX"),
        v = a("3+zv"),
        f = a("5eAM"),
        S = a("R+8l"),
        O = a("oVVc"),
        y = a("y+6m"),
        C = a("Mgs7"),
        j = a("qP7j"),
        T = a("fpVW"),
        I = a("gyoR"),
        D = a("MnIK"),
        w = a("Jqb/"),
        G = a("ka0M"),
        A = a("xnZ7"),
        M = a.n(A),
        k = a("0OaU"),
        L = a("+d9t"),
        N = a("qiKp"),
        B = a("exH9"),
        R = a("TLQK"),
        F = a("opsS"),
        P = a("bS9Q"),
        x = a("IzPI"),
        U = a("lkRc"),
        H = a("as1E"),
        V = a("k3PP"),
        z = a("DisI"),
        W = a("JiI5"),
        q = a("IMce"),
        Y = a("mHFc"),
        J = a("putg");
      function Q(e) {
        return (e = (e = (e = e.replace('"', " ")).replace("<", " ")).replace(
          ">",
          " "
        )).trim();
      }
      function Z(e) {
        var t = null,
          a = "",
          n = !1,
          i = null == e ? void 0 : e.type;
        if ("bundle" === i)
          (t = S.a.GetBundleInfo(e.id)),
            (a = U.c.STORE_BASE_URL + "bundle/" + e.id),
            (n = !t);
        else if ("sub" === i)
          (t = O.b.GetPackageInfo(e.id)),
            (a = U.c.STORE_BASE_URL + "sub/" + e.id),
            (n = !t);
        else if (i) {
          f.a.LoadAppLinkInfo([e.id]);
          var r = f.a.GetAppLinkInfo(e.id);
          (t = r && r.name ? r : null),
            (a = U.c.STORE_BASE_URL + "app/" + e.id),
            (n = !t && f.a.BHasAppLinkLoaded(e.id));
        }
        return { appData: t, linkURL: a, bInvalidID: n };
      }
      var K = function (e) {
          return m.createElement("img", {
            className: M.a.RemoveIcon,
            src: b.a,
            onClick: e.onClick,
          });
        },
        X = function (e) {
          var t,
            a = e.clause;
          if (!(null === (t = a.or_tags) || void 0 === t ? void 0 : t.length))
            return null;
          var n =
              ("Must have" === a.type
                ? Object(R.f)("#Sale_TagFilter_MustHave")
                : Object(R.f)("#Sale_TagFilter_MustNotHave")) +
              " '" +
              a.or_tags.join("' " + Object(R.f)("#Sale_TagFilter_Or") + " '") +
              "'",
            i = "Must have" === a.type ? q.MustHaveClause : q.MustNotHaveClause;
          return m.createElement(
            "div",
            { className: Object(B.a)(i, q.ClauseRowCtn) },
            n
          );
        },
        $ = function (e) {
          var t = e.filter;
          return Object(l.q)(t)
            ? m.createElement(
                "div",
                { className: q.FilterDisplayNoFilter },
                Object(R.f)("#Sale_TagFilter_NoFilter"),
                m.createElement(z.b, {
                  tooltip: Object(R.f)("#Sale_TagFilter_NoFilter_ttip"),
                })
              )
            : m.createElement(
                "div",
                { className: q.FilterDisplayList },
                t.clauses.map(function (e, t) {
                  return m.createElement(X, { clause: e, key: "clause" + t });
                })
              );
        },
        ee = (function () {
          function e(e) {
            this.m_storageKey = "RecentTags_" + e;
            var t = window.localStorage.getItem(this.m_storageKey);
            this.m_Tags = t ? JSON.parse(t) : [];
          }
          return (
            (e.prototype.GetRecentTags = function () {
              return this.m_Tags;
            }),
            (e.prototype.AddRecentTag = function (e) {
              var t = this.m_Tags.filter(function (t) {
                return t.toLocaleLowerCase() !== e.toLocaleLowerCase();
              });
              this.m_Tags = Object(n.g)([e], t).slice(0, 20);
              var a = JSON.stringify(this.m_Tags);
              window.localStorage.setItem(this.m_storageKey, a);
            }),
            (e.Get = function (t) {
              var a = e.m_mapStores.get(t.GetEventModel().GID);
              return (
                a ||
                  ((a = new e(t.GetEventModel().GID)),
                  e.m_mapStores.set(t.GetEventModel().GID, a)),
                a
              );
            }),
            (e.m_mapStores = new Map()),
            Object(n.c)([u.C], e.prototype, "m_Tags", void 0),
            e
          );
        })(),
        te = Object(p.a)(function (e) {
          var t = e.id,
            a = e.type,
            n = e.name;
          return m.createElement(
            "div",
            { style: { display: "flex", alignItems: "center" } },
            m.createElement(
              "div",
              { className: M.a.GameImageContainer },
              m.createElement("img", {
                src: Object(x.d)(Number(t)),
                className: M.a.AvatarImage,
              })
            ),
            Object(P.b)(n),
            " ",
            m.createElement("span", null, "(", t, ")"),
            " ",
            m.createElement("span", { className: W.SmallText }, "(", a, ")")
          );
        }),
        ae = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.m_currentRequest = 0), (t.m_refInput = m.createRef()), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnAddItem = function (e, t) {
              (this.m_refInput.current.element.value = ""),
                this.props.onAddItem(e, t);
            }),
            (t.prototype.UpdateAppSuggestions = function (e) {
              return Object(n.b)(this, void 0, void 0, function () {
                var t,
                  a = this;
                return Object(n.e)(this, function (i) {
                  return (t = e.target.value) && 0 != t.trim().length
                    ? (window.clearTimeout(this.m_currentRequest),
                      (this.m_currentRequest = window.setTimeout(function () {
                        return Object(n.b)(a, void 0, void 0, function () {
                          var e,
                            a,
                            i,
                            o,
                            l,
                            s,
                            c,
                            d,
                            u,
                            p,
                            _,
                            g = this;
                          return Object(n.e)(this, function (n) {
                            switch (n.label) {
                              case 0:
                                return (
                                  (e = new Array()),
                                  0 !== t.indexOf("https://")
                                    ? [3, 1]
                                    : ((a = t.split("/")),
                                      (i = a.indexOf("app")),
                                      (o =
                                        i > -1 &&
                                        a.length > i + 1 &&
                                        a[i + 1]) &&
                                        e.push({
                                          id: o,
                                          name: a[-1],
                                          type: "game",
                                        }),
                                      (l = a.indexOf("bundle")),
                                      (s =
                                        l > -1 &&
                                        a.length > l + 1 &&
                                        a[l + 1]) &&
                                        e.push({
                                          id: s,
                                          name: a[-1],
                                          type: "bundle",
                                        }),
                                      (c = a.indexOf("sub")),
                                      (d =
                                        c > -1 &&
                                        a.length > c + 1 &&
                                        a[c + 1]) &&
                                        e.push({
                                          id: d,
                                          name: a[-1],
                                          type: "sub",
                                        }),
                                      [3, 3])
                                );
                              case 1:
                                return (
                                  (u =
                                    U.c.STORE_BASE_URL +
                                    "events_promotion_admin/ajaxitemsuggest"),
                                  (p = {
                                    term: t.replace(" ", "+"),
                                    cc: U.c.COUNTRY,
                                    l: U.c.LANGUAGE,
                                  }),
                                  [
                                    4,
                                    r.a.get(u, {
                                      params: p,
                                      withCredentials: !0,
                                    }),
                                  ]
                                );
                              case 2:
                                (_ = n.sent()).data && (e = _.data),
                                  (n.label = 3);
                              case 3:
                                return (
                                  e &&
                                    (this.m_searchResultsMenu = Object(h.a)(
                                      m.createElement(
                                        y.c,
                                        { className: W.SearchResults },
                                        e.map(function (e) {
                                          return m.createElement(
                                            y.d,
                                            {
                                              key: e.id,
                                              onSelected: function () {
                                                return g.OnAddItem(
                                                  Number(e.id),
                                                  e.type
                                                );
                                              },
                                            },
                                            m.createElement(te, {
                                              name: e.name,
                                              id: Number(e.id),
                                              type: e.type,
                                            })
                                          );
                                        })
                                      ),
                                      this.m_refInput.current.element,
                                      {
                                        bOverlapHorizontal: !0,
                                        bMatchWidth: !0,
                                        bFitToWindow: !0,
                                        bDisablePopTop: !0,
                                      }
                                    )),
                                  [2]
                                );
                            }
                          });
                        });
                      }, 300)),
                      [2])
                    : [2];
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this;
              return m.createElement(
                "div",
                { className: W.SaleImportURL },
                m.createElement(C.l, {
                  type: "text",
                  label: Object(R.f)("#Sale_SelectApps"),
                  onChange: this.UpdateAppSuggestions,
                  placeholder: Object(R.f)("#Sale_SelectApps_Placeholder"),
                  onBlur: function () {
                    setTimeout(function () {
                      return (
                        e.m_searchResultsMenu && e.m_searchResultsMenu.Hide()
                      );
                    }, 200);
                  },
                  ref: this.m_refInput,
                  tooltip: Object(R.f)("#Sale_SelectApps_Tooltip"),
                })
              );
            }),
            Object(n.c)([F.a], t.prototype, "OnAddItem", null),
            Object(n.c)([F.a], t.prototype, "UpdateAppSuggestions", null),
            t
          );
        })(m.Component),
        ne = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnApplyFilter = function (e) {
              var t = this.props,
                a = t.editModel,
                n = t.capsuleContainer,
                i = Object(l.o)(a);
              (n.sale_tag_filter = e),
                (n.capsules = Object(l.r)(i, e, n.capsules));
            }),
            (t.prototype.OnEditFilter = function () {
              var e = this.props.capsuleContainer;
              Object(G.d)(
                m.createElement(pe, {
                  editModel: this.props.editModel,
                  filter: e.sale_tag_filter || { clauses: [] },
                  title: Object(R.f)("#Sale_TagFilter_EditFilter"),
                  onApplyFilter: this.OnApplyFilter,
                  ignoreStartingReferences: e,
                }),
                window
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.capsuleContainer;
              return m.createElement(
                "div",
                { className: q.FilterDisplayCtn },
                m.createElement(
                  "div",
                  { className: q.FilterTitle },
                  Object(R.f)("#Sale_TagFilter_CurrentFilter"),
                  m.createElement(z.b, {
                    tooltip: Object(R.f)("#Sale_TagFilter_EditFilter_ttip"),
                  })
                ),
                m.createElement(
                  "div",
                  { className: q.FilterActionsCtn },
                  m.createElement($, { filter: e.sale_tag_filter }),
                  m.createElement(
                    C.d,
                    { onClick: this.OnEditFilter },
                    Object(R.f)("#Sale_TagFilter_EditFilter")
                  )
                )
              );
            }),
            Object(n.c)([F.a], t.prototype, "OnApplyFilter", null),
            Object(n.c)([F.a], t.prototype, "OnEditFilter", null),
            (t = Object(n.c)([p.a], t))
          );
        })(m.Component),
        ie = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bShowItemEditor: !1,
                strSearch: "",
                bShowFiltered: !1,
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.RemoveTagItem = function (e) {
              var t = this.props.editModel,
                a = t.GetEventModel().GetTaggedItems();
              e >= 0 &&
                e < a.length &&
                (a.splice(e, 1), t.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.AddTagItem = function (e, t) {
              Object(l.b)(this.props.editModel, t, e);
            }),
            (t.prototype.UpdateSearchText = function (e) {
              this.setState({ strSearch: e.target.value.toLowerCase() });
            }),
            (t.prototype.OnExploreTags = function () {
              var e = { clauses: new Array() };
              Object(G.d)(
                m.createElement(pe, {
                  editModel: this.props.editModel,
                  filter: e,
                  title: Object(R.f)("#Sale_TagFilter_Explore"),
                }),
                window
              );
            }),
            (t.prototype.OnBatchEditTags = function () {
              Object(G.d)(
                m.createElement(de, { editModel: this.props.editModel }),
                window
              );
            }),
            (t.prototype.OnEditAutoTags = function () {
              Object(G.d)(
                m.createElement(be, { editModel: this.props.editModel }),
                window
              );
            }),
            (t.prototype.OnApplyFilter = function (e) {
              var t = this.props.editModel;
              (t.GetEventModel().jsondata.tagged_item_filter = e),
                Object(l.u)(t),
                t.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnEditFilter = function () {
              var e = this.props.editModel;
              Object(G.d)(
                m.createElement(pe, {
                  editModel: e,
                  filter: Object(l.p)(e),
                  title: Object(R.f)("#Sale_TagFilter_EditFilter"),
                  onApplyFilter: this.OnApplyFilter,
                  ignoreEventFilter: !0,
                }),
                window
              );
            }),
            (t.prototype.OnShowFiltered = function (e) {
              this.setState({ bShowFiltered: e });
            }),
            (t.prototype.OnShowItemEditor = function () {
              this.setState({ bShowItemEditor: !0 });
            }),
            (t.prototype.OnEditRaw = function (e) {
              Object(G.d)(
                m.createElement(_e, {
                  editModel: this.props.editModel,
                  bRemoveMissingEntries: !0,
                }),
                window
              );
            }),
            (t.prototype.OnEditRawCustom = function (e) {
              Object(G.d)(
                m.createElement(_e, {
                  editModel: this.props.editModel,
                  collection: l.j.Custom,
                  bRemoveMissingEntries: !1,
                }),
                window
              );
            }),
            (t.prototype.OnDeleteFiltered = function () {
              var e = this.props.editModel;
              Object(l.g)(e) && e.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnSync = function (e) {
              Object(G.d)(
                m.createElement(ge, { editModel: this.props.editModel }),
                window
              );
            }),
            (t.prototype.OnImportDiscountEvent = function (e) {
              var t = this;
              Object(G.d)(
                m.createElement(c.a, {
                  onDiscountEventSelected: function (e, a) {
                    return Object(n.b)(t, void 0, void 0, function () {
                      var t, i, r;
                      return Object(n.e)(this, function (n) {
                        switch (n.label) {
                          case 0:
                            return (
                              (t = this.props.editModel),
                              (i = t.GetEventModel().GetTaggedItems()),
                              (r = new Array()),
                              e.forEach(function (e) {
                                if (
                                  !i.find(function (t) {
                                    return (
                                      t.capsule.id === e &&
                                      "sub" !== t.capsule.type
                                    );
                                  })
                                ) {
                                  var t = f.a.GetAppLinkInfo(e);
                                  r.push({
                                    capsule: {
                                      id: e,
                                      type: t ? t.type : "game",
                                    },
                                    tags: [],
                                  });
                                }
                              }),
                              a.forEach(function (e) {
                                i.find(function (t) {
                                  return (
                                    t.capsule.id === e &&
                                    "sub" === t.capsule.type
                                  );
                                }) ||
                                  r.push({
                                    capsule: { id: e, type: "sub" },
                                    tags: [],
                                  });
                              }),
                              0 == r.length ? [2] : [4, Object(l.w)(t, r)]
                            );
                          case 1:
                            return (
                              n.sent(),
                              i.push.apply(i, r),
                              t.SetDirty(o.c.jsondata_sales),
                              [2]
                            );
                        }
                      });
                    });
                  },
                }),
                window
              );
            }),
            (t.prototype.RenderEditPrompt = function () {
              return m.createElement(
                "div",
                { className: q.TagItemEditorCtn },
                m.createElement(
                  "div",
                  { className: q.ItemEditDescription },
                  Object(R.f)("#Sale_EditTags_EnableItemEditingDesc")
                ),
                m.createElement(
                  C.q,
                  { onClick: this.OnShowItemEditor },
                  Object(R.f)("#Sale_EditTags_EnableItemEditing")
                )
              );
            }),
            (t.prototype.RenderItemList = function () {
              var e = this,
                t = this.state,
                a = t.strSearch,
                n = t.bShowFiltered,
                i = this.props.editModel,
                r = Object(l.p)(i),
                o = 0,
                s = 0,
                c = i.GetEventModel().GetTaggedItems();
              Object(I.i)(
                c.map(function (e) {
                  return e.capsule;
                })
              );
              var u = c.map(function (t, c) {
                  var d = Object(l.h)(t.tags, r);
                  return (
                    d ? o++ : s++,
                    d || n
                      ? m.createElement(re, {
                          key: t.capsule.type + t.capsule.id,
                          item: t,
                          strSearchFilter: a,
                          editModel: i,
                          onRemove: function () {
                            return e.RemoveTagItem(c);
                          },
                        })
                      : null
                  );
                }),
                p =
                  (i.GetEventModel().jsondata.sale_opt_in_page_name,
                  Object(Y.a)("TaggedItemList", !1));
              return m.createElement(
                "div",
                { className: Object(B.a)(q.ItemListCtn, q.TagItemEditorCtn) },
                m.createElement(
                  "div",
                  { className: q.ItemListTitle },
                  m.createElement(
                    "div",
                    { className: H.SaleSectionTitleHeader },
                    m.createElement(
                      "div",
                      { className: T.EventEditorTextTitle },
                      s > 0
                        ? Object(R.f)("#Sale_TaggedItemsCountFiltered", o, s)
                        : Object(R.f)("#Sale_TaggedItemsCount", o),
                      m.createElement(z.b, {
                        tooltip: Object(R.f)("#Sale_TaggedItemsCount_ttip"),
                      })
                    ),
                    m.createElement(z.a, {
                      bIsMinimized: p,
                      fnToggleMinimize: function () {
                        return Object(Y.d)("TaggedItemList", !1);
                      },
                    })
                  ),
                  m.createElement(
                    "div",
                    { className: q.ItemListControls },
                    m.createElement(
                      "div",
                      { className: q.ButtonRow },
                      m.createElement(
                        C.d,
                        { onClick: this.OnExploreTags },
                        Object(R.f)("#Sale_Explore"),
                        m.createElement(z.b, {
                          tooltip: Object(R.f)("#Sale_ExploreTaggedItems_ttip"),
                        })
                      ),
                      m.createElement(
                        C.d,
                        { onClick: this.OnEditRaw },
                        Object(R.f)("#Sale_EditRaw"),
                        m.createElement(z.b, {
                          tooltip: Object(R.f)("#Sale_EditRawTaggedItems_ttip"),
                        })
                      ),
                      m.createElement(
                        C.d,
                        { onClick: this.OnSync },
                        Object(R.f)("#Sale_SyncTaggedItems"),
                        m.createElement(z.b, {
                          tooltip: Object(R.f)("#Sale_SyncTaggedItems_ttip"),
                        })
                      )
                    ),
                    m.createElement(
                      d.b,
                      { clanSteamID: i.GetClanSteamID() },
                      m.createElement(
                        "div",
                        { className: q.ButtonRow },
                        m.createElement(
                          C.d,
                          { onClick: this.OnEditFilter },
                          Object(R.f)("#Sale_EditTaggedItemFilter"),
                          m.createElement(z.b, {
                            tooltip: Object(R.f)(
                              "#Sale_EditTaggedItemFilter_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          C.d,
                          { onClick: this.OnImportDiscountEvent },
                          Object(R.f)("#Sale_DiscountEvent_Add"),
                          m.createElement(z.b, {
                            tooltip: Object(R.f)("#Sale_DiscountEvent_ttip"),
                          })
                        ),
                        m.createElement(
                          C.d,
                          { onClick: this.OnEditRawCustom },
                          Object(R.f)("#Sale_EditRawCustom"),
                          m.createElement(z.b, {
                            tooltip: Object(R.f)(
                              "#Sale_EditRawCustomTaggedItems_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          C.d,
                          { onClick: this.OnBatchEditTags },
                          Object(R.f)("#Sale_BatchEditTaggedItems"),
                          m.createElement(z.b, {
                            tooltip: Object(R.f)(
                              "#Sale_BatchEditTaggedItems_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          C.d,
                          { onClick: this.OnEditAutoTags },
                          Object(R.f)("#Sale_EditAutoTags"),
                          m.createElement(z.b, {
                            tooltip: Object(R.f)("#Sale_EditAutoTags_ttip"),
                          })
                        ),
                        s > 0 &&
                          m.createElement(
                            C.d,
                            { onClick: this.OnDeleteFiltered },
                            Object(R.f)("#Sale_DeleteFilteredItems"),
                            m.createElement(z.b, {
                              tooltip: Object(R.f)(
                                "#Sale_DeleteFilteredItems_ttip"
                              ),
                            })
                          )
                      )
                    )
                  )
                ),
                !p &&
                  m.createElement(
                    "div",
                    { className: q.ItemList },
                    s > 0 &&
                      m.createElement(C.e, {
                        label: Object(R.f)("#Sale_ShowFilteredTaggedItems"),
                        tooltip: Object(R.f)(
                          "#Sale_ShowFilteredTaggedItems_ttip"
                        ),
                        checked: this.state.bShowFiltered,
                        onChange: this.OnShowFiltered,
                      }),
                    m.createElement(C.l, {
                      type: "text",
                      label: Object(R.f)("#Sale_TaggedItemsFilter"),
                      placeholder: Object(R.f)("#Sale_TaggedItemsFilter"),
                      onChange: this.UpdateSearchText,
                      tooltip: Object(R.f)("#Sale_TaggedItemsFilter_ttip"),
                    }),
                    u
                  )
              );
            }),
            (t.prototype.render = function () {
              var e = this.state.bShowItemEditor,
                t = this.props.editModel,
                a = t.GetEventModel().GetTaggedItems();
              return m.createElement(
                m.Fragment,
                null,
                m.createElement(
                  "div",
                  { className: q.TagItemEditorCtn },
                  m.createElement(
                    d.b,
                    { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
                    m.createElement(V.c, { editModel: t })
                  )
                ),
                t.GetEventModel().jsondata.item_source_type !==
                  v.n.k_EContentHub &&
                  m.createElement(
                    m.Fragment,
                    null,
                    (null == a ? void 0 : a.length) || e
                      ? m.createElement(
                          m.Fragment,
                          null,
                          m.createElement(ae, { onAddItem: this.AddTagItem }),
                          this.RenderItemList()
                        )
                      : this.RenderEditPrompt()
                  ),
                t.GetEventModel().jsondata.item_source_type !==
                  v.n.k_ETaggedItems &&
                  m.createElement(
                    d.b,
                    { clanSteamID: t.GetClanSteamID() },
                    m.createElement(
                      "div",
                      { className: q.ButtonRow },
                      m.createElement(
                        C.d,
                        { onClick: this.OnEditAutoTags },
                        Object(R.f)("#Sale_EditAutoTags"),
                        m.createElement(z.b, {
                          tooltip: Object(R.f)("#Sale_EditAutoTags_ttip"),
                        })
                      )
                    )
                  )
              );
            }),
            Object(n.c)([F.a], t.prototype, "RemoveTagItem", null),
            Object(n.c)([F.a], t.prototype, "AddTagItem", null),
            Object(n.c)([F.a], t.prototype, "UpdateSearchText", null),
            Object(n.c)([F.a], t.prototype, "OnExploreTags", null),
            Object(n.c)([F.a], t.prototype, "OnBatchEditTags", null),
            Object(n.c)([F.a], t.prototype, "OnEditAutoTags", null),
            Object(n.c)([F.a], t.prototype, "OnApplyFilter", null),
            Object(n.c)([F.a], t.prototype, "OnEditFilter", null),
            Object(n.c)([F.a], t.prototype, "OnShowFiltered", null),
            Object(n.c)([F.a], t.prototype, "OnShowItemEditor", null),
            Object(n.c)([F.a], t.prototype, "OnEditRaw", null),
            Object(n.c)([F.a], t.prototype, "OnEditRawCustom", null),
            Object(n.c)([F.a], t.prototype, "OnDeleteFiltered", null),
            Object(n.c)([F.a], t.prototype, "OnSync", null),
            Object(n.c)([F.a], t.prototype, "OnImportDiscountEvent", null),
            (t = Object(n.c)([p.a], t))
          );
        })(m.Component),
        re = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { expanded: !1 }), t;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.OnEditTags = function () {
              Object(G.d)(
                m.createElement(ce, {
                  editModel: this.props.editModel,
                  item: this.props.item,
                  onTagsModified: this.props.onTagsModified,
                }),
                window
              );
            }),
            (t.prototype.OnToggleTags = function () {
              this.setState({ expanded: !this.state.expanded });
            }),
            (t.prototype.render = function () {
              var e,
                t = this.props,
                a = t.item,
                n = t.onRemove,
                i = t.strSearchFilter,
                r = t.tagHighlight,
                o = t.filter,
                l = a.capsule,
                s = Z(l),
                c = s.appData,
                d = s.linkURL,
                u = s.bInvalidID,
                p = Object(R.f)("#AppType_" + l.type),
                _ = c ? c.appid || c.bundleid || c.packageid : l.id,
                g = c ? c.name : null;
              if (
                i &&
                (g || "").toLowerCase().search(i) < 0 &&
                String(_ || "").search(i) < 0
              )
                return null;
              var E = r ? r.toLocaleLowerCase() : void 0;
              return m.createElement(
                D.a,
                { className: q.TagItemCtn },
                m.createElement(
                  L.b,
                  {
                    className: q.TagItemImageCtn,
                    bDisableContextMenu: !0,
                    href: d,
                  },
                  c
                    ? m.createElement("img", {
                        loading: "lazy",
                        className: W.SaleCapsuleImg,
                        src: c.header_image_url,
                      })
                    : null
                ),
                m.createElement(
                  "div",
                  { className: q.NameAndTagCtn },
                  m.createElement(
                    "div",
                    { className: q.NameCtn },
                    g,
                    " (",
                    _,
                    ") ",
                    m.createElement(
                      "span",
                      { className: W.SmallText },
                      "(",
                      p,
                      ")"
                    ),
                    u &&
                      m.createElement(
                        "div",
                        { className: W.SaleCapsuleConflict },
                        Object(R.f)("#Sale_NotFoundCapsule"),
                        m.createElement(z.b, {
                          tooltip: Object(R.f)(
                            "#Sale_NotFoundCapsule_Tooltip",
                            p,
                            l.id
                          ),
                        })
                      )
                  ),
                  m.createElement(
                    "div",
                    { className: q.TagSummaryCtn },
                    m.createElement(
                      "span",
                      { className: q.TagSummary, onClick: this.OnEditTags },
                      Object(R.f)(
                        "#Sale_EditTags_TagCount",
                        (null === (e = a.tags) || void 0 === e
                          ? void 0
                          : e.length) || 0
                      )
                    ),
                    m.createElement(
                      "span",
                      {
                        className: q.TagShowToggle,
                        onClick: this.OnToggleTags,
                      },
                      Object(R.f)(
                        this.state.expanded
                          ? "#Sale_EditTags_Hide"
                          : "#Sale_EditTags_Show"
                      )
                    )
                  ),
                  this.state.expanded &&
                    m.createElement(
                      "div",
                      { onClick: this.OnEditTags },
                      m.createElement(le, {
                        item: a,
                        lowerTagHighlight: E,
                        filter: o,
                      })
                    )
                ),
                n && m.createElement(K, { onClick: n })
              );
            }),
            Object(n.c)([F.a], t.prototype, "OnEditTags", null),
            Object(n.c)([F.a], t.prototype, "OnToggleTags", null),
            (t = Object(n.c)([p.a], t))
          );
        })(m.Component);
      function oe(e, t, a) {
        var n,
          i = e.toLocaleLowerCase();
        if (t && i === t) return q.TagHighlight;
        if (null == a ? void 0 : a.clauses)
          for (var r = 0, o = a.clauses; r < o.length; r++) {
            var l = o[r];
            if (
              null === (n = l.or_tags) || void 0 === n
                ? void 0
                : n.find(function (e) {
                    return i === e.toLocaleLowerCase();
                  })
            )
              return "Must have" === l.type ? q.TagMustHave : q.TagMustNotHave;
          }
        return null;
      }
      var le = Object(p.a)(function (e) {
          var t = e.item,
            a = Array.from(t.tags),
            n = (function (e, t) {
              var a;
              if (!(null == t ? void 0 : t.clauses)) return null;
              for (var n = null, i = 0, r = t.clauses; i < r.length; i++) {
                var o = r[i];
                if (
                  "Must have" === o.type &&
                  (null === (a = o.or_tags) || void 0 === a ? void 0 : a.length)
                ) {
                  for (
                    var l = !1,
                      s = 0,
                      c = function (t) {
                        if (
                          t &&
                          (s++,
                          e.find(function (e) {
                            return e === t;
                          }))
                        )
                          return (l = !0), "break";
                      },
                      d = 0,
                      u = o.or_tags;
                    d < u.length && "break" !== c(u[d]);
                    d++
                  );
                  s > 0 &&
                    !l &&
                    (n = n || []).push(
                      Object(R.f)("#Sale_TagFilter_Missing") +
                        o.or_tags.join(
                          " " + Object(R.f)("#Sale_TagFilter_Or") + " "
                        )
                    );
                }
              }
              return n;
            })(t.tags, e.filter);
          return 0 !== a.length || n
            ? (a.sort(function (e, t) {
                return e.localeCompare(t);
              }),
              m.createElement(
                "div",
                { className: q.TagListCtn },
                a.map(function (t) {
                  return m.createElement(se, {
                    key: t,
                    tag: t,
                    className: oe(t, e.lowerTagHighlight, e.filter),
                  });
                }),
                n &&
                  n.map(function (e) {
                    return m.createElement(se, {
                      key: e,
                      tag: e,
                      className: q.TagMissingMustHave,
                    });
                  })
              ))
            : m.createElement(
                "div",
                { className: q.TagListCtn },
                Object(R.f)("#Sale_TagFilter_AddTags")
              );
        }),
        se = function (e) {
          var t = Object(l.k)(e.tag);
          return m.createElement(
            "div",
            {
              className: Object(B.a)(
                q.ItemTag,
                e.className,
                t && "TagCollection_" + t
              ),
            },
            e.tag
          );
        },
        ce = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                currentTags: Object(n.g)(t.props.item.tags),
                defaultTags: null,
                otherTags: null,
                startingSections: t.GetIncludedSections(t.props.item.tags),
                includedSections: t.GetIncludedSections(t.props.item.tags),
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              this.LoadAppDefaultTags();
            }),
            (t.prototype.GetIncludedSections = function (e) {
              var t = this.props,
                a = t.editModel,
                n = t.item,
                i = [],
                r = n.capsule;
              return (
                a
                  .GetEventModel()
                  .GetSaleSections()
                  .forEach(function (t, n) {
                    var o = !1;
                    t.sale_tag_filter
                      ? (o = Object(l.h)(e, t.sale_tag_filter))
                      : t.capsules &&
                        (o = Boolean(
                          t.capsules.find(function (e) {
                            return e.type === r.type && e.id === r.id;
                          })
                        )),
                      o &&
                        i.push(
                          Object(V.b)(t, a.GetCurEditLanguage(), a, n, !0)
                        );
                  }),
                i.sort(function (e, t) {
                  return e.localeCompare(t);
                }),
                i
              );
            }),
            (t.prototype.LoadAppDefaultTags = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a, i, r, o;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (e = { capsule: this.props.item.capsule, tags: [] }),
                        [4, Object(l.w)(this.props.editModel, [e])]
                      );
                    case 1:
                      for (
                        n.sent(),
                          t = new Set(),
                          e.tags.forEach(function (e) {
                            return t.add(e);
                          }),
                          a = new Map(),
                          i = 0,
                          r = this.props.editModel
                            .GetEventModel()
                            .GetTaggedItems();
                        i < r.length;
                        i++
                      )
                        (o = r[i]).tags &&
                          o.tags.forEach(function (e) {
                            return a.set(e.toLocaleLowerCase(), e);
                          });
                      return (
                        t.forEach(function (e) {
                          return a.set(e.toLocaleLowerCase(), e);
                        }),
                        this.setState({ defaultTags: t, otherTags: a }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.UpdateTagList = function (e) {
              this.setState({
                currentTags: e,
                includedSections: this.GetIncludedSections(e),
              });
            }),
            (t.prototype.RemoveTag = function (e) {
              var t = e.toLocaleLowerCase(),
                a = this.state.currentTags.filter(function (e) {
                  return e.toLocaleLowerCase() != t;
                });
              this.UpdateTagList(a);
            }),
            (t.prototype.AddTag = function (e) {
              var t = this.state.currentTags,
                a = (e = Q(e)).toLocaleLowerCase();
              if (
                (ee.Get(this.props.editModel).AddRecentTag(e),
                !t.find(function (e) {
                  return e.toLocaleLowerCase() === a;
                }))
              ) {
                var i = this.state.otherTags.get(a);
                i && (e = i), this.UpdateTagList(Object(n.g)(t, [e]));
              }
            }),
            (t.prototype.OnOK = function () {
              Object(l.c)(this.props.item, this.state.currentTags) &&
                (Object(l.v)(
                  this.props.editModel.GetEventModel().jsondata.auto_item_tags,
                  this.props.item
                ),
                Object(l.u)(this.props.editModel),
                this.props.onTagsModified && this.props.onTagsModified(),
                this.props.editModel.SetDirty(o.c.jsondata_sales)),
                this.props.closeModal();
            }),
            (t.prototype.RenderSectionList = function () {
              var e = this.state,
                t = e.startingSections;
              return e.includedSections.map(function (e, a) {
                var n = !t.find(function (t) {
                  return e === t;
                });
                return m.createElement(
                  "div",
                  {
                    key: a,
                    className: n ? q.SectionAdded : q.SectionUnchanged,
                  },
                  e
                );
              });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                a = t.item,
                i = t.closeModal,
                r = this.state,
                o = r.currentTags,
                l = r.defaultTags,
                s = r.otherTags;
              if (!l) return m.createElement(k.a, null);
              var c = new Set();
              o.forEach(function (e) {
                return c.add(e.toLocaleLowerCase());
              });
              var d = Object(n.g)(o);
              d.sort(function (e, t) {
                return e.localeCompare(t);
              });
              var u = d.map(function (t) {
                  var a = l.has(t),
                    n = Object(B.a)(q.EditTag, q.AppliedTag, a && q.DefaultTag);
                  return m.createElement(
                    "div",
                    {
                      key: t,
                      className: n,
                      onClick: function () {
                        return e.RemoveTag(t);
                      },
                    },
                    t
                  );
                }),
                p = new Array();
              s.forEach(function (e, t) {
                c.has(t) || p.push(e);
              }),
                p.sort(function (e, t) {
                  return e.localeCompare(t);
                });
              var _ = [];
              p.forEach(function (t) {
                if (l.has(t)) {
                  var a = Object(B.a)(q.EditTag, q.OtherTag, q.DefaultTag);
                  _.push(
                    m.createElement(
                      "div",
                      {
                        key: t,
                        className: a,
                        onClick: function () {
                          return e.AddTag(t);
                        },
                      },
                      t
                    )
                  );
                }
              });
              var E = [];
              ee.Get(this.props.editModel)
                .GetRecentTags()
                .forEach(function (t) {
                  if (!c.has(t.toLocaleLowerCase())) {
                    var a = l.has(t),
                      n = Object(B.a)(q.EditTag, q.OtherTag, a && q.DefaultTag);
                    E.push(
                      m.createElement(
                        "div",
                        {
                          key: t,
                          className: n,
                          onClick: function () {
                            return e.AddTag(t);
                          },
                        },
                        t
                      )
                    );
                  }
                });
              var b = this.RenderSectionList(),
                h = Z(a.capsule).appData,
                v = h ? h.appid || h.bundleid || h.packageid : a.capsule.id,
                f = {
                  option: function (e) {
                    return Object(n.a)(Object(n.a)({}, e), {
                      color: "#444444",
                    });
                  },
                },
                S = p.map(function (e) {
                  return { label: e, value: e };
                });
              return m.createElement(
                w.e,
                {
                  onCancel: i,
                  closeModal: i,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  className: j.NotTooWideModal,
                },
                m.createElement(
                  C.k,
                  { className: q.EditTagsTitle },
                  h
                    ? m.createElement("img", {
                        className: W.SaleCapsuleImg,
                        src: h.header_image_url,
                      })
                    : null,
                  m.createElement(
                    "div",
                    { className: q.EditTagsTitleText },
                    h ? h.name : null,
                    " (",
                    v,
                    ")"
                  )
                ),
                m.createElement(
                  C.b,
                  null,
                  m.createElement(
                    "div",
                    { className: q.EditTagsBody },
                    m.createElement(
                      "div",
                      { className: q.ColumnList },
                      m.createElement(
                        "div",
                        { className: q.TagColumn },
                        m.createElement(
                          "div",
                          { className: q.TagColumnTitle },
                          Object(R.f)("#Sale_EditTags_Applied", o.length),
                          m.createElement(z.b, {
                            tooltip: Object(R.f)("#Sale_EditTags_Applied_ttip"),
                          })
                        ),
                        m.createElement(
                          "div",
                          { className: q.TagColumnList },
                          u
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: q.TagColumn },
                        _.length > 0 &&
                          m.createElement(
                            "div",
                            { className: q.SmallColumn },
                            m.createElement(
                              "div",
                              { className: q.TagColumnTitle },
                              Object(R.f)("#Sale_EditTags_Store", _.length),
                              m.createElement(z.b, {
                                tooltip: Object(R.f)(
                                  "#Sale_EditTags_Store_ttip"
                                ),
                              })
                            ),
                            m.createElement(
                              "div",
                              { className: q.TagColumnList },
                              _
                            )
                          ),
                        m.createElement(
                          "div",
                          { className: q.FillColumn },
                          m.createElement(
                            "div",
                            { className: q.TagColumnTitle },
                            Object(R.f)("#Sale_EditTags_RecentTags"),
                            m.createElement(z.b, {
                              tooltip: Object(R.f)(
                                "#Sale_EditTags_RecentTags_ttip"
                              ),
                            })
                          ),
                          m.createElement(
                            "div",
                            { className: q.TagColumnList },
                            E
                          )
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: q.TagColumn },
                        m.createElement(
                          "div",
                          { className: q.TagColumnTitle },
                          Object(R.f)("#Sale_EditTags_Sections", b.length),
                          m.createElement(z.b, {
                            tooltip: Object(R.f)(
                              "#Sale_EditTags_Sections_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          "div",
                          { className: q.TagColumnList },
                          b
                        )
                      )
                    ),
                    m.createElement(
                      "div",
                      { className: q.AddTagCtn },
                      m.createElement(
                        "div",
                        { className: q.TagColumnTitle },
                        Object(R.f)("#Sale_EditTags_NewTagName"),
                        m.createElement(z.b, {
                          tooltip: Object(R.f)(
                            "#Sale_EditTags_NewTagName_ttip"
                          ),
                        })
                      ),
                      m.createElement(g.a, {
                        styles: f,
                        isSearchable: !0,
                        isMulti: !1,
                        isClearable: !0,
                        onChange: function (t) {
                          (null == t ? void 0 : t.value) && e.AddTag(t.value);
                        },
                        options: S,
                        defaultMenuIsOpen: !1,
                        menuPlacement: "top",
                      })
                    ),
                    m.createElement(
                      "div",
                      { className: q.OKButton },
                      m.createElement(
                        C.q,
                        { onClick: this.OnOK },
                        Object(R.f)("#Sale_TagFilter_OK")
                      )
                    )
                  )
                )
              );
            }),
            Object(n.c)([F.a], t.prototype, "RemoveTag", null),
            Object(n.c)([F.a], t.prototype, "AddTag", null),
            Object(n.c)([F.a], t.prototype, "OnOK", null),
            (t = Object(n.c)([p.a], t))
          );
        })(m.Component),
        de = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_timerForChange = new N.b()),
              (t.state = {
                editItems: t.props.editModel.GetEventModel().GetTaggedItems(),
                modifiedTags: new Map(),
                currentTags: new Map(),
                otherTags: Object(l.n)(
                  t.props.editModel.GetEventModel().GetTaggedItems()
                ),
                editText: "",
                filter: { clauses: new Array() },
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.componentDidMount = function () {
              this.UpdateCurrentTagToItemMap();
            }),
            (t.prototype.CloneModifiedTags = function () {
              var e = new Map();
              return (
                this.state.modifiedTags.forEach(function (t, a) {
                  return e.set(a, t);
                }),
                e
              );
            }),
            (t.prototype.OnApplyFilter = function (e) {
              var t = Object(l.l)(
                  this.props.editModel.GetEventModel().GetTaggedItems(),
                  e
                ),
                a = t.map(function (e) {
                  return e.capsule.id;
                });
              a.sort(function (e, t) {
                return e - t;
              });
              var n = a.join("\n");
              this.setState({ filter: e, editText: n, editItems: t });
            }),
            (t.prototype.OnPopulateFromFilter = function () {
              new Array();
              Object(G.d)(
                m.createElement(pe, {
                  editModel: this.props.editModel,
                  filter: this.state.filter,
                  onApplyFilter: this.OnApplyFilter,
                  title: Object(R.f)("#Sale_TagFilter_EditFilter"),
                }),
                window
              );
            }),
            (t.prototype.RemoveTag = function (e) {
              for (
                var t = this,
                  a = e.toLocaleLowerCase(),
                  n = this.CloneModifiedTags(),
                  i = 0,
                  r = this.state.editItems;
                i < r.length;
                i++
              ) {
                var o = r[i],
                  l = (n.get(o) || o.tags || []).filter(function (e) {
                    return e.toLocaleLowerCase() != a;
                  });
                n.set(o, l);
              }
              this.setState({ modifiedTags: n }, function () {
                return t.UpdateCurrentTagToItemMap();
              });
            }),
            (t.prototype.AddTag = function (e) {
              var t = this,
                a = (e = Q(e)).toLocaleLowerCase(),
                i = this.state.otherTags.get(a);
              i && (e = i.properCaseString);
              var r = this.CloneModifiedTags();
              ee.Get(this.props.editModel).AddRecentTag(e);
              for (var o = 0, l = this.state.editItems; o < l.length; o++) {
                var s = l[o],
                  c = r.get(s) || s.tags || [];
                c.find(function (e) {
                  return e.toLocaleLowerCase() === a;
                }) || r.set(s, Object(n.g)(c, [e]));
              }
              this.setState({ modifiedTags: r }, function () {
                return t.UpdateCurrentTagToItemMap();
              });
            }),
            (t.prototype.OnOK = function () {
              var e = this,
                t = !1;
              this.state.modifiedTags.forEach(function (a, n) {
                Object(l.c)(n, a) &&
                  ((t = !0),
                  Object(l.v)(
                    e.props.editModel.GetEventModel().jsondata.auto_item_tags,
                    n
                  ));
              }),
                t &&
                  (Object(l.u)(this.props.editModel),
                  this.props.editModel.SetDirty(o.c.jsondata_sales)),
                this.props.closeModal();
            }),
            (t.prototype.UpdateCurrentTagToItemMap = function () {
              for (
                var e = new Map(), t = 0, a = this.state.editItems;
                t < a.length;
                t++
              ) {
                var n = a[t],
                  i = this.state.modifiedTags.get(n) || n.tags || [];
                Object(l.a)(n, i, e);
              }
              this.setState({ currentTags: e });
            }),
            (t.prototype.OnUpdateItemListFromText = function () {
              for (
                var e = this,
                  t = this.state.editText,
                  a = /.*?(\d\d\d+)/gm,
                  n = new Set();
                ;

              ) {
                var i = a.exec(t);
                if (null === i) break;
                n.add(Number(i[1]));
              }
              var r = this.props.editModel.GetEventModel().GetTaggedItems();
              n.size > 0 &&
                (r = r.filter(function (e) {
                  return n.has(e.capsule.id);
                })),
                this.setState({ editItems: r }, function () {
                  return e.UpdateCurrentTagToItemMap();
                });
            }),
            (t.prototype.OnTextChanged = function (e) {
              this.setState({ editText: e }),
                this.m_timerForChange.Cancel(),
                this.m_timerForChange.Schedule(
                  300,
                  this.OnUpdateItemListFromText
                );
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.closeModal,
                a = this.state,
                i = a.editItems,
                r = a.currentTags,
                o = a.otherTags,
                l = new Array();
              r.forEach(function (e, t) {
                l.push({ tag: e.properCaseString, count: e.items.length });
              }),
                l.sort(function (e, t) {
                  return e.tag.localeCompare(t.tag);
                });
              var s = l.map(function (t) {
                  var a = Object(B.a)(q.EditTag, q.AppliedTag);
                  return m.createElement(
                    "div",
                    {
                      key: t.tag,
                      className: a,
                      onClick: function () {
                        return e.RemoveTag(t.tag);
                      },
                    },
                    t.tag + " (" + t.count + ")"
                  );
                }),
                c = new Array();
              o.forEach(function (e, t) {
                c.push(e.properCaseString);
              }),
                c.sort(function (e, t) {
                  return e.localeCompare(t);
                });
              var d = [];
              ee.Get(this.props.editModel)
                .GetRecentTags()
                .forEach(function (t) {
                  var a = Object(B.a)(q.EditTag, q.OtherTag);
                  d.push(
                    m.createElement(
                      "div",
                      {
                        key: t,
                        className: a,
                        onClick: function () {
                          return e.AddTag(t);
                        },
                      },
                      t
                    )
                  );
                });
              var u = i.map(function (e) {
                  var t = Z(e.capsule).appData;
                  return m.createElement(
                    "div",
                    { key: e.capsule.id },
                    t
                      ? m.createElement("img", {
                          className: W.SaleCapsuleImg,
                          src: t.header_image_url,
                        })
                      : null,
                    t ? t.name : null,
                    " (",
                    e.capsule.id,
                    ")"
                  );
                }),
                p = {
                  option: function (e) {
                    return Object(n.a)(Object(n.a)({}, e), {
                      color: "#444444",
                    });
                  },
                },
                E = c.map(function (e) {
                  return { label: e, value: e };
                }),
                b = l.map(function (e) {
                  return { label: e.tag + " (" + e.count + ")", value: e.tag };
                });
              return m.createElement(
                w.e,
                {
                  onCancel: t,
                  closeModal: t,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  className: j.NotTooWideModal,
                },
                m.createElement(
                  C.b,
                  null,
                  m.createElement(
                    "div",
                    { className: q.EditTagsBody },
                    m.createElement(
                      "div",
                      { className: q.ColumnList },
                      m.createElement(
                        "div",
                        { className: q.TagColumn },
                        m.createElement(
                          "div",
                          { className: q.TagColumnTitle },
                          Object(R.f)("#Sale_EditTags_BatchItemText", u.length),
                          m.createElement(z.b, {
                            tooltip: Object(R.f)(
                              "#Sale_EditTags_BatchItemText_ttip"
                            ),
                          })
                        ),
                        m.createElement("textarea", {
                          value: this.state.editText,
                          cols: 60,
                          onChange: function (t) {
                            return e.OnTextChanged(t.currentTarget.value);
                          },
                        }),
                        m.createElement(
                          "div",
                          {
                            className: q.PopulateByFilter,
                            onClick: this.OnPopulateFromFilter,
                          },
                          Object(R.f)("#Sale_EditTags_BatchFilter"),
                          m.createElement(z.b, {
                            tooltip: Object(R.f)(
                              "#Sale_EditTags_BatchFilter_ttip"
                            ),
                          })
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: q.TagColumn },
                        m.createElement(
                          "div",
                          { className: q.TagColumnTitle },
                          Object(R.f)("#Sale_EditTags_BatchItems", u.length),
                          m.createElement(z.b, {
                            tooltip: Object(R.f)(
                              "#Sale_EditTags_BatchItems_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          "div",
                          { className: q.TagColumnList },
                          u
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: q.TagColumn },
                        m.createElement(
                          "div",
                          { className: q.TagColumnTitle },
                          Object(R.f)("#Sale_EditTags_Applied", r.size),
                          m.createElement(z.b, {
                            tooltip: Object(R.f)("#Sale_EditTags_Applied_ttip"),
                          })
                        ),
                        m.createElement(
                          "div",
                          { className: q.TagColumnList },
                          s
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: q.TagColumn },
                        m.createElement(
                          "div",
                          { className: q.FillColumn },
                          m.createElement(
                            "div",
                            { className: q.TagColumnTitle },
                            Object(R.f)("#Sale_EditTags_RecentTags"),
                            m.createElement(z.b, {
                              tooltip: Object(R.f)(
                                "#Sale_EditTags_RecentTags_ttip"
                              ),
                            })
                          ),
                          m.createElement(
                            "div",
                            { className: q.TagColumnList },
                            d
                          )
                        )
                      )
                    ),
                    m.createElement(
                      "div",
                      { className: q.AddTagCtn },
                      m.createElement(
                        "div",
                        { className: q.TagColumnTitle },
                        Object(R.f)("#Sale_EditTags_NewTagName"),
                        m.createElement(z.b, {
                          tooltip: Object(R.f)(
                            "#Sale_EditTags_NewTagName_ttip"
                          ),
                        })
                      ),
                      m.createElement(g.a, {
                        styles: p,
                        isSearchable: !0,
                        isMulti: !1,
                        isClearable: !0,
                        onChange: function (t) {
                          (null == t ? void 0 : t.value) && e.AddTag(t.value);
                        },
                        options: E,
                        defaultMenuIsOpen: !1,
                        menuPlacement: "top",
                      }),
                      m.createElement(
                        "div",
                        { className: q.TagColumnTitle },
                        Object(R.f)("#Sale_EditTags_RemoveTagName"),
                        m.createElement(z.b, {
                          tooltip: Object(R.f)(
                            "#Sale_EditTags_RemoveTagName_ttip"
                          ),
                        })
                      ),
                      m.createElement(_.a, {
                        styles: p,
                        isSearchable: !0,
                        isMulti: !1,
                        isClearable: !0,
                        onChange: function (t) {
                          (null == t ? void 0 : t.value) &&
                            e.RemoveTag(t.value);
                        },
                        options: b,
                        defaultMenuIsOpen: !1,
                        menuPlacement: "top",
                      })
                    ),
                    m.createElement(
                      "div",
                      { className: q.OKButton },
                      m.createElement(
                        C.q,
                        { onClick: this.OnOK },
                        Object(R.f)("#Sale_TagFilter_OK")
                      )
                    )
                  )
                )
              );
            }),
            Object(n.c)([F.a], t.prototype, "OnApplyFilter", null),
            Object(n.c)([F.a], t.prototype, "OnPopulateFromFilter", null),
            Object(n.c)([F.a], t.prototype, "RemoveTag", null),
            Object(n.c)([F.a], t.prototype, "AddTag", null),
            Object(n.c)([F.a], t.prototype, "OnOK", null),
            Object(n.c)([F.a], t.prototype, "OnUpdateItemListFromText", null),
            Object(n.c)([F.a], t.prototype, "OnTextChanged", null),
            (t = Object(n.c)([p.a], t))
          );
        })(m.Component);
      function ue(e) {
        var t = e.onClauseChanged,
          a = e.value,
          i = e.taggedItems,
          r = e.filter,
          o = e.clauseIndex,
          s = e.tagIndex,
          c = e.rgOptions,
          d = m.useState(new Array()),
          u = d[0],
          p = d[1],
          g = { label: Object(R.f)("#Sale_TagFilter_SelectTag"), value: "" },
          E = a ? { label: a, value: a } : g,
          b = {
            option: function (e) {
              return Object(n.a)(Object(n.a)({}, e), { color: "#444444" });
            },
          };
        return m.createElement(_.a, {
          styles: b,
          isSearchable: !0,
          isMulti: !1,
          onChange: function (e) {
            return t(e.value);
          },
          value: E,
          options: u,
          defaultMenuIsOpen: u.length > 0,
          onMenuOpen: function () {
            if (c) p(c);
            else {
              var e = Object(l.n)(i),
                t = [g],
                a = r.clauses[o].or_tags[s];
              r.clauses[o].or_tags[s] = "";
              var n = !0;
              r.clauses.forEach(function (e) {
                e.or_tags.some(Boolean) && (n = !1);
              });
              var d = n ? i : Object(l.l)(i, r),
                u = new Set(
                  d.map(function (e) {
                    return e.capsule.id;
                  })
                );
              e.forEach(function (e) {
                r.clauses[o].or_tags[s] = e.properCaseString;
                var a = 0,
                  i = 0;
                n
                  ? (i =
                      "Must have" === r.clauses[0].type
                        ? d.length - e.items.length
                        : e.items.length)
                  : e.items.forEach(function (e) {
                      var t = Object(l.h)(e.tags, r);
                      t != u.has(e.capsule.id) && (t ? a++ : i++);
                    });
                var c = d.length + a - i;
                t.push({
                  label: e.properCaseString + " (" + c + ")",
                  value: e.properCaseString,
                });
              }),
                (r.clauses[o].or_tags[s] = a),
                t.sort(function (e, t) {
                  return e.value.localeCompare(t.value);
                }),
                p(t);
            }
          },
          onMenuClose: function () {
            p([]);
          },
          menuPlacement: "bottom",
        });
      }
      var pe = (function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (t.state = t.GenerateInitialState()), t;
        }
        return (
          Object(n.d)(t, e),
          (t.prototype.componentDidMount = function () {
            var e = this;
            this.props.editModel.GetEventModel().jsondata.item_source_type !==
              v.n.k_ETaggedItems &&
              this.LoadDropdownOptions().then(function (t) {
                e.setState({
                  tagDropdownOptions: t,
                  bDropdownOptionsLoaded: !0,
                });
              });
          }),
          (t.prototype.LoadDropdownOptions = function () {
            return Object(n.b)(this, void 0, void 0, function () {
              var e, t;
              return Object(n.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return [4, me()];
                  case 1:
                    return (
                      (e = a.sent()),
                      (t = [
                        {
                          label: Object(R.f)("#Sale_TagFilter_SelectTag"),
                          value: "",
                        },
                      ]),
                      e.forEach(function (e) {
                        return t.push({ label: e, value: e });
                      }),
                      [2, t]
                    );
                }
              });
            });
          }),
          (t.prototype.GenerateInitialState = function () {
            var e = this.SetupInitialFilter(),
              t = this.GenerateStartingUnreferencedItems();
            return Object(n.a)(
              {
                tagDropdownOptions: this.GenerateTagDropDownOptions(),
                bDropdownOptionsLoaded:
                  this.props.editModel.GetEventModel().jsondata
                    .item_source_type === v.n.k_ETaggedItems,
                currentFilter: e,
                tagHighlight: "",
                showTagBreakdown: !1,
                showMode: "active",
                strSearch: "",
                startingUnreferencedItems: t,
              },
              this.CalcualateItemsAndTags(e, t)
            );
          }),
          (t.prototype.GetFilteredItems = function () {
            return this.props.ignoreEventFilter
              ? this.props.editModel.GetEventModel().GetTaggedItems()
              : Object(l.o)(this.props.editModel);
          }),
          (t.prototype.GenerateStartingUnreferencedItems = function () {
            for (
              var e = this.props.editModel,
                t = new Map(),
                a = 0,
                n = this.GetFilteredItems();
              a < n.length;
              a++
            ) {
              var i = n[a];
              t.set(i.capsule.type + i.capsule.id, i);
            }
            for (
              var r = 0, o = e.GetEventModel().GetSaleSections();
              r < o.length;
              r++
            ) {
              var l = o[r];
              if (
                !this.props.ignoreStartingReferences ||
                l.capsules !== this.props.ignoreStartingReferences.capsules
              )
                for (var s = 0, c = l.capsules; s < c.length; s++) {
                  var d = c[s];
                  t.delete(d.type + d.id);
                }
            }
            return Array.from(t.values());
          }),
          (t.prototype.CalcualateItemsAndTags = function (e, t) {
            this.props.editModel;
            var a = this.GetFilteredItems(),
              n = Object(l.l)(a, e),
              i = new Set(n),
              r = a.filter(function (e) {
                return !i.has(e);
              }),
              o = t.filter(function (e) {
                return !i.has(e);
              });
            return {
              activeItems: n,
              activeTagBreakdown: Object(l.n)(n),
              filteredItems: r,
              filteredTagBreakdown: Object(l.n)(r),
              unusedItems: o,
              unusedTagBreakdown: Object(l.n)(o),
            };
          }),
          (t.prototype.GenerateTagDropDownOptions = function () {
            var e = Object(l.n)(this.GetFilteredItems()),
              t = [
                { label: Object(R.f)("#Sale_TagFilter_SelectTag"), value: "" },
              ];
            return (
              e.forEach(function (e) {
                return t.push({
                  label: e.properCaseString + " (" + e.items.length + ")",
                  value: e.properCaseString,
                });
              }),
              t.sort(function (e, t) {
                return e.value.localeCompare(t.value);
              }),
              t
            );
          }),
          (t.prototype.SanitizeFilter = function (e) {
            for (var t, a = 0, n = e.clauses; a < n.length; a++) {
              var i = n[a];
              i.or_tags =
                null === (t = i.or_tags) || void 0 === t
                  ? void 0
                  : t.filter(function (e) {
                      return Boolean(e);
                    });
            }
            e.clauses = e.clauses.filter(function (e) {
              var t;
              return Boolean(
                null === (t = e.or_tags) || void 0 === t ? void 0 : t.length
              );
            });
          }),
          (t.prototype.SetupInitialFilter = function () {
            var e = Object(l.e)(this.props.filter);
            this.SanitizeFilter(e),
              e.clauses || (e.clauses = new Array()),
              0 === e.clauses.length &&
                e.clauses.push({ type: "Must have", or_tags: new Array("") });
            for (var t = 0, a = e.clauses; t < a.length; t++) {
              var n = a[t];
              (n.or_tags && 0 !== n.or_tags.length) ||
                (n.or_tags = new Array(""));
            }
            return e;
          }),
          (t.prototype.RenderFilterClause = function (e, t) {
            var a,
              n = this,
              i = [
                {
                  label: Object(R.f)("#Sale_TagFilter_MustHave"),
                  data: "Must have",
                },
                {
                  label: Object(R.f)("#Sale_TagFilter_MustNotHave"),
                  data: "Must not have",
                },
              ],
              r = this.GetFilteredItems();
            this.props.editModel.GetEventModel().jsondata.item_source_type !==
              v.n.k_ETaggedItems && (a = this.state.tagDropdownOptions);
            var o = e.or_tags.map(function (e, i) {
                return m.createElement(
                  "div",
                  { className: q.ClauseTagList, key: "Clause" + t + "_" + i },
                  i > 0 &&
                    m.createElement(
                      "div",
                      { className: q.OrLabel },
                      Object(R.f)("#Sale_TagFilter_Or")
                    ),
                  m.createElement(
                    "div",
                    { className: q.TagDropDown },
                    m.createElement(ue, {
                      taggedItems: r,
                      value: e,
                      onClauseChanged: function (e) {
                        return n.OnChangeClauseTag(t, i, e);
                      },
                      clauseIndex: t,
                      tagIndex: i,
                      filter: n.state.currentFilter,
                      rgOptions: a,
                    })
                  ),
                  i > 0 &&
                    m.createElement(K, {
                      onClick: function () {
                        return n.OnRemoveClauseTagSlot(t, i);
                      },
                    })
                );
              }),
              l =
                "Must have" === e.type ? q.MustHaveClause : q.MustNotHaveClause;
            return m.createElement(
              "div",
              {
                key: "Clause" + t,
                className: Object(B.a)(
                  q.ClauseRowCtn,
                  l,
                  0 === t && q.FirstClause
                ),
              },
              t > 0 &&
                m.createElement(
                  m.Fragment,
                  null,
                  m.createElement(K, {
                    onClick: function () {
                      return n.OnRemoveClause(t);
                    },
                  }),
                  m.createElement(
                    "div",
                    { className: q.AndLabel },
                    Object(R.f)("#Sale_TagFilter_And")
                  )
                ),
              m.createElement(
                "div",
                { className: q.ClauseTypeDropDown },
                m.createElement(C.h, {
                  rgOptions: i,
                  selectedOption: e.type,
                  onChange: function (e) {
                    return n.OnChangeClauseType(t, e.data);
                  },
                })
              ),
              o,
              e.or_tags.length < 3 &&
                m.createElement(
                  C.d,
                  {
                    onClick: function () {
                      return n.OnAddClauseTagSlot(t);
                    },
                  },
                  "+",
                  Object(R.f)("#Sale_TagFilter_Or"),
                  m.createElement(z.b, {
                    tooltip: Object(R.f)("#Sale_TagFilter_Or_ttip"),
                  })
                )
            );
          }),
          (t.prototype.RenderFilterControls = function () {
            var e = this,
              t = this.state.currentFilter,
              a = t.clauses.map(function (t, a) {
                return e.RenderFilterClause(t, a);
              });
            return m.createElement(
              "div",
              { className: q.FilterControlsCtn },
              m.createElement(
                "div",
                { className: q.SectionTitle },
                Object(R.f)("#Sale_TagFilter_Filter"),
                m.createElement(z.b, {
                  tooltip: Object(R.f)("#Sale_TagFilter_Filter_ttip"),
                })
              ),
              m.createElement(
                "div",
                { className: q.FilterControlBox },
                a,
                t.clauses.length < 5 &&
                  m.createElement(
                    C.d,
                    { onClick: this.OnAddClause },
                    "+",
                    Object(R.f)("#Sale_TagFilter_And"),
                    m.createElement(z.b, {
                      tooltip: Object(R.f)("#Sale_TagFilter_And_ttip"),
                    })
                  )
              )
            );
          }),
          (t.prototype.RenderTagBreakdown = function (e, t) {
            var a = this,
              n = this.state.tagHighlight,
              i = [];
            t.forEach(function (e) {
              return i.push({ tag: e.properCaseString, count: e.items.length });
            }),
              i.sort(function (e, t) {
                return e.count != t.count
                  ? t.count - e.count
                  : e.tag.localeCompare(t.tag);
              });
            var r = i.map(function (t) {
              return m.createElement(
                "div",
                {
                  key: t.tag,
                  className: Object(B.a)(
                    q.TagBreakdownEntry,
                    n === t.tag && q.Selected
                  ),
                  onClick: function () {
                    return a.OnHighlightTag(t.tag);
                  },
                },
                m.createElement(
                  "div",
                  { className: q.TextStats },
                  m.createElement("div", { className: q.TagName }, t.tag),
                  m.createElement("div", { className: q.TagUses }, t.count)
                ),
                m.createElement(
                  "div",
                  { className: q.PercentageBar },
                  m.createElement("div", {
                    className: q.PercentageBarFill,
                    style: { width: (100 * t.count) / e + "%" },
                  })
                )
              );
            });
            return m.createElement(
              m.Fragment,
              null,
              m.createElement(
                "div",
                { className: q.TagBreakdownCtn },
                m.createElement("div", { className: q.TagBreakdownList }, r)
              )
            );
          }),
          (t.prototype.ModifyFilter = function (e) {
            var t = Object(l.e)(this.state.currentFilter);
            e(t),
              this.setState(
                Object(n.a)(
                  { currentFilter: t },
                  this.CalcualateItemsAndTags(
                    t,
                    this.state.startingUnreferencedItems
                  )
                )
              );
          }),
          (t.prototype.OnChangeClauseType = function (e, t) {
            this.ModifyFilter(function (a) {
              return (a.clauses[e].type = t);
            });
          }),
          (t.prototype.OnChangeClauseTag = function (e, t, a) {
            this.ModifyFilter(function (n) {
              return (n.clauses[e].or_tags[t] = a);
            });
          }),
          (t.prototype.OnAddClause = function () {
            this.ModifyFilter(function (e) {
              return e.clauses.push({
                type: "Must have",
                or_tags: new Array(""),
              });
            });
          }),
          (t.prototype.OnRemoveClause = function (e) {
            this.ModifyFilter(function (t) {
              return t.clauses.splice(e, 1);
            });
          }),
          (t.prototype.OnAddClauseTagSlot = function (e) {
            this.ModifyFilter(function (t) {
              return t.clauses[e].or_tags.push("");
            });
          }),
          (t.prototype.OnRemoveClauseTagSlot = function (e, t) {
            this.ModifyFilter(function (a) {
              return a.clauses[e].or_tags.splice(t, 1);
            });
          }),
          (t.prototype.OnHighlightTag = function (e) {
            this.setState({
              tagHighlight: this.state.tagHighlight === e ? "" : e,
            });
          }),
          (t.prototype.OnToggleTagBreakdown = function () {
            this.setState({ showTagBreakdown: !this.state.showTagBreakdown });
          }),
          (t.prototype.OnSetViewMode = function (e) {
            this.setState({ showMode: e });
          }),
          (t.prototype.OnTagsModified = function () {
            var e = this.GenerateStartingUnreferencedItems();
            this.setState(
              Object(n.a)(
                { startingUnreferencedItems: e },
                this.CalcualateItemsAndTags(this.state.currentFilter, e)
              )
            );
          }),
          (t.prototype.UpdateSearchText = function (e) {
            this.setState({ strSearch: e.target.value.toLowerCase() });
          }),
          (t.prototype.OnOK = function () {
            if (this.props.onApplyFilter) {
              var e = Object(l.e)(this.state.currentFilter);
              this.SanitizeFilter(e), this.props.onApplyFilter(e);
            }
            this.props.editModel.SetDirty(o.c.jsondata_sales),
              this.props.closeModal();
          }),
          (t.prototype.render = function () {
            var e = this,
              t = this.props,
              a = t.editModel,
              n = t.closeModal,
              i = t.title,
              r = this.state,
              o = r.showMode,
              l = r.currentFilter,
              s = r.strSearch,
              c = r.showTagBreakdown,
              d = r.bDropdownOptionsLoaded,
              u = this.state,
              p = u.activeItems,
              _ = u.activeTagBreakdown,
              g = u.filteredItems,
              E = u.filteredTagBreakdown,
              b = u.unusedItems,
              h = u.unusedTagBreakdown;
            if (!d)
              return m.createElement(k.a, {
                size: "medium",
                position: "center",
              });
            var v = c ? this.state.tagHighlight : "",
              f = "active" === o ? _ : "filtered" === o ? E : h,
              S = ("active" === o ? p : "filtered" === o ? g : b).map(function (
                e
              ) {
                var t = Z(e.capsule).appData;
                return {
                  item: e,
                  name: t && t.name,
                  highlight:
                    v &&
                    e.tags.find(function (e) {
                      return e === v;
                    }),
                };
              });
            S.sort(function (e, t) {
              return e.highlight != t.highlight
                ? e.highlight
                  ? -1
                  : 1
                : (e.name || "").localeCompare(t.name);
            });
            var O = [
                {
                  label: m.createElement(
                    m.Fragment,
                    null,
                    Object(R.f)("#Sale_TagFilter_MatchingItems", p.length),
                    m.createElement(z.b, {
                      tooltip: Object(R.f)(
                        "#Sale_TagFilter_MatchingItems_ttip"
                      ),
                    })
                  ),
                  data: "active",
                },
                {
                  label: m.createElement(
                    m.Fragment,
                    null,
                    Object(R.f)("#Sale_TagFilter_FilteredItems", g.length),
                    m.createElement(z.b, {
                      tooltip: Object(R.f)(
                        "#Sale_TagFilter_FilteredItems_ttip"
                      ),
                    })
                  ),
                  data: "filtered",
                },
                {
                  label: m.createElement(
                    m.Fragment,
                    null,
                    Object(R.f)("#Sale_TagFilter_UnusedItems", b.length),
                    m.createElement(z.b, {
                      tooltip: Object(R.f)("#Sale_TagFilter_UnusedItems_ttip"),
                    })
                  ),
                  data: "unused",
                },
              ],
              y = S.map(function (t) {
                var n = t.item;
                return m.createElement(re, {
                  key: n.capsule.type + n.capsule.id,
                  editModel: a,
                  item: n,
                  tagHighlight: v,
                  onTagsModified: e.OnTagsModified,
                  strSearchFilter: s,
                  filter: "filtered" === o && l,
                });
              }),
              T = c ? q.ShowTagBreakdown : q.HideTagBreakdown;
            return m.createElement(
              w.e,
              {
                closeModal: n,
                bDisableBackgroundDismiss: !0,
                bAllowFullSize: !0,
                className: j.NotTooWideModal,
              },
              m.createElement(C.k, null, i),
              m.createElement(
                C.b,
                null,
                m.createElement(
                  "div",
                  { className: Object(B.a)(q.EditFitlerCtn, T) },
                  this.RenderFilterControls(),
                  m.createElement(
                    "div",
                    { className: q.TopTabs },
                    m.createElement(
                      "div",
                      { className: q.TagSelector },
                      m.createElement(C.h, {
                        rgOptions: O,
                        selectedOption: o,
                        onChange: function (t) {
                          return e.OnSetViewMode(t.data);
                        },
                      })
                    ),
                    m.createElement(
                      C.d,
                      {
                        className: Object(B.a)(
                          q.ShowTagBreakdown,
                          q.SectionTab,
                          c && q.TabActive
                        ),
                        onClick: this.OnToggleTagBreakdown,
                      },
                      Object(R.f)(
                        this.state.showTagBreakdown
                          ? "#Sale_TagFilter_HideTagBreakdown"
                          : "#Sale_TagFilter_ShowTagBreakdown"
                      ),
                      m.createElement(z.b, {
                        tooltip: Object(R.f)(
                          "#Sale_TagFilter_TagBreakdown_ttip"
                        ),
                      })
                    )
                  ),
                  m.createElement(
                    "div",
                    { className: q.TopSection },
                    m.createElement(
                      "div",
                      { className: q.MatchingItemsCtn },
                      m.createElement("div", { className: q.ItemList }, y)
                    ),
                    this.RenderTagBreakdown(y.length, f)
                  ),
                  m.createElement(C.l, {
                    type: "text",
                    label: Object(R.f)("#Sale_TaggedItemsFilter"),
                    onChange: this.UpdateSearchText,
                    focusOnMount: !0,
                    tooltip: Object(R.f)("#Sale_TaggedItemsFilter_ttip"),
                  }),
                  m.createElement(
                    "div",
                    { className: q.OKButton },
                    m.createElement(
                      C.q,
                      { onClick: this.OnOK },
                      Object(R.f)("#Sale_TagFilter_OK")
                    )
                  )
                )
              )
            );
          }),
          Object(n.c)([F.a], t.prototype, "OnChangeClauseType", null),
          Object(n.c)([F.a], t.prototype, "OnChangeClauseTag", null),
          Object(n.c)([F.a], t.prototype, "OnAddClause", null),
          Object(n.c)([F.a], t.prototype, "OnRemoveClause", null),
          Object(n.c)([F.a], t.prototype, "OnAddClauseTagSlot", null),
          Object(n.c)([F.a], t.prototype, "OnRemoveClauseTagSlot", null),
          Object(n.c)([F.a], t.prototype, "OnHighlightTag", null),
          Object(n.c)([F.a], t.prototype, "OnToggleTagBreakdown", null),
          Object(n.c)([F.a], t.prototype, "OnSetViewMode", null),
          Object(n.c)([F.a], t.prototype, "OnTagsModified", null),
          Object(n.c)([F.a], t.prototype, "UpdateSearchText", null),
          Object(n.c)([F.a], t.prototype, "OnOK", null),
          t
        );
      })(m.Component);
      function me() {
        return Object(n.b)(this, void 0, void 0, function () {
          var e, t, a;
          return Object(n.e)(this, function (n) {
            switch (n.label) {
              case 0:
                return [4, J.a.EnsureLoaded()];
              case 1:
                return (
                  n.sent(),
                  (e = []),
                  J.a.GetTagNameForTagID().forEach(function (t, a) {
                    e.push({ tagid: a, name: t });
                  }),
                  (t = e.map(function (e) {
                    return Object(l.f)(e.name, "Store");
                  })),
                  (a = [
                    "Linux",
                    "Mac",
                    "VR",
                    "VR Only",
                    "Full Controller",
                    "Remote Play",
                    "Remote Play Together",
                    "Free",
                    "Discounted",
                    "Coop",
                  ].map(function (e) {
                    return Object(l.f)(e, "Feature");
                  })),
                  [2, t.concat(a)]
                );
            }
          });
        });
      }
      var _e = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bImporting: !1,
                editValue: t.PopulateInitialEditField(),
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.PopulateInitialEditField = function () {
              for (
                var e = this.props.editModel,
                  t = this.props.collection,
                  a = "",
                  n = 0,
                  i = e.GetEventModel().GetTaggedItems();
                n < i.length;
                n++
              ) {
                var r = i[n],
                  o = r.capsule,
                  s = r.tags,
                  c = Z(o).appData,
                  d = o.id + "\t" + o.type;
                d +=
                  '\t"' +
                  (t
                    ? s.filter(function (e) {
                        return Object(l.d)(e, t);
                      })
                    : s
                  ).join(";") +
                  '"';
                var u = c ? c.name : "";
                u && (d += '\t// "' + u + '"'), (a += d + "\n");
              }
              return a;
            }),
            (t.prototype.ParseTagItemInfoFromLine = function (e) {
              var t = /^(.*)\/\/.*/i.exec(e),
                a = ((null == t ? void 0 : t.length) > 1 ? t[1] : e) + " ";
              a = a.replace(",", "\t");
              var n = /^\s*([0-9]+)[\'\,\"\s]+(.*)/.exec(a);
              if (n) {
                var i = { id: parseInt(n[1]), type: "game" };
                a = n[2];
                var r = /^(game|software|dlc|bundle|video|sub|event|tag|music)[\'\,\"\s]+(.*)/i.exec(
                  a
                );
                if (r) (i.type = r[1]), (a = r[2]);
                else
                  for (
                    var o = 0,
                      l = this.props.editModel.GetEventModel().GetTaggedItems();
                    o < l.length;
                    o++
                  ) {
                    var s = l[o];
                    if (s.capsule.id === i.id) {
                      i.type = s.capsule.type;
                      break;
                    }
                  }
                var c = /^\"?([^\t\"\n]*)\"?/i.exec(a),
                  d = new Set(),
                  u = new Array();
                if (c)
                  for (var p = 0, m = c[1].split(";"); p < m.length; p++) {
                    var _ = Q(m[p]);
                    if (_) {
                      var g = _.toLocaleLowerCase();
                      d.has(g) || (d.add(g), u.push(_));
                    }
                  }
                return { capsule: i, tags: u };
              }
            }),
            (t.prototype.OnCompleteEdit = function () {
              this.setState({ bImporting: !0, errMsg: void 0 }, this.DoImport);
            }),
            (t.prototype.DoImport = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a, i, r, s, c, d, p, m, _, g, E;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      for (
                        e = this.props.editModel,
                          t = new Map(),
                          a = this.state.editValue.split("\n"),
                          i = 0,
                          r = a;
                        i < r.length;
                        i++
                      )
                        (s = r[i]),
                          (c = this.ParseTagItemInfoFromLine(s)) &&
                            t.set(c.capsule.id, c);
                      return (
                        !0,
                        (d = this.props.bRemoveMissingEntries),
                        (p = this.props.collection),
                        (m = e.GetEventModel().jsondata),
                        (_ = new Array()),
                        (g = function (e) {
                          e.tags.some(function (e) {
                            return Object(l.d)(e, l.j.Store);
                          }) || _.push(e);
                        }),
                        (E = !0),
                        p &&
                          t.forEach(function (e) {
                            e.tags.some(function (e) {
                              return Boolean(Object(l.k)(e));
                            }) && (E = !1);
                          }),
                        Object(u.G)(function () {
                          m.tagged_items || (m.tagged_items = []),
                            d &&
                              (m.tagged_items = m.tagged_items.filter(function (
                                e
                              ) {
                                var a,
                                  n =
                                    null === (a = t.get(e.capsule.id)) ||
                                    void 0 === a
                                      ? void 0
                                      : a.capsule.type;
                                return e.capsule.type === n;
                              }));
                          for (
                            var e = 0, a = m.tagged_items;
                            e < a.length;
                            e++
                          ) {
                            var n = a[e],
                              i = t.get(n.capsule.id);
                            if (i && i.capsule.type == n.capsule.type) {
                              if (p) {
                                var r = E
                                  ? i.tags.map(function (e) {
                                      return Object(l.f)(e, p);
                                    })
                                  : i.tags;
                                Object(l.t)(n, r, p);
                              } else (n.tags = i.tags), g(n);
                              Object(l.v)(m.auto_item_tags, n),
                                t.delete(n.capsule.id);
                            }
                          }
                          t.forEach(function (e) {
                            Object(l.v)(m.auto_item_tags, e),
                              m.tagged_items.push(e),
                              g(m.tagged_items[m.tagged_items.length - 1]);
                          });
                        }),
                        _.length > 0 ? [4, Object(l.w)(e, _)] : [3, 2]
                      );
                    case 1:
                      n.sent(), (n.label = 2);
                    case 2:
                      return (
                        this.setState({ bImporting: !1, errMsg: "" }),
                        e.SetDirty(o.c.jsondata_sales),
                        Object(l.u)(e),
                        this.props.closeModal(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnTextChange = function (e) {
              this.setState({ editValue: e.currentTarget.value });
            }),
            (t.prototype.render = function () {
              var e = this.props.closeModal;
              return m.createElement(
                w.e,
                {
                  onCancel: e,
                  closeModal: e,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  bHideCloseIcon: this.state.bImporting,
                },
                m.createElement(C.k, null, Object(R.f)("#Sale_EditRaw_Title")),
                m.createElement(
                  C.b,
                  null,
                  m.createElement(
                    "div",
                    null,
                    Object(R.f)("#Sale_EditRaw_Desc_1")
                  ),
                  m.createElement(
                    "div",
                    null,
                    Object(R.f)("#Sale_EditRaw_Desc_2")
                  ),
                  m.createElement(
                    "div",
                    { className: H.EditRawExample },
                    Object(R.f)("#Sale_EditRaw_Example_Title")
                  ),
                  m.createElement(
                    "div",
                    { className: H.EditRawExample },
                    Object(R.f)("#Sale_EditTagItems_Example_1")
                  ),
                  m.createElement(
                    "div",
                    { className: H.EditRawExample },
                    Object(R.f)("#Sale_EditTagItems_Example_2")
                  ),
                  m.createElement(
                    "div",
                    { className: H.EditRawExample },
                    Object(R.f)("#Sale_EditTagItems_Example_3")
                  ),
                  Boolean(this.state.errMsg) &&
                    m.createElement(
                      "p",
                      { className: j.ErrorStyles },
                      this.state.errMsg
                    ),
                  this.state.bImporting &&
                    m.createElement(k.a, {
                      size: "medium",
                      position: "center",
                    }),
                  !this.state.bImporting &&
                    m.createElement("textarea", {
                      className: Object(B.a)(
                        H.EditRawTextArea,
                        q.EditRawTextArea
                      ),
                      value: this.state.editValue,
                      cols: 80,
                      rows: 30,
                      onChange: this.OnTextChange,
                    })
                ),
                !this.state.bImporting &&
                  m.createElement(
                    C.j,
                    null,
                    m.createElement(
                      C.q,
                      { onClick: this.OnCompleteEdit, disabled: !1 },
                      Object(R.f)("#Button_Confirm"),
                      " "
                    ),
                    m.createElement(
                      C.d,
                      { onClick: e, disabled: !1 },
                      Object(R.f)("#Button_Cancel")
                    )
                  )
              );
            }),
            Object(n.c)([F.a], t.prototype, "OnCompleteEdit", null),
            Object(n.c)([F.a], t.prototype, "DoImport", null),
            Object(n.c)([F.a], t.prototype, "OnTextChange", null),
            (t = Object(n.c)([p.a], t))
          );
        })(m.Component),
        ge = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bImporting: !1,
                sync_opt_in_items: !1,
                sync_opt_in_tags: !1,
                sync_store_tags: !1,
                sync_feature_tags: !1,
                bSyncTop20StoreTags: !1,
              }),
              t
            );
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.ConvertToCapsule = function (e) {
              return { id: e, type: "game" };
            }),
            (t.prototype.AddTag = function (e, t) {
              var a = t.toLocaleLowerCase();
              e.find(function (e) {
                return e.toLocaleLowerCase() === a;
              }) || e.push(t);
            }),
            (t.prototype.ImportOptInPage = function (e, t) {
              return Object(n.b)(this, void 0, void 0, function () {
                var a, i, r, o, c, d, p, m, _, g, E, b, h;
                return Object(n.e)(this, function (v) {
                  switch (v.label) {
                    case 0:
                      return (
                        (a = this.props.editModel),
                        (i = a.GetEventModel().jsondata.sale_opt_in_page_name)
                          ? (this.setState({
                              statusMsg: Object(R.f)(
                                "#Sale_ImportOptIn_Progress_LoadOptIn"
                              ),
                            }),
                            [4, s.a.Get().ForceLoadOptInPage(i)])
                          : (this.setState({
                              bImporting: !1,
                              errMsg: "Invalid opt in page specified " + i,
                            }),
                            [2, !1])
                      );
                    case 1:
                      return 1 !== (null == (r = v.sent()) ? void 0 : r.success)
                        ? (this.setState({
                            bImporting: !1,
                            errMsg:
                              (null == r ? void 0 : r.msg) ||
                              "Unable to load the application list for the sale id " +
                                i,
                          }),
                          [2, !1])
                        : ((o = !1),
                          (c = r.opted_in),
                          (d = a.GetEventModel().jsondata.tagged_items
                            ? Object(n.g)(
                                a.GetEventModel().jsondata.tagged_items
                              )
                            : []),
                          (p = s.a.Get().GetOptInPageData(i)),
                          t ? [4, Object(l.w)(a, d, !1, !1, !0)] : [3, 3]);
                    case 2:
                      (o = v.sent()), (v.label = 3);
                    case 3:
                      if (!e) return [3, 5];
                      for (
                        Object(u.G)(function () {
                          d = d.filter(function (e) {
                            var t = Boolean(p.has(e.capsule.id));
                            return (o = o || !t), t;
                          });
                        }),
                          m = new Array(),
                          _ = function (e) {
                            if (
                              !d.find(function (t) {
                                return t.capsule.id === e.appid;
                              })
                            ) {
                              var t = {
                                capsule: g.ConvertToCapsule(e.appid),
                                tags: [],
                              };
                              m.push(t), (o = !0);
                            }
                          },
                          g = this,
                          E = 0,
                          b = c;
                        E < b.length;
                        E++
                      )
                        (h = b[E]), _(h);
                      return [4, Object(l.w)(a, m)];
                    case 4:
                      v.sent(), d.push.apply(d, m), (v.label = 5);
                    case 5:
                      return (
                        o && (a.GetEventModel().jsondata.tagged_items = d),
                        [2, o]
                      );
                  }
                });
              });
            }),
            (t.prototype.DoImport = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a, i, r, s, c;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (e = this.state),
                        (t = e.sync_feature_tags),
                        (a = e.sync_opt_in_items),
                        (i = e.sync_opt_in_tags),
                        (r = e.sync_store_tags),
                        (s = !1),
                        a || i ? [4, this.ImportOptInPage(a, i)] : [3, 2]
                      );
                    case 1:
                      (s = n.sent() || s), (n.label = 2);
                    case 2:
                      return (
                        (c = this.props.editModel
                          .GetEventModel()
                          .GetTaggedItems()),
                        this.setState({
                          statusMsg: Object(R.f)(
                            "#Sale_SyncTaggedItems_Progress_LoadingStore",
                            c.length
                          ),
                        }),
                        r || t
                          ? [
                              4,
                              Object(l.w)(
                                this.props.editModel,
                                c,
                                r,
                                t,
                                !1,
                                this.state.bSyncTop20StoreTags
                              ),
                            ]
                          : [3, 4]
                      );
                    case 3:
                      (s = n.sent() || s), (n.label = 4);
                    case 4:
                      return (
                        s &&
                          (Object(l.u)(this.props.editModel),
                          this.props.editModel.SetDirty(o.c.jsondata_sales)),
                        this.setState({ bImporting: !1, errMsg: "" }),
                        this.props.closeModal(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnPerformSync = function () {
              this.setState(
                {
                  bImporting: !0,
                  errMsg: void 0,
                  statusMsg: Object(R.f)(
                    "#Sale_ImportOptIn_Progress_LoadOptIn"
                  ),
                },
                this.DoImport
              );
            }),
            (t.prototype.CanPerformSync = function () {
              var e = this.state,
                t = e.sync_feature_tags,
                a = e.sync_opt_in_items,
                n = e.sync_opt_in_tags,
                i = e.sync_store_tags;
              return t || a || n || i;
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                a = t.closeModal,
                n = t.editModel,
                i = Boolean(n.GetEventModel().jsondata.sale_opt_in_page_name);
              return m.createElement(
                w.e,
                {
                  onCancel: a,
                  closeModal: a,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  bHideCloseIcon: this.state.bImporting,
                },
                m.createElement(
                  C.k,
                  null,
                  Object(R.f)("#Sale_SyncTaggedItems_Title")
                ),
                m.createElement(
                  C.b,
                  null,
                  Boolean(this.state.errMsg) &&
                    m.createElement(
                      "p",
                      { className: j.ErrorStyles },
                      this.state.errMsg
                    ),
                  this.state.bImporting &&
                    m.createElement(
                      m.Fragment,
                      null,
                      this.state.statusMsg &&
                        m.createElement("p", null, this.state.statusMsg),
                      m.createElement(k.a, {
                        size: "medium",
                        position: "center",
                      })
                    ),
                  !this.state.bImporting &&
                    m.createElement(
                      m.Fragment,
                      null,
                      i &&
                        m.createElement(C.e, {
                          label: Object(R.f)("#Sale_SyncTag_OptInItems"),
                          tooltip: Object(R.f)("#Sale_SyncTag_OptInItems_ttip"),
                          checked: this.state.sync_opt_in_items,
                          onChange: function (t) {
                            return e.setState({ sync_opt_in_items: t });
                          },
                        }),
                      i &&
                        m.createElement(C.e, {
                          label: Object(R.f)("#Sale_SyncTag_OptInTags"),
                          tooltip: Object(R.f)("#Sale_SyncTag_OptInTags_ttip"),
                          checked: this.state.sync_opt_in_tags,
                          onChange: function (t) {
                            return e.setState({ sync_opt_in_tags: t });
                          },
                        }),
                      m.createElement(C.e, {
                        label: Object(R.f)("#Sale_SyncTag_StoreTags"),
                        tooltip: Object(R.f)("#Sale_SyncTag_StoreTags_ttip"),
                        checked: this.state.sync_store_tags,
                        onChange: function (t) {
                          return e.setState({ sync_store_tags: t });
                        },
                      }),
                      this.state.sync_store_tags &&
                        m.createElement(C.e, {
                          label: Object(R.f)(
                            "#FacetedBrowseEditor_SyncTopNTags"
                          ),
                          tooltip: Object(R.f)(
                            "#FacetedBrowseEditor_SyncTopNTags_Tooltip"
                          ),
                          checked: this.state.bSyncTop20StoreTags,
                          onChange: function (t) {
                            return e.setState({ bSyncTop20StoreTags: t });
                          },
                        }),
                      m.createElement(C.e, {
                        label: Object(R.f)("#Sale_SyncTag_Features"),
                        tooltip: Object(R.f)("#Sale_SyncTag_Features"),
                        checked: this.state.sync_feature_tags,
                        onChange: function (t) {
                          return e.setState({ sync_feature_tags: t });
                        },
                      })
                    )
                ),
                !this.state.bImporting &&
                  m.createElement(
                    C.j,
                    null,
                    m.createElement(
                      C.q,
                      {
                        onClick: this.OnPerformSync,
                        disabled: !this.CanPerformSync(),
                      },
                      Object(R.f)("#Button_Confirm")
                    ),
                    m.createElement(
                      C.d,
                      { onClick: a, disabled: !1 },
                      Object(R.f)("#Button_Cancel")
                    )
                  )
              );
            }),
            Object(n.c)([F.a], t.prototype, "ImportOptInPage", null),
            Object(n.c)([F.a], t.prototype, "OnPerformSync", null),
            (t = Object(n.c)([p.a], t))
          );
        })(m.Component);
      function Ee(e) {
        for (var t = new Set(), a = 0, n = e; a < n.length; a++) {
          var i = n[a],
            r = i.tag_name.trim().toLocaleLowerCase();
          if (!r) return !1;
          if (t.has(r)) return !1;
          if (Object(l.q)(i.filter)) return !1;
          t.add(r);
        }
        return !0;
      }
      var be = function (e) {
          var t = e.closeModal,
            a = e.editModel,
            i = a.GetEventModel().jsondata,
            r = m.useState(!0),
            s = r[0],
            c = r[1],
            d = m.useState(!1),
            p = d[0],
            _ = d[1],
            g = m.useState(Object(n.g)(i.auto_item_tags || [])),
            E = g[0],
            b = g[1],
            h = function () {
              c(Ee(E)), _(!0);
            },
            v = E.map(function (e, t) {
              return m.createElement(he, {
                key: "AutoTag" + t,
                editModel: a,
                fnOnEdited: h,
                fnOnDeleted: function () {
                  return (
                    (e = t),
                    b(
                      E.filter(function (t, a) {
                        return a != e;
                      })
                    ),
                    void c(Ee(E))
                  );
                  var e;
                },
                autoTag: e,
              });
            });
          return m.createElement(
            w.e,
            {
              onCancel: t,
              closeModal: t,
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
            },
            m.createElement(C.k, null, Object(R.f)("#Sale_EditAutoTags_Title")),
            m.createElement(
              C.b,
              null,
              m.createElement(
                "div",
                { className: q.EditAutoTagsBody },
                m.createElement(
                  "div",
                  { className: q.AutoTagList },
                  v,
                  m.createElement(
                    C.d,
                    {
                      onClick: function () {
                        b(
                          Object(n.g)(E, [
                            { tag_name: "", filter: { clauses: [] } },
                          ])
                        ),
                          c(!1);
                      },
                    },
                    Object(R.f)("#Sale_EditTags_NewTagButton")
                  )
                )
              )
            ),
            m.createElement(
              C.j,
              null,
              m.createElement(
                C.d,
                {
                  onClick: function () {
                    s &&
                      p &&
                      Object(u.G)(function () {
                        i.auto_item_tags = E;
                        for (
                          var e = 0, t = a.GetEventModel().GetTaggedItems();
                          e < t.length;
                          e++
                        ) {
                          var n = t[e];
                          Object(l.v)(i.auto_item_tags, n);
                        }
                        a.SetDirty(o.c.jsondata_sales);
                      }),
                      e.closeModal();
                  },
                  disabled: !s,
                },
                Object(R.f)("#Button_OK")
              )
            )
          );
        },
        he = function (e) {
          var t = m.useState(e.autoTag.tag_name),
            a = t[0],
            n = t[1],
            i = m.useState(e.autoTag.filter),
            r = i[0],
            o = i[1],
            l = function (t) {
              (e.autoTag.filter = t), e.fnOnEdited(), o(t);
            };
          return m.createElement(
            "div",
            { className: q.AutoTag },
            m.createElement(
              "div",
              { className: q.AutoTagRow },
              m.createElement(C.l, {
                type: "text",
                onChange: function (t) {
                  n(t.target.value),
                    (e.autoTag.tag_name = t.target.value.trim()),
                    e.fnOnEdited();
                },
                placeholder: Object(R.f)("#Sale_EditAutoTags_Placeholder"),
                tooltip: Object(R.f)("#Sale_EditAutoTags_Tooltip"),
                value: a,
              }),
              m.createElement(K, {
                onClick: function () {
                  return e.fnOnDeleted();
                },
              })
            ),
            m.createElement(
              "div",
              { className: q.AutoTagRow },
              m.createElement($, { filter: r }),
              m.createElement(
                C.d,
                {
                  onClick: function () {
                    Object(G.d)(
                      m.createElement(pe, {
                        editModel: e.editModel,
                        filter: r,
                        title: Object(R.f)("#Sale_TagFilter_EditFilter"),
                        onApplyFilter: l,
                      }),
                      window
                    );
                  },
                },
                Object(R.f)("#Sale_TagFilter_EditFilter")
              )
            )
          );
        };
    },
    pdAa: function (e, t, a) {
      e.exports = {
        AssociatedBuildBody:
          "partnereventassociatedbuild_AssociatedBuildBody_1rnVU",
        BuildDisplay: "partnereventassociatedbuild_BuildDisplay_1HwK4",
        BuildUnlinked: "partnereventassociatedbuild_BuildUnlinked_1cg3t",
        BuildLinkedBranch:
          "partnereventassociatedbuild_BuildLinkedBranch_2ssXJ",
        BuildLinkedDefault:
          "partnereventassociatedbuild_BuildLinkedDefault_fHJYY",
        BuildIDLink: "partnereventassociatedbuild_BuildIDLink_2-Syn",
      };
    },
    putg: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return d;
      });
      var n = a("mrSG"),
        i = a("vDqi"),
        r = a.n(i),
        o = a("mgoM"),
        l = a("3+zv"),
        s = a("OS6B"),
        c = a("lkRc"),
        d = new ((function () {
          function e(e) {
            void 0 === e && (e = null),
              (this.m_rgCategoriesForTagID = null),
              (this.m_rgTagNameForTagID = null),
              (this.m_rgAtomicTagIDsForTagID = null),
              (this.m_rgLocalizedCategoryNames = null),
              (this.m_rgLocalizedTagNames = null),
              (this.m_rgLanguages = null),
              e && this.ParseResponse(e);
          }
          return (
            (e.prototype.GetCategoriesForTagID = function () {
              return this.m_rgCategoriesForTagID;
            }),
            (e.prototype.GetTagNameForTagID = function () {
              return this.m_rgTagNameForTagID;
            }),
            (e.prototype.GetAtomicTagIDsForTagID = function () {
              return this.m_rgAtomicTagIDsForTagID;
            }),
            (e.prototype.GetLocalizedCategoryNames = function () {
              return this.m_rgLocalizedCategoryNames;
            }),
            (e.prototype.GetLocalizedTagNames = function () {
              return this.m_rgLocalizedTagNames;
            }),
            (e.prototype.GetLanguages = function () {
              return this.m_rgLanguages;
            }),
            (e.prototype.AutoGenerateFacets = function () {
              var e = this.ComputeLocalizedCategoryNames(),
                t = this.ComputeLocalizedTagNames(),
                a = this.ComputeCategoryToTagMap(),
                n = this.FindNonAtomicTags(),
                i = this.ComputeFacetCategoryToTagMap(a, n),
                r = this.ComputeAtomicTagToTagsMap();
              return this.ComputeFacets(i, r, e, t);
            }),
            (e.prototype.AutoGenerateFacetsAsync = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                return Object(n.e)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.EnsureLoaded()];
                    case 1:
                      return e.sent(), [2, this.AutoGenerateFacets()];
                  }
                });
              });
            }),
            (e.prototype.BIsTagAtomic = function (e) {
              return (
                this.m_rgAtomicTagIDsForTagID.has(e) &&
                this.m_rgAtomicTagIDsForTagID.get(e).includes(e)
              );
            }),
            (e.prototype.ParseResponse = function (e) {
              (this.m_rgCategoriesForTagID = new Map()),
                (this.m_rgTagNameForTagID = new Map()),
                (this.m_rgAtomicTagIDsForTagID = new Map()),
                (this.m_rgLocalizedCategoryNames = new Map()),
                (this.m_rgLocalizedTagNames = new Map()),
                (this.m_rgLanguages = new Array());
              for (
                var t = 0, a = Object.keys(e.rgCategoriesByTag);
                t < a.length;
                t++
              ) {
                var n = a[t];
                this.m_rgCategoriesForTagID.set(
                  Number(n),
                  Array.from(e.rgCategoriesByTag[n])
                );
              }
              for (
                var i = 0, r = Object.keys(e.rgTagNames);
                i < r.length;
                i++
              ) {
                n = r[i];
                this.m_rgTagNameForTagID.set(Number(n), e.rgTagNames[n]);
              }
              for (
                var o = 0, l = Object.keys(e.rgTagBreakdown);
                o < l.length;
                o++
              ) {
                n = l[o];
                this.m_rgAtomicTagIDsForTagID.set(
                  Number(n),
                  Array.from(e.rgTagBreakdown[n]).map(function (e) {
                    return Number(e);
                  })
                );
              }
              for (
                var s = 0, c = Object.keys(e.rgLocalizedCategoryNames);
                s < c.length;
                s++
              ) {
                var d = c[s];
                this.m_rgLocalizedCategoryNames.set(
                  d,
                  Array.from(e.rgLocalizedCategoryNames[d])
                );
              }
              for (
                var u = 0, p = Object.keys(e.rgLocalizedTagNames);
                u < p.length;
                u++
              ) {
                n = p[u];
                this.m_rgLocalizedTagNames.set(
                  Number(n),
                  Array.from(e.rgLocalizedTagNames[n])
                );
              }
              this.m_rgLanguages = Array.from(e.rgLanguages);
            }),
            (e.prototype.EnsureLoaded = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e;
                return Object(n.e)(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return this.m_rgCategoriesForTagID
                        ? [2]
                        : [4, this.Load()];
                    case 1:
                      return (e = t.sent()), this.ParseResponse(e), [2];
                  }
                });
              });
            }),
            (e.prototype.Load = function () {
              return Object(n.b)(this, void 0, void 0, function () {
                var e, t, a;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      (e = null), (n.label = 1);
                    case 1:
                      return (
                        n.trys.push([1, 3, , 4]),
                        [
                          4,
                          r.a.get(
                            c.c.COMMUNITY_BASE_URL +
                              "sale/ajaxgetcategoriesbytag"
                          ),
                        ]
                      );
                    case 2:
                      return (
                        (t = n.sent()),
                        1 !== (null == (e = t.data) ? void 0 : e.success)
                          ? (console.error(
                              "Unable to load tag category data: " +
                                (null == e ? void 0 : e.success)
                            ),
                            [2, null])
                          : [3, 4]
                      );
                    case 3:
                      return (
                        (a = n.sent()),
                        console.error(
                          "Unable to load tag category data: " +
                            Object(s.a)(a).strErrorMsg
                        ),
                        [2, null]
                      );
                    case 4:
                      return [2, e];
                  }
                });
              });
            }),
            (e.prototype.Verify = function (e) {
              for (
                var t = new Set(),
                  a = new Set(),
                  n = Object.keys(e.rgTagBreakdown),
                  i = Object.keys(e.rgTagNames),
                  r = Object.keys(e.rgCategoriesByTag),
                  o = 0,
                  l = n;
                o < l.length;
                o++
              )
                for (
                  var s = l[o], c = 0, d = e.rgTagBreakdown[s].flat();
                  c < d.length;
                  c++
                ) {
                  var u = d[c];
                  i.includes(u.toString()) || t.add(u),
                    (r.includes(u.toString()) &&
                      e.rgCategoriesByTag[u] &&
                      0 !== e.rgCategoriesByTag[u].length) ||
                      a.add(u);
                }
              console.log(t.size + " un-named tags."),
                t.size > 0 && console.log(t),
                console.log(a.size + " un-categorized tags."),
                a.size > 0 && console.log(a);
            }),
            (e.prototype.ComputeCategoryToTagMap = function () {
              var e = new Map();
              return (
                this.m_rgCategoriesForTagID.forEach(function (t, a) {
                  if (t)
                    for (var n = 0, i = t; n < i.length; n++) {
                      var r = i[n];
                      e.has(r) || e.set(r, new Array()), e.get(r).push(a);
                    }
                }),
                e
              );
            }),
            (e.prototype.FindNonAtomicTags = function () {
              var e = new Set();
              return (
                this.m_rgAtomicTagIDsForTagID.forEach(function (t, a) {
                  1 !== t.length && e.add(a);
                }),
                e
              );
            }),
            (e.prototype.ComputeFacetCategoryToTagMap = function (e, t) {
              for (
                var a = new Set(),
                  n = new Map(),
                  i = function (i, r) {
                    for (var o = 0, l = e.get(r); o < l.length; o++) {
                      var s = l[o];
                      a.has(s) || t.has(s) || (a.add(s), n.get(i).push(s));
                    }
                  },
                  r = 0,
                  o = [
                    "supergenre",
                    "genre",
                    "subgenre",
                    "visuals",
                    "theme_mood",
                    "feature",
                    "players",
                  ];
                r < o.length;
                r++
              ) {
                var l = o[r];
                n.set(l, new Array()),
                  "theme_mood" === l ? (i(l, "theme"), i(l, "mood")) : i(l, l);
              }
              return n;
            }),
            (e.prototype.ComputeLocalizedCategoryNames = function () {
              var e = new Map();
              e.set("supergenre", "#App_Taxonomy_Survey_QSuperGenreTitle"),
                e.set("genre", "#App_Taxonomy_Survey_QGenreTitle"),
                e.set("subgenre", "#App_Taxonomy_Survey_QSubGenreTitle"),
                e.set("visuals", "#App_Taxonomy_Survey_QVisualsTitle"),
                e.set("theme_mood", "#App_Taxonomy_Survey_QThemeMoodTitle"),
                e.set("feature", "#App_Taxonomy_Survey_QFeaturesTitle"),
                e.set("players", "#App_Taxonomy_Survey_QPlayersTitle");
              var t = new Map();
              return (
                this.m_rgLocalizedCategoryNames.forEach(function (a, n) {
                  var i = new Array(30);
                  (i[0] = e.get(n)), t.set(n, i);
                }),
                t
              );
            }),
            (e.prototype.ComputeLocalizedTagNames = function () {
              var e = this,
                t = new Map();
              return (
                this.m_rgLocalizedTagNames.forEach(function (a, n) {
                  var i = a,
                    r = new Array(30);
                  r.fill(""),
                    e.m_rgLanguages.forEach(function (e, t) {
                      var a = Object(o.d)(e, -1);
                      -1 === a
                        ? console.warn("Unrecognized language: " + e)
                        : 0 <= a && a < 30 && (r[a] = i[t]);
                    }),
                    t.set(n, r);
                }),
                t
              );
            }),
            (e.prototype.ComputeAtomicTagToTagsMap = function () {
              var e = new Map();
              return (
                this.m_rgAtomicTagIDsForTagID.forEach(function (t, a) {
                  for (var n = 0, i = t; n < i.length; n++) {
                    var r = i[n],
                      o = Number(r);
                    e.has(o) || e.set(o, new Array()), e.get(o).push(a);
                  }
                }),
                e
              );
            }),
            (e.prototype.ComputeFacets = function (e, t, a, n) {
              var i = new Array();
              return (
                e.forEach(function (e, r) {
                  for (
                    var o = { name: a.get(r), facetValues: new Array() },
                      s = Array(),
                      c = 0,
                      d = e;
                    c < d.length;
                    c++
                  ) {
                    var u = d[c];
                    if (n.get(u)) {
                      var p = {
                        name: n.get(u),
                        subtitle: new Array(),
                        rgStoreTagFilter: {
                          type: l.o.k_EStoreFilterClauseTypeAnd,
                          rgSubexpressions: [
                            {
                              type: l.o.k_EStoreFilterClauseTypeOr,
                              rgSubexpressions: t.has(u)
                                ? t.get(u).map(function (e) {
                                    return {
                                      type:
                                        l.o.k_EStoreFilterClauseTypeStoreTag,
                                      value: e,
                                    };
                                  })
                                : [
                                    {
                                      type:
                                        l.o.k_EStoreFilterClauseTypeStoreTag,
                                      value: u,
                                    },
                                  ],
                            },
                          ],
                        },
                        nAtomicStoreTagID: u,
                        filter: null,
                        matchingCapsules: [],
                      };
                      o.facetValues.push(p);
                    } else s.push(u);
                  }
                  s.length > 0 &&
                    console.warn(
                      "No name information found for tag count " +
                        s.length +
                        ", skipping.",
                      s
                    ),
                    i.push(o);
                }),
                i
              );
            }),
            e
          );
        })())();
    },
    "r+ba": function (e, t, a) {
      e.exports = {
        Container: "partnereventwebrowembed_Container_2Jd3M",
        StoreHeaderAdjust: "partnereventwebrowembed_StoreHeaderAdjust_3YyCp",
        SectionButtonCtn: "partnereventwebrowembed_SectionButtonCtn_1HP0y",
        SectionButton: "partnereventwebrowembed_SectionButton_3n8sw",
        EventsSummariesCtn: "partnereventwebrowembed_EventsSummariesCtn_1snIw",
        LatestUpdateButtonCtn:
          "partnereventwebrowembed_LatestUpdateButtonCtn_2vEwZ",
        LatestUpdateIcon: "partnereventwebrowembed_LatestUpdateIcon_mq3RO",
        LatestUpdateButton: "partnereventwebrowembed_LatestUpdateButton_1TRFt",
      };
    },
    rerp: function (e, t, a) {
      e.exports = {
        PreviewBarContainer: "partnereventpreview_PreviewBarContainer_2OUix",
        FallBackWarning: "partnereventpreview_FallBackWarning_2x0Ma",
        StoreNavigationPlaceholder:
          "partnereventpreview_StoreNavigationPlaceholder_tHKKN",
      };
    },
    rppr: function (e, t, a) {
      e.exports = {
        VersionListCtn: "partnereventrevisionhistory_VersionListCtn_32hnY",
        VersionCtn: "partnereventrevisionhistory_VersionCtn_3vUSX",
        VersionInfoCtn: "partnereventrevisionhistory_VersionInfoCtn_1sI79",
      };
    },
    t0uJ: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return I;
      }),
        a.d(t, "a", function () {
          return D;
        }),
        a.d(t, "c", function () {
          return w;
        }),
        a.d(t, "d", function () {
          return G;
        });
      var n = a("mrSG"),
        i = a("vDqi"),
        r = a.n(i),
        o = a("Q47U"),
        l = a("fcuX"),
        s = a("t0uJ"),
        c = a("4lry"),
        d = a("2vnA"),
        u = a("q1tI"),
        p = a.n(u),
        m = a("mgoM"),
        _ = a("3+zv"),
        g = a("kLLr"),
        E = a("ir+G"),
        b = a("U+Q5"),
        h = a("TQGK"),
        v = a("BVKn"),
        f = a("9w6b"),
        S = a("6oCP"),
        O = a("r64O"),
        y = a("OS6B"),
        C = a("TLQK"),
        j = a("lkRc");
      function T(e) {
        return "U" + (j.h.accountid || "anon") + "-" + e;
      }
      function I(e, t) {
        window.sessionStorage.setItem(T(e), JSON.stringify(t));
      }
      function D(e) {
        var t = null,
          a = window.sessionStorage.getItem(T(e));
        if (a)
          try {
            t = JSON.parse(a);
          } catch (e) {}
        return t;
      }
      var w = new ((function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (
            (t.m_bLoadedOrInflightSteamAwardVoteDefinitions = !1),
            (t.m_mapSteamAwardVoteDefinitionsForApp = new Map()),
            (t.m_promiseLoadClanEventsForPartnerDashboard = null),
            t
          );
        }
        return (
          Object(n.d)(t, e),
          (t.prototype.GetCurHoverCategory = function () {
            return {
              type: this.m_curHoverCategoryType,
              tags: this.m_curHoverCategoryTags,
            };
          }),
          (t.prototype.SetCurHoverCategory = function (e, t) {
            this.m_curHoverCategoryType !== e &&
              (this.m_curHoverCategoryType = e),
              this.m_curHoverCategoryTags !== t &&
                (this.m_curHoverCategoryTags = t);
          }),
          (t.prototype.BHasEditModel = function () {
            return null != this.m_editModel;
          }),
          (t.prototype.ClearModel = function () {
            this.m_editModel = null;
          }),
          (t.prototype.BIsCreateModel = function () {
            return !this.m_editModel || "" == this.m_editModel.GetGID();
          }),
          (t.prototype.BIsDirty = function () {
            return this.m_editModel && this.m_editModel.BIsDirty();
          }),
          (t.prototype.BEventModelHasTag = function (e) {
            return this.GetEditModel().BHasTag(e);
          }),
          (t.prototype.ResetModel = function (e, t) {
            var a = new S.c();
            (a.GID = e),
              (a.clanSteamID = t || g.a.InitFromClanID(j.b.CLANACCOUNTID)),
              Object(O.a)(
                a.clanSteamID && a.clanSteamID.BIsValid(),
                "Invalid Clan SteamID: " + a.clanSteamID.ConvertTo64BitString()
              ),
              (a.appid = j.b.APPID),
              (a.bOldAnnouncement = e && e.startsWith(_.H)),
              (a.bLoaded = !0),
              null == e && (a.loadedAllLanguages = !0),
              a.appid == _.D &&
                (a.vecTags.push("hide_library_overview"),
                a.vecTags.push("steam_blog"),
                a.vecTags.push("mod_reviewed")),
              (this.m_editModel = new l.e(a)),
              E.a.EnsureStoreCapsuleInfoLoaded(j.b.APPID);
          }),
          (t.prototype.LoadClanEventsForPartnerDashboard = function (e, t) {
            return Object(n.b)(this, void 0, void 0, function () {
              return Object(n.e)(this, function (a) {
                return (
                  this.m_promiseLoadClanEventsForPartnerDashboard ||
                    (this.m_promiseLoadClanEventsForPartnerDashboard = this.InternalLoadClanEventsForPartnerDashboard(
                      e,
                      t
                    )),
                  [2, this.m_promiseLoadClanEventsForPartnerDashboard]
                );
              });
            });
          }),
          (t.prototype.InternalLoadClanEventsForPartnerDashboard = function (
            e,
            t
          ) {
            var a, i, o;
            return Object(n.b)(this, void 0, void 0, function () {
              var l,
                s,
                c,
                d,
                u = this;
              return Object(n.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    return (
                      (l =
                        j.c.COMMUNITY_BASE_URL +
                        "/gid/" +
                        e.ConvertTo64BitString() +
                        "/ajaxlisteventsfordashboard/"),
                      (s = { start: 0, count: 20, l: j.c.LANGUAGE }),
                      [
                        4,
                        r.a.get(l, {
                          params: s,
                          cancelToken: t ? t.token : void 0,
                        }),
                      ]
                    );
                  case 1:
                    return (
                      (c = n.sent()),
                      (d = new Array()),
                      1 ==
                        (null === (a = null == c ? void 0 : c.data) ||
                        void 0 === a
                          ? void 0
                          : a.success) &&
                        ((null === (i = c.data.hidden_announcement_gids) ||
                        void 0 === i
                          ? void 0
                          : i.length) > 0 &&
                          c.data.hidden_announcement_gids.forEach(function (t) {
                            return d.push(
                              u.LoadHiddenPartnerEventByAnnouncementGID(e, t)
                            );
                          }),
                        (null === (o = c.data.announcement_gids) || void 0 === o
                          ? void 0
                          : o.length) > 0 &&
                          c.data.announcement_gids.forEach(function (t) {
                            return d.push(
                              u.LoadHiddenPartnerEventByAnnouncementGID(e, t)
                            );
                          })),
                      [4, Promise.all(d)]
                    );
                  case 2:
                    return n.sent(), [2, this.GetAllClanEvents(e)];
                }
              });
            });
          }),
          (t.prototype.LoadEditorModel = function (e, t) {
            var a;
            return Object(n.b)(this, void 0, void 0, function () {
              var i;
              return Object(n.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    return t &&
                      (null === (a = this.m_editModel) || void 0 === a
                        ? void 0
                        : a.GetGID()) == t &&
                      this.m_editModel.GetEventModel().loadedAllLanguages
                      ? [3, 6]
                      : [3, 1];
                  case 1:
                    return t
                      ? (this.ResetModel(t, e),
                        [4, this.LoadHiddenPartnerEvent(e, t)])
                      : [3, 5];
                  case 2:
                    return (
                      n.sent(),
                      (i = s.c.GetClanEventModel(t))
                        ? (this.m_editModel.Refresh(i),
                          [4, s.c.LoadClanEventLocalization(e, t, !1)])
                        : [3, 4]
                    );
                  case 3:
                    n.sent(), (n.label = 4);
                  case 4:
                    return [3, 6];
                  case 5:
                    this.m_editModel || this.ResetModel(), (n.label = 6);
                  case 6:
                    return [2, this.m_editModel];
                }
              });
            });
          }),
          (t.prototype.GetEditModel = function () {
            return this.m_editModel;
          }),
          (t.prototype.CreateClone = function () {
            var e = this.GetEditModel().GetEventModel().clone();
            return this.m_editModel.PrepareAsClone(e), this.m_editModel;
          }),
          (t.prototype.PublishModel = function (e, t) {
            return (
              void 0 === t && (t = !1),
              Object(n.b)(this, void 0, void 0, function () {
                var a;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, this.InternalSaveAction(e, !0, t)];
                    case 1:
                      if (1 != (a = n.sent()).success) throw a;
                      return [2, a];
                  }
                });
              })
            );
          }),
          (t.prototype.PreSaveActions = function (e) {
            return Object(n.b)(this, void 0, void 0, function () {
              var t, a, i, r, l, s, d, u, p;
              return Object(n.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    if (
                      (30 == this.m_editModel.GetFirstLanguageWithTitle() &&
                        this.m_editModel.SetName(
                          this.m_editModel.GetCurEditLanguage(),
                          Object(C.f)("#EventEditor_Placeholder_Title")
                        ),
                      !this.m_editModel.BHasEmailEnabled())
                    )
                      return [3, 6];
                    (t = this.m_editModel.GetEmailSettings().sections),
                      (a = 0),
                      (n.label = 1);
                  case 1:
                    if (!(a < t.length)) return [3, 6];
                    if (
                      ((i = t[a]),
                      !(r = new o.a(i, this.m_editModel)).BHasValidVideoURL())
                    )
                      return [3, 5];
                    if (!(l = r.GetYouTubeVideoID()) || r.BHasVideoImage())
                      return [3, 5];
                    (s =
                      j.c.COMMUNITY_BASE_URL +
                      "gid/" +
                      this.m_editModel.GetClanSteamID().ConvertTo64BitString() +
                      "/fetchyoutubeimage?videoid=" +
                      l),
                      (d =
                        j.c.COMMUNITY_BASE_URL +
                        "public/images/events/media_play_icon.png"),
                      (n.label = 2);
                  case 2:
                    return (
                      n.trys.push([2, 4, , 5]),
                      [4, b.d.AsyncOverlay(e, s, d, l, 740, 555)]
                    );
                  case 3:
                    return (u = n.sent()), r.SetVideoHashAndExt(u), [3, 5];
                  case 4:
                    return (
                      (p = n.sent()),
                      console.error(
                        "We failed to create a video image, not a blocker: " +
                          Object(y.a)(p).strErrorMsg
                      ),
                      [3, 5]
                    );
                  case 5:
                    return ++a, [3, 1];
                  case 6:
                    return (
                      this.m_editModel.BHasSaleEnabled() &&
                        this.m_editModel.GetSaleSectionCount() > 0 &&
                        this.m_editModel
                          .GetSaleSections()
                          .forEach(function (e) {
                            "items" == e.section_type &&
                              Boolean(e.smart_section_type) &&
                              (e.capsules = []);
                          }),
                      [4, Object(c.b)(this.m_editModel)]
                    );
                  case 7:
                    return n.sent(), [2];
                }
              });
            });
          }),
          (t.prototype.SaveModel = function (e, t, a) {
            return (
              void 0 === t && (t = !1),
              Object(n.b)(this, void 0, void 0, function () {
                var i;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [4, this.PreSaveActions(e)];
                    case 1:
                      return (
                        n.sent(), [4, this.InternalSaveAction(e, !1, t, a)]
                      );
                    case 2:
                      if (1 != (i = n.sent()).success) throw i;
                      return [2, i];
                  }
                });
              })
            );
          }),
          (t.prototype.InternalSaveAction = function (e, t, a, i) {
            return Object(n.b)(this, void 0, void 0, function () {
              var o,
                s,
                c,
                u,
                p,
                E,
                b,
                h,
                v,
                f,
                S,
                T,
                I,
                D,
                w,
                G,
                A = this;
              return Object(n.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    return (
                      (o =
                        !!this.m_editModel.GetGID() &&
                        !this.m_editModel.GetGID().startsWith(_.H)),
                      t && !o
                        ? [
                            2,
                            {
                              success: 11,
                              msg: Object(C.f)(
                                "#EventEditor_Publish_CannotPublishWithoutSaveFirst"
                              ),
                            },
                          ]
                        : this.m_editModel.GetEventModel().loadedAllLanguages
                        ? i || (!o && !t)
                          ? [3, 2]
                          : [
                              4,
                              this.GetLastUpdateTimeForEvent(
                                e,
                                this.m_editModel.GetEventModel().GID,
                                void 0,
                                null
                              ),
                            ]
                        : [
                            2,
                            {
                              success: 11,
                              msg: Object(C.f)(
                                "#EventEditor_SaveOrPublish_MissingLocalizationInternalError"
                              ),
                            },
                          ]
                    );
                  case 1:
                    if (
                      (s = n.sent()) &&
                      s.last_update_rtime > 0 &&
                      s.last_update_rtime !=
                        this.m_editModel.GetLastUpdateTime()
                    )
                      return (
                        console.log(
                          "Clobber Warning Appears: Original Seconds: " +
                            s.last_update_rtime +
                            " update time: " +
                            this.m_editModel.GetLastUpdateTime() +
                            " previous user: " +
                            s.persona_name
                        ),
                        [
                          2,
                          {
                            success: 27,
                            msg: Object(C.f)(
                              "#EventEditor_SaveOrPublish_ClobberWarning",
                              Object(C.m)(s.last_update_rtime),
                              s.persona_name,
                              Object(C.m)(this.m_editModel.GetLastUpdateTime())
                            ),
                          },
                        ]
                      );
                    n.label = 2;
                  case 2:
                    if (
                      ((c = this.m_editModel.GetGID()),
                      (u = new URLSearchParams()).append(
                        "sessionid",
                        j.c.SESSIONID
                      ),
                      u.append("authwgtoken", j.h.authwgtoken),
                      a && u.append("fake_error", "" + a),
                      this.m_editModel
                        .GetEventModel()
                        .BHasTag("mod_reviewed") &&
                        this.m_editModel.AddTag("mod_require_rereview"),
                      this.m_editModel.BHasTag("auto_migrated") &&
                        !this.m_editModel.GetEventModel().bOldAnnouncement &&
                        this.m_editModel.ClearTags(["auto_migrated"]),
                      o || t
                        ? (u.append(t ? "bPublish" : "bUpdate", "1"),
                          u.append("gid", this.m_editModel.GetGID()),
                          u.append(
                            "announcement_gid",
                            this.m_editModel.GetAnnouncementGID()
                          ))
                        : (this.m_editModel.GetEventModel().bOldAnnouncement &&
                            u.append(
                              "announcement_gid",
                              this.m_editModel.GetAnnouncementGID()
                            ),
                          u.append("bCreate", "1")),
                      u.append(
                        "rtime32_visibility_start",
                        "" + this.m_editModel.GetEventVisibilityStartTime()
                      ),
                      u.append(
                        "rtime32_visibility_end",
                        "" + this.m_editModel.GetEventVisibilityEndTime()
                      ),
                      u.append(
                        "start_time_is_now",
                        this.m_editModel.GetStartTimeEditChoice() ==
                          l.d.k_ENow ||
                          this.m_editModel.GetVisibilitySetting() ==
                            l.f.immediate
                          ? "1"
                          : "0"
                      ),
                      !t)
                    ) {
                      if (
                        ((p = "Untitled"),
                        !(E = (this.m_editModel.GetName(0) || "").trim()) ||
                          E === p)
                      ) {
                        for (b = "", h = 0; h < 30; ++h)
                          if (
                            ((v = (this.m_editModel.GetName(h) || "").trim()),
                            this.m_editModel.BIsLanguageValidForRealms(h) && v)
                          ) {
                            b = v;
                            break;
                          }
                        this.m_editModel.SetName(0, b || p);
                      }
                      for (
                        u.append("hidden", "" + this.m_editModel.BHidden()),
                          u.append(
                            "published",
                            "" + this.m_editModel.BPublished()
                          ),
                          u.append("appid", "" + this.m_editModel.GetAppID()),
                          u.append("event_name", this.m_editModel.GetName(0)),
                          u.append(
                            "event_type",
                            "" + this.m_editModel.GetEventType()
                          ),
                          u.append(
                            "body",
                            this.m_editModel.GetDescription(0)
                              ? this.m_editModel.GetDescription(0)
                              : ""
                          ),
                          u.append(
                            "rtime32_start_time",
                            "" + this.m_editModel.GetEventStartTime()
                          ),
                          u.append(
                            "rtime32_end_time",
                            "" + this.m_editModel.GetEventEndTime()
                          ),
                          u.append(
                            "jsondata",
                            "" + this.m_editModel.ConstructJSONData()
                          ),
                          u.append(
                            "tags",
                            JSON.stringify(
                              this.m_editModel.GetEventModel().vecTags
                            )
                          ),
                          u.append(
                            "build_id",
                            "" + this.m_editModel.GetEventModel().m_nBuildID
                          ),
                          u.append(
                            "build_branch",
                            this.m_editModel.GetEventModel().m_strBuildBranch
                          ),
                          this.m_editModel.BHasBroadcaster() &&
                            u.append(
                              "broadcaster_accountid",
                              "" +
                                this.m_editModel.GetBroadcaster().GetAccountID()
                            ),
                          f = 0;
                        f < 30;
                        ++f
                      )
                        this.m_editModel.BHasLanguage(f) &&
                          (u.append(
                            Object(m.c)(Object(m.a)(f)) + "_headline",
                            this.m_editModel.GetName(f)
                              ? this.m_editModel.GetName(f)
                              : ""
                          ),
                          u.append(
                            Object(m.c)(Object(m.a)(f)) + "_body",
                            this.m_editModel.GetDescription(f)
                              ? this.m_editModel.GetDescription(f)
                              : ""
                          ));
                    }
                    (S = this.m_editModel.GetAppID()),
                      (T =
                        j.c.COMMUNITY_BASE_URL +
                        "gid/" +
                        e.ConvertTo64BitString() +
                        "/ajaxcreateupdatedeletepartnerevents/"),
                      (n.label = 3);
                  case 3:
                    return n.trys.push([3, 6, , 7]), [4, r.a.post(T, u)];
                  case 4:
                    return (
                      (I = n.sent()),
                      Object(d.G)(function () {
                        if (
                          (Object(O.a)(
                            200 == I.status && 1 == I.data.success,
                            "We should only get 200 if we succeed in this method."
                          ),
                          A.m_editModel.GetGID() == c)
                        ) {
                          A.m_editModel.ClearDirty(),
                            t
                              ? (A.m_editModel.UpdateVisibilityState(
                                  I.data.published,
                                  I.data.hidden
                                ),
                                I.data.forum_topic_id &&
                                  (A.m_editModel.GetEventModel().forumTopicGID =
                                    I.data.forum_topic_id))
                              : (o ||
                                  (A.m_editModel.SetGIDs(
                                    e,
                                    I.data.gid,
                                    I.data.announcement_gid
                                  ),
                                  A.InsertUniqueEventGID(
                                    e.GetAccountID(),
                                    S,
                                    I.data.gid
                                  )),
                                I.data.localization_updates &&
                                  I.data.localization_updates.forEach(function (
                                    e
                                  ) {
                                    A.m_editModel
                                      .GetEventModel()
                                      .timestamp_loc_updated.set(
                                        e.lang,
                                        e.timestamp_updated
                                      );
                                  }));
                          var a = A.m_editModel.GetEventModel();
                          A.m_mapExistingEvents.set(a.GID, a),
                            A.m_editModel.Refresh(a);
                        }
                      }),
                      [
                        4,
                        this.GetLastUpdateTimeForEvent(
                          e,
                          this.m_editModel.GetGID(),
                          void 0,
                          void 0
                        ),
                      ]
                    );
                  case 5:
                    return (
                      (D = n.sent())
                        ? this.m_editModel.MarkUpdateSuccessful(
                            D.last_update_rtime,
                            D.last_updater_steamid
                          )
                        : this.m_editModel.MarkUpdateSuccessful(
                            Math.floor(Date.now() / 1e3),
                            g.a
                              .InitFromAccountID(j.h.accountid)
                              .ConvertTo64BitString()
                          ),
                      [2, I.data]
                    );
                  case 6:
                    return (
                      (w = n.sent()),
                      (G = Object(y.a)(w)),
                      console.error(
                        "InternalSaveAction failed: " + G.strErrorMsg,
                        G
                      ),
                      [2, { success: 2, msg: G.strErrorMsg }]
                    );
                  case 7:
                    return [2];
                }
              });
            });
          }),
          (t.prototype.LoadClanEventLocalization = function (e, t, a) {
            return Object(n.b)(this, void 0, void 0, function () {
              var i,
                r,
                o = this;
              return Object(n.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    return !(i = this.m_mapExistingEvents.get(t)) ||
                      (i.loadedAllLanguages && !a)
                      ? [3, 2]
                      : (r = i.AnnouncementGID) && "0" != r
                      ? [
                          4,
                          this.LoadClanEventLocalizationFromAnnouncementGID(
                            e,
                            r
                          ).then(function (e) {
                            e &&
                              Object(d.G)(function () {
                                i.loadedAllLanguages = !0;
                                for (var t = 0, a = e; t < a.length; t++) {
                                  var n = a[t];
                                  i.name.set(n.language, n.headline),
                                    i.description.set(n.language, n.body),
                                    i.timestamp_loc_updated.set(
                                      n.language,
                                      n.timestamp_updated
                                    );
                                }
                                o.m_editModel.Refresh(i);
                              });
                          }),
                        ]
                      : [2, this.m_editModel];
                  case 1:
                    n.sent(), (n.label = 2);
                  case 2:
                    return [2, this.m_editModel];
                }
              });
            });
          }),
          (t.prototype.FireTestEmail = function (e, t, a, i) {
            return Object(n.b)(this, void 0, void 0, function () {
              var o, l;
              return Object(n.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    return (
                      (o =
                        j.c.COMMUNITY_BASE_URL +
                        "eventemail/ajaxtestfirepartnereventemail"),
                      Object(O.a)(
                        e && e.BIsValid(),
                        "FireTestEventNotifiation clan steamd is invalid " +
                          (e ? e.ConvertTo64BitString() : "undefined")
                      ),
                      (l = new URLSearchParams()).append(
                        "sessionid",
                        j.c.SESSIONID
                      ),
                      l.append("clan_event_gid", t),
                      l.append("clan_account_id", "" + e.GetAccountID()),
                      l.append("language", Object(m.a)(a)),
                      [4, r.a.post(o, l, { cancelToken: i.token })]
                    );
                  case 1:
                    return [2, n.sent().data];
                }
              });
            });
          }),
          (t.prototype.FireTestEventNotifiation = function (e, t, a, i) {
            return (
              void 0 === i && (i = 0),
              Object(n.b)(this, void 0, void 0, function () {
                var o, l;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (o =
                          j.c.COMMUNITY_BASE_URL +
                          "eventemail/ajaxtestfireeventnotification"),
                        Object(O.a)(
                          e && e.BIsValid(),
                          "FireTestEventNotifiation clan steamd is invalid " +
                            (e ? e.ConvertTo64BitString() : "undefined")
                        ),
                        (l = new URLSearchParams()).append(
                          "sessionid",
                          j.c.SESSIONID
                        ),
                        l.append("clan_event_gid", t),
                        l.append("clan_account_id", "" + e.GetAccountID()),
                        l.append("notification_type", "" + i),
                        [4, r.a.post(o, l, { cancelToken: a.token })]
                      );
                    case 1:
                      return [2, n.sent().data];
                  }
                });
              })
            );
          }),
          (t.prototype.SetupPartnerEmailCampaign = function (e, t, a) {
            return Object(n.b)(this, void 0, void 0, function () {
              var i, o, l;
              return Object(n.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    return (
                      (i =
                        j.c.COMMUNITY_BASE_URL +
                        "eventemail/ajaxsetuppartneremail"),
                      (o = new URLSearchParams()).append(
                        "sessionid",
                        j.c.SESSIONID
                      ),
                      o.append("clanid", "" + e.GetAccountID()),
                      o.append("gidevent", t),
                      [
                        4,
                        r.a.post(i, o, {
                          withCredentials: !0,
                          cancelToken: a.token,
                        }),
                      ]
                    );
                  case 1:
                    return (
                      (l = n.sent()),
                      [4, this.HandleEmailSetupResponse(e, t, l)]
                    );
                  case 2:
                    return [2, n.sent()];
                }
              });
            });
          }),
          (t.prototype.HandleEmailSetupResponse = function (e, t, a) {
            return Object(n.b)(this, void 0, void 0, function () {
              var i, r;
              return Object(n.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    return a.data.force_feature_id && 1 == a.data.success
                      ? ((i = a.data.force_feature_id),
                        console.log(
                          "SetupPartnerEmailCampaign successful with feature id: " +
                            i
                        ),
                        [4, this.LoadEditorModel(e, t)])
                      : [3, 3];
                  case 1:
                    return (
                      (r = n.sent()),
                      new o.b(r).SetForceFeatureID(i),
                      [4, this.SaveModel(e)]
                    );
                  case 2:
                    return [2, n.sent()];
                  case 3:
                    return [2, a.data];
                }
              });
            });
          }),
          (t.prototype.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID = function (
            t,
            a,
            i,
            r,
            o,
            l
          ) {
            return (
              void 0 === l && (l = !1),
              Object(n.b)(this, void 0, void 0, function () {
                var l, s;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return t ? [3, 2] : [4, h.a.LoadOGGClanInfoForAppID(a)];
                    case 1:
                      (l = n.sent()), (t = l.clanSteamID), (n.label = 2);
                    case 2:
                      return [4, f.a.Get().LoadSingleAppEventPermissions(t)];
                    case 3:
                      return (
                        (s = n.sent()),
                        [
                          2,
                          e.prototype.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID.call(
                            this,
                            t,
                            a,
                            i,
                            r,
                            o,
                            s.can_edit
                          ),
                        ]
                      );
                  }
                });
              })
            );
          }),
          (t.prototype.RequestLocalizationOfEvent = function (e, t, a) {
            return Object(n.b)(this, void 0, void 0, function () {
              var i, o;
              return Object(n.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    return (
                      (i =
                        j.c.STORE_BASE_URL + "events/ajaxrequestlocalization"),
                      (o = new URLSearchParams()).append(
                        "authwgtoken",
                        j.h.authwgtoken
                      ),
                      o.append("clanid", "" + e.GetAccountID()),
                      o.append("gidevent", t),
                      o.append("primaryLang", "0"),
                      [4, r.a.post(i, o, { cancelToken: a.token })]
                    );
                  case 1:
                    return [2, n.sent().data];
                }
              });
            });
          }),
          (t.prototype.GetLastUpdateTimeForEvent = function (e, t, a, i) {
            return Object(n.b)(this, void 0, void 0, function () {
              var o, l, s, c;
              return Object(n.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    (o =
                      j.c.COMMUNITY_BASE_URL +
                      "gid/" +
                      e.ConvertTo64BitString() +
                      "/ajaxgetlastupdatetimeforpartnerevent"),
                      (l = { eventgid: t, announcementgid: a }),
                      (n.label = 1);
                  case 1:
                    return (
                      n.trys.push([1, 3, , 4]),
                      [
                        4,
                        r.a.get(o, {
                          params: l,
                          withCredentials: !0,
                          cancelToken: i ? i.token : void 0,
                        }),
                      ]
                    );
                  case 2:
                    return [2, n.sent().data];
                  case 3:
                    return (
                      (s = n.sent()),
                      (c = Object(y.a)(s)),
                      console.error(
                        "GetLastUpdateTimeForEvent: Failed to get last update time: " +
                          c.strErrorMsg,
                        c
                      ),
                      [3, 4]
                    );
                  case 4:
                    return [2, null];
                }
              });
            });
          }),
          (t.prototype.SetupInternalPartnerCommunication = function (
            e,
            t,
            a,
            i
          ) {
            return Object(n.b)(this, void 0, void 0, function () {
              var o, l, s;
              return Object(n.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    return (
                      (o =
                        j.c.STORE_BASE_URL +
                        "events_admin/ajaxupdatepartneremailtarget"),
                      (l = new URLSearchParams()).append(
                        "authwgtoken",
                        j.h.authwgtoken
                      ),
                      l.append("sessionid", j.c.SESSIONID),
                      l.append("clan_accountid", "" + t.GetAccountID()),
                      l.append("gid_event", a),
                      l.append("partner_capability", "" + i.capability),
                      l.append("app_right_flags", "" + i.app_rights),
                      l.append("publisher_right_flags", "" + i.pub_rights),
                      l.append("mark_urgent", "" + i.priority),
                      l.append("appids", i.appids.join(",")),
                      l.append("publisherids", i.partnerids.join(",")),
                      [
                        4,
                        r.a.post(o, l, {
                          withCredentials: !0,
                          cancelToken: e.token,
                        }),
                      ]
                    );
                  case 1:
                    return (
                      (s = n.sent()),
                      [4, this.HandleEmailSetupResponse(t, a, s)]
                    );
                  case 2:
                    return [2, n.sent()];
                }
              });
            });
          }),
          (t.prototype.GetPartnerCapabilities = function (e) {
            return Object(n.b)(this, void 0, void 0, function () {
              var t, a;
              return Object(n.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    return (
                      (t =
                        j.c.STORE_BASE_URL +
                        "events_admin/ajaxgetcapabilities"),
                      (a = new URLSearchParams()).append(
                        "authwgtoken",
                        j.h.authwgtoken
                      ),
                      a.append("sessionid", j.c.SESSIONID),
                      [
                        4,
                        r.a.post(t, a, {
                          withCredentials: !0,
                          cancelToken: e.token,
                        }),
                      ]
                    );
                  case 1:
                    return [2, n.sent().data.capabilities];
                }
              });
            });
          }),
          (t.prototype.GetSteamAwardVoteDefinitionForApp = function (e) {
            var t = this;
            if (!this.m_bLoadedOrInflightSteamAwardVoteDefinitions) {
              this.m_bLoadedOrInflightSteamAwardVoteDefinitions = !0;
              var a = j.c.STORE_BASE_URL + "steamawards/ajaxgetpartnervotedefs",
                n = new URLSearchParams();
              n.append("authwgtoken", j.h.authwgtoken),
                n.append("sessionid", j.c.SESSIONID),
                n.append("appid", e.toString()),
                r.a.post(a, n, { withCredentials: !0 }).then(
                  function (e) {
                    var a, n, i;
                    1 ==
                      (null === (a = null == e ? void 0 : e.data) ||
                      void 0 === a
                        ? void 0
                        : a.success) &&
                      (null ===
                        (i =
                          null === (n = null == e ? void 0 : e.data) ||
                          void 0 === n
                            ? void 0
                            : n.votes) || void 0 === i
                        ? void 0
                        : i.length) > 0 &&
                      e.data.votes.forEach(function (e) {
                        t.m_mapSteamAwardVoteDefinitionsForApp.has(e.appid)
                          ? t.m_mapSteamAwardVoteDefinitionsForApp
                              .get(e.appid)
                              .push(e)
                          : t.m_mapSteamAwardVoteDefinitionsForApp.set(
                              e.appid,
                              [e]
                            );
                      });
                  },
                  function (e) {
                    var t = Object(y.a)(e);
                    console.error(
                      "LoadSteamAwardVoteDefinitionsForPartner: Request failed: " +
                        t.strErrorMsg,
                      t
                    );
                  }
                );
            }
            return this.m_mapSteamAwardVoteDefinitionsForApp.get(e);
          }),
          Object(n.c)([d.C], t.prototype, "m_curHoverCategoryType", void 0),
          Object(n.c)([d.C], t.prototype, "m_curHoverCategoryTags", void 0),
          Object(n.c)(
            [d.C],
            t.prototype,
            "m_mapSteamAwardVoteDefinitionsForApp",
            void 0
          ),
          Object(n.c)([d.k], t.prototype, "ResetModel", null),
          Object(n.c)([d.k], t.prototype, "LoadClanEventLocalization", null),
          t
        );
      })(v.a))();
      function G(e, t) {
        var a = p.a.useState(null),
          n = a[0],
          i = a[1];
        return (
          p.a.useEffect(
            function () {
              var a = g.a.InitFromClanID(e);
              w.LoadClanEventsForPartnerDashboard(a, t).then(function (e) {
                return i(
                  e.filter(function (e) {
                    return !e.BIsStagedEvent() && !e.BIsVisibleEvent();
                  })
                );
              });
            },
            [e, t]
          ),
          n
        );
      }
      window.g_PartnerEventEditStore = w;
    },
    tzvv: function (e, t, a) {
      e.exports = {
        SortTierControls: "partnereventsalesorttiers_SortTierControls_1_f_6",
        SortTierExplanation:
          "partnereventsalesorttiers_SortTierExplanation_1U8SA",
        AutoTierButton: "partnereventsalesorttiers_AutoTierButton_3uDH_",
      };
    },
    vBFs: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return m;
      });
      var n = a("mrSG"),
        i = a("TyAF"),
        r = a("q1tI"),
        o = a("mgoM"),
        l = a("kyHq"),
        s = a("fpVW"),
        c = a.n(s),
        d = a("exH9"),
        u = a("TLQK"),
        p = a("opsS"),
        m = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(n.d)(t, e),
            (t.prototype.GenerateLanguageOptions = function () {
              var e,
                t = [],
                a = this.props,
                n = a.fnFilterLanguage,
                i = a.fnLangHasData,
                s = a.fnLastUpdateRTime,
                p = a.fnIsLangSupported;
              this.props.bAllowUnsetOption &&
                t.push(
                  r.createElement(
                    "option",
                    { key: "langpicker_unset", value: -1 },
                    Object(u.f)("#EventEditor_NoneLanguage")
                  )
                );
              for (
                var m = new Array(),
                  _ = this.props.realms || [l.f.k_ESteamRealmGlobal],
                  g = 0,
                  E = u.b.GetLanguageListForRealms(_);
                g < E.length;
                g++
              ) {
                var b = E[g];
                if (!n || n(b)) {
                  var h = Object(o.a)(b),
                    v = Object(u.f)("#Language_" + h),
                    f = Boolean(p) && p(b);
                  m.push({ eLang: b, sLocName: v, bSupported: f });
                }
              }
              m.sort(function (e, t) {
                return e.bSupported != t.bSupported
                  ? e.bSupported
                    ? -1
                    : 1
                  : e.sLocName.localeCompare(t.sLocName);
              });
              for (var S = !1, O = 0, y = m; O < y.length; O++) {
                (b = y[O]).bSupported != S &&
                  (t.push(
                    r.createElement(
                      "option",
                      {
                        key: b.bSupported
                          ? "SupportedGroup"
                          : "UnsupportedGroup",
                        className: c.a.SupportedGroupLabel,
                        disabled: !0,
                      },
                      Object(u.f)(
                        b.bSupported
                          ? "#LanguageGroup_Supported"
                          : "#LanguageGroup_Unsupported"
                      )
                    )
                  ),
                  (S = b.bSupported));
                var C = i && i(b.eLang),
                  j = s && s(b.eLang),
                  T = b.sLocName;
                j &&
                  0 !== j &&
                  ((T += " "),
                  (T += Object(u.f)(
                    "#Language_Last_Update",
                    Object(u.o)(j) + " @ " + Object(u.m)(j)
                  ))),
                  t.push(
                    r.createElement(
                      "option",
                      {
                        key: "langpicker" + b.eLang + (C ? "_hasdata" : ""),
                        value: b.eLang,
                        className: Object(d.a)(
                          ((e = {}), (e[c.a.LangaugeWithContent] = C), e),
                          b.bSupported
                            ? c.a.SupportedLanguage
                            : c.a.UnsupportedLanguage
                        ),
                      },
                      T
                    )
                  );
              }
              return t;
            }),
            (t.prototype.OnLanguageChange = function (e) {
              var t = this.props,
                a = t.fnOnLanguageChanged,
                n = t.selectedLang,
                i = Number.parseInt(e.currentTarget.value);
              i != n && a && a(i);
            }),
            (t.prototype.render = function () {
              var e = this.props.selectedLang,
                t = this.GenerateLanguageOptions();
              return r.createElement(
                "select",
                { value: e, onChange: this.OnLanguageChange },
                t
              );
            }),
            Object(n.c)([p.a], t.prototype, "OnLanguageChange", null),
            (t = Object(n.c)([i.a], t))
          );
        })(r.Component);
    },
    w7rs: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0M1MEE4RDkxREYwMTFFOUJGNjhDQjk4QzYxOUI2RUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0M1MEE4REExREYwMTFFOUJGNjhDQjk4QzYxOUI2RUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDQzUwQThENzFERjAxMUU5QkY2OENCOThDNjE5QjZFQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDQzUwQThEODFERjAxMUU5QkY2OENCOThDNjE5QjZFQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkFcBtEAAADkSURBVHjaYvz//z8DCDCBiHfv3v0HCCBGmAgIiIAIgAACizAyMgpABf8wICsBAYAAYsQQAGIeIGaB8j+Aybdv3/6HGYoBAAIIwwx0ADYL6AwRoDGvkSWEhYVFgdQbdGeJoNtF0AqAACKogImBAGCEOpQHi9wXoOl/wAqAPviNLgv0BStIAciKPyAOuiQ45NHDBBqksHBmIOQBsAIWQqoAAoxgOBACTAwUAlhkcwA9+J1YTcBQ4gRSP8DpFZpoYYYJoKcaLCnoAyyI0Q1AdhWKQegaUaIBTyCCDOJAjjds0TTwsQAAEO5yLEGNvDIAAAAASUVORK5CYII=";
    },
    wLVu: function (e, t, a) {
      e.exports = {
        TableOfContentsContainer:
          "tableofcontents_TableOfContentsContainer_2VyHw",
        TableOfContents: "tableofcontents_TableOfContents_3-gNE",
        TOCEntry: "tableofcontents_TOCEntry_2fked",
        TOCEntryText: "tableofcontents_TOCEntryText_2E83D",
        SectionOnScreen: "tableofcontents_SectionOnScreen_1ZlX0",
        TOCIndent: "tableofcontents_TOCIndent_mtCjw",
        Header: "tableofcontents_Header_1JRRC",
        ManageLocCtn: "tableofcontents_ManageLocCtn_1PmKQ",
        LocButtonsCtn: "tableofcontents_LocButtonsCtn_19-WG",
        ManageLocContents: "tableofcontents_ManageLocContents_N1BFb",
      };
    },
    wUcC: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return E;
      });
      var n = a("mrSG"),
        i = a("EA3E"),
        r = a("TyAF"),
        o = a("q1tI"),
        l = a("Cs6D"),
        s = a("Mgs7"),
        c = a("fpVW"),
        d = a("5E+2"),
        u = a("exH9"),
        p = a("TLQK"),
        m = a("opsS"),
        _ = a("as1E"),
        g = a("JiI5"),
        E = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { strCustomTitle: "", bSelectedCustomTitle: !1 }), t
            );
          }
          var a;
          return (
            Object(n.d)(t, e),
            (a = t),
            (t.prototype.componentDidMount = function () {
              this.setState({
                strCustomTitle: p.a.Get(
                  this.props.localized_label,
                  this.props.editLanguage
                ),
              });
            }),
            (t.prototype.componentDidUpdate = function (e, t) {
              var a = p.a.Get(
                this.props.localized_label,
                this.props.editLanguage
              );
              a != t.strCustomTitle &&
                e.editLanguage != this.props.editLanguage &&
                this.setState({ strCustomTitle: a });
            }),
            (t.prototype.GetTitleOptions = function (e) {
              var t = {
                  value: "#Sale_default_label",
                  label: Object(p.f)("#Sale_default_label"),
                },
                a = {
                  value: "#Sale_default_label_custom",
                  label: Object(p.f)("#Sale_default_label_custom"),
                };
              if (e) return [a];
              for (var i = [], r = 0, o = 1; r < 5; o++) {
                var l = "#Sale_default_label_" + o,
                  s = Object(p.f)(l);
                l === s ? r++ : ((r = 0), i.push({ value: l, label: s }));
              }
              return (
                i.sort(function (e, t) {
                  return e.label.localeCompare(t.label);
                }),
                Object(n.g)([t, a], i)
              );
            }),
            (t.IsValidTitleOption = function (e) {
              return (
                e &&
                "#Sale_default_label" !== e &&
                "#Sale_default_label_custom" !== e
              );
            }),
            (t.prototype.OnTitleChange = function (e) {
              var t = a.IsValidTitleOption(e.value) ? e.value : "";
              this.props.default_label !== t && this.props.onSetDefaultLabel(t),
                this.setState({
                  bSelectedCustomTitle:
                    "#Sale_default_label_custom" === e.value,
                });
            }),
            (t.prototype.OnCustomTitleChange = function (e) {
              this.setState({ strCustomTitle: e.target.value });
            }),
            (t.prototype.OnClearCustomTitle = function () {
              this.setState({ strCustomTitle: "" }),
                this.props.onClearCustomTitle();
            }),
            (t.prototype.render = function () {
              var e = this,
                t = p.a.Get(
                  this.props.localized_label,
                  this.props.editLanguage
                ),
                a = Boolean(
                  p.a.GetWithFallback(
                    this.props.localized_label,
                    this.props.editLanguage
                  )
                ),
                r = this.GetTitleOptions(a),
                m = this.props.default_label
                  ? {
                      label: Object(p.f)(this.props.default_label),
                      value: this.props.default_label,
                    }
                  : r[0],
                E = this.state.bSelectedCustomTitle || a;
              E &&
                (m = r.find(function (e) {
                  return "#Sale_default_label_custom" === e.value;
                }));
              var b = {
                option: function (e) {
                  return Object(n.a)(Object(n.a)({}, e), { color: "#444444" });
                },
              };
              return o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "div",
                  { className: g.DefaultTitlePicker },
                  o.createElement(
                    "div",
                    { className: _.TitleSelectionContainer },
                    o.createElement(l.a, {
                      styles: b,
                      isSearchable: !0,
                      isMulti: !1,
                      onChange: this.OnTitleChange,
                      value: m,
                      options: r,
                      defaultMenuIsOpen: !1,
                    })
                  )
                ),
                E &&
                  o.createElement(
                    o.Fragment,
                    null,
                    o.createElement("div", null, o.createElement(i.c, null)),
                    o.createElement(
                      "div",
                      { className: g.customTitleOptionsCtn },
                      o.createElement(
                        "div",
                        {
                          className: Object(u.a)(
                            c.FlexRowContainer,
                            g.CustomTitleCtn
                          ),
                        },
                        o.createElement(
                          "div",
                          { className: g.LanguageInput },
                          o.createElement(s.l, {
                            placeholder: Object(p.f)("#Broadcast_use_custom"),
                            onChange: this.OnCustomTitleChange,
                            value: this.state.strCustomTitle,
                          })
                        ),
                        o.createElement(
                          "div",
                          { className: g.AddTitleButton },
                          o.createElement(
                            d.a,
                            {
                              toolTipContent: Object(p.f)(
                                "#Broadcast_save_title_ttip"
                              ),
                            },
                            o.createElement(
                              s.q,
                              {
                                onClick: function () {
                                  return e.props.onSetCustomTitle(
                                    e.state.strCustomTitle
                                  );
                                },
                                disabled: t == this.state.strCustomTitle,
                              },
                              Object(p.f)("#Broadcast_save_title")
                            )
                          )
                        ),
                        o.createElement(
                          "div",
                          { className: g.RemoveTitleButton },
                          o.createElement(
                            d.a,
                            {
                              toolTipContent: Object(p.f)(
                                "#Broadcast_remove_title_ttip"
                              ),
                            },
                            o.createElement(
                              s.q,
                              {
                                onClick: this.OnClearCustomTitle,
                                disabled: !t,
                              },
                              Object(p.f)("#Broadcast_remove_title")
                            )
                          )
                        )
                      )
                    )
                  )
              );
            }),
            Object(n.c)([m.a], t.prototype, "OnTitleChange", null),
            Object(n.c)([m.a], t.prototype, "OnCustomTitleChange", null),
            Object(n.c)([m.a], t.prototype, "OnClearCustomTitle", null),
            (t = a = Object(n.c)([r.a], t))
          );
        })(o.Component);
    },
    wYOC: function (e, t, a) {
      e.exports = {
        adult_content_age_gate: "communityagegate_adult_content_age_gate_2PyPU",
        ButtonRow: "communityagegate_ButtonRow_2I-G6",
        checkbox: "communityagegate_checkbox_3zQBG",
        edit_link: "communityagegate_edit_link_1fSrN",
        edit_preference: "communityagegate_edit_preference_3eHEB",
        header_image: "communityagegate_header_image_3H7w6",
        descriptor: "communityagegate_descriptor_3s2aY",
        strong: "communityagegate_strong_3lsXG",
      };
    },
    wrTd: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABo1JREFUeNrsWg1MVlUY/iDTElOcI9ZgZBorV8ywVFYGc05mZQbmMgoNk37NQq3IJZWoLf+l9eMqSQ1lpm4aWgStpauZYbl+wK3EssjKflYmtAyi59Hnbme3e7/v3o9PVtt9t2fnfPe+55x7z3Pe97znvV9cZ2dnKJD/pvTwqji5oLAPiuuAscBwYBDQR7dbgWZgP1APbN9UXXU8mN6uSVwkywEpyShKgTsMMiJJG1AJLAZJLcE0x5gckBKH4i5gCXBOlP3TesqACpAU+M9YkANieqN4GbgpRuPsYLcgqC2Y8i6QI2I4maNjPNYHwJhgL4qSHLmyzcCNUfTVAewGPtHvoUA2EG/o1DKoAEF/B1PvP1q7P0pidjFgwKR/YbPCdBQviSTKOOAR4Mlg6n1YDiYyBQUn92yffbwJXC/L4R6Va1ynFZ4B7FQITvkTyLATGci/xXQ5ZVEQw/NNkeo1wBxgr8D6awDZv026lF7AY8HUe7QcWE1/1I8AZ/lsvxYWMA3t6Q4n0jrw+y9ZIl1mHbAN157G73WoTzX2p1Rc/97D4XegiL4SSAR+VHCxBu0/ls5CFJdG6KoG+muk/wKKc130jkLvTofn4KKqAs4EGqCzyOV556IYCRyEzoMuOv0UDcfrPWpwrQD1nnw//H7dtJyJURBjRWBW+6UWMRTU23kNyNOlvUY7urrJHoi5GAUJuA8YpqwEX3wm8D7uD5DqKOCGCMgwus4No5fr8jh03ZOkU4axE130RkpnDnQud9HhgT5feoOhd772/1vNM6UVEIyNgpgTis5Ccoe/O+jwWm/V2233OGZFhDEYPPRV25kiipZUCHyGBfCz9J6hhapOEm5XfQHwi+r7Hfpnqmmjw8HZSYqMei9N5LMRnr/UflYEEbS8B2x6fI8kvcdgOznDoyDncUxOo+rvArcYZFlSaFy7yHbvCg9jDFTZjLFWq74HqMZLxhtWusV4+TyDnErc+ypM/024v9aDBZ+nSNN6V1rqdA/kTELbCzHGQeMayUo1lXj2g95WVGlp6+3kJPsk5j25LEsWA/swwAqU1iTSb19D4uWv7dmGZFxPwIO1hhnncyCHxEJ3h1ZWPdp0xOis1Fd7miktcsmmTJErJtGz5c4z0XYYdD8Kt6cDDykNZonjPoR+DqM47BSt8QEfBg55zJdN5QQZHR9FkSUX9JZAn5yle/Ptq0WSGGGsJ0Knst0UZsTfYOCCSVkQxuf7kWnAlzakhnFpm/A+DTpyhAwLdZK3Ae7BRbI8WuAYFJcBJPQ3T6E0BvwJoCWka7UzBHZbmSXQPeTA/BGgGEgTihl54IHmy/f6FvapTMMs4FNdZpQ1D/jQCAhOm2CMESiGWI+kstpy27jvFkh9A2xQBFaia7NVPuU7QyBXwRRLLQZNk2sqFlF8oANWOBrmZZK0h2XqfJMeRv1XDwTR7a0i0Pcl2uTzFbkxNF/ZhblntrzEg3VZZ7ocPEOOYfH9lFHZ4NJ2qebgbrTjgr9WVsf95UU/h1D7pHwNcIWmaSJITgYGmcG9woWY8SgalRFYGIGYHyLsN+wvQecl65kabZFO0mm2GlpFgX4maCGsVJrLkulh5rBJh3O6++26vMTrftnDw8o9oSo3/DbtTVwJV+HeMb0EQ+nlwD0+3n2fBx1OwgytuiaFsAXG/YYuzj83dbvlHMN7VaqeJ+s4OanAH4beUN0fjT4GObl6w4VNAAbooL/eV+JT4SeTk8+Hy3lpJXCD2yg/Wo56psx6iM+JqfegczOQ4kJ6nbEao5VsIylrCSOmSlsgwDNVqc2qUnWIjFNgMM9lzvZAd7fGWWEsds+Ws0tuaxY6YqT1nNId7S7tuC/lQzdLbXv6nJQOY3MNJ+N0VuK3pQsUznKFblHqyMk9fGeQ5vZxry5c+sbwBq3qa6vDpLdAp0LP1d+4ZWVCzBCbi2uEntuSnXKVzV6y0qtt8fi3iu/fsX9ihu5y5ZgOiEi/UoU+pwSpTe97ziKRYaVbUpQ+4QphFvkVnQPGKwLhSlgXxZj8ZFAeTH1kMVMgjMsftd3PVfi3TMm6zSLlauWWRkUxZnnwLce/5YSUiMzWOcKSVUoq8nzTIh+7TKT5lVqvB7BAgj94/D/cmuHe2rSvvBrDcU6SHRDTRXIMgnjGuDfk/J3GqxxXXmxC8J+1GLg1hxQGPyfM1UHL6z8/g7/jdgc5Zp4rdOpTrflHdivHZv6RnYfYbYEL60ZyAul++UeAAQDyv2dSS4HffQAAAABJRU5ErkJggg==";
    },
    wrcz: function (e, t, a) {
      e.exports = {
        AddTitleButton: "partnereventbroadcast_AddTitleButton_XKHg8",
        CustomTitleCtn: "partnereventbroadcast_CustomTitleCtn_1qoSQ",
        LanguageContainer: "partnereventbroadcast_LanguageContainer_3WmqO",
        customTitleOptionsCtn:
          "partnereventbroadcast_customTitleOptionsCtn_zhH_V",
        TitleRowCtn: "partnereventbroadcast_TitleRowCtn_96im4",
        AccountRow: "partnereventbroadcast_AccountRow_2uIyv",
      };
    },
    wst7: function (e, t, a) {
      e.exports = {
        DisplayAdminPanel_Spacer:
          "partnereventcontrolbars_DisplayAdminPanel_Spacer_3TzVF",
        EventEditorTopBarContainer:
          "partnereventcontrolbars_EventEditorTopBarContainer_1Afx7",
        EventPublished: "partnereventcontrolbars_EventPublished_3zTXC",
        EventUnPublished: "partnereventcontrolbars_EventUnPublished_pjxnm",
      };
    },
    "xs+m": function (e, t, a) {
      e.exports = {
        ContentHubSectionCtn:
          "contenthubsectionseditor_ContentHubSectionCtn_G2T4g",
        ContentHubSectionInnerCtn:
          "contenthubsectionseditor_ContentHubSectionInnerCtn_Xl-LL",
      };
    },
    yKSN: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return O;
      }),
        a.d(t, "b", function () {
          return y;
        });
      var n = a("mrSG"),
        i = a("NpuA"),
        r = a.n(i),
        o = a("q1tI"),
        l = a.n(o),
        s = a("mgoM"),
        c = a("kyHq"),
        d = a("U+Q5"),
        u = a("Mgs7"),
        p = a("fpVW"),
        m = a("Jqb/"),
        _ = a("ka0M"),
        g = a("0OaU"),
        E = a("exH9"),
        b = a("TLQK"),
        h = a("P2lf"),
        v = a("OS6B"),
        f = a("5E+2"),
        S = a("KmXr"),
        O = function (e) {
          var t = function (t, a) {
            t.preventDefault();
            var n = e.fnGetLocData,
              i = e.closeModal,
              r = e.strFileNamePrefix,
              o = e.lang,
              l = n(),
              c = new h.a(),
              d = r ? r + "_localization" : "localization";
            switch (a) {
              case "csv_row":
                c.WriteLocalizationData_CSV_LanguageRows(l, d + ".csv");
                break;
              case "csv_column":
                c.WriteLocalizationData_CSV_LanguageColumns(l, d + ".csv");
                break;
              case "csv_token":
                c.WriteLocalizationData_CSV_TokenAndLanguageColumns(
                  l,
                  d + ".csv"
                );
                break;
              case "xml":
                c.WriteLocalizationData_XML_SingleLanguage(
                  l,
                  o,
                  d + "_" + Object(s.c)(Object(s.a)(o)) + ".xml"
                );
            }
            i && i();
          };
          return l.a.createElement(
            l.a.Fragment,
            null,
            Boolean(e.bShowCSV) &&
              l.a.createElement(
                l.a.Fragment,
                null,
                l.a.createElement(
                  u.q,
                  {
                    onClick: function (e) {
                      return t(e, "csv_row");
                    },
                  },
                  Object(b.f)("#Localization_Export_Btn_RowLanguages")
                ),
                l.a.createElement(
                  u.q,
                  {
                    onClick: function (e) {
                      return t(e, "csv_column");
                    },
                  },
                  Object(b.f)("#Localization_Export_Btn_ColumnLanguages")
                ),
                l.a.createElement(
                  u.q,
                  {
                    onClick: function (e) {
                      return t(e, "csv_token");
                    },
                  },
                  Object(b.f)("#Localization_Export_Btn_TokenLanguages")
                )
              ),
            Boolean(e.bShowXML) &&
              l.a.createElement(
                u.q,
                {
                  onClick: function (e) {
                    return t(e, "xml");
                  },
                },
                Object(b.f)("#Localization_Export_Btn_XML")
              )
          );
        },
        y = function (e) {
          var t = Object(o.useState)(!1),
            a = t[0],
            i = t[1],
            u = function (e, t) {
              i(!1),
                console.log(
                  "ImportLocalizationAction: On Handle Parse error: " +
                    e.message,
                  e
                ),
                Object(_.d)(
                  l.a.createElement(
                    m.f,
                    null,
                    l.a.createElement(
                      "div",
                      null,
                      l.a.createElement(
                        "p",
                        null,
                        Object(b.f)("#Localization_Error_Input")
                      ),
                      l.a.createElement("p", null, e.message)
                    )
                  ),
                  window
                );
            },
            O = function (e) {
              i(!1);
              var t = "";
              e.forEach(function (e) {
                t.length > 0 && (t += ", "),
                  (t += Object(b.f)("#Language_" + Object(s.a)(e)));
              }),
                Object(_.d)(
                  l.a.createElement(
                    m.d,
                    {
                      strTitle: Object(b.f)("#EventDisplay_Share_Success"),
                      bAlertDialog: !0,
                    },
                    l.a.createElement(
                      "div",
                      null,
                      0 == t.length
                        ? Object(b.f)(
                            "#Localization_Success_ImportComplete_NoChange"
                          )
                        : Object(b.f)("#Localization_Success_ImportComplete", t)
                    )
                  ),
                  window
                );
            },
            y = function (t) {
              return Object(n.b)(void 0, void 0, void 0, function () {
                var a, o, l, s, p, m, _, g;
                return Object(n.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      if (!((a = t.target.files) && a.length > 0))
                        return [3, 10];
                      i(!0),
                        (o = new Array()),
                        (l = new h.a()),
                        (s = 0),
                        (n.label = 1);
                    case 1:
                      return s < a.length
                        ? a[s]
                          ? a[s].name.toLocaleLowerCase().endsWith(".csv")
                            ? (r.a.parse(a[0], {
                                header: !0,
                                complete: function (t) {
                                  var a = new h.a().DetectAndFormatCSV(t);
                                  if (a) {
                                    var n = b.b.GetLanguageListForRealms([
                                        c.f.k_ESteamRealmGlobal,
                                      ]),
                                      i = e.fnOnImportLocData(a, n);
                                    O(i);
                                  } else
                                    u({
                                      code: "",
                                      message: "",
                                      row: 0,
                                      type: "filenameerror",
                                    });
                                },
                                error: u,
                              }),
                              [2])
                            : [3, 2]
                          : [3, 8]
                        : [3, 9];
                    case 2:
                      if (!a[s].name.toLocaleLowerCase().endsWith(".xml"))
                        return [3, 7];
                      if (
                        null ==
                          (p = d.d.DetectLanguageFromFilename(a[s].name)) ||
                        -1 == p
                      )
                        return (
                          u({
                            code: "",
                            message: Object(b.f)(
                              "#Localization_Error_FileLangauage",
                              a[s].name
                            ),
                            row: 0,
                            type: "filenameerror",
                          }),
                          [2]
                        );
                      n.label = 3;
                    case 3:
                      return (
                        n.trys.push([3, 5, , 6]),
                        [4, l.ReadLocalizationData_XML_SingleLanguage(a[s], p)]
                      );
                    case 4:
                      return (
                        (m = n.sent()),
                        e.fnOnImportLocData(m, [p]).map(function (e) {
                          -1 == o.indexOf(e) && o.push(e);
                        }),
                        [3, 6]
                      );
                    case 5:
                      return (
                        (_ = n.sent()),
                        (g = Object(v.a)(_)),
                        u({
                          code: "",
                          message: Object(b.f)(
                            "#Localization_Error_XMLParseError",
                            g.strErrorMsg
                          ),
                          row: 0,
                          type: "parseerror",
                        }),
                        [2]
                      );
                    case 6:
                      return [3, 8];
                    case 7:
                      u({
                        code: "",
                        message: Object(b.f)(
                          "#Localization_Error_FileExtention",
                          a[s].name
                        ),
                        row: 0,
                        type: "filenameerror",
                      }),
                        (n.label = 8);
                    case 8:
                      return ++s, [3, 1];
                    case 9:
                      O(o), (n.label = 10);
                    case 10:
                      return [2];
                  }
                });
              });
            };
          return l.a.createElement(
            f.a,
            {
              className: Object(E.a)(
                e.className ? e.className : p.EditPreviewButton
              ),
              toolTipContent: e.strToolTip,
            },
            l.a.createElement(
              "label",
              { className: S.ImportButton, htmlFor: "importlocalization" },
              a && l.a.createElement(g.a, { size: "small" }),
              l.a.createElement(
                "div",
                { className: S.Label },
                Object(b.f)(
                  e.strLabel ? e.strLabel : "#Localization_Import_Btn"
                )
              ),
              l.a.createElement("input", {
                id: "importlocalization",
                className: S.ImportButton,
                style: { display: "none" },
                type: "file",
                onSubmit: y,
                onChange: y,
                multiple: !0,
              })
            )
          );
        };
    },
    zoOh: function (e, t, a) {
      e.exports = {
        EventTimeSection: "partnereventdates_EventTimeSection_O7lDS",
        EventTimeTitle: "partnereventdates_EventTimeTitle_1-4F8",
        EventVisibilityItem: "partnereventdates_EventVisibilityItem_Z5DNw",
        EventEditorInputPaneContainer:
          "partnereventdates_EventEditorInputPaneContainer_3Fhef",
        TimeWidth: "partnereventdates_TimeWidth_3_7ku",
        EventPublishTimeCtn: "partnereventdates_EventPublishTimeCtn_3mtSl",
        InputBorder: "partnereventdates_InputBorder_2-wu6",
        TimeBlock: "partnereventdates_TimeBlock_9q9ZA",
        TimeRowContainer: "partnereventdates_TimeRowContainer_2cnMo",
        TimeRowDropDown: "partnereventdates_TimeRowDropDown_VlpIL",
        EndDateAmountCtn: "partnereventdates_EndDateAmountCtn_1Xbr7",
        EndRound: "partnereventdates_EndRound_1ppi6",
        VisibilityItemList: "partnereventdates_VisibilityItemList_1Cnd3",
        VisibilityItems: "partnereventdates_VisibilityItems_1m6k3",
        EventEditorVisibilityCtn:
          "partnereventdates_EventEditorVisibilityCtn_3hqZR",
      };
    },
    zrk3: function (e, t, a) {
      e.exports = {
        ModeratorAuditActionCtn:
          "eventmoderationaudit_ModeratorAuditActionCtn_f6z__",
        ExpandModActions: "eventmoderationaudit_ExpandModActions_3nNMe",
      };
    },
  },
]);
