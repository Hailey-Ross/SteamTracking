/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [3238],
  {
    79883: (e) => {
      e.exports = {
        AppCarouselTrailerCtn: "_3hJp_KxGfvcuBqWfaf-SG-",
        AutoplayCheckbox: "_36Ep17J5IbAH9RqeTWa3Do",
        AppVideo: "_2ykD7mgR5-KRsYdM3I-JX9",
        AppMainCap: "_2SJkcB2oxKVh5rSLllpCrB",
        PlayButton: "_2b7SFRnkwN997n8tmPQbqF",
      };
    },
    44910: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        DiscoveryQueueCarouselCtn: "_1GFC6TjYjXSR-MxCQkocw",
        TextLink: "_1hQVCEKKm0686F2TQ5jKqZ",
        DiscoveryQueueCarousel: "_2swWHiHYqMtbnwdXp4A-wT",
        DiscoveryQueueApp: "_2o_YH7iQcoTiVzhbh6shv6",
        Focused: "_2Xpm2jluqpPhvZkt4qV2la",
        DiscoveryQueueWrapper: "_1s3BJHclED7lkUNMZsGt50",
        revealDiscoveryQueueWrapper: "_308QKMPfcc661MUswJKlCt",
        AppVideoCtn: "_2XCS5oeY4-ddcFgh5cOruf",
        WishlistBadge: "_2vb6rnNxdzE01NeBM5YdEi",
        Active: "_2EDE0vOBIh9RPCPHvbgs_n",
        DeckVerifiedLogo: "_2mYU2X9tzK4C92Xu5L72wF",
        AppDetailsCtn: "_2E1O4WYjWuzY7dNtYgcgO4",
        AppDetailsCtnTop: "_3LnWP6csXkd0C81SKVx1z6",
        AppDetailsHeader: "_1Qn-xpwWsz9uDh7keTa5_e",
        AppLibraryHero: "_1TDRhABqDQLl136zPciHCp",
        RightColumn: "_35mWvKHX_Weq1W6CNnB-qW",
        AppName: "_3KC4Wk41W4rHQrtLDPRWaW",
        AppTagsCtn: "_1t4JVhBNqhvqwALl67ZbJ4",
        TagEntry: "UNDKTpLih2ZEzV2uoExnM",
        AppReviews: "_2lVXSaQlYWCt5Qiljpw2LG",
        RelevantCtn: "FGuCnuJCMLeJqxHKPRzPh",
        RelevantColumn: "_1HcOXSc7ZslGPDMKsqeBKz",
        RelevantItem: "_3I77jXI6J1pDAIej5-hW9Y",
        RelevantCheck: "qKF9PlhJmugxbs5G5Riyo",
        IgnoreLink: "_2OinPLGN1p5S6s1Xe7f-VZ",
        AppActionButtonsCtn: "_2bIsfpoa-eV0PgvvU5OZ4h",
        AppActionJustButtonsCtn: "_10l0MHL_aG0U61HtflsHNz",
        QueueButton: "_19cHbMq9PdFCW_3QFPwc9b",
        ButtonsRowWrap: "_1XcPEQrnVxyreWHDFGh6Z9",
        MainCapBlur: "_2TOx2eR7ThuU0OEKVeK9Nx",
        DiscoveryQueuePlaceholder: "_3ZUUI1o3Fji-5Qrb9UW659",
        IgnoredCtn: "_2e3_oKhctL2kiv8plDyrEy",
        IgnoredInfo: "_130E6kcqrzNENM_e5lXWGn",
        IgnoredTitle: "_1QXC5CNnvMV-AjMX17LEZd",
        IgnoredDescription: "_3RVP5s8xFVx-TdiJVcjwpH",
        UndoIgnoreButton: "wC564vWsox_ycv5ypDufV",
        AppDesc: "_3bAqJJ-foVitSEpb9xFPYK",
        YGlyph: "_1SpsGsdAn1eZ-3UlS2Ae5Y",
        SummaryContentCtn: "M522oEeyn-bo6wj_JyDQ3",
        SummaryTitle: "W4ekXIN9jxzThHQkPOuiC",
        YourStats: "_8PO3T1uPD2sskE7fyj_bP",
        SummaryGrid: "_1b0jZ4K0RB0I0ENvYTlHty",
        GridItem: "_12SabxrAEFweNs36zYUA0G",
        GridTitle: "_1vnt8x0_S3ZYgCDxhwk9Zu",
        GridNumber: "-Q4Axz0-oCVdqx-HyClje",
        GridSubTitle: "_1FQzN1EB30CmChaOQl4FJ3",
        SummaryActionButtonsCtn: "_1hRNcV1b-eZd3lNr6oI9VV",
        TopBarCtn: "_24gmm3gM0Km6XYQtbgKs8g",
        revealTopBarCtn: "_2Gt6GkC0b34_LEEd95aMXd",
        TopMargin: "_2xo1mKKqIA_FTpvTu9-bhE",
        BotomBarCtn: "YW9PrtoZAcR2gHNWf3_rG",
        LearnMoreLink: "_3bCDZVQlDJ8YnLQLC-CzwC",
        ControlsCtn: "_3UbRlxSTJEmIefFmWrlqoB",
        Disabled: "_1yh4oNhQcC0bRP3IZCPkPb",
        Primary: "_1ZYKEu44O80nIIoL2UpqY6",
        Launch: "uZjq4gPY7W1sLpncBvF_S",
        Wide: "SD-xULu43Og64mhCqi-hh",
        QueueNavArrow: "_1kgdoykEjmj1HD-vK-Ljp5",
        Enable: "_1hqwMmNNA3kIQjARtartBc",
        RightArrow: "_1ZHCC8f9izvSQQmPp_Eypj",
        LeftArrow: "_3BctdD5E_AKBT6H4LnamxK",
        ReleventSimilarAppsCtn: "_3wqiWOivjfAAvQoxlfz8a8",
        RecommendingCuratorsCtn: "II031elGhwJaddnX6q1XI",
        WhyRelevant: "WBWfZf2g2j5nsEYOaj6wC",
        SimilarAppCtn: "_2oeoSHx3W89cVkmrwtH9Nx",
        SimilarAppImg: "_2eNyYCFzBoljqX6LsIkF9s",
        SimilarAppText: "_3MS2G4FwHHBpQbqdIL8iHk",
        FriendAvatarsCtn: "kOfo-820yKLRs2Pus89kJ",
        RelevantTextBold: "_2FiP4-8V1dSUc9PgRos4Lb",
        AppDescription: "Kzj5Imp3SCGHJSD-O5VVr",
        TradingCardCtn: "_36Qbj4GIdrhv2f_uX7vsLZ",
        TradingCardImage: "_3wa0dk07B7jK4ewgy8yxJu",
        Bold: "_1SxI5ayhi5f2b4w_SthlVG",
        FriendBlockCtn: "_2a8FgCmh-veVpUTOZeCtd6",
        PersonaStatus: "_3HMhzN_MiPPWODIFbdnJUO",
        ProgressCtn: "_1IvtAxW82ld9UeJbL3ZsOi",
        ProgressDot: "_2f92W7wZ-CFPAcp8T5RURM",
        ProgressDotActive: "_2oIovOj2h79JrSKRJENJ7H",
        ProgressDotHidden: "n2UAYkLpCKtsqZYHTKWn_",
        DiscoveryQueueName: "_1hDU6OrNPboWPC_QOXnFAn",
      };
    },
    26918: (e, t, n) => {
      "use strict";
      n.d(t, { _: () => i });
      var s = n(47427),
        o = n(45492),
        r = n(20417);
      const a = (e) => null != e;
      function i(e, t) {
        const [n, o] = s.useState(window.localStorage.getItem(e)),
          i = s.useRef(e);
        s.useEffect(() => {
          e != i.current &&
            (o(window.localStorage.getItem(e)), (i.current = e));
        }, [e]);
        const c = e == i.current ? n : window.localStorage.getItem(e);
        let u = t;
        return (
          a(c) &&
            (u = a(t)
              ? "boolean" == typeof t
                ? t.constructor("false" !== c)
                : t.constructor(c)
              : c),
          (0, r.Qg)(l.Get().GetLocalStoreChangeCallback(e), o),
          [
            u,
            (t) => {
              const n = a(t) ? String(t) : null;
              window.localStorage.setItem(e, n),
                o(n),
                l.Get().GetLocalStoreChangeCallback(e).Dispatch(n);
            },
          ]
        );
      }
      class l {
        m_mapChangeCallback = new Map();
        GetLocalStoreChangeCallback(e) {
          return (
            this.m_mapChangeCallback.has(e) ||
              this.m_mapChangeCallback.set(e, new o.pB()),
            this.m_mapChangeCallback.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return l.s_Singleton || (l.s_Singleton = new l()), l.s_Singleton;
        }
      }
    },
    74840: (e, t, n) => {
      "use strict";
      n.d(t, {
        GD: () => C,
        M_: () => g,
        NV: () => h,
        Pf: () => _,
        Wb: () => f,
        ZP: () => v,
        hc: () => y,
      });
      var s = n(85556),
        o = n(54842),
        r = n(47427),
        a = n(79545),
        i = n(38079),
        l = n(98255),
        c = n(45492),
        u = n(20417),
        m = n(45284),
        d = n(37563);
      function p(e, t) {
        const n = t?.nSaleTagID,
          s = t?.strContentHubType,
          o = t?.strContentHubCategory,
          r = t?.nContentHubTagID,
          a = t?.bDiscountsOnly,
          i = t?.bPrioritizeDiscounts,
          l = t?.strOptInName,
          c = t?.nOptInTagID,
          u = t?.nPruneTagID;
        let m = e.toString();
        return (
          n
            ? (m += "_" + n)
            : s &&
              ((m += "_" + s),
              "category" === s && o
                ? (m += "_" + o)
                : "tags" === s && r && (m += "_" + r),
              a ? (m += "_d") : i && (m += "_p"),
              l && c && u && (m += "_" + l)),
          m
        );
      }
      function h(e) {
        const t = e?.nSaleTagID,
          n = e?.strContentHubType,
          s = e?.strContentHubCategory,
          o = e?.nContentHubTagID,
          r = e?.bDiscountsOnly,
          a = e?.bPrioritizeDiscounts,
          l = e?.strOptInName,
          c = e?.nOptInTagID,
          u = e?.nPruneTagID,
          m = e?.bOptInOnly,
          d = new i._v();
        if (t) {
          const e = new i.KQ();
          e.set_sale_tagid(t), d.set_sale_filter(e);
        } else if (n) {
          const e = new i.AY();
          if (
            (e.set_hub_type(n),
            "category" === n
              ? e.set_hub_category(s)
              : "tags" === n && e.set_hub_tagid(o),
            r ? e.set_discount_filter(1) : a && e.set_discount_filter(2),
            l)
          ) {
            const t = new i.q8();
            t.set_name(l),
              t.set_optin_tagid(c),
              t.set_prune_tagid(u),
              t.set_optin_only(m),
              e.set_optin(t);
          }
          d.set_content_hub_filter(e);
        }
        return d;
      }
      function _(e) {
        return (0, m.GM)(JSON.stringify(e));
      }
      function g(e) {
        return JSON.parse((0, m.nh)(e));
      }
      class f {
        m_transport;
        m_mapDiscoveryQueues = new Map();
        m_mapSkippedApps = new Map();
        m_mapSkippedAppCount = new Map();
        m_mapInClientCompleted = new Map();
        m_mapInClientCompletedCallback = new Map();
        m_setExhuasted = new Set();
        m_mapExhuastedCallback = new Map();
        GetTotalSkippedAppsForDiscoveryQueue(e, t) {
          const n = p(e, t);
          return this.m_mapDiscoveryQueues.get(n).skipped;
        }
        GetNumAppsSeenForDiscoveryQueue(e, t) {
          const n = p(e, t);
          return this.m_mapSkippedAppCount.get(n) || 0;
        }
        GetSkippedAppKey(e, t, n) {
          return `${e}_${p(t, n)}`;
        }
        GetInClientCompletedQueues(e, t) {
          const n = p(e, t);
          return this.m_mapInClientCompleted.get(n) || 0;
        }
        GetInClientCompletedQueuesCallback(e, t) {
          const n = p(e, t);
          return (
            this.m_mapInClientCompletedCallback.has(n) ||
              this.m_mapInClientCompletedCallback.set(n, new c.pB()),
            this.m_mapInClientCompletedCallback.get(n)
          );
        }
        GetExhaustedCallback(e, t) {
          const n = p(e, t);
          return (
            this.m_mapExhuastedCallback.has(n) ||
              this.m_mapExhuastedCallback.set(n, new c.pB()),
            this.m_mapExhuastedCallback.get(n)
          );
        }
        BIsExhausted(e, t) {
          const n = p(e, t);
          return this.m_setExhuasted.has(n);
        }
        async LoadDiscoveryQueue(e, t, n) {
          const s = p(e, n),
            o = a.gA.Init(l.cJ);
          o.Body().set_queue_type(e),
            o.Body().set_country_code(d.De.COUNTRY || "US"),
            o.Body().set_rebuild_queue(t),
            o.Body().set_rebuild_queue_if_stale(!0),
            (1 !== e && 9 !== e) ||
              o.Body().settings().set_include_coming_soon(!0),
            (Boolean(n?.nSaleTagID) || Boolean(n?.strContentHubType)) &&
              o.Body().set_store_page_filter(h(n));
          const r = await l.d6.GetDiscoveryQueue(this.m_transport, o),
            i = r.GetEResult();
          if (1 == i) {
            const t = r.Body().toObject();
            this.m_mapDiscoveryQueues.set(s, t),
              t.exhausted
                ? this.m_setExhuasted.has(s) ||
                  (this.m_setExhuasted.add(s),
                  this.GetExhaustedCallback(e, n).Dispatch(!0))
                : this.m_setExhuasted.has(s) &&
                  (this.m_setExhuasted.delete(s),
                  this.GetExhaustedCallback(e, n).Dispatch(!1)),
              this.m_mapSkippedAppCount.set(s, t.skipped || 0);
          } else
            console.warn(
              "Error",
              i,
              "failed to get discovery queue type",
              e,
              "key",
              s,
            );
          return i;
        }
        async GetDiscoveryQueueAppsOfType(e, t, n) {
          const s = p(e, n);
          return (
            (!t && this.m_mapDiscoveryQueues.has(s)) ||
              (await this.LoadDiscoveryQueue(e, t, n)),
            {
              appids: this.m_mapDiscoveryQueues.get(s).appids,
              exhausted: this.m_mapDiscoveryQueues.get(s).exhausted,
            }
          );
        }
        async SkipDiscoveryQueueItem(e, t, n) {
          p(t, n);
          const s = this.GetSkippedAppKey(e, t, n);
          if (!this.m_mapSkippedApps.has(s)) {
            const o = p(t, n),
              r = this.m_mapDiscoveryQueues.get(o).appids,
              i = r[r.length - 1] == e;
            this.m_mapSkippedApps.set(s, !0),
              this.m_mapSkippedAppCount.set(
                o,
                (this.m_mapSkippedAppCount.get(o) || 0) + 1,
              );
            const c = a.gA.Init(l.Ew);
            c.Body().set_appid(e),
              c.Body().set_queue_type(t),
              (Boolean(n?.nSaleTagID) || Boolean(n?.strContentHubType)) &&
                c.Body().set_store_page_filter(h(n));
            const u = (
              await l.d6.SkipDiscoveryQueueItem(this.m_transport, c)
            ).GetEResult();
            1 != u && 29 != u
              ? (console.warn("Error", u, "failed to skip appid ", e),
                this.m_mapSkippedApps.delete(s))
              : i && this.MarkDiscoveryQueueCompleted(t, n);
          }
        }
        MarkDiscoveryQueueCompleted(e, t) {
          const n = p(e, t);
          if (this.m_mapInClientCompleted.has(n)) {
            const s = this.m_mapInClientCompleted.get(n) + 1;
            this.m_mapInClientCompleted.set(n, s),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(s);
          } else
            this.m_mapInClientCompleted.set(n, 0),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(0);
        }
        async LoadSkippedApps(e, t) {
          p(e, t);
          const n = a.gA.Init(l.iM);
          n.Body().set_steamid(d.L7.steamid),
            n.Body().set_queue_type(e),
            (Boolean(t?.nSaleTagID) || Boolean(t?.strContentHubType)) &&
              n.Body().set_store_page_filter(h(t));
          const s = await l.d6.GetDiscoveryQueueSkippedApps(
            this.m_transport,
            n,
          );
          return 1 === s.GetEResult()
            ? s.Body().appids() || []
            : (console.warn(
                "Failed to retrieve skipped apps for discovery queue.",
                e,
                t,
                s.GetEResult(),
              ),
              []);
        }
        static s_DiscoveryQueueStore = null;
        static Init(e) {
          f.Get().m_transport = e;
        }
        static BHasTransport() {
          return Boolean(f.Get().m_transport);
        }
        static Get() {
          return (
            this.s_DiscoveryQueueStore ||
              (this.s_DiscoveryQueueStore = new f()),
            this.s_DiscoveryQueueStore
          );
        }
        constructor() {
          (0, o.rC)(this);
        }
      }
      function C(e, t) {
        const [n, s] = (0, r.useState)(
          f.Get().GetInClientCompletedQueues(e, t),
        );
        return (
          (0, u.Qg)(f.Get().GetInClientCompletedQueuesCallback(e, t), s), n
        );
      }
      function y(e, t) {
        const [n, s] = (0, r.useState)(f.Get().BIsExhausted(e, t));
        return (0, u.Qg)(f.Get().GetExhaustedCallback(e, t), s), n;
      }
      function v(e, t) {
        const n = (0, d.kQ)("discovery_queue_name", "application_config");
        return "string" == typeof n && n.length > 0 ? n : "";
      }
      (0, s.gn)([o.LO], f.prototype, "m_mapDiscoveryQueues", void 0);
    },
    54457: (e, t, n) => {
      "use strict";
      n.d(t, { cs: () => _, qX: () => p });
      var s = n(47427),
        o = n(42718),
        r = n(79545),
        a = n(44922),
        i = n(80998),
        l = n(15690),
        c = n(62210),
        u = n(40057);
      const m = s.createContext({}),
        d = () => s.useContext(m);
      function p(e) {
        let { defaultOptions: t, children: n } = e,
          o = s.useMemo(() => ({ defaultOptions: t || {} }), [t]);
        return s.createElement(m.Provider, { value: o }, n);
      }
      const h = "StoreQueryStore";
      function _(e, t, n, l) {
        let m = d();
        const p = (0, u.bY)();
        m || (0, c.X)(!1, "useStoreQuery called outside of a <StoreQueryRoot>");
        let _ = m.defaultOptions;
        const f = s.useMemo(() => {
          let e = [];
          return (
            l?.content_descriptors_excluded
              ? (e = l.content_descriptors_excluded)
              : _?.content_descriptors_excluded &&
                (e = _.content_descriptors_excluded),
            { ...t, filters: { content_descriptors_excluded: e, ...t.filters } }
          );
        }, [t, l, _]);
        let C;
        void 0 !== l?.override_country_code
          ? (C = l.override_country_code)
          : void 0 !== _?.override_country_code &&
            (C = _.override_country_code);
        let y = { staleTime: 36e5 };
        l?.reactQuery && (y = { ...y, ...l.reactQuery });
        const v = [h, f, n, l];
        return (0, o.useQuery)(
          v,
          () =>
            (async function (e, t, n, s, o) {
              const l = r.gA.Init(a.e8);
              (0, i.pA)(l), s && (0, i.De)(l, s);
              o && l.Body().set_override_country_code(o);
              l.Body().set_query(a.$2.fromObject(n)),
                l.Body().set_query_name(t);
              const c = await a.Ax.Query(e, l);
              if (1 != c.GetEResult())
                throw `Error executing StoreQuery "${t}", EResult: ${c.GetEResult()}`;
              return new g(c, s);
            })(p, e, f, n, C),
          y,
        );
      }
      class g {
        m_Items;
        m_rgItemIDs;
        m_metadata;
        constructor(e, t) {
          this.ReadResults(e, t);
        }
        GetItems() {
          return this.m_Items;
        }
        GetItemIDs() {
          return this.m_rgItemIDs;
        }
        GetMetadata() {
          return this.m_metadata;
        }
        ReadResults(e, t) {
          this.m_Items ||
            ((0, c.X)(
              0 == e.Body().metadata().start(),
              "Empty item list - expected to start at 0",
            ),
            (this.m_Items = []));
          const n = e.Body().ids() || [];
          if (
            ((this.m_rgItemIDs = n.map((e) => e.toObject())),
            e.Body().store_items())
          )
            for (const n of e.Body().store_items())
              this.m_Items.push(l.Z.Get().ReadItem(n, t));
          this.m_metadata = e.Body().metadata().toObject();
        }
      }
    },
    67327: (e, t, n) => {
      "use strict";
      n.d(t, { S: () => g });
      var s = n(47427),
        o = n(91618),
        r = n(79883),
        a = n.n(r),
        i = n(62613),
        l = n(46009),
        c = n(31846),
        u = n(1485),
        m = n(13129),
        d = n(26918),
        p = n(37563);
      const h = "bGameHighlightAutoplayDisabled",
        _ = "discovery-queue-volume";
      function g(e) {
        const { storeItem: t, bCurrentlyActive: n, bMainCapOnly: r } = e,
          g = s.useRef(),
          f = s.useRef(),
          C = s.useRef(),
          [y, v] = s.useState(!0),
          [S, I] = s.useState(!1),
          [E, D] = s.useState(!1),
          [A, b] = (0, d._)(_);
        s.useEffect(() => {
          if (n) {
            const e = (0, l.bG)(h),
              t = !(!e || "true" !== e.toLowerCase());
            v(t), I(!0);
          }
          return () => I(!1);
        }, [n]);
        const T = (0, s.useCallback)(() => {
          f.current &&
            ((f.current.volume = 0.8),
            A > 0
              ? ((f.current.muted = !1), (f.current.volume = A))
              : (f.current.muted = !0));
        }, [A]);
        s.useEffect(T, [T]);
        const w = s.useCallback(() => {
            (C.current.style.opacity = "1"),
              g.current &&
                (g.current?.pause(),
                (g.current.currentTime = 0),
                (g.current.style.opacity = "0")),
              f.current &&
                (f.current.pause(),
                (f.current.currentTime = 0),
                (f.current.style.opacity = "0"));
          }, []),
          G = s.useCallback((e) => {
            (g.current.style.opacity = "0"),
              f.current &&
                (f.current.play().catch((e) => {
                  console.error("Failed to play main trailer: ", e);
                }),
                (f.current.style.opacity = "1"));
          }, []),
          k = s.useCallback(() => {
            (C.current.style.opacity = "0"),
              g.current &&
                (g.current.play().catch((e) => {
                  console.error("Failed to play microtrailer: ", e);
                }),
                (g.current.style.opacity = "1"),
                (g.current.onended = G)),
              D(!0);
          }, [G]),
          R = s.useCallback(
            (e) => {
              (0, l.I1)(h, String(!e), 3650), v(!e), e || (w(), D(!1));
            },
            [w],
          );
        s.useEffect(() => {
          S && n && !r && !y && g.current && k(), n || w();
        }, [n, r, y, S, k, w]);
        const L = (0, s.useCallback)(
          (e) => {
            const t = e.target,
              n = t.muted ? 0 : t.volume;
            Math.abs(A - n) > Number.EPSILON && b(n);
          },
          [A, b],
        );
        if (!t.BIsVisible()) return null;
        const N = t.GetMicroTrailer();
        let B = null;
        t.GetAllTrailers().BHasTrailers() &&
          (B = t.GetAllTrailers().GetHighlightTrailers()[0]);
        const x = { [e.autoplayCheckboxPosition || "top"]: 0 };
        return s.createElement(
          o.s,
          { className: a().AppCarouselTrailerCtn },
          s.createElement("img", {
            ref: C,
            className: a().AppMainCap,
            src: t.GetAssets().GetMainCapsuleURL(),
          }),
          !r &&
            t.GetAllTrailers().BHasTrailers() &&
            s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "div",
                {
                  onClick: (e) => {
                    e.preventDefault(), e.stopPropagation();
                  },
                },
                s.createElement(u.ji, {
                  controlled: !0,
                  checked: !y,
                  key: t.GetAppID(),
                  className: a().AutoplayCheckbox,
                  style: x,
                  label: (0, c.Xx)("#StoreTrailer_AutoPlayVideos"),
                  onChange: R,
                }),
              ),
              y &&
                !E &&
                s.createElement(
                  o.s,
                  { focusable: !0, onClick: k, className: a().PlayButton },
                  s.createElement(i.GhU, null),
                ),
              N &&
                s.createElement(
                  "video",
                  {
                    className: (0, m.Z)(a().AppVideo, "Microtrailer"),
                    ref: g,
                    preload: "auto",
                    playsInline: !0,
                    muted: !0,
                  },
                  s.createElement("source", {
                    src: N.strWebMURL,
                    type: "video/webm",
                  }),
                  Boolean(!p.De.IN_CLIENT) &&
                    s.createElement("source", {
                      src: N.strMP4URL,
                      type: "video/mp4",
                    }),
                ),
              B &&
                s.createElement(
                  "video",
                  {
                    className: (0, m.Z)(a().AppVideo, "Trailer"),
                    ref: f,
                    onVolumeChange: L,
                    muted: Boolean(A),
                    preload: "auto",
                    playsInline: !0,
                    loop: !0,
                    controls: !0,
                  },
                  s.createElement("source", {
                    src: B.GetTrailer480p().strWebMURL,
                    type: "video/webm",
                  }),
                  Boolean(!p.De.IN_CLIENT) &&
                    s.createElement("source", {
                      src: B.GetTrailer480p().strMP4URL,
                      type: "video/mp4",
                    }),
                ),
            ),
        );
      }
    },
    25624: (e, t, n) => {
      "use strict";
      n.d(t, { s: () => N });
      var s = n(47427),
        o = n(42718),
        r = n(82493),
        a = n(91618),
        i = n(38605),
        l = n(70548),
        c = n(35427),
        u = n(93243),
        m = n(58670),
        d = n(77151),
        p = n(15690),
        h = n(85305),
        _ = n(62613),
        g = n(13129),
        f = n(31846),
        C = n(68785),
        y = n(79545),
        v = n(54879),
        S = n(80751),
        I = n.n(S),
        E = n(40057),
        D = n(54457),
        A = n(37563);
      class b {
        static async LoadFriendsRecommendedApp(e, t) {
          const n = y.gA.Init(v.tR);
          n.Body().set_appid(t);
          const s = await v.fG.GetFriendsRecommendedApp(e, n),
            o = s.GetEResult();
          if (1 == o) return s.Body().toObject();
          throw `Error ${o} failed to call GetFriendsRecommendedApp ${t}`;
        }
        static async LoadStoreRelevanceData(e) {
          let t = { appid: e },
            n = { arrSimilarPlayedApps: [], bRecommendedByIR: !1 };
          const s = (
            await I().get(
              `${A.De.STORE_BASE_URL}explore/ajaxgetstorerelevancedata`,
              { params: t, withCredentials: !0, timeout: 1e4 },
            )
          ).data;
          return (
            s &&
              1 == s.success &&
              (s.results.similar_played_apps &&
                (n.arrSimilarPlayedApps = s.results.similar_played_apps.map(
                  (e) => ({
                    appid: e.appid,
                    playtimeForever: e.playtime_forever,
                  }),
                )),
              s.results.recommended_by_ir && (n.bRecommendedByIR = !0)),
            n
          );
        }
      }
      var T = n(46882),
        w = n(44910),
        G = n.n(w),
        k = n(51915),
        R = n(88619);
      const L = new C.sO("AppRelevance").Debug;
      function N(e) {
        const {
            appID: t,
            bShowAvatars: n,
            storeItem: r,
            bHideDescription: a,
            bShowCuratorInfo: i,
            bShowCreatorInfo: l,
          } = e,
          m = (0, R.m6)(t),
          h = (function (e) {
            const t = (0, E.bY)();
            return (0, o.useQuery)(
              ["AppRelevanceStore", "FriendsRecommended", e],
              () => b.LoadFriendsRecommendedApp(t, e),
              { enabled: A.L7.logged_in },
            );
          })(t),
          _ = (function (e) {
            return (0, o.useQuery)(
              ["AppRelevanceStore", "StoreRelevance", e],
              () => b.LoadStoreRelevanceData(e),
              { enabled: A.L7.logged_in },
            );
          })(t),
          C = (function () {
            const { data: e } = (0, D.cs)("App Relevance Store Top Sellers", {
              sort: 11,
              start: 0,
              count: 100,
            });
            return e;
          })(),
          y = (0, o.useQuery)(
            ["SimilarPlayedAppsLoad", t],
            () =>
              p.Z.Get().QueueMultipleAppRequests(
                _.data.arrSimilarPlayedApps?.map((e) => e.appid),
                { include_basic_info: !0, include_assets: !0 },
              ),
            { enabled: _.isSuccess },
          ),
          v = (function (e, t) {
            const n = (0, s.useMemo)(
              () => d.jg.Get().GetRecommendingCuratorsForApp(e) || [],
              [e],
            );
            return (0, o.useQuery)(
              ["RecommendingCurators", e],
              () =>
                Promise.all(
                  n?.map((e) => u.sV.LoadClanInfoForClanAccountID(e)),
                ),
              { enabled: !!t && n && n.length > 0 },
            );
          })(t, i),
          S = (0, s.useMemo)(() => {
            let e = [];
            return (
              r &&
                ((e = e.concat(
                  r
                    .GetAllFranchiseCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "franchise" })),
                )),
                (e = e.concat(
                  r
                    .GetAllDeveloperCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "developer" })),
                )),
                (e = e.concat(
                  r
                    .GetAllPublisherCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "publisher" })),
                )),
                (e = e.filter((e) =>
                  d.jg.Get().BIsFollowingCurator(e.nAccountID),
                ))),
              e
            );
          }, [r]),
          I = (0, o.useQuery)(
            ["FollowedCreators", t],
            () =>
              u.sV
                .LoadClanInfoForClanAccountID(S[0].nAccountID)
                .then((e) => ({ clanInfo: e, type: S[0].type })),
            { enabled: !!l && S && S.length > 0 },
          ),
          w = (0, o.useQuery)(
            ["PlayerSummaries", t, n],
            async () => {
              let e = [],
                t = [],
                s = [];
              const o = n ? 10 : 1;
              for (
                let t = 0;
                t < h.data.accountids_recommended?.length && t < o;
                t++
              ) {
                const n = c.K.InitFromAccountID(
                  h.data.accountids_recommended[t],
                );
                e.push(n.ConvertTo64BitString());
              }
              for (let e = 0; e < m.data.in_wishlist?.length && e < o; e++) {
                const n = new c.K(m.data.in_wishlist[e].steamid);
                t.push(n.ConvertTo64BitString());
              }
              for (let e = 0; e < m.data.owns?.length && e < o; e++) {
                const t = new c.K(m.data.owns[e].steamid);
                s.push(t.ConvertTo64BitString());
              }
              return {
                rgRecommendedFriends: e,
                rgWishlistFriends: t,
                rgOwnedFriends: s,
              };
            },
            { enabled: h.isSuccess && m.isSuccess },
          );
        if (
          !C ||
          y.isLoading ||
          _.isLoading ||
          h.isLoading ||
          m.isLoading ||
          v.isLoading ||
          I.isLoading ||
          w.isLoading
        )
          return s.createElement(T.V, { size: "medium", position: "center" });
        let k = [];
        _.isSuccess &&
          _.data.arrSimilarPlayedApps &&
          _.data.arrSimilarPlayedApps.forEach((e) => {
            const n = p.Z.Get().GetApp(e.appid);
            n
              ? k.push(
                  s.createElement(Q, {
                    key: e.appid,
                    lifetimePlaytime: e.playtimeForever,
                    storeItem: n,
                  }),
                )
              : console.error("Failed to load store data ", t);
          });
        const N = C.GetItemIDs().findIndex((e) => e.appid === t),
          O = _.data?.bRecommendedByIR,
          F = k.length > 0,
          P = m.data?.owns?.length,
          V = m.data?.in_wishlist?.length,
          H = h.data?.accountids_recommended?.length;
        let X = 0;
        return (
          P > 0 && X++,
          V > 0 && X++,
          H > 0 && X++,
          O && X++,
          N >= 0 && X++,
          k.length > 0 && X++,
          i && v?.data?.length > 0 && X++,
          l && Boolean(I.data) && X++,
          L(
            "FriendsOwned: ",
            P,
            " FriendsWishlisted: ",
            V,
            "cRecommended: ",
            H,
          ),
          s.createElement(
            s.Fragment,
            null,
            X > 0 &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "div",
                  { className: G().WhyRelevant },
                  (0, f.Xx)("#DiscoveryQueue_WhyRelevant"),
                ),
                s.createElement(
                  "div",
                  { className: G().RelevantCtn },
                  F &&
                    s.createElement(
                      W,
                      { header: (0, f.Xx)("#DiscoveryQueue_SimilarGames") },
                      s.createElement(
                        "div",
                        { className: G().ReleventSimilarAppsCtn },
                        k,
                      ),
                    ),
                  i &&
                    v?.data?.length > 0 &&
                    s.createElement(
                      W,
                      {
                        header: (0, f.Xx)(
                          "#ContentHub_Recommendation_Curators",
                        ),
                      },
                      s.createElement(
                        "div",
                        {
                          className: (0, g.Z)(
                            G().ReleventSimilarAppsCtn,
                            G().RecommendingCuratorsCtn,
                          ),
                        },
                        v.data
                          .filter(Boolean)
                          .map((e) =>
                            s.createElement(x, {
                              key: "curator_" + e.clanAccountID,
                              curator: e,
                            }),
                          ),
                      ),
                    ),
                  l &&
                    Boolean(I.data) &&
                    s.createElement(B, { creatorInfo: I.data }),
                  N >= 0 &&
                    s.createElement(W, {
                      header: (0, f.x$)(
                        "#DiscoveryQueue_TopSellers",
                        (N + 1).toLocaleString(),
                        s.createElement("span", {
                          className: G().RelevantTextBold,
                        }),
                      ),
                    }),
                  O &&
                    !F &&
                    s.createElement(W, {
                      header: (0, f.Xx)("#DiscoveryQueue_RecommendedByIR"),
                    }),
                  s.createElement(M, {
                    bShowAvatars: n,
                    count: h.data?.accountids_recommended?.length,
                    locToken: "#DiscoveryQueue_FriendsRecommended",
                    arrSteamIDs: w.data?.rgRecommendedFriends,
                  }),
                  s.createElement(M, {
                    bShowAvatars: n,
                    count: m.data?.owns?.length,
                    locToken: "#DiscoveryQueue_FriendsOwned",
                    arrSteamIDs: w.data?.rgOwnedFriends,
                  }),
                  s.createElement(M, {
                    bShowAvatars: n,
                    count: m.data?.in_wishlist?.length,
                    locToken: "#DiscoveryQueue_FriendsWishlisted",
                    arrSteamIDs: w.data?.rgWishlistFriends,
                  }),
                ),
              ),
            (!a || 0 == X) &&
              s.createElement(
                "div",
                { className: (0, g.Z)(G().AppDescription, X && G().Divider) },
                r.GetShortDescription(),
              ),
          )
        );
      }
      function B(e) {
        const { creatorInfo: t } = e;
        if (!t) return null;
        let n;
        switch (t.type) {
          case "publisher":
            n = "#ContentHub_Recommendation_FollowedPublisher";
            break;
          case "developer":
            n = "#ContentHub_Recommendation_FollowedDeveloper";
            break;
          case "franchise":
            n = "#ContentHub_Recommendation_FollowedFranchise";
        }
        return n
          ? s.createElement(W, {
              header: (0, f.kQ)(
                n,
                s.createElement(
                  "span",
                  { className: G().RelevantTextBold },
                  t.clanInfo?.group_name,
                ),
              ),
            })
          : null;
      }
      function x(e) {
        const { curator: t } = e,
          n = (0, m.iG)(t?.clanAccountID);
        return t && n
          ? s.createElement(
              r.IS,
              { href: n.GetCreatorHomeURL(null) },
              s.createElement("img", { src: t.avatar_medium_url }),
            )
          : null;
      }
      function Q(e) {
        const { lifetimePlaytime: t, storeItem: n } = e;
        return s.createElement(
          "div",
          { className: G().SimilarAppCtn },
          s.createElement(
            h.ll,
            {
              item: { type: "game", id: n.GetAppID() },
              bHidePrice: !0,
              hoverProps: {
                direction: "overlay",
                nBodyAlignment: 1,
                style: { minWidth: "320px", zIndex: 5e3 },
              },
            },
            s.createElement("img", {
              className: G().SimilarAppImg,
              src: n.GetAssets().GetSmallCapsuleURL(),
            }),
          ),
        );
      }
      function M(e) {
        const { arrSteamIDs: t, count: n, locToken: o, bShowAvatars: r } = e;
        return n
          ? 1 != n || r
            ? s.createElement(
                W,
                {
                  header: (0, f.x$)(
                    o,
                    n,
                    s.createElement("span", {
                      className: G().RelevantTextBold,
                    }),
                  ),
                },
                r &&
                  t.length > 0 &&
                  s.createElement(
                    "div",
                    { className: G().FriendAvatarsCtn },
                    1 == n
                      ? s.createElement(P, { steamid: t[0] })
                      : s.createElement(F, { arrSteamIDs: t }),
                  ),
              )
            : s.createElement(W, {
                header: (0, f.kQ)(
                  o + "_Single",
                  s.createElement(O, { steamid: t[0] }),
                ),
              })
          : null;
      }
      function O(e) {
        const { steamid: t } = e,
          { data: n } = (0, k.IE)(t);
        return n && n.m_bInitialized
          ? s.createElement(
              "span",
              {
                "data-miniprofile": "s" + n.m_steamid.ConvertTo64BitString(),
                className: G().RelevantTextBold,
              },
              n.m_strPlayerName,
            )
          : null;
      }
      function F(e) {
        const { arrSteamIDs: t } = e,
          n = (0, k.vP)(t);
        return s.createElement(
          s.Fragment,
          null,
          n.map(
            ({ data: e }) =>
              e &&
              s.createElement(i.vV, {
                key: e.m_steamid.ConvertTo64BitString(),
                "data-miniprofile": "s" + e.m_steamid.ConvertTo64BitString(),
                persona: e,
                size: "Small",
                statusPosition: "right",
              }),
          ),
        );
      }
      function P(e) {
        const { steamid: t } = e,
          { data: n } = (0, k.IE)(t);
        return n
          ? s.createElement(
              a.s,
              { className: G().FriendBlockCtn, "data-miniprofile": "s" + t },
              s.createElement(i.vV, {
                persona: n,
                size: "Small",
                statusPosition: "right",
              }),
              s.createElement(l.o, {
                className: G().PersonaStatus,
                persona: n,
                eFriendRelationship: 3,
                bIsSelf: !1,
                strNickname: null,
                bParenthesizeNicknames: !1,
                bCompactView: !1,
                bNoMask: !0,
              }),
            )
          : null;
      }
      function W(e) {
        const { children: t, header: n } = e;
        return s.createElement(
          "div",
          { className: G().RelevantItem },
          s.createElement(
            "div",
            { className: G().RelevantCheck },
            s.createElement(_.JrY, null),
          ),
          s.createElement(
            "div",
            { className: G().RelevantColumn },
            s.createElement("div", { className: G().ReleventText }, n),
            t,
          ),
        );
      }
    },
    2704: (e, t, n) => {
      "use strict";
      n.d(t, { MS: () => de, Vw: () => ce });
      var s = n(30750),
        o = n(47427),
        r = n(82493),
        a = n(4030),
        i = n(91618),
        l = n(84686),
        c = n(3783),
        u = n(4654),
        m = n(31421),
        d = n(84270),
        p = n(77151),
        h = n(79545),
        _ = n(22791),
        g = n(13557),
        f = n(37563);
      class C {
        m_transport = void 0;
        m_dateSaleStart = new Date("2024-06-27T17:00:00Z");
        m_dateSaleEnd = new Date("2024-07-11T17:00:00Z");
        BIsSaleActive() {
          Date.now();
          return !1;
        }
        async GetNumTradingCardsEarned() {
          this.LazyInitTransport();
          const e = { earned_today: 0, earned_lifetime: 0, eresult: 2 },
            t = Date.now(),
            n =
              864e5 * Math.floor((t - this.m_dateSaleStart.getTime()) / 864e5) +
              this.m_dateSaleStart.getTime(),
            s = h.gA.Init(g.GZ);
          let o = await g.Ts.GetNumTradingCardsEarned(this.m_transport, s),
            r = o.GetEResult();
          return 1 !== r
            ? ((e.eresult = r), e)
            : ((e.earned_lifetime = o.Body().num_trading_cards()),
              s.Body().set_timestamp_start(n / 1e3),
              (o = await g.Ts.GetNumTradingCardsEarned(this.m_transport, s)),
              (r = o.GetEResult()),
              1 != r
                ? ((e.eresult = r), e)
                : ((e.earned_today = o.Body().num_trading_cards()),
                  (e.eresult = 1),
                  e));
        }
        static s_Singleton;
        static Get() {
          return (
            C.s_Singleton ||
              ((C.s_Singleton = new C()),
              "dev" == f.De.WEB_UNIVERSE &&
                (window.g_SeasonalSaleStore = C.s_Singleton)),
            C.s_Singleton
          );
        }
        LazyInitTransport() {
          if (!this.m_transport) {
            const e = (0, f.kQ)("loyalty_webapi_token", "application_config");
            "string" == typeof e
              ? (this.m_transport = new _.J(
                  f.De.WEBAPI_BASE_URL,
                  e,
                ).GetServiceTransport())
              : console.error("CSeasonalSaleStore failed to load webapi token");
          }
        }
        constructor() {}
      }
      var y = n(15690),
        v = n(86437),
        S = n(80886),
        I = n(74031),
        E = n(85305),
        D = n(92797),
        A = n(81424),
        b = n(85556),
        T = n(42287),
        w = n(20417),
        G = n(45651),
        k = n(60616),
        R = n(61949),
        L = n(15633),
        N = n(48766),
        B = n(68785),
        x = n(56617);
      const Q = new B.sO("VirtualizedBoxCarousel").Debug,
        M = o.forwardRef(function (e, t) {
          const { name: n, initialColumn: s } = e,
            [r, a] = (0, x.i4)("VBC_" + n, s || 0),
            i = (0, f.id)();
          return o.createElement(O, {
            ...e,
            ref: t,
            focusedColumn: r,
            setFocusedColumn: a,
            autoHeight: !i,
          });
        });
      class O extends o.PureComponent {
        static defaultProps = {
          nIndexLeftmost: 0,
          scrollDuration: 100,
          scrollTiming: "sine",
          enableBumperPaging: !1,
          initialColumn: 0,
          bPlaySoundOnFailedScroll: !0,
        };
        state = { nContainerWidth: 0, nRightPadding: 0 };
        m_refContainer = o.createRef();
        m_refGrid = void 0;
        m_refGridElement = void 0;
        m_resizeObserver;
        m_scrollAnimation = null;
        m_mapRefs = new Map();
        m_iStart = 0;
        m_iEnd = 0;
        m_activeScrollTo = null;
        StartScrollAnimation(e, t, n, s, o) {
          let r = this.m_refGrid;
          if (r)
            if (o) {
              const r = this.m_refGridElement;
              Q("StartScrollAnimation", n, s, o);
              let a = {
                msDuration: o,
                timing: this.props.scrollTiming,
                onComplete: () => this.OnAnimationScrollComplete(e, t, n, s),
              };
              this.m_scrollAnimation && this.m_scrollAnimation.End(),
                (this.m_scrollAnimation = new N.jg(r, { scrollLeft: s }, a)),
                this.m_scrollAnimation.Start();
            } else
              r.scrollToPosition({ scrollLeft: s, scrollTop: 0 }),
                this.OnAnimationScrollComplete(e, t, n, s);
        }
        RestoreScrollPosition(e) {
          this.StartScrollAnimation(
            L.eV.INVALID,
            0,
            "RestoreScrollPosition",
            e,
            0,
          );
        }
        m_timeout = void 0;
        SendScrollNotification(e) {
          this.m_timeout && window.clearTimeout(this.m_timeout);
          const t = this.props.fnOnScroll;
          this.m_timeout = window.setTimeout(() => {
            t && t(e), (this.m_timeout = void 0);
          }, 250);
        }
        OnAnimationScrollComplete(e, t, n, s) {
          T.unstable_batchedUpdates(() => {
            Q("OnAnimationScrollComplete", n, s),
              this.SendScrollNotification(s);
            const o = this.m_mapRefs.get(n);
            o &&
              o.current &&
              (Q("Sending focus to", n), o.current.TakeFocus(e)),
              this.props.setFocusedColumn(t),
              (this.m_scrollAnimation = null),
              (this.m_activeScrollTo = null);
          });
        }
        m_nTouchStartClientX = void 0;
        OnTouchStart(e) {
          1 == e.touches.length &&
            (this.m_nTouchStartClientX = e.touches[0].clientX);
        }
        OnTouchEnd(e) {
          this.m_nTouchStartClientX = void 0;
        }
        OnTouchMove(e) {
          if (!this.m_refGrid || 0 == e.touches.length) return;
          const t = this.m_nTouchStartClientX - e.touches[0].clientX;
          this.BlockMovementLeftPastFirstElement(e, t);
        }
        m_bMouseDown = !1;
        OnMouseDown(e) {
          this.m_bMouseDown = !0;
        }
        OnMouseUp(e) {
          this.m_bMouseDown = !1;
        }
        BlockMovementLeftPastFirstElement(e, t) {
          const n = this.m_refGrid.getOffsetForCell({
            alignment: this.props.scrollToAlignment,
            columnIndex: this.props.nIndexLeftmost,
          });
          this.m_refGridElement.scrollLeft - n.scrollLeft + t < 0 &&
            e.cancelable &&
            (console.warn("Blocking touch scroll out of bounds"),
            e.cancelable && e.preventDefault());
        }
        SnapBackToFirstElement(e) {
          console.warn("Carousel out of bounds, scrolling back to", e),
            this.RestoreScrollPosition(e);
        }
        OnScroll(e) {
          const t = this.m_refGrid?.getOffsetForCell({
            alignment: this.props.scrollToAlignment,
            columnIndex: this.props.nIndexLeftmost,
          });
          this.SendScrollNotification(e.scrollLeft),
            e.scrollLeft < Math.floor(t?.scrollLeft) &&
              this.SnapBackToFirstElement(t.scrollLeft),
            this.UpdateScrollArrows();
        }
        GetCellColumnWidth(e) {
          let { fnGetColumnWidth: t } = this.props,
            n = t(e.index) + this.props.nItemMarginX;
          return (
            e.index == this.props.nNumItems - 1 &&
              (n += this.state.nRightPadding),
            n
          );
        }
        OnItemFocused(e, t) {
          this.m_bMouseDown ||
            this.ScrollToItem(
              L.eV.INVALID,
              t,
              this.props.scrollToAlignment || "auto",
              void 0,
              0,
            );
        }
        CellRenderer(e) {
          const {
              fnGetColumnWidth: t,
              fnGetId: n,
              fnItemRenderer: s,
              nItemHeight: a,
              autoFocus: l,
            } = this.props,
            { key: c, columnIndex: u, style: m } = e,
            d = t(u),
            p = parseInt(m.left.toString()),
            h = n(u),
            _ = !this.m_mapRefs.has(h),
            g = this.m_mapRefs.get(h) || (0, r.Hy)();
          return (
            this.m_mapRefs.set(h, g),
            o.createElement(
              i.s,
              {
                key: c,
                navKey: c,
                navRef: g,
                focusable: !1,
                onGamepadDirection: this.OnGamepadDirection,
                autoFocus: l && u == this.props.focusedColumn && _,
                "data-id": h,
                onFocus: (e) => this.OnItemFocused(e, u),
                style: m,
              },
              s(u, d, a, p),
            )
          );
        }
        OnSectionRendered(e) {
          (this.m_iStart = e.columnStartIndex),
            (this.m_iEnd = e.columnStopIndex),
            Q("Section rendered", this.m_iStart, this.m_iEnd),
            this.UpdateScrollArrows();
        }
        get alignment() {
          return this.props.scrollToAlignment || "start";
        }
        GetLastFocusableColumn() {
          let e = this.props.nNumItems - 1;
          if (this.props.fnDoesItemTakeFocus)
            for (
              ;
              !this.props.fnDoesItemTakeFocus(e) &&
              e > this.props.nIndexLeftmost;

            )
              e--;
          return Q("LastFocusableColumn: ", e), e;
        }
        UpdateScrollArrows() {
          if (this.props.fnUpdateArrows) {
            const e = this.m_refGrid?.getOffsetForCell({
                alignment: this.props.scrollToAlignment,
                columnIndex: this.props.nIndexLeftmost,
              }),
              t = this.m_refGrid?.getOffsetForCell({
                alignment: this.props.scrollToAlignment,
                columnIndex: this.GetLastFocusableColumn(),
              }),
              n = Math.round(this.m_refGridElement?.scrollLeft),
              s =
                n != Math.floor(e?.scrollLeft) &&
                n != Math.round(e?.scrollLeft),
              o =
                n != Math.floor(t?.scrollLeft) &&
                n != Math.round(t?.scrollLeft);
            Q(
              "ShowLeftArrow: ",
              s,
              e,
              " ShowRightArrow: ",
              o,
              t,
              " ScrollPos: ",
              n,
            ),
              this.props.fnUpdateArrows(s, o);
          }
        }
        BindGridObject(e) {
          if (
            (this.m_refGridElement &&
              (this.m_refGridElement.removeEventListener(
                "touchstart",
                this.OnTouchStart,
              ),
              this.m_refGridElement.removeEventListener(
                "touchend",
                this.OnTouchEnd,
              ),
              this.m_refGridElement.removeEventListener(
                "touchmove",
                this.OnTouchMove,
              ),
              this.m_refGridElement.removeEventListener(
                "mousedown",
                this.OnMouseDown,
              ),
              this.m_refGridElement.removeEventListener(
                "mouseup",
                this.OnMouseUp,
              )),
            (this.m_refGrid = e),
            (this.m_refGridElement = void 0),
            this.m_refGrid)
          ) {
            const e = T.findDOMNode(this.m_refGrid);
            (this.m_refGridElement = e),
              e?.addEventListener("touchstart", this.OnTouchStart),
              e?.addEventListener("touchend", this.OnTouchEnd),
              e?.addEventListener("touchmove", this.OnTouchMove, {
                passive: !1,
              }),
              e?.addEventListener("mousedown", this.OnMouseDown),
              e?.addEventListener("mouseup", this.OnMouseUp);
            const t = window.getComputedStyle(e),
              n = parseInt(t.getPropertyValue("padding-right")) || 0,
              s = parseInt(t.getPropertyValue("scroll-padding-right")) || 0,
              o = Math.max(n, s);
            o != this.state.nRightPadding &&
              (Q("Computed", o, "additional right padding"),
              this.setState({ nRightPadding: o }, () => {
                this.m_refGrid.recomputeGridSize({
                  columnIndex: this.props.nNumItems - 1,
                });
              }));
          }
        }
        componentDidMount() {
          this.m_refContainer.current &&
            ((this.m_resizeObserver = (0, w.it)(
              this.m_refContainer.current,
              this.OnResize,
            )),
            Q(
              "componentDidMount Setting width to",
              this.m_refContainer.current.clientWidth,
            ),
            this.setState({
              nContainerWidth: this.m_refContainer.current.clientWidth,
            }));
        }
        componentDidUpdate(e) {
          this.props.fnGetColumnWidth != e.fnGetColumnWidth &&
            (Q("Column width function changes, recalculating sizes"),
            this.m_refGrid?.recomputeGridSize());
        }
        componentWillUnmount() {
          this.m_resizeObserver?.disconnect();
        }
        OnResize() {
          const e = this.m_refContainer.current.clientWidth;
          e != this.state.nContainerWidth &&
            (Q(
              "OnResize Setting width to",
              this.m_refContainer.current.clientWidth,
            ),
            this.setState({ nContainerWidth: e })),
            this.UpdateScrollArrows();
        }
        ScrollLeft(e) {
          const t = this.m_iEnd - this.m_iStart,
            n = (0, G.Lh)(
              this.props.focusedColumn - t,
              this.props.nIndexLeftmost,
              this.props.nNumItems - 1,
            ),
            s = this.alignment;
          return this.ScrollToItem(L.eV.INVALID, n, s, e);
        }
        ScrollRight(e) {
          const t = this.m_iEnd - this.m_iStart,
            n = (0, G.Lh)(
              this.props.focusedColumn + t,
              this.props.nIndexLeftmost,
              this.props.nNumItems - 1,
            ),
            s = this.alignment;
          return this.ScrollToItem(L.eV.INVALID, n, s, e);
        }
        ScrollToFirstChild() {
          return this.ScrollToItem(
            L.eV.INVALID,
            this.props.nIndexLeftmost,
            "auto",
          );
        }
        MoveLeft(e) {
          Q("MoveLeft from", this.props.focusedColumn);
          let t = this.props.focusedColumn - 1;
          for (
            ;
            t != this.props.nIndexLeftmost - 1 &&
            this.props.fnDoesItemTakeFocus &&
            !this.props.fnDoesItemTakeFocus(t);

          )
            t--;
          return t == this.props.nIndexLeftmost - 1
            ? (Q("At left edge, not handling left gamepad"), !1)
            : (Q("MoveLeft to", t),
              this.ScrollToItem(
                e ? e.detail.button : L.eV.INVALID,
                t,
                this.props.scrollToAlignment || "auto",
                e,
              ));
        }
        MoveRight(e) {
          Q("MoveRight from", this.props.focusedColumn);
          let t = this.props.focusedColumn + 1;
          for (
            ;
            t != this.props.nNumItems &&
            this.props.fnDoesItemTakeFocus &&
            !this.props.fnDoesItemTakeFocus(t);

          )
            t++;
          return t == this.props.nNumItems
            ? (Q("At right edge, not handling right gamepad"), !1)
            : (Q("MoveRight to", t),
              this.ScrollToItem(
                e ? e.detail.button : L.eV.INVALID,
                t,
                this.props.scrollToAlignment || "auto",
                e,
              ));
        }
        ScrollToItem(e, t, n, s, o) {
          if (
            this.m_activeScrollTo &&
            this.m_activeScrollTo.alignment === n &&
            this.m_activeScrollTo.iNewFocus === t
          )
            return !0;
          if (
            (Q("ScrollToItem", t, n, s, o),
            t != this.props.focusedColumn &&
              this.m_refGrid &&
              (!this.props.fnDoesItemTakeFocus ||
                this.props.fnDoesItemTakeFocus(t)))
          ) {
            const r = this.m_refGrid.getOffsetForCell({
                alignment: n,
                columnIndex: t,
                rowIndex: 0,
              }),
              a = this.props.fnGetId(t);
            return (
              Q("Scrolling to item", t, a, n, r.scrollLeft, o),
              (this.m_activeScrollTo = { iNewFocus: t, alignment: n }),
              this.props.fnOnFocusedColumnChange &&
                this.props.fnOnFocusedColumnChange(this.props.focusedColumn, t),
              this.StartScrollAnimation(
                e,
                t,
                a,
                r.scrollLeft,
                o ?? this.props.scrollDuration,
              ),
              s?.stopPropagation(),
              s?.preventDefault(),
              !0
            );
          }
          return !1;
        }
        OnGamepadButtonDown(e) {
          switch ((Q("OnGamepadButtonDown", e.detail), e.detail.button)) {
            case L.eV.BUMPER_LEFT:
              return !!this.props.enableBumperPaging && this.ScrollLeft(e);
            case L.eV.BUMPER_RIGHT:
              return !!this.props.enableBumperPaging && this.ScrollRight(e);
          }
          return !1;
        }
        OnGamepadDirection(e) {
          switch ((Q("OnGamepadDirection", e.detail), e.detail.button)) {
            case L.eV.DIR_LEFT:
              return this.MoveLeft(e);
            case L.eV.DIR_RIGHT:
              return this.MoveRight(e);
          }
          return !1;
        }
        render() {
          const {
              className: e,
              nNumItems: t,
              nIndexLeftmost: n,
              nHeight: s,
              nItemHeight: r,
              overscan: a = 3,
              scrollToAlignment: l,
              focusedColumn: c,
              autoHeight: u,
            } = this.props,
            m = this.state.nContainerWidth;
          return (
            Q("Inner render", this.props.name, this.props.nNumItems, m, n, c),
            o.createElement(
              i.s,
              {
                ref: this.m_refContainer,
                "flow-children": "row",
                onButtonDown: this.OnGamepadButtonDown,
                focusable: !1,
              },
              m &&
                o.createElement(R.rj, {
                  ref: this.BindGridObject,
                  className: e,
                  cellRenderer: this.CellRenderer,
                  onScroll: this.OnScroll,
                  onSectionRendered: this.OnSectionRendered,
                  columnCount: t,
                  columnWidth: this.GetCellColumnWidth,
                  overscanColumnCount: a,
                  overscanIndicesGetter: ({
                    cellCount: e,
                    overscanCellsCount: t,
                    startIndex: n,
                    stopIndex: s,
                  }) => ({
                    overscanStartIndex: Math.max(0, n - t),
                    overscanStopIndex: Math.min(e - 1, s + t),
                  }),
                  rowCount: 1,
                  rowHeight: r,
                  height: s,
                  width: m,
                  containerStyle: { overflow: "visible" },
                  scrollToAlignment: this.alignment,
                  scrollToColumn: c,
                  tabIndex: null,
                  autoHeight: u,
                }),
            )
          );
        }
      }
      (0, b.gn)([w.ak], O.prototype, "RestoreScrollPosition", null),
        (0, b.gn)([w.ak], O.prototype, "OnAnimationScrollComplete", null),
        (0, b.gn)([w.ak], O.prototype, "OnTouchStart", null),
        (0, b.gn)([w.ak], O.prototype, "OnTouchEnd", null),
        (0, b.gn)([w.ak], O.prototype, "OnTouchMove", null),
        (0, b.gn)([w.ak], O.prototype, "OnMouseDown", null),
        (0, b.gn)([w.ak], O.prototype, "OnMouseUp", null),
        (0, b.gn)(
          [w.ak, (0, k.D)(250)],
          O.prototype,
          "SnapBackToFirstElement",
          null,
        ),
        (0, b.gn)([w.ak], O.prototype, "OnScroll", null),
        (0, b.gn)([w.ak], O.prototype, "GetCellColumnWidth", null),
        (0, b.gn)([w.ak], O.prototype, "OnItemFocused", null),
        (0, b.gn)([w.ak], O.prototype, "CellRenderer", null),
        (0, b.gn)([w.ak], O.prototype, "OnSectionRendered", null),
        (0, b.gn)(
          [w.ak, (0, k.D)(250)],
          O.prototype,
          "UpdateScrollArrows",
          null,
        ),
        (0, b.gn)([w.ak], O.prototype, "BindGridObject", null),
        (0, b.gn)([w.ak], O.prototype, "OnResize", null),
        (0, b.gn)([w.ak], O.prototype, "ScrollLeft", null),
        (0, b.gn)([w.ak], O.prototype, "ScrollRight", null),
        (0, b.gn)([w.ak], O.prototype, "ScrollToFirstChild", null),
        (0, b.gn)([w.ak], O.prototype, "MoveLeft", null),
        (0, b.gn)([w.ak], O.prototype, "MoveRight", null),
        (0, b.gn)([w.ak], O.prototype, "OnGamepadButtonDown", null),
        (0, b.gn)([w.ak], O.prototype, "OnGamepadDirection", null);
      var F = n(27438),
        P = n(62613),
        W = n(67327),
        V = n(25006),
        H = n(29480),
        X = n(13129),
        U = n(31846),
        Z = n(93334),
        j = n(74840),
        z = n(81874),
        q = n(99823),
        K = n(25624),
        Y = n(44910),
        J = n.n(Y),
        $ = n(89272),
        ee = n(30229),
        te = n(10095),
        ne = n(13499),
        se = n(95082);
      const oe = new B.sO("DiscoveryQueueWizard").Debug,
        re = 0,
        ae = 1,
        ie = 1400,
        le = "discoveryqueue2022",
        ce = {
          include_assets: !0,
          include_trailers: !0,
          include_basic_info: !0,
          include_tag_count: 20,
          include_release: !0,
          include_platforms: !0,
        };
      async function ue(e, t, n, s) {
        let o = [],
          r = !1;
        try {
          const { appids: a, exhausted: i } =
            await j.Wb.Get().GetDiscoveryQueueAppsOfType(e, t, s);
          (o = [...a]),
            (r = i),
            n && -1 === o.findIndex((e) => e === n) && o.unshift(n),
            await y.Z.Get().QueueMultipleAppRequests(o, ce);
        } catch (e) {
          console.error("Failed getting discovery queue apps", e);
        }
        return { appids: o, exhausted: r };
      }
      const me = (e) =>
        f.De.IN_STEAMUI
          ? o.createElement(a.O, null, e.children)
          : o.createElement(
              F.Pv,
              { navID: "DiscoveryQueueWizard" },
              e.children,
            );
      function de(e) {
        const {
            eStoreDiscoveryQueueType: t,
            bWizardVisible: n,
            fnCloseModal: s,
            includeAppID: a,
            storePageFilter: l,
          } = e,
          [u, m] = o.useState([]),
          [d, h] = o.useState(1),
          [_, g] = o.useState(800),
          [C, y] = o.useState("DiscoveryQueue"),
          [v, S] = o.useState(!0),
          [I, E] = o.useState(!1),
          [D, A] = o.useState(!1),
          b = o.useRef(),
          T = (0, f.id)(),
          G = (0, te.Wy)(),
          k = G?.ownerWindow || window,
          R = (0, H.T)("DiscoveryQueueWizard"),
          L = (0, se.BR)();
        (0, Z.P)("ArrowLeft", (e) => b.current.MoveLeft(e)),
          (0, Z.P)("Left", (e) => b.current.MoveLeft(e)),
          (0, Z.P)("ArrowRight", (e) => b.current.MoveRight(e)),
          (0, Z.P)("Right", (e) => b.current.MoveRight(e)),
          (0, Z.P)("Escape", () => s && s()),
          (0, Z.P)("Esc", () => s && s());
        const N = o.useMemo(
            () => Math.max((k.innerWidth / 100) * 2.8 + 40, 24),
            [24, k],
          ),
          B = o.useCallback(
            (e) => {
              const t = Math.min(1400, k.innerWidth / 1.3 - 2 * N - 48 + 220);
              g(t);
            },
            [N, k],
          ),
          x = (0, w.yU)(B),
          Q = o.useMemo(() => (k.innerWidth - _ - 2 * N) / 2, [_, N, k]),
          O = o.useMemo(() => (9 / 16) * (_ - 0.3 * _), [_]),
          W = o.useMemo(() => Boolean(k.innerWidth < ie), [k]),
          z = o.useCallback(
            async (e) => {
              let { appids: n } = await ue(t, !e, e && a, l);
              if (e && !n.length) {
                let { appids: e } = await ue(t, !0, void 0, l);
                n = e;
              }
              let s = u;
              if (e) n.unshift(ae);
              else {
                const e = s.lastIndexOf(ae);
                -1 !== e && s.splice(e, 1);
              }
              n.push(re),
                n.push(ae),
                (s = s.concat(n)),
                R?.token?.reason || m(s),
                e || b?.current?.MoveRight(),
                oe("Loaded new discovery queue apps: ", n);
            },
            [t, a, l, u, R?.token?.reason],
          );
        o.useEffect(() => {
          D ||
            (z(!0).then(() => A(!0)),
            p.jg.Get().HintLoad(),
            y(
              (() => {
                const e = Math.floor(1e6 * Math.random());
                return `DiscoveryQueue_${f.L7.accountid}_${e}`;
              })(),
            ),
            B());
        }, [t, z, B, D]);
        const q = o.useCallback(
            (e) =>
              u[e] == re
                ? "Summary" + e
                : u[e] == ae
                  ? "Placeholder" + e
                  : u[e].toString(),
            [u],
          ),
          K = o.useCallback((e) => _, [_]),
          Y = o.useCallback(
            (e) => {
              oe("Currently focused index: ", e), L.AddImpression(u[e], le);
            },
            [L, u],
          ),
          [ee] = o.useState(new Map()),
          ne = o.useCallback(
            (n, r, a, c) => {
              if (u[n] == re) {
                let i = 0;
                for (let e = n - 1; e >= 0; e--) u[e] == re && (i += 1);
                let c = 0;
                for (let e = n - 1; e >= 0 && u[e] !== re && u[e] !== ae; e--)
                  c++;
                return (
                  ee.has(i) ||
                    ee.set(
                      i,
                      j.Wb.Get().GetTotalSkippedAppsForDiscoveryQueue(t, l),
                    ),
                  o.createElement(ge, {
                    ...e,
                    key: q(n),
                    focused: d === n,
                    fnLoadNextQueue: z,
                    fnCloseModal: s,
                    summaryCardIndex: i,
                    eStoreDiscoveryQueueType: t,
                    nItemHeight: a,
                    nItemWidth: r,
                    viewedAppCount: (ee.get(i) || 0) + c,
                  })
                );
              }
              return u[n] == ae
                ? o.createElement(i.s, {
                    focusable: !1,
                    style: { width: r, height: O },
                    className: (0, X.Z)(J().DiscoveryQueuePlaceholder),
                  })
                : o.createElement(pe, {
                    bShowMinimizedDisplay: W,
                    eStoreDiscoveryQueueType: t,
                    storePageFilter: l,
                    focused: d === n,
                    index: n,
                    fnOnAppFocus: Y,
                    nItemHeight: O,
                    nItemWidth: r,
                    appID: u[n],
                  });
            },
            [u, O, W, t, l, d, Y, ee, e, q, z, s],
          ),
          ce = o.useCallback(
            (e, t) => {
              T || (E(e), S(t));
            },
            [T],
          ),
          de = o.useCallback((e) => u[e] !== ae, [u]),
          he = o.useCallback(
            (e, n) => {
              oe("New Focused Column: ", n, " Prev Focused Column: ", e),
                u[e] !== ae &&
                  u[e] !== re &&
                  j.Wb.Get().SkipDiscoveryQueueItem(u[e], t, l),
                h(n);
            },
            [t, u, l],
          ),
          fe = o.useCallback(
            (e, t) => {
              const n = [];
              for (let s = 0; s < t; ++s)
                n.push(
                  o.createElement("img", {
                    key: "dot_" + s,
                    className: (0, X.Z)({
                      [J().ProgressDot]: !0,
                      [J().ProgressDotActive]: s <= e,
                      [J().ProgressDotHidden]: u[d] === ae || u[d] === re,
                    }),
                    src: $.Z,
                  }),
                );
              return o.createElement("div", { className: J().ProgressCtn }, n);
            },
            [d, u],
          ),
          Ce = o.useMemo(() => {
            let e = 0;
            for (let t = d; t >= 0; --t)
              if (u[t] === ae || u[t] === re) {
                e = t;
                break;
              }
            let t = 0;
            for (let n = e + 1; n < u.length && u[n] !== ae && u[n] !== re; ++n)
              t++;
            return [d - e - 1, t];
          }, [d, u]),
          ye = (0, j.ZP)(t, l);
        return D
          ? o.createElement(
              F.Yy,
              { active: n },
              o.createElement(
                me,
                null,
                o.createElement(
                  V.ZP,
                  { feature: le },
                  o.createElement(
                    i.s,
                    {
                      autoFocus: !0,
                      focusable: !0,
                      className: J().DiscoveryQueueCarouselCtn,
                      navEntryPreferPosition: c.c4.LAST,
                      onCancelButton: () => s && s(),
                      onCancelActionDescription: (0, U.Xx)("#Button_Close"),
                    },
                    o.createElement(
                      i.s,
                      {
                        "flow-children": "row",
                        className: (0, X.Z)(J().TopBarCtn, T && J().TopMargin),
                      },
                      o.createElement(
                        i.s,
                        { className: J().LearnMore },
                        (0, U.yu)(
                          "#DiscoveryQueue_LearnMore_Default",
                          o.createElement(r.IS, {
                            className: J().LearnMoreLink,
                            href: _e(f.De.STORE_BASE_URL + "explore"),
                          }),
                        ),
                      ),
                      o.createElement(
                        i.s,
                        { className: J().ControlsCtn },
                        !1,
                        o.createElement(
                          i.s,
                          {
                            focusable: !0,
                            className: J().QueueButton,
                            onClick: s,
                            onActivate: () => s && s(),
                          },
                          o.createElement(P.X, null),
                        ),
                      ),
                    ),
                    o.createElement(
                      "div",
                      { ref: x, className: J().DiscoveryQueueWrapper },
                      o.createElement(
                        i.s,
                        { "flow-children": "row" },
                        o.createElement(
                          "div",
                          { className: J().DiscoveryQueueName },
                          ye,
                        ),
                      ),
                      o.createElement(
                        i.s,
                        {
                          onClick: (e) => b.current.MoveLeft(e),
                          className: (0, X.Z)(
                            J().QueueNavArrow,
                            J().LeftArrow,
                            I && J().Enable,
                          ),
                        },
                        o.createElement(P.BKy, { angle: 180 }),
                      ),
                      o.createElement(M, {
                        name: C,
                        className: J().DiscoveryQueueCarousel,
                        ref: b,
                        fnDoesItemTakeFocus: de,
                        fnOnFocusedColumnChange: he,
                        fnUpdateArrows: ce,
                        nNumItems: u.length,
                        nHeight: O,
                        scrollDuration: 400,
                        nItemHeight: O,
                        nItemMarginX: Q,
                        fnGetColumnWidth: K,
                        fnGetId: q,
                        fnItemRenderer: ne,
                        scrollToAlignment: "center",
                        nIndexLeftmost: 1,
                        initialColumn: 1,
                        autoFocus: !0,
                        scrollTiming: "cubic-in-out",
                        overscan: 3,
                      }),
                      o.createElement(
                        i.s,
                        {
                          onClick: (e) => b.current.MoveRight(e),
                          className: (0, X.Z)(
                            J().QueueNavArrow,
                            J().RightArrow,
                            v && J().Enable,
                          ),
                        },
                        o.createElement(P.BKy, { angle: 0 }),
                      ),
                      !T &&
                        o.createElement(
                          i.s,
                          { "flow-children": "row" },
                          fe(Ce[0], Ce[1]),
                        ),
                    ),
                    o.createElement(
                      i.s,
                      {
                        "flow-children": "row",
                        className: (0, X.Z)(J().BotomBarCtn),
                      },
                      o.createElement(
                        i.s,
                        { className: J().LabsHeader },
                        (0, U.yu)(
                          "#DiscoveryQueue_LabsHeader",
                          o.createElement("span", { className: J().Bold }),
                          o.createElement(r.IS, {
                            className: J().LearnMoreLink,
                            href: _e(
                              f.De.COMMUNITY_BASE_URL +
                                "groups/SteamLabs/discussions/17/",
                            ),
                          }),
                        ),
                      ),
                    ),
                  ),
                ),
              ),
            )
          : null;
      }
      function pe(e) {
        const {
            appID: t,
            nItemHeight: n,
            nItemWidth: r,
            fnOnAppFocus: a,
            index: l,
            focused: c,
            eStoreDiscoveryQueueType: m,
            storePageFilter: h,
            bShowMinimizedDisplay: _,
          } = e,
          [g] = (0, S.vs)(t, ce),
          C = (0, d.nQ)(g?.GetAppID()),
          y = (0, s.SZ)(() => p.jg.Get().BIsGameWishlisted(t)),
          b = (0, s.SZ)(() => p.jg.Get().BIsGameIgnored(t)),
          T = (0, I.Eq)(g?.GetTagIDs()),
          w = (0, f.id)(),
          G = w,
          k = (0, V.bJ)(),
          R = (0, u.ck)(),
          L = (0, te.Wy)(),
          N = L?.ownerWindow || window,
          B = o.useMemo(() => (0, j.Pf)(h), [h]),
          x = o.useMemo(() => "?inqueue=" + m + (h ? "_" + B : ""), [m, h, B]),
          Q = o.useCallback(() => {
            N.location.href = _e(g.GetStorePageURL() + x, k);
          }, [N.location, g, x, k]),
          M = o.useCallback(() => {
            p.jg.Get().UpdateAppIgnore(g.GetAppID(), !b);
          }, [b, g]);
        if (
          (o.useEffect(() => {
            oe("Index Focused: ", l, " Focus? ", c), c && a(l);
          }, [a, c, l]),
          !g)
        )
          return console.warn("Error: missing store item for appid ", t), null;
        const O = { width: r || void 0, height: n || void 0 },
          F = () => {
            p.jg
              .Get()
              .UpdateGameWishlist(t, !y, le)
              .then((e) => {
                e && e.success;
              });
          },
          P = g.GetAssets().GetLibraryCapsuleURL();
        return o.createElement(
          i.s,
          {
            focusable: !0,
            style: O,
            onFocus: () => a(l),
            className: (0, X.Z)(J().DiscoveryQueueApp, c && J().Focused),
            onOptionsActionDescription: y
              ? (0, U.Xx)("#DiscoveryQueue_RemoveFromWishlist")
              : (0, U.Xx)("#DiscoveryQueue_AddToWishlist"),
            onOptionsButton: F,
            onOKActionDescription: (0, U.Xx)("#DiscoveryQueue_ViewStorePage"),
            onOKButton: Q,
            onSecondaryActionDescription: b
              ? (0, U.Xx)("#DiscoveryQueue_Undo")
              : (0, U.Xx)("#DiscoveryQueue_IgnoreLink"),
            onSecondaryButton: M,
          },
          o.createElement(
            "div",
            { className: (0, X.Z)(J().IgnoredCtn, b && J().Active) },
            o.createElement(
              "div",
              { className: (0, X.Z)(J().IgnoredInfo, b && J().Active) },
              o.createElement(
                "div",
                { className: J().IgnoredTitle },
                (0, U.Xx)("#DiscoveryQueue_Ignored"),
              ),
              o.createElement(
                "div",
                { className: J().IgnoredDescription },
                (0, U.Xx)("#DiscoveryQueue_IgnoredConfirmation"),
              ),
              o.createElement(
                i.s,
                {
                  className: (0, X.Z)(J().QueueButton, J().UndoIgnoreButton),
                  onClick: M,
                },
                w &&
                  o.createElement(A.VC, {
                    button: z.FX.X,
                    type: A.yV.Light,
                    size: A.iM.Medium,
                  }),
                (0, U.Xx)("#DiscoveryQueue_Undo"),
              ),
            ),
          ),
          o.createElement(
            i.s,
            { className: J().AppVideoCtn },
            o.createElement(
              "div",
              { className: (0, X.Z)(J().WishlistBadge, y && J().Active) },
              (0, U.Xx)("#Sale_OnWishlist"),
            ),
            R &&
              o.createElement(u.sC, {
                className: J().DeckVerifiedLogo,
                category: g.GetPlatforms().steam_deck_compat_category,
              }),
            o.createElement(W.S, {
              key: t,
              storeItem: g,
              bCurrentlyActive: c,
              bMainCapOnly: b,
              autoplayCheckboxPosition: "top",
            }),
          ),
          o.createElement(
            i.s,
            { className: J().AppDetailsCtn },
            o.createElement(
              "div",
              { className: J().AppDetailsCtnTop },
              o.createElement(
                "div",
                { className: J().AppDetailsHeader },
                P &&
                  o.createElement("img", {
                    className: J().AppLibraryHero,
                    src: P,
                  }),
                o.createElement(
                  "div",
                  { className: J().RightColumn },
                  o.createElement(
                    "div",
                    { className: J().AppName },
                    g.GetName(),
                  ),
                  o.createElement(D.Jc, {
                    bSingleLineMode: !0,
                    info: { id: e.appID, type: (0, ee.Y)(g.GetAppType()) },
                  }),
                ),
              ),
              o.createElement(he, { rgTagNames: T }),
              o.createElement(
                "div",
                { className: J().AppReviews },
                o.createElement(E.Yb, {
                  bShowTooltip: !0,
                  bTruncateTotalReviews: _,
                  appInfo: { id: e.appID, type: (0, ee.Y)(g.GetAppType()) },
                }),
              ),
              o.createElement(
                "div",
                { className: J().AppRelevanceCtn },
                o.createElement(K.s, {
                  bShowAvatars: !_,
                  storeItem: g,
                  appID: t,
                }),
              ),
            ),
            !w &&
              o.createElement(
                "div",
                { className: J().AppActionButtonsCtn },
                o.createElement(
                  "div",
                  { className: J().AppActionJustButtonsCtn },
                  Boolean(C?.demo_appid) &&
                    o.createElement(q.f, {
                      info: {
                        id: g.GetAppID(),
                        type: (0, v.Ds)(g.GetStoreItemType(), g.GetAppType()),
                      },
                      className: (0, X.Z)(
                        J().QueueButton,
                        J().Primary,
                        J().Launch,
                      ),
                    }),
                  o.createElement(
                    "a",
                    {
                      className: (0, X.Z)(J().QueueButton, J().Primary),
                      href: _e(g.GetStorePageURL() + x, k),
                    },
                    G &&
                      o.createElement(A.VC, {
                        button: z.FX.Y,
                        type: A.yV.Light,
                        size: A.iM.Medium,
                        additionalClassName: J().YGlyph,
                      }),
                    " ",
                    (0, U.Xx)("#DiscoveryQueue_ViewStorePage"),
                  ),
                  o.createElement(
                    "div",
                    { className: J().ButtonsRowWrap },
                    o.createElement(
                      i.s,
                      { focusable: !0, className: J().QueueButton, onClick: F },
                      G &&
                        o.createElement(A.VC, {
                          button: z.FX.Y,
                          type: A.yV.Light,
                          size: A.iM.Medium,
                          additionalClassName: J().YGlyph,
                        }),
                      " ",
                      y
                        ? (0, U.Xx)("#DiscoveryQueue_RemoveFromWishlist")
                        : (0, U.Xx)("#DiscoveryQueue_AddToWishlist"),
                    ),
                    o.createElement(
                      i.s,
                      { focusable: !0, className: J().QueueButton, onClick: M },
                      (0, U.Xx)("#DiscoveryQueue_IgnoreLink"),
                    ),
                  ),
                ),
              ),
          ),
        );
      }
      function he(e) {
        const { rgTagNames: t } = e,
          n = o.useMemo(
            () =>
              t.sort((e, t) =>
                p.jg.Get().GetRecommendedTags().has(e.tagid) &&
                p.jg.Get().GetRecommendedTags().has(t.tagid)
                  ? 0
                  : p.jg.Get().GetRecommendedTags().has(e.tagid)
                    ? 1
                    : -1,
              ),
            [t],
          );
        return o.createElement(
          "div",
          { className: J().AppTagsCtn },
          n.map((e) =>
            o.createElement(
              "div",
              { key: e.name, className: J().TagEntry },
              e.name,
            ),
          ),
        );
      }
      function _e(e, t) {
        const n = (0, m.B1)(e, t);
        return (0, ne.bk)(n);
      }
      function ge(e) {
        const {
            nItemHeight: t,
            nItemWidth: n,
            eStoreDiscoveryQueueType: s,
            fnCloseModal: r,
            summaryCardIndex: a,
            focused: c,
            fnLoadNextQueue: u,
            storePageFilter: m,
            fnDisplaySummaryReward: d,
            viewedAppCount: h,
          } = e,
          _ = { width: n || void 0, height: t || void 0 },
          [g, y] = o.useState(),
          v = (0, f.id)(),
          S = c && null == g;
        o.useEffect(() => {
          S &&
            p.jg
              .Get()
              .HintLoad()
              .then(() => {
                j.Wb.Get().LoadSkippedApps(s, m).then(y);
              });
        }, [S, s, m]);
        const I = o.useMemo(
            () =>
              g?.reduce(
                (e, t) => (p.jg.Get().BIsGameWishlisted(t) ? e + 1 : e),
                0,
              ) || 0,
            [g],
          ),
          E = o.useMemo(
            () =>
              g?.reduce(
                (e, t) => (p.jg.Get().BIsGameIgnored(t) ? e + 1 : e),
                0,
              ) || 0,
            [g],
          ),
          [D, A] = o.useState(!1),
          b = (0, V.bJ)(),
          T = (0, j.hc)(s, m),
          w = (0, H.T)("DiscoveryQueueSummary"),
          G = o.useCallback(() => {
            A(!0),
              u(!1).then(() => {
                w?.token?.reason || A(!0);
              });
          }, [w?.token?.reason, u]);
        return o.createElement(
          l.eh,
          {
            style: _,
            className: (0, X.Z)(
              J().SummaryCtn,
              J().DiscoveryQueueApp,
              c && J().Focused,
            ),
            onOptionsActionDescription: (0, U.Xx)(
              "#DiscoveryQueue_ViewWishlist",
            ),
            onOptionsButton: () => {
              window.location.href = _e(f.De.STORE_BASE_URL + "wishlist", b);
            },
            onOKActionDescription: (0, U.Xx)("#Button_Continue"),
            onOKButton: G,
            onCancelActionDescription: (0, U.Xx)("#ActionButtonLabelDone"),
            onCancelButton: () => r && r(),
          },
          o.createElement(
            "div",
            { className: J().SummaryContentCtn },
            o.createElement(
              "div",
              { className: J().SummaryTitle },
              (0, U.Xx)("#DiscoveryQueue_SummaryTitle"),
            ),
            o.createElement(
              "div",
              { className: J().YourStats },
              (0, U.Xx)("#DiscoveryQueue_YourStats"),
            ),
            o.createElement(
              i.s,
              { "flow-children": "row", className: J().SummaryGrid },
              o.createElement(
                "div",
                { className: J().GridItem },
                o.createElement(
                  "div",
                  { className: J().GridTitle },
                  (0, U.Xx)("#DiscoveryQueue_ViewedCaps"),
                ),
                o.createElement(
                  "div",
                  { className: J().GridNumber },
                  h.toLocaleString(),
                ),
                o.createElement(
                  "div",
                  { className: J().GridSubTitle },
                  (0, U.Xx)("#DiscoveryQueue_Titles"),
                ),
              ),
              o.createElement(
                "div",
                { className: J().GridItem },
                o.createElement(
                  "div",
                  { className: J().GridTitle },
                  (0, U.Xx)("#DiscoveryQueue_WishlistedCaps"),
                ),
                o.createElement(
                  "div",
                  { className: J().GridNumber },
                  I.toLocaleString(),
                ),
                o.createElement(
                  "a",
                  {
                    className: (0, X.Z)(J().GridSubTitle, J().TextLink),
                    href: _e(f.De.STORE_BASE_URL + "wishlist", b),
                  },
                  (0, U.Xx)("#DiscoveryQueue_ViewWishlist"),
                ),
              ),
              o.createElement(
                "div",
                { className: J().GridItem },
                o.createElement(
                  "div",
                  { className: J().GridTitle },
                  (0, U.Xx)("#DiscoveryQueue_IgnoredCaps"),
                ),
                o.createElement(
                  "div",
                  { className: J().GridNumber },
                  E.toLocaleString(),
                ),
                o.createElement(
                  "a",
                  {
                    className: (0, X.Z)(J().GridSubTitle, J().TextLink),
                    href: _e(f.De.STORE_BASE_URL + "account/notinterested", b),
                  },
                  (0, U.Xx)("#DiscoveryQueue_ViewIgnored"),
                ),
              ),
            ),
            !v &&
              o.createElement(
                i.s,
                { className: J().SummaryActionButtonsCtn },
                o.createElement(
                  i.s,
                  {
                    className: (0, X.Z)(J().QueueButton, J().Wide),
                    onClick: r,
                  },
                  (0, U.Xx)("#ActionButtonLabelDone"),
                ),
                !T &&
                  o.createElement(
                    i.s,
                    {
                      className: (0, X.Z)(
                        D && J().Disabled,
                        J().QueueButton,
                        J().Primary,
                        J().Wide,
                      ),
                      onClick: G,
                    },
                    D ? (0, U.Xx)("#Loading") : (0, U.Xx)("#Button_Continue"),
                  ),
              ),
          ),
          Boolean(!T) &&
            o.createElement(
              o.Fragment,
              null,
              Boolean(C.Get().BIsSaleActive()) &&
                o.createElement(fe, { focused: c }),
              Boolean(d) && d(a + 1),
            ),
        );
      }
      function fe(e) {
        const { focused: t } = e,
          [n, s] = o.useState(null),
          r = ((0, f.id)(), C.Get().BIsSaleActive() && n);
        o.useEffect(() => {
          t &&
            C.Get().BIsSaleActive() &&
            !n &&
            C.Get()
              .GetNumTradingCardsEarned()
              .then((e) => {
                1 === e.eresult && s(e);
              });
        }, [t, n]);
        const a = (0, V.bJ)(),
          l = _e(f.De.STORE_BASE_URL + "sale/summersaletradingcards", a);
        return r
          ? o.createElement(
              i.s,
              { className: J().TradingCardCtn },
              o.createElement("img", {
                className: J().TradingCardImage,
                src:
                  f.De.MEDIA_CDN_URL +
                  "store/promo/summer2022/card_stack.png?v-1",
              }),
              o.createElement(
                i.s,
                { className: J().TradingCardColumn },
                o.createElement(
                  "div",
                  { className: J().TradingCardText },
                  (0, U.yu)(
                    n?.earned_today > 0
                      ? "#DiscoveryQueue_TradingCardsEarned_Today"
                      : "#DiscoveryQueue_TradingCards_Desc",
                    o.createElement("a", { className: J().TextLink, href: l }),
                  ),
                ),
              ),
            )
          : null;
      }
    },
    40735: (e, t, n) => {
      "use strict";
      n.d(t, { g: () => l });
      var s = n(47427),
        o = n(40057),
        r = n(74840),
        a = n(77151),
        i = n(65255);
      function l() {
        const [e, t] = (0, s.useState)(!i.L7.logged_in),
          [n] = (0, a.LA)(),
          l = (0, o.bY)();
        return (
          (0, s.useEffect)(() => {
            e || (r.Wb.Init(l), t(!0));
          }, [e, l]),
          e && !n
        );
      }
    },
  },
]);
