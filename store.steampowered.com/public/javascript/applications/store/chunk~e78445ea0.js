/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [3238],
  {
    4114: (e) => {
      e.exports = {
        SnoozeContainer: "friendsnooze_SnoozeContainer_3EzTy",
        SnoozeZ: "friendsnooze_SnoozeZ_1DArl",
        none: "friendsnooze_none_2k961",
        Medium: "friendsnooze_Medium_3Gk3l",
        Large: "friendsnooze_Large_dTohL",
        Dim: "friendsnooze_Dim_2TzRZ",
        Z1: "friendsnooze_Z1_1OyrT",
        Z2: "friendsnooze_Z2_1mx4k",
        Z3: "friendsnooze_Z3_1ltvK",
        hoverParent: "friendsnooze_hoverParent_3ID9R",
        animating: "friendsnooze_animating_3CzX5",
        Snoring: "friendsnooze_Snoring_YuCwj",
      };
    },
    48759: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        statusAndName: "personanameandstatus_statusAndName_3n8q8",
        threeLines: "personanameandstatus_threeLines_3ms2P",
        blocked: "personanameandstatus_blocked_3_oRk",
        richPresenceLabel: "personanameandstatus_richPresenceLabel_1k82N",
        playerName: "personanameandstatus_playerName_r62qz",
        playerNickname: "personanameandstatus_playerNickname_3T-9P",
        playerNicknameBracket:
          "personanameandstatus_playerNicknameBracket_2aXev",
        richPresenceContainer:
          "personanameandstatus_richPresenceContainer_2nrSd",
        gameName: "personanameandstatus_gameName_2wpap",
        NoMask: "personanameandstatus_NoMask_2J0IS",
        twoLine: "personanameandstatus_twoLine_27M2G",
        DNDContainer: "personanameandstatus_DNDContainer_12iWK",
        partyBeaconJoin: "personanameandstatus_partyBeaconJoin_1K_OI",
        hidePersona: "personanameandstatus_hidePersona_3meBu",
        compactView: "personanameandstatus_compactView_34CCB",
        noContextMenu: "personanameandstatus_noContextMenu_2317W",
        gameIsPrivateIcon: "personanameandstatus_gameIsPrivateIcon_1FPaN",
        PendingPersona: "personanameandstatus_PendingPersona_ifetn",
      };
    },
    82906: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        PersonaStatusIcon: "personastatusicons_PersonaStatusIcon_1YsWj",
        MobilePhoneIcon: "personastatusicons_MobilePhoneIcon_3pGV8",
      };
    },
    92902: (e) => {
      e.exports = {
        AppCarouselTrailerCtn: "appcarouseltrailer_AppCarouselTrailerCtn_3hJp_",
        AutoplayCheckbox: "appcarouseltrailer_AutoplayCheckbox_36Ep1",
        AppVideo: "appcarouseltrailer_AppVideo_2ykD7",
        AppMainCap: "appcarouseltrailer_AppMainCap_2SJkc",
        PlayButton: "appcarouseltrailer_PlayButton_2b7SF",
      };
    },
    59666: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        DiscoveryQueueCarouselCtn:
          "discoveryqueuewizard_DiscoveryQueueCarouselCtn_1GFC6",
        TextLink: "discoveryqueuewizard_TextLink_1hQVC",
        DiscoveryQueueCarousel:
          "discoveryqueuewizard_DiscoveryQueueCarousel_2swWH",
        DiscoveryQueueApp: "discoveryqueuewizard_DiscoveryQueueApp_2o_YH",
        Focused: "discoveryqueuewizard_Focused_2Xpm2",
        DiscoveryQueueWrapper:
          "discoveryqueuewizard_DiscoveryQueueWrapper_1s3BJ",
        revealDiscoveryQueueWrapper:
          "discoveryqueuewizard_revealDiscoveryQueueWrapper_308QK",
        AppVideoCtn: "discoveryqueuewizard_AppVideoCtn_2XCS5",
        WishlistBadge: "discoveryqueuewizard_WishlistBadge_2vb6r",
        Active: "discoveryqueuewizard_Active_2EDE0",
        DeckVerifiedLogo: "discoveryqueuewizard_DeckVerifiedLogo_2mYU2",
        AppDetailsCtn: "discoveryqueuewizard_AppDetailsCtn_2E1O4",
        AppDetailsCtnTop: "discoveryqueuewizard_AppDetailsCtnTop_3LnWP",
        AppDetailsHeader: "discoveryqueuewizard_AppDetailsHeader_1Qn-x",
        AppLibraryHero: "discoveryqueuewizard_AppLibraryHero_1TDRh",
        RightColumn: "discoveryqueuewizard_RightColumn_35mWv",
        AppName: "discoveryqueuewizard_AppName_3KC4W",
        AppTagsCtn: "discoveryqueuewizard_AppTagsCtn_1t4JV",
        TagEntry: "discoveryqueuewizard_TagEntry_UNDKT",
        AppReviews: "discoveryqueuewizard_AppReviews_2lVXS",
        RelevantCtn: "discoveryqueuewizard_RelevantCtn_FGuCn",
        RelevantColumn: "discoveryqueuewizard_RelevantColumn_1HcOX",
        RelevantItem: "discoveryqueuewizard_RelevantItem_3I77j",
        RelevantCheck: "discoveryqueuewizard_RelevantCheck_qKF9P",
        IgnoreLink: "discoveryqueuewizard_IgnoreLink_2OinP",
        AppActionButtonsCtn: "discoveryqueuewizard_AppActionButtonsCtn_2bIsf",
        AppActionJustButtonsCtn:
          "discoveryqueuewizard_AppActionJustButtonsCtn_10l0M",
        QueueButton: "discoveryqueuewizard_QueueButton_19cHb",
        ButtonsRowWrap: "discoveryqueuewizard_ButtonsRowWrap_1XcPE",
        MainCapBlur: "discoveryqueuewizard_MainCapBlur_2TOx2",
        DiscoveryQueuePlaceholder:
          "discoveryqueuewizard_DiscoveryQueuePlaceholder_3ZUUI",
        IgnoredCtn: "discoveryqueuewizard_IgnoredCtn_2e3_o",
        IgnoredInfo: "discoveryqueuewizard_IgnoredInfo_130E6",
        IgnoredTitle: "discoveryqueuewizard_IgnoredTitle_1QXC5",
        IgnoredDescription: "discoveryqueuewizard_IgnoredDescription_3RVP5",
        UndoIgnoreButton: "discoveryqueuewizard_UndoIgnoreButton_wC564",
        AppDesc: "discoveryqueuewizard_AppDesc_3bAqJ",
        YGlyph: "discoveryqueuewizard_YGlyph_1SpsG",
        SummaryContentCtn: "discoveryqueuewizard_SummaryContentCtn_M522o",
        SummaryTitle: "discoveryqueuewizard_SummaryTitle_W4ekX",
        YourStats: "discoveryqueuewizard_YourStats_8PO3T",
        SummaryGrid: "discoveryqueuewizard_SummaryGrid_1b0jZ",
        GridItem: "discoveryqueuewizard_GridItem_12Sab",
        GridTitle: "discoveryqueuewizard_GridTitle_1vnt8",
        GridNumber: "discoveryqueuewizard_GridNumber_-Q4Ax",
        GridSubTitle: "discoveryqueuewizard_GridSubTitle_1FQzN",
        SummaryActionButtonsCtn:
          "discoveryqueuewizard_SummaryActionButtonsCtn_1hRNc",
        TopBarCtn: "discoveryqueuewizard_TopBarCtn_24gmm",
        revealTopBarCtn: "discoveryqueuewizard_revealTopBarCtn_2Gt6G",
        TopMargin: "discoveryqueuewizard_TopMargin_2xo1m",
        BotomBarCtn: "discoveryqueuewizard_BotomBarCtn_YW9Pr",
        LearnMoreLink: "discoveryqueuewizard_LearnMoreLink_3bCDZ",
        ControlsCtn: "discoveryqueuewizard_ControlsCtn_3UbRl",
        Disabled: "discoveryqueuewizard_Disabled_1yh4o",
        Primary: "discoveryqueuewizard_Primary_1ZYKE",
        Launch: "discoveryqueuewizard_Launch_uZjq4",
        Wide: "discoveryqueuewizard_Wide_SD-xU",
        QueueNavArrow: "discoveryqueuewizard_QueueNavArrow_1kgdo",
        Enable: "discoveryqueuewizard_Enable_1hqwM",
        RightArrow: "discoveryqueuewizard_RightArrow_1ZHCC",
        LeftArrow: "discoveryqueuewizard_LeftArrow_3Bctd",
        ReleventSimilarAppsCtn:
          "discoveryqueuewizard_ReleventSimilarAppsCtn_3wqiW",
        RecommendingCuratorsCtn:
          "discoveryqueuewizard_RecommendingCuratorsCtn_II031",
        WhyRelevant: "discoveryqueuewizard_WhyRelevant_WBWfZ",
        SimilarAppCtn: "discoveryqueuewizard_SimilarAppCtn_2oeoS",
        SimilarAppImg: "discoveryqueuewizard_SimilarAppImg_2eNyY",
        SimilarAppText: "discoveryqueuewizard_SimilarAppText_3MS2G",
        FriendAvatarsCtn: "discoveryqueuewizard_FriendAvatarsCtn_kOfo-",
        RelevantTextBold: "discoveryqueuewizard_RelevantTextBold_2FiP4",
        AppDescription: "discoveryqueuewizard_AppDescription_Kzj5I",
        TradingCardCtn: "discoveryqueuewizard_TradingCardCtn_36Qbj",
        TradingCardImage: "discoveryqueuewizard_TradingCardImage_3wa0d",
        Bold: "discoveryqueuewizard_Bold_1SxI5",
        FriendBlockCtn: "discoveryqueuewizard_FriendBlockCtn_2a8Fg",
        PersonaStatus: "discoveryqueuewizard_PersonaStatus_3HMhz",
        ProgressCtn: "discoveryqueuewizard_ProgressCtn_1IvtA",
        ProgressDot: "discoveryqueuewizard_ProgressDot_2f92W",
        ProgressDotActive: "discoveryqueuewizard_ProgressDotActive_2oIov",
        ProgressDotHidden: "discoveryqueuewizard_ProgressDotHidden_n2UAY",
        DiscoveryQueueName: "discoveryqueuewizard_DiscoveryQueueName_1hDU6",
      };
    },
    59983: (e, t, n) => {
      "use strict";
      n.d(t, { _: () => i });
      var o = n(89526),
        r = n(85246),
        s = n(4306);
      const a = (e) => null != e;
      function i(e, t) {
        const [n, r] = o.useState(window.localStorage.getItem(e)),
          i = o.useRef(e);
        o.useEffect(() => {
          e != i.current &&
            (r(window.localStorage.getItem(e)), (i.current = e));
        }, [e]);
        const c = e == i.current ? n : window.localStorage.getItem(e);
        let u = t;
        return (
          a(c) &&
            (u = a(t)
              ? "boolean" == typeof t
                ? t.constructor("false" !== c)
                : t.constructor(c)
              : c),
          (0, s.Qg)(l.Get().GetLocalStoreChangeCallback(e), r),
          [
            u,
            (t) => {
              const n = a(t) ? String(t) : null;
              window.localStorage.setItem(e, n),
                r(n),
                l.Get().GetLocalStoreChangeCallback(e).Dispatch(n);
            },
          ]
        );
      }
      class l {
        constructor() {
          this.m_mapChangeCallback = new Map();
        }
        GetLocalStoreChangeCallback(e) {
          return (
            this.m_mapChangeCallback.has(e) ||
              this.m_mapChangeCallback.set(e, new r.pB()),
            this.m_mapChangeCallback.get(e)
          );
        }
        static Get() {
          return l.s_Singleton || (l.s_Singleton = new l()), l.s_Singleton;
        }
      }
    },
    95501: (e, t, n) => {
      "use strict";
      n.d(t, {
        C: () => v,
        Nl: () => g,
        Ud: () => y,
        a6: () => C,
        x$: () => h,
      });
      var o = n(33940),
        r = n(42735),
        s = n(67328),
        a = n(94738),
        i = n(59067),
        l = n(66262),
        c = n(5615),
        u = n(32765),
        d = n(52868),
        m = n.n(d),
        p = n(66216),
        _ = n(54671);
      function h(e) {
        return (0, c.useQuery)(
          C.Get().GetFriendsGameplayInfoKey(e),
          () => C.Get().LoadFriendsGameplayInfo(e),
          { enabled: u.L7.logged_in },
        );
      }
      function v(e) {
        return (0, c.useQuery)(
          C.Get().GetFriendsRecommendedAppKey(e),
          () => C.Get().LoadFriendsRecommendedApp(e),
          { enabled: u.L7.logged_in },
        );
      }
      function y(e) {
        return (0, c.useQuery)(
          C.Get().GetStoreRelevanceDataAppKey(e),
          () => C.Get().LoadStoreRelevanceData(e),
          { enabled: u.L7.logged_in },
        );
      }
      function g() {
        const { data: e } = (0, p.cs)("App Relevance Store Top Sellers", {
          sort: l.h_.k_EStoreQuerySort_Global24hSalesRank,
          start: 0,
          count: 100,
        });
        return e;
      }
      class C {
        static Init(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            (C.Get().m_transport = e.GetServiceTransport()),
              (C.Get().m_DynamicUserStore = yield _.jg.Get().HintLoad());
          });
        }
        static BIsLoaded() {
          var e;
          return Boolean(
            C.Get().m_transport &&
              (null === (e = C.Get().m_DynamicUserStore) || void 0 === e
                ? void 0
                : e.BIsLoaded()),
          );
        }
        static Get() {
          return (
            this.s_AppRelevanceStore || (this.s_AppRelevanceStore = new C()),
            this.s_AppRelevanceStore
          );
        }
        GetTransport() {
          return this.m_transport;
        }
        GetDynamicUserStore() {
          return this.m_DynamicUserStore;
        }
        GetFriendsGameplayInfoKey(e) {
          return `GetFriendsGameplayInfoKey_${e}`;
        }
        LoadFriendsGameplayInfo(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const t = s.gA.Init(a.$_);
            t.Body().set_appid(e);
            const n = yield a.lk.GetFriendsGameplayInfo(this.m_transport, t),
              o = n.GetEResult();
            if (o == r.s.k_EResultOK) return n.Body().toObject();
            throw `Error ${o} failed to call GetFriendsGameplayInfo ${e}`;
          });
        }
        GetFriendsRecommendedAppKey(e) {
          return `FriendsRecommendedAppKey_${e}`;
        }
        LoadFriendsRecommendedApp(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const t = s.gA.Init(i.tR);
            t.Body().set_appid(e);
            const n = yield i.fG.GetFriendsRecommendedApp(this.m_transport, t),
              o = n.GetEResult();
            if (o == r.s.k_EResultOK) return n.Body().toObject();
            throw `Error ${o} failed to call GetFriendsRecommendedApp ${e}`;
          });
        }
        GetStoreRelevanceDataAppKey(e) {
          return `StoreRelevanceDataAppKey_${e}`;
        }
        LoadStoreRelevanceData(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            let t = { appid: e },
              n = { arrSimilarPlayedApps: [], bRecommendedByIR: !1 };
            const o = (yield m().get(
              `${u.De.STORE_BASE_URL}explore/ajaxgetstorerelevancedata`,
              { params: t, withCredentials: !0, timeout: 1e4 },
            )).data;
            return (
              o &&
                o.success == r.s.k_EResultOK &&
                (o.results.similar_played_apps &&
                  (n.arrSimilarPlayedApps = o.results.similar_played_apps.map(
                    (e) => ({
                      appid: e.appid,
                      playtimeForever: e.playtime_forever,
                    }),
                  )),
                o.results.recommended_by_ir && (n.bRecommendedByIR = !0)),
              n
            );
          });
        }
      }
      C.s_AppRelevanceStore = null;
    },
    82588: (e, t, n) => {
      "use strict";
      n.d(t, {
        GD: () => C,
        M_: () => y,
        Pf: () => v,
        Wb: () => g,
        ZP: () => S,
        hc: () => f,
      });
      var o = n(33940),
        r = n(50265),
        s = n(89526),
        a = n(42735),
        i = n(67328),
        l = n(93067),
        c = n(74158),
        u = n(85246),
        d = n(4306),
        m = n(81349),
        p = n(32765);
      function _(e, t) {
        const n = null == t ? void 0 : t.nSaleTagID,
          o = null == t ? void 0 : t.strContentHubType,
          r = null == t ? void 0 : t.strContentHubCategory,
          s = null == t ? void 0 : t.nContentHubTagID,
          a = null == t ? void 0 : t.bDiscountsOnly,
          i = null == t ? void 0 : t.bPrioritizeDiscounts,
          l = null == t ? void 0 : t.strOptInName,
          c = null == t ? void 0 : t.nOptInTagID,
          u = null == t ? void 0 : t.nPruneTagID;
        let d = e.toString();
        return (
          n
            ? (d += "_" + n)
            : o &&
              ((d += "_" + o),
              "category" === o && r
                ? (d += "_" + r)
                : "tags" === o && s && (d += "_" + s),
              a ? (d += "_d") : i && (d += "_p"),
              l && c && u && (d += "_" + l)),
          d
        );
      }
      function h(e) {
        const t = null == e ? void 0 : e.nSaleTagID,
          n = null == e ? void 0 : e.strContentHubType,
          o = null == e ? void 0 : e.strContentHubCategory,
          r = null == e ? void 0 : e.nContentHubTagID,
          s = null == e ? void 0 : e.bDiscountsOnly,
          a = null == e ? void 0 : e.bPrioritizeDiscounts,
          i = null == e ? void 0 : e.strOptInName,
          c = null == e ? void 0 : e.nOptInTagID,
          u = null == e ? void 0 : e.nPruneTagID,
          d = null == e ? void 0 : e.bOptInOnly,
          m = new l._v();
        if (t) {
          const e = new l.KQ();
          e.set_sale_tagid(t), m.set_sale_filter(e);
        } else if (n) {
          const e = new l.AY();
          if (
            (e.set_hub_type(n),
            "category" === n
              ? e.set_hub_category(o)
              : "tags" === n && e.set_hub_tagid(r),
            s
              ? e.set_discount_filter(
                  l.Li.k_EContentHubDiscountFilterType_DiscountsOnly,
                )
              : a &&
                e.set_discount_filter(
                  l.Li.k_EContentHubDiscountFilterType_PrioritizeDiscounts,
                ),
            i)
          ) {
            const t = new l.q8();
            t.set_name(i),
              t.set_optin_tagid(c),
              t.set_prune_tagid(u),
              t.set_optin_only(d),
              e.set_optin(t);
          }
          m.set_content_hub_filter(e);
        }
        return m;
      }
      function v(e) {
        return (0, m.GM)(JSON.stringify(e));
      }
      function y(e) {
        return JSON.parse((0, m.nh)(e));
      }
      class g {
        GetTotalSkippedAppsForDiscoveryQueue(e, t) {
          const n = _(e, t);
          return this.m_mapDiscoveryQueues.get(n).skipped;
        }
        GetNumAppsSeenForDiscoveryQueue(e, t) {
          const n = _(e, t);
          return this.m_mapSkippedAppCount.get(n) || 0;
        }
        GetSkippedAppKey(e, t, n) {
          return `${e}_${_(t, n)}`;
        }
        GetInClientCompletedQueues(e, t) {
          const n = _(e, t);
          return this.m_mapInClientCompleted.get(n) || 0;
        }
        GetInClientCompletedQueuesCallback(e, t) {
          const n = _(e, t);
          return (
            this.m_mapInClientCompletedCallback.has(n) ||
              this.m_mapInClientCompletedCallback.set(n, new u.pB()),
            this.m_mapInClientCompletedCallback.get(n)
          );
        }
        GetExhaustedCallback(e, t) {
          const n = _(e, t);
          return (
            this.m_mapExhuastedCallback.has(n) ||
              this.m_mapExhuastedCallback.set(n, new u.pB()),
            this.m_mapExhuastedCallback.get(n)
          );
        }
        BIsExhausted(e, t) {
          const n = _(e, t);
          return this.m_setExhuasted.has(n);
        }
        LoadDiscoveryQueue(e, t, n) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const o = _(e, n),
              r = i.gA.Init(c.cJ);
            r.Body().set_queue_type(e),
              r.Body().set_country_code(p.De.COUNTRY || "US"),
              r.Body().set_rebuild_queue(t),
              r.Body().set_rebuild_queue_if_stale(!0),
              (e !== c.lV.k_EStoreDiscoveryQueueTypeComingSoon &&
                e !== c.lV.k_EStoreDiscoveryQueueTypeRecommendedComingSoon) ||
                r.Body().settings().set_include_coming_soon(!0),
              (Boolean(null == n ? void 0 : n.nSaleTagID) ||
                Boolean(null == n ? void 0 : n.strContentHubType)) &&
                r.Body().set_store_page_filter(h(n));
            const s = yield c.d6.GetDiscoveryQueue(this.m_transport, r),
              l = s.GetEResult();
            if (l == a.s.k_EResultOK) {
              const t = s.Body().toObject();
              this.m_mapDiscoveryQueues.set(o, t),
                t.exhausted
                  ? this.m_setExhuasted.has(o) ||
                    (this.m_setExhuasted.add(o),
                    this.GetExhaustedCallback(e, n).Dispatch(!0))
                  : this.m_setExhuasted.has(o) &&
                    (this.m_setExhuasted.delete(o),
                    this.GetExhaustedCallback(e, n).Dispatch(!1)),
                this.m_mapSkippedAppCount.set(o, t.skipped || 0);
            } else
              console.warn(
                "Error",
                l,
                "failed to get discovery queue type",
                e,
                "key",
                o,
              );
            return l;
          });
        }
        GetDiscoveryQueueAppsOfType(e, t, n) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const o = _(e, n);
            return (
              (!t && this.m_mapDiscoveryQueues.has(o)) ||
                (yield this.LoadDiscoveryQueue(e, t, n)),
              {
                appids: this.m_mapDiscoveryQueues.get(o).appids,
                exhausted: this.m_mapDiscoveryQueues.get(o).exhausted,
              }
            );
          });
        }
        SkipDiscoveryQueueItem(e, t, n) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            _(t, n);
            const o = this.GetSkippedAppKey(e, t, n);
            if (!this.m_mapSkippedApps.has(o)) {
              const r = _(t, n),
                s = this.m_mapDiscoveryQueues.get(r).appids,
                l = s[s.length - 1] == e;
              this.m_mapSkippedApps.set(o, !0),
                this.m_mapSkippedAppCount.set(
                  r,
                  (this.m_mapSkippedAppCount.get(r) || 0) + 1,
                );
              const u = i.gA.Init(c.Ew);
              u.Body().set_appid(e),
                u.Body().set_queue_type(t),
                (Boolean(null == n ? void 0 : n.nSaleTagID) ||
                  Boolean(null == n ? void 0 : n.strContentHubType)) &&
                  u.Body().set_store_page_filter(h(n));
              const d = (yield c.d6.SkipDiscoveryQueueItem(
                this.m_transport,
                u,
              )).GetEResult();
              d != a.s.k_EResultOK && d != a.s.k_EResultDuplicateRequest
                ? (console.warn("Error", d, "failed to skip appid ", e),
                  this.m_mapSkippedApps.delete(o))
                : l && this.MarkDiscoveryQueueCompleted(t, n);
            }
          });
        }
        MarkDiscoveryQueueCompleted(e, t) {
          const n = _(e, t);
          if (this.m_mapInClientCompleted.has(n)) {
            const o = this.m_mapInClientCompleted.get(n) + 1;
            this.m_mapInClientCompleted.set(n, o),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(o);
          } else
            this.m_mapInClientCompleted.set(n, 0),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(0);
        }
        LoadSkippedApps(e, t) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            _(e, t);
            const n = i.gA.Init(c.iM);
            n.Body().set_steamid(p.L7.steamid),
              n.Body().set_queue_type(e),
              (Boolean(null == t ? void 0 : t.nSaleTagID) ||
                Boolean(null == t ? void 0 : t.strContentHubType)) &&
                n.Body().set_store_page_filter(h(t));
            const o = yield c.d6.GetDiscoveryQueueSkippedApps(
              this.m_transport,
              n,
            );
            return o.GetEResult() === a.s.k_EResultOK
              ? o.Body().appids() || []
              : (console.warn(
                  "Failed to retrieve skipped apps for discovery queue.",
                  e,
                  t,
                  o.GetEResult(),
                ),
                []);
          });
        }
        static Init(e) {
          g.Get().m_transport = e;
        }
        static BHasTransport() {
          return Boolean(g.Get().m_transport);
        }
        static Get() {
          return (
            this.s_DiscoveryQueueStore ||
              (this.s_DiscoveryQueueStore = new g()),
            this.s_DiscoveryQueueStore
          );
        }
        constructor() {
          (this.m_mapDiscoveryQueues = new Map()),
            (this.m_mapSkippedApps = new Map()),
            (this.m_mapSkippedAppCount = new Map()),
            (this.m_mapInClientCompleted = new Map()),
            (this.m_mapInClientCompletedCallback = new Map()),
            (this.m_setExhuasted = new Set()),
            (this.m_mapExhuastedCallback = new Map());
        }
      }
      function C(e, t) {
        const [n, o] = (0, s.useState)(
          g.Get().GetInClientCompletedQueues(e, t),
        );
        return (
          (0, d.Qg)(g.Get().GetInClientCompletedQueuesCallback(e, t), o), n
        );
      }
      function f(e, t) {
        const [n, o] = (0, s.useState)(g.Get().BIsExhausted(e, t));
        return (0, d.Qg)(g.Get().GetExhaustedCallback(e, t), o), n;
      }
      function S(e, t) {
        const n = (0, p.kQ)("discovery_queue_name", "application_config");
        return "string" == typeof n && n.length > 0 ? n : "";
      }
      (g.s_DiscoveryQueueStore = null),
        (0, o.gn)([r.LO], g.prototype, "m_mapDiscoveryQueues", void 0);
    },
    66216: (e, t, n) => {
      "use strict";
      n.d(t, { cs: () => v, qX: () => _ });
      var o = n(33940),
        r = n(89526),
        s = n(5615),
        a = n(42735),
        i = n(67328),
        l = n(66262),
        c = n(11195),
        u = n(92616),
        d = n(23801);
      const m = r.createContext({}),
        p = () => r.useContext(m);
      function _(e) {
        let { transport: t, defaultOptions: n, children: o } = e,
          s = r.useMemo(
            () => ({ defaultOptions: n || {}, transport: t }),
            [n, t],
          );
        return r.createElement(m.Provider, { value: s }, o);
      }
      const h = "StoreQueryStore";
      function v(e, t, n, u) {
        let m = p();
        (m && m.transport) ||
          (0, d.X)(!1, "useStoreQuery called outside of a <StoreQueryRoot>");
        let _ = m.defaultOptions;
        const v = r.useMemo(() => {
          let e = [];
          return (
            (null == u ? void 0 : u.content_descriptors_excluded)
              ? (e = u.content_descriptors_excluded)
              : (null == _ ? void 0 : _.content_descriptors_excluded) &&
                (e = _.content_descriptors_excluded),
            Object.assign(Object.assign({}, t), {
              filters: Object.assign(
                { content_descriptors_excluded: e },
                t.filters,
              ),
            })
          );
        }, [t, u, _]);
        let g;
        void 0 !== (null == u ? void 0 : u.override_country_code)
          ? (g = u.override_country_code)
          : void 0 !== (null == _ ? void 0 : _.override_country_code) &&
            (g = _.override_country_code);
        let C = { staleTime: 36e5 };
        (null == u ? void 0 : u.reactQuery) &&
          (C = Object.assign(Object.assign({}, C), u.reactQuery));
        const f = [h, v, n, u];
        return (0, s.useQuery)(
          f,
          () =>
            (function (e, t, n, r, s) {
              return (0, o.mG)(this, void 0, void 0, function* () {
                const o = i.gA.Init(l.e8);
                (0, c.pA)(o),
                  r && (0, c.De)(o, r),
                  s && o.Body().set_override_country_code(s),
                  o.Body().set_query(l.$2.fromObject(n)),
                  o.Body().set_query_name(t);
                const u = yield l.Ax.Query(e, o);
                if (u.GetEResult() != a.s.k_EResultOK)
                  throw `Error executing StoreQuery "${t}", EResult: ${u.GetEResult()}`;
                return new y(u, r);
              });
            })(m.transport, e, v, n, g),
          C,
        );
      }
      class y {
        constructor(e, t) {
          this.ReadResults(e, t);
        }
        GetItems() {
          return this.m_Items;
        }
        GetItemIDs() {
          return this.m_rgItemIDs;
        }
        GetMetadata() {
          return this.m_metadata;
        }
        ReadResults(e, t) {
          this.m_Items ||
            ((0, d.X)(
              0 == e.Body().metadata().start(),
              "Empty item list - expected to start at 0",
            ),
            (this.m_Items = []));
          const n = e.Body().ids() || [];
          if (
            ((this.m_rgItemIDs = n.map((e) => e.toObject())),
            e.Body().store_items())
          )
            for (const n of e.Body().store_items())
              this.m_Items.push(u.Z.Get().ReadItem(n, t));
          this.m_metadata = e.Body().metadata().toObject();
        }
      }
    },
    84291: (e, t, n) => {
      "use strict";
      n.d(t, { S: () => v });
      var o = n(89526),
        r = n(51438),
        s = n(92902),
        a = n.n(s),
        i = n(701),
        l = n(87361),
        c = n(14826),
        u = n(57605),
        d = n(19304),
        m = n(59983),
        p = n(32765);
      const _ = "bGameHighlightAutoplayDisabled",
        h = "discovery-queue-volume";
      function v(e) {
        const { storeItem: t, bCurrentlyActive: n, bMainCapOnly: s } = e,
          v = o.useRef(),
          y = o.useRef(),
          g = o.useRef(),
          [C, f] = o.useState(!0),
          [S, E] = o.useState(!1),
          [I, D] = o.useState(!1),
          [w, b] = (0, m._)(h);
        o.useEffect(() => {
          if (n) {
            const e = (0, l.bG)(_),
              t = !(!e || "true" !== e.toLowerCase());
            f(t), E(!0);
          }
          return () => E(!1);
        }, [n]);
        const A = (0, o.useCallback)(() => {
          y.current &&
            ((y.current.volume = 0.8),
            w > 0
              ? ((y.current.muted = !1), (y.current.volume = w))
              : (y.current.muted = !0));
        }, [w]);
        o.useEffect(A, [A]);
        const G = o.useCallback(() => {
            var e;
            (g.current.style.opacity = "1"),
              v.current &&
                (null === (e = v.current) || void 0 === e || e.pause(),
                (v.current.currentTime = 0),
                (v.current.style.opacity = "0")),
              y.current &&
                (y.current.pause(),
                (y.current.currentTime = 0),
                (y.current.style.opacity = "0"));
          }, []),
          T = o.useCallback((e) => {
            (v.current.style.opacity = "0"),
              y.current &&
                (y.current.play().catch((e) => {
                  console.error("Failed to play main trailer: ", e);
                }),
                (y.current.style.opacity = "1"));
          }, []),
          N = o.useCallback(() => {
            (g.current.style.opacity = "0"),
              v.current &&
                (v.current.play().catch((e) => {
                  console.error("Failed to play microtrailer: ", e);
                }),
                (v.current.style.opacity = "1"),
                (v.current.onended = T)),
              D(!0);
          }, [T]),
          k = o.useCallback(
            (e) => {
              (0, l.I1)(_, String(!e), 3650), f(!e), e || (G(), D(!1));
            },
            [G],
          );
        o.useEffect(() => {
          S && n && !s && !C && v.current && N(), n || G();
        }, [n, s, C, S, N, G]);
        const R = (0, o.useCallback)(
          (e) => {
            const t = e.target,
              n = t.muted ? 0 : t.volume;
            Math.abs(w - n) > Number.EPSILON && b(n);
          },
          [w, b],
        );
        if (!t.BIsVisible()) return null;
        const B = t.GetMicroTrailer();
        let L = null;
        t.GetAllTrailers().BHasTrailers() &&
          (L = t.GetAllTrailers().GetHighlightTrailers()[0]);
        const P = { [e.autoplayCheckboxPosition || "top"]: 0 };
        return o.createElement(
          r.s,
          { className: a().AppCarouselTrailerCtn },
          o.createElement("img", {
            ref: g,
            className: a().AppMainCap,
            src: t.GetAssets().GetMainCapsuleURL(),
          }),
          !s &&
            t.GetAllTrailers().BHasTrailers() &&
            o.createElement(
              o.Fragment,
              null,
              o.createElement(
                "div",
                {
                  onClick: (e) => {
                    e.preventDefault(), e.stopPropagation();
                  },
                },
                o.createElement(u.ji, {
                  controlled: !0,
                  checked: !C,
                  key: t.GetAppID(),
                  className: a().AutoplayCheckbox,
                  style: P,
                  label: (0, c.Xx)("#StoreTrailer_AutoPlayVideos"),
                  onChange: k,
                }),
              ),
              C &&
                !I &&
                o.createElement(
                  r.s,
                  { focusable: !0, onClick: N, className: a().PlayButton },
                  o.createElement(i.GhU, null),
                ),
              B &&
                o.createElement(
                  "video",
                  {
                    className: (0, d.Z)(a().AppVideo, "Microtrailer"),
                    ref: v,
                    preload: "auto",
                    playsInline: !0,
                    muted: !0,
                  },
                  o.createElement("source", {
                    src: B.strWebMURL,
                    type: "video/webm",
                  }),
                  Boolean(!p.De.IN_CLIENT) &&
                    o.createElement("source", {
                      src: B.strMP4URL,
                      type: "video/mp4",
                    }),
                ),
              L &&
                o.createElement(
                  "video",
                  {
                    className: (0, d.Z)(a().AppVideo, "Trailer"),
                    ref: y,
                    onVolumeChange: R,
                    muted: Boolean(w),
                    preload: "auto",
                    playsInline: !0,
                    loop: !0,
                    controls: !0,
                  },
                  o.createElement("source", {
                    src: L.GetTrailer480p().strWebMURL,
                    type: "video/webm",
                  }),
                  Boolean(!p.De.IN_CLIENT) &&
                    o.createElement("source", {
                      src: L.GetTrailer480p().strMP4URL,
                      type: "video/mp4",
                    }),
                ),
            ),
        );
      }
    },
    6645: (e, t, n) => {
      "use strict";
      n.d(t, { s: () => F });
      var o = n(33940),
        r = n(89526),
        s = n(5615),
        a = n(75457),
        i = n(44026),
        l = n(51438),
        c = n(68943),
        u = n(88464),
        d = n(14826),
        m = n(11301),
        p = n(19304),
        _ = n(4114),
        h = n.n(_);
      let v = class extends r.Component {
        static get hoverClass() {
          return h().hoverParent;
        }
        render() {
          const e = this.props,
            { persona: t, animating: n, className: s, size: a, dim: i } = e,
            l = (0, o._T)(e, [
              "persona",
              "animating",
              "className",
              "size",
              "dim",
            ]);
          let c = "";
          return (
            "medium" == a ? (c = h().Medium) : "large" == a && (c = h().Large),
            r.createElement(
              "div",
              Object.assign(
                {
                  className: (0, p.Z)(
                    h().SnoozeContainer,
                    t.online_state,
                    s,
                    n && h().animating,
                    c,
                    i && h().Dim,
                  ),
                },
                l,
              ),
              r.createElement(
                "div",
                { "data-text": "Z", className: (0, p.Z)(h().SnoozeZ, h().Z1) },
                "Z",
              ),
              r.createElement(
                "div",
                { "data-text": "Z", className: (0, p.Z)(h().SnoozeZ, h().Z2) },
                "Z",
              ),
              r.createElement(
                "div",
                { "data-text": "Z", className: (0, p.Z)(h().SnoozeZ, h().Z3) },
                "Z",
              ),
            )
          );
        }
      };
      v = (0, o.gn)([u.Pi], v);
      var y = n(21907),
        g = n(701),
        C = n(82906),
        f = n.n(C),
        S = n(93908);
      const E = (0, u.Pi)((e) => {
        const { persona: t, className: n } = e,
          s = (0, o._T)(e, ["persona", "className"]);
        if (!t) return null;
        if (!t.is_online) return null;
        const a = t.HasStateFlag(y.Fp.k_EPersonaStateFlag_ClientTypeMobile),
          i = t.HasStateFlag(y.Fp.k_EPersonaStateFlag_ClientTypeVR),
          l = !i && t.HasStateFlag(y.Fp.k_EPersonaStateFlag_ClientTypeTenfoot);
        return r.createElement(
          r.Fragment,
          null,
          a &&
            r.createElement(
              "div",
              Object.assign(
                {
                  className: (0, p.Z)(
                    n,
                    f().PersonaStatusIcon,
                    f().MobilePhoneIcon,
                    (0, m.sB)(t),
                  ),
                  title: (0, d.Xx)("#Platform_Hint_Mobile"),
                },
                s,
              ),
              r.createElement(S.Mr, null),
            ),
          i &&
            r.createElement(
              "div",
              Object.assign(
                {
                  className: (0, p.Z)(
                    n,
                    f().PersonaStatusIcon,
                    f().VRIcon,
                    (0, m.sB)(t),
                  ),
                  title: (0, d.Xx)("#Platform_Hint_VR"),
                },
                s,
              ),
              r.createElement(g.VR, null),
            ),
          l &&
            r.createElement(
              "div",
              Object.assign(
                {
                  className: (0, p.Z)(
                    n,
                    f().PersonaStatusIcon,
                    f().BigPictureIcon,
                    (0, m.sB)(t),
                  ),
                  title: (0, d.Xx)("#Platform_Hint_BigPicture"),
                },
                s,
              ),
              r.createElement(g.Ucz, null),
            ),
        );
      });
      var I = n(48759),
        D = n.n(I),
        w = n(32765);
      function b(e) {
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "span",
            { className: D().partyBeaconJoin },
            (0, d.Xx)("#User_WantsToPlay"),
          ),
          " – ",
          e.persona.GetCurrentGameName(),
        );
      }
      let A = class extends r.Component {
        render() {
          const e = this.props,
            {
              className: t,
              onContextMenu: n,
              persona: s,
              eFriendRelationship: i,
              bIsSelf: l,
              bParenthesizeNicknames: c,
              strNickname: u,
              bCompactView: _,
              bHideGameName: h,
              bHideEnhancedRichPresenceLabel: y,
              bHideSnooze: C,
              bHideStatus: f,
              renderStatus: S,
              renderRichPresence: I,
              bHidePersona: A,
              bDNDSet: G,
              bHasPartyBeacon: T,
              bHasGamePrivacy: N,
              bNoMask: k,
            } = e,
            R = (0, o._T)(e, [
              "className",
              "onContextMenu",
              "persona",
              "eFriendRelationship",
              "bIsSelf",
              "bParenthesizeNicknames",
              "strNickname",
              "bCompactView",
              "bHideGameName",
              "bHideEnhancedRichPresenceLabel",
              "bHideSnooze",
              "bHideStatus",
              "renderStatus",
              "renderRichPresence",
              "bHidePersona",
              "bDNDSet",
              "bHasPartyBeacon",
              "bHasGamePrivacy",
              "bNoMask",
            ]);
          let B = null,
            L = null,
            P = null,
            x = [
              t,
              D().personaNameAndStatusLabel,
              (0, m.sB)(s),
              _ && D().compactView,
              k && D().NoMask,
            ];
          T || s.has_public_party_beacon
            ? (L = r.createElement(b, { persona: s }))
            : (0, a.fk)(i)
            ? ((L = (0, d.Xx)("#PersonaStateBlocked")), x.push(D().blocked))
            : s.is_ingame
            ? ((L =
                !s.is_in_nonsteam_game || l || (0, a.my)(i)
                  ? s.GetCurrentGameName()
                  : (0, d.Xx)("#PersonaStateInNonSteamGame")),
              l || A
                ? l && s.is_awayOrSnooze && (P = (0, d.Xx)("#PersonaStateAway"))
                : (P = s.GetCurrentGameRichPresence()))
            : s.m_broadcastAccountId &&
              (L = (0, d.Xx)("#PersonaStateWatchingBroadcast")),
            L || (L = s.GetLocalizedOnlineStatus()),
            S && (L = S());
          let M = !A && !C;
          !1 === C && (M = !0),
            s.is_awayOrSnooze && M && (B = r.createElement(v, { persona: s }));
          let z = null;
          n
            ? (z = r.createElement(
                "div",
                { className: "ContextMenuButton", onClick: n },
                r.createElement(g.$gZ, null),
              ))
            : x.push(D().noContextMenu),
            A && x.push(D().hidePersona),
            I && (P = I()),
            (!h && P) || x.push(D().twoLine);
          const O = !s.is_ingame && !f,
            Q = !y && P,
            F = L && (!h || !Q),
            q = (0, a.hz)(w.De.LAUNCHER_TYPE);
          let W = u && !c,
            H = W ? u : s.m_strPlayerName,
            Z = !A && (F || O) && Q;
          return r.createElement(
            "div",
            Object.assign({}, R, {
              className: (0, p.Z)(...x),
              onContextMenu: n,
            }),
            r.createElement(
              "div",
              { className: (0, p.Z)(D().statusAndName, Z && D().threeLines) },
              r.createElement(
                "div",
                { className: D().playerName },
                H || " ",
                c &&
                  u &&
                  r.createElement(
                    "span",
                    { className: D().playerNickname },
                    "(",
                    u,
                    ")",
                  ),
              ),
              G &&
                r.createElement(
                  "div",
                  {
                    className: D().DNDContainer,
                    title: (0, d.Xx)("#User_ToggleDoNotDisturb"),
                  },
                  r.createElement(g.YVR, null),
                ),
              W &&
                r.createElement(
                  "span",
                  {
                    className: D().playerNicknameBracket,
                    title: (0, d.Xx)("#isNickname"),
                  },
                  " *",
                ),
              r.createElement(E, { persona: s }),
              B,
              (s.m_bPlayerNamePending || s.m_bAvatarPending) &&
                q &&
                r.createElement(
                  "div",
                  {
                    className: D().PendingPersona,
                    title: (0, d.Xx)("#SteamChina_PendingPersonaName"),
                  },
                  r.createElement(g.SUY, null),
                ),
              z,
            ),
            !A &&
              r.createElement(
                "div",
                { className: D().richPresenceContainer },
                (F || O) &&
                  r.createElement(
                    "div",
                    {
                      className: (0, p.Z)(
                        D().gameName,
                        Z && D().threeLines,
                        D().richPresenceLabel,
                        "no-drag",
                      ),
                    },
                    N &&
                      r.createElement(
                        "div",
                        {
                          className: D().gameIsPrivateIcon,
                          title: (0, d.Xx)("#User_GameInfoHidden"),
                        },
                        r.createElement(g._GE, null),
                      ),
                    L,
                  ),
                Q &&
                  r.createElement(
                    "div",
                    { className: (0, p.Z)(D().richPresenceLabel, "no-drag") },
                    P,
                    " ",
                  ),
              ),
          );
        }
      };
      A = (0, o.gn)([u.Pi], A);
      (0, u.Pi)((e) => {
        const {
            persona: t,
            bParenthesizeNicknames: n,
            strNickname: s,
            className: a,
          } = e,
          i = (0, o._T)(e, [
            "persona",
            "bParenthesizeNicknames",
            "strNickname",
            "className",
          ]);
        let l = s && !n ? s : t.m_strPlayerName;
        return r.createElement(
          "span",
          Object.assign({}, i, { className: (0, p.Z)(a, (0, m.sB)(t)) }),
          r.createElement(
            "span",
            { className: D().playerName },
            l || " ",
            n &&
              s &&
              r.createElement(
                "span",
                { className: D().playerNickname },
                "(",
                s,
                ")",
              ),
          ),
        );
      });
      var G = n(47165),
        T = n(82079),
        N = n(74831),
        k = n(54671),
        R = n(92616),
        B = n(51441),
        L = n(50454),
        P = n(95501),
        x = n(3301),
        M = n(59666),
        z = n.n(M),
        O = n(49437);
      const Q = new L.s("AppRelevance").Debug;
      function F(e) {
        var t, n, a, i, l, c, u, m, _, h, v, y, g, C, f, S, E, I;
        const {
            appID: D,
            bShowAvatars: w,
            storeItem: b,
            bHideDescription: A,
            bShowCuratorInfo: N,
            bShowCreatorInfo: B,
          } = e,
          L = (0, P.x$)(D),
          M = (0, P.C)(D),
          O = (0, P.Ud)(D),
          F = (0, P.Nl)(),
          U = (0, s.useQuery)(
            ["SimilarPlayedAppsLoad", D],
            () => {
              var e;
              return R.Z.Get().QueueMultipleAppRequests(
                null === (e = O.data.arrSimilarPlayedApps) || void 0 === e
                  ? void 0
                  : e.map((e) => e.appid),
                { include_basic_info: !0, include_assets: !0 },
              );
            },
            { enabled: O.isSuccess },
          ),
          V = (function (e, t) {
            const n = (0, r.useMemo)(
              () => k.jg.Get().GetRecommendingCuratorsForApp(e) || [],
              [e],
            );
            return (0, s.useQuery)(
              ["RecommendingCurators", e],
              () =>
                Promise.all(
                  null == n
                    ? void 0
                    : n.map((e) => T.sV.LoadClanInfoForClanAccountID(e)),
                ),
              { enabled: !!t && n && n.length > 0 },
            );
          })(D, N),
          X = (0, r.useMemo)(() => {
            let e = [];
            return (
              b &&
                ((e = e.concat(
                  b
                    .GetAllFranchiseCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "franchise" })),
                )),
                (e = e.concat(
                  b
                    .GetAllDeveloperCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "developer" })),
                )),
                (e = e.concat(
                  b
                    .GetAllPublisherCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "publisher" })),
                )),
                (e = e.filter((e) =>
                  k.jg.Get().BIsFollowingCurator(e.nAccountID),
                ))),
              e
            );
          }, [b]),
          K = (0, s.useQuery)(
            ["FollowedCreators", D],
            () =>
              T.sV
                .LoadClanInfoForClanAccountID(X[0].nAccountID)
                .then((e) => ({ clanInfo: e, type: X[0].type })),
            { enabled: !!B && X && X.length > 0 },
          ),
          Y = (0, s.useQuery)(
            ["PlayerSummaries", D, w],
            () =>
              (0, o.mG)(this, void 0, void 0, function* () {
                var e, t, n;
                let o = [],
                  r = [],
                  s = [];
                const a = w ? 10 : 1;
                for (
                  let t = 0;
                  t <
                    (null === (e = M.data.accountids_recommended) ||
                    void 0 === e
                      ? void 0
                      : e.length) && t < a;
                  t++
                ) {
                  const e = G.K.InitFromAccountID(
                    M.data.accountids_recommended[t],
                  );
                  o.push(e.ConvertTo64BitString());
                }
                for (
                  let e = 0;
                  e <
                    (null === (t = L.data.in_wishlist) || void 0 === t
                      ? void 0
                      : t.length) && e < a;
                  e++
                ) {
                  const t = new G.K(L.data.in_wishlist[e].steamid);
                  r.push(t.ConvertTo64BitString());
                }
                for (
                  let e = 0;
                  e <
                    (null === (n = L.data.owns) || void 0 === n
                      ? void 0
                      : n.length) && e < a;
                  e++
                ) {
                  const t = new G.K(L.data.owns[e].steamid);
                  s.push(t.ConvertTo64BitString());
                }
                return {
                  rgRecommendedFriends: o,
                  rgWishlistFriends: r,
                  rgOwnedFriends: s,
                };
              }),
            { enabled: M.isSuccess && L.isSuccess },
          );
        if (
          !F ||
          U.isLoading ||
          O.isLoading ||
          M.isLoading ||
          L.isLoading ||
          V.isLoading ||
          K.isLoading ||
          Y.isLoading
        )
          return r.createElement(x.V, { size: "medium", position: "center" });
        let J = [];
        O.isSuccess &&
          O.data.arrSimilarPlayedApps &&
          O.data.arrSimilarPlayedApps.forEach((e) => {
            const t = R.Z.Get().GetApp(e.appid);
            t
              ? J.push(
                  r.createElement(H, {
                    key: e.appid,
                    lifetimePlaytime: e.playtimeForever,
                    storeItem: t,
                  }),
                )
              : console.error("Failed to load store data ", D);
          });
        const $ = F.GetItemIDs().findIndex((e) => e.appid === D),
          ee =
            null === (t = O.data) || void 0 === t ? void 0 : t.bRecommendedByIR,
          te = J.length > 0,
          ne =
            null ===
              (a = null === (n = L.data) || void 0 === n ? void 0 : n.owns) ||
            void 0 === a
              ? void 0
              : a.length,
          oe =
            null ===
              (l =
                null === (i = L.data) || void 0 === i
                  ? void 0
                  : i.in_wishlist) || void 0 === l
              ? void 0
              : l.length,
          re =
            null ===
              (u =
                null === (c = M.data) || void 0 === c
                  ? void 0
                  : c.accountids_recommended) || void 0 === u
              ? void 0
              : u.length;
        let se = 0;
        return (
          ne > 0 && se++,
          oe > 0 && se++,
          re > 0 && se++,
          ee && se++,
          $ >= 0 && se++,
          J.length > 0 && se++,
          N &&
            (null === (m = null == V ? void 0 : V.data) || void 0 === m
              ? void 0
              : m.length) > 0 &&
            se++,
          B && Boolean(K.data) && se++,
          Q(
            "FriendsOwned: ",
            ne,
            " FriendsWishlisted: ",
            oe,
            "cRecommended: ",
            re,
          ),
          r.createElement(
            r.Fragment,
            null,
            se > 0 &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  "div",
                  { className: z().WhyRelevant },
                  (0, d.Xx)("#DiscoveryQueue_WhyRelevant"),
                ),
                r.createElement(
                  "div",
                  { className: z().RelevantCtn },
                  te &&
                    r.createElement(
                      j,
                      { header: (0, d.Xx)("#DiscoveryQueue_SimilarGames") },
                      r.createElement(
                        "div",
                        { className: z().ReleventSimilarAppsCtn },
                        J,
                      ),
                    ),
                  N &&
                    (null === (_ = null == V ? void 0 : V.data) || void 0 === _
                      ? void 0
                      : _.length) > 0 &&
                    r.createElement(
                      j,
                      {
                        header: (0, d.Xx)(
                          "#ContentHub_Recommendation_Curators",
                        ),
                      },
                      r.createElement(
                        "div",
                        {
                          className: (0, p.Z)(
                            z().ReleventSimilarAppsCtn,
                            z().RecommendingCuratorsCtn,
                          ),
                        },
                        V.data
                          .filter(Boolean)
                          .map((e) =>
                            r.createElement(W, {
                              key: "curator_" + e.clanAccountID,
                              curator: e,
                            }),
                          ),
                      ),
                    ),
                  B &&
                    Boolean(K.data) &&
                    r.createElement(q, { creatorInfo: K.data }),
                  $ >= 0 &&
                    r.createElement(j, {
                      header: (0, d.x$)(
                        "#DiscoveryQueue_TopSellers",
                        ($ + 1).toLocaleString(),
                        r.createElement("span", {
                          className: z().RelevantTextBold,
                        }),
                      ),
                    }),
                  ee &&
                    !te &&
                    r.createElement(j, {
                      header: (0, d.Xx)("#DiscoveryQueue_RecommendedByIR"),
                    }),
                  r.createElement(Z, {
                    bShowAvatars: w,
                    count:
                      null ===
                        (v =
                          null === (h = M.data) || void 0 === h
                            ? void 0
                            : h.accountids_recommended) || void 0 === v
                        ? void 0
                        : v.length,
                    locToken: "#DiscoveryQueue_FriendsRecommended",
                    arrSteamIDs:
                      null === (y = Y.data) || void 0 === y
                        ? void 0
                        : y.rgRecommendedFriends,
                  }),
                  r.createElement(Z, {
                    bShowAvatars: w,
                    count:
                      null ===
                        (C =
                          null === (g = L.data) || void 0 === g
                            ? void 0
                            : g.owns) || void 0 === C
                        ? void 0
                        : C.length,
                    locToken: "#DiscoveryQueue_FriendsOwned",
                    arrSteamIDs:
                      null === (f = Y.data) || void 0 === f
                        ? void 0
                        : f.rgOwnedFriends,
                  }),
                  r.createElement(Z, {
                    bShowAvatars: w,
                    count:
                      null ===
                        (E =
                          null === (S = L.data) || void 0 === S
                            ? void 0
                            : S.in_wishlist) || void 0 === E
                        ? void 0
                        : E.length,
                    locToken: "#DiscoveryQueue_FriendsWishlisted",
                    arrSteamIDs:
                      null === (I = Y.data) || void 0 === I
                        ? void 0
                        : I.rgWishlistFriends,
                  }),
                ),
              ),
            (!A || 0 == se) &&
              r.createElement(
                "div",
                { className: (0, p.Z)(z().AppDescription, se && z().Divider) },
                b.GetShortDescription(),
              ),
          )
        );
      }
      function q(e) {
        var t;
        const { creatorInfo: n } = e;
        if (!n) return null;
        let o;
        switch (n.type) {
          case "publisher":
            o = "#ContentHub_Recommendation_FollowedPublisher";
            break;
          case "developer":
            o = "#ContentHub_Recommendation_FollowedDeveloper";
            break;
          case "franchise":
            o = "#ContentHub_Recommendation_FollowedFranchise";
        }
        return o
          ? r.createElement(j, {
              header: (0, d.kQ)(
                o,
                r.createElement(
                  "span",
                  { className: z().RelevantTextBold },
                  null === (t = n.clanInfo) || void 0 === t
                    ? void 0
                    : t.group_name,
                ),
              ),
            })
          : null;
      }
      function W(e) {
        const { curator: t } = e,
          n = (0, N.iG)(null == t ? void 0 : t.clanAccountID);
        return t && n
          ? r.createElement(
              i.IS,
              { href: n.GetCreatorHomeURL(null) },
              r.createElement("img", { src: t.avatar_medium_url }),
            )
          : null;
      }
      function H(e) {
        const { lifetimePlaytime: t, storeItem: n } = e;
        return r.createElement(
          "div",
          { className: z().SimilarAppCtn },
          r.createElement(
            B.ll,
            {
              item: { type: "game", id: n.GetAppID() },
              bHidePrice: !0,
              hoverProps: {
                direction: "overlay",
                nBodyAlignment: 1,
                style: { minWidth: "320px", zIndex: 5e3 },
              },
            },
            r.createElement("img", {
              className: z().SimilarAppImg,
              src: n.GetAssets().GetSmallCapsuleURL(),
            }),
          ),
        );
      }
      function Z(e) {
        const { arrSteamIDs: t, count: n, locToken: o, bShowAvatars: s } = e;
        return n
          ? 1 != n || s
            ? r.createElement(
                j,
                {
                  header: (0, d.x$)(
                    o,
                    n,
                    r.createElement("span", {
                      className: z().RelevantTextBold,
                    }),
                  ),
                },
                s &&
                  t.length > 0 &&
                  r.createElement(
                    "div",
                    { className: z().FriendAvatarsCtn },
                    1 == n
                      ? r.createElement(X, { steamid: t[0] })
                      : r.createElement(V, { arrSteamIDs: t }),
                  ),
              )
            : r.createElement(j, {
                header: (0, d.kQ)(
                  o + "_Single",
                  r.createElement(U, { steamid: t[0] }),
                ),
              })
          : null;
      }
      function U(e) {
        const { steamid: t } = e,
          { data: n } = (0, O.IE)(t);
        return n && n.m_bInitialized
          ? r.createElement(
              "span",
              {
                "data-miniprofile": "s" + n.m_steamid.ConvertTo64BitString(),
                className: z().RelevantTextBold,
              },
              n.m_strPlayerName,
            )
          : null;
      }
      function V(e) {
        const { arrSteamIDs: t } = e,
          n = (0, O.vP)(t);
        return r.createElement(
          r.Fragment,
          null,
          n.map(
            ({ data: e }) =>
              e &&
              r.createElement(c.vV, {
                key: e.m_steamid.ConvertTo64BitString(),
                "data-miniprofile": "s" + e.m_steamid.ConvertTo64BitString(),
                persona: e,
                size: "Small",
                statusPosition: "right",
              }),
          ),
        );
      }
      function X(e) {
        const { steamid: t } = e,
          { data: n } = (0, O.IE)(t);
        return n
          ? r.createElement(
              l.s,
              { className: z().FriendBlockCtn, "data-miniprofile": "s" + t },
              r.createElement(c.vV, {
                persona: n,
                size: "Small",
                statusPosition: "right",
              }),
              r.createElement(A, {
                className: z().PersonaStatus,
                persona: n,
                eFriendRelationship: a.of.k_EFriendRelationshipFriend,
                bIsSelf: !1,
                strNickname: null,
                bParenthesizeNicknames: !1,
                bCompactView: !1,
                bNoMask: !0,
              }),
            )
          : null;
      }
      function j(e) {
        const { children: t, header: n } = e;
        return r.createElement(
          "div",
          { className: z().RelevantItem },
          r.createElement(
            "div",
            { className: z().RelevantCheck },
            r.createElement(g.JrY, null),
          ),
          r.createElement(
            "div",
            { className: z().RelevantColumn },
            r.createElement("div", { className: z().ReleventText }, n),
            t,
          ),
        );
      }
    },
    49330: (e, t, n) => {
      "use strict";
      n.d(t, { MS: () => pe, Vw: () => ue });
      var o = n(33940),
        r = n(25125),
        s = n(89526),
        a = n(42735),
        i = n(44026),
        l = n(17589),
        c = n(51438),
        u = n(30928),
        d = n(16221),
        m = n(81039),
        p = n(98009),
        _ = n(98210),
        h = n(54671),
        v = n(67328),
        y = n(19094),
        g = n(72985),
        C = n(32765);
      class f {
        BIsSaleActive() {
          const e = Date.now();
          return Boolean(
            e >= this.m_dateSaleStart.getTime() &&
              e < this.m_dateSaleEnd.getTime(),
          );
        }
        GetNumTradingCardsEarned() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            this.LazyInitTransport();
            const e = {
                earned_today: 0,
                earned_lifetime: 0,
                eresult: a.s.k_EResultFail,
              },
              t = Date.now(),
              n =
                864e5 *
                  Math.floor((t - this.m_dateSaleStart.getTime()) / 864e5) +
                this.m_dateSaleStart.getTime(),
              o = v.gA.Init(g.GZ);
            let r = yield g.Ts.GetNumTradingCardsEarned(this.m_transport, o),
              s = r.GetEResult();
            return s !== a.s.k_EResultOK
              ? ((e.eresult = s), e)
              : ((e.earned_lifetime = r.Body().num_trading_cards()),
                o.Body().set_timestamp_start(n / 1e3),
                (r = yield g.Ts.GetNumTradingCardsEarned(this.m_transport, o)),
                (s = r.GetEResult()),
                s != a.s.k_EResultOK
                  ? ((e.eresult = s), e)
                  : ((e.earned_today = r.Body().num_trading_cards()),
                    (e.eresult = a.s.k_EResultOK),
                    e));
          });
        }
        static Get() {
          return (
            f.s_Singleton ||
              ((f.s_Singleton = new f()),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_SeasonalSaleStore = f.s_Singleton)),
            f.s_Singleton
          );
        }
        LazyInitTransport() {
          if (!this.m_transport) {
            const e = (0, C.kQ)("loyalty_webapi_token", "application_config");
            "string" == typeof e
              ? (this.m_transport = new y.J(
                  C.De.WEBAPI_BASE_URL,
                  e,
                ).GetServiceTransport())
              : console.error("CSeasonalSaleStore failed to load webapi token");
          }
        }
        constructor() {
          (this.m_transport = void 0),
            (this.m_dateSaleStart = new Date("2022-06-23T17:00:00")),
            (this.m_dateSaleEnd = new Date("2022-07-07T17:00:00"));
        }
      }
      var S = n(92616),
        E = n(85886),
        I = n(25871),
        D = n(95408),
        w = n(51441),
        b = n(44865),
        A = n(28183),
        G = n(73961),
        T = n(4306),
        N = n(36041),
        k = n(37377),
        R = n(89925),
        B = n(8179),
        L = n(60729),
        P = n(50454),
        x = n(45820);
      const M = new P.s("VirtualizedBoxCarousel").Debug,
        z = s.forwardRef(function (e, t) {
          const { name: n, initialColumn: o } = e,
            [r, a] = (0, x.i4)("VBC_" + n, o || 0),
            i = (0, C.id)();
          return s.createElement(
            O,
            Object.assign({}, e, {
              ref: t,
              focusedColumn: r,
              setFocusedColumn: a,
              autoHeight: !i,
            }),
          );
        });
      class O extends s.PureComponent {
        constructor() {
          super(...arguments),
            (this.state = { nContainerWidth: 0, nRightPadding: 0 }),
            (this.m_refContainer = s.createRef()),
            (this.m_refGrid = void 0),
            (this.m_refGridElement = void 0),
            (this.m_scrollAnimation = null),
            (this.m_mapRefs = new Map()),
            (this.m_iStart = 0),
            (this.m_iEnd = 0),
            (this.m_activeScrollTo = null),
            (this.m_timeout = void 0),
            (this.m_nTouchStartClientX = void 0),
            (this.m_bMouseDown = !1);
        }
        StartScrollAnimation(e, t, n, o, r) {
          let s = this.m_refGrid;
          if (s)
            if (r) {
              const s = this.m_refGridElement;
              M("StartScrollAnimation", n, o, r);
              let a = {
                msDuration: r,
                timing: this.props.scrollTiming,
                onComplete: () => this.OnAnimationScrollComplete(e, t, n, o),
              };
              this.m_scrollAnimation && this.m_scrollAnimation.End(),
                (this.m_scrollAnimation = new L.jg(s, { scrollLeft: o }, a)),
                this.m_scrollAnimation.Start();
            } else
              s.scrollToPosition({ scrollLeft: o, scrollTop: 0 }),
                this.OnAnimationScrollComplete(e, t, n, o);
        }
        RestoreScrollPosition(e) {
          this.StartScrollAnimation(
            B.eV.INVALID,
            0,
            "RestoreScrollPosition",
            e,
            0,
          );
        }
        SendScrollNotification(e) {
          this.m_timeout && window.clearTimeout(this.m_timeout);
          const t = this.props.fnOnScroll;
          this.m_timeout = window.setTimeout(() => {
            t && t(e), (this.m_timeout = void 0);
          }, 250);
        }
        OnAnimationScrollComplete(e, t, n, o) {
          G.unstable_batchedUpdates(() => {
            M("OnAnimationScrollComplete", n, o),
              this.SendScrollNotification(o);
            const r = this.m_mapRefs.get(n);
            r &&
              r.current &&
              (M("Sending focus to", n), r.current.TakeFocus(e)),
              this.props.setFocusedColumn(t),
              (this.m_scrollAnimation = null),
              (this.m_activeScrollTo = null);
          });
        }
        OnTouchStart(e) {
          1 == e.touches.length &&
            (this.m_nTouchStartClientX = e.touches[0].clientX);
        }
        OnTouchEnd(e) {
          this.m_nTouchStartClientX = void 0;
        }
        OnTouchMove(e) {
          if (!this.m_refGrid || 0 == e.touches.length) return;
          const t = this.m_nTouchStartClientX - e.touches[0].clientX;
          this.BlockMovementLeftPastFirstElement(e, t);
        }
        OnMouseDown(e) {
          this.m_bMouseDown = !0;
        }
        OnMouseUp(e) {
          this.m_bMouseDown = !1;
        }
        BlockMovementLeftPastFirstElement(e, t) {
          const n = this.m_refGrid.getOffsetForCell({
            alignment: this.props.scrollToAlignment,
            columnIndex: this.props.nIndexLeftmost,
          });
          this.m_refGridElement.scrollLeft - n.scrollLeft + t < 0 &&
            e.cancelable &&
            (console.warn("Blocking touch scroll out of bounds"),
            e.cancelable && e.preventDefault());
        }
        SnapBackToFirstElement(e) {
          console.warn("Carousel out of bounds, scrolling back to", e),
            this.RestoreScrollPosition(e);
        }
        OnScroll(e) {
          var t;
          const n =
            null === (t = this.m_refGrid) || void 0 === t
              ? void 0
              : t.getOffsetForCell({
                  alignment: this.props.scrollToAlignment,
                  columnIndex: this.props.nIndexLeftmost,
                });
          this.SendScrollNotification(e.scrollLeft),
            e.scrollLeft < Math.floor(null == n ? void 0 : n.scrollLeft) &&
              this.SnapBackToFirstElement(n.scrollLeft),
            this.UpdateScrollArrows();
        }
        GetCellColumnWidth(e) {
          let { fnGetColumnWidth: t } = this.props,
            n = t(e.index) + this.props.nItemMarginX;
          return (
            e.index == this.props.nNumItems - 1 &&
              (n += this.state.nRightPadding),
            n
          );
        }
        OnItemFocused(e, t) {
          this.m_bMouseDown ||
            this.ScrollToItem(
              B.eV.INVALID,
              t,
              this.props.scrollToAlignment || "auto",
              void 0,
              0,
            );
        }
        CellRenderer(e) {
          const {
              fnGetColumnWidth: t,
              fnGetId: n,
              fnItemRenderer: o,
              nItemHeight: r,
              autoFocus: a,
            } = this.props,
            { key: l, columnIndex: u, style: d } = e,
            m = t(u),
            p = parseInt(d.left.toString()),
            _ = n(u),
            h = !this.m_mapRefs.has(_),
            v = this.m_mapRefs.get(_) || (0, i.Hy)();
          return (
            this.m_mapRefs.set(_, v),
            s.createElement(
              c.s,
              {
                key: l,
                navKey: l,
                navRef: v,
                focusable: !1,
                onGamepadDirection: this.OnGamepadDirection,
                autoFocus: a && u == this.props.focusedColumn && h,
                "data-id": _,
                onFocus: (e) => this.OnItemFocused(e, u),
                style: d,
              },
              o(u, m, r, p),
            )
          );
        }
        OnSectionRendered(e) {
          (this.m_iStart = e.columnStartIndex),
            (this.m_iEnd = e.columnStopIndex),
            M("Section rendered", this.m_iStart, this.m_iEnd),
            this.UpdateScrollArrows();
        }
        get alignment() {
          return this.props.scrollToAlignment || "start";
        }
        GetLastFocusableColumn() {
          let e = this.props.nNumItems - 1;
          if (this.props.fnDoesItemTakeFocus)
            for (
              ;
              !this.props.fnDoesItemTakeFocus(e) &&
              e > this.props.nIndexLeftmost;

            )
              e--;
          return M("LastFocusableColumn: ", e), e;
        }
        UpdateScrollArrows() {
          var e, t, n;
          if (this.props.fnUpdateArrows) {
            const o =
                null === (e = this.m_refGrid) || void 0 === e
                  ? void 0
                  : e.getOffsetForCell({
                      alignment: this.props.scrollToAlignment,
                      columnIndex: this.props.nIndexLeftmost,
                    }),
              r =
                null === (t = this.m_refGrid) || void 0 === t
                  ? void 0
                  : t.getOffsetForCell({
                      alignment: this.props.scrollToAlignment,
                      columnIndex: this.GetLastFocusableColumn(),
                    }),
              s = Math.round(
                null === (n = this.m_refGridElement) || void 0 === n
                  ? void 0
                  : n.scrollLeft,
              ),
              a =
                s != Math.floor(null == o ? void 0 : o.scrollLeft) &&
                s != Math.round(null == o ? void 0 : o.scrollLeft),
              i =
                s != Math.floor(null == r ? void 0 : r.scrollLeft) &&
                s != Math.round(null == r ? void 0 : r.scrollLeft);
            M(
              "ShowLeftArrow: ",
              a,
              o,
              " ShowRightArrow: ",
              i,
              r,
              " ScrollPos: ",
              s,
            ),
              this.props.fnUpdateArrows(a, i);
          }
        }
        BindGridObject(e) {
          if (
            (this.m_refGridElement &&
              (this.m_refGridElement.removeEventListener(
                "touchstart",
                this.OnTouchStart,
              ),
              this.m_refGridElement.removeEventListener(
                "touchend",
                this.OnTouchEnd,
              ),
              this.m_refGridElement.removeEventListener(
                "touchmove",
                this.OnTouchMove,
              ),
              this.m_refGridElement.removeEventListener(
                "mousedown",
                this.OnMouseDown,
              ),
              this.m_refGridElement.removeEventListener(
                "mouseup",
                this.OnMouseUp,
              )),
            (this.m_refGrid = e),
            (this.m_refGridElement = void 0),
            this.m_refGrid)
          ) {
            const e = G.findDOMNode(this.m_refGrid);
            (this.m_refGridElement = e),
              null == e || e.addEventListener("touchstart", this.OnTouchStart),
              null == e || e.addEventListener("touchend", this.OnTouchEnd),
              null == e ||
                e.addEventListener("touchmove", this.OnTouchMove, {
                  passive: !1,
                }),
              null == e || e.addEventListener("mousedown", this.OnMouseDown),
              null == e || e.addEventListener("mouseup", this.OnMouseUp);
            const t = window.getComputedStyle(e),
              n = parseInt(t.getPropertyValue("padding-right")) || 0,
              o = parseInt(t.getPropertyValue("scroll-padding-right")) || 0,
              r = Math.max(n, o);
            r != this.state.nRightPadding &&
              (M("Computed", r, "additional right padding"),
              this.setState({ nRightPadding: r }, () => {
                this.m_refGrid.recomputeGridSize({
                  columnIndex: this.props.nNumItems - 1,
                });
              }));
          }
        }
        componentDidMount() {
          this.m_refContainer.current &&
            ((this.m_resizeObserver = (0, T.it)(
              this.m_refContainer.current,
              this.OnResize,
            )),
            M(
              "componentDidMount Setting width to",
              this.m_refContainer.current.clientWidth,
            ),
            this.setState({
              nContainerWidth: this.m_refContainer.current.clientWidth,
            }));
        }
        componentDidUpdate(e) {
          this.props.fnGetColumnWidth != e.fnGetColumnWidth &&
            (M("Column width function changes, recalculating sizes"),
            this.m_refGrid.recomputeGridSize());
        }
        componentWillUnmount() {
          var e;
          null === (e = this.m_resizeObserver) ||
            void 0 === e ||
            e.disconnect();
        }
        OnResize() {
          const e = this.m_refContainer.current.clientWidth;
          e != this.state.nContainerWidth &&
            (M(
              "OnResize Setting width to",
              this.m_refContainer.current.clientWidth,
            ),
            this.setState({ nContainerWidth: e })),
            this.UpdateScrollArrows();
        }
        ScrollLeft(e) {
          const t = this.m_iEnd - this.m_iStart,
            n = (0, N.Lh)(
              this.props.focusedColumn - t,
              this.props.nIndexLeftmost,
              this.props.nNumItems - 1,
            ),
            o = this.alignment;
          return this.ScrollToItem(B.eV.INVALID, n, o, e);
        }
        ScrollRight(e) {
          const t = this.m_iEnd - this.m_iStart,
            n = (0, N.Lh)(
              this.props.focusedColumn + t,
              this.props.nIndexLeftmost,
              this.props.nNumItems - 1,
            ),
            o = this.alignment;
          return this.ScrollToItem(B.eV.INVALID, n, o, e);
        }
        ScrollToFirstChild() {
          return this.ScrollToItem(
            B.eV.INVALID,
            this.props.nIndexLeftmost,
            "auto",
          );
        }
        MoveLeft(e) {
          M("MoveLeft from", this.props.focusedColumn);
          let t = this.props.focusedColumn - 1;
          for (
            ;
            t != this.props.nIndexLeftmost - 1 &&
            this.props.fnDoesItemTakeFocus &&
            !this.props.fnDoesItemTakeFocus(t);

          )
            t--;
          return t == this.props.nIndexLeftmost - 1
            ? (M("At left edge, not handling left gamepad"), !1)
            : (M("MoveLeft to", t),
              this.ScrollToItem(
                e ? e.detail.button : B.eV.INVALID,
                t,
                this.props.scrollToAlignment || "auto",
                e,
              ));
        }
        MoveRight(e) {
          M("MoveRight from", this.props.focusedColumn);
          let t = this.props.focusedColumn + 1;
          for (
            ;
            t != this.props.nNumItems &&
            this.props.fnDoesItemTakeFocus &&
            !this.props.fnDoesItemTakeFocus(t);

          )
            t++;
          return t == this.props.nNumItems
            ? (M("At right edge, not handling right gamepad"), !1)
            : (M("MoveRight to", t),
              this.ScrollToItem(
                e ? e.detail.button : B.eV.INVALID,
                t,
                this.props.scrollToAlignment || "auto",
                e,
              ));
        }
        ScrollToItem(e, t, n, o, r) {
          if (
            this.m_activeScrollTo &&
            this.m_activeScrollTo.alignment === n &&
            this.m_activeScrollTo.iNewFocus === t
          )
            return !0;
          if (
            (M("ScrollToItem", t, n, o, r),
            t != this.props.focusedColumn &&
              this.m_refGrid &&
              (!this.props.fnDoesItemTakeFocus ||
                this.props.fnDoesItemTakeFocus(t)))
          ) {
            const s = this.m_refGrid.getOffsetForCell({
                alignment: n,
                columnIndex: t,
                rowIndex: 0,
              }),
              a = this.props.fnGetId(t);
            return (
              M("Scrolling to item", t, a, n, s.scrollLeft, r),
              (this.m_activeScrollTo = { iNewFocus: t, alignment: n }),
              this.props.fnOnFocusedColumnChange &&
                this.props.fnOnFocusedColumnChange(this.props.focusedColumn, t),
              this.StartScrollAnimation(
                e,
                t,
                a,
                s.scrollLeft,
                null != r ? r : this.props.scrollDuration,
              ),
              null == o || o.stopPropagation(),
              null == o || o.preventDefault(),
              !0
            );
          }
          return !1;
        }
        OnGamepadButtonDown(e) {
          switch ((M("OnGamepadButtonDown", e.detail), e.detail.button)) {
            case B.eV.BUMPER_LEFT:
              return !!this.props.enableBumperPaging && this.ScrollLeft(e);
            case B.eV.BUMPER_RIGHT:
              return !!this.props.enableBumperPaging && this.ScrollRight(e);
          }
          return !1;
        }
        OnGamepadDirection(e) {
          switch ((M("OnGamepadDirection", e.detail), e.detail.button)) {
            case B.eV.DIR_LEFT:
              return this.MoveLeft(e);
            case B.eV.DIR_RIGHT:
              return this.MoveRight(e);
          }
          return !1;
        }
        render() {
          const {
              className: e,
              nNumItems: t,
              nIndexLeftmost: n,
              nHeight: o,
              nItemHeight: r,
              overscan: a = 3,
              scrollToAlignment: i,
              focusedColumn: l,
              autoHeight: u,
            } = this.props,
            d = this.state.nContainerWidth;
          return (
            M("Inner render", this.props.name, this.props.nNumItems, d, n, l),
            s.createElement(
              c.s,
              {
                ref: this.m_refContainer,
                "flow-children": "row",
                onButtonDown: this.OnGamepadButtonDown,
                focusable: !1,
              },
              d &&
                s.createElement(R.rj, {
                  ref: this.BindGridObject,
                  className: e,
                  cellRenderer: this.CellRenderer,
                  onScroll: this.OnScroll,
                  onSectionRendered: this.OnSectionRendered,
                  columnCount: t,
                  columnWidth: this.GetCellColumnWidth,
                  overscanColumnCount: a,
                  overscanIndicesGetter: ({
                    cellCount: e,
                    overscanCellsCount: t,
                    startIndex: n,
                    stopIndex: o,
                  }) => ({
                    overscanStartIndex: Math.max(0, n - t),
                    overscanStopIndex: Math.min(e - 1, o + t),
                  }),
                  rowCount: 1,
                  rowHeight: r,
                  height: o,
                  width: d,
                  containerStyle: { overflow: "visible" },
                  scrollToAlignment: this.alignment,
                  scrollToColumn: l,
                  tabIndex: null,
                  autoHeight: u,
                }),
            )
          );
        }
      }
      (O.defaultProps = {
        nIndexLeftmost: 0,
        scrollDuration: 100,
        scrollTiming: "sine",
        enableBumperPaging: !1,
        initialColumn: 0,
        bPlaySoundOnFailedScroll: !0,
      }),
        (0, o.gn)([T.ak], O.prototype, "RestoreScrollPosition", null),
        (0, o.gn)([T.ak], O.prototype, "OnAnimationScrollComplete", null),
        (0, o.gn)([T.ak], O.prototype, "OnTouchStart", null),
        (0, o.gn)([T.ak], O.prototype, "OnTouchEnd", null),
        (0, o.gn)([T.ak], O.prototype, "OnTouchMove", null),
        (0, o.gn)([T.ak], O.prototype, "OnMouseDown", null),
        (0, o.gn)([T.ak], O.prototype, "OnMouseUp", null),
        (0, o.gn)(
          [T.ak, (0, k.D)(250)],
          O.prototype,
          "SnapBackToFirstElement",
          null,
        ),
        (0, o.gn)([T.ak], O.prototype, "OnScroll", null),
        (0, o.gn)([T.ak], O.prototype, "GetCellColumnWidth", null),
        (0, o.gn)([T.ak], O.prototype, "OnItemFocused", null),
        (0, o.gn)([T.ak], O.prototype, "CellRenderer", null),
        (0, o.gn)([T.ak], O.prototype, "OnSectionRendered", null),
        (0, o.gn)(
          [T.ak, (0, k.D)(250)],
          O.prototype,
          "UpdateScrollArrows",
          null,
        ),
        (0, o.gn)([T.ak], O.prototype, "BindGridObject", null),
        (0, o.gn)([T.ak], O.prototype, "OnResize", null),
        (0, o.gn)([T.ak], O.prototype, "ScrollLeft", null),
        (0, o.gn)([T.ak], O.prototype, "ScrollRight", null),
        (0, o.gn)([T.ak], O.prototype, "ScrollToFirstChild", null),
        (0, o.gn)([T.ak], O.prototype, "MoveLeft", null),
        (0, o.gn)([T.ak], O.prototype, "MoveRight", null),
        (0, o.gn)([T.ak], O.prototype, "OnGamepadButtonDown", null),
        (0, o.gn)([T.ak], O.prototype, "OnGamepadDirection", null);
      var Q = n(99307),
        F = n(701),
        q = n(84291),
        W = n(71161),
        H = n(58218),
        Z = n(19304),
        U = n(45437),
        V = n(14826),
        X = n(7029),
        j = n(82588),
        K = n(23186),
        Y = n(6319),
        J = n(6645),
        $ = n(59666),
        ee = n.n($),
        te = n(45718),
        ne = n(39131),
        oe = n(73070),
        re = n(207);
      const se = new P.s("DiscoveryQueueWizard").Debug,
        ae = 0,
        ie = 1,
        le = 1400,
        ce = "discoveryqueue2022",
        ue = {
          include_assets: !0,
          include_trailers: !0,
          include_basic_info: !0,
          include_tag_count: 20,
          include_release: !0,
          include_platforms: !0,
        };
      function de(e, t, n, r) {
        return (0, o.mG)(this, void 0, void 0, function* () {
          let o = [],
            s = !1;
          try {
            const { appids: a, exhausted: i } =
              yield j.Wb.Get().GetDiscoveryQueueAppsOfType(e, t, r);
            (o = [...a]),
              (s = i),
              n && -1 === o.findIndex((e) => e === n) && o.unshift(n),
              yield S.Z.Get().QueueMultipleAppRequests(o, ue);
          } catch (e) {
            console.error("Failed getting discovery queue apps", e);
          }
          return { appids: o, exhausted: s };
        });
      }
      const me = (e) =>
        C.De.IN_STEAMUI
          ? s.createElement(l.O, null, e.children)
          : s.createElement(
              Q.Pv,
              { navID: "DiscoveryQueueWizard" },
              e.children,
            );
      function pe(e) {
        const {
            eStoreDiscoveryQueueType: t,
            bWizardVisible: n,
            fnCloseModal: r,
            includeAppID: a,
            storePageFilter: l,
          } = e,
          [u, m] = s.useState([]),
          [p, _] = s.useState(1),
          [v, y] = s.useState(800),
          [g, f] = s.useState("DiscoveryQueue"),
          [S, E] = s.useState(!0),
          [I, D] = s.useState(!1),
          [w, b] = s.useState(!1),
          A = s.useRef(),
          G = (0, C.id)(),
          N = (0, oe.Wy)(),
          k = (null == N ? void 0 : N.ownerWindow) || window,
          R = (0, H.T)("DiscoveryQueueWizard");
        (0, X.P)("ArrowLeft", (e) => A.current.MoveLeft(e)),
          (0, X.P)("Left", (e) => A.current.MoveLeft(e)),
          (0, X.P)("ArrowRight", (e) => A.current.MoveRight(e)),
          (0, X.P)("Right", (e) => A.current.MoveRight(e)),
          (0, X.P)("Escape", () => r && r()),
          (0, X.P)("Esc", () => r && r());
        const B = s.useMemo(
            () => Math.max((k.innerWidth / 100) * 2.8 + 40, 24),
            [24, k],
          ),
          L = s.useCallback(
            (e) => {
              const t = Math.min(1400, k.innerWidth / 1.3 - 2 * B - 48 + 220);
              y(t);
            },
            [B, k],
          ),
          P = (0, T.yU)(L),
          x = s.useMemo(() => (k.innerWidth - v - 2 * B) / 2, [v, B, k]),
          M = s.useMemo(() => (9 / 16) * (v - 0.3 * v), [v]),
          O = s.useMemo(() => Boolean(k.innerWidth < le), [k]),
          q = s.useCallback(
            (e) =>
              (0, o.mG)(this, void 0, void 0, function* () {
                var n, o;
                let { appids: r } = yield de(t, !e, e && a, l);
                if (e && !r.length) {
                  let { appids: e } = yield de(t, !0, void 0, l);
                  r = e;
                }
                let s = u;
                if (e) r.unshift(ie);
                else {
                  const e = s.lastIndexOf(ie);
                  -1 !== e && s.splice(e, 1);
                }
                r.push(ae),
                  r.push(ie),
                  (s = s.concat(r)),
                  (null === (n = null == R ? void 0 : R.token) || void 0 === n
                    ? void 0
                    : n.reason) || m(s),
                  e ||
                    null === (o = null == A ? void 0 : A.current) ||
                    void 0 === o ||
                    o.MoveRight(),
                  se("Loaded new discovery queue apps: ", r);
              }),
            [t, a, l, u],
          );
        s.useEffect(() => {
          q(!0).then(() => b(!0)),
            h.jg.Get().HintLoad(),
            f(
              (() => {
                const e = Math.floor(1e6 * Math.random());
                return `DiscoveryQueue_${C.L7.accountid}_${e}`;
              })(),
            ),
            L();
        }, [t]);
        const K = s.useCallback(
            (e) =>
              u[e] == ae
                ? "Summary" + e
                : u[e] == ie
                ? "Placeholder" + e
                : u[e].toString(),
            [u],
          ),
          Y = s.useCallback((e) => v, [v]),
          J = s.useCallback(
            (e) => {
              se("Currently focused index: ", e), U.E.AddImpression(u[e], ce);
            },
            [t, u],
          ),
          [$] = s.useState(new Map()),
          ne = s.useCallback(
            (n, o, a, i) => {
              if (u[n] == ae) {
                let i = 0;
                for (let e = n - 1; e >= 0; e--) u[e] == ae && (i += 1);
                let c = 0;
                for (let e = n - 1; e >= 0 && u[e] !== ae && u[e] !== ie; e--)
                  c++;
                return (
                  $.has(i) ||
                    $.set(
                      i,
                      j.Wb.Get().GetTotalSkippedAppsForDiscoveryQueue(t, l),
                    ),
                  s.createElement(
                    ye,
                    Object.assign({}, e, {
                      key: K(n),
                      focused: p === n,
                      fnLoadNextQueue: q,
                      fnCloseModal: r,
                      summaryCardIndex: i,
                      eStoreDiscoveryQueueType: t,
                      nItemHeight: a,
                      nItemWidth: o,
                      viewedAppCount: ($.get(i) || 0) + c,
                    }),
                  )
                );
              }
              return u[n] == ie
                ? s.createElement(c.s, {
                    focusable: !1,
                    style: { width: o, height: M },
                    className: (0, Z.Z)(ee().DiscoveryQueuePlaceholder),
                  })
                : s.createElement(_e, {
                    bShowMinimizedDisplay: O,
                    eStoreDiscoveryQueueType: t,
                    storePageFilter: l,
                    focused: p === n,
                    index: n,
                    fnOnAppFocus: J,
                    nItemHeight: M,
                    nItemWidth: o,
                    appID: u[n],
                  });
            },
            [t, J, u, p, M, r, q, O],
          ),
          re = s.useCallback(
            (e, t) => {
              G || (D(e), E(t));
            },
            [G],
          ),
          ue = s.useCallback((e) => u[e] !== ie, [u]),
          pe = s.useCallback(
            (e, n) => {
              se("New Focused Column: ", n, " Prev Focused Column: ", e),
                u[e] !== ie &&
                  u[e] !== ae &&
                  j.Wb.Get().SkipDiscoveryQueueItem(u[e], t, l),
                _(n);
            },
            [p, u],
          ),
          he = s.useCallback(
            (e, t) => {
              const n = [];
              for (let o = 0; o < t; ++o)
                n.push(
                  s.createElement("img", {
                    key: "dot_" + o,
                    className: (0, Z.Z)({
                      [ee().ProgressDot]: !0,
                      [ee().ProgressDotActive]: o <= e,
                      [ee().ProgressDotHidden]: u[p] === ie || u[p] === ae,
                    }),
                    src: te.Z,
                  }),
                );
              return s.createElement("div", { className: ee().ProgressCtn }, n);
            },
            [p, u],
          ),
          ge = s.useMemo(() => {
            let e = 0;
            for (let t = p; t >= 0; --t)
              if (u[t] === ie || u[t] === ae) {
                e = t;
                break;
              }
            let t = 0;
            for (let n = e + 1; n < u.length && u[n] !== ie && u[n] !== ae; ++n)
              t++;
            return [p - e - 1, t];
          }, [p, u]),
          Ce = (0, j.ZP)(t, l);
        return w
          ? s.createElement(
              Q.Yy,
              { active: n },
              s.createElement(
                me,
                null,
                s.createElement(
                  W.ZP,
                  { feature: ce },
                  s.createElement(
                    c.s,
                    {
                      autoFocus: !0,
                      focusable: !0,
                      className: ee().DiscoveryQueueCarouselCtn,
                      navEntryPreferPosition: d.c4.LAST,
                      onCancelButton: () => r && r(),
                      onCancelActionDescription: (0, V.Xx)("#Button_Close"),
                    },
                    s.createElement(
                      c.s,
                      {
                        "flow-children": "row",
                        className: (0, Z.Z)(
                          ee().TopBarCtn,
                          G && ee().TopMargin,
                        ),
                      },
                      s.createElement(
                        c.s,
                        { className: ee().LearnMore },
                        (0, V.yu)(
                          "#DiscoveryQueue_LearnMore_Default",
                          s.createElement(i.IS, {
                            className: ee().LearnMoreLink,
                            href: ve(C.De.STORE_BASE_URL + "explore"),
                          }),
                        ),
                      ),
                      s.createElement(
                        c.s,
                        { className: ee().ControlsCtn },
                        !1,
                        s.createElement(
                          c.s,
                          {
                            focusable: !0,
                            className: ee().QueueButton,
                            onClick: r,
                            onActivate: () => r && r(),
                          },
                          s.createElement(F.X, null),
                        ),
                      ),
                    ),
                    s.createElement(
                      "div",
                      { ref: P, className: ee().DiscoveryQueueWrapper },
                      s.createElement(
                        c.s,
                        { "flow-children": "row" },
                        s.createElement(
                          "div",
                          { className: ee().DiscoveryQueueName },
                          Ce,
                        ),
                      ),
                      s.createElement(
                        c.s,
                        {
                          onClick: (e) => A.current.MoveLeft(e),
                          className: (0, Z.Z)(
                            ee().QueueNavArrow,
                            ee().LeftArrow,
                            I && ee().Enable,
                          ),
                        },
                        s.createElement(F.BKy, { angle: 180 }),
                      ),
                      s.createElement(z, {
                        name: g,
                        className: ee().DiscoveryQueueCarousel,
                        ref: A,
                        fnDoesItemTakeFocus: ue,
                        fnOnFocusedColumnChange: pe,
                        fnUpdateArrows: re,
                        nNumItems: u.length,
                        nHeight: M,
                        scrollDuration: 400,
                        nItemHeight: M,
                        nItemMarginX: x,
                        fnGetColumnWidth: Y,
                        fnGetId: K,
                        fnItemRenderer: ne,
                        scrollToAlignment: "center",
                        nIndexLeftmost: 1,
                        initialColumn: 1,
                        autoFocus: !0,
                        scrollTiming: "cubic-in-out",
                        overscan: 3,
                      }),
                      s.createElement(
                        c.s,
                        {
                          onClick: (e) => A.current.MoveRight(e),
                          className: (0, Z.Z)(
                            ee().QueueNavArrow,
                            ee().RightArrow,
                            S && ee().Enable,
                          ),
                        },
                        s.createElement(F.BKy, { angle: 0 }),
                      ),
                      !G &&
                        s.createElement(
                          c.s,
                          { "flow-children": "row" },
                          he(ge[0], ge[1]),
                        ),
                    ),
                    s.createElement(
                      c.s,
                      {
                        "flow-children": "row",
                        className: (0, Z.Z)(ee().BotomBarCtn),
                      },
                      s.createElement(
                        c.s,
                        { className: ee().LabsHeader },
                        (0, V.yu)(
                          "#DiscoveryQueue_LabsHeader",
                          s.createElement("span", { className: ee().Bold }),
                          s.createElement(i.IS, {
                            className: ee().LearnMoreLink,
                            href: ve(
                              C.De.COMMUNITY_BASE_URL +
                                "groups/SteamLabs/discussions/17/",
                            ),
                          }),
                        ),
                      ),
                    ),
                  ),
                ),
              ),
            )
          : null;
      }
      function _e(e) {
        const {
            appID: t,
            nItemHeight: n,
            nItemWidth: o,
            fnOnAppFocus: i,
            index: l,
            focused: u,
            eStoreDiscoveryQueueType: d,
            storePageFilter: p,
            bShowMinimizedDisplay: v,
          } = e,
          [y] = (0, I.vs)(t, ue),
          g = (0, _.nQ)(null == y ? void 0 : y.GetAppID()),
          f = (0, r.SZ)(() => h.jg.Get().BIsGameWishlisted(t)),
          S = (0, r.SZ)(() => h.jg.Get().BIsGameIgnored(t)),
          G = (0, D.Eq)(null == y ? void 0 : y.GetTagIDs()),
          T = (0, C.id)(),
          N = T,
          k = (0, W.bJ)(),
          R = (0, m.ck)(),
          B = (0, oe.Wy)(),
          L = (null == B ? void 0 : B.ownerWindow) || window,
          P = s.useMemo(() => (0, j.Pf)(p), [p]),
          x = s.useMemo(() => "?inqueue=" + d + (p ? "_" + P : ""), [d, p, P]),
          M = s.useCallback(() => {
            L.location.href = ve(y.GetStorePageURL() + x, k);
          }, [L.location, T, y, x, k]),
          z = s.useCallback(() => {
            h.jg.Get().UpdateAppIgnore(y.GetAppID(), !S);
          }, [S, y]);
        if (
          (s.useEffect(() => {
            se("Index Focused: ", l, " Focus? ", u), u && i(l);
          }, [i, u, l]),
          !y)
        )
          return console.warn("Error: missing store item for appid ", t), null;
        const O = { width: o || void 0, height: n || void 0 },
          Q = () => {
            h.jg
              .Get()
              .UpdateGameWishlist(t, !f, ce)
              .then((e) => {
                e && (e.success, a.s.k_EResultOK);
              });
          },
          F = y.GetAssets().GetLibraryCapsuleURL();
        return s.createElement(
          c.s,
          {
            focusable: !0,
            style: O,
            onFocus: () => i(l),
            className: (0, Z.Z)(ee().DiscoveryQueueApp, u && ee().Focused),
            onOptionsActionDescription: f
              ? (0, V.Xx)("#DiscoveryQueue_RemoveFromWishlist")
              : (0, V.Xx)("#DiscoveryQueue_AddToWishlist"),
            onOptionsButton: Q,
            onOKActionDescription: (0, V.Xx)("#DiscoveryQueue_ViewStorePage"),
            onOKButton: M,
            onSecondaryActionDescription: S
              ? (0, V.Xx)("#DiscoveryQueue_Undo")
              : (0, V.Xx)("#DiscoveryQueue_IgnoreLink"),
            onSecondaryButton: z,
          },
          s.createElement(
            "div",
            { className: (0, Z.Z)(ee().IgnoredCtn, S && ee().Active) },
            s.createElement(
              "div",
              { className: (0, Z.Z)(ee().IgnoredInfo, S && ee().Active) },
              s.createElement(
                "div",
                { className: ee().IgnoredTitle },
                (0, V.Xx)("#DiscoveryQueue_Ignored"),
              ),
              s.createElement(
                "div",
                { className: ee().IgnoredDescription },
                (0, V.Xx)("#DiscoveryQueue_IgnoredConfirmation"),
              ),
              s.createElement(
                c.s,
                {
                  className: (0, Z.Z)(ee().QueueButton, ee().UndoIgnoreButton),
                  onClick: z,
                },
                T &&
                  s.createElement(A.VC, {
                    button: K.FX.X,
                    type: A.yV.Light,
                    size: A.iM.Medium,
                  }),
                (0, V.Xx)("#DiscoveryQueue_Undo"),
              ),
            ),
          ),
          s.createElement(
            c.s,
            { className: ee().AppVideoCtn },
            s.createElement(
              "div",
              { className: (0, Z.Z)(ee().WishlistBadge, f && ee().Active) },
              (0, V.Xx)("#Sale_OnWishlist"),
            ),
            R &&
              s.createElement(m.sC, {
                className: ee().DeckVerifiedLogo,
                category: y.GetPlatforms().steam_deck_compat_category,
              }),
            s.createElement(q.S, {
              key: t,
              storeItem: y,
              bCurrentlyActive: u,
              bMainCapOnly: S,
              autoplayCheckboxPosition: "top",
            }),
          ),
          s.createElement(
            c.s,
            { className: ee().AppDetailsCtn },
            s.createElement(
              "div",
              { className: ee().AppDetailsCtnTop },
              s.createElement(
                "div",
                { className: ee().AppDetailsHeader },
                F &&
                  s.createElement("img", {
                    className: ee().AppLibraryHero,
                    src: F,
                  }),
                s.createElement(
                  "div",
                  { className: ee().RightColumn },
                  s.createElement(
                    "div",
                    { className: ee().AppName },
                    y.GetName(),
                  ),
                  s.createElement(b.Jc, {
                    bSingleLineMode: !0,
                    info: { id: e.appID, type: (0, ne.Y)(y.GetAppType()) },
                  }),
                ),
              ),
              s.createElement(he, { rgTagNames: G }),
              s.createElement(
                "div",
                { className: ee().AppReviews },
                s.createElement(w.Yb, {
                  bShowTooltip: !0,
                  bTruncateTotalReviews: v,
                  appInfo: { id: e.appID, type: (0, ne.Y)(y.GetAppType()) },
                }),
              ),
              s.createElement(
                "div",
                { className: ee().AppRelevanceCtn },
                s.createElement(J.s, {
                  bShowAvatars: !v,
                  storeItem: y,
                  appID: t,
                }),
              ),
            ),
            !T &&
              s.createElement(
                "div",
                { className: ee().AppActionButtonsCtn },
                s.createElement(
                  "div",
                  { className: ee().AppActionJustButtonsCtn },
                  Boolean(null == g ? void 0 : g.demo_appid) &&
                    s.createElement(Y.f, {
                      info: {
                        id: y.GetAppID(),
                        type: (0, E.Ds)(y.GetStoreItemType(), y.GetAppType()),
                      },
                      className: (0, Z.Z)(
                        ee().QueueButton,
                        ee().Primary,
                        ee().Launch,
                      ),
                    }),
                  s.createElement(
                    "a",
                    {
                      className: (0, Z.Z)(ee().QueueButton, ee().Primary),
                      href: ve(y.GetStorePageURL() + x, k),
                    },
                    N &&
                      s.createElement(A.VC, {
                        button: K.FX.Y,
                        type: A.yV.Light,
                        size: A.iM.Medium,
                        additionalClassName: ee().YGlyph,
                      }),
                    " ",
                    (0, V.Xx)("#DiscoveryQueue_ViewStorePage"),
                  ),
                  s.createElement(
                    "div",
                    { className: ee().ButtonsRowWrap },
                    s.createElement(
                      c.s,
                      {
                        focusable: !0,
                        className: ee().QueueButton,
                        onClick: Q,
                      },
                      N &&
                        s.createElement(A.VC, {
                          button: K.FX.Y,
                          type: A.yV.Light,
                          size: A.iM.Medium,
                          additionalClassName: ee().YGlyph,
                        }),
                      " ",
                      f
                        ? (0, V.Xx)("#DiscoveryQueue_RemoveFromWishlist")
                        : (0, V.Xx)("#DiscoveryQueue_AddToWishlist"),
                    ),
                    s.createElement(
                      c.s,
                      {
                        focusable: !0,
                        className: ee().QueueButton,
                        onClick: z,
                      },
                      (0, V.Xx)("#DiscoveryQueue_IgnoreLink"),
                    ),
                  ),
                ),
              ),
          ),
        );
      }
      function he(e) {
        const { rgTagNames: t } = e,
          n = s.useMemo(
            () =>
              t.sort((e, t) =>
                h.jg.Get().GetRecommendedTags().has(e.tagid) &&
                h.jg.Get().GetRecommendedTags().has(t.tagid)
                  ? 0
                  : h.jg.Get().GetRecommendedTags().has(e.tagid)
                  ? 1
                  : -1,
              ),
            [t],
          );
        return s.createElement(
          "div",
          { className: ee().AppTagsCtn },
          n.map((e) =>
            s.createElement(
              "div",
              { key: e.name, className: ee().TagEntry },
              e.name,
            ),
          ),
        );
      }
      function ve(e, t) {
        const n = (0, p.B1)(e, t);
        return (0, re.bk)(n);
      }
      function ye(e) {
        var t;
        const {
            nItemHeight: n,
            nItemWidth: o,
            eStoreDiscoveryQueueType: r,
            fnCloseModal: a,
            summaryCardIndex: i,
            focused: l,
            fnLoadNextQueue: d,
            storePageFilter: m,
            fnDisplaySummaryReward: p,
            viewedAppCount: _,
          } = e,
          v = { width: o || void 0, height: n || void 0 },
          [y, g] = s.useState(),
          S = (0, C.id)(),
          E = l && null == y;
        s.useEffect(() => {
          E &&
            h.jg
              .Get()
              .HintLoad()
              .then(() => {
                j.Wb.Get().LoadSkippedApps(r, m).then(g);
              });
        }, [E, r, m]);
        const I = s.useMemo(
            () =>
              (null == y
                ? void 0
                : y.reduce(
                    (e, t) => (h.jg.Get().BIsGameWishlisted(t) ? e + 1 : e),
                    0,
                  )) || 0,
            [y],
          ),
          D = s.useMemo(
            () =>
              (null == y
                ? void 0
                : y.reduce(
                    (e, t) => (h.jg.Get().BIsGameIgnored(t) ? e + 1 : e),
                    0,
                  )) || 0,
            [y],
          ),
          [w, b] = s.useState(!1),
          A = (0, W.bJ)(),
          G = (0, j.hc)(r, m),
          T = (0, H.T)("DiscoveryQueueSummary"),
          N = s.useCallback(() => {
            b(!0),
              d(!1).then(() => {
                var e;
                (null === (e = null == T ? void 0 : T.token) || void 0 === e
                  ? void 0
                  : e.reason) || b(!0);
              });
          }, [
            null === (t = null == T ? void 0 : T.token) || void 0 === t
              ? void 0
              : t.reason,
            d,
          ]);
        return s.createElement(
          u.eh,
          {
            style: v,
            className: (0, Z.Z)(
              ee().SummaryCtn,
              ee().DiscoveryQueueApp,
              l && ee().Focused,
            ),
            onOptionsActionDescription: (0, V.Xx)(
              "#DiscoveryQueue_ViewWishlist",
            ),
            onOptionsButton: () => {
              window.location.href = ve(C.De.STORE_BASE_URL + "wishlist", A);
            },
            onOKActionDescription: (0, V.Xx)("#Button_Continue"),
            onOKButton: N,
            onCancelActionDescription: (0, V.Xx)("#ActionButtonLabelDone"),
            onCancelButton: () => a && a(),
          },
          s.createElement(
            "div",
            { className: ee().SummaryContentCtn },
            s.createElement(
              "div",
              { className: ee().SummaryTitle },
              (0, V.Xx)("#DiscoveryQueue_SummaryTitle"),
            ),
            s.createElement(
              "div",
              { className: ee().YourStats },
              (0, V.Xx)("#DiscoveryQueue_YourStats"),
            ),
            s.createElement(
              c.s,
              { "flow-children": "row", className: ee().SummaryGrid },
              s.createElement(
                "div",
                { className: ee().GridItem },
                s.createElement(
                  "div",
                  { className: ee().GridTitle },
                  (0, V.Xx)("#DiscoveryQueue_ViewedCaps"),
                ),
                s.createElement(
                  "div",
                  { className: ee().GridNumber },
                  _.toLocaleString(),
                ),
                s.createElement(
                  "div",
                  { className: ee().GridSubTitle },
                  (0, V.Xx)("#DiscoveryQueue_Titles"),
                ),
              ),
              s.createElement(
                "div",
                { className: ee().GridItem },
                s.createElement(
                  "div",
                  { className: ee().GridTitle },
                  (0, V.Xx)("#DiscoveryQueue_WishlistedCaps"),
                ),
                s.createElement(
                  "div",
                  { className: ee().GridNumber },
                  I.toLocaleString(),
                ),
                s.createElement(
                  "a",
                  {
                    className: (0, Z.Z)(ee().GridSubTitle, ee().TextLink),
                    href: ve(C.De.STORE_BASE_URL + "wishlist", A),
                  },
                  (0, V.Xx)("#DiscoveryQueue_ViewWishlist"),
                ),
              ),
              s.createElement(
                "div",
                { className: ee().GridItem },
                s.createElement(
                  "div",
                  { className: ee().GridTitle },
                  (0, V.Xx)("#DiscoveryQueue_IgnoredCaps"),
                ),
                s.createElement(
                  "div",
                  { className: ee().GridNumber },
                  D.toLocaleString(),
                ),
                s.createElement(
                  "a",
                  {
                    className: (0, Z.Z)(ee().GridSubTitle, ee().TextLink),
                    href: ve(C.De.STORE_BASE_URL + "account/notinterested", A),
                  },
                  (0, V.Xx)("#DiscoveryQueue_ViewIgnored"),
                ),
              ),
            ),
            !S &&
              s.createElement(
                c.s,
                { className: ee().SummaryActionButtonsCtn },
                s.createElement(
                  c.s,
                  {
                    className: (0, Z.Z)(ee().QueueButton, ee().Wide),
                    onClick: a,
                  },
                  (0, V.Xx)("#ActionButtonLabelDone"),
                ),
                !G &&
                  s.createElement(
                    c.s,
                    {
                      className: (0, Z.Z)(
                        w && ee().Disabled,
                        ee().QueueButton,
                        ee().Primary,
                        ee().Wide,
                      ),
                      onClick: N,
                    },
                    w ? (0, V.Xx)("#Loading") : (0, V.Xx)("#Button_Continue"),
                  ),
              ),
          ),
          Boolean(!G) &&
            s.createElement(
              s.Fragment,
              null,
              Boolean(f.Get().BIsSaleActive()) &&
                s.createElement(ge, { focused: l }),
              Boolean(p) && p(i + 1),
            ),
        );
      }
      function ge(e) {
        const { focused: t } = e,
          [n, o] = s.useState(null),
          r = ((0, C.id)(), f.Get().BIsSaleActive() && n);
        s.useEffect(() => {
          t &&
            f.Get().BIsSaleActive() &&
            !n &&
            f
              .Get()
              .GetNumTradingCardsEarned()
              .then((e) => {
                e.eresult === a.s.k_EResultOK && o(e);
              });
        }, [t, n]);
        const i = (0, W.bJ)(),
          l = ve(C.De.STORE_BASE_URL + "sale/summersaletradingcards", i);
        return r
          ? s.createElement(
              c.s,
              { className: ee().TradingCardCtn },
              s.createElement("img", {
                className: ee().TradingCardImage,
                src:
                  C.De.MEDIA_CDN_URL +
                  "store/promo/summer2022/card_stack.png?v-1",
              }),
              s.createElement(
                c.s,
                { className: ee().TradingCardColumn },
                s.createElement(
                  "div",
                  { className: ee().TradingCardText },
                  (0, V.yu)(
                    (null == n ? void 0 : n.earned_today) > 0
                      ? "#DiscoveryQueue_TradingCardsEarned_Today"
                      : "#DiscoveryQueue_TradingCards_Desc",
                    s.createElement("a", { className: ee().TextLink, href: l }),
                  ),
                ),
              ),
            )
          : null;
      }
    },
    35388: (e, t, n) => {
      "use strict";
      n.d(t, { g: () => c });
      var o = n(33940),
        r = n(89526),
        s = n(32765),
        a = n(82588),
        i = n(95501),
        l = n(19094);
      function c() {
        const [e, t] = (0, r.useState)(!1),
          n = (0, s.id)();
        return (
          (0, r.useEffect)(() => {
            if (!e) {
              const e = (0, s.kQ)("loyalty_webapi_token", "application_config");
              if ("string" == typeof e) {
                (() =>
                  (0, o.mG)(this, void 0, void 0, function* () {
                    a.Wb.BHasTransport() ||
                      a.Wb.Init(
                        new l.J(s.De.WEBAPI_BASE_URL, e).GetServiceTransport(),
                      ),
                      i.a6.BIsLoaded() ||
                        (yield i.a6.Init(new l.J(s.De.WEBAPI_BASE_URL, e))),
                      t(!0);
                  }))();
              } else if (s.L7.logged_in) n && t(!0);
              else {
                (() =>
                  (0, o.mG)(this, void 0, void 0, function* () {
                    i.a6.BIsLoaded() ||
                      (yield i.a6.Init(new l.J(s.De.WEBAPI_BASE_URL, ""))),
                      t(!0);
                  }))();
              }
            }
          }, [e, n]),
          e
        );
      }
    },
  },
]);
