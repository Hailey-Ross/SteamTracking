/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [4158],
  {
    90366: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        OtherEventsCtn: "_1qNsZzOZwNCYm1GS9pqnZE",
        OtherEvents_MainImageCtn: "_1_8oyHdewqai4JuEIh11wy",
        OtherEvents: "_2ioeML9G6BTyA11zRYPJiO",
        OtherEvents_EventCtn: "_17gGs3rUyGwRkz8uPik0rB",
        OtherEvents_MainImage: "_3xf4AU1wEY5nIzAOdOnSsj",
        OtherEvents_BGImage: "_3rp-lFmelffTONjJ-ldqgL",
        OtherEvents_ContentCtn: "_3QaFWiKl_XbnEBVEhdfeLt",
        OtherEvents_TextCtn: "_2AVL1OmApcsfoOPFx8QThT",
        OtherEvents_TextTitle: "_3ZuflpGGSeJvmjZJIQx5e0",
        UpcomingCtn: "_--lM7hJVkwcISdQAWy1fy",
        OtherEvents_SubTitle: "_2UUNjtLra_-qqwuU_ktz94",
        HoversEnabled: "_34Nxj-HIVRgOjpEoZXrtFD",
        PartnerEventRowCapsule_MainImage: "_2bZBnkMp0OljJLD36Un9Rs",
        EventSummaryContainer: "_3PdWgzJe3GHkyxSZIwO-s9",
        EventSummaryText: "h5tE8wA0PgU4nQ14CqEFH",
        EventSummaryType: "_1Fp_lXtrNwSdYbJzuWW4Lj",
        HorizontalEvent: "_1RS0bEbL5I8O-TAKKNlrd2",
        HorizontalSummary: "_3_1QoQ3NWvsgyUYgk21yEo",
        HorizontalTitle: "_1m9zET7Fmfr8h2A1YssRN0",
        HorizontalDescriptionCtn: "_2s9cBSqOYZUBg096zdH0Ck",
        HorizontalDescription: "Dc9KCKnzyOidFrl_me_hi",
        AppCapsuleImage: "_2vo-l83xvmTcw5MrKYG_fF",
        AppCapsuleCtn: "_1kYhaueKYB851hCFLTlB_X",
        AppCapsuleImageHover: "rcwMfB3Hsb-m7NClNj-TD",
        AppCapsulePrice: "Jq75m8cExMwOQIjp-8NfC",
      };
    },
    49065: (e) => {
      e.exports = {
        MarketingMessagePage: "_1HVoKfdcaouK3kHKX2kH5t",
        MessageListPage: "_1N7O3VXbkpN2z55HsSDZsi",
        MessageListScroll: "_2RW7G8Bi-8k-29anQh8Ie8",
        CarouselBar: "O7VJKyPtoS7TXCr6mrwCr",
        Content: "_1qtg3ASXX4ClYiTHPq9Tkl",
        LeftArrow: "_3ZyZUkBq73dLvZ6zKdM9PQ",
        RightArrow: "_2WuPusSmjw_B4rfkgb-NV8",
        Active: "cwA5j4AsP5OB7WjWuOlFv",
        Spacer: "COvXCP3wZxk_s1ho7e3WO",
        PipContainer: "_3ASpk2zuTuDhIXKorFGF_L",
        Pips: "_1rpuGJtVR-xrddd9ui6IWu",
        Pip: "ZQrtMhZB1tpkd2bgBXyIF",
        MessageListContainer: "_33cf4TnmCK5XdTjanW9bVf",
        Loading: "_1xSKZdDmIvXYCmFif6fSAq",
        MessageWrapper: "_152h7KWYvm_9hIyzRzh8kl",
        Enter: "DZICERQkVmyCBP2E-PwlH",
        EnterActive: "RU-xm1VaMHf9H7o1TFkVO",
        EnterDone: "_3AP2YQ_mKZF-H78sMt3rKC",
        Exit: "_2xmDIRYN5Pu_eHRMjWop63",
        ExitActive: "_32DFHj9NmyNtEK-3K3nKuX",
        ExitDone: "_3cFXRpyI9jrZ2qCySg3fiT",
      };
    },
    64478: (e) => {
      e.exports = {
        MainContainer: "T3yskA9Z_J8lYYiwMR4Gr",
        BackgroundImage: "_3vQ5a1hrg4SbTU1Uw3351z",
        BaseCtn: "D3UK8pLuHz5_91gJG1yxn",
        CapsuleCtn: "_1-6EylKQ97BKv1z09OCHl8",
        DescCtn: "_25xSfqWlAs91IY22h7uOSp",
        GameNameCtn: "_7lGQT4qR3nj6FqHgXU48W",
        GameName: "vGL7eHrhpGUvKYHZb5xRY",
        LibraryDetails: "_2t8tYn9q2lyga6zOfEclIt",
        Button: "_2UC3D5x-ybk_F4GT1AS9yg",
        PlayDetailCtn: "_3QmX6_ROoVgbGiEf4L6dQZ",
        DlcCtn: "_3H7i0ChQjoGWieNRcKmYea",
        Type: "HmoaKPBZvHxysTOtEt6I_",
        DealDesc: "_3fPQtBXFQwL3xrK4zmpmyq",
        OneItemRow: "_6a9d-uI8VyQTmWHS3vFI-",
        OneBigItem: "_2lKQioAzojICHeg5SX6fhc",
        TwoCapsuleRow: "_1s9-9e_1KjO0xTTJNj-KuT",
        MessageFooter: "_2S4fBjsKkxaiDF5Qs0Jz7t",
      };
    },
    92088: (e) => {
      e.exports = {
        Dummy: "Bz-g3Un8YClQejeOkhSju",
        PosterCtn: "_24bJJZ8-xr8Et4DVUrr17J",
        Poster: "_3LbyxomxMvYMy7cLThkkIf",
        Video: "_2bH_Jxh-T2YFCPBCW_pvQB",
      };
    },
    4220: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        MessageContent: "rohJ-MJ38DaQu7OALvtk2",
        IsBlur: "_2lGtReFvHkdsIF2AaOFqi-",
        GameImage: "_2It5bIVOQ5kfPi3hxgljv",
        Legal: "zzC_W5UiAVOuZkk_uUVRa",
        MessageFooter: "_20RJ2DOwJVsUOJlg3_K-Ct",
        ButtonAndPriceCtn: "_2FwUGWmfUW21dl1fJpb8v8",
        NoButton: "_1FbSdZAVXva9cuGL3-Cj77",
        Btn: "_3YohCYvZ6UbfgCXH2uhaOD",
        MessagePriceCtn: "ddVk7jceHdJGG_smPqze_",
        Price: "KtsI7seCQPeIUBDBVaaSl",
        NoPrice: "_3gtjPTBj2Oio-yMRKwMBCB",
        PriceReal: "zlxx_FpPzwp3XzjFyVJcF",
        PriceRealShort: "_1XB_wXklFPM9VgSnkNYAkV",
        PriceRegular: "_7m4i8_D4q2RG-7pzpvnz3",
        Strike: "_3fFJl5u5Gen9madON-3suu",
        ShareLinks: "_2FhhQXg4pxEIwAOg5vjbjl",
        All: "_1WpMexuRP6M2yHFNaXP6JO",
        TextTop: "_3cnZMnG9zf3NUPjSE2G1_n",
        TextBottom: "_2pJeucA0CkYXlnj-DCA9X4",
        ButtonContainer: "_3CVNg4d--HZWIFLRPW6kT9",
      };
    },
    53545: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ke: () => h,
        LP: () => f,
        N8: () => g,
        Q2: () => y,
        wM: () => E,
      });
      var s = a(85556),
        n = a(42718),
        r = a(47427),
        l = a(77936),
        i = a(79545),
        o = a(44237),
        c = a(37563),
        m = a(80998),
        u = a(51465),
        d = a(62210),
        p = a(54842);
      class g {
        constructor(e) {
          (this.m_setMessagesSeen = new Set()), (this.m_SteamInterface = e);
        }
        static Init(e) {
          g.sm_Instance = new g(e);
        }
        SetSteamInterfacePromotions(e) {
          this.m_SteamInterfacePromotions = e;
        }
        static Get() {
          return (
            (0, d.X)(g.sm_Instance, "MarketingMessages store not initialized"),
            g.sm_Instance
          );
        }
        GetMessageList(e, t = !1) {
          return (0, s.mG)(this, void 0, void 0, function* () {
            if (!c.L7.logged_in) return [];
            const a = i.gA.Init(o.Pe);
            a.Body().set_country_code(c.De.COUNTRY),
              a.Body().set_elanguage((0, l.jM)(c.De.LANGUAGE)),
              a.Body().set_client_package_version(e.nClientPackageVersion),
              a.Body().set_operating_system(e.eOSType),
              t && a.Body().set_include_seen_messages(!0),
              (0, m.pA)(a),
              (0, m.De)(a, g.sm_DefaultDataRequest);
            const s = yield o.Bn.GetMarketingMessagesForUser(
              this.m_SteamInterface.GetServiceTransport(),
              a,
            );
            if (1 != s.GetEResult())
              throw `Error loading marketing messages: ${s.GetEResult()}`;
            if (t)
              for (const e of s.Body().messages())
                e.already_seen() &&
                  this.m_setMessagesSeen.add(e.message().gid());
            return s.Body().messages();
          });
        }
        GetSingleMessage(e, t) {
          return (0, s.mG)(this, void 0, void 0, function* () {
            const a = i.gA.Init(o.F5);
            let s;
            if (
              (a.Body().set_gid(e),
              (0, m.pA)(a),
              (0, m.De)(a, g.sm_DefaultDataRequest),
              (s =
                t || c.L7.logged_in
                  ? yield o.Bn.GetDisplayMarketingMessageForUser(
                      this.m_SteamInterface.GetServiceTransport(),
                      a,
                    )
                  : yield o.Bn.GetDisplayMarketingMessage(
                      this.m_SteamInterface.GetAnonymousServiceTransport(),
                      a,
                    )),
              1 != s.GetEResult())
            )
              throw `Error loading marketing messages: ${s.GetEResult()}`;
            return s.Body().message();
          });
        }
        MarkMessageSeen(e, t, a) {
          if (this.m_setMessagesSeen.has(e)) return;
          const s = i.gA.Init(o.UD);
          s.Body().set_gid(e),
            s.Body().set_display_index(t),
            s.Body().set_template_type(a),
            o.Bn.MarkMessageSeen(
              this.m_SteamInterface.GetServiceTransport(),
              s,
            ),
            this.m_setMessagesSeen.add(e);
        }
        BIsMessageSeen(e) {
          return this.m_setMessagesSeen.has(e);
        }
      }
      g.sm_DefaultDataRequest = { include_release: !0, include_assets: !0 };
      class _ {
        constructor(e) {
          (this.m_templateVars = void 0),
            (0, p.rC)(this),
            (this.m_message = e),
            e.associated_item() &&
              (this.m_item = new u.Z(
                e.associated_item(),
                g.sm_DefaultDataRequest,
              )),
            (this.m_templateVars = (function (e) {
              if (!e) return null;
              try {
                const t = JSON.parse(e);
                return (
                  t.use_additional_fields &&
                    (t.use_additional_fields =
                      "true" === t.use_additional_fields ||
                      1 === t.use_additional_fields),
                  t.use_custom_legal_text &&
                    (t.use_custom_legal_text =
                      "true" === t.use_custom_legal_text ||
                      1 === t.use_custom_legal_text),
                  t.last_asset_mtime &&
                    (t.last_asset_mtime = parseInt(t.last_asset_mtime)),
                  (t.ll_image = t.ll_image || {}),
                  t
                );
              } catch (e) {
                "dev" == c.De.WEB_UNIVERSE &&
                  console.error(
                    "MarketingMessageReadAndParseTemplateVars: Failed to prase",
                    e,
                  );
              }
              return null;
            })(e.template_vars_json()));
        }
        get id() {
          return this.m_message.gid();
        }
        GetType() {
          return this.m_message.type();
        }
        GetTemplateType() {
          return this.m_message.template_type();
        }
        GetTemplateTypeForReporting() {
          switch (this.GetTemplateVars().custom_display) {
            case "replay2022":
              return 5;
            case "dlc_override":
              return 4;
          }
          return 1;
        }
        GetTemplateVars() {
          return this.m_templateVars;
        }
        GetTemplateImage() {
          let e = this.m_templateVars.ll_image[c.De.LANGUAGE],
            t = (0, l.jM)(c.De.LANGUAGE);
          return (
            e ||
              c.De.LANGUAGE != (0, l.j_)(27) ||
              ((e = this.m_templateVars.ll_image.LATAM), (t = 27)),
            e || ((e = this.m_templateVars.ll_image.english), (t = 0)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetTemplateBackgroundImage() {
          let e = this.m_templateVars.background[c.De.LANGUAGE],
            t = (0, l.jM)(c.De.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.background.english), (t = 0)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetFeaturedVideoMP4URL() {
          return this.m_templateVars.featured_video_mp4;
        }
        GetFeaturedVideoWebMURL() {
          return this.m_templateVars.featured_video_webm;
        }
        GetPosterImage() {
          let e = this.m_templateVars.poster[c.De.LANGUAGE],
            t = (0, l.jM)(c.De.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.poster.english), (t = 0)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetSubtitleObj() {
          return this.m_templateVars.subtitles;
        }
        GetDLCAppIDs() {
          return this.m_templateVars.additional_featuring
            .filter((e) => Boolean(e.appid))
            .map((e) => e.appid);
        }
        SetDLCAppIDOverride(e) {
          (this.m_templateVars.additional_featuring = e.map((e) => ({
            appid: e,
          }))),
            (this.m_templateVars.custom_display = "dlc_override");
        }
        OverrideCustomText(e) {
          this.m_templateVars.button_text_custom = e;
        }
        OverrideURL(e) {
          this.m_templateVars.linkurl = e;
        }
        BHasTemplateAnimatedAssets() {
          return this.m_templateVars.has_animated_assets;
        }
        BHasTemplateAnimatedAssetForLanguage(e) {
          const t = (0, l.j_)(e);
          return Boolean(this.m_templateVars.mp4[t]);
        }
        GetTemplateWebM(e) {
          var t;
          const a = (0, l.j_)(e);
          return null === (t = this.m_templateVars.webm[a]) || void 0 === t
            ? void 0
            : t.path;
        }
        GetTemplateMP4(e) {
          var t;
          const a = (0, l.j_)(e);
          return null === (t = this.m_templateVars.mp4[a]) || void 0 === t
            ? void 0
            : t.path;
        }
        GetLegalHTML() {
          return this.GetTemplateVars().use_custom_legal_text
            ? this.GetTemplateVars().custom_legal_text
            : ((e = this.GetTemplateVars().partner),
              `© ${new Date().getFullYear()} Valve Corporation${e ? " and " + e : ""}. <br/>All trademarks are property of their respective owners in the US and other countries.`);
          var e;
        }
        get associated_item() {
          return this.m_item;
        }
      }
      (0, s.gn)([p.LO], _.prototype, "m_templateVars", void 0);
      const v = "^(replay)([0-9]{4})";
      function E(e) {
        const t = e.match(v);
        return null == t ? void 0 : t[2];
      }
      function f(e) {
        const t = e.match(v);
        return (
          (null == t ? void 0 : t[2]) &&
          !isNaN(Number(null == t ? void 0 : t[2]))
        );
      }
      function h(e, t, a) {
        const { bIncludeSeenMessages: l } = t,
          i = (0, s._T)(t, ["bIncludeSeenMessages"]),
          {
            data: o,
            isLoading: c,
            isError: m,
          } = (0, n.useQuery)(
            ["MarketingMessages", "List", i, { bIncludeSeenMessages: !!l }],
            () => e.GetMessageList(i, l),
            a,
          ),
          u = r.useMemo(
            () => (null == o ? void 0 : o.map((e) => new _(e.message()))),
            [o],
          );
        return { rgMessages: c ? null : u, isError: m };
      }
      function y(e, t, a) {
        const { data: s, isError: l } = (0, n.useQuery)(
          ["MarketingMessages", a ? "SinglePreivew" : "Single", t],
          () => e.GetSingleMessage(t, a),
          { enabled: !!t },
        );
        return {
          message: r.useMemo(() => {
            var e;
            if (s) {
              const t = new _(s);
              if (a) {
                const a = (0, c.kQ)(
                  "marketingmessage_preview_config",
                  "application_config",
                );
                (null === (e = null == a ? void 0 : a.dlc_appid_overrides) ||
                void 0 === e
                  ? void 0
                  : e.length) > 0 &&
                  t.SetDLCAppIDOverride(a.dlc_appid_overrides);
              }
              return t;
            }
          }, [s, a]),
          isError: l,
        };
      }
    },
    40833: (e, t, a) => {
      "use strict";
      a.d(t, { B: () => I, O: () => P });
      var s = a(47427),
        n = a(16610),
        r = a(82493),
        l = a(91618),
        i = a(3783),
        o = a(31421),
        c = a(77151),
        m = a(86437),
        u = a(80886),
        d = a(90366),
        p = a(85305),
        g = a(85884),
        _ = a(7769),
        v = a.n(_),
        E = a(47625),
        f = a(57803),
        h = a(91552),
        y = a(52841),
        M = a(83502),
        b = a(34913),
        S = a(22446),
        C = a(25006),
        G = a(13129),
        T = a(31846),
        k = a(13499),
        A = a(37563);
      const P = "capsule_index_";
      function I(e) {
        const {
            capsule: t,
            bShowParentApp: a,
            strExtraParams: o,
            elElementToAppendToHover: c,
            index: g,
            navKey: _,
            bHideStoreHover: E,
            onlyOneDiscountPct: f,
          } = e,
          [M, S] = s.useState(!1),
          [k] = (0, u.jk)(t.id, (0, m.TM)(t.type), n.bk),
          [I] = (0, u.vs)(a && (null == k ? void 0 : k.GetParentAppID()), n.bk),
          L = (0, C.bJ)(),
          N = (0, A.id)();
        if (!k) return null;
        const B = Boolean(I),
          w = s.createElement(
            D,
            Object.assign({}, e, {
              info: t,
              bIsHovered: M,
              bHasParentAppToDisplay: B,
              onlyOneDiscountPct: f,
            }),
          );
        return s.createElement(
          l.s,
          {
            className: (0, G.Z)({
              [v().OuterCapsuleContainer]: !0,
              [P + g]: 0 == g,
            }),
            navEntryPreferPosition: i.c4.PREFERRED_CHILD,
            navKey: _,
          },
          s.createElement(
            y.zw,
            { appid: k.GetAppID() },
            Boolean(E)
              ? s.createElement(s.Fragment, null, w)
              : s.createElement(
                  p.ll,
                  {
                    className: v().CapsuleContainer,
                    item: t,
                    elElementToAppend: e.elElementToAppendToHover,
                    bShowDemoButton: e.bShowDemoButton,
                    bShowDeckCompatibilityDialog:
                      e.bShowDeckCompatibilityDialog,
                    bHidePrice: e.bHidePrice,
                    bUseSubscriptionLayout: e.bUseSubscriptionLayout,
                    strExtraParams: e.strExtraParams,
                    fnOnHoverStateChange: !N && S,
                    nCreatorAccountID: e.creatorAccountID,
                  },
                  w,
                ),
            Boolean(c) && s.createElement("div", null, c),
          ),
          B &&
            s.createElement(
              r.Ks,
              Object.assign(
                { className: v().CapsuleParentInfo },
                (0, h.h)(I, L, N, e.strExtraParams),
              ),
              s.createElement(
                y.zw,
                { appid: I.GetAppID() },
                s.createElement(
                  "div",
                  { className: v().ParentType },
                  (0, T.Xx)(
                    11 == k.GetAppType()
                      ? "#SalePage_ParentApp_SoundTrack"
                      : "#SalePage_ParentApp_DLC",
                  ),
                ),
                s.createElement(
                  b._,
                  {
                    type: "app",
                    id: I.GetAppID(),
                    strExtraParams: e.strExtraParams,
                  },
                  s.createElement(
                    "img",
                    Object.assign(
                      {
                        loading: "lazy",
                        className: d.AppCapsuleImage,
                        alt: I.GetName(),
                        src: I.GetAssets().GetSmallCapsuleURL(),
                      },
                      (0, n.fn)(),
                    ),
                  ),
                ),
              ),
            ),
        );
      }
      function D(e) {
        var t;
        const {
            info: a,
            bHidePriceIfOwned: n,
            bHideStatusBanners: l,
            strExtraParams: i,
            imageType: d,
            bHasParentAppToDisplay: _,
            bUseSubscriptionLayout: v,
            elElementToAppendToHover: h,
            bHidePrice: b,
            bHidePlatforms: G,
            creatorAccountID: T,
            bIsHovered: A,
            onlyOneDiscountPct: P,
          } = e,
          [I] = (0, u.jk)(a.id, (0, m.TM)(a.type), { include_platforms: !0 }),
          D = (0, C.bJ)(),
          L =
            ((0, y.Dt)(a.type),
            (0, s.useMemo)(
              () => (null == I ? void 0 : I.GetIncludedAppIDsOrSelf()),
              [I],
            )),
          N =
            I &&
            (null == I
              ? void 0
              : I.GetIncludedAppIDsOrSelf().every((e) =>
                  c.jg.Get().BOwnsApp(e),
                ));
        if (!I) return null;
        const B = N && !l,
          w = (0, k.bk)((0, o.Hf)(`${I.GetStorePageURL()}${i || ""}`, D));
        let x,
          O = null;
        if (v && 0 == (null == I ? void 0 : I.GetStoreItemType()))
          O = s.createElement(M.r, { appid: I.GetAppID(), bIsMuted: A });
        else if (h);
        else {
          const t = N && n,
            r = B;
          O = s.createElement(g.Hl, {
            info: a,
            bShowAsMuted: r,
            bHidePrice: b,
            bShowInLibraryInsteadOfPrice: t,
            bHidePlatforms: G,
            creatorAccountID: T,
            bShowName: e.bShowName,
            onlyOneDiscountPct: P,
          });
        }
        return (
          "overrideNavigation" in a &&
            (x = (e) => (
              a.overrideNavigation(e),
              e.preventDefault(),
              e.stopPropagation(),
              !1
            )),
          s.createElement(
            r.IS,
            {
              href: x ? null : w,
              style: { display: "block", cursor: "pointer" },
              preferredFocus: _,
              onClick: x,
            },
            s.createElement(f.v, { appids: L, hide_status_banners: l }),
            s.createElement(g.a4, { imageType: d, info: a }),
            s.createElement(S.y, {
              eDeckCompatibilityCategory:
                null === (t = null == I ? void 0 : I.GetPlatforms()) ||
                void 0 === t
                  ? void 0
                  : t.steam_deck_compat_category,
            }),
            Boolean(A && !(0, p.Hu)()) && s.createElement(E.v, { appInfo: a }),
            O,
          )
        );
      }
    },
    40945: (e, t, a) => {
      "use strict";
      a.d(t, { KY: () => i, Ks: () => c, li: () => o });
      var s = a(47427),
        n = a(43235),
        r = a(37563);
      const l = s.createContext({ setLegalText: void 0 });
      function i() {
        return !!s.useContext(l).setLegalText;
      }
      function o() {
        return s.useContext(l).setLegalText || function (e) {};
      }
      function c(e) {
        const [t, a] = s.useState(),
          i = (0, n.U5)("BrowserView.RegisterForMessageFromParent"),
          o = (0, r.id)(),
          c = s.useMemo(
            () => ({ setLegalText: i && !o ? a : void 0 }),
            [i, a, o],
          );
        return s.createElement(
          l.Provider,
          { value: c },
          i && s.createElement(m, { strLegalText: t }),
          e.children,
        );
      }
      function m(e) {
        const { strLegalText: t } = e,
          a = s.useRef();
        return (
          s.useEffect(() => {
            (a.current = t),
              SteamClient.BrowserView.PostMessageToParent(
                "MarketingMessageLegal",
                t || "",
              );
          }, [t]),
          s.useEffect(
            () =>
              SteamClient.BrowserView.RegisterForMessageFromParent((e) => {
                "MarketingMessageDialogReady" == e &&
                  SteamClient.BrowserView.PostMessageToParent(
                    "MarketingMessageLegal",
                    a.current,
                  );
              }).unregister,
            [],
          ),
          null
        );
      }
    },
    18641: (e, t, a) => {
      "use strict";
      a.d(t, { P: () => n, h: () => r });
      var s = a(47427);
      function n(e) {
        const { title: t, bodyClassName: a, children: n } = e;
        return (
          s.useEffect(() => {
            const e = document.title;
            return (
              (document.title = t),
              () => {
                document.title = e;
              }
            );
          }, [t]),
          r(a),
          n
        );
      }
      function r(e) {
        s.useEffect(() => {
          if (!e) return;
          const t = [];
          for (const a of e.split(/ /))
            document.body.classList.contains(a) || t.push(a);
          return (
            document.body.classList.add(...t),
            () => document.body.classList.remove(...t)
          );
        }, [e]);
      }
    },
    54117: (e, t, a) => {
      "use strict";
      a.d(t, { W: () => n });
      var s = a(31846);
      function n(e, t = "#Played_", a = !1) {
        if (e >= 120) {
          let a = e / 60;
          a = Math.round(10 * a) / 10;
          let n = s.Yt.GetPreferredLocales(),
            r = a.toLocaleString(n, {
              minimumFractionDigits: 0,
              maximumFractionDigits: 1,
            });
          return (0, s.Xx)(t + "Hours", r);
        }
        return a && 1 == e
          ? (0, s.Xx)(t + "Minute", e)
          : (0, s.Xx)(t + "Minutes", e);
      }
    },
    16305: (e, t, a) => {
      "use strict";
      a.d(t, { hF: () => g, pT: () => _ });
      var s = a(85556),
        n = a(42718),
        r = a(79545),
        l = a(40057),
        i = a(22520),
        o = a(82182),
        c = a(65255),
        m = a(37563),
        u = a(25006),
        d = a(50423),
        p = a(47427);
      function g(e) {
        const t = (0, l.bY)();
        let a = (0, n.useQuery)(
          ["useGamePlaytimeInfo", e],
          () =>
            (0, s.mG)(this, void 0, void 0, function* () {
              return (function (e, t) {
                return (0, s.mG)(this, void 0, void 0, function* () {
                  const a = r.gA.Init(o.pp);
                  a.Body().set_steamid(c.L7.steamid),
                    a.Body().set_appids_filter([e]),
                    a.Body().set_include_played_free_games(!0),
                    a.Body().set_language(c.De.LANGUAGE);
                  const s = yield o.lk.GetOwnedGames(t, a);
                  return s.Body().games().length > 0
                    ? s.Body().games()[0].toObject()
                    : {};
                });
              })(e, t);
            }),
          { enabled: Boolean(e && e != i.kI) },
        );
        return a.isSuccess ? a.data : null;
      }
      function _(e, t) {
        let a = (0, u.YR)(
          (function (e) {
            return (0, m.h4)() &&
              (null == e
                ? void 0
                : e.startsWith("https://store.steampowered.com"))
              ? e.replace(
                  "https://store.steampowered.com",
                  "https://store.steamchina.com",
                )
              : e;
          })(e),
          t,
        );
        return (
          a.startsWith("steam://") || (a = `steam://openurl/${a}`),
          (0, p.useCallback)(
            (e) => {
              (0, d.RA)(e).location.href = a;
            },
            [a],
          )
        );
      }
    },
    70267: (e, t, a) => {
      "use strict";
      a.d(t, { v: () => oe, U: () => ie });
      var s = a(47427),
        n = a(77936),
        r = a(53545),
        l = a(40945),
        i = a(37563),
        o = a(27299),
        c = a(16305),
        m = a(82493),
        u = a(85556),
        d = a(80751),
        p = a.n(d),
        g = a(42718),
        _ = a(22520),
        v = a(65255);
      function E(e) {
        const {
          isLoading: t,
          isError: a,
          data: s,
        } = (0, g.useQuery)(
          ["useDLCHubCount", e],
          () =>
            (0, u.mG)(this, void 0, void 0, function* () {
              return (function (e) {
                var t, a;
                return (0, u.mG)(this, void 0, void 0, function* () {
                  const s = `${v.De.STORE_BASE_URL}dlc/${e}/ajaxgetdlccount`,
                    n = { origin: self.origin },
                    r = yield p().get(s, { params: n, withCredentials: !1 });
                  if (200 !== r.status || 1 !== r.data.success)
                    throw new Error(
                      `FetchDLCCount failed: status == ${r.status}, eresult == ${null === (t = r.data) || void 0 === t ? void 0 : t.success}, err_msg == ${null === (a = r.data) || void 0 === a ? void 0 : a.err_msg}`,
                    );
                  return r.data.count;
                });
              })(e);
            }),
          { enabled: Boolean(e && e != _.kI) },
        );
        return t || a ? null : s;
      }
      var f = a(86437),
        h = a(80886),
        y = a(85884),
        M = a(40833),
        b = a(61183),
        S = a(25006),
        C = a(31846),
        G = a(54117),
        T = a(64478),
        k = a(30750),
        A = a(91618),
        P = a(10162),
        I = a(92797);
      function D(e, t, a, s) {
        if (!s) return null;
        const n = a ? "?t=" + a : "";
        return s.path.startsWith("images")
          ? `${v.De.MEDIA_CDN_URL}steam/marketing/${e}/${s.path}${n}`
          : `${v.De.BASE_URL_SHARED_CDN}store_item_assets/mm/${e}/${t}/${s.path}${n}`;
      }
      var L = a(20417);
      function N(e) {
        var t;
        const { path: a, message: n, eLanguage: r } = e,
          l = (0, u._T)(e, ["path", "message", "eLanguage"]),
          i =
            null === (t = n.GetTemplateVars()) || void 0 === t
              ? void 0
              : t.last_asset_mtime,
          o = D(n.id, r, i, { type: "file", path: a });
        return s.createElement("img", Object.assign({}, l, { src: o }));
      }
      function B(e) {
        var t;
        const { message: a, mp4Path: n, webmPath: r, language: l } = e,
          i = (0, u._T)(e, ["message", "mp4Path", "webmPath", "language"]),
          o =
            null === (t = a.GetTemplateVars()) || void 0 === t
              ? void 0
              : t.last_asset_mtime,
          c = D(a.id, l, o, { type: "file", path: r }),
          m = D(a.id, l, o, { type: "file", path: n }),
          d = (0, s.useRef)(null),
          p = (0, s.useRef)(!1),
          g = (0, s.useCallback)(() => {
            d.current &&
              ("visible" === document.visibilityState
                ? p.current && (d.current.play(), (p.current = !1))
                : d.current.paused || (d.current.pause(), (p.current = !0)));
          }, []);
        return (
          (0, L.JI)(document, "visibilitychange", g),
          (0, s.useEffect)(() => g(), [g]),
          s.createElement(
            "video",
            Object.assign({}, i, { ref: d }),
            s.createElement("source", { src: c, type: "video/webm" }),
            s.createElement("source", { src: m, type: "video/mp4" }),
          )
        );
      }
      a(14609);
      var w = a(13129),
        x = a(62613),
        O = a(13499),
        R = a(92088);
      function V(e) {
        const t = ie(),
          [a, n] = (0, s.useState)(!1);
        return s.createElement(
          A.s,
          {
            focusable: !0,
            noFocusRing: !0,
            onActivate: () => n(!0),
            className: R.PosterCtn,
          },
          a
            ? s.createElement(
                "video",
                {
                  controls: !0,
                  muted: !0,
                  autoPlay: !0,
                  className: R.Video,
                  crossOrigin:
                    "dev" == v.De.WEB_UNIVERSE ? void 0 : "anonymous",
                },
                s.createElement("source", {
                  src: (0, O.et)(t.GetFeaturedVideoWebMURL()),
                  type: "video/webm",
                }),
                Boolean(!v.De.IN_CLIENT) &&
                  s.createElement("source", {
                    src: (0, O.et)(t.GetFeaturedVideoMP4URL()),
                    type: "video/mp4",
                  }),
                s.createElement(F, { message: t }),
              )
            : s.createElement(H, { message: t }),
        );
      }
      function H(e) {
        var t;
        const { message: a } = e,
          n =
            null === (t = a.GetTemplateVars()) || void 0 === t
              ? void 0
              : t.last_asset_mtime,
          [r, l] = a.GetPosterImage(),
          i = D(a.id, l, n, { type: "file", path: r });
        return s.createElement(
          s.Fragment,
          null,
          s.createElement("img", { src: i, className: R.Poster }),
          s.createElement(x.GhU, null),
        );
      }
      function F(e) {
        const { message: t } = e,
          a = (0, s.useMemo)(() => {
            var e;
            const a = t.GetSubtitleObj(),
              r =
                null === (e = t.GetTemplateVars()) || void 0 === e
                  ? void 0
                  : e.last_asset_mtime,
              l = new Array();
            for (let e = 0; e < 31; ++e) {
              if (!C.LJ.IsELanguageValidInRealm(e, v.De.EREALM)) continue;
              const i = (0, n.j_)(e);
              if (a && a[i]) {
                const o = a[i].path,
                  c = D(t.id, e, r, { type: "file", path: o });
                l.push(
                  s.createElement("track", {
                    key: t.id + " " + e,
                    src: c,
                    kind: "subtitles",
                    srcLang: (0, n.dt)(e),
                    default: v.De.LANGUAGE == i,
                    label: (0, C.Xx)("#language_selection_" + (0, n.j_)(e)),
                  }),
                );
              }
            }
            return l;
          }, [t]);
        return s.createElement(s.Fragment, null, a);
      }
      var U = a(4220);
      function j(e) {
        const { bLowBandwidthMode: t } = e,
          a = ie(),
          n = !t && "featured_video" === a.GetTemplateVars().custom_display;
        return s.createElement(
          S.ZP,
          null,
          s.createElement(
            "div",
            { className: U.All },
            s.createElement(
              "div",
              { className: U.MessageContent },
              s.createElement(Z, {
                isBackgroundBlur: !0,
                bOverrideUseBackgroundImage: n,
              }),
              s.createElement(Z, { bOverrideUseBackgroundImage: n }),
              Boolean(n) && s.createElement(V, null),
              s.createElement(K, null),
              s.createElement("div", { style: { clear: "both" } }),
            ),
          ),
        );
      }
      function W(e) {
        return s.createElement(
          "div",
          { className: U.All },
          s.createElement(
            "div",
            { className: U.MessageContent },
            s.createElement(Z, { isBackgroundBlur: !0 }),
            s.createElement(X, null),
            s.createElement(K, null),
            s.createElement("div", { style: { clear: "both" } }),
          ),
        );
      }
      function Z(e) {
        const { isBackgroundBlur: t, bOverrideUseBackgroundImage: a } = e,
          n = ie(),
          r = (0, c.pT)(n.GetTemplateVars().linkurl, "image"),
          [l, i] = a ? n.GetTemplateBackgroundImage() : n.GetTemplateImage();
        return s.createElement(
          A.s,
          {
            focusable: !0,
            noFocusRing: !0,
            className: (0, w.Z)(U.GameImage, t && U.IsBlur),
            onActivate: r,
          },
          l && s.createElement(N, { message: n, path: l, eLanguage: i }),
        );
      }
      function X(e) {
        const t = ie(),
          a = (0, c.pT)(t.GetTemplateVars().linkurl, "image"),
          r = (0, n.jM)(i.De.LANGUAGE),
          l = t.GetTemplateMP4(r),
          o = t.GetTemplateWebM(r);
        return s.createElement(
          A.s,
          {
            focusable: !0,
            noFocusRing: !0,
            className: (0, w.Z)(U.GameImage),
            onActivate: a,
          },
          s.createElement(B, {
            muted: !0,
            autoPlay: !0,
            controls: !1,
            loop: !0,
            mp4Path: l,
            message: t,
            webmPath: o,
            language: r,
          }),
        );
      }
      function K(e) {
        const { bHidePrice: t } = e,
          a = ie(),
          n = (0, c.pT)(a.GetTemplateVars().linkurl, "button"),
          [r, l] = (0, k.SZ)(() => [
            a.GetTemplateVars().button_text_custom ||
              a.GetTemplateVars().button_text,
            Boolean(a.GetTemplateVars().hide_price),
          ]),
          i = Boolean(t || l);
        return s.createElement(
          "div",
          { className: (0, w.Z)(U.MessageFooter, !1, T.MessageFooter) },
          s.createElement(
            "div",
            { className: U.ButtonAndPriceCtn },
            s.createElement(
              A.s,
              {
                focusable: !0,
                noFocusRing: !0,
                className: U.Btn,
                onActivate: n,
              },
              r,
            ),
            Boolean(!i) &&
              s.createElement(P.SV, null, s.createElement(z, null)),
          ),
          s.createElement(Y, null),
        );
      }
      function z() {
        const e = ie().associated_item;
        return e &&
          e.GetBestPurchaseOption() &&
          e.GetBestPurchaseOption().formatted_final_price
          ? s.createElement(
              "div",
              { className: U.MessagePriceCtn },
              s.createElement(I.nk, { storeItem: e }),
            )
          : s.createElement("div", { className: U.NoPrice });
      }
      function Y(e) {
        const t = ie();
        return (0, l.KY)()
          ? null
          : s.createElement("div", {
              className: U.Legal,
              dangerouslySetInnerHTML: { __html: t.GetLegalHTML() },
            });
      }
      const Q = { include_assets: !0 };
      function J(e) {
        var t;
        const { bPreview: a } = e,
          n = ie(),
          [r, l] = (0, s.useMemo)(
            () => [
              n.GetDLCAppIDs(),
              n.GetDLCAppIDs().map((e) => ({ id: e, type: "game" })),
            ],
            [n],
          );
        (0, h.wZ)(r, Q);
        const i = E(
          null === (t = null == n ? void 0 : n.associated_item) || void 0 === t
            ? void 0
            : t.GetAppID(),
        );
        return (
          (0, s.useEffect)(() => {
            if (n) {
              const e = Boolean(i)
                ? (0, C.kb)("#MarketingMessages_See_Count_Items", i)
                : (0, C.Xx)("#MarketingMessages_See_All_Items");
              n.OverrideCustomText(e),
                n.OverrideURL(
                  `${v.De.STORE_BASE_URL}dlc/${n.associated_item.GetAppID()}`,
                );
            }
          }, [n, i]),
          s.createElement(
            S.ZP,
            { submethod: "dlc_override" },
            s.createElement(
              "div",
              { className: T.MainContainer },
              s.createElement(
                "div",
                { className: T.BackgroundImage },
                s.createElement(q, { storeItem: n.associated_item }),
                s.createElement(q, { storeItem: n.associated_item }),
              ),
              s.createElement($, { storeItem: n.associated_item, bPreview: a }),
              s.createElement(te, {
                rgDLCSaleCapsules: l,
                messageType: n.GetType(),
              }),
              s.createElement(K, { bHidePrice: !0 }),
              s.createElement("div", { style: { clear: "both" } }),
            ),
          )
        );
      }
      function $(e) {
        const { storeItem: t, bPreview: a } = e,
          n = (0, s.useMemo)(() => ({ id: t.GetID(), type: "game" }), [t]),
          r = (0, c.hF)(t.GetAppID()),
          l = (0, s.useMemo)(() => {
            if (
              a &&
              (!(null == r ? void 0 : r.playtime_forever) ||
                !(null == r ? void 0 : r.rtime_last_played))
            ) {
              return {
                playtime_forever: 300,
                rtime_last_played: Math.floor(Date.now() / 1e3) - 432e3,
              };
            }
            return r;
          }, [r, a]),
          i = "steam://nav/games/details/" + t.GetID();
        return s.createElement(
          "div",
          { className: T.BaseCtn },
          s.createElement(
            m.IS,
            { className: T.CapsuleCtn, href: i },
            s.createElement(b.N, { info: n, bPreferLibrary: !0 }),
          ),
          s.createElement(
            "div",
            { className: T.DescCtn },
            s.createElement(
              "div",
              { className: T.GameNameCtn },
              s.createElement(
                m.IS,
                { className: T.GameName, href: i },
                t.GetName(),
              ),
            ),
            s.createElement(
              "div",
              { className: T.LibraryDetails },
              s.createElement(
                "div",
                { className: T.Btn },
                s.createElement(
                  m.IS,
                  { href: i, className: T.Button },
                  (0, C.Xx)("#EventDisplay_ViewInLibrary"),
                ),
              ),
              Boolean(null == l ? void 0 : l.rtime_last_played) &&
                s.createElement(
                  "div",
                  { className: T.PlayDetailCtn },
                  s.createElement(
                    "span",
                    null,
                    (0, C.Xx)("#MarketingMessages_DLC_lastplayed"),
                  ),
                  (0, C.m9)(l.rtime_last_played),
                ),
              Boolean(null == l ? void 0 : l.playtime_forever) &&
                s.createElement(
                  "div",
                  { className: T.PlayDetailCtn },
                  s.createElement(
                    "span",
                    null,
                    (0, C.Xx)("#MarketingMessages_DLC_hours"),
                  ),
                  (0, G.W)(l.playtime_forever),
                ),
            ),
          ),
        );
      }
      function q(e) {
        const { storeItem: t } = e,
          a = t.GetAssets().GetLibraryHeroURL();
        return a ? s.createElement("img", { src: a }) : null;
      }
      function ee(e) {
        const { messageType: t } = e;
        return s.createElement(
          s.Fragment,
          null,
          Boolean(2 === t) &&
            s.createElement(
              "div",
              { className: T.Type },
              (0, C.Xx)("#spotlight_weekend_deal"),
            ),
          Boolean(11 === t) &&
            s.createElement(
              "div",
              { className: T.Type },
              (0, C.Xx)("#spotlight_midweek_madness"),
            ),
          Boolean(12 === t) &&
            s.createElement(
              "div",
              { className: T.Type },
              (0, C.Xx)("#spotlight_daily_deal"),
            ),
          s.createElement(
            "div",
            { className: T.DealDesc },
            (0, C.Xx)("#MarketingMessages_DLC_desc"),
          ),
        );
      }
      function te(e) {
        const { rgDLCSaleCapsules: t, messageType: a } = e;
        return t.length >= 4
          ? s.createElement(
              "div",
              { className: T.DlcCtn },
              s.createElement(ee, { messageType: a }),
              s.createElement(ae, { first: t[0], second: t[1] }),
              s.createElement(ae, { first: t[2], second: t[3] }),
            )
          : t.length >= 3
            ? s.createElement(
                "div",
                { className: T.DlcCtn },
                s.createElement(ee, { messageType: a }),
                s.createElement(
                  "div",
                  { className: T.OneItemRow },
                  s.createElement(re, { id: t[0].id, type: t[0].type }),
                ),
                s.createElement(ae, { first: t[1], second: t[2] }),
              )
            : t.length >= 2
              ? s.createElement(
                  "div",
                  { className: T.DlcCtn },
                  s.createElement(ee, { messageType: a }),
                  s.createElement(
                    "div",
                    { className: T.OneItemRow },
                    s.createElement(re, { id: t[0].id, type: t[0].type }),
                  ),
                  s.createElement(
                    "div",
                    { className: T.OneItemRow },
                    s.createElement(re, { id: t[1].id, type: t[1].type }),
                  ),
                )
              : t.length >= 1
                ? s.createElement(
                    "div",
                    { className: T.DlcCtn },
                    s.createElement(ee, { messageType: a }),
                    s.createElement(
                      "div",
                      { className: T.OneBigItem },
                      s.createElement(ne, { capsule: t[0], imageType: "main" }),
                    ),
                  )
                : null;
      }
      function ae(e) {
        const { first: t, second: a } = e;
        return s.createElement(
          "div",
          { className: T.TwoCapsuleRow },
          s.createElement(
            "div",
            { className: T.DlcCtn },
            s.createElement(ne, { capsule: t, imageType: "header" }),
          ),
          s.createElement(
            "div",
            { className: T.DlcCtn },
            s.createElement(ne, { capsule: a, imageType: "header" }),
          ),
        );
      }
      function se(e, t) {
        const [a] = (0, h.jk)(e, (0, f.TM)(t), { include_platforms: !0 });
        return (0, c.pT)(
          a ? a.GetStorePageURL() : v.De.STORE_BASE_URL,
          "dlc_capsule",
        );
      }
      function ne(e) {
        const { capsule: t, imageType: a } = e;
        return (
          (t.overrideNavigation = se(t.id, t.type)),
          s.createElement(M.B, {
            capsule: t,
            imageType: a,
            bShowParentApp: !1,
            bHideStoreHover: !0,
          })
        );
      }
      function re(e) {
        const { id: t, type: a } = e,
          n = se(t, a);
        return s.createElement(y.ju, {
          id: t,
          type: a,
          fnOnClickOverride: n,
          bIsMarketingMessage: !0,
        });
      }
      const le = s.createContext(null);
      function ie() {
        return s.useContext(le);
      }
      function oe(e) {
        const { message: t, preview: a } = e,
          n = !1 !== e.active,
          r = (0, l.li)();
        return (
          s.useEffect(() => {
            n && r(t.GetLegalHTML());
          }, [n, t, r]),
          s.createElement(
            le.Provider,
            { value: t },
            s.createElement(
              s.Suspense,
              { fallback: null },
              s.createElement(me, { message: t, active: n, preview: a }),
            ),
          )
        );
      }
      const ce = s.lazy(() => a.e(938).then(a.bind(a, 21400)));
      function me(e) {
        const { message: t, active: a, preview: l } = e,
          c = (0, n.jM)(i.De.LANGUAGE),
          { bLowBandwidthMode: m } = (0, o.YW)();
        if (
          (0, r.LP)(t.GetTemplateVars().custom_display || "") &&
          i.L7.logged_in
        ) {
          const e = Number((0, r.wM)(t.GetTemplateVars().custom_display || ""));
          return isNaN(e) ? null : s.createElement(ce, { active: a, year: e });
        }
        return "dlc_override" === t.GetTemplateVars().custom_display
          ? s.createElement(J, { bPreview: l })
          : "image" === t.GetTemplateType()
            ? (0, o.p8)(t, c, m)
              ? s.createElement(W, null)
              : s.createElement(j, { bLowBandwidthMode: m })
            : null;
      }
    },
    27299: (e, t, a) => {
      "use strict";
      a.d(t, { YW: () => r, j4: () => l, p8: () => i });
      var s = a(47427),
        n = a(8285);
      function r() {
        const e = (0, n.TH)();
        return s.useMemo(() => {
          const t = new URLSearchParams(e.search);
          return {
            bIncludeSeenMessages: !!t.get("include_seen"),
            nClientPackageVersion: parseInt(
              t.get("client_package_version") || "0",
            ),
            eOSType: parseInt(t.get("os_type") || "0"),
            bLowBandwidthMode: !!t.get("low_bandwidth"),
          };
        }, [e.search]);
      }
      function l(e) {
        const t = new URLSearchParams();
        return (
          e.bIncludeSeenMessages && t.append("include_seen", "1"),
          e.nClientPackageVersion &&
            t.append(
              "client_package_version",
              e.nClientPackageVersion.toString(),
            ),
          e.eOSType && t.append("os_type", e.eOSType.toString()),
          e.bLowBandwidthMode && t.append("low_bandwidth", "1"),
          t.toString()
        );
      }
      function i(e, t, a) {
        return (
          !(a || !e.BHasTemplateAnimatedAssets()) &&
          e.BHasTemplateAnimatedAssetForLanguage(t)
        );
      }
    },
    52811: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { MarketingMessageRoutes: () => N, default: () => B });
      var s = a(760),
        n = a(47427),
        r = a(8285),
        l = a(82756);
      const i = n.createContext({ prioritized_list: !1 });
      function o(e) {
        const [t, a] = n.useState(),
          s = (0, r.TH)(),
          o = n.useMemo(() => {
            new URLSearchParams(s.search);
            return {};
          }, [s.search]);
        return (
          n.useLayoutEffect(() => {
            (0, l.kQ)("marketingmessage_config", "application_config");
            a({});
          }, [o]),
          t ? n.createElement(i.Provider, { value: t }, e.children, " ") : null
        );
      }
      var c = a(53545),
        m = a(1485),
        u = a(31846),
        d = a(27299),
        p = a(49065),
        g = a(62613),
        _ = a(13129),
        v = a(94350),
        E = a(18641),
        f = a(46882),
        h = a(70267);
      const y = 8;
      function M(e) {
        const { MarketingMessagesStore: t } = e,
          a = (0, d.YW)(),
          { rgMessages: s, isError: l } = (0, c.Ke)(t, a),
          [i, o] = n.useState(!1),
          [m, g] = n.useState(0);
        (0, E.h)(p.MarketingMessagePage);
        const _ = (0, r.k6)();
        if (
          (n.useEffect(() => {
            !s ||
              s.length ||
              l ||
              (a.bIncludeSeenMessages
                ? o(!0)
                : _.replace(
                    Object.assign(Object.assign({}, _.location), {
                      search: (0, d.j4)(
                        Object.assign(Object.assign({}, a), {
                          bIncludeSeenMessages: !0,
                        }),
                      ),
                    }),
                  ));
          }, [s, a, _, l]),
          l)
        )
          return n.createElement(
            T,
            null,
            (0, u.Xx)("#Error_ErrorCommunicatingWithNetwork"),
          );
        if (i)
          return n.createElement(
            T,
            null,
            (0, u.Xx)("#MarketingMessages_NoneAvailable"),
          );
        const v = a.bIncludeSeenMessages
          ? s
          : null == s
            ? void 0
            : s.slice(0, y);
        return n.createElement(
          "div",
          { className: p.MessageListPage },
          n.createElement(
            "div",
            { className: p.MessageListScroll },
            n.createElement(b, {
              MarketingMessagesStore: t,
              rgMessages: v,
              iActiveMessage: m,
            }),
          ),
          n.createElement(S, {
            cMessages: null == v ? void 0 : v.length,
            iMessage: m,
            setMessage: g,
          }),
        );
      }
      function b(e) {
        const {
          MarketingMessagesStore: t,
          rgMessages: a,
          iActiveMessage: s,
        } = e;
        return a
          ? n.createElement(
              "div",
              { className: p.MessageListContainer },
              null == a
                ? void 0
                : a.map((e, a) =>
                    n.createElement(k, {
                      key: e.id,
                      displayIndex: a,
                      message: e,
                      MarketingMessagesStore: t,
                      active: a == s,
                      next: a == s + 1 || a == s - 1,
                    }),
                  ),
            )
          : n.createElement(
              "div",
              { className: (0, _.Z)(p.MessageListContainer, p.Loading) },
              n.createElement(f.V, { size: "xxlarge", msDelayAppear: 500 }),
            );
      }
      function S(e) {
        const { cMessages: t, iMessage: a, setMessage: s } = e,
          r = n.useCallback(() => s(a - 1), [s, a]),
          l = n.useCallback(() => s(a + 1), [s, a]),
          i = [];
        for (let e = 0; e < t; e++)
          i.push(
            n.createElement(C, {
              key: e,
              active: e == a,
              iMessage: e,
              setMessage: s,
            }),
          );
        const o = a > 0 ? r : void 0,
          c = a < t - 1 ? l : void 0;
        return n.createElement(
          n.Fragment,
          null,
          n.createElement("div", { className: p.CarouselSpacer }),
          n.createElement(
            "div",
            { className: p.CarouselBar },
            n.createElement(
              "div",
              { className: p.Content },
              n.createElement(
                "div",
                { className: (0, _.Z)(p.LeftArrow, o && p.Active), onClick: o },
                n.createElement(g.BKy, { angle: 180 }),
              ),
              n.createElement("div", { className: p.Spacer }),
              n.createElement(
                "div",
                { className: p.PipContainer },
                n.createElement("div", { className: p.Pips }, i),
              ),
              n.createElement("div", { className: p.Spacer }),
              n.createElement(
                "div",
                { className: (0, _.Z)(p.LeftArrow, c && p.Active), onClick: c },
                n.createElement(g.BKy, { angle: 0 }),
              ),
            ),
          ),
        );
      }
      function C(e) {
        const { active: t, iMessage: a, setMessage: s } = e,
          r = n.useCallback(() => s(a), [s, a]);
        return n.createElement("div", {
          className: (0, _.Z)(p.Pip, t && p.Active),
          onClick: r,
        });
      }
      function G(e) {
        const { MarketingMessagesStore: t, preview: a } = e,
          s = (0, r.$B)(),
          { message: l, isError: i } = (0, c.Q2)(t, s.params.messageid, a);
        return (
          (0, E.h)(p.MarketingMessagePage),
          i
            ? n.createElement(
                T,
                null,
                (0, u.Xx)("#Error_ErrorCommunicatingWithNetwork"),
              )
            : s.params.messageid
              ? l
                ? n.createElement(h.v, { message: l, preview: a })
                : null
              : n.createElement(
                  T,
                  null,
                  (0, u.Xx)("#MarketingMessages_NoneAvailable"),
                )
        );
      }
      function T(e) {
        return n.createElement(
          m.VY,
          { style: { maxWidth: "400px", margin: "0 auto" } },
          n.createElement(m.h4, null, (0, u.Xx)("#Error_Generic"), " "),
          n.createElement(m.uT, null, e.children),
        );
      }
      function k(e) {
        const {
            message: t,
            MarketingMessagesStore: a,
            active: s,
            next: r,
            displayIndex: l,
          } = e,
          i = n.useRef(),
          o = n.useRef(s || r);
        if (
          ((function (e, t, a) {
            n.useEffect(() => {
              t &&
                e.MarkMessageSeen(t.id, a + 1, t.GetTemplateTypeForReporting());
            }, [t, e, a]);
          })(a, s ? t : null, l),
          (s || r) && (o.current = !0),
          !o.current)
        )
          return null;
        let c = {
          enter: p.Enter,
          enterActive: p.EnterActive,
          enterDone: p.EnterDone,
          exit: p.Exit,
          exitActive: p.ExitActive,
          exitDone: p.ExitDone,
        };
        return n.createElement(
          v.Z,
          {
            in: s,
            nodeRef: i,
            classNames: c,
            timeout: 300,
            mountOnEnter: !r,
            unmountOnExit: !r,
          },
          n.createElement(
            "div",
            { className: (0, _.Z)(p.MessageWrapper, s && p.Active), ref: i },
            n.createElement(h.v, { message: t, active: s }),
          ),
        );
      }
      var A = a(40057),
        P = a(77581),
        I = a(40945),
        D = a(25006),
        L = a(37563);
      const N = {
        List: () => `${s.Z.MarketingMessages()}list/`,
        Message: (e) => `${s.Z.MarketingMessages()}${e}`,
        MessagePreview: (e) => `${s.Z.MarketingMessages()}preview/${e}`,
      };
      function B(e) {
        const t = (function () {
          const [e, t] = n.useState(null),
            a = (0, A.lS)();
          return (
            n.useLayoutEffect(() => {
              e ||
                t(
                  (function (e) {
                    if (!w) {
                      const t = (0, L.kQ)(
                        "marketingmessage_config",
                        "application_config",
                      );
                      if (
                        ((w = new c.N8(e)),
                        null == t ? void 0 : t.promotion_operation_token)
                      ) {
                        const e = new P.J(
                          L.De.WEBAPI_BASE_URL,
                          t.promotion_operation_token,
                        );
                        w.SetSteamInterfacePromotions(e);
                      }
                    }
                    return w;
                  })(a),
                );
            }, [e, a]),
            e
          );
        })();
        return t
          ? n.createElement(
              D.ZP,
              {
                domain: "store.steampowered.com",
                controller: "message",
                method: "default",
              },
              n.createElement(
                o,
                null,
                n.createElement(
                  I.Ks,
                  null,
                  n.createElement(
                    r.rs,
                    null,
                    n.createElement(
                      r.AW,
                      { path: `${N.List()}` },
                      n.createElement(M, { MarketingMessagesStore: t }),
                    ),
                    n.createElement(
                      r.AW,
                      { path: `${N.MessagePreview(":messageid")}` },
                      n.createElement(G, {
                        MarketingMessagesStore: t,
                        preview: !0,
                      }),
                    ),
                    n.createElement(
                      r.AW,
                      { path: `${N.Message(":messageid")}` },
                      n.createElement(G, { MarketingMessagesStore: t }),
                    ),
                    n.createElement(
                      r.AW,
                      null,
                      n.createElement(r.l_, { to: `${N.List()}` }),
                    ),
                  ),
                ),
              ),
            )
          : null;
      }
      let w;
    },
  },
]);
