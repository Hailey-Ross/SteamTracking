/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [9702],
  {
    19452: (e) => {
      e.exports = {
        EventTimeSection: "_27EoU0Snt5nNX20x6Pw3oU",
        EventTimeTitle: "_2sTdTYXMVbzmpZE4pBTCm3",
        EventVisibilityItem: "_3Q0gDLqbQiNMNUdIcPkk26",
        EventEditorInputPaneContainer: "_3j82MIv9kvq7XCtwNj7n0q",
        TimeWidth: "_2W8sgAlQVBIRQ1FcJK6JkO",
        EventPublishTimeCtn: "_12m3Shtk5hrE72P6Jq2BKk",
        DateWidth: "_2ao2WtX4G4yDdf4Py87Zhf",
        PacificTimeHint: "VTweaDtI9Pliy8jp6YsDH",
        TimeZone: "_2RLF9u9ZYqkczJVg9ibx9f",
        InputBorder: "_2mTwCB8Moti8eKGqffi1cq",
        TimeBlock: "_1O49ue7FtKdpbT2zjGpSos",
        TimeRowContainer: "_3ksYFTfM0JWEc5IhOzefor",
        TimeRowDropDown: "_3KrsS7BOnCu1tK2wbJUhWH",
        EndDateAmountCtn: "_2_8MRRZRmC9crmOmhirv7-",
        EndRound: "_1MAHSiuekX-Y8DBzLZTJfv",
        VisibilityItemList: "rYX24s5dEQCX9Xb7wVGpk",
        VisibilityItems: "_2SAGi1AISnnGN_NrTJHI_y",
        EventEditorVisibilityCtn: "_1jbnRVmvZRebcs3184yZFC",
        DateErrorCtn: "Bww9BDFYAZ9ksaah3sndn",
      };
    },
    76038: (e) => {
      e.exports = { CartCard: "_29hIqcTt5I5g5BMmG262NZ" };
    },
    88909: (e) => {
      e.exports = {
        CartCard: "_3s8SimT1ZQwPeXXdDFPQLK",
        TradingCardContainer: "_2haWAmlu7TDqdL95bf4G8g",
        EarnedMessage: "_2p5xYmfnLWerjNkmBDfZXp",
        Right: "_18eO4-XadW5jmTpgdATkSz",
        ProgressSection: "_2M_5i3fmNkCv4pCoMmk1Os",
        Progress: "lf5WnbH_ohSVbUnvd3Nf2",
        ProgressRail: "_3TjWhPYAqbU3Hrzm6Iq6il",
        IneligbleList: "_1r6njhPeny9XyTQKt2-__7",
      };
    },
    37772: (e) => {
      e.exports = {
        CartCard: "qp08vFwlN2mRCsja6T_-g",
        CartUpsellArea: "_2rkDlHZ2yi-tFtDk4-CC4U",
        CartUpsellTitle: "_2dxsG5kVzdAeX8R0mGOiV8",
        UpsellRow: "_24yiwSg4qoT0NRBSlWoUXw",
        Specials: "_2-sCaPlOkBP6wsNVrDNHvZ",
        Loading: "pUmkjugwizSD0CopYMP1P",
        DailyDeals: "rpifv8i-Dj8KDO5qKGvWG",
        Spotlights: "udcFpqnwSDcMv_byU2oQc",
      };
    },
    71634: (e) => {
      e.exports = {
        CouponPickerRowGlow: "_2ETXQ6ojtTNSbACqQ2o0Yv",
        CouponPickerRow: "_3wfeHGptWCHP2ctMNwtAr8",
        ModifyLink: "_3JmdOP-Eoam3irQDjytJ9V",
        CouponRepresentation: "_1_LYYN59DADLVYtqwZYjSm",
        PackageName: "_3L1DF5dTgbrn6BlQIgv8c-",
        CouponListContainer: "ir0tpMmQQazulD77PH8DZ",
        CouponListItem: "_3pw4q_MAfhjbHBkGJVrYyz",
        Disabled: "_1GFD8zuMK_JuYQUQhOo4zz",
        Image: "_2gY_V_NV2khWDAjW5A9Nmd",
        Info: "_1Je1cc8-t1TZpSr6VwGwbN",
        Discount: "_3KPbt6pUHnz1M3cEORSHvV",
        CouponInfoText: "FicMnlG4nr7BEujcPpbGp",
        Checkbox: "_265qJZDbyz2JxqvT15KpRr",
        Hidden: "_21w270Ne6__P31083H0FFV",
      };
    },
    63808: (e) => {
      e.exports = {
        GiftFormDivider: "_1mAU7zkVivAPGFPI3maedz",
        GiftFormSection: "_1tguxhk732P4gi865oLjSE",
        FormTextLabel: "_1TulC_KnETCU3Ks4Y1hQ70",
        FormTitle: "NYKHMrCLjXgs0HgP8G8ei",
        RedText: "_1Ja8Ra-vrBec1_MVpbvrL",
        GiftNoteInput: "_3wPcWGmcqJzbUXHRTPYsXa",
        GiftRecipientPickerModal: "_3R_gixvbcQCJxxRTmCvpJw",
        GiftFriendsListCtn: "_321Woxp4ONn3k90_NLayE0",
        GiftRecipientPickerFormCtn: "_2SDa5ofHp4X7qHQE540cIS",
        GiftFriendsInput: "_1OuNJQWR-7lSdtgyJf69uF",
        GiftRecipientSaveBtn: "_18bhpboMEhi47IMCRQt-2s",
        GiftPickerFriendBlock: "_3qPIR-iXdtj8oUzr8cH1Ey",
        FriendAvatar: "_1AeyMd0eAcDoRyiR0KkOwC",
        Focused: "_11n414df5ioq8YLpNJuHpM",
        Disabled: "_3jwhGaqW0tVwkzg9eXjJWZ",
        Selected: "_1Wx7OLK94f5EXTrnc8MqUs",
        PersonaName: "_1ki9msaNQoGECm27Yz5YGX",
        FriendsGiftLabel: "_3FPeG6FVHnapQP5UKhrMvC",
        OwnsGame: "YK5pj3LG0Q81ZMKdO9Mcc",
        OnWishlist: "_28yZdTwE0gz4jOV6olyg7F",
        GiftFormRecipient: "_2bnjZDtqxcOZI3eITR0MuL",
        ChangeGiftRecipientBtn: "_2nYV3mGmdDtVEkoMoIWCLo",
        LinkButton: "_12zYFuKO2U-1QfeVxlGfwF",
        GiftDatePicker: "VZsqgN_QGXQcRsD6OgscT",
        ScheduleGiftBtn: "_3gADDjjeuuq4YHM8O1IeiQ",
        GiftScheduleIcon: "_742UkQg_TM_Sdf4w5Ye2a",
        GiftRadioLabel: "_3IlfjNwkM2GwzkZyD0llva",
        GiftRadioRow: "RMDo0KSLaIgeffA12m9Ln",
        GiftSignatureInput: "_3tP7DCVH8b-Vyu5ig2fTAk",
        ScheduleError: "_3y4BqvBTwDLWUl1TCNqWp9",
        LoadingError: "_35a12Zg31sBh2Lj4ClSTRz",
        GamepadTimePickerRow: "_2EZzsNeqqWMVcuzawVZc56",
        TimezoneDisplay: "_1zgxnwJ3wM_SzElTI5DOyw",
      };
    },
    39661: (e) => {
      e.exports = {
        CartCard: "_31xpGXwIZv9vlynISB1VYj",
        LineItemWrapper: "_2KiPYlH9C9k_-RZZgGJiF5",
        LineItemCapsule: "_2_GgLF39j8N-D4NVCRoADZ",
        HeaderImg: "_1iNQ1wKn2l6XMObGfGUPnj",
        LineItemPlaceholder: "_1qKu4a5ii_ihsz9mjDp2Hg",
        AddRemoveLinks: "_3fTNy8bloFM_PmW3CPbJF9",
        RemoveLineItem: "_33j4SwfO2YH9eI6qV9BKaL",
        AddLineItem: "_3k04fs3THPIZ2U7W7Uw9C7",
        LineItemRightCol: "_2CK0flAYrzVYpiphBImAD2",
        InnerLineItemCtn: "yW_j0xWpHbU537U49A8C9",
        LineItemDetailsCtn: "jRg6Oo9hDgKCGaXi9NJvU",
        LineItemCol: "_26Nx9qAoRhIHJBkdLL0kQD",
        LineItemDetailsRow: "F6ZErKA1thjnDLX-w2o-X",
        LineItemDetailsRowTop: "_1SauQBjZGVKr-LA3wv2yfW",
        LineItemSpaceBetween: "n7b9QjPvbLmeJH5iyelso",
        LineItemTitle: "pVXX8Pzc4JbT40TP4RwRG",
        LineItemPricingOptions: "_3f1XkR1Ix71B8h3LyRklCQ",
        LineItemDropDown: "_1LZzN-x9SSX3d3g9dJJ6ol",
        PlatformIcons: "_3kyTAc6GCZVQxNNiicR1sz",
        AddLineItemCtn: "_3eduNBpUQTScLmmoc-6yQ0",
        AddLineItemIcon: "_1As003FSFMOvWiuWIdGfeX",
        PendingLineItem: "PqpM1kx75xwfRB16wAS_K",
        FlexRow: "hPrcqN8eXW6ZtBpSiC1_y",
        PriceWidget: "_2yigxVMvm3cMZXMQmSczMc",
        Warning: "_1PZ2hvQoEPUrRR-9jaAMBK",
        LineItemNoticeAppsCtn: "_1-ZbqdHOMzqNLVTDKxUveU",
        LoadingThrobber: "_3eDAtc09yyL8yNchyAE4O6",
        DropDownThin: "j19kQU57WJlnAlqbrORdZ",
        DropDownOptionsCtnThin: "_2I90NjBP1pV7ekvcxqW_rt",
        DropDownOptionItem: "_2M6LSy7kCRhX31lQTxyI3F",
        WhiteText: "rXbF7guUW120blq7IxkDw",
        ErrorLineItem: "_32I-XAq6u8HgAzTVP5LXkn",
        Left: "_2CRe2s20FHpg0xDqQNHNaY",
        Error: "_2p9UO5E_Wi1ZBv2aZMiRjn",
        Muted: "_33fUnMVnXQVcaGwxic4V5N",
        GiftForNotice: "_2oJV1DcmhsnHpzPzOzCw6h",
        Name: "rvibeD2BpbjIixwwNKeT5",
      };
    },
    91585: (e) => {
      e.exports = {
        CartCard: "_2w0ZEap3hR1c0K0_DxJDdN",
        ShoppingCartPage: "_22xtsolKcQit92o-LBeRWD",
        CartCheckboxNoMargin: "_1S9a0tZYJv0d4x3-DrxbuS",
        ShoppingCartHeader: "bCGAC51za6R_thjPd7_vw",
        ShoppingCartCtn: "_1jqUY_WcPgZnIOE-d9x7wc",
        ShoppingCartLeftCol: "_17GFdSD2pc0BquZk5cejg8",
        ShoppingCartRightCol: "_3HIve50RR17shqpJqmrUps",
        SmallCart: "_31YlKoxrUknOG_d7armP5n",
        LoadingThrobber: "eDdFpOTz0O9U7xBshZJUx",
        CartSummaryCtn: "_2bIzQo07mxubFvscA8RIA8",
        EstimatedTotalFlex: "_2DjadWLFH3keW9rGWZKxSk",
        SummaryMarginBottom: "qV80oahDZsbXiS6lIDLND",
        ResponsiveShoppingCartSummary: "dpVdC9qAMjdzrN7VWFria",
        RequestPurchaseCtn: "_2jup-7OkSAzTBG-K9r9OCX",
        CartNoteText: "_31DQWsrdb_9oV-vMOaaPqI",
        CartLabelText: "_3ayrhzEm-T_IRhWeQ4HFxr",
        CartValueText: "_2WLaY5TxjBGVyuWe_6KS3N",
        ShoppingCartBreadcrumbs: "_2FKdJT3nRLNX_ue4Zj-qdK",
        CurrentBreadcrumb: "_3TtUDn-J9j6rkwHqjT-i4Y",
        ShoppingCartModal: "_28yxHQw3ZhIBbVa9EZ27Vo",
        ShoppingCartModalBtns: "_1qRagOpQN0EH1x4-13UjR5",
        FooterNotice: "LXZhw7nTAlKyny-hrKcX9",
        NoticeIndex: "_3GJopp-lG4ZnUYB5mqk2q0",
        LineItemsCtn: "_3SgHVt1Zp2MeobFUVwwJ2q",
        StoreSalePriceBox: "_2kwAcC9-igH6tzHOMTrNq",
        StoreSaleDiscountedPriceCtn: "_1qzcvSW6mt9gAKrRjf8dIQ",
        CartFooter: "_1Sdz1qnoKoD9eEPpC340Yj",
        Button: "_1rk1xUIAHMcMMDm4jz3MOM",
        BetaNotice: "_1DTyDw3G0f4gmhjAvr_MGb",
        Text: "I4Bz94kh1lGOH1KrPzxzk",
        BackgroundImage: "FaiD8bJRAZ-HoNo0VvLOO",
        HeaderNotices: "_3SXN1YgsAs-4iju4Oo7cx5",
        HeaderNotice: "_2zWY-ti_XANR3ab5tC4YrI",
        ErrorModalContent: "_1Fli53rt96SoYErpk1TqAg",
        ErrorModalMessage: "vNpgPsE5lRrVJ55wTdc1i",
        ErrorModalBottom: "_5g0iBBKqtjiGHu5VHzz1h",
        ErrorModalCode: "_34Q7Jyhi9BetqDtEOzt-26",
      };
    },
    17243: (e) => {
      e.exports = { UserCountrySelector: "_1G8JdfmCwhonn-pZk-tfwP" };
    },
    88294: (e, t, n) => {
      "use strict";
      n.d(t, { CQ: () => d, FK: () => m, Xm: () => p, sU: () => c });
      var i = n(85556),
        a = n(79545),
        r = n(75545),
        o = n(42718),
        s = n(40057),
        l = n(65255);
      function c() {
        const e = (0, s.bY)();
        return (0, o.useQuery)(
          ["AccountPrivateApps"],
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              const t = a.gA.Init(r.XR),
                n = yield r.kk.GetPrivateAppList(e, t);
              return new Set(n.Body().private_apps(!0).appids());
            }),
          { enabled: !!l.L7.accountid },
        );
      }
      function d(e) {
        const { data: t } = c();
        return !!l.L7.accountid && !!e && (t ? t.has(e) : void 0);
      }
      function u(e) {
        e.invalidateQueries(["AccountPrivateApps"]);
      }
      function m(e) {
        const t = (0, s.bY)(),
          n = (0, o.useQueryClient)();
        return (0, o.useMutation)({
          mutationFn: (n) =>
            (0, i.mG)(this, void 0, void 0, function* () {
              return _(t, [e], n);
            }),
          onSuccess: (t, i) => g(n, [e], i),
          onError() {
            u(n);
          },
        });
      }
      function p() {
        const e = (0, s.bY)(),
          t = (0, o.useQueryClient)();
        return (0, o.useMutation)({
          mutationFn: (t) =>
            (0, i.mG)(this, void 0, void 0, function* () {
              const { rgAppIDs: n, bPrivate: i } = t;
              return _(e, n, i);
            }),
          onSuccess: (e, n) => {
            const { rgAppIDs: i, bPrivate: a } = n;
            g(t, i, a);
          },
          onError() {
            u(t);
          },
        });
      }
      function _(e, t, n) {
        return (0, i.mG)(this, void 0, void 0, function* () {
          const i = a.gA.Init(r._c);
          i.Body().set_appids(t.slice()), i.Body().set_private(n);
          const o = yield r.kk.ToggleAppPrivacy(e, i);
          if (!o.BSuccess()) throw o.GetErrorMessage();
        });
      }
      function g(e, t, n) {
        e.setQueryData(["AccountPrivateApps"], (e) => {
          if (!e) return;
          const i = new Set(e);
          return (
            t.forEach((e) => {
              n ? i.add(e) : i.delete(e);
            }),
            i
          );
        });
      }
    },
    13043: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => d });
      var i = n(85556),
        a = n(47427),
        r = n(82493),
        o = n(4030),
        s = n(20417),
        l = n(37563),
        c = n(35643);
      function d(e) {
        const { children: t, navTreeRef: n } = e,
          d = (0, i._T)(e, ["children", "navTreeRef"]),
          u = a.useRef(),
          m = (0, s.BE)(u, n),
          p = (0, l.id)(),
          _ = window.__virtual_keyboard_client;
        if (p) {
          const e = window.__nav_tree_root;
          return a.createElement(
            r.Fe,
            Object.assign({}, d, {
              navTreeRef: m,
              secondary: !0,
              parentEmbeddedNavTree: e,
            }),
            a.createElement(
              c.o5,
              { factory: _ },
              a.createElement(o.O, null, t),
            ),
          );
        }
        return a.createElement(a.Fragment, null, t);
      }
    },
    74606: (e, t, n) => {
      "use strict";
      n.d(t, { g: () => d });
      var i = n(85556),
        a = n(47427),
        r = n(8285),
        o = (n(20417), n(22671)),
        s = n(91618),
        l = n(41003);
      const c = "FocusNavHistoryID";
      function d(e) {
        const { children: t, timeoutMS: n } = e,
          d = (0, i._T)(e, ["children", "timeoutMS"]),
          u = (function (e = 2) {
            const t = (0, r.k6)(),
              n = a.useRef(),
              i = (0, r.TH)(),
              s = (0, l.k0)(),
              d = i.state && i.state[c],
              u = a.useRef();
            return (
              a.useLayoutEffect(() => {
                if (!n.current) return;
                const e = n.current;
                return e
                  .Node()
                  .Tree.WindowContext.FocusChangedCallbacks.Register(
                    (n, i, a) => {
                      const r = t.location;
                      let l = r.state && r.state[c];
                      l ||
                        ((l = s
                          ? `State_${r.key}`
                          : `State_${e.Node().Tree.id}`),
                        (u.current = l),
                        t.replace(
                          Object.assign(Object.assign({}, t.location), {
                            state: Object.assign(Object.assign({}, r.state), {
                              [c]: l,
                            }),
                          }),
                        )),
                        u.current == l &&
                          (s
                            ? e.SaveState(l)
                            : window.history.replaceState(
                                Object.assign(
                                  Object.assign({}, window.history.state),
                                  { [l]: (0, o.Sp)(e.Node()) },
                                ),
                                null,
                              ));
                    },
                  ).Unregister;
              }, [t, s]),
              a.useLayoutEffect(() => {
                var t;
                if (n.current && u.current != d) {
                  const i = n.current.NavTree().DeferredFocus;
                  i.SuppressFocus();
                  const a = s
                      ? null
                      : null === (t = window.history.state) || void 0 === t
                        ? void 0
                        : t[d],
                    r = window.setTimeout(() => {
                      let e = !1;
                      s
                        ? (e = n.current.RestoreState(d, 1))
                        : a && ((0, o.$y)(n.current.Node(), a, 0), (e = !0)),
                        e ? i.Reset() : i.ExecuteQueuedFocus(),
                        (u.current = d);
                    }, e);
                  return () => {
                    window.clearTimeout(r), i.ExecuteQueuedFocus();
                  };
                }
              }, [d, t, s, e]),
              n
            );
          })(n);
        return a.createElement(
          s.s,
          Object.assign(Object.assign({}, d), { navRef: u }),
          t,
        );
      }
    },
    79489: (e, t, n) => {
      "use strict";
      n.d(t, { u: () => c });
      var i = n(85556),
        a = n(47427),
        r = n(58112),
        o = n(31421),
        s = n(25006),
        l = n(95082);
      function c(e) {
        const {
            item: t,
            feature: n,
            depth: c,
            children: d,
            noImpressionTracking: u,
          } = e,
          m = (0, i._T)(e, [
            "item",
            "feature",
            "depth",
            "children",
            "noImpressionTracking",
          ]),
          p = a.useRef(0),
          _ = 0 == t.GetStoreItemType() ? t.GetAppID() : null,
          g = (0, s.bJ)(),
          f = a.useMemo(
            () =>
              o.ZP.GetLinkParam(
                Object.assign(Object.assign({}, g), {
                  feature: n || g.feature,
                }),
                c,
              ),
            [g, n, c],
          ),
          v = a.useMemo(
            () => o.ZP.AddNavParamToURL(t.GetStorePageURL(), f),
            [t, f],
          ),
          h = (0, l.BR)(),
          E = a.useCallback(() => {
            _ && p.current != _ && (h.AddImpression(_, f), (p.current = _));
          }, [h, _, f, p]),
          C = a.createElement("a", Object.assign({}, m, { href: v }), d);
        return _ && !u ? a.createElement(r.h, { onEnter: E }, C) : C;
      }
    },
    45137: (e, t, n) => {
      "use strict";
      n.d(t, {
        AL: () => V,
        G1: () => P,
        IW: () => k,
        WR: () => w,
        bn: () => Z,
        bz: () => A,
        dW: () => M,
        fn: () => G,
        g1: () => m.g1,
        i2: () => x,
        n$: () => Y,
        nt: () => W,
        tI: () => O,
        tM: () => U,
        td: () => j,
        wN: () => H,
        z5: () => B,
      });
      var i = n(85556),
        a = n(77936),
        r = n(79545),
        o = n(82973),
        s = n(83065),
        l = n(61231),
        c = n(85516),
        d = n(80002),
        u = n(34809),
        m = n(92790),
        p = n(44731),
        _ = n(43981),
        g = n(58955),
        f = n(47427),
        v = n(42718),
        h = n(40057),
        E = n(92686),
        C = n(22520),
        I = n(77151),
        y = n(89373),
        S = n(15690),
        b = n(80886),
        L = n(2324),
        N = n(31846),
        D = n(65255),
        T = n(82756);
      function w() {
        return (0, T.ip)("cart_config", "application_config");
      }
      function G(e) {
        const t = (0, h.bY)(),
          n = (0, v.useQueryClient)(),
          a = (0, _.tv)();
        return (0, v.useMutation)(
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              return yield (function (e, t, n) {
                return (0, i.mG)(this, void 0, void 0, function* () {
                  if ((0, u.jp)(t)) {
                    const t = r.gA.Init(o.CQ);
                    t.Body().set_line_item_id(n),
                      t.Body().set_user_country(D.L7.country_code);
                    const i = yield o.Wr.RemoveItemFromCart(e, t);
                    return I.jg.Get().InvalidateCache(), i.Body().toObject();
                  }
                  {
                    const i = r.gA.Init(c.Rg);
                    i.Body().set_gidlineitems([n]),
                      i.Body().set_gidshoppingcart(t.gid);
                    const a = yield c.FP.RemoveLineItems(e, i);
                    return I.jg.Get().InvalidateCache(), a.Body().toObject();
                  }
                });
              })(t, a, e);
            }),
          {
            onSuccess() {
              (0, p.Yp)(n, a);
            },
          },
        );
      }
      function x() {
        const e = (0, h.bY)(),
          t = (0, v.useQueryClient)(),
          n = (0, _.tv)();
        return (0, v.useMutation)(
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              return yield (function (e, t) {
                return (0, i.mG)(this, void 0, void 0, function* () {
                  if ((0, u.jp)(t)) {
                    const t = r.gA.Init(o.AQ);
                    return (yield o.Wr.DeleteCart(e, t)).BSuccess();
                  }
                  {
                    const n = yield (0, m.Rn)(e, t);
                    if (n && n.line_items && n.line_items.length) {
                      const i = r.gA.Init(c.Rg);
                      return (
                        i
                          .Body()
                          .set_gidlineitems(
                            n.line_items.map(({ line_item_id: e }) => e),
                          ),
                        i.Body().set_gidshoppingcart(t.gid),
                        (yield c.FP.RemoveLineItems(e, i)).BSuccess()
                      );
                    }
                    return !1;
                  }
                });
              })(e, n);
            }),
          {
            onSuccess() {
              (0, p.Yp)(t, n);
            },
          },
        );
      }
      function k() {
        const e = (0, _.tv)();
        return !(0, u._H)(e) && !(0, u.s$)(e);
      }
      function A() {
        const e = (0, _.tv)();
        return (0, u.s$)(e);
      }
      function O(e, t, n) {
        const a = (0, _.tv)(),
          r = (0, h.bY)(),
          o = (0, v.useQueryClient)();
        return (0, v.useMutation)({
          mutationFn: () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              if ((0, u.jp)(a)) return (0, m.tZ)(r, e, t, n);
              if ((0, u.wV)(a)) return (0, m.UZ)(r, e ? [e] : void 0, t, n);
              throw "Invalid cart type";
            }),
          onSuccess: ([e, t]) => {
            1 == e && (0, p.IS)(o, a, t.cart);
          },
        });
      }
      function P(e) {
        const t = (0, _.tv)(),
          n = (0, h.bY)(),
          a = (0, v.useQueryClient)(),
          s = (0, p.te)(t);
        return (0, v.useMutation)({
          mutationFn: (e) =>
            (function (e, t, n, a, s) {
              return (0, i.mG)(this, void 0, void 0, function* () {
                const i = r.gA.Init(o.xr);
                i.Body().set_line_item_id(t),
                  i.Body().set_user_country(D.L7.country_code),
                  a && i.Body().set_gift_info(l.nI.fromObject(a)),
                  n && i.Body().set_flags(o.A1.fromObject(n)),
                  s && i.Body().set_apply_gidcoupon(s);
                const c = yield o.Wr.ModifyLineItem(e, i);
                return (
                  c.BSuccess() ||
                    console.warn(
                      `Failed to update gift info: ${c.GetEResult()}`,
                    ),
                  [c.GetEResult(), c.Body().toObject()]
                );
              });
            })(n, e.lineItemID, e.lineItemFlags, e.giftInfo, e.gidCoupon),
          onMutate: (e) =>
            (0, i.mG)(this, void 0, void 0, function* () {
              yield a.cancelQueries({ queryKey: s });
              const t = a.getQueryData(s);
              return (
                a.setQueryData(s, (t) =>
                  Object.assign(Object.assign({}, t), {
                    line_items: t.line_items.map((t) =>
                      t.line_item_id !== e.lineItemID
                        ? t
                        : Object.assign(Object.assign({}, t), {
                            flags: e.lineItemFlags || t.flags,
                            gift_info: e.giftInfo || t.gift_info,
                          }),
                    ),
                  }),
                ),
                { previousCart: t }
              );
            }),
          onSuccess: ([n, i], r, { previousCart: o }) => {
            1 == n ? ((0, p.IS)(a, t, i.cart), e && e()) : a.setQueryData(s, o);
          },
          onError: (e, t, { previousCart: n }) => {
            a.setQueryData(s, n);
          },
        });
      }
      function R() {
        const e = new d.WJ();
        return (
          e.set_country_code(D.L7.country_code),
          e.set_language(D.De.LANGUAGE),
          e.set_steam_realm(D.De.EREALM),
          e
        );
      }
      function F() {
        const e = (0, h.bY)(),
          t = (0, _.tv)(),
          [n] = (0, g.pf)();
        return (0, v.useQuery)(
          (0, p.N)(t),
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              return (function (e, t, n) {
                return (0, i.mG)(this, void 0, void 0, function* () {
                  const i = r.gA.Init(s.vE);
                  (0, u.wV)(t) || (0, u._H)(t)
                    ? (i.Body().set_gidshoppingcart(t.gid),
                      n && i.Body().set_gift_info(l.nI.fromObject(n)))
                    : (0, u.s$)(t) && i.Body().set_gidreplayoftransid(t.gid),
                    i.Body().set_context(R()),
                    i.Body().data_request().set_include_basic_info(!0),
                    i.Body().data_request().set_include_release(!0);
                  const a = yield s.ZY.ValidateCart(e, i);
                  return (
                    a.BSuccess() ||
                      console.warn(
                        `Failed to validate shopping cart: ${a.GetEResult()}`,
                      ),
                    a.Body().toObject()
                  );
                });
              })(e, t, n);
            }),
          { staleTime: 1 / 0, enabled: D.L7.logged_in || !(0, u.jp)(t) },
        );
      }
      function M() {
        const { data: e } = F();
        return f.useMemo(() => {
          var t;
          let n = new Map(),
            i = new Map(),
            a = new Map(),
            r = 1;
          const o = (e, t) => {
            i.has(e) || i.set(e, { index: r++, footnote_text: t });
          };
          return (
            null === (t = null == e ? void 0 : e.cart_items) ||
              void 0 === t ||
              t.forEach((e) => {
                var t, i, r, s, l, c, d, u, m, p, _;
                a.set(
                  e.line_item_id,
                  (function (e) {
                    var t,
                      n,
                      i,
                      a,
                      r,
                      o,
                      s,
                      l,
                      c,
                      d,
                      u,
                      m,
                      p,
                      _,
                      g,
                      f,
                      v,
                      h,
                      E,
                      C,
                      I,
                      y;
                    let S = [],
                      b = !!(null === (t = e.gift_info) || void 0 === t
                        ? void 0
                        : t.accountid_giftee);
                    if (
                      ((null ===
                        (i =
                          null === (n = e.errors) || void 0 === n
                            ? void 0
                            : n.duplicate_appids_in_cart) || void 0 === i
                        ? void 0
                        : i.length) &&
                        S.push({
                          purchase_state: 1,
                          notice_text: (0, N.Xx)(
                            "#Cart_Error_DuplicateApps_LineItem",
                          ),
                          appids: e.errors.duplicate_appids_in_cart,
                        }),
                      null ===
                        (r =
                          null === (a = e.errors) || void 0 === a
                            ? void 0
                            : a.owned_appids) || void 0 === r
                        ? void 0
                        : r.length)
                    )
                      if (
                        null === (o = e.errors) || void 0 === o
                          ? void 0
                          : o.has_existing_billing_agreement
                      )
                        S.push({
                          purchase_state: 15,
                          notice_text: (0, N.Xx)(
                            "#Cart_Error_ExistingBillingAgreement",
                          ),
                        });
                      else {
                        const t =
                          (null !==
                            (l =
                              null === (s = e.store_item) || void 0 === s
                                ? void 0
                                : s.included_appids.length) && void 0 !== l
                            ? l
                            : 0) > 1;
                        let n = (0, N.Xx)(
                          b
                            ? "#Cart_Error_AlreadyOwned_GiftLineItem_Game"
                            : "#Cart_Error_AlreadyOwned_LineItem_Game",
                        );
                        t &&
                          (n = (0, N.Xx)(
                            b
                              ? "#Cart_Error_AlreadyOwned_GiftLineItem"
                              : "#Cart_Error_AlreadyOwned_LineItem",
                          )),
                          S.push({
                            purchase_state: 2,
                            notice_text: n,
                            appids: t ? e.errors.owned_appids : null,
                          });
                      }
                    return (
                      (null === (c = e.errors) || void 0 === c
                        ? void 0
                        : c.unavailable_in_country) &&
                        S.push({
                          purchase_state: 8,
                          notice_text: (0, N.Xx)(
                            "#Cart_Error_UnavailableCountry_LineItem",
                          ),
                        }),
                      (null === (d = e.errors) || void 0 === d
                        ? void 0
                        : d.coupon_exclusive_promo) &&
                        S.push({
                          purchase_state: 13,
                          notice_text: (0, N.Xx)(
                            "#Cart_Error_CouponIsExclusivePromo",
                          ),
                        }),
                      (null === (u = e.errors) || void 0 === u
                        ? void 0
                        : u.invalid_coupon) &&
                        S.push({
                          purchase_state: 11,
                          notice_text: (0, N.Xx)("#Cart_Error_CouponIsInvalid"),
                        }),
                      (null === (m = e.errors) || void 0 === m
                        ? void 0
                        : m.invalid_coupon_for_item) &&
                        S.push({
                          purchase_state: 12,
                          notice_text: (0, N.Xx)(
                            "#Cart_Error_CouponIsInvalidForItem",
                          ),
                        }),
                      (null === (p = e.errors) || void 0 === p
                        ? void 0
                        : p.too_many_in_cart) &&
                        S.push({
                          purchase_state: 14,
                          notice_text: (0, N.Xx)("#Cart_Error_TooManyInCart"),
                        }),
                      (null === (_ = e.errors) || void 0 === _
                        ? void 0
                        : _.missing_must_own_appids) &&
                        S.push({
                          purchase_state: 16,
                          notice_text: b
                            ? (0, N.Xx)(
                                "#Cart_Error_MissingMustOwnApps_GiftLineItem",
                              )
                            : (0, N.Xx)(
                                "#Cart_Error_MissingMustOwnApps_LineItem",
                              ),
                          appids: Array.from(
                            new Set(e.errors.missing_must_own_appids).values(),
                          ),
                        }),
                      (null ===
                        (f =
                          null === (g = e.warnings) || void 0 === g
                            ? void 0
                            : g.appids_in_mastersub) || void 0 === f
                        ? void 0
                        : f.length) &&
                        S.push({
                          purchase_state: 4,
                          notice_text: (0, N.Xx)(
                            "#Cart_Error_MasterSubscription_LineItem",
                          ),
                          appids: e.warnings.appids_in_mastersub.map(
                            (e) => e.cart_appid,
                          ),
                        }),
                      (null ===
                        (h =
                          null === (v = e.warnings) || void 0 === v
                            ? void 0
                            : v.owned_appids) || void 0 === h
                        ? void 0
                        : h.length) &&
                        S.push({
                          purchase_state: 3,
                          notice_text: (0, N.Xx)(
                            "#Cart_Warning_AlreadyOwned_LineItem",
                          ),
                          appids: e.warnings.owned_appids,
                        }),
                      (null ===
                        (C =
                          null === (E = e.warnings) || void 0 === E
                            ? void 0
                            : E.owned_appids_extra_copy) || void 0 === C
                        ? void 0
                        : C.length) &&
                        S.push({
                          purchase_state: 9,
                          notice_text: (0, N.Xx)(
                            "#Cart_Warning_ExtraCopies_LineItem",
                          ),
                          appids: e.warnings.owned_appids_extra_copy,
                        }),
                      (null === (I = e.warnings) || void 0 === I
                        ? void 0
                        : I.price_has_changed) &&
                        S.push({
                          purchase_state: 10,
                          notice_text: (0, N.Xx)(
                            "#Cart_Warning_PriceChange_LineItem",
                          ),
                        }),
                      (null === (y = e.warnings) || void 0 === y
                        ? void 0
                        : y.non_refundable) &&
                        S.push({
                          purchase_state: 5,
                          notice_text: (0, N.Xx)(
                            "#Cart_Warning_NoRefund_LineItem",
                          ),
                        }),
                      S
                    );
                  })(e),
                );
                let g = !!(null === (t = e.gift_info) || void 0 === t
                  ? void 0
                  : t.accountid_giftee);
                (null ===
                  (r =
                    null === (i = e.errors) || void 0 === i
                      ? void 0
                      : i.duplicate_appids_in_cart) || void 0 === r
                  ? void 0
                  : r.length) &&
                  o(1, (0, N.Xx)("#Cart_Error_DuplicateApps_FootNote")),
                  (null ===
                    (l =
                      null === (s = e.errors) || void 0 === s
                        ? void 0
                        : s.owned_appids) || void 0 === l
                    ? void 0
                    : l.length) &&
                    ((
                      null === (c = e.errors) || void 0 === c
                        ? void 0
                        : c.has_existing_billing_agreement
                    )
                      ? o(
                          15,
                          (0, N.Xx)(
                            "#Cart_Error_ExistingBillingAgreement_FootNote",
                          ),
                        )
                      : o(
                          2,
                          (0, N.Xx)(
                            g
                              ? "#Cart_Error_AlreadyOwned_GiftFootNote"
                              : "#Cart_Error_AlreadyOwned_FootNote",
                          ),
                        )),
                  (null === (d = e.errors) || void 0 === d
                    ? void 0
                    : d.unavailable_in_country) &&
                    o(8, (0, N.Xx)("#Cart_Error_UnavailableCountry_FootNote")),
                  (null === (u = e.errors) || void 0 === u
                    ? void 0
                    : u.missing_must_own_appids) &&
                    o(
                      16,
                      g
                        ? (0, N.Xx)(
                            "#Cart_Error_MissingMustOwnApps_FootNoteGift",
                          )
                        : (0, N.Xx)("#Cart_Error_MissingMustOwnApps_FootNote"),
                    ),
                  (null ===
                    (p =
                      null === (m = e.warnings) || void 0 === m
                        ? void 0
                        : m.appids_in_mastersub) || void 0 === p
                    ? void 0
                    : p.length) &&
                    o(4, (0, N.Xx)("#Cart_Error_MasterSubscription_FootNote")),
                  (null === (_ = e.warnings) || void 0 === _
                    ? void 0
                    : _.price_has_changed) &&
                    n.set(10, (0, N.Xx)("#Cart_Warning_PriceChange_FootNote"));
              }),
            {
              mapLineItemToNotices: a,
              rgCartLevelNotices: Array.from(n.values()),
              mapValidateNoticesToFootnote: i,
            }
          );
        }, [e]);
      }
      function B(e) {
        const { mapLineItemToNotices: t, mapValidateNoticesToFootnote: n } =
          M();
        return [t.get(e) || [], n];
      }
      function X(e, t) {
        let n = "#Package";
        const i = e.GetSelfPurchaseOption(),
          a = null == i ? void 0 : i.recurrence_info;
        if (!a) return "";
        2 === a.billing_agreement_type && (n = "#GameBillingPackage");
        const r = e.GetSelfPurchaseOption();
        r.formatted_final_price && r.discount_pct && (n += "WithDiscount");
        const o =
          n +
          "CostIncludesSubscriptionBy" +
          {
            1: "Second",
            2: "Minute",
            3: "Hour",
            4: "Day",
            5: "Week",
            6: "Month",
            7: "Year",
          }[a.renewal_time_unit];
        return (0, N.Xx)(
          o,
          r.formatted_final_price,
          i.formatted_final_price,
          a.renewal_time_period,
          r.discount_pct,
        );
      }
      function j() {
        var e, t;
        const n = (0, m.g1)(),
          a = F(),
          { bOnlyHardware: o, query: s } = (function (e) {
            const t = (0, h.bY)(),
              n = e.map(({ packageid: e }) => e).filter(Boolean),
              a = 3 === (0, b.dY)(n, {}),
              o = S.Z.Get(),
              s = a
                ? n.filter((e) => {
                    var t;
                    return null ===
                      (t = o.GetPackage(e).GetSelfPurchaseOption()) ||
                      void 0 === t
                      ? void 0
                      : t.requires_shipping;
                  })
                : null,
              l = !!a && n.length == s.length;
            return {
              query: (0, v.useQuery)(
                ["cart", "validateHardware", s],
                () =>
                  (0, i.mG)(this, void 0, void 0, function* () {
                    const e = r.gA.Init(d.lj);
                    e.Body().set_context(R()), e.Body().set_packageid(s);
                    const n = yield d.VJ.GetHardwareItems(t, e);
                    return (
                      n.BSuccess() ||
                        console.warn(
                          `Failed to load hardware: ${n.GetEResult()}`,
                        ),
                      n
                        .Body()
                        .toObject()
                        .details.reduce((e, t) => {
                          var n;
                          return (
                            (e[t.packageid] = [
                              {
                                strNotice:
                                  ((n = t),
                                  (0, N.Xx)(
                                    "#Cart_ShippingEstimate_DeliveryDate",
                                    (0, L.B)(n),
                                  )),
                              },
                            ]),
                            e
                          );
                        }, {})
                    );
                  }),
                { enabled: !!s && s.length > 0, placeholderData: {} },
              ),
              bOnlyHardware: l,
            };
          })(
            (null === (e = n.data) || void 0 === e ? void 0 : e.line_items) ||
              [],
          ),
          l = (function (e) {
            const t = e.map(({ packageid: e }) => e).filter(Boolean),
              n = 3 === (0, b.dY)(t, {}),
              i = S.Z.Get(),
              a = n
                ? t.filter((e) => {
                    var t;
                    return (
                      (null === (t = i.GetPackage(e).GetSelfPurchaseOption()) ||
                      void 0 === t
                        ? void 0
                        : t.recurrence_info) &&
                      i.GetPackage(e).GetSelfPurchaseOption().recurrence_info
                        .packageid !== C.kI
                    );
                  })
                : [],
              r = a.map(
                (e) =>
                  i.GetPackage(e).GetSelfPurchaseOption().recurrence_info
                    .packageid,
              ),
              o = (0, b.dY)(r, {});
            return n && 3 === o && 0 !== a.length
              ? a.reduce((e, t) => {
                  const n = i.GetPackage(t);
                  return (
                    (e[t] = [
                      {
                        strNotice: X(
                          n,
                          i.GetPackage(
                            n.GetSelfPurchaseOption().recurrence_info.packageid,
                          ),
                        ),
                      },
                    ]),
                    e
                  );
                }, {})
              : {};
          })(
            (null === (t = n.data) || void 0 === t ? void 0 : t.line_items) ||
              [],
          ),
          c = f.useMemo(
            () =>
              s.isSuccess
                ? (function (...e) {
                    const t = {};
                    return (
                      e.forEach((e) => {
                        Object.keys(e).forEach((n) => {
                          const i = parseInt(n);
                          t[i] || (t[i] = []), t[i].push(...e[i]);
                        });
                      }),
                      t
                    );
                  })(s.data, l)
                : l,
            [s, l],
          ),
          u = !a.isSuccess || a.data.cart_items.some((e) => !!e.errors);
        return {
          validateCart: a,
          lineItemValidation: c,
          bValidForCheckout: !u,
          bOnlyHardware: o,
        };
      }
      function Z() {
        const e = (0, h.bY)();
        return (0, v.useQuery)(
          ["shopping_cart", "relevant_coupons"],
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              const t = yield (function (e) {
                return (0, i.mG)(this, void 0, void 0, function* () {
                  const t = r.gA.Init(o.r$);
                  t.Body().set_language((0, a.jM)(D.De.LANGUAGE));
                  const n = yield o.Wr.GetRelevantCoupons(e, t);
                  return n.BIsValid()
                    ? n.Body().toObject()
                    : (console.error("Failed to load relevant coupons"), {});
                });
              })(e);
              return t.line_items.reduce(
                (e, t) => ((e[t.line_item_id] = t.coupons), e),
                {},
              );
            }),
          { enabled: D.L7.logged_in, placeholderData: () => ({}) },
        );
      }
      function V() {
        return (0, v.useQuery)(
          ["shopping_cart", "sale_drop_progress"],
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              const e = yield fetch(
                  `${D.De.STORE_BASE_URL}cart/ajaxsaledropprogress`,
                ),
                t = yield e.json();
              return (
                1 !== t.eresult &&
                  console.error("Failed to load sale drop progress"),
                t
              );
            }),
          { enabled: D.L7.logged_in && y.C.Get().BIsSaleActive() },
        );
      }
      function U() {
        const e = (0, _.tv)(),
          [t] = (0, g.pf)(),
          n = `${D.De.STORE_CHECKOUT_BASE_URL}checkout/`;
        if ((0, u.jp)(e)) return `${n}?accountcart=1`;
        if ((0, u.s$)(e)) return `${n}?gidreplay=${e.gid}`;
        {
          const i = new URLSearchParams();
          return (
            i.append("cart", e.gid),
            t &&
              t.accountid_giftee &&
              (i.append("purchasetype", "gift"),
              i.append("bIsGift", "1"),
              i.append("giftInfo", encodeURIComponent(JSON.stringify(t)))),
            `${n}?${i.toString()}`
          );
        }
      }
      function W() {
        const e = (0, _.tv)();
        return (0, u._H)(e) ? e.requestID : null;
      }
      function H() {
        var e;
        const t = (0, _.tv)(),
          n = (0, E.Rs)(),
          i = (0, m.g1)(),
          a = n.isSuccess && 2 == n.data.role(),
          r =
            (null === (e = i.data) || void 0 === e ? void 0 : e.line_items) ||
            [],
          o = r.map(({ packageid: e }) => e).filter(Boolean),
          s = 3 === (0, b.dY)(o, {}),
          l = S.Z.Get(),
          c = s
            ? o.filter((e) => {
                var t;
                return !(null ===
                  (t = l.GetPackage(e).GetSelfPurchaseOption()) || void 0 === t
                  ? void 0
                  : t.user_can_purchase_as_gift);
              })
            : null;
        return (
          !!(
            a &&
            (function (e) {
              return (0, u.jp)(e) || (0, u.wV)(e);
            })(t) &&
            r &&
            s
          ) && 0 === c.length
        );
      }
      function Y() {
        const e = (0, _.tv)(),
          t = (0, E.Rs)();
        return t.isSuccess && 1 == t.data.role() && (0, u._H)(e);
      }
    },
    68824: (e, t, n) => {
      "use strict";
      n.d(t, { r: () => o });
      var i = n(47427),
        a = n(13129),
        r = n(76038);
      function o(e) {
        return i.createElement(
          "div",
          { className: (0, a.Z)(r.CartCard, e.className) },
          e.children,
        );
      }
    },
    23154: (e, t, n) => {
      "use strict";
      n.d(t, {
        SL: () => se,
        sb: () => Ee,
        fs: () => fe,
        xY: () => he,
        Wc: () => le,
        Qj: () => Ce,
      });
      var i = n(45137),
        a = n(47427),
        r = n(1485),
        o = n(10162),
        s = n(85556),
        l = n(27605),
        c = n(43344),
        d = n.n(c),
        u = n(36595),
        m = n(64936),
        p = n(71741),
        _ = n.n(p),
        g = n(13129),
        f = n(31846),
        v = n(20417),
        h = n(59728),
        E = n(19452),
        C = n.n(E),
        I = n(98973),
        y = n.n(I);
      let S = class extends a.Component {
        constructor(e) {
          super(e),
            (this.state = {
              timeAsString: null,
              dateAsString: null,
              bEndTimeBeforeStartTime: !1,
              strError: null,
            });
        }
        OnTimeChange(e) {
          const {
            nEarliestTime: t,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: i,
            disabled: a,
          } = this.props;
          if (a) return;
          if ("string" == typeof e) {
            let t = y()(e, "h:m a +-h:m", !0);
            if (!t.isValid()) return void this.setState({ timeAsString: e });
            e = t;
          }
          let r = this.props.fnGetTimeToUpdate(),
            o = 0;
          if (r) {
            const t = y().unix(r);
            e.year(t.year()),
              e.month(t.month()),
              e.day(t.day()),
              (o = e.unix());
          } else {
            o =
              y().unix(t).hour(0).second(0).minutes(0).unix() +
              3600 * e.hour() +
              60 * e.minutes();
          }
          n(o);
          let s = i && !0 === i();
          (null == this.state.timeAsString &&
            s == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ timeAsString: null, bEndTimeBeforeStartTime: s });
        }
        OnDateChange(e) {
          const { disabled: t } = this.props;
          if (t) return;
          if ("string" == typeof e) {
            let t = y()(e, "M/D/YYYY", !0);
            if (!t.isValid()) return void this.setState({ dateAsString: e });
            e = t;
          }
          const n = this.props.fnGetTimeToUpdate(),
            i = y().unix(n || m.JW.GetTimeNowWithOverride());
          e.hour(i.hour()),
            e.minute(i.minute()),
            e.second(0),
            this.props.fnSetTimeToUpdate(e.unix());
          let a =
            this.props.fnIsValidDateTime &&
            !0 === this.props.fnIsValidDateTime();
          (null == this.state.dateAsString &&
            a == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ dateAsString: null, bEndTimeBeforeStartTime: a });
        }
        IsValidDate(e) {
          if (this.props.disabled) return !1;
          const {
              nEarliestTime: t,
              nLatestTime: n,
              bWeekdaysOnly: i,
            } = this.props,
            a = y().unix(t).hour(0).seconds(0).minute(0);
          let r = e.unix() >= a.unix();
          if (r && n && n >= t) {
            const t = y().unix(n).hour(23).minute(59).seconds(59);
            r = e.unix() <= t.unix();
          }
          return (
            r && i && ((0 != e.weekday() && 6 != e.weekday()) || (r = !1)), r
          );
        }
        SetToNow() {
          this.props.fnSetToNow
            ? this.props.fnSetToNow(m.JW.GetTimeNowWithOverride())
            : this.props.fnSetTimeToUpdate(m.JW.GetTimeNowWithOverride());
        }
        componentDidMount() {
          this.UpdateError();
        }
        componentDidUpdate() {
          this.UpdateError();
        }
        UpdateError() {
          const { fnIsValidDateTime: e } = this.props,
            t = e && e();
          let n = null;
          (this.state.timeAsString ||
            this.state.dateAsString ||
            "string" == typeof t ||
            !1 === t) &&
            ((n = (0, f.Xx)("#DateTimePicker_Fallback_Invalid_DateTime")),
            this.state.timeAsString
              ? (n = (0, f.Xx)("#DateTimePicker_Time_CannotParse"))
              : this.state.dateAsString
                ? (n = (0, f.Xx)("#DateTimePicker_Date_CannotParse"))
                : "string" == typeof t && (n = t)),
            this.state.strError !== n &&
              (this.setState({ strError: n }),
              this.props.onError && this.props.onError(n));
        }
        render() {
          const {
            nLatestTime: e,
            nEarliestTime: t,
            fnGetTimeToUpdate: n,
            onError: i,
            strAlsoShowTimeZone: r,
            disabled: o,
            bNoDefaultDate: s,
          } = this.props;
          let l = n(),
            c = l > 0 ? new Date(1e3 * l) : null,
            p = "h:mm A";
          const v = !i && this.state.strError;
          let E, I;
          if (e && t && e == t && t > m.JW.GetTimeNowWithOverride()) {
            let e = y().unix(t);
            (E = {
              hours: { max: e.hour(), min: e.hour(), step: 0 },
              minutes: { max: e.minute(), min: e.minute(), step: 0 },
              seconds: { max: e.seconds(), min: e.seconds(), step: 0 },
              milliseconds: { max: 0, min: 0, step: 0 },
            }),
              (p = "HH:mm");
          }
          l || !t || s || (I = y().unix(t));
          const S = y().tz.guess(),
            b = y().unix(l).tz(S),
            L = !!r && S != r && y().unix(l).tz(r);
          return a.createElement(
            "div",
            { className: (0, g.Z)(C().EventTimeSection, this.props.className) },
            a.createElement(
              "div",
              { className: (0, g.Z)(C().EventTimeTitle, "DialogLabel") },
              a.createElement(
                h.HP,
                { toolTipContent: this.props.strDescToolTip, direction: "top" },
                Boolean(this.props.strDescription) &&
                  a.createElement("span", null, this.props.strDescription),
              ),
              v &&
                a.createElement(
                  "span",
                  { className: C().DateErrorCtn },
                  a.createElement("img", { src: u.Z }),
                  v,
                ),
            ),
            a.createElement(
              "div",
              { className: _().FlexRowContainer },
              a.createElement(
                "div",
                { className: (0, g.Z)(_().InputBorder, C().TimeBlock) },
                a.createElement(d(), {
                  onChange: this.OnDateChange,
                  timeFormat: !1,
                  value: this.state.dateAsString ? this.state.dateAsString : c,
                  isValidDate: this.IsValidDate,
                  initialValue: I,
                  inputProps: {
                    placeholder: (0, f.Xx)("#DateTimePicker_Enter_Date"),
                    className: (0, g.Z)(
                      C().DateWidth,
                      "DialogInput",
                      "DialogTextInputBase",
                    ),
                    disabled: o,
                  },
                }),
                !!L &&
                  a.createElement(
                    "div",
                    { className: C().PacificTimeHint },
                    L.format("L"),
                  ),
              ),
              a.createElement(
                "div",
                { className: (0, g.Z)(_().InputBorder, C().TimeBlock) },
                a.createElement(d(), {
                  onChange: this.OnTimeChange,
                  dateFormat: !1,
                  timeFormat: p,
                  timeConstraints: E,
                  value: this.state.timeAsString ? this.state.timeAsString : c,
                  inputProps: {
                    placeholder: (0, f.Xx)("#DateTimePicker_Enter_Time"),
                    className: (0, g.Z)(
                      C().TimeWidth,
                      "DialogInput",
                      "DialogTextInputBase",
                    ),
                    disabled: o,
                  },
                }),
                !!L &&
                  a.createElement(
                    "div",
                    { className: C().PacificTimeHint },
                    L.format("LT"),
                  ),
              ),
              this.props.bShowTimeZone &&
                a.createElement(
                  "div",
                  null,
                  a.createElement(
                    "div",
                    { className: C().TimeZone },
                    b.zoneAbbr(),
                  ),
                  !!L &&
                    a.createElement(
                      "div",
                      { className: C().TimeZone },
                      L.zoneAbbr(),
                    ),
                ),
            ),
            Boolean(E) &&
              a.createElement(
                "div",
                null,
                (0, f.Xx)("#DateTimePicker_DateTime_Fixed"),
              ),
          );
        }
      };
      (0, s.gn)([v.ak], S.prototype, "OnTimeChange", null),
        (0, s.gn)([v.ak], S.prototype, "OnDateChange", null),
        (0, s.gn)([v.ak], S.prototype, "IsValidDate", null),
        (0, s.gn)([v.ak], S.prototype, "SetToNow", null),
        (S = (0, s.gn)([l.Pi], S));
      var b = n(46984),
        L = n(37563),
        N = n(63808),
        D = n.n(N);
      const T = a.memo(function (e) {
        const { scheduledTime: t, onScheduledTimeChange: n } = e,
          [i, s] = a.useState(null),
          l = t > 0;
        return a.createElement(
          fe,
          null,
          a.createElement(Ee, null, (0, f.Xx)("#Cart_GiftDelivery_Label")),
          a.createElement(
            he,
            null,
            a.createElement(r.BQ, {
              controlled: !0,
              checked: !l,
              onChange: (e) => e && void n(0),
              label: (0, f.Xx)("#Cart_GiftDelivery_Now"),
            }),
          ),
          a.createElement(
            he,
            null,
            a.createElement(r.BQ, {
              controlled: !0,
              checked: l,
              onChange: (e) => e && void (t || n(Date.now() / 1e3)),
              label: (0, f.Xx)("#Cart_GiftDelivery_ScheduleDelivery"),
            }),
            a.createElement("div", { style: { clear: "both" } }),
            i && a.createElement("div", { className: D().ScheduleError }, i),
            l &&
              a.createElement(
                o.SV,
                null,
                a.createElement(w, {
                  scheduledTime: t,
                  onScheduledTimeChange: n,
                  setScheduledError: s,
                }),
              ),
          ),
        );
      });
      function w(e) {
        const {
          scheduledTime: t,
          onScheduledTimeChange: n,
          setScheduledError: i,
        } = e;
        if ((0, L.id)())
          return a.createElement(x, {
            scheduledTime: t,
            onScheduledTimeChange: n,
            setScheduledError: i,
          });
        {
          const e = () => G(t);
          return a.createElement(S, {
            bShowTimeZone: !0,
            className: D().GiftDatePicker,
            nEarliestTime: Date.now() / 1e3,
            fnGetTimeToUpdate: () => t,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: e,
            onError: i,
          });
        }
      }
      function G(e) {
        const t = Date.now() / 1e3 + b._H.PerYear,
          n = new Date(null, null, null, 0, 0, 0, 0).getTime() / 1e3;
        return e > t
          ? (0, f.Xx)("#Cart_GiftScheduleError_TooFar")
          : !(e < n) || (0, f.Xx)("#Cart_GiftScheduleError_InvalidDate");
      }
      function x(e) {
        const {
            scheduledTime: t,
            onScheduledTimeChange: n,
            setScheduledError: i,
          } = e,
          s = a.useMemo(() => {
            const e = new Intl.DateTimeFormat(f.Yt.GetPreferredLocales(), {
              hour: "numeric",
            });
            return (
              e.resolvedOptions().hour12 ||
              "h12" == e.resolvedOptions().hourCycle
            );
          }, []),
          l = new Date(1e3 * t),
          [c, d] = (0, a.useState)(l.getMonth()),
          [u, m] = (0, a.useState)(l.getDate()),
          [p, _] = (0, a.useState)(l.getFullYear()),
          [g, v] = (0, a.useState)(() =>
            (function (e, t) {
              let n = e.getHours(),
                i = e.getMinutes();
              return (
                t && (n > 12 ? (n -= 12) : 0 == n && (n = 12)),
                `${n}:${i < 10 ? "0" : ""}${i}`
              );
            })(l, s),
          ),
          [h, E] = (0, a.useState)(l.getHours() >= 12 ? "PM" : "AM");
        a.useEffect(() => {
          let e = g.match(/^\s*([012]?[0-9]):([0-9]{2})\s*/);
          if (!e) return;
          let t = parseInt(e[1]);
          const a = parseInt(e[2]);
          s &&
            ("PM" == h && t < 12 ? (t += 12) : "AM" == h && 12 == t && (t = 0));
          const r = new Date(p, c, u, t, a, 0, 0).getTime() / 1e3,
            o = G(r);
          !0 === o ? (i(null), n(r)) : i(o);
        }, [p, c, u, g, h, s, n, i]);
        const C = "US" == L.De.COUNTRY && "english" == L.De.LANGUAGE;
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(
            r.FT,
            { className: D().GamepadTimePickerRow },
            C && a.createElement(A, { month: c, setMonth: d }),
            a.createElement(O, { year: p, month: c, day: u, setDay: m }),
            !C && a.createElement(A, { month: c, setMonth: d }),
            a.createElement(k, { year: p, setYear: _ }),
          ),
          a.createElement(
            r.FT,
            { className: D().GamepadTimePickerRow },
            a.createElement(r.II, {
              value: g,
              onChange: (e) => v(e.currentTarget.value),
            }),
            s && a.createElement(P, { strAMPM: h, setAMPM: E }),
            a.createElement(
              r.sg,
              { className: D().TimezoneDisplay },
              a.createElement(o.SV, null, a.createElement(R, null)),
            ),
            !s && a.createElement(r.sg, null, " "),
          ),
        );
      }
      function k(e) {
        const { year: t, setYear: n } = e,
          i = a.useMemo(() => {
            const e = new Date(),
              t = new Intl.DateTimeFormat(f.Yt.GetPreferredLocales(), {
                year: "numeric",
              });
            return [e.getFullYear(), e.getFullYear() + 1].map((e) => ({
              label: t.format(new Date(e, 0, 1)),
              data: e,
            }));
          }, []);
        return a.createElement(r.ry, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: i,
        });
      }
      function A(e) {
        const { month: t, setMonth: n } = e,
          i = a.useMemo(() => {
            const e = new Intl.DateTimeFormat(f.Yt.GetPreferredLocales(), {
              month: "short",
            });
            return [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((t) => ({
              label: e.format(new Date(null, t)),
              data: t,
            }));
          }, []);
        return a.createElement(r.ry, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: i,
        });
      }
      function O(e) {
        const { year: t, month: n, day: i, setDay: o } = e,
          s = a.useMemo(() => {
            const e = new Date(t, n + 1, 0).getDate(),
              i = new Intl.DateTimeFormat(f.Yt.GetPreferredLocales(), {
                day: "numeric",
              });
            let a = [];
            for (let t = 1; t <= e; t++)
              a.push({ label: i.format(new Date(null, null, t)), data: t });
            return a;
          }, [n, t]);
        return a.createElement(r.ry, {
          selectedOption: i,
          onChange: (e) => o(e.data),
          rgOptions: s,
        });
      }
      function P(e) {
        const { strAMPM: t, setAMPM: n } = e,
          i = a.useMemo(() => {
            var e, t;
            const n = new Intl.DateTimeFormat(f.Yt.GetPreferredLocales(), {
              hour: "numeric",
              hour12: !0,
            });
            return [
              {
                label:
                  (null ===
                    (e = n
                      .formatToParts(new Date(null, null, null, 5))
                      .find((e) => "dayPeriod" == e.type)) || void 0 === e
                    ? void 0
                    : e.value) || "AM",
                data: "AM",
              },
              {
                label:
                  (null ===
                    (t = n
                      .formatToParts(new Date(null, null, null, 17))
                      .find((e) => "dayPeriod" == e.type)) || void 0 === t
                    ? void 0
                    : t.value) || "PM",
                data: "PM",
              },
            ];
          }, []);
        return a.createElement(r.ry, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: i,
        });
      }
      function R() {
        const e = new Intl.DateTimeFormat(f.Yt.GetPreferredLocales(), {
          timeZoneName: "short",
        })
          .formatToParts()
          .find((e) => "timeZoneName" == e.type);
        return a.createElement(a.Fragment, null, e ? e.value : "");
      }
      var F = n(91618),
        M = n(38605),
        B = n(51915),
        X = n(65255),
        j = n(79545),
        Z = n(83065),
        V = n(80002),
        U = n(42718),
        W = n(40057),
        H = n(88619),
        Y = n(86437);
      function Q(e) {
        var t, n;
        const i = (function (e) {
            const t = (0, W.bY)(),
              n = (0, Y.Bo)(e.GetID(), e.GetStoreItemType());
            return (0, U.useQuery)(["FriendOwnershipForGifting", n], () =>
              (0, s.mG)(this, void 0, void 0, function* () {
                const e = j.gA.Init(Z.Yq);
                e.Body().set_item_ids([V.oY.fromObject(n)]);
                const i = yield Z.ZY.GetFriendOwnershipForGifting(t, e);
                if (!i.BSuccess()) throw i.GetEResult();
                return i.Body().toObject();
              }),
            );
          })(e),
          r = (0, H.hg)({ loadFavorites: !0, loadNicknames: !0 }),
          o =
            null ===
              (n =
                null === (t = null == i ? void 0 : i.data) || void 0 === t
                  ? void 0
                  : t.ownership_info[0]) || void 0 === n
              ? void 0
              : n.friend_ownership,
          l = a.useMemo(
            () => new Map(o && o.map((e) => [e.accountid, e])),
            [o],
          );
        if (i.isLoading || r.isLoading) return { isLoading: !0 };
        if (i.isError || r.isError) return { isError: !0 };
        const c = r.data.map((e, t) => {
          const n = l.get(e.accountid) || { already_owns: !1, wishes_for: !1 };
          return Object.assign(Object.assign({}, e), { ownership: n });
        });
        return (
          c.sort((e, t) => {
            if (e.is_favorite != t.is_favorite) return e.is_favorite ? -1 : 1;
            if (e.ownership.wishes_for) {
              if (!t.ownership.wishes_for) return -1;
            } else if (t.ownership.wishes_for) return 1;
            if (e.ownership.already_owns) {
              if (!t.ownership.already_owns) return 1;
            } else if (t.ownership.already_owns) return -1;
            return e.persona.m_strPlayerName.localeCompare(
              t.persona.m_strPlayerName,
            );
          }),
          { rgFriendsForGifting: c }
        );
      }
      var q = n(47144),
        z = n(70548),
        K = n(35427),
        J = n(27438),
        $ = n(46882);
      function ee(e) {
        const {
          storeItem: t,
          lineItem: n,
          bShowGiftRecipientModal: i,
          fnOnDismiss: r,
        } = e;
        return a.createElement(
          J.On,
          { className: D().GiftRecipientPickerModal, active: i, onDismiss: r },
          a.createElement(te, { onDismiss: r, lineItem: n, storeItem: t }),
        );
      }
      const te = a.memo(function (e) {
        const {
          rgFriendsForGifting: t,
          isLoading: n,
          isError: i,
        } = Q(e.storeItem);
        return a.createElement(
          ne,
          Object.assign({}, e, {
            rgFriendsForGifting: t,
            isLoading: n,
            isError: i,
          }),
        );
      });
      function ne(e) {
        var t;
        const {
            lineItem: n,
            onDismiss: r,
            rgFriendsForGifting: o,
            isLoading: s,
            isError: l,
          } = e,
          c = (0, i.G1)(),
          [d, u] = a.useState(""),
          m = a.useMemo(() => {
            if (!o) return [];
            const e = d.toLocaleLowerCase();
            return o.filter(
              (t) =>
                t.persona.m_strPlayerName.toLocaleLowerCase().indexOf(e) > -1 ||
                !!(
                  t.nickname && t.nickname.toLocaleLowerCase().indexOf(e) > -1
                ),
            );
          }, [d, o]),
          p =
            null === (t = n.gift_info) || void 0 === t
              ? void 0
              : t.accountid_giftee,
          _ = (e) => {
            if (e) {
              const t = new K.K(e);
              t.BIsValid() &&
                c.mutate({
                  lineItemID: n.line_item_id,
                  lineItemFlags: n.flags,
                  giftInfo: { accountid_giftee: t && t.GetAccountID() },
                });
            }
            r();
          };
        return l
          ? a.createElement(
              ie,
              null,
              a.createElement(
                "div",
                { className: D().LoadingError },
                (0, f.Xx)("#Cart_GiftRecipientModal_IssueLoading"),
              ),
            )
          : a.createElement(
              ie,
              { loading: s },
              a.createElement(ae, { value: d, onChange: u }),
              a.createElement(
                re,
                null,
                m.map((e) =>
                  a.createElement(oe, {
                    key: e.accountid,
                    selected: e.accountid === p,
                    onSelect: _,
                    ownsGame: e.ownership.already_owns,
                    wishlistsGame: e.ownership.wishes_for,
                    persona: e.persona,
                    nickname: e.nickname,
                  }),
                ),
              ),
            );
      }
      function ie(e) {
        const { loading: t, children: n } = e;
        return a.createElement(
          F.s,
          { className: D().GiftRecipientPickerFormCtn },
          a.createElement(
            "div",
            { className: D().FormTitle },
            (0, f.Xx)("#Cart_GiftRecipientModal_Title"),
          ),
          t && a.createElement($.V, { position: "center", size: "large" }),
          !t && n,
        );
      }
      function ae(e) {
        const { value: t, onChange: n } = e;
        return a.createElement(r.II, {
          autoFocus: !0,
          bShowClearAction: !0,
          className: D().GiftFriendsInput,
          placeholder: (0, f.Xx)("#Cart_GiftRecipientModal_Placeholder"),
          value: t,
          onChange: (e) => n(e.currentTarget.value),
        });
      }
      function re(e) {
        return a.createElement(
          q.P8,
          Object.assign({ className: D().GiftFriendsListCtn }, e),
        );
      }
      function oe(e) {
        const {
            selected: t,
            onSelect: n,
            nickname: i,
            persona: r,
            ownsGame: o,
            wishlistsGame: s,
          } = e,
          l = o,
          c = a.useCallback(() => {
            l || n(r.m_steamid.ConvertTo64BitString());
          }, [l, n, r]);
        let d = null;
        return (
          o
            ? (d = a.createElement(
                "div",
                { className: (0, g.Z)(D().FriendsGiftLabel, D().OwnsGame) },
                (0, f.Xx)("#Cart_GiftRecipientModal_OwnsGameLabel"),
              ))
            : s &&
              (d = a.createElement(
                "div",
                { className: (0, g.Z)(D().FriendsGiftLabel, D().OnWishlist) },
                (0, f.Xx)("#Cart_GiftRecipientModal_OnWishlist"),
              )),
          a.createElement(
            F.s,
            {
              className: (0, g.Z)(
                D().GiftPickerFriendBlock,
                t && D().Selected,
                l && D().Disabled,
              ),
              focusClassName: D().Focused,
              noFocusRing: !0,
              onActivate: c,
            },
            a.createElement(M.vV, {
              className: D().FriendAvatar,
              statusPosition: "right",
              persona: r,
            }),
            a.createElement(z.r, {
              bParenthesizeNicknames: !0,
              strNickname: i,
              persona: r,
              className: D().PersonaName,
            }),
            d,
          )
        );
      }
      function se(e) {
        const { giftInfo: t, onChange: n } = e,
          i = (0, B.IE)(t.accountid_giftee);
        return i.data
          ? a.createElement(
              ge,
              null,
              a.createElement(
                ve,
                null,
                a.createElement(Ee, null, (0, f.Xx)("#Cart_PurchaseFor_Label")),
                a.createElement(
                  "a",
                  { href: i.data.GetCommunityProfileURL(), target: "_blank" },
                  a.createElement(M.vV, {
                    className: D().FriendAvatar,
                    statusPosition: "right",
                    persona: i.data,
                  }),
                ),
                i.data.m_strPlayerName,
              ),
              a.createElement(me, { giftInfo: t, onChange: n }),
            )
          : null;
      }
      function le(e) {
        var t;
        const { lineItem: n } = e,
          i =
            null === (t = n.gift_info) || void 0 === t
              ? void 0
              : t.accountid_giftee;
        return a.createElement(
          ge,
          null,
          !i && a.createElement(ce, Object.assign({}, e)),
          i && a.createElement(de, Object.assign({}, e)),
          i && a.createElement(ue, { lineItem: n }),
        );
      }
      function ce(e) {
        const { lineItem: t, storeItem: n } = e,
          [i, o] = a.useState(!1);
        return a.createElement(
          fe,
          null,
          a.createElement(
            r.KM,
            { onClick: () => o(!0) },
            (0, f.Xx)("#Cart_SelectGiftRecipient"),
          ),
          i &&
            a.createElement(ee, {
              bShowGiftRecipientModal: i,
              fnOnDismiss: () => o(!1),
              lineItem: t,
              storeItem: n,
            }),
        );
      }
      function de(e) {
        const { lineItem: t, storeItem: n } = e,
          [i, r] = a.useState(!1),
          o = (0, B.IE)(t.gift_info.accountid_giftee);
        return o.data
          ? a.createElement(
              fe,
              null,
              a.createElement("div", { className: D().GiftFormDivider }),
              a.createElement(
                ve,
                null,
                a.createElement(
                  Ee,
                  null,
                  (0, f.Xx)("#Cart_GiftRecipient_Label"),
                ),
                a.createElement(
                  "a",
                  { href: o.data.GetCommunityProfileURL(), target: "_blank" },
                  a.createElement(M.vV, {
                    className: D().FriendAvatar,
                    statusPosition: "right",
                    persona: o.data,
                  }),
                ),
                o.data.m_strPlayerName,
                a.createElement(
                  Ce,
                  { onClick: () => r(!0) },
                  "(",
                  (0, f.Xx)("#Cart_Edit"),
                  ")",
                ),
              ),
              i &&
                a.createElement(ee, {
                  bShowGiftRecipientModal: i,
                  fnOnDismiss: () => r(!1),
                  lineItem: t,
                  storeItem: n,
                }),
            )
          : null;
      }
      function ue(e) {
        var t, n, r, o, s, l;
        const { lineItem: c } = e,
          [d, u] = a.useState(
            null === (t = c.gift_info) || void 0 === t
              ? void 0
              : t.time_scheduled_send,
          ),
          m = a.useRef(d),
          [p, _] = a.useState(
            (null ===
              (r =
                null === (n = c.gift_info) || void 0 === n
                  ? void 0
                  : n.gift_message) || void 0 === r
              ? void 0
              : r.message) || "",
          ),
          g = a.useRef(p),
          [f, h] = a.useState(
            (null ===
              (s =
                null === (o = c.gift_info) || void 0 === o
                  ? void 0
                  : o.gift_message) || void 0 === s
              ? void 0
              : s.signature) || "",
          ),
          E = a.useRef(f),
          C = (0, v.fB)(3e3),
          { mutate: I } = (0, i.G1)(),
          y = a.useCallback(
            (e) => {
              C(() =>
                I({
                  lineItemID: c.line_item_id,
                  lineItemFlags: c.flags,
                  giftInfo: e,
                }),
              );
            },
            [I, c.line_item_id, c.flags, C],
          );
        return (
          (0, a.useEffect)(() => {
            var e;
            (m.current == d && g.current == p && E.current == f) ||
              (y({
                accountid_giftee:
                  null === (e = c.gift_info) || void 0 === e
                    ? void 0
                    : e.accountid_giftee,
                gift_message: { message: p, signature: f },
                time_scheduled_send: d,
              }),
              (m.current = d),
              (g.current = p),
              (E.current = f));
          }, [
            p,
            f,
            d,
            y,
            null === (l = c.gift_info) || void 0 === l
              ? void 0
              : l.accountid_giftee,
          ]),
          a.createElement(_e, {
            id: c.line_item_id,
            message: p,
            onMessageChange: _,
            signature: f,
            onSignatureChange: h,
            scheduledTime: d,
            onScheduledTimeChange: u,
          })
        );
      }
      function me(e) {
        var t, n;
        const { giftInfo: i, onChange: r } = e;
        return a.createElement(_e, {
          id: "cart",
          message:
            (null === (t = i.gift_message) || void 0 === t
              ? void 0
              : t.message) || "",
          onMessageChange: (e) =>
            r(
              Object.assign(Object.assign({}, i), {
                gift_message: Object.assign(Object.assign({}, i.gift_message), {
                  message: e,
                }),
              }),
            ),
          signature:
            (null === (n = i.gift_message) || void 0 === n
              ? void 0
              : n.signature) || "",
          onSignatureChange: (e) =>
            r(
              Object.assign(Object.assign({}, i), {
                gift_message: Object.assign(Object.assign({}, i.gift_message), {
                  signature: e,
                }),
              }),
            ),
          scheduledTime: i.time_scheduled_send,
          onScheduledTimeChange: (e) =>
            r(Object.assign(Object.assign({}, i), { time_scheduled_send: e })),
        });
      }
      const pe = 160;
      function _e(e) {
        const {
            id: t,
            message: n,
            onMessageChange: i,
            signature: o,
            onSignatureChange: s,
            scheduledTime: l,
            onScheduledTimeChange: c,
            onBlur: d,
          } = e,
          u = pe - n.length,
          [m, p] = a.useState(!1),
          { data: _ } = (0, B.IE)(X.L7.accountid);
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(
            fe,
            null,
            a.createElement(
              Ee,
              null,
              (0, f.kQ)(
                "#Cart_GiftDelivery_Body",
                a.createElement(
                  "span",
                  { className: u <= 0 ? D().RedText : null },
                  u,
                ),
              ),
            ),
            a.createElement(r.E0, {
              nMinHeight: 50,
              className: D().GiftNoteInput,
              value: n,
              onBlur: d,
              onChange: (e) => i(e.target.value),
            }),
          ),
          a.createElement(
            fe,
            null,
            a.createElement(
              "div",
              { className: D().GiftFormRecipient },
              a.createElement(Ee, null, (0, f.Xx)("#Cart_GiftDelivery_From")),
              a.createElement(M.vV, {
                className: D().FriendAvatar,
                statusPosition: "right",
                persona: _,
              }),
              " ",
              (null == _ ? void 0 : _.m_strPlayerName) || "",
              !m &&
                a.createElement(
                  Ce,
                  { onClick: () => p(!0) },
                  "(",
                  (0, f.Xx)("#Cart_GiftDelivery_AddSignature"),
                  ")",
                ),
            ),
          ),
          m &&
            a.createElement(
              fe,
              null,
              a.createElement(
                Ee,
                null,
                (0, f.Xx)("#Cart_GiftDelivery_Signature"),
              ),
              a.createElement(r.II, {
                value: o,
                className: D().GiftSignatureInput,
                onChange: (e) => s(e.target.value),
                onBlur: d,
                maxChars: pe,
              }),
            ),
          a.createElement(T, { scheduledTime: l, onScheduledTimeChange: c }),
        );
      }
      function ge(e) {
        return a.createElement(
          "div",
          { className: D().GiftFormCtn },
          e.children,
        );
      }
      function fe(e) {
        return a.createElement(
          "div",
          { className: D().GiftFormSection },
          e.children,
        );
      }
      function ve(e) {
        return a.createElement(
          "div",
          { className: D().GiftFormRecipient },
          e.children,
        );
      }
      function he(e) {
        return a.createElement(
          "div",
          { className: D().GiftRadioRow },
          e.children,
        );
      }
      function Ee(e) {
        return a.createElement(
          "div",
          { className: D().FormTextLabel },
          e.children,
        );
      }
      function Ce(e) {
        return a.createElement(F.s, {
          onActivate: e.onClick,
          children: e.children,
          className: D().LinkButton,
        });
      }
    },
    7860: (e, t, n) => {
      "use strict";
      n.d(t, { y: () => be, J: () => we });
      var i = n(47427),
        a = n(45137),
        r = n(91585),
        o = n.n(r),
        s = n(31846),
        l = n(1485),
        c = n(13129),
        d = n(65255),
        u = n(80212),
        m = n(58955),
        p = n(8285),
        _ = n(10162),
        g = n(760),
        f = n(85556),
        v = n(80886),
        h = n(91618),
        E = n(34909),
        C = n(86437),
        I = n(46882),
        y = n(15690),
        S = n(34913),
        b = n(84823),
        L = n(23154),
        N = n(71634),
        D = n(27438),
        T = n(7686),
        w = n(77936);
      function G(e) {
        const {
            lineItem: t,
            storeItem: n,
            couponApplied: r,
            availableCoupons: o,
          } = e,
          [{ bDialogActive: l, strDialogTitle: c }, d] = i.useState({
            bDialogActive: !1,
          }),
          u = (0, a.G1)();
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(x, {
            couponApplied: r,
            numAvailable: o.length,
            onModifyClick: () =>
              d({
                bDialogActive: !0,
                strDialogTitle: (0, s.Xx)(
                  r ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
                ),
              }),
          }),
          i.createElement(A, {
            active: l,
            title: c || (0, s.Xx)("#Cart_CouponModify_Add"),
            packageName: n.GetName(),
            onRequestClose: () => d({ bDialogActive: !1 }),
            couponApplied: r,
            availableCoupons: o,
            onCouponChange: (e) => {
              u.mutate({
                lineItemID: t.line_item_id,
                giftInfo: t.gift_info,
                lineItemFlags: Object.assign({}, t.flags),
                gidCoupon: e,
              });
            },
          }),
        );
      }
      function x(e) {
        const { couponApplied: t, numAvailable: n, onModifyClick: a } = e,
          r = (0, s.Xx)(
            t ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
          );
        return i.createElement(
          "div",
          { className: N.CouponPickerRowGlow },
          i.createElement(
            "div",
            { className: N.CouponPickerRow },
            t ? i.createElement(k, Object.assign({}, t)) : null,
            i.createElement(R, null, (0, s.kb)("#Cart_CouponAvailability", n)),
            i.createElement(
              "div",
              { className: N.ModifyLink },
              i.createElement(L.Qj, { onClick: a }, r),
            ),
          ),
        );
      }
      function k(e) {
        const { large_icon_url: t, title: n } = e;
        return i.createElement("img", {
          className: N.CouponRepresentation,
          src: t,
          title: n,
        });
      }
      function A(e) {
        const {
            active: t,
            onRequestClose: n,
            packageName: a,
            title: r,
            couponApplied: o,
            availableCoupons: c,
            onCouponChange: d,
          } = e,
          [u, m] = i.useState((null == o ? void 0 : o.gidcoupon) || "");
        return i.createElement(
          D.On,
          { active: t, onDismiss: n },
          i.createElement(l.h4, null, r),
          i.createElement(
            l.Ac,
            null,
            (0, s.kQ)(
              "#Cart_SelectCouponToApply",
              i.createElement("span", { className: N.PackageName }, a),
            ),
          ),
          i.createElement(O, {
            availableCoupons: c,
            couponApplied: null == o ? void 0 : o.gidcoupon,
            couponSelected: u,
            onSelectedChange: m,
          }),
          i.createElement(l.o9, {
            onCancel: n,
            onOK: () => {
              n(), d(u || w.Z3);
            },
            strOKText: (0, s.Xx)("#Button_Done"),
          }),
        );
      }
      function O(e) {
        var t;
        const {
            availableCoupons: n,
            couponApplied: r,
            couponSelected: o,
            onSelectedChange: s,
          } = e,
          { validateCart: l } = (0, a.td)(),
          c = (
            (null === (t = l.data) || void 0 === t ? void 0 : t.cart_items) ||
            []
          ).map((e) => {
            var t;
            return null === (t = e.coupon_applied) || void 0 === t
              ? void 0
              : t.gidcoupon;
          });
        return i.createElement(
          "div",
          { className: N.CouponListContainer },
          n.map((e) =>
            i.createElement(
              P,
              Object.assign({ key: e.gidcoupon }, e, {
                applied: r === e.gidcoupon,
                selected: o === e.gidcoupon,
                inUse: c.includes(e.gidcoupon),
                onSelected: (t) => s(t ? e.gidcoupon : ""),
              }),
            ),
          ),
        );
      }
      function P(e) {
        const {
            applied: t,
            inUse: n,
            selected: a,
            large_icon_url: r,
            title: o,
            discount_pct: l,
            onSelected: d,
          } = e,
          u = !t && n,
          m = u ? void 0 : () => d(!a);
        return i.createElement(
          "div",
          {
            className: (0, c.Z)(N.CouponListItem, u && N.Disabled),
            onClick: m,
          },
          i.createElement(F, { checked: a, hidden: u }),
          i.createElement("img", { src: r, title: o, className: N.Image }),
          i.createElement(
            "div",
            { className: N.Info },
            t && i.createElement(R, null, (0, s.Xx)("#Cart_Coupons_Applied")),
            u && i.createElement(R, null, (0, s.Xx)("#Cart_Coupons_InUse")),
          ),
          i.createElement("div", { className: N.Discount }, "-", l, "%"),
        );
      }
      function R(e) {
        return i.createElement(
          "div",
          { className: N.CouponInfoText },
          e.children,
        );
      }
      function F(e) {
        const { checked: t, hidden: n } = e;
        return i.createElement(
          "div",
          { className: (0, c.Z)(N.Checkbox, n && N.Hidden) },
          t && i.createElement(T.Jr, null),
        );
      }
      var M = n(88294),
        B = n(51915),
        X = n(39661),
        j = n.n(X),
        Z = n(79489);
      const V = {
        1: function (e) {
          const { item: t } = e,
            n = (0, f._T)(e, ["item"]),
            [a, r] = (0, v.ie)(t.packageid, {}),
            [o, s] = (0, v.Vm)(t.packageid, 1, {
              include_assets: !0,
              include_platforms: !0,
              include_release: !0,
            }),
            l = (o && !o.BIsVisible()) || 2 === s || 2 === r,
            c = null == a ? void 0 : a.GetSelfPurchaseOption();
          return l || (a && !c)
            ? i.createElement(Q, { lineItemID: t.line_item_id, storeItem: o })
            : o && a
              ? i.createElement(
                  q,
                  Object.assign(
                    {
                      storeItem: a,
                      displayItem: o,
                      lineItem: t,
                      purchaseOption: c,
                    },
                    n,
                  ),
                )
              : i.createElement(H, null);
        },
        2: function (e) {
          const { item: t } = e,
            n = (0, f._T)(e, ["item"]),
            [a, r] = (0, v.jk)(t.bundleid, 2, {
              include_assets: !0,
              include_platforms: !0,
              include_included_items: !0,
              included_item_data_request: { include_basic_info: !0 },
            });
          if ((a && !a.BIsVisible()) || 2 === r)
            return i.createElement(Q, {
              lineItemID: t.line_item_id,
              storeItem: a,
            });
          if (!a) return i.createElement(H, null);
          const o = a.GetSelfPurchaseOption();
          return i.createElement(
            q,
            Object.assign(
              { storeItem: a, displayItem: a, lineItem: t, purchaseOption: o },
              n,
            ),
          );
        },
      };
      function U(e) {
        const { item: t } = e,
          n = V[t.type];
        return n
          ? i.createElement(
              _.SV,
              {
                fallback: (t) =>
                  i.createElement(W, Object.assign({}, e, { error: t })),
              },
              i.createElement(n, Object.assign({}, e)),
            )
          : (console.error(`Unknown line item type (${t.type})`), null);
      }
      function W(e) {
        const { item: t, error: n } = e,
          r = (0, a.fn)(t.line_item_id);
        return i.createElement(
          de,
          { className: j().ErrorLineItem },
          i.createElement(
            "div",
            { className: j().Left },
            i.createElement(
              "div",
              { className: j().Error },
              (0, s.Xx)("#Cart_LineItem_ErrorBoundary"),
            ),
            i.createElement("div", { className: j().Muted }, n.message),
          ),
          i.createElement(
            L.Qj,
            { onClick: () => r.mutate() },
            (0, s.Xx)("#Cart_Remove"),
          ),
        );
      }
      function H() {
        return i.createElement(
          de,
          { placeholder: !0 },
          i.createElement(Y, null),
        );
      }
      function Y() {
        return i.createElement(
          "div",
          { className: j().LoadingThrobber },
          i.createElement(I.V, {
            size: "medium",
            position: "center",
            msDelayAppear: 250,
          }),
        );
      }
      function Q(e) {
        const { lineItemID: t, storeItem: n } = e,
          r = $(n),
          o = (0, a.fn)(t),
          l = o.isLoading;
        return i.createElement(
          de,
          { placeholder: !0 },
          l && i.createElement(Y, null),
          i.createElement(
            "div",
            {
              className: (0, c.Z)(
                j().InnerLineItemCtn,
                l && j().PendingLineItem,
              ),
            },
            i.createElement(
              "div",
              { className: (0, c.Z)(j().LineItemColumn, j().LineItemCapsule) },
              i.createElement(
                Z.u,
                { item: n, noImpressionTracking: !0 },
                i.createElement("img", { className: j().HeaderImg, src: r }),
              ),
            ),
            i.createElement(
              "div",
              { className: j().LineItemDetailsCtn },
              i.createElement(
                ce,
                { flex: !0, className: j().LineItemDetailsRowTop },
                i.createElement(
                  "div",
                  { className: j().LineItemTitle },
                  (null == n ? void 0 : n.GetName()) ||
                    (0, s.Xx)("#SteamCharts_UnknownGameTitle"),
                ),
              ),
              i.createElement(te, { lineItemID: t }),
              i.createElement(
                ce,
                { className: j().LineItemSpaceBetween },
                i.createElement(
                  h.s,
                  {
                    onActivate: () => o.mutate(),
                    className: j().RemoveLineItem,
                  },
                  (0, s.Xx)("#Cart_Remove"),
                ),
              ),
            ),
          ),
        );
      }
      function q(e) {
        var t;
        const {
            storeItem: n,
            displayItem: r,
            lineItem: o,
            validation: s = [],
            purchaseOption: l,
            validatedItem: d,
            availableCoupons: u,
          } = e,
          p = o.line_item_id,
          _ = {
            id: null == n ? void 0 : n.GetID(),
            type: (0, C.Ds)(
              null == n ? void 0 : n.GetStoreItemType(),
              null == n ? void 0 : n.GetAppType(),
            ),
          },
          g = (0, a.fn)(p),
          [f] = (0, m.nD)(),
          v = g.isLoading || g.isSuccess,
          I = "gifts" === f && !!o.flags.is_gift,
          y = !!u.length,
          S = $(r),
          b = n.GetIncludedAppIDsOrSelf(),
          { data: N, isLoading: D } = (0, M.sU)(),
          T = b.filter((e) => (null == N ? void 0 : N.has(e)));
        if (D) return i.createElement(H, null);
        const w = null === (t = o.flags) || void 0 === t ? void 0 : t.is_gift,
          x = T.length === b.length,
          k = !w && T.length > 0 && !x;
        let A = w ? "gift" : "myself";
        return (
          "myself" === A && x && (A = "private"),
          i.createElement(
            h.s,
            null,
            i.createElement(
              de,
              null,
              v && i.createElement(Y, null),
              i.createElement(
                "div",
                {
                  className: (0, c.Z)(
                    j().InnerLineItemCtn,
                    v && j().PendingLineItem,
                  ),
                },
                i.createElement(
                  "div",
                  {
                    className: (0, c.Z)(
                      j().LineItemColumn,
                      j().LineItemCapsule,
                    ),
                  },
                  i.createElement(
                    Z.u,
                    {
                      item: r,
                      feature: "cart-items",
                      noImpressionTracking: !0,
                    },
                    i.createElement("img", {
                      className: j().HeaderImg,
                      src: S,
                    }),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: j().LineItemDetailsCtn },
                  i.createElement(
                    ce,
                    { flex: !0, className: j().LineItemDetailsRowTop },
                    i.createElement(
                      "div",
                      { className: j().LineItemTitle },
                      n.GetName(),
                    ),
                  ),
                  n.BIsComingSoon() && i.createElement(ee, { storeItem: n }),
                  i.createElement(
                    te,
                    { lineItemID: p },
                    s.map((e) =>
                      i.createElement(ne, { key: e.strNotice }, e.strNotice),
                    ),
                  ),
                  i.createElement(le, { storeItem: n }),
                  k && i.createElement(ue, { appids: T }),
                  i.createElement(
                    ce,
                    { className: j().LineItemSpaceBetween },
                    i.createElement(
                      "div",
                      {
                        className: (0, c.Z)(j().LineItemCol, j().PlatformIcons),
                      },
                      i.createElement(E.a, {
                        item: _,
                        strClassName: j().LineItemPlatforms,
                      }),
                    ),
                  ),
                  i.createElement(z, { purchaseOption: l, validatedItem: d }),
                  i.createElement(K, {
                    lineItem: o,
                    storeItem: n,
                    purchaseOption: l,
                    validatedItem: d,
                    initialPurchaseOption: A,
                    fnRemoveLineItem: g.mutate,
                  }),
                ),
              ),
              I && i.createElement(L.Wc, { storeItem: n, lineItem: o }),
            ),
            y &&
              i.createElement(G, {
                storeItem: n,
                lineItem: o,
                couponApplied: null == d ? void 0 : d.coupon_applied,
                availableCoupons: u,
              }),
          )
        );
      }
      function z(e) {
        var t;
        const { purchaseOption: n, validatedItem: a } = e;
        let r = null == n ? void 0 : n.formatted_original_price,
          o = null == n ? void 0 : n.formatted_final_price,
          s = null == n ? void 0 : n.discount_pct;
        return (
          a &&
            a.original_price &&
            ((r = a.original_price.formatted_amount),
            (o = a.subtotal.formatted_amount),
            (s = (function (e) {
              if (e.coupon_applied) return e.coupon_applied.discount_pct;
              const t = parseInt(e.original_price.amount_in_cents),
                n = parseInt(e.subtotal.amount_in_cents);
              return Math.min(99, Math.floor(((t - n) / t) * 100 + 0.5));
            })(a))),
          i.createElement(
            "div",
            { className: j().LineItemRightCol },
            i.createElement(b.nk, {
              className: j().PriceWidget,
              formatted_orig_price: r,
              formatted_final_price: o,
              discount_percent: s,
              bHideDiscountPercentForCompliance:
                n.hide_discount_pct_for_compliance,
              bDiscountFromCoupon: !!(null ===
                (t = null == a ? void 0 : a.coupon_discount) || void 0 === t
                ? void 0
                : t.amount_in_cents),
            }),
          )
        );
      }
      function K(e) {
        var t;
        const {
            lineItem: n,
            storeItem: r,
            purchaseOption: o,
            validatedItem: l,
            initialPurchaseOption: d,
            fnRemoveLineItem: u,
          } = e,
          p = (0, a.bz)(),
          [_] = (0, m.pf)(),
          g =
            (null == _ ? void 0 : _.accountid_giftee) ||
            (p
              ? null === (t = n.gift_info) || void 0 === t
                ? void 0
                : t.accountid_giftee
              : void 0),
          f =
            (0, a.IW)() &&
            !(null == l ? void 0 : l.restrict_add_additional_to_cart),
          v = (0, a.tI)(n.packageid, n.bundleid, pe(o));
        return i.createElement(
          ce,
          { className: j().LineItemSpaceBetween },
          i.createElement(
            "div",
            { className: j().LineItemCol },
            g
              ? i.createElement(J, { recipient: g })
              : i.createElement(oe, {
                  lineItem: n,
                  storeItem: r,
                  initialValue: d,
                  purchaseOption: o,
                }),
          ),
          i.createElement(
            "div",
            { className: (0, c.Z)(j().LineItemRightCol, j().AddRemoveLinks) },
            f &&
              i.createElement(
                i.Fragment,
                null,
                i.createElement(
                  h.s,
                  {
                    onActivate: () => !v.isLoading && v.mutate(),
                    className: j().AddLineItem,
                    title: (0, s.Xx)("#Cart_LineItem_Add_Tooltip"),
                  },
                  (0, s.Xx)("#Cart_Add"),
                ),
                "|",
              ),
            !p &&
              i.createElement(
                h.s,
                { onActivate: () => u(), className: j().RemoveLineItem },
                (0, s.Xx)("#Cart_Remove"),
              ),
          ),
        );
      }
      function J(e) {
        const t = (0, B.IE)(e.recipient);
        return i.createElement(
          "div",
          { className: j().GiftForNotice },
          (0, s.kQ)(
            "#Cart_GiftForNotice",
            t.data
              ? i.createElement(
                  "span",
                  { className: j().Name },
                  t.data.m_strPlayerName,
                )
              : "",
          ),
        );
      }
      function $(e) {
        const t = `${d.De.STORE_BASE_URL}public/images/checkout/Cart_generic_header_logo.png`;
        if (!e) return t;
        const n = e.GetAssets();
        if (!n) return t;
        const i = n.GetHeaderURL(),
          a = n.GetSmallCapsuleURL();
        return i || a || t;
      }
      function ee(e) {
        const { storeItem: t } = e;
        let n = (0, s.Xx)("#Cart_ComingSoon", t.GetFormattedSteamReleaseDate());
        return (
          t.BIsCustomComingSoonDisplay() &&
            (n = t.GetFormattedSteamReleaseDate()),
          i.createElement(ne, null, n)
        );
      }
      function te(e) {
        const { lineItemID: t, children: n } = e,
          [r, o] = (0, a.z5)(t);
        return 0 === (null == r ? void 0 : r.length) &&
          0 === i.Children.count(n)
          ? null
          : i.createElement(
              "div",
              {
                className: (0, c.Z)(
                  j().LineItemNoticeRow,
                  j().LineItemSpaceBetween,
                ),
              },
              r.map((e) => {
                var t;
                return i.createElement(ie, {
                  key: e.purchase_state,
                  notice: e,
                  footnoteIdx:
                    null === (t = o.get(e.purchase_state)) || void 0 === t
                      ? void 0
                      : t.index,
                });
              }),
              n,
            );
      }
      function ne(e) {
        const { children: t } = e;
        return i.createElement(
          ce,
          { flex: !0 },
          i.createElement("div", { className: j().Warning }, t),
        );
      }
      function ie(e) {
        const { notice: t, footnoteIdx: n } = e;
        return i.createElement(
          ne,
          null,
          t.notice_text,
          n && i.createElement("sup", null, n),
          i.createElement(ae, { rgAppIDs: t.appids }),
        );
      }
      function ae(e) {
        const { rgAppIDs: t } = e;
        return t && 0 != t.length
          ? t.map((e, n) =>
              i.createElement(re, {
                key: `${e}_${n}`,
                appid: e,
                last: n >= t.length - 1,
              }),
            )
          : null;
      }
      function re(e) {
        const { appid: t, last: n } = e,
          [a] = (0, v.vs)(t, { include_basic_info: !0 });
        return a
          ? i.createElement(
              S.W,
              { type: "app", id: t },
              i.createElement(
                Z.u,
                { item: a, noImpressionTracking: !0 },
                a.GetName(),
              ),
              !n && i.createElement(i.Fragment, null, ", "),
            )
          : null;
      }
      function oe(e) {
        const {
            lineItem: t,
            storeItem: n,
            initialValue: r,
            purchaseOption: o,
          } = e,
          [l, c] = i.useState(r),
          d = (0, a.G1)(),
          u = (0, M.Xm)(),
          m = (0, a.bz)(),
          p = !pe(o) || m,
          _ = !(!(g = o).is_commercial_license && !g.requires_shipping);
        var g;
        const f = [
          { data: "myself", label: (0, s.Xx)("#Cart_LineItemOptions_Myself") },
          !_ && {
            data: "private",
            label: (0, s.Xx)("#Cart_LineItemOptions_Privately"),
            tooltip: (0, s.Xx)("#Cart_LineItemOptions_PrivateTooltip"),
          },
          !p && {
            data: "gift",
            label: (0, s.Xx)("#Cart_LineItemOptions_Gift"),
          },
        ].filter(Boolean);
        if (1 === f.length) return null;
        return i.createElement(se, {
          onChange: (e) => {
            if (l === e.data) return;
            const i = (e) =>
                u.mutate({
                  rgAppIDs: n.GetIncludedAppIDsOrSelf(),
                  bPrivate: e,
                }),
              a = (e) =>
                d.mutate({
                  lineItemID: t.line_item_id,
                  lineItemFlags: Object.assign(Object.assign({}, t.flags), {
                    is_gift: e,
                  }),
                });
            "private" === l ? i(!1) : "gift" === l && a(!1),
              "private" === e.data ? i(!0) : "gift" === e.data && a(!0),
              c(e.data);
          },
          selectedOption: l,
          rgOptions: f,
        });
      }
      function se(e) {
        return i.createElement(
          l.ry,
          Object.assign(
            {
              strClassName: j().LineItemDropDown,
              strDropDownItemClassName: j().DropDownOptionItem,
              strDropDownClassName: j().DropDownOptionsCtnThin,
              strDropDownButtonClassName: j().DropDownThin,
            },
            e,
          ),
        );
      }
      function le(e) {
        const { storeItem: t } = e,
          [n, a] = i.useState([]);
        return (
          i.useEffect(() => {
            if (2 == t.GetStoreItemType()) {
              let e = [];
              t.GetIncludedAppIDs().forEach((n, a) => {
                const r = y.Z.Get().GetApp(n);
                r &&
                  e.push(
                    i.createElement(
                      S.W,
                      { key: n, type: "app", id: n },
                      i.createElement(
                        Z.u,
                        {
                          item: r,
                          feature: "bundle-contents",
                          noImpressionTracking: !0,
                        },
                        r.GetName(),
                      ),
                      a < t.GetIncludedAppIDs().length - 1 ? ", " : "",
                    ),
                  );
              }),
                a(e);
            }
          }, [t]),
          n.length
            ? i.createElement(
                ce,
                { flex: !0 },
                i.createElement(
                  "span",
                  null,
                  (0, s.kb)("#Cart_IncludesItems", n.length),
                  ": ",
                ),
                n,
              )
            : null
        );
      }
      function ce(e) {
        const { flex: t, children: n, className: a } = e;
        return i.createElement(
          h.s,
          {
            "flow-children": "row",
            className: (0, c.Z)(j().LineItemDetailsRow, t && j().FlexRow, a),
          },
          n,
        );
      }
      function de(e) {
        const { placeholder: t, className: n, children: a } = e;
        return i.createElement(
          h.s,
          {
            className: (0, c.Z)(
              j().LineItemWrapper,
              t && j().LineItemPlaceholder,
              n,
            ),
          },
          a,
        );
      }
      function ue(e) {
        const { appids: t } = e,
          n = t.map((e, t) =>
            i.createElement(
              i.Fragment,
              { key: e },
              t > 0 && ", ",
              i.createElement(me, { key: e, appid: e }),
            ),
          );
        return i.createElement(
          ce,
          { flex: !0 },
          i.createElement(
            "span",
            null,
            (0, s.Xx)("#Cart_Notice_SomeAppsPrivate"),
            " ",
          ),
          n,
        );
      }
      function me(e) {
        const { appid: t } = e,
          [n] = (0, v.vs)(t, {});
        return i.createElement(
          S.W,
          { type: "app", id: t },
          i.createElement(
            Z.u,
            { item: n, noImpressionTracking: !0 },
            n.GetName(),
          ),
        );
      }
      function pe(e) {
        return e.user_can_purchase_as_gift;
      }
      var _e = n(92686),
        ge = n(68824),
        fe = n(37563),
        ve = n(17243),
        he = n.n(ve);
      function Ee() {
        const [e, t] = i.useState(null);
        return (
          i.useEffect(() => {
            var e;
            t(
              null === (e = (0, a.WR)()) || void 0 === e
                ? void 0
                : e.rgUserCountryOptions,
            );
          }, []),
          e
            ? i.createElement(
                "div",
                {
                  className: (0, c.Z)(
                    o().EstimatedTotalFlex,
                    he().UserCountrySelector,
                  ),
                },
                i.createElement(
                  "div",
                  { className: o().CartLabelText },
                  (0, s.Xx)("#Cart_UserCountrySelector"),
                ),
                i.createElement(
                  "div",
                  { className: o().CartValueText },
                  i.createElement(Ce, { rgCountryOptions: e }),
                ),
              )
            : null
        );
      }
      function Ce(e) {
        const { rgCountryOptions: t } = e,
          [n, a] = i.useState(d.De.COUNTRY),
          r = i.useMemo(
            () => Object.keys(t).map((e) => ({ label: t[e], data: e })),
            [t],
          ),
          o = i.useCallback((e) => {
            e.data != d.De.COUNTRY &&
              PresentCountryCurrencyChangeDialog("help" == e.data),
              a(e.data);
          }, []);
        return i.createElement(l.ry, {
          selectedOption: n,
          onChange: o,
          rgOptions: r,
          contextMenuPositionOptions: { bMatchWidth: !1 },
        });
      }
      var Ie = n(20020),
        ye = n(43981),
        Se = n(34809);
      function be(e) {
        const { children: t } = e;
        return i.createElement(Le, null, t);
      }
      function Le(e) {
        var t, n, r, s, l;
        const { children: d } = e,
          u = (0, a.g1)(),
          p = (0, a.bn)(),
          g = u.isLoading || !u.data,
          f = (0, fe.id)(),
          [v, E] = (0, m.pf)(),
          { sortedLineItems: C, bCartIncludesGifts: I } = i.useMemo(() => {
            var e;
            const t =
                (null === (e = null == u ? void 0 : u.data) || void 0 === e
                  ? void 0
                  : e.line_items) || [],
              n = t.some((e) => {
                var t;
                return null === (t = e.flags) || void 0 === t
                  ? void 0
                  : t.is_gift;
              }),
              i = t.sort((e, t) => {
                var n, i;
                const a =
                    null !== (n = e.bundleid) && void 0 !== n ? n : e.packageid,
                  r =
                    null !== (i = t.bundleid) && void 0 !== i ? i : t.packageid;
                return e.time_added == t.time_added
                  ? a < r
                    ? 1
                    : -1
                  : e.time_added < t.time_added
                    ? 1
                    : -1;
              });
            return { sortedLineItems: i, bCartIncludesGifts: n };
          }, [
            null === (t = null == u ? void 0 : u.data) || void 0 === t
              ? void 0
              : t.line_items,
          ]),
          { validateCart: y, lineItemValidation: S } = (0, a.td)(),
          { rgCartLevelNotices: b, mapValidateNoticesToFootnote: N } = (0,
          a.dW)();
        return i.createElement(
          i.Fragment,
          null,
          !!b.length && i.createElement(Ge, { notices: b }),
          i.createElement(
            h.s,
            { className: o().ShoppingCartCtn },
            i.createElement(
              h.s,
              { className: o().ShoppingCartLeftCol },
              g && i.createElement(Y, null),
              !!v &&
                i.createElement(
                  _.SV,
                  null,
                  i.createElement(
                    ge.r,
                    null,
                    i.createElement(L.SL, { giftInfo: v, onChange: E }),
                  ),
                ),
              i.createElement(
                _.SV,
                null,
                i.createElement(we, {
                  lineItems: C,
                  validation: S,
                  cartValidation: y.data,
                  coupons: null == p ? void 0 : p.data,
                }),
              ),
              !!(null == N ? void 0 : N.size) &&
                i.createElement(
                  _.SV,
                  null,
                  i.createElement(ke, { notices: N }),
                ),
              !f &&
                i.createElement(
                  "div",
                  { className: o().ResponsiveShoppingCartSummary },
                  i.createElement(Ne, {
                    bCartIncludesGifts: I,
                    strEstimatedTotal:
                      null ===
                        (r =
                          null === (n = y.data) || void 0 === n
                            ? void 0
                            : n.estimated_totals) || void 0 === r
                        ? void 0
                        : r.subtotal.formatted_amount,
                  }),
                ),
              d && d({ cart: u.data, validatedCart: y.data }),
            ),
            i.createElement(
              h.s,
              {
                className: (0, c.Z)(
                  o().ShoppingCartRightCol,
                  (null == C ? void 0 : C.length) <= 2 && o().SmallCart,
                ),
              },
              i.createElement(Ne, {
                bCartIncludesGifts: I,
                strEstimatedTotal:
                  null ===
                    (l =
                      null === (s = y.data) || void 0 === s
                        ? void 0
                        : s.estimated_totals) || void 0 === l
                    ? void 0
                    : l.subtotal.formatted_amount,
              }),
            ),
          ),
        );
      }
      const Ne = (0, _.AP)(function (e) {
        const { strEstimatedTotal: t, bCartIncludesGifts: n } = e,
          r = (0, a.g1)(),
          { bValidForCheckout: l, bOnlyHardware: u } = (0, a.td)(),
          [p, g] = (0, m.nD)(),
          f = (0, a.bz)(),
          v = u,
          h =
            r.isSuccess &&
            r.data.line_items.some((e) => {
              var t, n;
              return (
                (null === (t = e.flags) || void 0 === t ? void 0 : t.is_gift) &&
                !(null === (n = e.gift_info) || void 0 === n
                  ? void 0
                  : n.accountid_giftee)
              );
            }),
          E =
            d.L7.logged_in &&
            (("initial" === p && !n && !l) ||
              ("gifts" === p && (!l || h)) ||
              (r.isSuccess && 0 == r.data.line_items.length));
        let C;
        return (
          (C = d.L7.logged_in
            ? n && "initial" == p && !f
              ? "gifts"
              : "checkout"
            : "login"),
          i.createElement(
            "div",
            { className: o().CartSummaryCtn },
            i.createElement(_.SV, null, i.createElement(Ee, null)),
            i.createElement(
              "div",
              {
                className: (0, c.Z)(
                  o().EstimatedTotalFlex,
                  o().SummaryMarginBottom,
                ),
              },
              i.createElement(
                "div",
                { className: o().CartLabelText },
                (0, s.Xx)("#Cart_EstimatedTotal"),
              ),
              i.createElement("div", { className: o().CartValueText }, t),
            ),
            i.createElement(
              "div",
              {
                className: (0, c.Z)(o().CartNoteText, o().SummaryMarginBottom),
              },
              (0, s.Xx)("#Cart_Note_SalesTax"),
            ),
            i.createElement(
              _.DT,
              null,
              i.createElement(De, {
                bDisabled: E,
                nextStep: C,
                bGuestOption: v,
              }),
              i.createElement(Oe, { disabled: E || n }),
              i.createElement(Te, { bDisabled: E }),
            ),
          )
        );
      });
      function De(e) {
        const { bDisabled: t, nextStep: n, bGuestOption: r } = e,
          _ = (0, a.tM)(),
          f = (0, p.k6)(),
          [v, h] = (0, m.nD)(),
          E = (0, ye.tv)();
        let C = w.Z3;
        (0, Se.wV)(E) && (C = E.gid);
        const I = (function (e) {
            return "login" == e
              ? (0, s.Xx)("#Cart_ContinueButton_Payment")
              : "gifts" == e
                ? (0, s.Xx)("#Cart_ContinueButton_Gifts")
                : "checkout" == e
                  ? (0, s.Xx)("#Cart_ContinueButton_Payment")
                  : ((0, Ie.Z)(e, "unhandled step"), "");
          })(n),
          y = (0, c.Z)(o().CartSummaryBtn, o().SummaryMarginBottom);
        return i.createElement(
          l.KM,
          {
            disabled: t,
            className: y,
            onClick: () => {
              switch (n) {
                case "login":
                  if (C != w.Z3 && r) {
                    const e =
                      d.De.STORE_CHECKOUT_BASE_URL +
                      "checkout?purchasetype=self&cart=" +
                      C;
                    (0, u._I)(e, r);
                  } else (0, u.Xt)();
                  break;
                case "gifts":
                  h("gifts"), f.push(g.Z.ShoppingCartGifts());
                  break;
                case "checkout":
                  location.href = _;
                  break;
                default:
                  (0, Ie.Z)(n, "unhandled step");
              }
            },
          },
          I,
        );
      }
      function Te(e) {
        var t;
        const { bDisabled: n } = e,
          r = (0, _e.Rs)(),
          u = (0, a.nt)(),
          m = (0, a.n$)(),
          p = (0, _e.Nw)(
            null === (t = r.data) || void 0 === t ? void 0 : t.family_groupid(),
            u,
            1,
          );
        return m
          ? i.createElement(
              l.zx,
              {
                disabled: n,
                className: (0, c.Z)(
                  o().CartSummaryBtn,
                  o().SummaryMarginBottom,
                ),
                onClick: () => {
                  p.mutate(void 0, {
                    onSuccess: () => {
                      location.href = `${d.De.STORE_BASE_URL}account/familymanagement?tab=requests`;
                    },
                  });
                },
              },
              (0, s.Xx)("#Cart_DeclinePurchaseRequest"),
            )
          : null;
      }
      function we(e) {
        const {
          lineItems: t = [],
          validation: n = {},
          cartValidation: a,
          coupons: r = {},
        } = e;
        if (!t.length)
          return i.createElement("div", null, (0, s.Xx)("#Cart_Empty"));
        const l = (null == a ? void 0 : a.cart_items)
          ? a.cart_items.reduce((e, t) => ((e[t.line_item_id] = t), e), {})
          : {};
        return i.createElement(
          "div",
          { className: o().LineItemsCtn },
          t &&
            t.map((e, t) =>
              e
                ? i.createElement(U, {
                    key: e.line_item_id,
                    item: e,
                    validation: n[e.packageid || e.bundleid],
                    validatedItem: l[e.line_item_id],
                    availableCoupons: r[e.line_item_id] || [],
                  })
                : i.createElement(H, { key: t }),
            ),
        );
      }
      function Ge(e) {
        const { notices: t } = e;
        return i.createElement(
          "div",
          { className: o().HeaderNotices },
          t.map((e, t) => i.createElement(xe, { key: t }, e)),
        );
      }
      function xe(e) {
        const { children: t } = e;
        return i.createElement("div", { className: o().HeaderNotice }, t);
      }
      function ke(e) {
        const { notices: t } = e;
        return i.createElement(
          "div",
          { className: o().FooterNoticesCtn },
          Array.from(t).map(([e, t]) =>
            i.createElement(Ae, { key: t.index, notice: t }),
          ),
        );
      }
      function Ae(e) {
        const { notice: t } = e;
        return i.createElement(
          "div",
          { className: o().FooterNotice },
          i.createElement(
            "div",
            { className: o().NoticeIndex },
            i.createElement("sup", null, t.index),
          ),
          i.createElement(
            "div",
            { className: o().NoticeText },
            t.footnote_text,
          ),
        );
      }
      function Oe(e) {
        var t;
        const { disabled: n } = e,
          r =
            null === (t = (0, _e.Rs)().data) || void 0 === t
              ? void 0
              : t.family_groupid(),
          u = (0, _e.BU)(r, d.L7.country_code),
          m = (0, a.wN)(),
          [p, _] = i.useState(!1);
        return m
          ? i.createElement(
              "div",
              {
                className: (0, c.Z)(
                  o().RequestPurchaseCtn,
                  o().SummaryMarginBottom,
                ),
              },
              i.createElement(
                l.KM,
                {
                  disabled: n || p,
                  className: (0, c.Z)(o().CartSummaryBtn),
                  onClick: () => {
                    n ||
                      p ||
                      (_(!0),
                      u.mutate(void 0, {
                        onSuccess: () => {
                          window.location.assign((0, _e.ht)(r));
                        },
                      }));
                  },
                },
                (0, s.Xx)("#Cart_RequestPurchase"),
              ),
              i.createElement(
                "div",
                null,
                (0, s.Xx)("#Cart_RequestPurchaseExplanation"),
              ),
            )
          : null;
      }
    },
    46193: (e, t, n) => {
      "use strict";
      n.r(t),
        n.d(t, {
          BaseCartPage: () => re,
          default: () => ne,
          useInitCartLocalization: () => oe,
        });
      var i = n(85556),
        a = n(47427),
        r = n(91585),
        o = n.n(r),
        s = n(7860),
        l = n(31846),
        c = n(65255),
        d = n(46882),
        u = n(5522),
        m = n(58955),
        p = n(25006),
        _ = n(45137),
        g = n(22520),
        f = n(80886),
        v = n(15690),
        h = n(46009),
        E = n(10162),
        C = n(91618),
        I = n(3783),
        y = n(86437),
        S = n(1774),
        b = n(40833),
        L = n(13129),
        N = n(79545),
        D = n(80002),
        T = n(57462),
        w = n(42718),
        G = n(40057),
        x = n(80998);
      function k(e, t = !0) {
        return (function (e, t, n = !0) {
          const a = (0, G.bY)();
          return (0, w.useQuery)(
            ["ItemsToFeature", e],
            () =>
              (0, i.mG)(this, void 0, void 0, function* () {
                const n = N.gA.Init(T.JD);
                (0, x.pA)(n),
                  (0, x.De)(n, t),
                  n.Body().set_include_dailydeals(!0),
                  n.Body().set_include_top_specials_count(8),
                  e.spotlightLocation &&
                    n
                      .Body()
                      .set_include_spotlights(
                        T.xH.fromObject(e.spotlightLocation),
                      ),
                  void 0 !== e.rgAdditionalRecommendationIDs &&
                    (n.Body().set_include_purchase_recommendations(!0),
                    e.rgAdditionalRecommendationIDs.forEach((e) =>
                      n
                        .Body()
                        .add_additional_purchase_item_ids(D.oY.fromObject(e)),
                    ));
                const i = yield T.CK.GetItemsToFeature(a, n);
                if (!i) throw i.GetErrorMessage();
                const r = v.Z.Get();
                return (
                  i
                    .Body()
                    .spotlights()
                    .forEach(
                      (e) =>
                        e.associated_item(!1) &&
                        r.ReadItem(e.associated_item(), t),
                    ),
                  i
                    .Body()
                    .daily_deals()
                    .forEach((e) => e.item(!1) && r.ReadItem(e.item(), t)),
                  i
                    .Body()
                    .specials()
                    .forEach((e) => e.item(!1) && r.ReadItem(e.item(), t)),
                  i
                    .Body()
                    .purchase_recommendations()
                    .forEach((e) => e.item(!1) && r.ReadItem(e.item(), t)),
                  i.Body().toObject()
                );
              }),
            { staleTime: 36e5, enabled: n },
          );
        })(
          {
            spotlightLocation: { location: "cart" },
            rgAdditionalRecommendationIDs: e,
          },
          { include_assets: !0, include_release: !0 },
          t,
        );
      }
      var A = n(37772);
      function O(e, t = []) {
        return t.filter(
          ({ item_id: t, item: n }) =>
            !t ||
            (!e[t.appid] &&
              ((null == n ? void 0 : n.appid)
                ? !e[null == n ? void 0 : n.appid]
                : !(null == n ? void 0 : n.included_appids) ||
                  n.included_appids.every((t) => !e[t]))),
        );
      }
      function P(e) {
        var t, n, i, r;
        const { cart: o, validatedCart: s } = e,
          [c, d] = a.useState(void 0),
          u = ((null == s ? void 0 : s.cart_items) || []).reduce(
            (e, t) => e.concat(t.store_item.included_appids),
            [],
          );
        a.useEffect(() => {
          void 0 === c &&
            o &&
            d(
              null == o
                ? void 0
                : o.line_items.map((e) =>
                    e.packageid
                      ? { packageid: e.packageid }
                      : { bundleid: e.bundleid },
                  ),
            );
        }, [c, o]);
        const m = k(c, void 0 !== c);
        if (m.isError) return null;
        const p = u.reduce((e, t) => ((e[t] = !0), e), {}),
          _ = O(
            p,
            null === (t = m.data) || void 0 === t
              ? void 0
              : t.purchase_recommendations,
          ),
          g = O(p, null === (n = m.data) || void 0 === n ? void 0 : n.specials),
          f = O(
            p,
            null === (i = m.data) || void 0 === i ? void 0 : i.daily_deals,
          ),
          v = O(
            p,
            null === (r = m.data) || void 0 === r ? void 0 : r.spotlights,
          );
        return a.createElement(
          "div",
          { className: A.CartUpsellArea },
          a.createElement(
            "div",
            { className: A.CartUpsellTitle },
            (0, l.Xx)("#Recommendations_Header"),
          ),
          (null == _ ? void 0 : _.length) > 3
            ? a.createElement(R, {
                type: "recommended",
                data: _,
                isLoaded: !m.isLoading,
              })
            : a.createElement(R, {
                type: "specials",
                data: g,
                isLoaded: !m.isLoading,
              }),
          a.createElement(M, { data: f, isLoaded: !m.isLoading }),
          a.createElement(B, { data: v, isLoaded: !m.isLoading }),
        );
      }
      function R(e) {
        const { data: t, isLoaded: n, type: i } = e;
        return !t && n
          ? null
          : a.createElement(
              p.ZP,
              { feature: `upsell-${i}` },
              a.createElement(
                X,
                { className: (0, L.Z)(A.Specials) },
                null == t
                  ? void 0
                  : t
                      .filter(({ item: e }) => {
                        var t;
                        return !!(null === (t = e.assets) || void 0 === t
                          ? void 0
                          : t.header);
                      })
                      .slice(0, 3)
                      .map(({ item_id: e, item: t }) =>
                        a.createElement(F, {
                          key: (0, y.y)(e),
                          item_id: e,
                          item: t,
                        }),
                      ),
              ),
            );
      }
      function F(e) {
        const { item: t } = e;
        return a.createElement(b.B, {
          capsule: { id: t.id, type: (0, y.Ds)(t.item_type, t.type) },
          imageType: "header",
          onlyOneDiscountPct: !0,
        });
      }
      function M(e) {
        const { data: t, isLoaded: n } = e;
        return !t && n
          ? null
          : a.createElement(
              X,
              { className: (0, L.Z)(A.DailyDeals, !n && A.Loading) },
              null == t
                ? void 0
                : t
                    .slice(0, 2)
                    .map((e) =>
                      a.createElement(S.k8, {
                        key: (0, y.y)(e.item_id),
                        dailyDeal: e,
                      }),
                    ),
            );
      }
      function B(e) {
        const { data: t, isLoaded: n } = e,
          i = a.useMemo(
            () =>
              null == t
                ? void 0
                : t
                    .filter((e) => "weeklong_deals" != e.spotlight_template)
                    .slice(0, 2),
            [t],
          );
        return !i && n
          ? null
          : a.createElement(
              X,
              { className: (0, L.Z)(A.Spotlights, !n && A.Loading) },
              i.map((e) =>
                a.createElement(S.Jm, {
                  key: e.item_id ? (0, y.y)(e.item_id) : e.spotlight_title,
                  spotlight: e,
                }),
              ),
            );
      }
      function X(e) {
        const { className: t, children: n } = e;
        return a.createElement(
          C.s,
          {
            "flow-children": "row",
            navEntryPreferPosition: I.c4.MAINTAIN_X,
            className: (0, L.Z)(A.UpsellRow, t),
          },
          n,
        );
      }
      var j = n(89373),
        Z = n(68824),
        V = n(38071),
        U = n(88909);
      function W(e) {
        const { cart: t } = e,
          n = j.C.Get().BIsSaleActive(),
          i = (function (e) {
            var t, n;
            const i = (0, _.AL)();
            if (!e || !i.isSuccess) return null;
            const a = new Set();
            let r = 0;
            for (const i of e.cart_items) {
              (null === (t = i.store_item.release) || void 0 === t
                ? void 0
                : t.is_coming_soon) &&
              (null === (n = i.store_item.best_purchase_option) || void 0 === n
                ? void 0
                : n.packageid)
                ? a.add(i.store_item.name)
                : (r += parseInt(i.subtotal.amount_in_cents));
            }
            const {
                sale_name: o,
                spend_earned_for_next_drop: s,
                spend_needed_for_next_drop: l,
                formatted_spend_per_drop: c,
              } = i.data,
              d = r + s,
              u = Math.floor(d / l),
              m = Math.floor(((d % l) * 100) / l);
            return {
              cEarned: u,
              pctProgress: m,
              strFormattedSpendPerDrop: c,
              rgPrepurchaseApps: Array.from(a),
              strSaleName: o,
            };
          })(t);
        if (!t || !c.L7.logged_in || !n || !i || (0, V.e7)(c.De.EREALM))
          return null;
        const {
            cEarned: r,
            pctProgress: o,
            rgPrepurchaseApps: s,
            strFormattedSpendPerDrop: d,
            strSaleName: u,
          } = i,
          m = r > 0,
          p = a.createElement(
            "div",
            { className: U.Explanation },
            (0, l.Xx)("#Cart_SaleCardDrops_Explanation", u),
          );
        return a.createElement(
          Z.r,
          { className: U.TradingCardContainer },
          m &&
            a.createElement(
              "div",
              { className: U.EarnedMessage },
              (0, l.kb)("#Cart_SaleCardDrops_EarnedMessage", r, u),
            ),
          !m && p,
          a.createElement(
            "div",
            { className: U.ProgressSection },
            a.createElement(
              "div",
              null,
              (0, l.Xx)("#Cart_SaleCardDrops_ProgressLabel"),
            ),
            a.createElement(H, { value: o }),
            a.createElement(
              "div",
              { className: U.Right },
              "(",
              (0, l.Xx)("#Cart_SaleCardDrops_CardCost", d),
              ")",
            ),
          ),
          m && p,
          s.length > 0 &&
            a.createElement(
              "div",
              { className: U.IneligbleList },
              a.createElement(
                "p",
                null,
                (0, l.Xx)("#Cart_SaleCardDrops_PrepurchaseIneligible", u),
              ),
              a.createElement(
                "ul",
                null,
                s.map((e) => a.createElement("li", { key: e }, e)),
              ),
            ),
        );
      }
      function H(e) {
        const { value: t } = e,
          n = Math.min(100, Math.max(0, t));
        return a.createElement(
          "div",
          { className: U.ProgressRail },
          a.createElement("div", {
            className: U.Progress,
            style: { width: `${n}%` },
          }),
        );
      }
      var Y = n(23154),
        Q = n(1485),
        q = n(13043),
        z = n(74606),
        K = n(41130);
      function J(e) {
        const { children: t, name: n = "GamepadWebRoot" } = e,
          i = (0, K.L)();
        return a.createElement(
          q.p,
          { NavigationManager: i, navID: n },
          a.createElement(z.g, null, t),
        );
      }
      var $ = n(82493),
        ee = n(8285),
        te = n(80212);
      function ne(e) {
        const t = oe(),
          n = (function () {
            const e = (0, ee.TH)();
            return (0, a.useMemo)(() => {
              let t = new URLSearchParams(e.search);
              if (t.get("gidreplay"))
                return { type: "replay", gid: t.get("gidreplay") };
              if (c.L7.logged_in) return { type: "account", global: !0 };
              const n = "shoppingCartGID";
              return { type: "anonymous", gid: (0, h.bG)(n), global: !0 };
            }, [e.search]);
          })();
        return (
          (0, f.oA)(),
          t
            ? "replay" == n.type
              ? a.createElement(ae, { cartID: n })
              : a.createElement(ie, Object.assign({ cartID: n }, e))
            : a.createElement(d.V, { position: "center" })
        );
      }
      function ie(e) {
        const { cartID: t, initialStep: n = "initial" } = e,
          [i, r] = a.useState(n),
          o = (function (e) {
            if ("gifts" === e) return (0, l.Xx)("#Cart_GiftOptions");
            return (0, l.Xx)("#Cart_YourShoppingCart");
          })(i);
        return a.createElement(
          re,
          { cartID: t, title: o, step: i, onStepChange: r },
          ({ cart: e, validatedCart: t }) =>
            a.createElement(
              a.Fragment,
              null,
              a.createElement(
                E.SV,
                null,
                a.createElement(le, {
                  isCartEmpty: !e || 0 === e.line_items.length,
                  cart: t,
                }),
              ),
              a.createElement(
                E.SV,
                null,
                a.createElement(P, { cart: e, validatedCart: t }),
              ),
            ),
        );
      }
      function ae(e) {
        const { cartID: t } = e;
        return c.L7.logged_in
          ? a.createElement(
              re,
              {
                cartID: t,
                title: (0, l.Xx)("#Cart_Replay_SavedCart"),
                step: "initial",
                onStepChange: () => {},
              },
              () =>
                a.createElement(
                  Z.r,
                  null,
                  (0, l.Xx)("#Cart_Replay_Instructions", 72),
                ),
            )
          : a.createElement(te.hx, null);
      }
      function re(e) {
        const {
            children: t,
            cartID: n,
            title: r,
            step: d,
            onStepChange: u,
          } = e,
          _ = (0, i._T)(e, [
            "children",
            "cartID",
            "title",
            "step",
            "onStepChange",
          ]),
          g = (function (e) {
            if ("gifts" === e)
              return a.createElement(
                a.Fragment,
                null,
                "> ",
                a.createElement(
                  "a",
                  { href: c.De.STORE_BASE_URL + "cart" },
                  (0, l.Xx)("#Cart_YourShoppingCart"),
                ),
              );
            return null;
          })(d);
        return a.createElement(
          J,
          null,
          a.createElement(
            p.ZP,
            { controller: "cart", method: "display", submethod: d },
            a.createElement(
              m.IF,
              Object.assign({ cartID: n, step: d, setStep: u }, _),
              a.createElement(se, null),
              a.createElement(
                "div",
                { className: o().ShoppingCartPage },
                a.createElement(
                  "div",
                  { className: o().ShoppingCartBreadcrumbs },
                  a.createElement(
                    "a",
                    { href: c.De.STORE_BASE_URL },
                    (0, l.Xx)("#Cart_Bradcrumb_Home"),
                  ),
                  " ",
                  g,
                  " ",
                  a.createElement(
                    "span",
                    { className: o().CurrentBreadcrumb },
                    "> ",
                    r,
                  ),
                ),
                a.createElement(
                  "div",
                  { className: o().ShoppingCartHeader },
                  r,
                ),
                a.createElement(s.y, null, t),
              ),
            ),
          ),
        );
      }
      function oe() {
        const [e, t] = a.useState(!1);
        return (
          a.useEffect(() => {
            e || (0, u.v)().then(() => t(!0));
          }, [e]),
          e
        );
      }
      function se(e) {
        const t = (function () {
          var e;
          const t = a.useRef(""),
            n = (0, _.g1)(),
            i = !t.current;
          let r = g.kI,
            o = -1;
          if (i) {
            const t =
                (null === (e = n.data) || void 0 === e
                  ? void 0
                  : e.line_items) || [],
              i = t.length
                ? t.reduce((e, t) => (e.time_added > t.time_added ? e : t))
                : null;
            (r =
              (null == i ? void 0 : i.bundleid) ||
              (null == i ? void 0 : i.packageid) ||
              g.kI),
              (o = r === (null == i ? void 0 : i.bundleid) ? 2 : 1);
          }
          const s = {
              include_assets: !0,
              included_item_data_request: { include_assets: !0 },
              include_included_items: !0,
            },
            [l] = (0, f.jk)(r, o, s);
          if (l && i) {
            const e = v.Z.Get(),
              n = l.GetIncludedAppIDs();
            for (const i of n) {
              const n = e.GetApp(i);
              if (!n) continue;
              const a = n.GetAssets().GetPageBackgroundURL();
              if (a) {
                t.current = a;
                break;
              }
            }
          }
          return t.current;
        })();
        return a.createElement("div", {
          className: o().BackgroundImage,
          style: t ? { backgroundImage: `url("${t}")` } : null,
        });
      }
      function le(e) {
        const { isCartEmpty: t, cart: n } = e,
          i = (0, _.i2)();
        if (t) return a.createElement(ce, null);
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(ce, null),
          a.createElement(W, { cart: n }),
          a.createElement(
            C.s,
            { "flow-children": "row", className: o().CartFooter },
            a.createElement(
              "div",
              null,
              a.createElement(
                Q.zx,
                {
                  onClick: () => (window.location.href = c.De.STORE_BASE_URL),
                  className: o().Button,
                },
                (0, l.Xx)("#Cart_ContinueShopping"),
              ),
            ),
            a.createElement(
              Y.Qj,
              { onClick: () => i.mutate() },
              (0, l.Xx)("#Cart_RemoveAll"),
            ),
          ),
        );
      }
      function ce() {
        return c.De.IN_MOBILE_WEBVIEW
          ? a.createElement(
              Z.r,
              { className: o().BetaNotice },
              a.createElement(
                "div",
                { className: o().Icon },
                a.createElement(
                  "svg",
                  {
                    width: "31",
                    height: "34",
                    viewBox: "0 0 31 34",
                    fill: "none",
                    xmlns: "http://www.w3.org/2000/svg",
                  },
                  a.createElement("path", {
                    d: "M25.3961 12.8759L22.738 22.5112C22.6109 22.9968 22.3261 23.4263 21.9284 23.7325C21.5307 24.0386 21.0426 24.204 20.5407 24.2027H11.1395C10.6503 24.2032 10.1741 24.0453 9.78207 23.7526C9.39006 23.46 9.10332 23.0483 8.96472 22.5792L5.71017 12.8759H1.51172V9.85547H6.25385C6.7284 9.85636 7.1907 10.0063 7.57548 10.284C7.96026 10.5618 8.24811 10.9533 8.39838 11.4035L8.89676 12.9137L25.3961 12.8759ZM11.3282 27.2232C10.9549 27.2232 10.5899 27.3339 10.2794 27.5413C9.96899 27.7487 9.72703 28.0436 9.58414 28.3885C9.44126 28.7335 9.40388 29.113 9.47672 29.4792C9.54956 29.8454 9.72935 30.1818 9.99336 30.4458C10.2574 30.7098 10.5937 30.8896 10.9599 30.9625C11.3261 31.0353 11.7057 30.9979 12.0507 30.855C12.3956 30.7122 12.6904 30.4702 12.8979 30.1597C13.1053 29.8493 13.216 29.4843 13.216 29.1109C13.216 28.6103 13.0171 28.1301 12.6631 27.7761C12.3091 27.422 11.8289 27.2232 11.3282 27.2232ZM20.3896 27.2232C20.0163 27.2232 19.6513 27.3339 19.3408 27.5413C19.0304 27.7487 18.7884 28.0436 18.6455 28.3885C18.5027 28.7335 18.4653 29.113 18.5381 29.4792C18.611 29.8454 18.7908 30.1818 19.0548 30.4458C19.3188 30.7098 19.6551 30.8896 20.0213 30.9625C20.3875 31.0353 20.7671 30.9979 21.1121 30.855C21.457 30.7122 21.7518 30.4702 21.9593 30.1597C22.1667 29.8493 22.2774 29.4843 22.2774 29.1109C22.2774 28.6103 22.0785 28.1301 21.7245 27.7761C21.3705 27.422 20.8903 27.2232 20.3896 27.2232Z",
                    fill: "white",
                  }),
                  a.createElement("path", {
                    d: "M16.9883 17.8628L18.599 18.3772C18.8242 18.4457 18.9974 18.6172 19.0666 18.8401L19.5862 20.4346L20.1058 18.8401C20.1751 18.6172 20.3483 18.4457 20.5735 18.3772L22.1842 17.8628L20.5735 17.3484C20.3483 17.2799 20.1751 17.1084 20.1058 16.8855L19.5862 15.291L19.0666 16.8855C18.9974 17.1084 18.8242 17.2799 18.599 17.3484L16.9883 17.8628Z",
                    fill: "#1A9FFF",
                  }),
                  a.createElement("path", {
                    d: "M13.5938 14.8777L14.4078 15.1349C14.5117 15.1692 14.5983 15.2549 14.6329 15.3578L14.8927 16.1636L15.1525 15.3578C15.1872 15.2549 15.2738 15.1692 15.3777 15.1349L16.1917 14.8777L15.3777 14.6205C15.2738 14.5862 15.1872 14.5005 15.1525 14.3976L14.8927 13.5918L14.6329 14.3976C14.5983 14.5005 14.5117 14.5862 14.4078 14.6205L13.5938 14.8777Z",
                    fill: "#1A9FFF",
                  }),
                  a.createElement(
                    "g",
                    { opacity: "0.8" },
                    a.createElement("path", {
                      d: "M14.5352 6.07357L17.6444 7.07657C18.0707 7.20194 18.3967 7.55299 18.5471 7.97926L19.5501 11.0885L20.5531 7.97926C20.6785 7.55299 21.0296 7.22702 21.4558 7.07657L24.5651 6.07357L21.4558 5.07057C21.0296 4.9452 20.7036 4.59415 20.5531 4.16788L19.5501 1.05859L18.5471 4.16788C18.4218 4.59415 18.0707 4.92013 17.6444 5.07058L14.5352 6.07357Z",
                      fill: "#1A9FFF",
                    }),
                    a.createElement("path", {
                      d: "M25.1016 2.57178L26.7123 3.08614C26.9375 3.15472 27.1106 3.32617 27.1799 3.54906L27.6995 5.14357L28.2191 3.54906C28.2884 3.32617 28.4616 3.15472 28.6867 3.08614L30.2975 2.57178L28.6867 2.05743C28.4616 1.98885 28.2884 1.81739 28.2191 1.59451L27.6995 -3.613e-07L27.1799 1.59451C27.1106 1.81739 26.9375 1.98885 26.7123 2.05743L25.1016 2.57178Z",
                      fill: "#1A9FFF",
                    }),
                    a.createElement("path", {
                      d: "M28.4023 9.14038L29.2164 9.39756C29.3203 9.43185 29.4069 9.51758 29.4415 9.62045L29.7013 10.4263L29.9611 9.62045C29.9958 9.51758 30.0824 9.43185 30.1863 9.39756L31.0003 9.14038L30.1863 8.88321C30.0824 8.84891 29.9958 8.76319 29.9611 8.66032L29.7013 7.85449L29.4415 8.66032C29.4069 8.76319 29.3203 8.84891 29.2164 8.88321L28.4023 9.14038Z",
                      fill: "#1A9FFF",
                    }),
                    a.createElement("path", {
                      d: "M22.4609 10.4617L23.275 10.7189C23.3789 10.7531 23.4655 10.8389 23.5001 10.9417L23.7599 11.7476L24.0197 10.9417C24.0543 10.8389 24.1409 10.7531 24.2449 10.7189L25.0589 10.4617L24.2449 10.2045C24.1409 10.1702 24.0543 10.0845 24.0197 9.98161L23.7599 9.17578L23.5001 9.98161C23.4655 10.0845 23.3789 10.1702 23.275 10.2045L22.4609 10.4617Z",
                      fill: "#1A9FFF",
                    }),
                    a.createElement("path", {
                      d: "M11.8945 9.14038L12.7086 9.39756C12.8125 9.43185 12.8991 9.51758 12.9337 9.62045L13.1935 10.4263L13.4533 9.62045C13.4879 9.51758 13.5745 9.43185 13.6785 9.39756L14.4925 9.14038L13.6785 8.8832C13.5745 8.84891 13.4879 8.76319 13.4533 8.66032L13.1935 7.85449L12.9337 8.66032C12.8991 8.76319 12.8125 8.84891 12.7086 8.8832L11.8945 9.14038Z",
                      fill: "#1A9FFF",
                    }),
                  ),
                ),
              ),
              a.createElement(
                "div",
                { className: o().Text },
                (0, l.yu)(
                  "#Cart_GenericBetaNotice",
                  a.createElement($.IS, {
                    href: "https://steamcommunity.com/groups/SteamClientBeta/discussions/3/4038104598693698820/",
                  }),
                ),
              ),
            )
          : null;
      }
    },
    58955: (e, t, n) => {
      "use strict";
      n.d(t, { IF: () => c, nD: () => s, pf: () => l });
      var i = n(43981),
        a = n(47427);
      const r = a.createContext({ step: "initial", setStep: () => {} });
      function o() {
        return (0, a.useContext)(r);
      }
      function s() {
        const e = o();
        return [e.step, e.setStep];
      }
      function l() {
        const e = o();
        return [e.cartWideGiftInfo, e.onCartWideGiftInfoChange];
      }
      function c(e) {
        const {
            step: t,
            setStep: n,
            cartID: o,
            cartWideGiftInfo: s,
            onCartWideGiftInfoChange: l,
            children: c,
          } = e,
          d = a.useMemo(
            () => ({
              step: t,
              setStep: n,
              cartWideGiftInfo: s,
              onCartWideGiftInfoChange: l,
            }),
            [t, n, s, l],
          );
        return a.createElement(
          r.Provider,
          { value: d },
          a.createElement(i.lh, { cartID: o }, c),
        );
      }
    },
  },
]);
